function ax(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Bg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xc={exports:{}},eo={},bc={exports:{}},Ae={};var up;function lx(){if(up)return Ae;up=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function S(F,V,ce){this.props=F,this.context=V,this.refs=w,this.updater=ce||x}S.prototype.isReactComponent={},S.prototype.setState=function(F,V){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,V,"setState")},S.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=S.prototype;function R(F,V,ce){this.props=F,this.context=V,this.refs=w,this.updater=ce||x}var M=R.prototype=new C;M.constructor=R,b(M,S.prototype),M.isPureReactComponent=!0;var L=Array.isArray,T=Object.prototype.hasOwnProperty,j={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function A(F,V,ce){var le,ye={},be=null,Fe=null;if(V!=null)for(le in V.ref!==void 0&&(Fe=V.ref),V.key!==void 0&&(be=""+V.key),V)T.call(V,le)&&!E.hasOwnProperty(le)&&(ye[le]=V[le]);var Ne=arguments.length-2;if(Ne===1)ye.children=ce;else if(1<Ne){for(var Ye=Array(Ne),gt=0;gt<Ne;gt++)Ye[gt]=arguments[gt+2];ye.children=Ye}if(F&&F.defaultProps)for(le in Ne=F.defaultProps,Ne)ye[le]===void 0&&(ye[le]=Ne[le]);return{$$typeof:t,type:F,key:be,ref:Fe,props:ye,_owner:j.current}}function H(F,V){return{$$typeof:t,type:F.type,key:V,ref:F.ref,props:F.props,_owner:F._owner}}function G(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function q(F){var V={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ce){return V[ce]})}var Z=/\/+/g;function ae(F,V){return typeof F=="object"&&F!==null&&F.key!=null?q(""+F.key):V.toString(36)}function Q(F,V,ce,le,ye){var be=typeof F;(be==="undefined"||be==="boolean")&&(F=null);var Fe=!1;if(F===null)Fe=!0;else switch(be){case"string":case"number":Fe=!0;break;case"object":switch(F.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=F,ye=ye(Fe),F=le===""?"."+ae(Fe,0):le,L(ye)?(ce="",F!=null&&(ce=F.replace(Z,"$&/")+"/"),Q(ye,V,ce,"",function(gt){return gt})):ye!=null&&(G(ye)&&(ye=H(ye,ce+(!ye.key||Fe&&Fe.key===ye.key?"":(""+ye.key).replace(Z,"$&/")+"/")+F)),V.push(ye)),1;if(Fe=0,le=le===""?".":le+":",L(F))for(var Ne=0;Ne<F.length;Ne++){be=F[Ne];var Ye=le+ae(be,Ne);Fe+=Q(be,V,ce,Ye,ye)}else if(Ye=v(F),typeof Ye=="function")for(F=Ye.call(F),Ne=0;!(be=F.next()).done;)be=be.value,Ye=le+ae(be,Ne++),Fe+=Q(be,V,ce,Ye,ye);else if(be==="object")throw V=String(F),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Fe}function re(F,V,ce){if(F==null)return F;var le=[],ye=0;return Q(F,le,"","",function(be){return V.call(ce,be,ye++)}),le}function ue(F){if(F._status===-1){var V=F._result;V=V(),V.then(function(ce){(F._status===0||F._status===-1)&&(F._status=1,F._result=ce)},function(ce){(F._status===0||F._status===-1)&&(F._status=2,F._result=ce)}),F._status===-1&&(F._status=0,F._result=V)}if(F._status===1)return F._result.default;throw F._result}var de={current:null},X={transition:null},te={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:X,ReactCurrentOwner:j};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:re,forEach:function(F,V,ce){re(F,function(){V.apply(this,arguments)},ce)},count:function(F){var V=0;return re(F,function(){V++}),V},toArray:function(F){return re(F,function(V){return V})||[]},only:function(F){if(!G(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ae.Component=S,Ae.Fragment=n,Ae.Profiler=s,Ae.PureComponent=R,Ae.StrictMode=r,Ae.Suspense=d,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ae.act=K,Ae.cloneElement=function(F,V,ce){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var le=b({},F.props),ye=F.key,be=F.ref,Fe=F._owner;if(V!=null){if(V.ref!==void 0&&(be=V.ref,Fe=j.current),V.key!==void 0&&(ye=""+V.key),F.type&&F.type.defaultProps)var Ne=F.type.defaultProps;for(Ye in V)T.call(V,Ye)&&!E.hasOwnProperty(Ye)&&(le[Ye]=V[Ye]===void 0&&Ne!==void 0?Ne[Ye]:V[Ye])}var Ye=arguments.length-2;if(Ye===1)le.children=ce;else if(1<Ye){Ne=Array(Ye);for(var gt=0;gt<Ye;gt++)Ne[gt]=arguments[gt+2];le.children=Ne}return{$$typeof:t,type:F.type,key:ye,ref:be,props:le,_owner:Fe}},Ae.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Ae.createElement=A,Ae.createFactory=function(F){var V=A.bind(null,F);return V.type=F,V},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(F){return{$$typeof:u,render:F}},Ae.isValidElement=G,Ae.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ue}},Ae.memo=function(F,V){return{$$typeof:f,type:F,compare:V===void 0?null:V}},Ae.startTransition=function(F){var V=X.transition;X.transition={};try{F()}finally{X.transition=V}},Ae.unstable_act=K,Ae.useCallback=function(F,V){return de.current.useCallback(F,V)},Ae.useContext=function(F){return de.current.useContext(F)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(F){return de.current.useDeferredValue(F)},Ae.useEffect=function(F,V){return de.current.useEffect(F,V)},Ae.useId=function(){return de.current.useId()},Ae.useImperativeHandle=function(F,V,ce){return de.current.useImperativeHandle(F,V,ce)},Ae.useInsertionEffect=function(F,V){return de.current.useInsertionEffect(F,V)},Ae.useLayoutEffect=function(F,V){return de.current.useLayoutEffect(F,V)},Ae.useMemo=function(F,V){return de.current.useMemo(F,V)},Ae.useReducer=function(F,V,ce){return de.current.useReducer(F,V,ce)},Ae.useRef=function(F){return de.current.useRef(F)},Ae.useState=function(F){return de.current.useState(F)},Ae.useSyncExternalStore=function(F,V,ce){return de.current.useSyncExternalStore(F,V,ce)},Ae.useTransition=function(){return de.current.useTransition()},Ae.version="18.3.1",Ae}var cp;function fd(){return cp||(cp=1,bc.exports=lx()),bc.exports}var dp;function ux(){if(dp)return eo;dp=1;var t=fd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var p,g={},v=null,x=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:v,ref:x,props:g,_owner:s.current}}return eo.Fragment=n,eo.jsx=l,eo.jsxs=l,eo}var fp;function cx(){return fp||(fp=1,xc.exports=ux()),xc.exports}var k=cx(),N=fd();const Ug=Bg(N),dx=ax({__proto__:null,default:Ug},[N]);var Ha={},wc={exports:{}},Zt={},_c={exports:{}},Sc={};var hp;function fx(){return hp||(hp=1,(function(t){function e(X,te){var K=X.length;X.push(te);e:for(;0<K;){var F=K-1>>>1,V=X[F];if(0<s(V,te))X[F]=te,X[K]=V,K=F;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var te=X[0],K=X.pop();if(K!==te){X[0]=K;e:for(var F=0,V=X.length,ce=V>>>1;F<ce;){var le=2*(F+1)-1,ye=X[le],be=le+1,Fe=X[be];if(0>s(ye,K))be<V&&0>s(Fe,ye)?(X[F]=Fe,X[be]=K,F=be):(X[F]=ye,X[le]=K,F=le);else if(be<V&&0>s(Fe,K))X[F]=Fe,X[be]=K,F=be;else break e}}return te}function s(X,te){var K=X.sortIndex-te.sortIndex;return K!==0?K:X.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,v=3,x=!1,b=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(X){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=X)r(f),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(f)}}function L(X){if(w=!1,M(X),!b)if(n(d)!==null)b=!0,ue(T);else{var te=n(f);te!==null&&de(L,te.startTime-X)}}function T(X,te){b=!1,w&&(w=!1,C(A),A=-1),x=!0;var K=v;try{for(M(te),g=n(d);g!==null&&(!(g.expirationTime>te)||X&&!q());){var F=g.callback;if(typeof F=="function"){g.callback=null,v=g.priorityLevel;var V=F(g.expirationTime<=te);te=t.unstable_now(),typeof V=="function"?g.callback=V:g===n(d)&&r(d),M(te)}else r(d);g=n(d)}if(g!==null)var ce=!0;else{var le=n(f);le!==null&&de(L,le.startTime-te),ce=!1}return ce}finally{g=null,v=K,x=!1}}var j=!1,E=null,A=-1,H=5,G=-1;function q(){return!(t.unstable_now()-G<H)}function Z(){if(E!==null){var X=t.unstable_now();G=X;var te=!0;try{te=E(!0,X)}finally{te?ae():(j=!1,E=null)}}else j=!1}var ae;if(typeof R=="function")ae=function(){R(Z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=Z,ae=function(){re.postMessage(null)}}else ae=function(){S(Z,0)};function ue(X){E=X,j||(j=!0,ae())}function de(X,te){A=S(function(){X(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,ue(T))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var K=v;v=te;try{return X()}finally{v=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,te){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var K=v;v=X;try{return te()}finally{v=K}},t.unstable_scheduleCallback=function(X,te,K){var F=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?F+K:F):K=F,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,X={id:p++,callback:te,priorityLevel:X,startTime:K,expirationTime:V,sortIndex:-1},K>F?(X.sortIndex=K,e(f,X),n(d)===null&&X===n(f)&&(w?(C(A),A=-1):w=!0,de(L,K-F))):(X.sortIndex=V,e(d,X),b||x||(b=!0,ue(T))),X},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(X){var te=v;return function(){var K=v;v=te;try{return X.apply(this,arguments)}finally{v=K}}}})(Sc)),Sc}var pp;function hx(){return pp||(pp=1,_c.exports=fx()),_c.exports}var mp;function px(){if(mp)return Zt;mp=1;var t=fd(),e=hx();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(i){return d.call(g,i)?!0:d.call(p,i)?!1:f.test(i)?g[i]=!0:(p[i]=!0,!1)}function x(i,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,c,h){if(o===null||typeof o>"u"||x(i,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function w(i,o,c,h,m,y,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=_}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];S[o]=new w(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(C,R);S[o]=new w(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(C,R);S[o]=new w(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(C,R);S[o]=new w(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,o,c,h){var m=S.hasOwnProperty(o)?S[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,c,m,h)&&(c=null),h||m===null?v(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):m.mustUseProperty?i[m.propertyName]=c===null?m.type===3?!1:"":c:(o=m.attributeName,h=m.attributeNamespace,c===null?i.removeAttribute(o):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?i.setAttributeNS(h,o,c):i.setAttribute(o,c))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),X=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var K=Object.assign,F;function V(i){if(F===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var ce=!1;function le(i,o){if(!i||ce)return"";ce=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var h=W}Reflect.construct(i,[],o)}else{try{o.call()}catch(W){h=W}i.call(o.prototype)}else{try{throw Error()}catch(W){h=W}i()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),y=h.stack.split(`
`),_=m.length-1,P=y.length-1;1<=_&&0<=P&&m[_]!==y[P];)P--;for(;1<=_&&0<=P;_--,P--)if(m[_]!==y[P]){if(_!==1||P!==1)do if(_--,P--,0>P||m[_]!==y[P]){var O=`
`+m[_].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=_&&0<=P);break}}}finally{ce=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?V(i):""}function ye(i){switch(i.tag){case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return i=le(i.type,!1),i;case 11:return i=le(i.type.render,!1),i;case 1:return i=le(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case j:return"Portal";case H:return"Profiler";case A:return"StrictMode";case ae:return"Suspense";case Q:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case q:return(i.displayName||"Context")+".Consumer";case G:return(i._context.displayName||"Context")+".Provider";case Z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case re:return o=i.displayName||null,o!==null?o:be(i.type)||"Memo";case ue:o=i._payload,i=i._init;try{return be(i(o))}catch{}}return null}function Fe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ne(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ye(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function gt(i){var o=Ye(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(_){h=""+_,y.call(this,_)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Sn(i){i._valueTracker||(i._valueTracker=gt(i))}function $e(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=Ye(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function je(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Tt(i,o){var c=o.checked;return K({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function It(i,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Ne(o.value!=null?o.value:c),i._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function xt(i,o){o=o.checked,o!=null&&M(i,"checked",o,!1)}function Vt(i,o){xt(i,o);var c=Ne(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?yr(i,o.type,c):o.hasOwnProperty("defaultValue")&&yr(i,o.type,Ne(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Bt(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function yr(i,o,c){(o!=="number"||je(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ln=Array.isArray;function kn(i,o,c,h){if(i=i.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=o.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Ne(c),o=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Jr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Gn(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(Ln(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:Ne(c)}}function Pt(i,o){var c=Ne(o.value),h=Ne(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),h!=null&&(i.defaultValue=""+h)}function Y(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Ce(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Te(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Ce(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Pe,He=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,c,h,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Pe=Pe||document.createElement("div"),Pe.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Pe.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ot(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ct=["Webkit","ms","Moz","O"];Object.keys(Yt).forEach(function(i){ct.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Yt[o]=Yt[i]})});function qn(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Yt.hasOwnProperty(i)&&Yt[i]?(""+o).trim():o+"px"}function Ut(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=qn(c,o[c],h);c==="float"&&(c="cssFloat"),h?i.setProperty(c,m):i[c]=m}}var Io=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ni(i,o){if(o){if(Io[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Li(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ys=null;function Ai(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vr=null,Kn=null,An=null;function Bo(i){if(i=Is(i)){if(typeof vr!="function")throw Error(n(280));var o=i.stateNode;o&&(o=ia(o),vr(i.stateNode,i.type,o))}}function vs(i){Kn?An?An.push(i):An=[i]:Kn=i}function Uo(){if(Kn){var i=Kn,o=An;if(An=Kn=null,Bo(i),o)for(i=0;i<o.length;i++)Bo(o[i])}}function xs(i,o){return i(o)}function Zr(){}var xr=!1;function bs(i,o,c){if(xr)return i(o,c);xr=!0;try{return xs(i,o,c)}finally{xr=!1,(Kn!==null||An!==null)&&(Zr(),Uo())}}function ei(i,o){var c=i.stateNode;if(c===null)return null;var h=ia(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var ws=!1;if(u)try{var D={};Object.defineProperty(D,"passive",{get:function(){ws=!0}}),window.addEventListener("test",D,D),window.removeEventListener("test",D,D)}catch{ws=!1}function I(i,o,c,h,m,y,_,P,O){var W=Array.prototype.slice.call(arguments,3);try{o.apply(c,W)}catch(ee){this.onError(ee)}}var $=!1,ne=null,oe=!1,we=null,he={onError:function(i){$=!0,ne=i}};function ve(i,o,c,h,m,y,_,P,O){$=!1,ne=null,I.apply(he,arguments)}function Se(i,o,c,h,m,y,_,P,O){if(ve.apply(this,arguments),$){if($){var W=ne;$=!1,ne=null}else throw Error(n(198));oe||(oe=!0,we=W)}}function xe(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Re(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function ke(i){if(xe(i)!==i)throw Error(n(188))}function Ue(i){var o=i.alternate;if(!o){if(o=xe(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,h=o;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return ke(m),i;if(y===h)return ke(m),o;y=y.sibling}throw Error(n(188))}if(c.return!==h.return)c=m,h=y;else{for(var _=!1,P=m.child;P;){if(P===c){_=!0,c=m,h=y;break}if(P===h){_=!0,h=m,c=y;break}P=P.sibling}if(!_){for(P=y.child;P;){if(P===c){_=!0,c=y,h=m;break}if(P===h){_=!0,h=y,c=m;break}P=P.sibling}if(!_)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function Ie(i){return i=Ue(i),i!==null?yt(i):null}function yt(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=yt(i);if(o!==null)return o;i=i.sibling}return null}var ht=e.unstable_scheduleCallback,kt=e.unstable_cancelCallback,Xe=e.unstable_shouldYield,Xt=e.unstable_requestPaint,qe=e.unstable_now,ti=e.unstable_getCurrentPriorityLevel,fn=e.unstable_ImmediatePriority,rn=e.unstable_UserBlockingPriority,br=e.unstable_NormalPriority,ni=e.unstable_LowPriority,On=e.unstable_IdlePriority,Qn=null,$t=null;function Be(i){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:it,wr=Math.log,Jn=Math.LN2;function it(i){return i>>>=0,i===0?32:31-(wr(i)/Jn|0)|0}var Zn=64,ri=4194304;function ii(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function $o(i,o){var c=i.pendingLanes;if(c===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,_=c&268435455;if(_!==0){var P=_&~m;P!==0?h=ii(P):(y&=_,y!==0&&(h=ii(y)))}else _=c&~m,_!==0?h=ii(_):y!==0&&(h=ii(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)c=31-Je(o),m=1<<c,h|=i[c],o&=~m;return h}function My(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ey(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var _=31-Je(y),P=1<<_,O=m[_];O===-1?((P&c)===0||(P&h)!==0)&&(m[_]=My(P,o)):O<=o&&(i.expiredLanes|=P),y&=~P}}function Bl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Id(){var i=Zn;return Zn<<=1,(Zn&4194240)===0&&(Zn=64),i}function Ul(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function _s(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Je(o),i[o]=c}function Py(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<c;){var m=31-Je(c),y=1<<m;o[m]=0,h[m]=-1,i[m]=-1,c&=~y}}function $l(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-Je(c),m=1<<h;m&o|i[h]&o&&(i[h]|=o),c&=~m}}var Ke=0;function Bd(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ud,Hl,$d,Hd,Wd,Wl=!1,Ho=[],_r=null,Sr=null,kr=null,Ss=new Map,ks=new Map,Cr=[],Ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vd(i,o){switch(i){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Ss.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(o.pointerId)}}function Cs(i,o,c,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Is(o),o!==null&&Hl(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Dy(i,o,c,h,m){switch(o){case"focusin":return _r=Cs(_r,i,o,c,h,m),!0;case"dragenter":return Sr=Cs(Sr,i,o,c,h,m),!0;case"mouseover":return kr=Cs(kr,i,o,c,h,m),!0;case"pointerover":var y=m.pointerId;return Ss.set(y,Cs(Ss.get(y)||null,i,o,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,ks.set(y,Cs(ks.get(y)||null,i,o,c,h,m)),!0}return!1}function Yd(i){var o=si(i.target);if(o!==null){var c=xe(o);if(c!==null){if(o=c.tag,o===13){if(o=Re(c),o!==null){i.blockedOn=o,Wd(i.priority,function(){$d(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wo(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Yl(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);ys=h,c.target.dispatchEvent(h),ys=null}else return o=Is(c),o!==null&&Hl(o),i.blockedOn=c,!1;o.shift()}return!0}function Xd(i,o,c){Wo(i)&&c.delete(o)}function Ty(){Wl=!1,_r!==null&&Wo(_r)&&(_r=null),Sr!==null&&Wo(Sr)&&(Sr=null),kr!==null&&Wo(kr)&&(kr=null),Ss.forEach(Xd),ks.forEach(Xd)}function Ms(i,o){i.blockedOn===o&&(i.blockedOn=null,Wl||(Wl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ty)))}function Es(i){function o(m){return Ms(m,i)}if(0<Ho.length){Ms(Ho[0],i);for(var c=1;c<Ho.length;c++){var h=Ho[c];h.blockedOn===i&&(h.blockedOn=null)}}for(_r!==null&&Ms(_r,i),Sr!==null&&Ms(Sr,i),kr!==null&&Ms(kr,i),Ss.forEach(o),ks.forEach(o),c=0;c<Cr.length;c++)h=Cr[c],h.blockedOn===i&&(h.blockedOn=null);for(;0<Cr.length&&(c=Cr[0],c.blockedOn===null);)Yd(c),c.blockedOn===null&&Cr.shift()}var Oi=L.ReactCurrentBatchConfig,Vo=!0;function Ny(i,o,c,h){var m=Ke,y=Oi.transition;Oi.transition=null;try{Ke=1,Vl(i,o,c,h)}finally{Ke=m,Oi.transition=y}}function Ly(i,o,c,h){var m=Ke,y=Oi.transition;Oi.transition=null;try{Ke=4,Vl(i,o,c,h)}finally{Ke=m,Oi.transition=y}}function Vl(i,o,c,h){if(Vo){var m=Yl(i,o,c,h);if(m===null)uu(i,o,h,Yo,c),Vd(i,h);else if(Dy(m,i,o,c,h))h.stopPropagation();else if(Vd(i,h),o&4&&-1<Ry.indexOf(i)){for(;m!==null;){var y=Is(m);if(y!==null&&Ud(y),y=Yl(i,o,c,h),y===null&&uu(i,o,h,Yo,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else uu(i,o,h,null,c)}}var Yo=null;function Yl(i,o,c,h){if(Yo=null,i=Ai(h),i=si(i),i!==null)if(o=xe(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Re(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Yo=i,null}function Gd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ti()){case fn:return 1;case rn:return 4;case br:case ni:return 16;case On:return 536870912;default:return 16}default:return 16}}var Mr=null,Xl=null,Xo=null;function qd(){if(Xo)return Xo;var i,o=Xl,c=o.length,h,m="value"in Mr?Mr.value:Mr.textContent,y=m.length;for(i=0;i<c&&o[i]===m[i];i++);var _=c-i;for(h=1;h<=_&&o[c-h]===m[y-h];h++);return Xo=m.slice(i,1<h?1-h:void 0)}function Go(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function qo(){return!0}function Kd(){return!1}function sn(i){function o(c,h,m,y,_){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(c=i[P],this[P]=c?c(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qo:Kd,this.isPropagationStopped=Kd,this}return K(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),o}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=sn(Fi),Ps=K({},Fi,{view:0,detail:0}),Ay=sn(Ps),ql,Kl,Rs,Ko=K({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Rs&&(Rs&&i.type==="mousemove"?(ql=i.screenX-Rs.screenX,Kl=i.screenY-Rs.screenY):Kl=ql=0,Rs=i),ql)},movementY:function(i){return"movementY"in i?i.movementY:Kl}}),Qd=sn(Ko),Oy=K({},Ko,{dataTransfer:0}),Fy=sn(Oy),zy=K({},Ps,{relatedTarget:0}),Ql=sn(zy),jy=K({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iy=sn(jy),By=K({},Fi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Uy=sn(By),$y=K({},Fi,{data:0}),Jd=sn($y),Hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yy(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Vy[i])?!!o[i]:!1}function Jl(){return Yy}var Xy=K({},Ps,{key:function(i){if(i.key){var o=Hy[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Go(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Wy[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(i){return i.type==="keypress"?Go(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Go(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Gy=sn(Xy),qy=K({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=sn(qy),Ky=K({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),Qy=sn(Ky),Jy=K({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zy=sn(Jy),ev=K({},Ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=sn(ev),nv=[9,13,27,32],Zl=u&&"CompositionEvent"in window,Ds=null;u&&"documentMode"in document&&(Ds=document.documentMode);var rv=u&&"TextEvent"in window&&!Ds,ef=u&&(!Zl||Ds&&8<Ds&&11>=Ds),tf=" ",nf=!1;function rf(i,o){switch(i){case"keyup":return nv.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zi=!1;function iv(i,o){switch(i){case"compositionend":return sf(o);case"keypress":return o.which!==32?null:(nf=!0,tf);case"textInput":return i=o.data,i===tf&&nf?null:i;default:return null}}function sv(i,o){if(zi)return i==="compositionend"||!Zl&&rf(i,o)?(i=qd(),Xo=Xl=Mr=null,zi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ef&&o.locale!=="ko"?null:o.data;default:return null}}var ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!ov[i.type]:o==="textarea"}function af(i,o,c,h){vs(h),o=ta(o,"onChange"),0<o.length&&(c=new Gl("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var Ts=null,Ns=null;function av(i){Cf(i,0)}function Qo(i){var o=$i(i);if($e(o))return i}function lv(i,o){if(i==="change")return o}var lf=!1;if(u){var eu;if(u){var tu="oninput"in document;if(!tu){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),tu=typeof uf.oninput=="function"}eu=tu}else eu=!1;lf=eu&&(!document.documentMode||9<document.documentMode)}function cf(){Ts&&(Ts.detachEvent("onpropertychange",df),Ns=Ts=null)}function df(i){if(i.propertyName==="value"&&Qo(Ns)){var o=[];af(o,Ns,i,Ai(i)),bs(av,o)}}function uv(i,o,c){i==="focusin"?(cf(),Ts=o,Ns=c,Ts.attachEvent("onpropertychange",df)):i==="focusout"&&cf()}function cv(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qo(Ns)}function dv(i,o){if(i==="click")return Qo(o)}function fv(i,o){if(i==="input"||i==="change")return Qo(o)}function hv(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Cn=typeof Object.is=="function"?Object.is:hv;function Ls(i,o){if(Cn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!d.call(o,m)||!Cn(i[m],o[m]))return!1}return!0}function ff(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hf(i,o){var c=ff(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ff(c)}}function pf(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?pf(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function mf(){for(var i=window,o=je();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=je(i.document)}return o}function nu(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function pv(i){var o=mf(),c=i.focusedElem,h=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&pf(c.ownerDocument.documentElement,c)){if(h!==null&&nu(c)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=c.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=hf(c,y);var _=hf(c,h);m&&_&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var mv=u&&"documentMode"in document&&11>=document.documentMode,ji=null,ru=null,As=null,iu=!1;function gf(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;iu||ji==null||ji!==je(h)||(h=ji,"selectionStart"in h&&nu(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),As&&Ls(As,h)||(As=h,h=ta(ru,"onSelect"),0<h.length&&(o=new Gl("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=ji)))}function Jo(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Ii={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},su={},yf={};u&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Zo(i){if(su[i])return su[i];if(!Ii[i])return i;var o=Ii[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in yf)return su[i]=o[c];return i}var vf=Zo("animationend"),xf=Zo("animationiteration"),bf=Zo("animationstart"),wf=Zo("transitionend"),_f=new Map,Sf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(i,o){_f.set(i,o),a(o,[i])}for(var ou=0;ou<Sf.length;ou++){var au=Sf[ou],gv=au.toLowerCase(),yv=au[0].toUpperCase()+au.slice(1);Er(gv,"on"+yv)}Er(vf,"onAnimationEnd"),Er(xf,"onAnimationIteration"),Er(bf,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(wf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function kf(i,o,c){var h=i.type||"unknown-event";i.currentTarget=c,Se(h,o,void 0,i),i.currentTarget=null}function Cf(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var _=h.length-1;0<=_;_--){var P=h[_],O=P.instance,W=P.currentTarget;if(P=P.listener,O!==y&&m.isPropagationStopped())break e;kf(m,P,W),y=O}else for(_=0;_<h.length;_++){if(P=h[_],O=P.instance,W=P.currentTarget,P=P.listener,O!==y&&m.isPropagationStopped())break e;kf(m,P,W),y=O}}}if(oe)throw i=we,oe=!1,we=null,i}function tt(i,o){var c=o[mu];c===void 0&&(c=o[mu]=new Set);var h=i+"__bubble";c.has(h)||(Mf(o,i,2,!1),c.add(h))}function lu(i,o,c){var h=0;o&&(h|=4),Mf(c,i,h,o)}var ea="_reactListening"+Math.random().toString(36).slice(2);function Fs(i){if(!i[ea]){i[ea]=!0,r.forEach(function(c){c!=="selectionchange"&&(vv.has(c)||lu(c,!1,i),lu(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ea]||(o[ea]=!0,lu("selectionchange",!1,o))}}function Mf(i,o,c,h){switch(Gd(o)){case 1:var m=Ny;break;case 4:m=Ly;break;default:m=Vl}c=m.bind(null,o,c,i),m=void 0,!ws||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,c,{capture:!0,passive:m}):i.addEventListener(o,c,!0):m!==void 0?i.addEventListener(o,c,{passive:m}):i.addEventListener(o,c,!1)}function uu(i,o,c,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var P=h.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(_===4)for(_=h.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;_=_.return}for(;P!==null;){if(_=si(P),_===null)return;if(O=_.tag,O===5||O===6){h=y=_;continue e}P=P.parentNode}}h=h.return}bs(function(){var W=y,ee=Ai(c),ie=[];e:{var J=_f.get(i);if(J!==void 0){var fe=Gl,me=i;switch(i){case"keypress":if(Go(c)===0)break e;case"keydown":case"keyup":fe=Gy;break;case"focusin":me="focus",fe=Ql;break;case"focusout":me="blur",fe=Ql;break;case"beforeblur":case"afterblur":fe=Ql;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Qy;break;case vf:case xf:case bf:fe=Iy;break;case wf:fe=Zy;break;case"scroll":fe=Ay;break;case"wheel":fe=tv;break;case"copy":case"cut":case"paste":fe=Uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Zd}var ge=(o&4)!==0,pt=!ge&&i==="scroll",B=ge?J!==null?J+"Capture":null:J;ge=[];for(var z=W,U;z!==null;){U=z;var se=U.stateNode;if(U.tag===5&&se!==null&&(U=se,B!==null&&(se=ei(z,B),se!=null&&ge.push(zs(z,se,U)))),pt)break;z=z.return}0<ge.length&&(J=new fe(J,me,null,c,ee),ie.push({event:J,listeners:ge}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",J&&c!==ys&&(me=c.relatedTarget||c.fromElement)&&(si(me)||me[er]))break e;if((fe||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,fe?(me=c.relatedTarget||c.toElement,fe=W,me=me?si(me):null,me!==null&&(pt=xe(me),me!==pt||me.tag!==5&&me.tag!==6)&&(me=null)):(fe=null,me=W),fe!==me)){if(ge=Qd,se="onMouseLeave",B="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ge=Zd,se="onPointerLeave",B="onPointerEnter",z="pointer"),pt=fe==null?J:$i(fe),U=me==null?J:$i(me),J=new ge(se,z+"leave",fe,c,ee),J.target=pt,J.relatedTarget=U,se=null,si(ee)===W&&(ge=new ge(B,z+"enter",me,c,ee),ge.target=U,ge.relatedTarget=pt,se=ge),pt=se,fe&&me)t:{for(ge=fe,B=me,z=0,U=ge;U;U=Bi(U))z++;for(U=0,se=B;se;se=Bi(se))U++;for(;0<z-U;)ge=Bi(ge),z--;for(;0<U-z;)B=Bi(B),U--;for(;z--;){if(ge===B||B!==null&&ge===B.alternate)break t;ge=Bi(ge),B=Bi(B)}ge=null}else ge=null;fe!==null&&Ef(ie,J,fe,ge,!1),me!==null&&pt!==null&&Ef(ie,pt,me,ge,!0)}}e:{if(J=W?$i(W):window,fe=J.nodeName&&J.nodeName.toLowerCase(),fe==="select"||fe==="input"&&J.type==="file")var _e=lv;else if(of(J))if(lf)_e=fv;else{_e=cv;var Me=uv}else(fe=J.nodeName)&&fe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(_e=dv);if(_e&&(_e=_e(i,W))){af(ie,_e,c,ee);break e}Me&&Me(i,J,W),i==="focusout"&&(Me=J._wrapperState)&&Me.controlled&&J.type==="number"&&yr(J,"number",J.value)}switch(Me=W?$i(W):window,i){case"focusin":(of(Me)||Me.contentEditable==="true")&&(ji=Me,ru=W,As=null);break;case"focusout":As=ru=ji=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,gf(ie,c,ee);break;case"selectionchange":if(mv)break;case"keydown":case"keyup":gf(ie,c,ee)}var Ee;if(Zl)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else zi?rf(i,c)&&(De="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(ef&&c.locale!=="ko"&&(zi||De!=="onCompositionStart"?De==="onCompositionEnd"&&zi&&(Ee=qd()):(Mr=ee,Xl="value"in Mr?Mr.value:Mr.textContent,zi=!0)),Me=ta(W,De),0<Me.length&&(De=new Jd(De,i,null,c,ee),ie.push({event:De,listeners:Me}),Ee?De.data=Ee:(Ee=sf(c),Ee!==null&&(De.data=Ee)))),(Ee=rv?iv(i,c):sv(i,c))&&(W=ta(W,"onBeforeInput"),0<W.length&&(ee=new Jd("onBeforeInput","beforeinput",null,c,ee),ie.push({event:ee,listeners:W}),ee.data=Ee))}Cf(ie,o)})}function zs(i,o,c){return{instance:i,listener:o,currentTarget:c}}function ta(i,o){for(var c=o+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ei(i,c),y!=null&&h.unshift(zs(i,y,m)),y=ei(i,o),y!=null&&h.push(zs(i,y,m))),i=i.return}return h}function Bi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ef(i,o,c,h,m){for(var y=o._reactName,_=[];c!==null&&c!==h;){var P=c,O=P.alternate,W=P.stateNode;if(O!==null&&O===h)break;P.tag===5&&W!==null&&(P=W,m?(O=ei(c,y),O!=null&&_.unshift(zs(c,O,P))):m||(O=ei(c,y),O!=null&&_.push(zs(c,O,P)))),c=c.return}_.length!==0&&i.push({event:o,listeners:_})}var xv=/\r\n?/g,bv=/\u0000|\uFFFD/g;function Pf(i){return(typeof i=="string"?i:""+i).replace(xv,`
`).replace(bv,"")}function na(i,o,c){if(o=Pf(o),Pf(i)!==o&&c)throw Error(n(425))}function ra(){}var cu=null,du=null;function fu(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,wv=typeof clearTimeout=="function"?clearTimeout:void 0,Rf=typeof Promise=="function"?Promise:void 0,_v=typeof queueMicrotask=="function"?queueMicrotask:typeof Rf<"u"?function(i){return Rf.resolve(null).then(i).catch(Sv)}:hu;function Sv(i){setTimeout(function(){throw i})}function pu(i,o){var c=o,h=0;do{var m=c.nextSibling;if(i.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){i.removeChild(m),Es(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Es(o)}function Pr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Df(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Ui,js="__reactProps$"+Ui,er="__reactContainer$"+Ui,mu="__reactEvents$"+Ui,kv="__reactListeners$"+Ui,Cv="__reactHandles$"+Ui;function si(i){var o=i[Fn];if(o)return o;for(var c=i.parentNode;c;){if(o=c[er]||c[Fn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Df(i);i!==null;){if(c=i[Fn])return c;i=Df(i)}return o}i=c,c=i.parentNode}return null}function Is(i){return i=i[Fn]||i[er],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function $i(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function ia(i){return i[js]||null}var gu=[],Hi=-1;function Rr(i){return{current:i}}function nt(i){0>Hi||(i.current=gu[Hi],gu[Hi]=null,Hi--)}function et(i,o){Hi++,gu[Hi]=i.current,i.current=o}var Dr={},Nt=Rr(Dr),Gt=Rr(!1),oi=Dr;function Wi(i,o){var c=i.type.contextTypes;if(!c)return Dr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function qt(i){return i=i.childContextTypes,i!=null}function sa(){nt(Gt),nt(Nt)}function Tf(i,o,c){if(Nt.current!==Dr)throw Error(n(168));et(Nt,o),et(Gt,c)}function Nf(i,o,c){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(n(108,Fe(i)||"Unknown",m));return K({},c,h)}function oa(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Dr,oi=Nt.current,et(Nt,i),et(Gt,Gt.current),!0}function Lf(i,o,c){var h=i.stateNode;if(!h)throw Error(n(169));c?(i=Nf(i,o,oi),h.__reactInternalMemoizedMergedChildContext=i,nt(Gt),nt(Nt),et(Nt,i)):nt(Gt),et(Gt,c)}var tr=null,aa=!1,yu=!1;function Af(i){tr===null?tr=[i]:tr.push(i)}function Mv(i){aa=!0,Af(i)}function Tr(){if(!yu&&tr!==null){yu=!0;var i=0,o=Ke;try{var c=tr;for(Ke=1;i<c.length;i++){var h=c[i];do h=h(!0);while(h!==null)}tr=null,aa=!1}catch(m){throw tr!==null&&(tr=tr.slice(i+1)),ht(fn,Tr),m}finally{Ke=o,yu=!1}}return null}var Vi=[],Yi=0,la=null,ua=0,hn=[],pn=0,ai=null,nr=1,rr="";function li(i,o){Vi[Yi++]=ua,Vi[Yi++]=la,la=i,ua=o}function Of(i,o,c){hn[pn++]=nr,hn[pn++]=rr,hn[pn++]=ai,ai=i;var h=nr;i=rr;var m=32-Je(h)-1;h&=~(1<<m),c+=1;var y=32-Je(o)+m;if(30<y){var _=m-m%5;y=(h&(1<<_)-1).toString(32),h>>=_,m-=_,nr=1<<32-Je(o)+m|c<<m|h,rr=y+i}else nr=1<<y|c<<m|h,rr=i}function vu(i){i.return!==null&&(li(i,1),Of(i,1,0))}function xu(i){for(;i===la;)la=Vi[--Yi],Vi[Yi]=null,ua=Vi[--Yi],Vi[Yi]=null;for(;i===ai;)ai=hn[--pn],hn[pn]=null,rr=hn[--pn],hn[pn]=null,nr=hn[--pn],hn[pn]=null}var on=null,an=null,st=!1,Mn=null;function Ff(i,o){var c=vn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function zf(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,on=i,an=Pr(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,on=i,an=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=ai!==null?{id:nr,overflow:rr}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=vn(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,on=i,an=null,!0):!1;default:return!1}}function bu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function wu(i){if(st){var o=an;if(o){var c=o;if(!zf(i,o)){if(bu(i))throw Error(n(418));o=Pr(c.nextSibling);var h=on;o&&zf(i,o)?Ff(h,c):(i.flags=i.flags&-4097|2,st=!1,on=i)}}else{if(bu(i))throw Error(n(418));i.flags=i.flags&-4097|2,st=!1,on=i}}}function jf(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;on=i}function ca(i){if(i!==on)return!1;if(!st)return jf(i),st=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!fu(i.type,i.memoizedProps)),o&&(o=an)){if(bu(i))throw If(),Error(n(418));for(;o;)Ff(i,o),o=Pr(o.nextSibling)}if(jf(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){an=Pr(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}an=null}}else an=on?Pr(i.stateNode.nextSibling):null;return!0}function If(){for(var i=an;i;)i=Pr(i.nextSibling)}function Xi(){an=on=null,st=!1}function _u(i){Mn===null?Mn=[i]:Mn.push(i)}var Ev=L.ReactCurrentBatchConfig;function Bs(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,i));var m=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(_){var P=m.refs;_===null?delete P[y]:P[y]=_},o._stringRef=y,o)}if(typeof i!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,i))}return i}function da(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Bf(i){var o=i._init;return o(i._payload)}function Uf(i){function o(B,z){if(i){var U=B.deletions;U===null?(B.deletions=[z],B.flags|=16):U.push(z)}}function c(B,z){if(!i)return null;for(;z!==null;)o(B,z),z=z.sibling;return null}function h(B,z){for(B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function m(B,z){return B=Ir(B,z),B.index=0,B.sibling=null,B}function y(B,z,U){return B.index=U,i?(U=B.alternate,U!==null?(U=U.index,U<z?(B.flags|=2,z):U):(B.flags|=2,z)):(B.flags|=1048576,z)}function _(B){return i&&B.alternate===null&&(B.flags|=2),B}function P(B,z,U,se){return z===null||z.tag!==6?(z=hc(U,B.mode,se),z.return=B,z):(z=m(z,U),z.return=B,z)}function O(B,z,U,se){var _e=U.type;return _e===E?ee(B,z,U.props.children,se,U.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ue&&Bf(_e)===z.type)?(se=m(z,U.props),se.ref=Bs(B,z,U),se.return=B,se):(se=Oa(U.type,U.key,U.props,null,B.mode,se),se.ref=Bs(B,z,U),se.return=B,se)}function W(B,z,U,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==U.containerInfo||z.stateNode.implementation!==U.implementation?(z=pc(U,B.mode,se),z.return=B,z):(z=m(z,U.children||[]),z.return=B,z)}function ee(B,z,U,se,_e){return z===null||z.tag!==7?(z=gi(U,B.mode,se,_e),z.return=B,z):(z=m(z,U),z.return=B,z)}function ie(B,z,U){if(typeof z=="string"&&z!==""||typeof z=="number")return z=hc(""+z,B.mode,U),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return U=Oa(z.type,z.key,z.props,null,B.mode,U),U.ref=Bs(B,null,z),U.return=B,U;case j:return z=pc(z,B.mode,U),z.return=B,z;case ue:var se=z._init;return ie(B,se(z._payload),U)}if(Ln(z)||te(z))return z=gi(z,B.mode,U,null),z.return=B,z;da(B,z)}return null}function J(B,z,U,se){var _e=z!==null?z.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return _e!==null?null:P(B,z,""+U,se);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return U.key===_e?O(B,z,U,se):null;case j:return U.key===_e?W(B,z,U,se):null;case ue:return _e=U._init,J(B,z,_e(U._payload),se)}if(Ln(U)||te(U))return _e!==null?null:ee(B,z,U,se,null);da(B,U)}return null}function fe(B,z,U,se,_e){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(U)||null,P(z,B,""+se,_e);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case T:return B=B.get(se.key===null?U:se.key)||null,O(z,B,se,_e);case j:return B=B.get(se.key===null?U:se.key)||null,W(z,B,se,_e);case ue:var Me=se._init;return fe(B,z,U,Me(se._payload),_e)}if(Ln(se)||te(se))return B=B.get(U)||null,ee(z,B,se,_e,null);da(z,se)}return null}function me(B,z,U,se){for(var _e=null,Me=null,Ee=z,De=z=0,Et=null;Ee!==null&&De<U.length;De++){Ee.index>De?(Et=Ee,Ee=null):Et=Ee.sibling;var Ve=J(B,Ee,U[De],se);if(Ve===null){Ee===null&&(Ee=Et);break}i&&Ee&&Ve.alternate===null&&o(B,Ee),z=y(Ve,z,De),Me===null?_e=Ve:Me.sibling=Ve,Me=Ve,Ee=Et}if(De===U.length)return c(B,Ee),st&&li(B,De),_e;if(Ee===null){for(;De<U.length;De++)Ee=ie(B,U[De],se),Ee!==null&&(z=y(Ee,z,De),Me===null?_e=Ee:Me.sibling=Ee,Me=Ee);return st&&li(B,De),_e}for(Ee=h(B,Ee);De<U.length;De++)Et=fe(Ee,B,De,U[De],se),Et!==null&&(i&&Et.alternate!==null&&Ee.delete(Et.key===null?De:Et.key),z=y(Et,z,De),Me===null?_e=Et:Me.sibling=Et,Me=Et);return i&&Ee.forEach(function(Br){return o(B,Br)}),st&&li(B,De),_e}function ge(B,z,U,se){var _e=te(U);if(typeof _e!="function")throw Error(n(150));if(U=_e.call(U),U==null)throw Error(n(151));for(var Me=_e=null,Ee=z,De=z=0,Et=null,Ve=U.next();Ee!==null&&!Ve.done;De++,Ve=U.next()){Ee.index>De?(Et=Ee,Ee=null):Et=Ee.sibling;var Br=J(B,Ee,Ve.value,se);if(Br===null){Ee===null&&(Ee=Et);break}i&&Ee&&Br.alternate===null&&o(B,Ee),z=y(Br,z,De),Me===null?_e=Br:Me.sibling=Br,Me=Br,Ee=Et}if(Ve.done)return c(B,Ee),st&&li(B,De),_e;if(Ee===null){for(;!Ve.done;De++,Ve=U.next())Ve=ie(B,Ve.value,se),Ve!==null&&(z=y(Ve,z,De),Me===null?_e=Ve:Me.sibling=Ve,Me=Ve);return st&&li(B,De),_e}for(Ee=h(B,Ee);!Ve.done;De++,Ve=U.next())Ve=fe(Ee,B,De,Ve.value,se),Ve!==null&&(i&&Ve.alternate!==null&&Ee.delete(Ve.key===null?De:Ve.key),z=y(Ve,z,De),Me===null?_e=Ve:Me.sibling=Ve,Me=Ve);return i&&Ee.forEach(function(ox){return o(B,ox)}),st&&li(B,De),_e}function pt(B,z,U,se){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case T:e:{for(var _e=U.key,Me=z;Me!==null;){if(Me.key===_e){if(_e=U.type,_e===E){if(Me.tag===7){c(B,Me.sibling),z=m(Me,U.props.children),z.return=B,B=z;break e}}else if(Me.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ue&&Bf(_e)===Me.type){c(B,Me.sibling),z=m(Me,U.props),z.ref=Bs(B,Me,U),z.return=B,B=z;break e}c(B,Me);break}else o(B,Me);Me=Me.sibling}U.type===E?(z=gi(U.props.children,B.mode,se,U.key),z.return=B,B=z):(se=Oa(U.type,U.key,U.props,null,B.mode,se),se.ref=Bs(B,z,U),se.return=B,B=se)}return _(B);case j:e:{for(Me=U.key;z!==null;){if(z.key===Me)if(z.tag===4&&z.stateNode.containerInfo===U.containerInfo&&z.stateNode.implementation===U.implementation){c(B,z.sibling),z=m(z,U.children||[]),z.return=B,B=z;break e}else{c(B,z);break}else o(B,z);z=z.sibling}z=pc(U,B.mode,se),z.return=B,B=z}return _(B);case ue:return Me=U._init,pt(B,z,Me(U._payload),se)}if(Ln(U))return me(B,z,U,se);if(te(U))return ge(B,z,U,se);da(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,z!==null&&z.tag===6?(c(B,z.sibling),z=m(z,U),z.return=B,B=z):(c(B,z),z=hc(U,B.mode,se),z.return=B,B=z),_(B)):c(B,z)}return pt}var Gi=Uf(!0),$f=Uf(!1),fa=Rr(null),ha=null,qi=null,Su=null;function ku(){Su=qi=ha=null}function Cu(i){var o=fa.current;nt(fa),i._currentValue=o}function Mu(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function Ki(i,o){ha=i,Su=qi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Kt=!0),i.firstContext=null)}function mn(i){var o=i._currentValue;if(Su!==i)if(i={context:i,memoizedValue:o,next:null},qi===null){if(ha===null)throw Error(n(308));qi=i,ha.dependencies={lanes:0,firstContext:i}}else qi=qi.next=i;return o}var ui=null;function Eu(i){ui===null?ui=[i]:ui.push(i)}function Hf(i,o,c,h){var m=o.interleaved;return m===null?(c.next=c,Eu(o)):(c.next=m.next,m.next=c),o.interleaved=c,ir(i,h)}function ir(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Nr=!1;function Pu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wf(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function sr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Lr(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(We&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,ir(i,c)}return m=h.interleaved,m===null?(o.next=o,Eu(h)):(o.next=m.next,m.next=o),h.interleaved=o,ir(i,c)}function pa(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,$l(i,c)}}function Vf(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var _={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=_:y=y.next=_,c=c.next}while(c!==null);y===null?m=y=o:y=y.next=o}else m=y=o;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function ma(i,o,c,h){var m=i.updateQueue;Nr=!1;var y=m.firstBaseUpdate,_=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var O=P,W=O.next;O.next=null,_===null?y=W:_.next=W,_=O;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==_&&(P===null?ee.firstBaseUpdate=W:P.next=W,ee.lastBaseUpdate=O))}if(y!==null){var ie=m.baseState;_=0,ee=W=O=null,P=y;do{var J=P.lane,fe=P.eventTime;if((h&J)===J){ee!==null&&(ee=ee.next={eventTime:fe,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var me=i,ge=P;switch(J=o,fe=c,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){ie=me.call(fe,ie,J);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,J=typeof me=="function"?me.call(fe,ie,J):me,J==null)break e;ie=K({},ie,J);break e;case 2:Nr=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,J=m.effects,J===null?m.effects=[P]:J.push(P))}else fe={eventTime:fe,lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?(W=ee=fe,O=ie):ee=ee.next=fe,_|=J;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;J=P,P=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);if(ee===null&&(O=ie),m.baseState=O,m.firstBaseUpdate=W,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do _|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);fi|=_,i.lanes=_,i.memoizedState=ie}}function Yf(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Us={},zn=Rr(Us),$s=Rr(Us),Hs=Rr(Us);function ci(i){if(i===Us)throw Error(n(174));return i}function Ru(i,o){switch(et(Hs,o),et($s,i),et(zn,Us),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Te(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Te(o,i)}nt(zn),et(zn,o)}function Qi(){nt(zn),nt($s),nt(Hs)}function Xf(i){ci(Hs.current);var o=ci(zn.current),c=Te(o,i.type);o!==c&&(et($s,i),et(zn,c))}function Du(i){$s.current===i&&(nt(zn),nt($s))}var at=Rr(0);function ga(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Tu=[];function Nu(){for(var i=0;i<Tu.length;i++)Tu[i]._workInProgressVersionPrimary=null;Tu.length=0}var ya=L.ReactCurrentDispatcher,Lu=L.ReactCurrentBatchConfig,di=0,lt=null,bt=null,Ct=null,va=!1,Ws=!1,Vs=0,Pv=0;function Lt(){throw Error(n(321))}function Au(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Cn(i[c],o[c]))return!1;return!0}function Ou(i,o,c,h,m,y){if(di=y,lt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ya.current=i===null||i.memoizedState===null?Nv:Lv,i=c(h,m),Ws){y=0;do{if(Ws=!1,Vs=0,25<=y)throw Error(n(301));y+=1,Ct=bt=null,o.updateQueue=null,ya.current=Av,i=c(h,m)}while(Ws)}if(ya.current=wa,o=bt!==null&&bt.next!==null,di=0,Ct=bt=lt=null,va=!1,o)throw Error(n(300));return i}function Fu(){var i=Vs!==0;return Vs=0,i}function jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?lt.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function gn(){if(bt===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var o=Ct===null?lt.memoizedState:Ct.next;if(o!==null)Ct=o,bt=i;else{if(i===null)throw Error(n(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Ct===null?lt.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Ys(i,o){return typeof o=="function"?o(i):o}function zu(i){var o=gn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=bt,m=h.baseQueue,y=c.pending;if(y!==null){if(m!==null){var _=m.next;m.next=y.next,y.next=_}h.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,h=h.baseState;var P=_=null,O=null,W=y;do{var ee=W.lane;if((di&ee)===ee)O!==null&&(O=O.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:i(h,W.action);else{var ie={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};O===null?(P=O=ie,_=h):O=O.next=ie,lt.lanes|=ee,fi|=ee}W=W.next}while(W!==null&&W!==y);O===null?_=h:O.next=P,Cn(h,o.memoizedState)||(Kt=!0),o.memoizedState=h,o.baseState=_,o.baseQueue=O,c.lastRenderedState=h}if(i=c.interleaved,i!==null){m=i;do y=m.lane,lt.lanes|=y,fi|=y,m=m.next;while(m!==i)}else m===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function ju(i){var o=gn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,m=c.pending,y=o.memoizedState;if(m!==null){c.pending=null;var _=m=m.next;do y=i(y,_.action),_=_.next;while(_!==m);Cn(y,o.memoizedState)||(Kt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,h]}function Gf(){}function qf(i,o){var c=lt,h=gn(),m=o(),y=!Cn(h.memoizedState,m);if(y&&(h.memoizedState=m,Kt=!0),h=h.queue,Iu(Jf.bind(null,c,h,i),[i]),h.getSnapshot!==o||y||Ct!==null&&Ct.memoizedState.tag&1){if(c.flags|=2048,Xs(9,Qf.bind(null,c,h,m,o),void 0,null),Mt===null)throw Error(n(349));(di&30)!==0||Kf(c,o,m)}return m}function Kf(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Qf(i,o,c,h){o.value=c,o.getSnapshot=h,Zf(o)&&eh(i)}function Jf(i,o,c){return c(function(){Zf(o)&&eh(i)})}function Zf(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Cn(i,c)}catch{return!0}}function eh(i){var o=ir(i,1);o!==null&&Dn(o,i,1,-1)}function th(i){var o=jn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:i},o.queue=i,i=i.dispatch=Tv.bind(null,lt,i),[o.memoizedState,i]}function Xs(i,o,c,h){return i={tag:i,create:o,destroy:c,deps:h,next:null},o=lt.updateQueue,o===null?(o={lastEffect:null,stores:null},lt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i)),i}function nh(){return gn().memoizedState}function xa(i,o,c,h){var m=jn();lt.flags|=i,m.memoizedState=Xs(1|o,c,void 0,h===void 0?null:h)}function ba(i,o,c,h){var m=gn();h=h===void 0?null:h;var y=void 0;if(bt!==null){var _=bt.memoizedState;if(y=_.destroy,h!==null&&Au(h,_.deps)){m.memoizedState=Xs(o,c,y,h);return}}lt.flags|=i,m.memoizedState=Xs(1|o,c,y,h)}function rh(i,o){return xa(8390656,8,i,o)}function Iu(i,o){return ba(2048,8,i,o)}function ih(i,o){return ba(4,2,i,o)}function sh(i,o){return ba(4,4,i,o)}function oh(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ah(i,o,c){return c=c!=null?c.concat([i]):null,ba(4,4,oh.bind(null,o,i),c)}function Bu(){}function lh(i,o){var c=gn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Au(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function uh(i,o){var c=gn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Au(o,h[1])?h[0]:(i=i(),c.memoizedState=[i,o],i)}function ch(i,o,c){return(di&21)===0?(i.baseState&&(i.baseState=!1,Kt=!0),i.memoizedState=c):(Cn(c,o)||(c=Id(),lt.lanes|=c,fi|=c,i.baseState=!0),o)}function Rv(i,o){var c=Ke;Ke=c!==0&&4>c?c:4,i(!0);var h=Lu.transition;Lu.transition={};try{i(!1),o()}finally{Ke=c,Lu.transition=h}}function dh(){return gn().memoizedState}function Dv(i,o,c){var h=zr(i);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},fh(i))hh(o,c);else if(c=Hf(i,o,c,h),c!==null){var m=Wt();Dn(c,i,h,m),ph(c,o,h)}}function Tv(i,o,c){var h=zr(i),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(fh(i))hh(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var _=o.lastRenderedState,P=y(_,c);if(m.hasEagerState=!0,m.eagerState=P,Cn(P,_)){var O=o.interleaved;O===null?(m.next=m,Eu(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}c=Hf(i,o,m,h),c!==null&&(m=Wt(),Dn(c,i,h,m),ph(c,o,h))}}function fh(i){var o=i.alternate;return i===lt||o!==null&&o===lt}function hh(i,o){Ws=va=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function ph(i,o,c){if((c&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,$l(i,c)}}var wa={readContext:mn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},Nv={readContext:mn,useCallback:function(i,o){return jn().memoizedState=[i,o===void 0?null:o],i},useContext:mn,useEffect:rh,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,xa(4194308,4,oh.bind(null,o,i),c)},useLayoutEffect:function(i,o){return xa(4194308,4,i,o)},useInsertionEffect:function(i,o){return xa(4,2,i,o)},useMemo:function(i,o){var c=jn();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var h=jn();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=Dv.bind(null,lt,i),[h.memoizedState,i]},useRef:function(i){var o=jn();return i={current:i},o.memoizedState=i},useState:th,useDebugValue:Bu,useDeferredValue:function(i){return jn().memoizedState=i},useTransition:function(){var i=th(!1),o=i[0];return i=Rv.bind(null,i[1]),jn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var h=lt,m=jn();if(st){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Mt===null)throw Error(n(349));(di&30)!==0||Kf(h,o,c)}m.memoizedState=c;var y={value:c,getSnapshot:o};return m.queue=y,rh(Jf.bind(null,h,y,i),[i]),h.flags|=2048,Xs(9,Qf.bind(null,h,y,c,o),void 0,null),c},useId:function(){var i=jn(),o=Mt.identifierPrefix;if(st){var c=rr,h=nr;c=(h&~(1<<32-Je(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Vs++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=Pv++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Lv={readContext:mn,useCallback:lh,useContext:mn,useEffect:Iu,useImperativeHandle:ah,useInsertionEffect:ih,useLayoutEffect:sh,useMemo:uh,useReducer:zu,useRef:nh,useState:function(){return zu(Ys)},useDebugValue:Bu,useDeferredValue:function(i){var o=gn();return ch(o,bt.memoizedState,i)},useTransition:function(){var i=zu(Ys)[0],o=gn().memoizedState;return[i,o]},useMutableSource:Gf,useSyncExternalStore:qf,useId:dh,unstable_isNewReconciler:!1},Av={readContext:mn,useCallback:lh,useContext:mn,useEffect:Iu,useImperativeHandle:ah,useInsertionEffect:ih,useLayoutEffect:sh,useMemo:uh,useReducer:ju,useRef:nh,useState:function(){return ju(Ys)},useDebugValue:Bu,useDeferredValue:function(i){var o=gn();return bt===null?o.memoizedState=i:ch(o,bt.memoizedState,i)},useTransition:function(){var i=ju(Ys)[0],o=gn().memoizedState;return[i,o]},useMutableSource:Gf,useSyncExternalStore:qf,useId:dh,unstable_isNewReconciler:!1};function En(i,o){if(i&&i.defaultProps){o=K({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function Uu(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:K({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var _a={isMounted:function(i){return(i=i._reactInternals)?xe(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var h=Wt(),m=zr(i),y=sr(h,m);y.payload=o,c!=null&&(y.callback=c),o=Lr(i,y,m),o!==null&&(Dn(o,i,m,h),pa(o,i,m))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=Wt(),m=zr(i),y=sr(h,m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Lr(i,y,m),o!==null&&(Dn(o,i,m,h),pa(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=Wt(),h=zr(i),m=sr(c,h);m.tag=2,o!=null&&(m.callback=o),o=Lr(i,m,h),o!==null&&(Dn(o,i,h,c),pa(o,i,h))}};function mh(i,o,c,h,m,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,_):o.prototype&&o.prototype.isPureReactComponent?!Ls(c,h)||!Ls(m,y):!0}function gh(i,o,c){var h=!1,m=Dr,y=o.contextType;return typeof y=="object"&&y!==null?y=mn(y):(m=qt(o)?oi:Nt.current,h=o.contextTypes,y=(h=h!=null)?Wi(i,m):Dr),o=new o(c,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_a,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function yh(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&_a.enqueueReplaceState(o,o.state,null)}function $u(i,o,c,h){var m=i.stateNode;m.props=c,m.state=i.memoizedState,m.refs={},Pu(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=mn(y):(y=qt(o)?oi:Nt.current,m.context=Wi(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Uu(i,o,y,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&_a.enqueueReplaceState(m,m.state,null),ma(i,c,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Ji(i,o){try{var c="",h=o;do c+=ye(h),h=h.return;while(h);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function Hu(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function Wu(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var Ov=typeof WeakMap=="function"?WeakMap:Map;function vh(i,o,c){c=sr(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Ra||(Ra=!0,sc=h),Wu(i,o)},c}function xh(i,o,c){c=sr(-1,c),c.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;c.payload=function(){return h(m)},c.callback=function(){Wu(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Wu(i,o),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),c}function bh(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new Ov;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(c)||(m.add(c),i=qv.bind(null,i,o,c),o.then(i,i))}function wh(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function _h(i,o,c,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=sr(-1,1),o.tag=2,Lr(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var Fv=L.ReactCurrentOwner,Kt=!1;function Ht(i,o,c,h){o.child=i===null?$f(o,null,c,h):Gi(o,i.child,c,h)}function Sh(i,o,c,h,m){c=c.render;var y=o.ref;return Ki(o,m),h=Ou(i,o,c,h,y,m),c=Fu(),i!==null&&!Kt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,or(i,o,m)):(st&&c&&vu(o),o.flags|=1,Ht(i,o,h,m),o.child)}function kh(i,o,c,h,m){if(i===null){var y=c.type;return typeof y=="function"&&!fc(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=y,Ch(i,o,y,h,m)):(i=Oa(c.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var _=y.memoizedProps;if(c=c.compare,c=c!==null?c:Ls,c(_,h)&&i.ref===o.ref)return or(i,o,m)}return o.flags|=1,i=Ir(y,h),i.ref=o.ref,i.return=o,o.child=i}function Ch(i,o,c,h,m){if(i!==null){var y=i.memoizedProps;if(Ls(y,h)&&i.ref===o.ref)if(Kt=!1,o.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Kt=!0);else return o.lanes=i.lanes,or(i,o,m)}return Vu(i,o,c,h,m)}function Mh(i,o,c){var h=o.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(es,ln),ln|=c;else{if((c&1073741824)===0)return i=y!==null?y.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,et(es,ln),ln|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:c,et(es,ln),ln|=h}else y!==null?(h=y.baseLanes|c,o.memoizedState=null):h=c,et(es,ln),ln|=h;return Ht(i,o,m,c),o.child}function Eh(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Vu(i,o,c,h,m){var y=qt(c)?oi:Nt.current;return y=Wi(o,y),Ki(o,m),c=Ou(i,o,c,h,y,m),h=Fu(),i!==null&&!Kt?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,or(i,o,m)):(st&&h&&vu(o),o.flags|=1,Ht(i,o,c,m),o.child)}function Ph(i,o,c,h,m){if(qt(c)){var y=!0;oa(o)}else y=!1;if(Ki(o,m),o.stateNode===null)ka(i,o),gh(o,c,h),$u(o,c,h,m),h=!0;else if(i===null){var _=o.stateNode,P=o.memoizedProps;_.props=P;var O=_.context,W=c.contextType;typeof W=="object"&&W!==null?W=mn(W):(W=qt(c)?oi:Nt.current,W=Wi(o,W));var ee=c.getDerivedStateFromProps,ie=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function";ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==h||O!==W)&&yh(o,_,h,W),Nr=!1;var J=o.memoizedState;_.state=J,ma(o,h,_,m),O=o.memoizedState,P!==h||J!==O||Gt.current||Nr?(typeof ee=="function"&&(Uu(o,c,ee,h),O=o.memoizedState),(P=Nr||mh(o,c,P,h,J,O,W))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),_.props=h,_.state=O,_.context=W,h=P):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,Wf(i,o),P=o.memoizedProps,W=o.type===o.elementType?P:En(o.type,P),_.props=W,ie=o.pendingProps,J=_.context,O=c.contextType,typeof O=="object"&&O!==null?O=mn(O):(O=qt(c)?oi:Nt.current,O=Wi(o,O));var fe=c.getDerivedStateFromProps;(ee=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==ie||J!==O)&&yh(o,_,h,O),Nr=!1,J=o.memoizedState,_.state=J,ma(o,h,_,m);var me=o.memoizedState;P!==ie||J!==me||Gt.current||Nr?(typeof fe=="function"&&(Uu(o,c,fe,h),me=o.memoizedState),(W=Nr||mh(o,c,W,h,J,me,O)||!1)?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,me,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,me,O)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=me),_.props=h,_.state=me,_.context=O,h=W):(typeof _.componentDidUpdate!="function"||P===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),h=!1)}return Yu(i,o,c,h,y,m)}function Yu(i,o,c,h,m,y){Eh(i,o);var _=(o.flags&128)!==0;if(!h&&!_)return m&&Lf(o,c,!1),or(i,o,y);h=o.stateNode,Fv.current=o;var P=_&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&_?(o.child=Gi(o,i.child,null,y),o.child=Gi(o,null,P,y)):Ht(i,o,P,y),o.memoizedState=h.state,m&&Lf(o,c,!0),o.child}function Rh(i){var o=i.stateNode;o.pendingContext?Tf(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Tf(i,o.context,!1),Ru(i,o.containerInfo)}function Dh(i,o,c,h,m){return Xi(),_u(m),o.flags|=256,Ht(i,o,c,h),o.child}var Xu={dehydrated:null,treeContext:null,retryLane:0};function Gu(i){return{baseLanes:i,cachePool:null,transitions:null}}function Th(i,o,c){var h=o.pendingProps,m=at.current,y=!1,_=(o.flags&128)!==0,P;if((P=_)||(P=i!==null&&i.memoizedState===null?!1:(m&2)!==0),P?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),et(at,m&1),i===null)return wu(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=h.children,i=h.fallback,y?(h=o.mode,y=o.child,_={mode:"hidden",children:_},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=_):y=Fa(_,h,0,null),i=gi(i,h,c,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Gu(c),o.memoizedState=Xu,i):qu(o,_));if(m=i.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return zv(i,o,_,h,P,m,c);if(y){y=h.fallback,_=o.mode,m=i.child,P=m.sibling;var O={mode:"hidden",children:h.children};return(_&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=Ir(m,O),h.subtreeFlags=m.subtreeFlags&14680064),P!==null?y=Ir(P,y):(y=gi(y,_,c,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,_=i.child.memoizedState,_=_===null?Gu(c):{baseLanes:_.baseLanes|c,cachePool:null,transitions:_.transitions},y.memoizedState=_,y.childLanes=i.childLanes&~c,o.memoizedState=Xu,h}return y=i.child,i=y.sibling,h=Ir(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=h,o.memoizedState=null,h}function qu(i,o){return o=Fa({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Sa(i,o,c,h){return h!==null&&_u(h),Gi(o,i.child,null,c),i=qu(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function zv(i,o,c,h,m,y,_){if(c)return o.flags&256?(o.flags&=-257,h=Hu(Error(n(422))),Sa(i,o,_,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=Fa({mode:"visible",children:h.children},m,0,null),y=gi(y,m,_,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&Gi(o,i.child,null,_),o.child.memoizedState=Gu(_),o.memoizedState=Xu,y);if((o.mode&1)===0)return Sa(i,o,_,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(n(419)),h=Hu(y,h,void 0),Sa(i,o,_,h)}if(P=(_&i.childLanes)!==0,Kt||P){if(h=Mt,h!==null){switch(_&-_){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|_))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,ir(i,m),Dn(h,i,m,-1))}return dc(),h=Hu(Error(n(421))),Sa(i,o,_,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=Kv.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,an=Pr(m.nextSibling),on=o,st=!0,Mn=null,i!==null&&(hn[pn++]=nr,hn[pn++]=rr,hn[pn++]=ai,nr=i.id,rr=i.overflow,ai=o),o=qu(o,h.children),o.flags|=4096,o)}function Nh(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Mu(i.return,o,c)}function Ku(i,o,c,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function Lh(i,o,c){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Ht(i,o,h.children,c),h=at.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Nh(i,c,o);else if(i.tag===19)Nh(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(et(at,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(c=o.child,m=null;c!==null;)i=c.alternate,i!==null&&ga(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),Ku(o,!1,m,c,y);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&ga(i)===null){o.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}Ku(o,!0,c,null,y);break;case"together":Ku(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ka(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function or(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),fi|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Ir(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Ir(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function jv(i,o,c){switch(o.tag){case 3:Rh(o),Xi();break;case 5:Xf(o);break;case 1:qt(o.type)&&oa(o);break;case 4:Ru(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;et(fa,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(et(at,at.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Th(i,o,c):(et(at,at.current&1),i=or(i,o,c),i!==null?i.sibling:null);et(at,at.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Lh(i,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(at,at.current),h)break;return null;case 22:case 23:return o.lanes=0,Mh(i,o,c)}return or(i,o,c)}var Ah,Qu,Oh,Fh;Ah=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Qu=function(){},Oh=function(i,o,c,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,ci(zn.current);var y=null;switch(c){case"input":m=Tt(i,m),h=Tt(i,h),y=[];break;case"select":m=K({},m,{value:void 0}),h=K({},h,{value:void 0}),y=[];break;case"textarea":m=Jr(i,m),h=Jr(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=ra)}Ni(c,h);var _;c=null;for(W in m)if(!h.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var P=m[W];for(_ in P)P.hasOwnProperty(_)&&(c||(c={}),c[_]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in h){var O=h[W];if(P=m?.[W],h.hasOwnProperty(W)&&O!==P&&(O!=null||P!=null))if(W==="style")if(P){for(_ in P)!P.hasOwnProperty(_)||O&&O.hasOwnProperty(_)||(c||(c={}),c[_]="");for(_ in O)O.hasOwnProperty(_)&&P[_]!==O[_]&&(c||(c={}),c[_]=O[_])}else c||(y||(y=[]),y.push(W,c)),c=O;else W==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,P=P?P.__html:void 0,O!=null&&P!==O&&(y=y||[]).push(W,O)):W==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(W,""+O):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(s.hasOwnProperty(W)?(O!=null&&W==="onScroll"&&tt("scroll",i),y||P===O||(y=[])):(y=y||[]).push(W,O))}c&&(y=y||[]).push("style",c);var W=y;(o.updateQueue=W)&&(o.flags|=4)}},Fh=function(i,o,c,h){c!==h&&(o.flags|=4)};function Gs(i,o){if(!st)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function At(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function Iv(i,o,c){var h=o.pendingProps;switch(xu(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(o),null;case 1:return qt(o.type)&&sa(),At(o),null;case 3:return h=o.stateNode,Qi(),nt(Gt),nt(Nt),Nu(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(ca(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Mn!==null&&(lc(Mn),Mn=null))),Qu(i,o),At(o),null;case 5:Du(o);var m=ci(Hs.current);if(c=o.type,i!==null&&o.stateNode!=null)Oh(i,o,c,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return At(o),null}if(i=ci(zn.current),ca(o)){h=o.stateNode,c=o.type;var y=o.memoizedProps;switch(h[Fn]=o,h[js]=y,i=(o.mode&1)!==0,c){case"dialog":tt("cancel",h),tt("close",h);break;case"iframe":case"object":case"embed":tt("load",h);break;case"video":case"audio":for(m=0;m<Os.length;m++)tt(Os[m],h);break;case"source":tt("error",h);break;case"img":case"image":case"link":tt("error",h),tt("load",h);break;case"details":tt("toggle",h);break;case"input":It(h,y),tt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},tt("invalid",h);break;case"textarea":Gn(h,y),tt("invalid",h)}Ni(c,y),m=null;for(var _ in y)if(y.hasOwnProperty(_)){var P=y[_];_==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&na(h.textContent,P,i),m=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&na(h.textContent,P,i),m=["children",""+P]):s.hasOwnProperty(_)&&P!=null&&_==="onScroll"&&tt("scroll",h)}switch(c){case"input":Sn(h),Bt(h,y,!0);break;case"textarea":Sn(h),Y(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ra)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{_=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ce(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=_.createElement(c,{is:h.is}):(i=_.createElement(c),c==="select"&&(_=i,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):i=_.createElementNS(i,c),i[Fn]=o,i[js]=h,Ah(i,o,!1,!1),o.stateNode=i;e:{switch(_=Li(c,h),c){case"dialog":tt("cancel",i),tt("close",i),m=h;break;case"iframe":case"object":case"embed":tt("load",i),m=h;break;case"video":case"audio":for(m=0;m<Os.length;m++)tt(Os[m],i);m=h;break;case"source":tt("error",i),m=h;break;case"img":case"image":case"link":tt("error",i),tt("load",i),m=h;break;case"details":tt("toggle",i),m=h;break;case"input":It(i,h),m=Tt(i,h),tt("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=K({},h,{value:void 0}),tt("invalid",i);break;case"textarea":Gn(i,h),m=Jr(i,h),tt("invalid",i);break;default:m=h}Ni(c,m),P=m;for(y in P)if(P.hasOwnProperty(y)){var O=P[y];y==="style"?Ut(i,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&He(i,O)):y==="children"?typeof O=="string"?(c!=="textarea"||O!=="")&&ot(i,O):typeof O=="number"&&ot(i,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?O!=null&&y==="onScroll"&&tt("scroll",i):O!=null&&M(i,y,O,_))}switch(c){case"input":Sn(i),Bt(i,h,!1);break;case"textarea":Sn(i),Y(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ne(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?kn(i,!!h.multiple,y,!1):h.defaultValue!=null&&kn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ra)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return At(o),null;case 6:if(i&&o.stateNode!=null)Fh(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(c=ci(Hs.current),ci(zn.current),ca(o)){if(h=o.stateNode,c=o.memoizedProps,h[Fn]=o,(y=h.nodeValue!==c)&&(i=on,i!==null))switch(i.tag){case 3:na(h.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&na(h.nodeValue,c,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Fn]=o,o.stateNode=h}return At(o),null;case 13:if(nt(at),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&an!==null&&(o.mode&1)!==0&&(o.flags&128)===0)If(),Xi(),o.flags|=98560,y=!1;else if(y=ca(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Fn]=o}else Xi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;At(o),y=!1}else Mn!==null&&(lc(Mn),Mn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(at.current&1)!==0?wt===0&&(wt=3):dc())),o.updateQueue!==null&&(o.flags|=4),At(o),null);case 4:return Qi(),Qu(i,o),i===null&&Fs(o.stateNode.containerInfo),At(o),null;case 10:return Cu(o.type._context),At(o),null;case 17:return qt(o.type)&&sa(),At(o),null;case 19:if(nt(at),y=o.memoizedState,y===null)return At(o),null;if(h=(o.flags&128)!==0,_=y.rendering,_===null)if(h)Gs(y,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=ga(i),_!==null){for(o.flags|=128,Gs(y,!1),h=_.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)y=c,i=h,y.flags&=14680066,_=y.alternate,_===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=_.childLanes,y.lanes=_.lanes,y.child=_.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=_.memoizedProps,y.memoizedState=_.memoizedState,y.updateQueue=_.updateQueue,y.type=_.type,i=_.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return et(at,at.current&1|2),o.child}i=i.sibling}y.tail!==null&&qe()>ts&&(o.flags|=128,h=!0,Gs(y,!1),o.lanes=4194304)}else{if(!h)if(i=ga(_),i!==null){if(o.flags|=128,h=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Gs(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!st)return At(o),null}else 2*qe()-y.renderingStartTime>ts&&c!==1073741824&&(o.flags|=128,h=!0,Gs(y,!1),o.lanes=4194304);y.isBackwards?(_.sibling=o.child,o.child=_):(c=y.last,c!==null?c.sibling=_:o.child=_,y.last=_)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=qe(),o.sibling=null,c=at.current,et(at,h?c&1|2:c&1),o):(At(o),null);case 22:case 23:return cc(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(ln&1073741824)!==0&&(At(o),o.subtreeFlags&6&&(o.flags|=8192)):At(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Bv(i,o){switch(xu(o),o.tag){case 1:return qt(o.type)&&sa(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Qi(),nt(Gt),nt(Nt),Nu(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Du(o),null;case 13:if(nt(at),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Xi()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return nt(at),null;case 4:return Qi(),null;case 10:return Cu(o.type._context),null;case 22:case 23:return cc(),null;case 24:return null;default:return null}}var Ca=!1,Ot=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Zi(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){dt(i,o,h)}else c.current=null}function Ju(i,o,c){try{c()}catch(h){dt(i,o,h)}}var zh=!1;function $v(i,o){if(cu=Vo,i=mf(),nu(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var _=0,P=-1,O=-1,W=0,ee=0,ie=i,J=null;t:for(;;){for(var fe;ie!==c||m!==0&&ie.nodeType!==3||(P=_+m),ie!==y||h!==0&&ie.nodeType!==3||(O=_+h),ie.nodeType===3&&(_+=ie.nodeValue.length),(fe=ie.firstChild)!==null;)J=ie,ie=fe;for(;;){if(ie===i)break t;if(J===c&&++W===m&&(P=_),J===y&&++ee===h&&(O=_),(fe=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=fe}c=P===-1||O===-1?null:{start:P,end:O}}else c=null}c=c||{start:0,end:0}}else c=null;for(du={focusedElem:i,selectionRange:c},Vo=!1,pe=o;pe!==null;)if(o=pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pe=i;else for(;pe!==null;){o=pe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,pt=me.memoizedState,B=o.stateNode,z=B.getSnapshotBeforeUpdate(o.elementType===o.type?ge:En(o.type,ge),pt);B.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var U=o.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){dt(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,pe=i;break}pe=o.return}return me=zh,zh=!1,me}function qs(i,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&Ju(o,c,y)}m=m.next}while(m!==h)}}function Ma(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function Zu(i){var o=i.ref;if(o!==null){var c=i.stateNode;i.tag,i=c,typeof o=="function"?o(i):o.current=i}}function jh(i){var o=i.alternate;o!==null&&(i.alternate=null,jh(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Fn],delete o[js],delete o[mu],delete o[kv],delete o[Cv])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Ih(i){return i.tag===5||i.tag===3||i.tag===4}function Bh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ih(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ec(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ra));else if(h!==4&&(i=i.child,i!==null))for(ec(i,o,c),i=i.sibling;i!==null;)ec(i,o,c),i=i.sibling}function tc(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(tc(i,o,c),i=i.sibling;i!==null;)tc(i,o,c),i=i.sibling}var Rt=null,Pn=!1;function Ar(i,o,c){for(c=c.child;c!==null;)Uh(i,o,c),c=c.sibling}function Uh(i,o,c){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Qn,c)}catch{}switch(c.tag){case 5:Ot||Zi(c,o);case 6:var h=Rt,m=Pn;Rt=null,Ar(i,o,c),Rt=h,Pn=m,Rt!==null&&(Pn?(i=Rt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Rt.removeChild(c.stateNode));break;case 18:Rt!==null&&(Pn?(i=Rt,c=c.stateNode,i.nodeType===8?pu(i.parentNode,c):i.nodeType===1&&pu(i,c),Es(i)):pu(Rt,c.stateNode));break;case 4:h=Rt,m=Pn,Rt=c.stateNode.containerInfo,Pn=!0,Ar(i,o,c),Rt=h,Pn=m;break;case 0:case 11:case 14:case 15:if(!Ot&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,_=y.destroy;y=y.tag,_!==void 0&&((y&2)!==0||(y&4)!==0)&&Ju(c,o,_),m=m.next}while(m!==h)}Ar(i,o,c);break;case 1:if(!Ot&&(Zi(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(P){dt(c,o,P)}Ar(i,o,c);break;case 21:Ar(i,o,c);break;case 22:c.mode&1?(Ot=(h=Ot)||c.memoizedState!==null,Ar(i,o,c),Ot=h):Ar(i,o,c);break;default:Ar(i,o,c)}}function $h(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new Uv),o.forEach(function(h){var m=Qv.bind(null,i,h);c.has(h)||(c.add(h),h.then(m,m))})}}function Rn(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var y=i,_=o,P=_;e:for(;P!==null;){switch(P.tag){case 5:Rt=P.stateNode,Pn=!1;break e;case 3:Rt=P.stateNode.containerInfo,Pn=!0;break e;case 4:Rt=P.stateNode.containerInfo,Pn=!0;break e}P=P.return}if(Rt===null)throw Error(n(160));Uh(y,_,m),Rt=null,Pn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(W){dt(m,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Hh(o,i),o=o.sibling}function Hh(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Rn(o,i),In(i),h&4){try{qs(3,i,i.return),Ma(3,i)}catch(ge){dt(i,i.return,ge)}try{qs(5,i,i.return)}catch(ge){dt(i,i.return,ge)}}break;case 1:Rn(o,i),In(i),h&512&&c!==null&&Zi(c,c.return);break;case 5:if(Rn(o,i),In(i),h&512&&c!==null&&Zi(c,c.return),i.flags&32){var m=i.stateNode;try{ot(m,"")}catch(ge){dt(i,i.return,ge)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,_=c!==null?c.memoizedProps:y,P=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&xt(m,y),Li(P,_);var W=Li(P,y);for(_=0;_<O.length;_+=2){var ee=O[_],ie=O[_+1];ee==="style"?Ut(m,ie):ee==="dangerouslySetInnerHTML"?He(m,ie):ee==="children"?ot(m,ie):M(m,ee,ie,W)}switch(P){case"input":Vt(m,y);break;case"textarea":Pt(m,y);break;case"select":var J=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var fe=y.value;fe!=null?kn(m,!!y.multiple,fe,!1):J!==!!y.multiple&&(y.defaultValue!=null?kn(m,!!y.multiple,y.defaultValue,!0):kn(m,!!y.multiple,y.multiple?[]:"",!1))}m[js]=y}catch(ge){dt(i,i.return,ge)}}break;case 6:if(Rn(o,i),In(i),h&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(ge){dt(i,i.return,ge)}}break;case 3:if(Rn(o,i),In(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Es(o.containerInfo)}catch(ge){dt(i,i.return,ge)}break;case 4:Rn(o,i),In(i);break;case 13:Rn(o,i),In(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(ic=qe())),h&4&&$h(i);break;case 22:if(ee=c!==null&&c.memoizedState!==null,i.mode&1?(Ot=(W=Ot)||ee,Rn(o,i),Ot=W):Rn(o,i),In(i),h&8192){if(W=i.memoizedState!==null,(i.stateNode.isHidden=W)&&!ee&&(i.mode&1)!==0)for(pe=i,ee=i.child;ee!==null;){for(ie=pe=ee;pe!==null;){switch(J=pe,fe=J.child,J.tag){case 0:case 11:case 14:case 15:qs(4,J,J.return);break;case 1:Zi(J,J.return);var me=J.stateNode;if(typeof me.componentWillUnmount=="function"){h=J,c=J.return;try{o=h,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ge){dt(h,c,ge)}}break;case 5:Zi(J,J.return);break;case 22:if(J.memoizedState!==null){Yh(ie);continue}}fe!==null?(fe.return=J,pe=fe):Yh(ie)}ee=ee.sibling}e:for(ee=null,ie=i;;){if(ie.tag===5){if(ee===null){ee=ie;try{m=ie.stateNode,W?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=ie.stateNode,O=ie.memoizedProps.style,_=O!=null&&O.hasOwnProperty("display")?O.display:null,P.style.display=qn("display",_))}catch(ge){dt(i,i.return,ge)}}}else if(ie.tag===6){if(ee===null)try{ie.stateNode.nodeValue=W?"":ie.memoizedProps}catch(ge){dt(i,i.return,ge)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;ee===ie&&(ee=null),ie=ie.return}ee===ie&&(ee=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Rn(o,i),In(i),h&4&&$h(i);break;case 21:break;default:Rn(o,i),In(i)}}function In(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(Ih(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(ot(m,""),h.flags&=-33);var y=Bh(i);tc(i,y,m);break;case 3:case 4:var _=h.stateNode.containerInfo,P=Bh(i);ec(i,P,_);break;default:throw Error(n(161))}}catch(O){dt(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Hv(i,o,c){pe=i,Wh(i)}function Wh(i,o,c){for(var h=(i.mode&1)!==0;pe!==null;){var m=pe,y=m.child;if(m.tag===22&&h){var _=m.memoizedState!==null||Ca;if(!_){var P=m.alternate,O=P!==null&&P.memoizedState!==null||Ot;P=Ca;var W=Ot;if(Ca=_,(Ot=O)&&!W)for(pe=m;pe!==null;)_=pe,O=_.child,_.tag===22&&_.memoizedState!==null?Xh(m):O!==null?(O.return=_,pe=O):Xh(m);for(;y!==null;)pe=y,Wh(y),y=y.sibling;pe=m,Ca=P,Ot=W}Vh(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,pe=y):Vh(i)}}function Vh(i){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ot||Ma(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Ot)if(c===null)h.componentDidMount();else{var m=o.elementType===o.type?c.memoizedProps:En(o.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Yf(o,y,h);break;case 3:var _=o.updateQueue;if(_!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Yf(o,_,c)}break;case 5:var P=o.stateNode;if(c===null&&o.flags&4){c=P;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&c.focus();break;case"img":O.src&&(c.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var ie=ee.dehydrated;ie!==null&&Es(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||o.flags&512&&Zu(o)}catch(J){dt(o,o.return,J)}}if(o===i){pe=null;break}if(c=o.sibling,c!==null){c.return=o.return,pe=c;break}pe=o.return}}function Yh(i){for(;pe!==null;){var o=pe;if(o===i){pe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,pe=c;break}pe=o.return}}function Xh(i){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Ma(4,o)}catch(O){dt(o,c,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(O){dt(o,m,O)}}var y=o.return;try{Zu(o)}catch(O){dt(o,y,O)}break;case 5:var _=o.return;try{Zu(o)}catch(O){dt(o,_,O)}}}catch(O){dt(o,o.return,O)}if(o===i){pe=null;break}var P=o.sibling;if(P!==null){P.return=o.return,pe=P;break}pe=o.return}}var Wv=Math.ceil,Ea=L.ReactCurrentDispatcher,nc=L.ReactCurrentOwner,yn=L.ReactCurrentBatchConfig,We=0,Mt=null,vt=null,Dt=0,ln=0,es=Rr(0),wt=0,Ks=null,fi=0,Pa=0,rc=0,Qs=null,Qt=null,ic=0,ts=1/0,ar=null,Ra=!1,sc=null,Or=null,Da=!1,Fr=null,Ta=0,Js=0,oc=null,Na=-1,La=0;function Wt(){return(We&6)!==0?qe():Na!==-1?Na:Na=qe()}function zr(i){return(i.mode&1)===0?1:(We&2)!==0&&Dt!==0?Dt&-Dt:Ev.transition!==null?(La===0&&(La=Id()),La):(i=Ke,i!==0||(i=window.event,i=i===void 0?16:Gd(i.type)),i)}function Dn(i,o,c,h){if(50<Js)throw Js=0,oc=null,Error(n(185));_s(i,c,h),((We&2)===0||i!==Mt)&&(i===Mt&&((We&2)===0&&(Pa|=c),wt===4&&jr(i,Dt)),Jt(i,h),c===1&&We===0&&(o.mode&1)===0&&(ts=qe()+500,aa&&Tr()))}function Jt(i,o){var c=i.callbackNode;Ey(i,o);var h=$o(i,i===Mt?Dt:0);if(h===0)c!==null&&kt(c),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(c!=null&&kt(c),o===1)i.tag===0?Mv(qh.bind(null,i)):Af(qh.bind(null,i)),_v(function(){(We&6)===0&&Tr()}),c=null;else{switch(Bd(h)){case 1:c=fn;break;case 4:c=rn;break;case 16:c=br;break;case 536870912:c=On;break;default:c=br}c=rp(c,Gh.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function Gh(i,o){if(Na=-1,La=0,(We&6)!==0)throw Error(n(327));var c=i.callbackNode;if(ns()&&i.callbackNode!==c)return null;var h=$o(i,i===Mt?Dt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Aa(i,h);else{o=h;var m=We;We|=2;var y=Qh();(Mt!==i||Dt!==o)&&(ar=null,ts=qe()+500,pi(i,o));do try{Xv();break}catch(P){Kh(i,P)}while(!0);ku(),Ea.current=y,We=m,vt!==null?o=0:(Mt=null,Dt=0,o=wt)}if(o!==0){if(o===2&&(m=Bl(i),m!==0&&(h=m,o=ac(i,m))),o===1)throw c=Ks,pi(i,0),jr(i,h),Jt(i,qe()),c;if(o===6)jr(i,h);else{if(m=i.current.alternate,(h&30)===0&&!Vv(m)&&(o=Aa(i,h),o===2&&(y=Bl(i),y!==0&&(h=y,o=ac(i,y))),o===1))throw c=Ks,pi(i,0),jr(i,h),Jt(i,qe()),c;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:mi(i,Qt,ar);break;case 3:if(jr(i,h),(h&130023424)===h&&(o=ic+500-qe(),10<o)){if($o(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){Wt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=hu(mi.bind(null,i,Qt,ar),o);break}mi(i,Qt,ar);break;case 4:if(jr(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var _=31-Je(h);y=1<<_,_=o[_],_>m&&(m=_),h&=~y}if(h=m,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Wv(h/1960))-h,10<h){i.timeoutHandle=hu(mi.bind(null,i,Qt,ar),h);break}mi(i,Qt,ar);break;case 5:mi(i,Qt,ar);break;default:throw Error(n(329))}}}return Jt(i,qe()),i.callbackNode===c?Gh.bind(null,i):null}function ac(i,o){var c=Qs;return i.current.memoizedState.isDehydrated&&(pi(i,o).flags|=256),i=Aa(i,o),i!==2&&(o=Qt,Qt=c,o!==null&&lc(o)),i}function lc(i){Qt===null?Qt=i:Qt.push.apply(Qt,i)}function Vv(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!Cn(y(),m))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function jr(i,o){for(o&=~rc,o&=~Pa,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-Je(o),h=1<<c;i[c]=-1,o&=~h}}function qh(i){if((We&6)!==0)throw Error(n(327));ns();var o=$o(i,0);if((o&1)===0)return Jt(i,qe()),null;var c=Aa(i,o);if(i.tag!==0&&c===2){var h=Bl(i);h!==0&&(o=h,c=ac(i,h))}if(c===1)throw c=Ks,pi(i,0),jr(i,o),Jt(i,qe()),c;if(c===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,mi(i,Qt,ar),Jt(i,qe()),null}function uc(i,o){var c=We;We|=1;try{return i(o)}finally{We=c,We===0&&(ts=qe()+500,aa&&Tr())}}function hi(i){Fr!==null&&Fr.tag===0&&(We&6)===0&&ns();var o=We;We|=1;var c=yn.transition,h=Ke;try{if(yn.transition=null,Ke=1,i)return i()}finally{Ke=h,yn.transition=c,We=o,(We&6)===0&&Tr()}}function cc(){ln=es.current,nt(es)}function pi(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,wv(c)),vt!==null)for(c=vt.return;c!==null;){var h=c;switch(xu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&sa();break;case 3:Qi(),nt(Gt),nt(Nt),Nu();break;case 5:Du(h);break;case 4:Qi();break;case 13:nt(at);break;case 19:nt(at);break;case 10:Cu(h.type._context);break;case 22:case 23:cc()}c=c.return}if(Mt=i,vt=i=Ir(i.current,null),Dt=ln=o,wt=0,Ks=null,rc=Pa=fi=0,Qt=Qs=null,ui!==null){for(o=0;o<ui.length;o++)if(c=ui[o],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,y=c.pending;if(y!==null){var _=y.next;y.next=m,h.next=_}c.pending=h}ui=null}return i}function Kh(i,o){do{var c=vt;try{if(ku(),ya.current=wa,va){for(var h=lt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}va=!1}if(di=0,Ct=bt=lt=null,Ws=!1,Vs=0,nc.current=null,c===null||c.return===null){wt=1,Ks=o,vt=null;break}e:{var y=i,_=c.return,P=c,O=o;if(o=Dt,P.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=O,ee=P,ie=ee.tag;if((ee.mode&1)===0&&(ie===0||ie===11||ie===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var fe=wh(_);if(fe!==null){fe.flags&=-257,_h(fe,_,P,y,o),fe.mode&1&&bh(y,W,o),o=fe,O=W;var me=o.updateQueue;if(me===null){var ge=new Set;ge.add(O),o.updateQueue=ge}else me.add(O);break e}else{if((o&1)===0){bh(y,W,o),dc();break e}O=Error(n(426))}}else if(st&&P.mode&1){var pt=wh(_);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),_h(pt,_,P,y,o),_u(Ji(O,P));break e}}y=O=Ji(O,P),wt!==4&&(wt=2),Qs===null?Qs=[y]:Qs.push(y),y=_;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var B=vh(y,O,o);Vf(y,B);break e;case 1:P=O;var z=y.type,U=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Or===null||!Or.has(U)))){y.flags|=65536,o&=-o,y.lanes|=o;var se=xh(y,P,o);Vf(y,se);break e}}y=y.return}while(y!==null)}Zh(c)}catch(_e){o=_e,vt===c&&c!==null&&(vt=c=c.return);continue}break}while(!0)}function Qh(){var i=Ea.current;return Ea.current=wa,i===null?wa:i}function dc(){(wt===0||wt===3||wt===2)&&(wt=4),Mt===null||(fi&268435455)===0&&(Pa&268435455)===0||jr(Mt,Dt)}function Aa(i,o){var c=We;We|=2;var h=Qh();(Mt!==i||Dt!==o)&&(ar=null,pi(i,o));do try{Yv();break}catch(m){Kh(i,m)}while(!0);if(ku(),We=c,Ea.current=h,vt!==null)throw Error(n(261));return Mt=null,Dt=0,wt}function Yv(){for(;vt!==null;)Jh(vt)}function Xv(){for(;vt!==null&&!Xe();)Jh(vt)}function Jh(i){var o=np(i.alternate,i,ln);i.memoizedProps=i.pendingProps,o===null?Zh(i):vt=o,nc.current=null}function Zh(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=Iv(c,o,ln),c!==null){vt=c;return}}else{if(c=Bv(c,o),c!==null){c.flags&=32767,vt=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{wt=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=i}while(o!==null);wt===0&&(wt=5)}function mi(i,o,c){var h=Ke,m=yn.transition;try{yn.transition=null,Ke=1,Gv(i,o,c,h)}finally{yn.transition=m,Ke=h}return null}function Gv(i,o,c,h){do ns();while(Fr!==null);if((We&6)!==0)throw Error(n(327));c=i.finishedWork;var m=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var y=c.lanes|c.childLanes;if(Py(i,y),i===Mt&&(vt=Mt=null,Dt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Da||(Da=!0,rp(br,function(){return ns(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=yn.transition,yn.transition=null;var _=Ke;Ke=1;var P=We;We|=4,nc.current=null,$v(i,c),Hh(c,i),pv(du),Vo=!!cu,du=cu=null,i.current=c,Hv(c),Xt(),We=P,Ke=_,yn.transition=y}else i.current=c;if(Da&&(Da=!1,Fr=i,Ta=m),y=i.pendingLanes,y===0&&(Or=null),Be(c.stateNode),Jt(i,qe()),o!==null)for(h=i.onRecoverableError,c=0;c<o.length;c++)m=o[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(Ra)throw Ra=!1,i=sc,sc=null,i;return(Ta&1)!==0&&i.tag!==0&&ns(),y=i.pendingLanes,(y&1)!==0?i===oc?Js++:(Js=0,oc=i):Js=0,Tr(),null}function ns(){if(Fr!==null){var i=Bd(Ta),o=yn.transition,c=Ke;try{if(yn.transition=null,Ke=16>i?16:i,Fr===null)var h=!1;else{if(i=Fr,Fr=null,Ta=0,(We&6)!==0)throw Error(n(331));var m=We;for(We|=4,pe=i.current;pe!==null;){var y=pe,_=y.child;if((pe.flags&16)!==0){var P=y.deletions;if(P!==null){for(var O=0;O<P.length;O++){var W=P[O];for(pe=W;pe!==null;){var ee=pe;switch(ee.tag){case 0:case 11:case 15:qs(8,ee,y)}var ie=ee.child;if(ie!==null)ie.return=ee,pe=ie;else for(;pe!==null;){ee=pe;var J=ee.sibling,fe=ee.return;if(jh(ee),ee===W){pe=null;break}if(J!==null){J.return=fe,pe=J;break}pe=fe}}}var me=y.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var pt=ge.sibling;ge.sibling=null,ge=pt}while(ge!==null)}}pe=y}}if((y.subtreeFlags&2064)!==0&&_!==null)_.return=y,pe=_;else e:for(;pe!==null;){if(y=pe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:qs(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,pe=B;break e}pe=y.return}}var z=i.current;for(pe=z;pe!==null;){_=pe;var U=_.child;if((_.subtreeFlags&2064)!==0&&U!==null)U.return=_,pe=U;else e:for(_=z;pe!==null;){if(P=pe,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Ma(9,P)}}catch(_e){dt(P,P.return,_e)}if(P===_){pe=null;break e}var se=P.sibling;if(se!==null){se.return=P.return,pe=se;break e}pe=P.return}}if(We=m,Tr(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Qn,i)}catch{}h=!0}return h}finally{Ke=c,yn.transition=o}}return!1}function ep(i,o,c){o=Ji(c,o),o=vh(i,o,1),i=Lr(i,o,1),o=Wt(),i!==null&&(_s(i,1,o),Jt(i,o))}function dt(i,o,c){if(i.tag===3)ep(i,i,c);else for(;o!==null;){if(o.tag===3){ep(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Or===null||!Or.has(h))){i=Ji(c,i),i=xh(o,i,1),o=Lr(o,i,1),i=Wt(),o!==null&&(_s(o,1,i),Jt(o,i));break}}o=o.return}}function qv(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),o=Wt(),i.pingedLanes|=i.suspendedLanes&c,Mt===i&&(Dt&c)===c&&(wt===4||wt===3&&(Dt&130023424)===Dt&&500>qe()-ic?pi(i,0):rc|=c),Jt(i,o)}function tp(i,o){o===0&&((i.mode&1)===0?o=1:(o=ri,ri<<=1,(ri&130023424)===0&&(ri=4194304)));var c=Wt();i=ir(i,o),i!==null&&(_s(i,o,c),Jt(i,c))}function Kv(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),tp(i,c)}function Qv(i,o){var c=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),tp(i,c)}var np;np=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||Gt.current)Kt=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return Kt=!1,jv(i,o,c);Kt=(i.flags&131072)!==0}else Kt=!1,st&&(o.flags&1048576)!==0&&Of(o,ua,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;ka(i,o),i=o.pendingProps;var m=Wi(o,Nt.current);Ki(o,c),m=Ou(null,o,h,i,m,c);var y=Fu();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,qt(h)?(y=!0,oa(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Pu(o),m.updater=_a,o.stateNode=m,m._reactInternals=o,$u(o,h,i,c),o=Yu(null,o,h,!0,y,c)):(o.tag=0,st&&y&&vu(o),Ht(null,o,m,c),o=o.child),o;case 16:h=o.elementType;e:{switch(ka(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=Zv(h),i=En(h,i),m){case 0:o=Vu(null,o,h,i,c);break e;case 1:o=Ph(null,o,h,i,c);break e;case 11:o=Sh(null,o,h,i,c);break e;case 14:o=kh(null,o,h,En(h.type,i),c);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:En(h,m),Vu(i,o,h,m,c);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:En(h,m),Ph(i,o,h,m,c);case 3:e:{if(Rh(o),i===null)throw Error(n(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Wf(i,o),ma(o,h,null,c);var _=o.memoizedState;if(h=_.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Ji(Error(n(423)),o),o=Dh(i,o,h,c,m);break e}else if(h!==m){m=Ji(Error(n(424)),o),o=Dh(i,o,h,c,m);break e}else for(an=Pr(o.stateNode.containerInfo.firstChild),on=o,st=!0,Mn=null,c=$f(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Xi(),h===m){o=or(i,o,c);break e}Ht(i,o,h,c)}o=o.child}return o;case 5:return Xf(o),i===null&&wu(o),h=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,_=m.children,fu(h,m)?_=null:y!==null&&fu(h,y)&&(o.flags|=32),Eh(i,o),Ht(i,o,_,c),o.child;case 6:return i===null&&wu(o),null;case 13:return Th(i,o,c);case 4:return Ru(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Gi(o,null,h,c):Ht(i,o,h,c),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:En(h,m),Sh(i,o,h,m,c);case 7:return Ht(i,o,o.pendingProps,c),o.child;case 8:return Ht(i,o,o.pendingProps.children,c),o.child;case 12:return Ht(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,_=m.value,et(fa,h._currentValue),h._currentValue=_,y!==null)if(Cn(y.value,_)){if(y.children===m.children&&!Gt.current){o=or(i,o,c);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var P=y.dependencies;if(P!==null){_=y.child;for(var O=P.firstContext;O!==null;){if(O.context===h){if(y.tag===1){O=sr(-1,c&-c),O.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),W.pending=O}}y.lanes|=c,O=y.alternate,O!==null&&(O.lanes|=c),Mu(y.return,c,o),P.lanes|=c;break}O=O.next}}else if(y.tag===10)_=y.type===o.type?null:y.child;else if(y.tag===18){if(_=y.return,_===null)throw Error(n(341));_.lanes|=c,P=_.alternate,P!==null&&(P.lanes|=c),Mu(_,c,o),_=y.sibling}else _=y.child;if(_!==null)_.return=y;else for(_=y;_!==null;){if(_===o){_=null;break}if(y=_.sibling,y!==null){y.return=_.return,_=y;break}_=_.return}y=_}Ht(i,o,m.children,c),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Ki(o,c),m=mn(m),h=h(m),o.flags|=1,Ht(i,o,h,c),o.child;case 14:return h=o.type,m=En(h,o.pendingProps),m=En(h.type,m),kh(i,o,h,m,c);case 15:return Ch(i,o,o.type,o.pendingProps,c);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:En(h,m),ka(i,o),o.tag=1,qt(h)?(i=!0,oa(o)):i=!1,Ki(o,c),gh(o,h,m),$u(o,h,m,c),Yu(null,o,h,!0,i,c);case 19:return Lh(i,o,c);case 22:return Mh(i,o,c)}throw Error(n(156,o.tag))};function rp(i,o){return ht(i,o)}function Jv(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(i,o,c,h){return new Jv(i,o,c,h)}function fc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zv(i){if(typeof i=="function")return fc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Z)return 11;if(i===re)return 14}return 2}function Ir(i,o){var c=i.alternate;return c===null?(c=vn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Oa(i,o,c,h,m,y){var _=2;if(h=i,typeof i=="function")fc(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case E:return gi(c.children,m,y,o);case A:_=8,m|=8;break;case H:return i=vn(12,c,o,m|2),i.elementType=H,i.lanes=y,i;case ae:return i=vn(13,c,o,m),i.elementType=ae,i.lanes=y,i;case Q:return i=vn(19,c,o,m),i.elementType=Q,i.lanes=y,i;case de:return Fa(c,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:_=10;break e;case q:_=9;break e;case Z:_=11;break e;case re:_=14;break e;case ue:_=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=vn(_,c,o,m),o.elementType=i,o.type=h,o.lanes=y,o}function gi(i,o,c,h){return i=vn(7,i,h,o),i.lanes=c,i}function Fa(i,o,c,h){return i=vn(22,i,h,o),i.elementType=de,i.lanes=c,i.stateNode={isHidden:!1},i}function hc(i,o,c){return i=vn(6,i,null,o),i.lanes=c,i}function pc(i,o,c){return o=vn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function ex(i,o,c,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function mc(i,o,c,h,m,y,_,P,O){return i=new ex(i,o,c,P,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=vn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pu(y),i}function tx(i,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:h==null?null:""+h,children:i,containerInfo:o,implementation:c}}function ip(i){if(!i)return Dr;i=i._reactInternals;e:{if(xe(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(qt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var c=i.type;if(qt(c))return Nf(i,c,o)}return o}function sp(i,o,c,h,m,y,_,P,O){return i=mc(c,h,!0,i,m,y,_,P,O),i.context=ip(null),c=i.current,h=Wt(),m=zr(c),y=sr(h,m),y.callback=o??null,Lr(c,y,m),i.current.lanes=m,_s(i,m,h),Jt(i,h),i}function za(i,o,c,h){var m=o.current,y=Wt(),_=zr(m);return c=ip(c),o.context===null?o.context=c:o.pendingContext=c,o=sr(y,_),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Lr(m,o,_),i!==null&&(Dn(i,m,_,y),pa(i,m,_)),_}function ja(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function op(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function gc(i,o){op(i,o),(i=i.alternate)&&op(i,o)}function nx(){return null}var ap=typeof reportError=="function"?reportError:function(i){console.error(i)};function yc(i){this._internalRoot=i}Ia.prototype.render=yc.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));za(i,o,null,null)},Ia.prototype.unmount=yc.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;hi(function(){za(null,i,null,null)}),o[er]=null}};function Ia(i){this._internalRoot=i}Ia.prototype.unstable_scheduleHydration=function(i){if(i){var o=Hd();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Cr.length&&o!==0&&o<Cr[c].priority;c++);Cr.splice(c,0,i),c===0&&Yd(i)}};function vc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ba(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function lp(){}function rx(i,o,c,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var W=ja(_);y.call(W)}}var _=sp(o,h,i,0,null,!1,!1,"",lp);return i._reactRootContainer=_,i[er]=_.current,Fs(i.nodeType===8?i.parentNode:i),hi(),_}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var P=h;h=function(){var W=ja(O);P.call(W)}}var O=mc(i,0,!1,null,null,!1,!1,"",lp);return i._reactRootContainer=O,i[er]=O.current,Fs(i.nodeType===8?i.parentNode:i),hi(function(){za(o,O,c,h)}),O}function Ua(i,o,c,h,m){var y=c._reactRootContainer;if(y){var _=y;if(typeof m=="function"){var P=m;m=function(){var O=ja(_);P.call(O)}}za(o,_,i,m)}else _=rx(c,o,i,m,h);return ja(_)}Ud=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=ii(o.pendingLanes);c!==0&&($l(o,c|1),Jt(o,qe()),(We&6)===0&&(ts=qe()+500,Tr()))}break;case 13:hi(function(){var h=ir(i,1);if(h!==null){var m=Wt();Dn(h,i,1,m)}}),gc(i,1)}},Hl=function(i){if(i.tag===13){var o=ir(i,134217728);if(o!==null){var c=Wt();Dn(o,i,134217728,c)}gc(i,134217728)}},$d=function(i){if(i.tag===13){var o=zr(i),c=ir(i,o);if(c!==null){var h=Wt();Dn(c,i,o,h)}gc(i,o)}},Hd=function(){return Ke},Wd=function(i,o){var c=Ke;try{return Ke=i,o()}finally{Ke=c}},vr=function(i,o,c){switch(o){case"input":if(Vt(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var m=ia(h);if(!m)throw Error(n(90));$e(h),Vt(h,m)}}}break;case"textarea":Pt(i,c);break;case"select":o=c.value,o!=null&&kn(i,!!c.multiple,o,!1)}},xs=uc,Zr=hi;var ix={usingClientEntryPoint:!1,Events:[Is,$i,ia,vs,Uo,uc]},Zs={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sx={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ie(i),i===null?null:i.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Qn=$a.inject(sx),$t=$a}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix,Zt.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(o))throw Error(n(200));return tx(i,o,null,c)},Zt.createRoot=function(i,o){if(!vc(i))throw Error(n(299));var c=!1,h="",m=ap;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=mc(i,1,!1,null,null,c,!1,h,m),i[er]=o.current,Fs(i.nodeType===8?i.parentNode:i),new yc(o)},Zt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Ie(o),i=i===null?null:i.stateNode,i},Zt.flushSync=function(i){return hi(i)},Zt.hydrate=function(i,o,c){if(!Ba(o))throw Error(n(200));return Ua(null,i,o,!0,c)},Zt.hydrateRoot=function(i,o,c){if(!vc(i))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,m=!1,y="",_=ap;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),o=sp(o,null,i,1,c??null,m,!1,y,_),i[er]=o.current,Fs(i),h)for(i=0;i<h.length;i++)c=h[i],m=c._getVersion,m=m(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,m]:o.mutableSourceEagerHydrationData.push(c,m);return new Ia(o)},Zt.render=function(i,o,c){if(!Ba(o))throw Error(n(200));return Ua(null,i,o,!1,c)},Zt.unmountComponentAtNode=function(i){if(!Ba(i))throw Error(n(40));return i._reactRootContainer?(hi(function(){Ua(null,null,i,!1,function(){i._reactRootContainer=null,i[er]=null})}),!0):!1},Zt.unstable_batchedUpdates=uc,Zt.unstable_renderSubtreeIntoContainer=function(i,o,c,h){if(!Ba(c))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ua(i,o,c,!1,h)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var gp;function $g(){if(gp)return wc.exports;gp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wc.exports=px(),wc.exports}var yp;function mx(){if(yp)return Ha;yp=1;var t=$g();return Ha.createRoot=t.createRoot,Ha.hydrateRoot=t.hydrateRoot,Ha}var gx=mx();const yx=Bg(gx);var Hg=t=>{throw TypeError(t)},vx=(t,e,n)=>e.has(t)||Hg("Cannot "+n),kc=(t,e,n)=>(vx(t,e,"read from private field"),n?n.call(t):e.get(t)),xx=(t,e,n)=>e.has(t)?Hg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),vp="popstate";function bx(t={}){function e(s,a){let{pathname:l="/",search:u="",hash:d=""}=gr(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),So("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof a=="string"?a:Yn(a))}function r(s,a){ft(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return _x(e,n,r,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ft(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wx(){return Math.random().toString(36).substring(2,10)}function xp(t,e){return{usr:t.state,key:t.key,idx:e}}function So(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?gr(e):e,state:n,key:e&&e.key||r||wx()}}function Yn({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _x(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let S=p(),C=S==null?null:S-f;f=S,d&&d({action:u,location:w.location,delta:C})}function v(S,C){u="PUSH";let R=So(w.location,S,C);n&&n(R,S),f=p()+1;let M=xp(R,f),L=w.createHref(R);try{l.pushState(M,"",L)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(L)}a&&d&&d({action:u,location:w.location,delta:1})}function x(S,C){u="REPLACE";let R=So(w.location,S,C);n&&n(R,S),f=p();let M=xp(R,f),L=w.createHref(R);l.replaceState(M,"",L),a&&d&&d({action:u,location:w.location,delta:0})}function b(S){return Wg(S)}let w={get action(){return u},get location(){return t(s,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(vp,g),d=S,()=>{s.removeEventListener(vp,g),d=null}},createHref(S){return e(s,S)},createURL:b,encodeLocation(S){let C=b(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:x,go(S){return l.go(S)}};return w}function Wg(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Yn(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var uo,bp=class{constructor(t){if(xx(this,uo,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(kc(this,uo).has(t))return kc(this,uo).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){kc(this,uo).set(t,e)}};uo=new WeakMap;var Sx=new Set(["lazy","caseSensitive","path","id","index","children"]);function kx(t){return Sx.has(t)}var Cx=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Mx(t){return Cx.has(t)}function Ex(t){return t.index===!0}function ko(t,e,n=[],r={},s=!1){return t.map((a,l)=>{let u=[...n,String(l)],d=typeof a.id=="string"?a.id:u.join("-");if(Oe(a.index!==!0||!a.children,"Cannot specify children on an index route"),Oe(s||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),Ex(a)){let f={...a,id:d};return r[d]=wp(f,e(f)),f}else{let f={...a,id:d,children:void 0};return r[d]=wp(f,e(f)),a.children&&(f.children=ko(a.children,e,u,r,s)),f}})}function wp(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Ur(t,e,n="/"){return co(t,e,n,!1)}function co(t,e,n,r){let s=typeof e=="string"?gr(e):e,a=wn(s.pathname||"/",n);if(a==null)return null;let l=Vg(t);Rx(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=Bx(a);u=jx(l[d],f,r)}return u}function Px(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function Vg(t,e=[],n=[],r="",s=!1){let a=(l,u,d=s,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Oe(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Wn([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Oe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Vg(l.children,e,v,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:Fx(g,l.index),routesMeta:v})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of Yg(l.path))a(l,u,!0,d)}),e}function Yg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=Yg(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function Rx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Dx=/^:[\w-]+$/,Tx=3,Nx=2,Lx=1,Ax=10,Ox=-2,_p=t=>t==="*";function Fx(t,e){let n=t.split("/"),r=n.length;return n.some(_p)&&(r+=Ox),e&&(r+=Nx),n.filter(s=>!_p(s)).reduce((s,a)=>s+(Dx.test(a)?Tx:a===""?Lx:Ax),r)}function zx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function jx(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=gl({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=gl({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Wn([a,g.pathname]),pathnameBase:Hx(Wn([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=Wn([a,g.pathnameBase]))}return l}function gl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ix(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let b=u[v]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function Ix(t,e=!1,n=!0){ft(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Bx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ft(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function wn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ux({basename:t,pathname:e}){return e==="/"?t:Wn([t,e])}var Xg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,El=t=>Xg.test(t);function $x(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?gr(t):t,a;if(n)if(El(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ft(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=Sp(n.substring(1),"/"):a=Sp(n,e)}else a=e;return{pathname:a,search:Wx(r),hash:Vx(s)}}function Sp(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cc(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hd(t){let e=Gg(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function pd(t,e,n,r=!1){let s;typeof t=="string"?s=gr(t):(s={...t},Oe(!s.pathname||!s.pathname.includes("?"),Cc("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),Cc("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),Cc("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let d=$x(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),Hx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Wx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Vx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Lo=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Co(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Ao(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Kg(t,e){let n=t;if(typeof n!="string"||!Xg.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(qg)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=wn(l.pathname,e);l.origin===a.origin&&u!=null?n=u+l.search+l.hash:s=!0}catch{ft(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}var Hr=Symbol("Uninstrumented");function Yx(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(a){let l=Object.keys(n);for(let u of l)a[u]&&n[u].push(a[u])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let s=ls(n.lazy,e.lazy,()=>{});s&&(r.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(a=>{let l=s[a],u=n[`lazy.${a}`];if(typeof l=="function"&&u.length>0){let d=ls(u,l,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[a]:d}))}})}return["loader","action"].forEach(s=>{let a=e[s];if(typeof a=="function"&&n[s].length>0){let l=a[Hr]??a,u=ls(n[s],l,(...d)=>kp(d[0]));u&&(s==="loader"&&l.hydrate===!0&&(u.hydrate=!0),u[Hr]=l,r[s]=u)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(s=>{let a=s[Hr]??s,l=ls(n.middleware,a,(...u)=>kp(u[0]));return l?(l[Hr]=a,l):s})),r}function Xx(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(s){let a=Object.keys(s);for(let l of a)s[l]&&n[l].push(s[l])}})),n.navigate.length>0){let r=t.navigate[Hr]??t.navigate,s=ls(n.navigate,r,(...a)=>{let[l,u]=a;return{to:typeof l=="number"||typeof l=="string"?l:l?Yn(l):".",...Cp(t,u??{})}});s&&(s[Hr]=r,t.navigate=s)}if(n.fetch.length>0){let r=t.fetch[Hr]??t.fetch,s=ls(n.fetch,r,(...a)=>{let[l,,u,d]=a;return{href:u??".",fetcherKey:l,...Cp(t,d??{})}});s&&(s[Hr]=r,t.fetch=s)}return t}function ls(t,e,n){return t.length===0?null:async(...r)=>{let s=await Qg(t,n(...r),()=>e(...r),t.length-1);if(s.type==="error")throw s.value;return s.value}}async function Qg(t,e,n,r){let s=t[r],a;if(s){let l,u=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=Qg(t,e,n,r-1),a=await l,Oe(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await s(u,e)}catch(d){console.error("An instrumentation function threw an error:",d)}l||await u(),await l}else try{a={type:"success",value:await n()}}catch(l){a={type:"error",value:l}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function kp(t){let{request:e,context:n,params:r,unstable_pattern:s}=t;return{request:Gx(e),params:{...r},unstable_pattern:s,context:qx(n)}}function Cp(t,e){return{currentUrl:Yn(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function Gx(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function qx(t){if(Qx(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var Kx=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qx(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===Kx}var Jg=["POST","PUT","PATCH","DELETE"],Jx=new Set(Jg),Zx=["GET",...Jg],eb=new Set(Zx),Zg=new Set([301,302,303,307,308]),tb=new Set([307,308]),Mc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},to={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},rb=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),e0="remix-router-transitions",t0=Symbol("ResetLoaderData");function ib(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Oe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||rb,a=s;if(t.unstable_instrumentations){let D=t.unstable_instrumentations;a=I=>({...s(I),...Yx(D.map($=>$.route).filter(Boolean),I)})}let l={},u=ko(t.routes,a,void 0,l),d,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let p=t.dataStrategy||ub,g={...t.future},v=null,x=new Set,b=null,w=null,S=null,C=t.hydrationData!=null,R=Ur(u,t.history.location,f),M=!1,L=null,T;if(R==null&&!t.patchRoutesOnNavigation){let D=bn(404,{pathname:t.history.location.pathname}),{matches:I,route:$}=Wa(u);T=!0,R=I,L={[$.id]:D}}else if(R&&!t.hydrationData&&Zr(R,u,t.history.location.pathname).active&&(R=null),R)if(R.some(D=>D.route.lazy))T=!1;else if(!R.some(D=>md(D.route)))T=!0;else{let D=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null;if(I){let $=R.findIndex(ne=>I[ne.route.id]!==void 0);T=R.slice(0,$+1).every(ne=>!Zc(ne.route,D,I))}else T=R.every($=>!Zc($.route,D,I))}else{T=!1,R=[];let D=Zr(null,u,t.history.location.pathname);D.active&&D.matches&&(M=!0,R=D.matches)}let j,E={historyAction:t.history.action,location:t.history.location,matches:R,initialized:T,navigation:Mc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},A="POP",H=null,G=!1,q,Z=!1,ae=new Map,Q=null,re=!1,ue=!1,de=new Set,X=new Map,te=0,K=-1,F=new Map,V=new Set,ce=new Map,le=new Map,ye=new Set,be=new Map,Fe,Ne=null;function Ye(){if(v=t.history.listen(({action:D,location:I,delta:$})=>{if(Fe){Fe(),Fe=void 0;return}ft(be.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=Kn({currentLocation:E.location,nextLocation:I,historyAction:D});if(ne&&$!=null){let oe=new Promise(we=>{Fe=we});t.history.go($*-1),vr(ne,{state:"blocked",location:I,proceed(){vr(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),oe.then(()=>t.history.go($))},reset(){let we=new Map(E.blockers);we.set(ne,to),$e({blockers:we})}}),H?.resolve(),H=null;return}return xt(D,I)}),n){Eb(e,ae);let D=()=>Pb(e,ae);e.addEventListener("pagehide",D),Q=()=>e.removeEventListener("pagehide",D)}return E.initialized||xt("POP",E.location,{initialHydration:!0}),j}function gt(){v&&v(),Q&&Q(),x.clear(),q&&q.abort(),E.fetchers.forEach((D,I)=>ct(I)),E.blockers.forEach((D,I)=>Ai(I))}function Sn(D){return x.add(D),()=>x.delete(D)}function $e(D,I={}){D.matches&&(D.matches=D.matches.map(oe=>{let we=l[oe.route.id],he=oe.route;return he.element!==we.element||he.errorElement!==we.errorElement||he.hydrateFallbackElement!==we.hydrateFallbackElement?{...oe,route:we}:oe})),E={...E,...D};let $=[],ne=[];E.fetchers.forEach((oe,we)=>{oe.state==="idle"&&(ye.has(we)?$.push(we):ne.push(we))}),ye.forEach(oe=>{!E.fetchers.has(oe)&&!X.has(oe)&&$.push(oe)}),[...x].forEach(oe=>oe(E,{deletedFetchers:$,newErrors:D.errors??null,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),$.forEach(oe=>ct(oe)),ne.forEach(oe=>E.fetchers.delete(oe))}function je(D,I,{flushSync:$}={}){let ne=E.actionData!=null&&E.navigation.formMethod!=null&&Ft(E.navigation.formMethod)&&E.navigation.state==="loading"&&D.state?._isRedirect!==!0,oe;I.actionData?Object.keys(I.actionData).length>0?oe=I.actionData:oe=null:ne?oe=E.actionData:oe=null;let we=I.loaderData?Op(E.loaderData,I.loaderData,I.matches||[],I.errors):E.loaderData,he=E.blockers;he.size>0&&(he=new Map(he),he.forEach((Re,ke)=>he.set(ke,to)));let ve=re?!1:xs(D,I.matches||E.matches),Se=G===!0||E.navigation.formMethod!=null&&Ft(E.navigation.formMethod)&&D.state?._isRedirect!==!0;d&&(u=d,d=void 0),re||A==="POP"||(A==="PUSH"?t.history.push(D,D.state):A==="REPLACE"&&t.history.replace(D,D.state));let xe;if(A==="POP"){let Re=ae.get(E.location.pathname);Re&&Re.has(D.pathname)?xe={currentLocation:E.location,nextLocation:D}:ae.has(D.pathname)&&(xe={currentLocation:D,nextLocation:E.location})}else if(Z){let Re=ae.get(E.location.pathname);Re?Re.add(D.pathname):(Re=new Set([D.pathname]),ae.set(E.location.pathname,Re)),xe={currentLocation:E.location,nextLocation:D}}$e({...I,actionData:oe,loaderData:we,historyAction:A,location:D,initialized:!0,navigation:Mc,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:Se,blockers:he},{viewTransitionOpts:xe,flushSync:$===!0}),A="POP",G=!1,Z=!1,re=!1,ue=!1,H?.resolve(),H=null,Ne?.resolve(),Ne=null}async function Tt(D,I){if(H?.resolve(),H=null,typeof D=="number"){H||(H=Ip());let Ie=H.promise;return t.history.go(D),Ie}let $=Jc(E.location,E.matches,f,D,I?.fromRouteId,I?.relative),{path:ne,submission:oe,error:we}=Mp(!1,$,I),he=E.location,ve=So(E.location,ne,I&&I.state);ve={...ve,...t.history.encodeLocation(ve)};let Se=I&&I.replace!=null?I.replace:void 0,xe="PUSH";Se===!0?xe="REPLACE":Se===!1||oe!=null&&Ft(oe.formMethod)&&oe.formAction===E.location.pathname+E.location.search&&(xe="REPLACE");let Re=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,ke=(I&&I.flushSync)===!0,Ue=Kn({currentLocation:he,nextLocation:ve,historyAction:xe});if(Ue){vr(Ue,{state:"blocked",location:ve,proceed(){vr(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),Tt(D,I)},reset(){let Ie=new Map(E.blockers);Ie.set(Ue,to),$e({blockers:Ie})}});return}await xt(xe,ve,{submission:oe,pendingError:we,preventScrollReset:Re,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:ke,callSiteDefaultShouldRevalidate:I&&I.unstable_defaultShouldRevalidate})}function It(){Ne||(Ne=Ip()),Te(),$e({revalidation:"loading"});let D=Ne.promise;return E.navigation.state==="submitting"?D:E.navigation.state==="idle"?(xt(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),D):(xt(A||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:Z===!0}),D)}async function xt(D,I,$){q&&q.abort(),q=null,A=D,re=($&&$.startUninterruptedRevalidation)===!0,Uo(E.location,E.matches),G=($&&$.preventScrollReset)===!0,Z=($&&$.enableViewTransition)===!0;let ne=d||u,oe=$&&$.overrideNavigation,we=$?.initialHydration&&E.matches&&E.matches.length>0&&!M?E.matches:Ur(ne,I,f),he=($&&$.flushSync)===!0;if(we&&E.initialized&&!ue&&yb(E.location,I)&&!($&&$.submission&&Ft($.submission.formMethod))){je(I,{matches:we},{flushSync:he});return}let ve=Zr(we,ne,I.pathname);if(ve.active&&ve.matches&&(we=ve.matches),!we){let{error:ht,notFoundMatches:kt,route:Xe}=An(I.pathname);je(I,{matches:kt,loaderData:{},errors:{[Xe.id]:ht}},{flushSync:he});return}q=new AbortController;let Se=as(t.history,I,q.signal,$&&$.submission),xe=t.getContext?await t.getContext():new bp,Re;if($&&$.pendingError)Re=[$r(we).route.id,{type:"error",error:$.pendingError}];else if($&&$.submission&&Ft($.submission.formMethod)){let ht=await Vt(Se,I,$.submission,we,xe,ve.active,$&&$.initialHydration===!0,{replace:$.replace,flushSync:he});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[kt,Xe]=ht.pendingActionResult;if(cn(Xe)&&Co(Xe.error)&&Xe.error.status===404){q=null,je(I,{matches:ht.matches,loaderData:{},errors:{[kt]:Xe.error}});return}}we=ht.matches||we,Re=ht.pendingActionResult,oe=Ec(I,$.submission),he=!1,ve.active=!1,Se=as(t.history,Se.url,Se.signal)}let{shortCircuited:ke,matches:Ue,loaderData:Ie,errors:yt}=await Bt(Se,I,we,xe,ve.active,oe,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,he,Re,$&&$.callSiteDefaultShouldRevalidate);ke||(q=null,je(I,{matches:Ue||we,...Fp(Re),loaderData:Ie,errors:yt}))}async function Vt(D,I,$,ne,oe,we,he,ve={}){Te();let Se=Cb(I,$);if($e({navigation:Se},{flushSync:ve.flushSync===!0}),we){let ke=await xr(ne,I.pathname,D.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){if(ke.partialMatches.length===0){let{matches:Ie,route:yt}=Wa(u);return{matches:Ie,pendingActionResult:[yt.id,{type:"error",error:ke.error}]}}let Ue=$r(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[Ue,{type:"error",error:ke.error}]}}else if(ke.matches)ne=ke.matches;else{let{notFoundMatches:Ue,error:Ie,route:yt}=An(I.pathname);return{matches:Ue,pendingActionResult:[yt.id,{type:"error",error:Ie}]}}}let xe,Re=dl(ne,I);if(!Re.route.action&&!Re.route.lazy)xe={type:"error",error:bn(405,{method:D.method,pathname:I.pathname,routeId:Re.route.id})};else{let ke=us(a,l,D,ne,Re,he?[]:r,oe),Ue=await Y(D,ke,oe,null);if(xe=Ue[Re.route.id],!xe){for(let Ie of ne)if(Ue[Ie.route.id]){xe=Ue[Ie.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(_i(xe)){let ke;return ve&&ve.replace!=null?ke=ve.replace:ke=Np(xe.response.headers.get("Location"),new URL(D.url),f,t.history)===E.location.pathname+E.location.search,await Pt(D,xe,!0,{submission:$,replace:ke}),{shortCircuited:!0}}if(cn(xe)){let ke=$r(ne,Re.route.id);return(ve&&ve.replace)!==!0&&(A="PUSH"),{matches:ne,pendingActionResult:[ke.route.id,xe,Re.route.id]}}return{matches:ne,pendingActionResult:[Re.route.id,xe]}}async function Bt(D,I,$,ne,oe,we,he,ve,Se,xe,Re,ke,Ue){let Ie=we||Ec(I,he),yt=he||ve||jp(Ie),ht=!re&&!xe;if(oe){if(ht){let Je=yr(ke);$e({navigation:Ie,...Je!==void 0?{actionData:Je}:{}},{flushSync:Re})}let Be=await xr($,I.pathname,D.signal);if(Be.type==="aborted")return{shortCircuited:!0};if(Be.type==="error"){if(Be.partialMatches.length===0){let{matches:wr,route:Jn}=Wa(u);return{matches:wr,loaderData:{},errors:{[Jn.id]:Be.error}}}let Je=$r(Be.partialMatches).route.id;return{matches:Be.partialMatches,loaderData:{},errors:{[Je]:Be.error}}}else if(Be.matches)$=Be.matches;else{let{error:Je,notFoundMatches:wr,route:Jn}=An(I.pathname);return{matches:wr,loaderData:{},errors:{[Jn.id]:Je}}}}let kt=d||u,{dsMatches:Xe,revalidatingFetchers:Xt}=Ep(D,ne,a,l,t.history,E,$,yt,I,xe?[]:r,xe===!0,ue,de,ye,ce,V,kt,f,t.patchRoutesOnNavigation!=null,ke,Ue);if(K=++te,!t.dataStrategy&&!Xe.some(Be=>Be.shouldLoad)&&!Xe.some(Be=>Be.route.middleware&&Be.route.middleware.length>0)&&Xt.length===0){let Be=Ni();return je(I,{matches:$,loaderData:{},errors:ke&&cn(ke[1])?{[ke[0]]:ke[1].error}:null,...Fp(ke),...Be?{fetchers:new Map(E.fetchers)}:{}},{flushSync:Re}),{shortCircuited:!0}}if(ht){let Be={};if(!oe){Be.navigation=Ie;let Je=yr(ke);Je!==void 0&&(Be.actionData=Je)}Xt.length>0&&(Be.fetchers=Ln(Xt)),$e(Be,{flushSync:Re})}Xt.forEach(Be=>{Ut(Be.key),Be.controller&&X.set(Be.key,Be.controller)});let qe=()=>Xt.forEach(Be=>Ut(Be.key));q&&q.signal.addEventListener("abort",qe);let{loaderResults:ti,fetcherResults:fn}=await Ce(Xe,Xt,D,ne);if(D.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",qe),Xt.forEach(Be=>X.delete(Be.key));let rn=Va(ti);if(rn)return await Pt(D,rn.result,!0,{replace:Se}),{shortCircuited:!0};if(rn=Va(fn),rn)return V.add(rn.key),await Pt(D,rn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:br,errors:ni}=Ap(E,$,ti,ke,Xt,fn);xe&&E.errors&&(ni={...E.errors,...ni});let On=Ni(),Qn=Li(K),$t=On||Qn||Xt.length>0;return{matches:$,loaderData:br,errors:ni,...$t?{fetchers:new Map(E.fetchers)}:{}}}function yr(D){if(D&&!cn(D[1]))return{[D[0]]:D[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function Ln(D){return D.forEach(I=>{let $=E.fetchers.get(I.key),ne=no(void 0,$?$.data:void 0);E.fetchers.set(I.key,ne)}),new Map(E.fetchers)}async function kn(D,I,$,ne){Ut(D);let oe=(ne&&ne.flushSync)===!0,we=d||u,he=Jc(E.location,E.matches,f,$,I,ne?.relative),ve=Ur(we,he,f),Se=Zr(ve,we,he);if(Se.active&&Se.matches&&(ve=Se.matches),!ve){He(D,I,bn(404,{pathname:he}),{flushSync:oe});return}let{path:xe,submission:Re,error:ke}=Mp(!0,he,ne);if(ke){He(D,I,ke,{flushSync:oe});return}let Ue=t.getContext?await t.getContext():new bp,Ie=(ne&&ne.preventScrollReset)===!0;if(Re&&Ft(Re.formMethod)){await Jr(D,I,xe,ve,Ue,Se.active,oe,Ie,Re,ne&&ne.unstable_defaultShouldRevalidate);return}ce.set(D,{routeId:I,path:xe}),await Gn(D,I,xe,ve,Ue,Se.active,oe,Ie,Re)}async function Jr(D,I,$,ne,oe,we,he,ve,Se,xe){Te(),ce.delete(D);let Re=E.fetchers.get(D);Pe(D,Mb(Se,Re),{flushSync:he});let ke=new AbortController,Ue=as(t.history,$,ke.signal,Se);if(we){let it=await xr(ne,new URL(Ue.url).pathname,Ue.signal,D);if(it.type==="aborted")return;if(it.type==="error"){He(D,I,it.error,{flushSync:he});return}else if(it.matches)ne=it.matches;else{He(D,I,bn(404,{pathname:$}),{flushSync:he});return}}let Ie=dl(ne,$);if(!Ie.route.action&&!Ie.route.lazy){let it=bn(405,{method:Se.formMethod,pathname:$,routeId:I});He(D,I,it,{flushSync:he});return}X.set(D,ke);let yt=te,ht=us(a,l,Ue,ne,Ie,r,oe),kt=await Y(Ue,ht,oe,D),Xe=kt[Ie.route.id];if(!Xe){for(let it of ht)if(kt[it.route.id]){Xe=kt[it.route.id];break}}if(Ue.signal.aborted){X.get(D)===ke&&X.delete(D);return}if(ye.has(D)){if(_i(Xe)||cn(Xe)){Pe(D,ur(void 0));return}}else{if(_i(Xe))if(X.delete(D),K>yt){Pe(D,ur(void 0));return}else return V.add(D),Pe(D,no(Se)),Pt(Ue,Xe,!1,{fetcherSubmission:Se,preventScrollReset:ve});if(cn(Xe)){He(D,I,Xe.error);return}}let Xt=E.navigation.location||E.location,qe=as(t.history,Xt,ke.signal),ti=d||u,fn=E.navigation.state!=="idle"?Ur(ti,E.navigation.location,f):E.matches;Oe(fn,"Didn't find any matches after fetcher action");let rn=++te;F.set(D,rn);let br=no(Se,Xe.data);E.fetchers.set(D,br);let{dsMatches:ni,revalidatingFetchers:On}=Ep(qe,oe,a,l,t.history,E,fn,Se,Xt,r,!1,ue,de,ye,ce,V,ti,f,t.patchRoutesOnNavigation!=null,[Ie.route.id,Xe],xe);On.filter(it=>it.key!==D).forEach(it=>{let Zn=it.key,ri=E.fetchers.get(Zn),ii=no(void 0,ri?ri.data:void 0);E.fetchers.set(Zn,ii),Ut(Zn),it.controller&&X.set(Zn,it.controller)}),$e({fetchers:new Map(E.fetchers)});let Qn=()=>On.forEach(it=>Ut(it.key));ke.signal.addEventListener("abort",Qn);let{loaderResults:$t,fetcherResults:Be}=await Ce(ni,On,qe,oe);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",Qn),F.delete(D),X.delete(D),On.forEach(it=>X.delete(it.key)),E.fetchers.has(D)){let it=ur(Xe.data);E.fetchers.set(D,it)}let Je=Va($t);if(Je)return Pt(qe,Je.result,!1,{preventScrollReset:ve});if(Je=Va(Be),Je)return V.add(Je.key),Pt(qe,Je.result,!1,{preventScrollReset:ve});let{loaderData:wr,errors:Jn}=Ap(E,fn,$t,void 0,On,Be);Li(rn),E.navigation.state==="loading"&&rn>K?(Oe(A,"Expected pending action"),q&&q.abort(),je(E.navigation.location,{matches:fn,loaderData:wr,errors:Jn,fetchers:new Map(E.fetchers)})):($e({errors:Jn,loaderData:Op(E.loaderData,wr,fn,Jn),fetchers:new Map(E.fetchers)}),ue=!1)}async function Gn(D,I,$,ne,oe,we,he,ve,Se){let xe=E.fetchers.get(D);Pe(D,no(Se,xe?xe.data:void 0),{flushSync:he});let Re=new AbortController,ke=as(t.history,$,Re.signal);if(we){let Xe=await xr(ne,new URL(ke.url).pathname,ke.signal,D);if(Xe.type==="aborted")return;if(Xe.type==="error"){He(D,I,Xe.error,{flushSync:he});return}else if(Xe.matches)ne=Xe.matches;else{He(D,I,bn(404,{pathname:$}),{flushSync:he});return}}let Ue=dl(ne,$);X.set(D,Re);let Ie=te,yt=us(a,l,ke,ne,Ue,r,oe),kt=(await Y(ke,yt,oe,D))[Ue.route.id];if(X.get(D)===Re&&X.delete(D),!ke.signal.aborted){if(ye.has(D)){Pe(D,ur(void 0));return}if(_i(kt))if(K>Ie){Pe(D,ur(void 0));return}else{V.add(D),await Pt(ke,kt,!1,{preventScrollReset:ve});return}if(cn(kt)){He(D,I,kt.error);return}Pe(D,ur(kt.data))}}async function Pt(D,I,$,{submission:ne,fetcherSubmission:oe,preventScrollReset:we,replace:he}={}){$||(H?.resolve(),H=null),I.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let ve=I.response.headers.get("Location");Oe(ve,"Expected a Location header on the redirect Response"),ve=Np(ve,new URL(D.url),f,t.history);let Se=So(E.location,ve,{_isRedirect:!0});if(n){let yt=!1;if(I.response.headers.has("X-Remix-Reload-Document"))yt=!0;else if(El(ve)){const ht=Wg(ve,!0);yt=ht.origin!==e.location.origin||wn(ht.pathname,f)==null}if(yt){he?e.location.replace(ve):e.location.assign(ve);return}}q=null;let xe=he===!0||I.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Re,formAction:ke,formEncType:Ue}=E.navigation;!ne&&!oe&&Re&&ke&&Ue&&(ne=jp(E.navigation));let Ie=ne||oe;if(tb.has(I.response.status)&&Ie&&Ft(Ie.formMethod))await xt(xe,Se,{submission:{...Ie,formAction:ve},preventScrollReset:we||G,enableViewTransition:$?Z:void 0});else{let yt=Ec(Se,ne);await xt(xe,Se,{overrideNavigation:yt,fetcherSubmission:oe,preventScrollReset:we||G,enableViewTransition:$?Z:void 0})}}async function Y(D,I,$,ne){let oe,we={};try{oe=await db(p,D,I,ne,$,!1)}catch(he){return I.filter(ve=>ve.shouldLoad).forEach(ve=>{we[ve.route.id]={type:"error",error:he}}),we}if(D.signal.aborted)return we;if(!Ft(D.method))for(let he of I){if(oe[he.route.id]?.type==="error")break;!oe.hasOwnProperty(he.route.id)&&!E.loaderData.hasOwnProperty(he.route.id)&&(!E.errors||!E.errors.hasOwnProperty(he.route.id))&&he.shouldCallHandler()&&(oe[he.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${he.route.id}`)})}for(let[he,ve]of Object.entries(oe))if(wb(ve)){let Se=ve.result;we[he]={type:"redirect",response:mb(Se,D,he,I,f)}}else we[he]=await pb(ve);return we}async function Ce(D,I,$,ne){let oe=Y($,D,ne,null),we=Promise.all(I.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let Re=(await Y(Se.request,Se.matches,ne,Se.key))[Se.match.route.id];return{[Se.key]:Re}}else return Promise.resolve({[Se.key]:{type:"error",error:bn(404,{pathname:Se.path})}})})),he=await oe,ve=(await we).reduce((Se,xe)=>Object.assign(Se,xe),{});return{loaderResults:he,fetcherResults:ve}}function Te(){ue=!0,ce.forEach((D,I)=>{X.has(I)&&de.add(I),Ut(I)})}function Pe(D,I,$={}){E.fetchers.set(D,I),$e({fetchers:new Map(E.fetchers)},{flushSync:($&&$.flushSync)===!0})}function He(D,I,$,ne={}){let oe=$r(E.matches,I);ct(D),$e({errors:{[oe.route.id]:$},fetchers:new Map(E.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function ot(D){return le.set(D,(le.get(D)||0)+1),ye.has(D)&&ye.delete(D),E.fetchers.get(D)||nb}function Yt(D,I){Ut(D,I?.reason),Pe(D,ur(null))}function ct(D){let I=E.fetchers.get(D);X.has(D)&&!(I&&I.state==="loading"&&F.has(D))&&Ut(D),ce.delete(D),F.delete(D),V.delete(D),ye.delete(D),de.delete(D),E.fetchers.delete(D)}function qn(D){let I=(le.get(D)||0)-1;I<=0?(le.delete(D),ye.add(D)):le.set(D,I),$e({fetchers:new Map(E.fetchers)})}function Ut(D,I){let $=X.get(D);$&&($.abort(I),X.delete(D))}function Io(D){for(let I of D){let $=ot(I),ne=ur($.data);E.fetchers.set(I,ne)}}function Ni(){let D=[],I=!1;for(let $ of V){let ne=E.fetchers.get($);Oe(ne,`Expected fetcher: ${$}`),ne.state==="loading"&&(V.delete($),D.push($),I=!0)}return Io(D),I}function Li(D){let I=[];for(let[$,ne]of F)if(ne<D){let oe=E.fetchers.get($);Oe(oe,`Expected fetcher: ${$}`),oe.state==="loading"&&(Ut($),F.delete($),I.push($))}return Io(I),I.length>0}function ys(D,I){let $=E.blockers.get(D)||to;return be.get(D)!==I&&be.set(D,I),$}function Ai(D){E.blockers.delete(D),be.delete(D)}function vr(D,I){let $=E.blockers.get(D)||to;Oe($.state==="unblocked"&&I.state==="blocked"||$.state==="blocked"&&I.state==="blocked"||$.state==="blocked"&&I.state==="proceeding"||$.state==="blocked"&&I.state==="unblocked"||$.state==="proceeding"&&I.state==="unblocked",`Invalid blocker state transition: ${$.state} -> ${I.state}`);let ne=new Map(E.blockers);ne.set(D,I),$e({blockers:ne})}function Kn({currentLocation:D,nextLocation:I,historyAction:$}){if(be.size===0)return;be.size>1&&ft(!1,"A router only supports one blocker at a time");let ne=Array.from(be.entries()),[oe,we]=ne[ne.length-1],he=E.blockers.get(oe);if(!(he&&he.state==="proceeding")&&we({currentLocation:D,nextLocation:I,historyAction:$}))return oe}function An(D){let I=bn(404,{pathname:D}),$=d||u,{matches:ne,route:oe}=Wa($);return{notFoundMatches:ne,route:oe,error:I}}function Bo(D,I,$){if(b=D,S=I,w=$||null,!C&&E.navigation===Mc){C=!0;let ne=xs(E.location,E.matches);ne!=null&&$e({restoreScrollPosition:ne})}return()=>{b=null,S=null,w=null}}function vs(D,I){return w&&w(D,I.map(ne=>Px(ne,E.loaderData)))||D.key}function Uo(D,I){if(b&&S){let $=vs(D,I);b[$]=S()}}function xs(D,I){if(b){let $=vs(D,I),ne=b[$];if(typeof ne=="number")return ne}return null}function Zr(D,I,$){if(t.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:co(I,$,f,!0)}}else return{active:!0,matches:co(I,$,f,!0)||[]};return{active:!1,matches:null}}async function xr(D,I,$,ne){if(!t.patchRoutesOnNavigation)return{type:"success",matches:D};let oe=D;for(;;){let we=d==null,he=d||u,ve=l;try{await t.patchRoutesOnNavigation({signal:$,path:I,matches:oe,fetcherKey:ne,patch:(Re,ke)=>{$.aborted||Pp(Re,ke,he,ve,a,!1)}})}catch(Re){return{type:"error",error:Re,partialMatches:oe}}finally{we&&!$.aborted&&(u=[...u])}if($.aborted)return{type:"aborted"};let Se=Ur(he,I,f),xe=null;if(Se){if(Object.keys(Se[0].params).length===0)return{type:"success",matches:Se};if(xe=co(he,I,f,!0),!(xe&&oe.length<xe.length&&bs(oe,xe.slice(0,oe.length))))return{type:"success",matches:Se}}if(xe||(xe=co(he,I,f,!0)),!xe||bs(oe,xe))return{type:"success",matches:null};oe=xe}}function bs(D,I){return D.length===I.length&&D.every(($,ne)=>$.route.id===I[ne].route.id)}function ei(D){l={},d=ko(D,a,void 0,l)}function ws(D,I,$=!1){let ne=d==null;Pp(D,I,d||u,l,a,$),ne&&(u=[...u],$e({}))}return j={get basename(){return f},get future(){return g},get state(){return E},get routes(){return u},get window(){return e},initialize:Ye,subscribe:Sn,enableScrollRestoration:Bo,navigate:Tt,fetch:kn,revalidate:It,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:ot,resetFetcher:Yt,deleteFetcher:qn,dispose:gt,getBlocker:ys,deleteBlocker:Ai,patchRoutes:ws,_internalFetchControllers:X,_internalSetRoutes:ei,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){$e(D)}},t.unstable_instrumentations&&(j=Xx(j,t.unstable_instrumentations.map(D=>D.router).filter(Boolean))),j}function sb(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Jc(t,e,n,r,s,a){let l,u;if(s){l=[];for(let f of e)if(l.push(f),f.route.id===s){u=f;break}}else l=e,u=e[e.length-1];let d=pd(r||".",hd(l),wn(t.pathname,n)||t.pathname,a==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&u){let f=yd(d.search);if(u.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&f){let p=new URLSearchParams(d.search),g=p.getAll("index");p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let v=p.toString();d.search=v?`?${v}`:""}}return n!=="/"&&(d.pathname=Ux({basename:n,pathname:d.pathname})),Yn(d)}function Mp(t,e,n){if(!n||!sb(n))return{path:e};if(n.formMethod&&!kb(n.formMethod))return{path:e,error:bn(405,{method:n.formMethod})};let r=()=>({path:e,error:bn(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),l=a0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ft(a))return r();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[x,b])=>`${v}${x}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Ft(a))return r();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}Oe(typeof FormData=="function","FormData is not available in this environment");let u,d;if(n.formData)u=td(n.formData),d=n.formData;else if(n.body instanceof FormData)u=td(n.body),d=n.body;else if(n.body instanceof URLSearchParams)u=n.body,d=Lp(u);else if(n.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(n.body),d=Lp(u)}catch{return r()}let f={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Ft(f.formMethod))return{path:e,submission:f};let p=gr(e);return t&&p.search&&yd(p.search)&&u.append("index",""),p.search=`?${u}`,{path:Yn(p),submission:f}}function Ep(t,e,n,r,s,a,l,u,d,f,p,g,v,x,b,w,S,C,R,M,L){let T=M?cn(M[1])?M[1].error:M[1].data:void 0,j=s.createURL(a.location),E=s.createURL(d),A;if(p&&a.errors){let re=Object.keys(a.errors)[0];A=l.findIndex(ue=>ue.route.id===re)}else if(M&&cn(M[1])){let re=M[0];A=l.findIndex(ue=>ue.route.id===re)-1}let H=M?M[1].statusCode:void 0,G=H&&H>=400,q={currentUrl:j,currentParams:a.matches[0]?.params||{},nextUrl:E,nextParams:l[0].params,...u,actionResult:T,actionStatus:H},Z=Ao(l),ae=l.map((re,ue)=>{let{route:de}=re,X=null;if(A!=null&&ue>A?X=!1:de.lazy?X=!0:md(de)?p?X=Zc(de,a.loaderData,a.errors):ob(a.loaderData,a.matches[ue],re)&&(X=!0):X=!1,X!==null)return ed(n,r,t,Z,re,f,e,X);let te=!1;typeof L=="boolean"?te=L:G?te=!1:(g||j.pathname+j.search===E.pathname+E.search||j.search!==E.search||ab(a.matches[ue],re))&&(te=!0);let K={...q,defaultShouldRevalidate:te},F=go(re,K);return ed(n,r,t,Z,re,f,e,F,K,L)}),Q=[];return b.forEach((re,ue)=>{if(p||!l.some(le=>le.route.id===re.routeId)||x.has(ue))return;let de=a.fetchers.get(ue),X=de&&de.state!=="idle"&&de.data===void 0,te=Ur(S,re.path,C);if(!te){if(R&&X)return;Q.push({key:ue,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(w.has(ue))return;let K=dl(te,re.path),F=new AbortController,V=as(s,re.path,F.signal),ce=null;if(v.has(ue))v.delete(ue),ce=us(n,r,V,te,K,f,e);else if(X)g&&(ce=us(n,r,V,te,K,f,e));else{let le;typeof L=="boolean"?le=L:G?le=!1:le=g;let ye={...q,defaultShouldRevalidate:le};go(K,ye)&&(ce=us(n,r,V,te,K,f,e,ye))}ce&&Q.push({key:ue,routeId:re.routeId,path:re.path,matches:ce,match:K,request:V,controller:F})}),{dsMatches:ae,revalidatingFetchers:Q}}function md(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Zc(t,e,n){if(t.lazy)return!0;if(!md(t))return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function ob(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function ab(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function go(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Pp(t,e,n,r,s,a){let l;if(t){let f=r[t];Oe(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=n;let u=[],d=[];if(e.forEach(f=>{let p=l.find(g=>n0(f,g));p?d.push({existingRoute:p,newRoute:f}):u.push(f)}),u.length>0){let f=ko(u,s,[t||"_","patch",String(l?.length||"0")],r);l.push(...f)}if(a&&d.length>0)for(let f=0;f<d.length;f++){let{existingRoute:p,newRoute:g}=d[f],v=p,[x]=ko([g],s,[],{},!0);Object.assign(v,{element:x.element?x.element:v.element,errorElement:x.errorElement?x.errorElement:v.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:v.hydrateFallbackElement})}}function n0(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(s=>n0(n,s))):!1}var Rp=new WeakMap,r0=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(Oe(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[t];if(!a)return;let l=Rp.get(s);l||(l={},Rp.set(s,l));let u=l[t];if(u)return u;let d=(async()=>{let f=kx(t),g=s[t]!==void 0&&t!=="hasErrorBoundary";if(f)ft(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(g)ft(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await a();v!=null&&(Object.assign(s,{[t]:v}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(v=>v===void 0)&&(s.lazy=void 0))})();return l[t]=d,d},Dp=new WeakMap;function lb(t,e,n,r,s){let a=n[t.id];if(Oe(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=Dp.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=(async()=>{Oe(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),x={};for(let b in v){let w=v[b];if(w===void 0)continue;let S=Mx(b),R=a[b]!==void 0&&b!=="hasErrorBoundary";S?ft(!S,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?ft(!R,`Route "${a.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):x[b]=w}Object.assign(a,x),Object.assign(a,{...r(a),lazy:void 0})})();return Dp.set(a,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(t.lazy),u=[],d;for(let p of l){if(s&&s.includes(p))continue;let g=r0({key:p,route:t,manifest:n,mapRouteProperties:r});g&&(u.push(g),p===e&&(d=g))}let f=u.length>0?Promise.all(u).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function Tp(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{n[e[a].route.id]=s}),n}async function ub(t){return t.matches.some(e=>e.route.middleware)?i0(t,()=>Tp(t)):Tp(t)}function i0(t,e){return cb(t,e,r=>{if(Sb(r))throw r;return r},xb,n);function n(r,s,a){if(a)return Promise.resolve(Object.assign(a.value,{[s]:{type:"error",result:r}}));{let{matches:l}=t,u=Math.min(Math.max(l.findIndex(f=>f.route.id===s),0),Math.max(l.findIndex(f=>f.shouldCallHandler()),0)),d=$r(l,l[u].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function cb(t,e,n,r,s){let{matches:a,request:l,params:u,context:d,unstable_pattern:f}=t,p=a.flatMap(v=>v.route.middleware?v.route.middleware.map(x=>[v.route.id,x]):[]);return await s0({request:l,params:u,context:d,unstable_pattern:f},p,e,n,r,s)}async function s0(t,e,n,r,s,a,l=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason??new Error(`Request aborted: ${u.method} ${u.url}`);let d=e[l];if(!d)return await n();let[f,p]=d,g,v=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await s0(t,e,n,r,s,a,l+1)},g.value}catch(x){return g={value:await a(x,f,g)},g.value}};try{let x=await p(t,v),b=x!=null?r(x):void 0;return s(b)?b:g?b??g.value:(g={value:await v()},g.value)}catch(x){return await a(x,f,g)}}function o0(t,e,n,r,s){let a=r0({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=lb(r.route,Ft(n.method)?"action":"loader",e,t,s);return{middleware:a,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function ed(t,e,n,r,s,a,l,u,d=null,f){let p=!1,g=o0(t,e,n,s,a);return{...s,_lazyPromises:g,shouldLoad:u,shouldRevalidateArgs:d,shouldCallHandler(v){return p=!0,d?typeof f=="boolean"?go(s,{...d,defaultShouldRevalidate:f}):typeof v=="boolean"?go(s,{...d,defaultShouldRevalidate:v}):go(s,d):u},resolve(v){let{lazy:x,loader:b,middleware:w}=s.route,S=p||u||v&&!Ft(n.method)&&(x||b),C=w&&w.length>0&&!b&&!x;return S&&(Ft(n.method)||!C)?fb({request:n,unstable_pattern:r,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function us(t,e,n,r,s,a,l,u=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:u,shouldCallHandler:()=>!1,_lazyPromises:o0(t,e,n,d,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ed(t,e,n,Ao(r),d,a,l,!0,u))}async function db(t,e,n,r,s,a){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let l={request:e,unstable_pattern:Ao(n),params:n[0].params,context:s,matches:n},d=await t({...l,fetcherKey:r,runClientMiddleware:f=>{let p=l;return i0(p,()=>f({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function fb({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let u,d,f=Ft(t.method),p=f?"action":"loader",g=v=>{let x,b=new Promise((C,R)=>x=R);d=()=>x(),t.signal.addEventListener("abort",d);let w=C=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):v({request:t,unstable_pattern:e,params:n.params,context:l},...C!==void 0?[C]:[]),S=(async()=>{try{return{type:"data",result:await(a?a(R=>w(R)):w())}}catch(C){return{type:"error",result:C}}})();return Promise.race([S,b])};try{let v=f?n.route.action:n.route.loader;if(r||s)if(v){let x,[b]=await Promise.all([g(v).catch(w=>{x=w}),r,s]);if(x!==void 0)throw x;u=b}else{await r;let x=f?n.route.action:n.route.loader;if(x)[u]=await Promise.all([g(x),s]);else if(p==="action"){let b=new URL(t.url),w=b.pathname+b.search;throw bn(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(v)u=await g(v);else{let x=new URL(t.url),b=x.pathname+x.search;throw bn(404,{pathname:b})}}catch(v){return{type:"error",result:v}}finally{d&&t.signal.removeEventListener("abort",d)}return u}async function hb(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function pb(t){let{result:e,type:n}=t;if(gd(e)){let r;try{r=await hb(e)}catch(s){return{type:"error",error:s}}return n==="error"?{type:"error",error:new Lo(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?zp(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:vb(e),statusCode:Co(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Co(e)?e.status:void 0}:zp(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function mb(t,e,n,r,s){let a=t.headers.get("Location");if(Oe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!El(a)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=Jc(new URL(e.url),l,s,a),t.headers.set("Location",a)}return t}function Np(t,e,n,r){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(El(t)){let a=t,l=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(s.includes(l.protocol))throw new Error("Invalid redirect location");let u=wn(l.pathname,n)!=null;if(l.origin===e.origin&&u)return l.pathname+l.search+l.hash}try{let a=r.createURL(t);if(s.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return t}function as(t,e,n,r){let s=t.createURL(a0(e)).toString(),a={signal:n};if(r&&Ft(r.formMethod)){let{formMethod:l,formEncType:u}=r;a.method=l.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):u==="text/plain"?a.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?a.body=td(r.formData):a.body=r.formData}return new Request(s,a)}function td(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Lp(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function gb(t,e,n,r=!1,s=!1){let a={},l=null,u,d=!1,f={},p=n&&cn(n[1])?n[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let v=g.route.id,x=e[v];if(Oe(!_i(x),"Cannot handle redirect results in processLoaderData"),cn(x)){let b=x.error;if(p!==void 0&&(b=p,p=void 0),l=l||{},s)l[v]=b;else{let w=$r(t,v);l[w.route.id]==null&&(l[w.route.id]=b)}r||(a[v]=t0),d||(d=!0,u=Co(x.error)?x.error.status:500),x.headers&&(f[v]=x.headers)}else a[v]=x.data,x.statusCode&&x.statusCode!==200&&!d&&(u=x.statusCode),x.headers&&(f[v]=x.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:l,statusCode:u||200,loaderHeaders:f}}function Ap(t,e,n,r,s,a){let{loaderData:l,errors:u}=gb(e,n,r);return s.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:g}=d;if(g&&g.signal.aborted)return;let v=a[f];if(Oe(v,"Did not find corresponding fetcher result"),cn(v)){let x=$r(t.matches,p?.route.id);u&&u[x.route.id]||(u={...u,[x.route.id]:v.error}),t.fetchers.delete(f)}else if(_i(v))Oe(!1,"Unhandled fetcher revalidation redirect");else{let x=ur(v.data);t.fetchers.set(f,x)}}),{loaderData:l,errors:u}}function Op(t,e,n,r){let s=Object.entries(e).filter(([,a])=>a!==t0).reduce((a,[l,u])=>(a[l]=u,a),{});for(let a of n){let l=a.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&a.route.loader&&(s[l]=t[l]),r&&r.hasOwnProperty(l))break}return s}function Fp(t){return t?cn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function $r(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Wa(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bn(t,{pathname:e,routeId:n,method:r,type:s,message:a}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",u=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new Lo(t||500,l,new Error(u),!0)}function Va(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(_i(s))return{key:r,result:s}}}function a0(t){let e=typeof t=="string"?gr(t):t;return Yn({...e,hash:""})}function yb(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function vb(t){return new Lo(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function xb(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&bb(n))}function bb(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function wb(t){return gd(t.result)&&Zg.has(t.result.status)}function cn(t){return t.type==="error"}function _i(t){return(t&&t.type)==="redirect"}function zp(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function gd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function _b(t){return Zg.has(t)}function Sb(t){return gd(t)&&_b(t.status)&&t.headers.has("Location")}function kb(t){return eb.has(t.toUpperCase())}function Ft(t){return Jx.has(t.toUpperCase())}function yd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function dl(t,e){let n=typeof e=="string"?gr(e).search:e.search;if(t[t.length-1].route.index&&yd(n||""))return t[t.length-1];let r=Gg(t);return r[r.length-1]}function jp(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:a,json:l}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Ec(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Cb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function no(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Mb(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ur(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Eb(t,e){try{let n=t.sessionStorage.getItem(e0);if(n){let r=JSON.parse(n);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function Pb(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(e0,JSON.stringify(n))}catch(r){ft(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Ip(){let t,e,n=new Promise((r,s)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{s(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ri=N.createContext(null);Ri.displayName="DataRouter";var Oo=N.createContext(null);Oo.displayName="DataRouterState";var l0=N.createContext(!1);function Rb(){return N.useContext(l0)}var vd=N.createContext({isTransitioning:!1});vd.displayName="ViewTransition";var u0=N.createContext(new Map);u0.displayName="Fetchers";var Db=N.createContext(null);Db.displayName="Await";var _n=N.createContext(null);_n.displayName="Navigation";var Pl=N.createContext(null);Pl.displayName="Location";var Xn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var xd=N.createContext(null);xd.displayName="RouteError";var c0="REACT_ROUTER_ERROR",Tb="REDIRECT",Nb="ROUTE_ERROR_RESPONSE";function Lb(t){if(t.startsWith(`${c0}:${Tb}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Ab(t){if(t.startsWith(`${c0}:${Nb}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Lo(e.status,e.statusText,e.data)}catch{}}function Ob(t,{relative:e}={}){Oe(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(_n),{hash:s,pathname:a,search:l}=zo(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:Wn([n,a])),r.createHref({pathname:u,search:l,hash:s})}function Fo(){return N.useContext(Pl)!=null}function Di(){return Oe(Fo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Pl).location}var d0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f0(t){N.useContext(_n).static||N.useLayoutEffect(t)}function Fb(){let{isDataRoute:t}=N.useContext(Xn);return t?Qb():zb()}function zb(){Oe(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Ri),{basename:e,navigator:n}=N.useContext(_n),{matches:r}=N.useContext(Xn),{pathname:s}=Di(),a=JSON.stringify(hd(r)),l=N.useRef(!1);return f0(()=>{l.current=!0}),N.useCallback((d,f={})=>{if(ft(l.current,d0),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=pd(d,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Wn([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,a,s,t])}var jb=N.createContext(null);function Ib(t){let e=N.useContext(Xn).outlet;return N.useMemo(()=>e&&N.createElement(jb.Provider,{value:t},e),[e,t])}function zo(t,{relative:e}={}){let{matches:n}=N.useContext(Xn),{pathname:r}=Di(),s=JSON.stringify(hd(n));return N.useMemo(()=>pd(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Bb(t,e,n,r,s){Oe(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(_n),{matches:l}=N.useContext(Xn),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let R=g&&g.path||"";p0(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=Di(),x;x=v;let b=x.pathname||"/",w=b;if(p!=="/"){let R=p.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=Ur(t,{pathname:w});return ft(g||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ft(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Vb(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:Wn([p,a.encodeLocation?a.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Wn([p,a.encodeLocation?a.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),l,n,r,s)}function Ub(){let t=Kb(),e=Co(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,l)}var $b=N.createElement(Ub,null),h0=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Ab(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(Xn.Provider,{value:this.props.routeContext},N.createElement(xd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(Hb,{error:t},e):e}};h0.contextType=l0;var Pc=new WeakMap;function Hb({children:t,error:e}){let{basename:n}=N.useContext(_n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Lb(e.digest);if(r){let s=Pc.get(e);if(s)throw s;let a=Kg(r.location,n);if(qg&&!Pc.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Pc.set(e,l),l}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function Wb({routeContext:t,match:e,children:n}){let r=N.useContext(Ri);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Xn.Provider,{value:t},n)}function Vb(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Oe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:x}=n,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||b){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ao(n.matches),errorInfo:g})}:void 0;return a.reduceRight((p,g,v)=>{let x,b=!1,w=null,S=null;n&&(x=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||$b,u&&(d<0&&v===0?(p0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):d===v&&(b=!0,S=g.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),R=()=>{let M;return x?M=w:b?M=S:g.route.Component?M=N.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,N.createElement(Wb,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?N.createElement(h0,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):R()},null)}function bd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(t){let e=N.useContext(Ri);return Oe(e,bd(t)),e}function Xb(t){let e=N.useContext(Oo);return Oe(e,bd(t)),e}function Gb(t){let e=N.useContext(Xn);return Oe(e,bd(t)),e}function wd(t){let e=Gb(t),n=e.matches[e.matches.length-1];return Oe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qb(){return wd("useRouteId")}function Kb(){let t=N.useContext(xd),e=Xb("useRouteError"),n=wd("useRouteError");return t!==void 0?t:e.errors?.[n]}function Qb(){let{router:t}=Yb("useNavigate"),e=wd("useNavigate"),n=N.useRef(!1);return f0(()=>{n.current=!0}),N.useCallback(async(s,a={})=>{ft(n.current,d0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Bp={};function p0(t,e,n){!e&&!Bp[t]&&(Bp[t]=!0,ft(!1,n))}var Up={};function $p(t,e){!t&&!Up[e]&&(Up[e]=!0,console.warn(e))}var Jb="useOptimistic",Hp=dx[Jb],Zb=()=>{};function e1(t){return Hp?Hp(t):[t,Zb]}function t1(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ft(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ft(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ft(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var n1=["HydrateFallback","hydrateFallbackElement"],r1=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function i1({router:t,flushSync:e,onError:n,unstable_useTransitions:r}){r=Rb()||r;let[a,l]=N.useState(t.state),[u,d]=e1(a),[f,p]=N.useState(),[g,v]=N.useState({isTransitioning:!1}),[x,b]=N.useState(),[w,S]=N.useState(),[C,R]=N.useState(),M=N.useRef(new Map),L=N.useCallback((A,{deletedFetchers:H,newErrors:G,flushSync:q,viewTransitionOpts:Z})=>{G&&n&&Object.values(G).forEach(Q=>n(Q,{location:A.location,params:A.matches[0]?.params??{},unstable_pattern:Ao(A.matches)})),A.fetchers.forEach((Q,re)=>{Q.data!==void 0&&M.current.set(re,Q.data)}),H.forEach(Q=>M.current.delete(Q)),$p(q===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ae=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if($p(Z==null||ae,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Z||!ae){e&&q?e(()=>l(A)):r===!1?l(A):N.startTransition(()=>{r===!0&&d(Q=>Wp(Q,A)),l(A)});return}if(e&&q){e(()=>{w&&(x?.resolve(),w.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})});let Q=t.window.document.startViewTransition(()=>{e(()=>l(A))});Q.finished.finally(()=>{e(()=>{b(void 0),S(void 0),p(void 0),v({isTransitioning:!1})})}),e(()=>S(Q));return}w?(x?.resolve(),w.skipTransition(),R({state:A,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})):(p(A),v({isTransitioning:!0,flushSync:!1,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}))},[t.window,e,w,x,r,d,n]);N.useLayoutEffect(()=>t.subscribe(L),[t,L]),N.useEffect(()=>{g.isTransitioning&&!g.flushSync&&b(new r1)},[g]),N.useEffect(()=>{if(x&&f&&t.window){let A=f,H=x.promise,G=t.window.document.startViewTransition(async()=>{r===!1?l(A):N.startTransition(()=>{r===!0&&d(q=>Wp(q,A)),l(A)}),await H});G.finished.finally(()=>{b(void 0),S(void 0),p(void 0),v({isTransitioning:!1})}),S(G)}},[f,x,t.window,r,d]),N.useEffect(()=>{x&&f&&u.location.key===f.location.key&&x.resolve()},[x,w,u.location,f]),N.useEffect(()=>{!g.isTransitioning&&C&&(p(C.state),v({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),R(void 0))},[g.isTransitioning,C]);let T=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,H,G)=>t.navigate(A,{state:H,preventScrollReset:G?.preventScrollReset}),replace:(A,H,G)=>t.navigate(A,{replace:!0,state:H,preventScrollReset:G?.preventScrollReset})}),[t]),j=t.basename||"/",E=N.useMemo(()=>({router:t,navigator:T,static:!1,basename:j,onError:n}),[t,T,j,n]);return N.createElement(N.Fragment,null,N.createElement(Ri.Provider,{value:E},N.createElement(Oo.Provider,{value:u},N.createElement(u0.Provider,{value:M.current},N.createElement(vd.Provider,{value:g},N.createElement(l1,{basename:j,location:u.location,navigationType:u.historyAction,navigator:T,unstable_useTransitions:r},N.createElement(s1,{routes:t.routes,future:t.future,state:u,onError:n})))))),null)}function Wp(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var s1=N.memo(o1);function o1({routes:t,future:e,state:n,onError:r}){return Bb(t,void 0,n,r,e)}function a1(t){return Ib(t.context)}function l1({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){Oe(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:u,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[u,s,a,l]);typeof n=="string"&&(n=gr(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:x="default"}=n,b=N.useMemo(()=>{let w=wn(f,u);return w==null?null:{location:{pathname:w,search:p,hash:g,state:v,key:x},navigationType:r}},[u,f,p,g,v,x,r]);return ft(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement(_n.Provider,{value:d},N.createElement(Pl.Provider,{children:e,value:b}))}var fl="get",hl="application/x-www-form-urlencoded";function Rl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function u1(t){return Rl(t)&&t.tagName.toLowerCase()==="button"}function c1(t){return Rl(t)&&t.tagName.toLowerCase()==="form"}function d1(t){return Rl(t)&&t.tagName.toLowerCase()==="input"}function f1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function h1(t,e){return t.button===0&&(!e||e==="_self")&&!f1(t)}var Ya=null;function p1(){if(Ya===null)try{new FormData(document.createElement("form"),0),Ya=!1}catch{Ya=!0}return Ya}var m1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rc(t){return t!=null&&!m1.has(t)?(ft(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hl}"`),null):t}function g1(t,e){let n,r,s,a,l;if(c1(t)){let u=t.getAttribute("action");r=u?wn(u,e):null,n=t.getAttribute("method")||fl,s=Rc(t.getAttribute("enctype"))||hl,a=new FormData(t)}else if(u1(t)||d1(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(r=d?wn(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||fl,s=Rc(t.getAttribute("formenctype"))||Rc(u.getAttribute("enctype"))||hl,a=new FormData(u,t),!p1()){let{name:f,type:p,value:g}=t;if(p==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,g)}}else{if(Rl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fl,r=null,s=hl,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _d(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function y1(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&wn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function v1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function b1(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await v1(a,n);return l.links?l.links():[]}return[]}));return k1(r.flat(1).filter(x1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Vp(t,e,n,r,s,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function w1(t,e,{includeHydrateFallback:n}={}){return _1(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function _1(t){return[...new Set(t)]}function S1(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function k1(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(S1(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function m0(){let t=N.useContext(Ri);return _d(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function C1(){let t=N.useContext(Oo);return _d(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sd=N.createContext(void 0);Sd.displayName="FrameworkContext";function g0(){let t=N.useContext(Sd);return _d(t,"You must render this element inside a <HydratedRouter> element"),t}function M1(t,e){let n=N.useContext(Sd),[r,s]=N.useState(!1),[a,l]=N.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,v=N.useRef(null);N.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=C=>{C.forEach(R=>{l(R.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),N.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{s(!0)},b=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:ro(u,x),onBlur:ro(d,b),onMouseEnter:ro(f,x),onMouseLeave:ro(p,b),onTouchStart:ro(g,x)}]:[!1,v,{}]}function ro(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function E1({page:t,...e}){let{router:n}=m0(),r=N.useMemo(()=>Ur(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(R1,{page:t,matches:r,...e}):null}function P1(t){let{manifest:e,routeModules:n}=g0(),[r,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return b1(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function R1({page:t,matches:e,...n}){let r=Di(),{future:s,manifest:a,routeModules:l}=g0(),{basename:u}=m0(),{loaderData:d,matches:f}=C1(),p=N.useMemo(()=>Vp(t,e,f,a,r,"data"),[t,e,f,a,r]),g=N.useMemo(()=>Vp(t,e,f,a,r,"assets"),[t,e,f,a,r]),v=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(R=>{let M=a.routes[R.route.id];!M||!M.hasLoader||(!p.some(L=>L.route.id===R.route.id)&&R.route.id in d&&l[R.route.id]?.shouldRevalidate||M.hasClientLoader?S=!0:w.add(R.route.id))}),w.size===0)return[];let C=y1(t,u,s.unstable_trailingSlashAwareDataRequests,"data");return S&&w.size>0&&C.searchParams.set("_routes",e.filter(R=>w.has(R.route.id)).map(R=>R.route.id).join(",")),[C.pathname+C.search]},[u,s.unstable_trailingSlashAwareDataRequests,d,r,a,p,e,t,l]),x=N.useMemo(()=>w1(g,a),[g,a]),b=P1(g);return N.createElement(N.Fragment,null,v.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:S})=>N.createElement("link",{key:w,nonce:n.nonce,...S})))}function D1(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T1&&(window.__reactRouterVersion="7.12.0")}catch{}function N1(t,e){return ib({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:bx({window:e?.window}),hydrationData:L1(),routes:t,mapRouteProperties:t1,hydrationRouteProperties:n1,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function L1(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:A1(t.errors)}),t}function A1(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Lo(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let l=new a(s.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(s.message);a.stack="",n[r]=a}}else n[r]=s;return n}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v0=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v,...x},b){let{basename:w,unstable_useTransitions:S}=N.useContext(_n),C=typeof f=="string"&&y0.test(f),R=Kg(f,w);f=R.to;let M=Ob(f,{relative:s}),[L,T,j]=M1(r,x),E=z1(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S});function A(G){e&&e(G),G.defaultPrevented||E(G)}let H=N.createElement("a",{...x,...j,href:R.absoluteURL||M,onClick:R.isExternal||a?e:A,ref:D1(b,T),target:d,"data-discover":!C&&n==="render"?"true":void 0});return L&&!C?N.createElement(N.Fragment,null,H,N.createElement(E1,{page:M})):H});v0.displayName="Link";var x0=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...f},p){let g=zo(l,{relative:f.relative}),v=Di(),x=N.useContext(Oo),{navigator:b,basename:w}=N.useContext(_n),S=x!=null&&$1(g)&&u===!0,C=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,R=v.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(R=R.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&w&&(M=wn(M,w)||M);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=R===C||!s&&R.startsWith(C)&&R.charAt(L)==="/",j=M!=null&&(M===C||!s&&M.startsWith(C)&&M.charAt(C.length)==="/"),E={isActive:T,isPending:j,isTransitioning:S},A=T?e:void 0,H;typeof r=="function"?H=r(E):H=[r,T?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(E):a;return N.createElement(v0,{...f,"aria-current":A,className:H,ref:p,style:G,to:l,viewTransition:u},typeof d=="function"?d(E):d)});x0.displayName="NavLink";var O1=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=fl,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v,...x},b)=>{let{unstable_useTransitions:w}=N.useContext(_n),S=B1(),C=U1(u,{relative:f}),R=l.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&y0.test(u),L=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let j=T.nativeEvent.submitter,E=j?.getAttribute("formmethod")||l,A=()=>S(j||T.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v});w&&n!==!1?N.startTransition(()=>A()):A()};return N.createElement("form",{ref:b,method:R,action:C,onSubmit:r?d:L,...x,"data-discover":!M&&t==="render"?"true":void 0})});O1.displayName="Form";function F1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b0(t){let e=N.useContext(Ri);return Oe(e,F1(t)),e}function z1(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=Fb(),p=Di(),g=zo(t,{relative:a});return N.useCallback(v=>{if(h1(v,e)){v.preventDefault();let x=n!==void 0?n:Yn(p)===Yn(g),b=()=>f(t,{replace:x,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:u});d?N.startTransition(()=>b()):b()}},[p,f,g,n,r,e,t,s,a,l,u,d])}var j1=0,I1=()=>`__${String(++j1)}__`;function B1(){let{router:t}=b0("useSubmit"),{basename:e}=N.useContext(_n),n=qb(),r=t.fetch,s=t.navigate;return N.useCallback(async(a,l={})=>{let{action:u,method:d,encType:f,formData:p,body:g}=g1(a,e);if(l.navigate===!1){let v=l.fetcherKey||I1();await r(v,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await s(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,s,e,n])}function U1(t,{relative:e}={}){let{basename:n}=N.useContext(_n),r=N.useContext(Xn);Oe(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...zo(t||".",{relative:e})},l=Di();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Wn([n,a.pathname])),Yn(a)}function $1(t,{relative:e}={}){let n=N.useContext(vd);Oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=b0("useViewTransitionState"),s=zo(t,{relative:e});if(!n.isTransitioning)return!1;let a=wn(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=wn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gl(s.pathname,l)!=null||gl(s.pathname,a)!=null}var H1=$g();function W1(t){return N.createElement(i1,{flushSync:H1.flushSync,...t})}function w0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=w0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function V1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=w0(t))&&(r&&(r+=" "),r+=e);return r}function yo(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function nd(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Y1(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Yp(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Xp(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function X1(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function G1(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Dc(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function q1(t,e){let n=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(n*n+r*r+s*s)}function K1(t,e){let n=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return n*n+r*r+s*s}function Gp(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function Q1(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function J1(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function rd(t,e){let n=e[0],r=e[1],s=e[2],a=n*n+r*r+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function _0(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function qp(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[0],u=n[1],d=n[2];return t[0]=s*d-a*u,t[1]=a*l-r*d,t[2]=r*u-s*l,t}function Z1(t,e,n,r){let s=e[0],a=e[1],l=e[2];return t[0]=s+r*(n[0]-s),t[1]=a+r*(n[1]-a),t[2]=l+r*(n[2]-l),t}function ew(t,e,n,r,s){const a=Math.exp(-r*s);let l=e[0],u=e[1],d=e[2];return t[0]=n[0]+(l-n[0])*a,t[1]=n[1]+(u-n[1])*a,t[2]=n[2]+(d-n[2])*a,t}function tw(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[3]*r+n[7]*s+n[11]*a+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*s+n[8]*a+n[12])/l,t[1]=(n[1]*r+n[5]*s+n[9]*a+n[13])/l,t[2]=(n[2]*r+n[6]*s+n[10]*a+n[14])/l,t}function nw(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[3]*r+n[7]*s+n[11]*a+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*s+n[8]*a)/l,t[1]=(n[1]*r+n[5]*s+n[9]*a)/l,t[2]=(n[2]*r+n[6]*s+n[10]*a)/l,t}function rw(t,e,n){let r=e[0],s=e[1],a=e[2];return t[0]=r*n[0]+s*n[3]+a*n[6],t[1]=r*n[1]+s*n[4]+a*n[7],t[2]=r*n[2]+s*n[5]+a*n[8],t}function iw(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[0],u=n[1],d=n[2],f=n[3],p=u*a-d*s,g=d*r-l*a,v=l*s-u*r,x=u*v-d*g,b=d*p-l*v,w=l*g-u*p,S=f*2;return p*=S,g*=S,v*=S,x*=2,b*=2,w*=2,t[0]=r+p+x,t[1]=s+g+b,t[2]=a+v+w,t}const sw=(function(){const t=[0,0,0],e=[0,0,0];return function(n,r){nd(t,n),nd(e,r),rd(t,t),rd(e,e);let s=_0(t,e);return s>1?0:s<-1?Math.PI:Math.acos(s)}})();function ow(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Tn extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(Y1(this,e,n,r),this)}copy(e){return nd(this,e),this}add(e,n){return n?Yp(this,e,n):Yp(this,this,e),this}sub(e,n){return n?Xp(this,e,n):Xp(this,this,e),this}multiply(e){return e.length?X1(this,this,e):Dc(this,this,e),this}divide(e){return e.length?G1(this,this,e):Dc(this,this,1/e),this}inverse(e=this){return J1(this,e),this}len(){return yo(this)}distance(e){return e?q1(this,e):yo(this)}squaredLen(){return Gp(this)}squaredDistance(e){return e?K1(this,e):Gp(this)}negate(e=this){return Q1(this,e),this}cross(e,n){return n?qp(this,e,n):qp(this,this,e),this}scale(e){return Dc(this,this,e),this}normalize(){return rd(this,this),this}dot(e){return _0(this,e)}equals(e){return ow(this,e)}applyMatrix3(e){return rw(this,this,e),this}applyMatrix4(e){return tw(this,this,e),this}scaleRotateMatrix4(e){return nw(this,this,e),this}applyQuaternion(e){return iw(this,this,e),this}angle(e){return sw(this,e)}lerp(e,n){return Z1(this,this,e,n),this}smoothLerp(e,n,r){return ew(this,this,e,n,r),this}clone(){return new Tn(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],s=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*s,this[1]=e[1]*n+e[5]*r+e[9]*s,this[2]=e[2]*n+e[6]*r+e[10]*s,this.normalize()}}const Kp=new Tn;let aw=1,lw=1,Qp=!1;class uw{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=aw++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=lw++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:s})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const a=this.attributes[r];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let l=1;s===35674&&(l=2),s===35675&&(l=3),s===35676&&(l=4);const u=a.size/l,d=l===1?0:l*l*4,f=l===1?0:l*4;for(let p=0;p<l;p++)this.gl.vertexAttribPointer(n+p,u,a.type,a.normalized,a.stride+d,a.offset+p*f),this.gl.enableVertexAttribArray(n+p),this.gl.renderer.vertexAttribDivisor(n+p,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((s,{name:a})=>{const l=this.attributes[a];l.needsUpdate&&this.updateAttribute(l)});let r=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!Qp)return console.warn("No position buffer data found to compute bounds"),Qp=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new Tn,max:new Tn,center:new Tn,scale:new Tn,radius:1/0});const s=this.bounds.min,a=this.bounds.max,l=this.bounds.center,u=this.bounds.scale;s.set(1/0),a.set(-1/0);for(let d=0,f=n.length;d<f;d+=r){const p=n[d],g=n[d+1],v=n[d+2];s.x=Math.min(p,s.x),s.y=Math.min(g,s.y),s.z=Math.min(v,s.z),a.x=Math.max(p,a.x),a.y=Math.max(g,a.y),a.z=Math.max(v,a.z)}u.sub(a,s),l.add(s,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let s=0;for(let a=0,l=n.length;a<l;a+=r)Kp.fromArray(n,a),s=Math.max(s,this.bounds.center.squaredDistance(Kp));this.bounds.radius=Math.sqrt(s)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let cw=1;const Jp={};class dw{constructor(e,{vertex:n,fragment:r,uniforms:s={},transparent:a=!1,cullFace:l=e.BACK,frontFace:u=e.CCW,depthTest:d=!0,depthWrite:f=!0,depthFunc:p=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=s,this.id=cw++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=l,this.frontFace=u,this.depthTest=d,this.depthWrite=f,this.depthFunc=p,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Zp(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Zp(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<r;l++){let u=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(u,this.gl.getUniformLocation(this.program,u.name));const d=u.name.match(/(\w+)/g);u.uniformName=d[0],u.nameComponents=d.slice(1)}this.attributeLocations=new Map;const s=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<a;l++){const u=this.gl.getActiveAttrib(this.program,l),d=this.gl.getAttribLocation(this.program,u.name);d!==-1&&(s[d]=u.name,this.attributeLocations.set(u,d))}this.attributeOrder=s.join("")}setBlendFunc(e,n,r,s){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=s,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((s,a)=>{let l=this.uniforms[a.uniformName];for(const u of a.nameComponents){if(!l)break;if(u in l)l=l[u];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return em(`Active uniform ${a.name} has not been supplied`);if(l&&l.value===void 0)return em(`${a.name} uniform is missing a value parameter`);if(l.value.texture)return n=n+1,l.value.update(n),Tc(this.gl,a.type,s,n);if(l.value.length&&l.value[0].texture){const u=[];return l.value.forEach(d=>{n=n+1,d.update(n),u.push(n)}),Tc(this.gl,a.type,s,u)}Tc(this.gl,a.type,s,l.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Tc(t,e,n,r){r=r.length?fw(r):r;const s=t.renderer.state.uniformLocations.get(n);if(r.length)if(s===void 0||s.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(hw(s,r))return;s.set?s.set(r):pw(s,r),t.renderer.state.uniformLocations.set(n,s)}else{if(s===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function Zp(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function fw(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let s=Jp[r];s||(Jp[r]=s=new Float32Array(r));for(let a=0;a<e;a++)s.set(t[a],a*n);return s}function hw(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function pw(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let Nc=0;function em(t){Nc>100||(console.warn(t),Nc++,Nc>100&&console.warn("More than 100 program warnings - stopping logs."))}const Lc=new Tn;let mw=1;class gw{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:s=1,alpha:a=!1,depth:l=!0,stencil:u=!1,antialias:d=!1,premultipliedAlpha:f=!1,preserveDrawingBuffer:p=!1,powerPreference:g="default",autoClear:v=!0,webgl:x=2}={}){const b={alpha:a,depth:l,stencil:u,antialias:d,premultipliedAlpha:f,preserveDrawingBuffer:p,powerPreference:g};this.dpr=s,this.alpha=a,this.color=!0,this.depth=l,this.stencil=u,this.premultipliedAlpha=f,this.autoClear=v,this.id=mw++,x===2&&(this.gl=e.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,s=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=s,this.gl.viewport(r,s,e,n))}setScissor(e,n,r=0,s=0){this.gl.scissor(r,s,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,s){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=s,r!==void 0?this.gl.blendFuncSeparate(e,n,r,s):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:s}){let a=[];if(n&&r&&n.updateFrustum(),e.traverse(l=>{if(!l.visible)return!0;l.draw&&(r&&l.frustumCulled&&n&&!n.frustumIntersectsMesh(l)||a.push(l))}),s){const l=[],u=[],d=[];a.forEach(f=>{f.program.transparent?f.program.depthTest?u.push(f):d.push(f):l.push(f),f.zDepth=0,!(f.renderOrder!==0||!f.program.depthTest||!n)&&(f.worldMatrix.getTranslation(Lc),Lc.applyMatrix4(n.projectionViewMatrix),f.zDepth=Lc.z)}),l.sort(this.sortOpaque),u.sort(this.sortTransparent),d.sort(this.sortUI),a=l.concat(u,d)}return a}render({scene:e,camera:n,target:r=null,update:s=!0,sort:a=!0,frustumCull:l=!0,clear:u}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(u||this.autoClear&&u!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),s&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:l,sort:a}).forEach(f=>{f.draw({camera:n})})}}function yw(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function vw(t,e,n,r,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t}function xw(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n*n+r*r+s*s+a*a;return l>0&&(l=1/Math.sqrt(l)),t[0]=n*l,t[1]=r*l,t[2]=s*l,t[3]=a*l,t}function bw(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ww(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function _w(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function tm(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],u=n[0],d=n[1],f=n[2],p=n[3];return t[0]=r*p+l*u+s*f-a*d,t[1]=s*p+l*d+a*u-r*f,t[2]=a*p+l*f+r*d-s*u,t[3]=l*p-r*u-s*d-a*f,t}function Sw(t,e,n){n*=.5;let r=e[0],s=e[1],a=e[2],l=e[3],u=Math.sin(n),d=Math.cos(n);return t[0]=r*d+l*u,t[1]=s*d+a*u,t[2]=a*d-s*u,t[3]=l*d-r*u,t}function kw(t,e,n){n*=.5;let r=e[0],s=e[1],a=e[2],l=e[3],u=Math.sin(n),d=Math.cos(n);return t[0]=r*d-a*u,t[1]=s*d+l*u,t[2]=a*d+r*u,t[3]=l*d-s*u,t}function Cw(t,e,n){n*=.5;let r=e[0],s=e[1],a=e[2],l=e[3],u=Math.sin(n),d=Math.cos(n);return t[0]=r*d+s*u,t[1]=s*d-r*u,t[2]=a*d+l*u,t[3]=l*d-a*u,t}function Mw(t,e,n,r){let s=e[0],a=e[1],l=e[2],u=e[3],d=n[0],f=n[1],p=n[2],g=n[3],v,x,b,w,S;return x=s*d+a*f+l*p+u*g,x<0&&(x=-x,d=-d,f=-f,p=-p,g=-g),1-x>1e-6?(v=Math.acos(x),b=Math.sin(v),w=Math.sin((1-r)*v)/b,S=Math.sin(r*v)/b):(w=1-r,S=r),t[0]=w*s+S*d,t[1]=w*a+S*f,t[2]=w*l+S*p,t[3]=w*u+S*g,t}function Ew(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n*n+r*r+s*s+a*a,u=l?1/l:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-s*u,t[3]=a*u,t}function Pw(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Rw(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let s=0;e[4]>e[0]&&(s=1),e[8]>e[s*3+s]&&(s=2);let a=(s+1)%3,l=(s+2)%3;r=Math.sqrt(e[s*3+s]-e[a*3+a]-e[l*3+l]+1),t[s]=.5*r,r=.5/r,t[3]=(e[a*3+l]-e[l*3+a])*r,t[a]=(e[a*3+s]+e[s*3+a])*r,t[l]=(e[l*3+s]+e[s*3+l])*r}return t}function Dw(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),s=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),l=Math.cos(e[1]*.5),u=Math.sin(e[2]*.5),d=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*l*d+s*a*u,t[1]=s*a*d-r*l*u,t[2]=s*l*u+r*a*d,t[3]=s*l*d-r*a*u):n==="YXZ"?(t[0]=r*l*d+s*a*u,t[1]=s*a*d-r*l*u,t[2]=s*l*u-r*a*d,t[3]=s*l*d+r*a*u):n==="ZXY"?(t[0]=r*l*d-s*a*u,t[1]=s*a*d+r*l*u,t[2]=s*l*u+r*a*d,t[3]=s*l*d-r*a*u):n==="ZYX"?(t[0]=r*l*d-s*a*u,t[1]=s*a*d+r*l*u,t[2]=s*l*u-r*a*d,t[3]=s*l*d+r*a*u):n==="YZX"?(t[0]=r*l*d+s*a*u,t[1]=s*a*d+r*l*u,t[2]=s*l*u-r*a*d,t[3]=s*l*d-r*a*u):n==="XZY"&&(t[0]=r*l*d-s*a*u,t[1]=s*a*d-r*l*u,t[2]=s*l*u+r*a*d,t[3]=s*l*d+r*a*u),t}const Tw=yw,Nw=vw,Lw=bw,Aw=xw;class Ow extends Array{constructor(e=0,n=0,r=0,s=1){super(e,n,r,s),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(l,u){const d=Reflect.set(...arguments);return d&&a.includes(u)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return ww(this._target),this.onChange(),this}set(e,n,r,s){return e.length?this.copy(e):(Nw(this._target,e,n,r,s),this.onChange(),this)}rotateX(e){return Sw(this._target,this._target,e),this.onChange(),this}rotateY(e){return kw(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Cw(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Ew(this._target,e),this.onChange(),this}conjugate(e=this._target){return Pw(this._target,e),this.onChange(),this}copy(e){return Tw(this._target,e),this.onChange(),this}normalize(e=this._target){return Aw(this._target,e),this.onChange(),this}multiply(e,n){return n?tm(this._target,e,n):tm(this._target,this._target,e),this.onChange(),this}dot(e){return Lw(this._target,e)}fromMatrix3(e){return Rw(this._target,e),this.onChange(),this}fromEuler(e,n){return Dw(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return _w(this._target,e,n),this.onChange(),this}slerp(e,n){return Mw(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const Fw=1e-6;function zw(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function jw(t,e,n,r,s,a,l,u,d,f,p,g,v,x,b,w,S){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=a,t[5]=l,t[6]=u,t[7]=d,t[8]=f,t[9]=p,t[10]=g,t[11]=v,t[12]=x,t[13]=b,t[14]=w,t[15]=S,t}function Iw(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Bw(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=e[9],v=e[10],x=e[11],b=e[12],w=e[13],S=e[14],C=e[15],R=n*u-r*l,M=n*d-s*l,L=n*f-a*l,T=r*d-s*u,j=r*f-a*u,E=s*f-a*d,A=p*w-g*b,H=p*S-v*b,G=p*C-x*b,q=g*S-v*w,Z=g*C-x*w,ae=v*C-x*S,Q=R*ae-M*Z+L*q+T*G-j*H+E*A;return Q?(Q=1/Q,t[0]=(u*ae-d*Z+f*q)*Q,t[1]=(s*Z-r*ae-a*q)*Q,t[2]=(w*E-S*j+C*T)*Q,t[3]=(v*j-g*E-x*T)*Q,t[4]=(d*G-l*ae-f*H)*Q,t[5]=(n*ae-s*G+a*H)*Q,t[6]=(S*L-b*E-C*M)*Q,t[7]=(p*E-v*L+x*M)*Q,t[8]=(l*Z-u*G+f*A)*Q,t[9]=(r*G-n*Z-a*A)*Q,t[10]=(b*j-w*L+C*R)*Q,t[11]=(g*L-p*j-x*R)*Q,t[12]=(u*H-l*q-d*A)*Q,t[13]=(n*q-r*H+s*A)*Q,t[14]=(w*M-b*T-S*R)*Q,t[15]=(p*T-g*M+v*R)*Q,t):null}function S0(t){let e=t[0],n=t[1],r=t[2],s=t[3],a=t[4],l=t[5],u=t[6],d=t[7],f=t[8],p=t[9],g=t[10],v=t[11],x=t[12],b=t[13],w=t[14],S=t[15],C=e*l-n*a,R=e*u-r*a,M=e*d-s*a,L=n*u-r*l,T=n*d-s*l,j=r*d-s*u,E=f*b-p*x,A=f*w-g*x,H=f*S-v*x,G=p*w-g*b,q=p*S-v*b,Z=g*S-v*w;return C*Z-R*q+M*G+L*H-T*A+j*E}function nm(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],u=e[4],d=e[5],f=e[6],p=e[7],g=e[8],v=e[9],x=e[10],b=e[11],w=e[12],S=e[13],C=e[14],R=e[15],M=n[0],L=n[1],T=n[2],j=n[3];return t[0]=M*r+L*u+T*g+j*w,t[1]=M*s+L*d+T*v+j*S,t[2]=M*a+L*f+T*x+j*C,t[3]=M*l+L*p+T*b+j*R,M=n[4],L=n[5],T=n[6],j=n[7],t[4]=M*r+L*u+T*g+j*w,t[5]=M*s+L*d+T*v+j*S,t[6]=M*a+L*f+T*x+j*C,t[7]=M*l+L*p+T*b+j*R,M=n[8],L=n[9],T=n[10],j=n[11],t[8]=M*r+L*u+T*g+j*w,t[9]=M*s+L*d+T*v+j*S,t[10]=M*a+L*f+T*x+j*C,t[11]=M*l+L*p+T*b+j*R,M=n[12],L=n[13],T=n[14],j=n[15],t[12]=M*r+L*u+T*g+j*w,t[13]=M*s+L*d+T*v+j*S,t[14]=M*a+L*f+T*x+j*C,t[15]=M*l+L*p+T*b+j*R,t}function Uw(t,e,n){let r=n[0],s=n[1],a=n[2],l,u,d,f,p,g,v,x,b,w,S,C;return e===t?(t[12]=e[0]*r+e[4]*s+e[8]*a+e[12],t[13]=e[1]*r+e[5]*s+e[9]*a+e[13],t[14]=e[2]*r+e[6]*s+e[10]*a+e[14],t[15]=e[3]*r+e[7]*s+e[11]*a+e[15]):(l=e[0],u=e[1],d=e[2],f=e[3],p=e[4],g=e[5],v=e[6],x=e[7],b=e[8],w=e[9],S=e[10],C=e[11],t[0]=l,t[1]=u,t[2]=d,t[3]=f,t[4]=p,t[5]=g,t[6]=v,t[7]=x,t[8]=b,t[9]=w,t[10]=S,t[11]=C,t[12]=l*r+p*s+b*a+e[12],t[13]=u*r+g*s+w*a+e[13],t[14]=d*r+v*s+S*a+e[14],t[15]=f*r+x*s+C*a+e[15]),t}function $w(t,e,n){let r=n[0],s=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Hw(t,e,n,r){let s=r[0],a=r[1],l=r[2],u=Math.hypot(s,a,l),d,f,p,g,v,x,b,w,S,C,R,M,L,T,j,E,A,H,G,q,Z,ae,Q,re;return Math.abs(u)<Fw?null:(u=1/u,s*=u,a*=u,l*=u,d=Math.sin(n),f=Math.cos(n),p=1-f,g=e[0],v=e[1],x=e[2],b=e[3],w=e[4],S=e[5],C=e[6],R=e[7],M=e[8],L=e[9],T=e[10],j=e[11],E=s*s*p+f,A=a*s*p+l*d,H=l*s*p-a*d,G=s*a*p-l*d,q=a*a*p+f,Z=l*a*p+s*d,ae=s*l*p+a*d,Q=a*l*p-s*d,re=l*l*p+f,t[0]=g*E+w*A+M*H,t[1]=v*E+S*A+L*H,t[2]=x*E+C*A+T*H,t[3]=b*E+R*A+j*H,t[4]=g*G+w*q+M*Z,t[5]=v*G+S*q+L*Z,t[6]=x*G+C*q+T*Z,t[7]=b*G+R*q+j*Z,t[8]=g*ae+w*Q+M*re,t[9]=v*ae+S*Q+L*re,t[10]=x*ae+C*Q+T*re,t[11]=b*ae+R*Q+j*re,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Ww(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function k0(t,e){let n=e[0],r=e[1],s=e[2],a=e[4],l=e[5],u=e[6],d=e[8],f=e[9],p=e[10];return t[0]=Math.hypot(n,r,s),t[1]=Math.hypot(a,l,u),t[2]=Math.hypot(d,f,p),t}function Vw(t){let e=t[0],n=t[1],r=t[2],s=t[4],a=t[5],l=t[6],u=t[8],d=t[9],f=t[10];const p=e*e+n*n+r*r,g=s*s+a*a+l*l,v=u*u+d*d+f*f;return Math.sqrt(Math.max(p,g,v))}const C0=(function(){const t=[1,1,1];return function(e,n){let r=t;k0(r,n);let s=1/r[0],a=1/r[1],l=1/r[2],u=n[0]*s,d=n[1]*a,f=n[2]*l,p=n[4]*s,g=n[5]*a,v=n[6]*l,x=n[8]*s,b=n[9]*a,w=n[10]*l,S=u+g+w,C=0;return S>0?(C=Math.sqrt(S+1)*2,e[3]=.25*C,e[0]=(v-b)/C,e[1]=(x-f)/C,e[2]=(d-p)/C):u>g&&u>w?(C=Math.sqrt(1+u-g-w)*2,e[3]=(v-b)/C,e[0]=.25*C,e[1]=(d+p)/C,e[2]=(x+f)/C):g>w?(C=Math.sqrt(1+g-u-w)*2,e[3]=(x-f)/C,e[0]=(d+p)/C,e[1]=.25*C,e[2]=(v+b)/C):(C=Math.sqrt(1+w-u-g)*2,e[3]=(d-p)/C,e[0]=(x+f)/C,e[1]=(v+b)/C,e[2]=.25*C),e}})();function Yw(t,e,n,r){let s=yo([t[0],t[1],t[2]]);const a=yo([t[4],t[5],t[6]]),l=yo([t[8],t[9],t[10]]);S0(t)<0&&(s=-s),n[0]=t[12],n[1]=t[13],n[2]=t[14];const d=t.slice(),f=1/s,p=1/a,g=1/l;d[0]*=f,d[1]*=f,d[2]*=f,d[4]*=p,d[5]*=p,d[6]*=p,d[8]*=g,d[9]*=g,d[10]*=g,C0(e,d),r[0]=s,r[1]=a,r[2]=l}function Xw(t,e,n,r){const s=t,a=e[0],l=e[1],u=e[2],d=e[3],f=a+a,p=l+l,g=u+u,v=a*f,x=a*p,b=a*g,w=l*p,S=l*g,C=u*g,R=d*f,M=d*p,L=d*g,T=r[0],j=r[1],E=r[2];return s[0]=(1-(w+C))*T,s[1]=(x+L)*T,s[2]=(b-M)*T,s[3]=0,s[4]=(x-L)*j,s[5]=(1-(v+C))*j,s[6]=(S+R)*j,s[7]=0,s[8]=(b+M)*E,s[9]=(S-R)*E,s[10]=(1-(v+w))*E,s[11]=0,s[12]=n[0],s[13]=n[1],s[14]=n[2],s[15]=1,s}function Gw(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n+n,u=r+r,d=s+s,f=n*l,p=r*l,g=r*u,v=s*l,x=s*u,b=s*d,w=a*l,S=a*u,C=a*d;return t[0]=1-g-b,t[1]=p+C,t[2]=v-S,t[3]=0,t[4]=p-C,t[5]=1-f-b,t[6]=x+w,t[7]=0,t[8]=v+S,t[9]=x-w,t[10]=1-f-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function qw(t,e,n,r,s){let a=1/Math.tan(e/2),l=1/(r-s);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+r)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*r*l,t[15]=0,t}function Kw(t,e,n,r,s,a,l){let u=1/(e-n),d=1/(r-s),f=1/(a-l);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*d,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*u,t[13]=(s+r)*d,t[14]=(l+a)*f,t[15]=1,t}function Qw(t,e,n,r){let s=e[0],a=e[1],l=e[2],u=r[0],d=r[1],f=r[2],p=s-n[0],g=a-n[1],v=l-n[2],x=p*p+g*g+v*v;x===0?v=1:(x=1/Math.sqrt(x),p*=x,g*=x,v*=x);let b=d*v-f*g,w=f*p-u*v,S=u*g-d*p;return x=b*b+w*w+S*S,x===0&&(f?u+=1e-6:d?f+=1e-6:d+=1e-6,b=d*v-f*g,w=f*p-u*v,S=u*g-d*p,x=b*b+w*w+S*S),x=1/Math.sqrt(x),b*=x,w*=x,S*=x,t[0]=b,t[1]=w,t[2]=S,t[3]=0,t[4]=g*S-v*w,t[5]=v*b-p*S,t[6]=p*w-g*b,t[7]=0,t[8]=p,t[9]=g,t[10]=v,t[11]=0,t[12]=s,t[13]=a,t[14]=l,t[15]=1,t}function rm(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function im(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Jw(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class yl extends Array{constructor(e=1,n=0,r=0,s=0,a=0,l=1,u=0,d=0,f=0,p=0,g=1,v=0,x=0,b=0,w=0,S=1){return super(e,n,r,s,a,l,u,d,f,p,g,v,x,b,w,S),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,s,a,l,u,d,f,p,g,v,x,b,w,S){return e.length?this.copy(e):(jw(this,e,n,r,s,a,l,u,d,f,p,g,v,x,b,w,S),this)}translate(e,n=this){return Uw(this,n,e),this}rotate(e,n,r=this){return Hw(this,r,e,n),this}scale(e,n=this){return $w(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?rm(this,e,n):rm(this,this,e),this}sub(e,n){return n?im(this,e,n):im(this,this,e),this}multiply(e,n){return e.length?n?nm(this,e,n):nm(this,this,e):Jw(this,this,e),this}identity(){return Iw(this),this}copy(e){return zw(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:s}={}){return qw(this,e,n,r,s),this}fromOrthogonal({left:e,right:n,bottom:r,top:s,near:a,far:l}){return Kw(this,e,n,r,s,a,l),this}fromQuaternion(e){return Gw(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return Bw(this,e),this}compose(e,n,r){return Xw(this,e,n,r),this}decompose(e,n,r){return Yw(this,e,n,r),this}getRotation(e){return C0(e,this),this}getTranslation(e){return Ww(e,this),this}getScaling(e){return k0(e,this),this}getMaxScaleOnAxis(){return Vw(this)}lookAt(e,n,r){return Qw(this,e,n,r),this}determinant(){return S0(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function Zw(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const sm=new yl;class e_ extends Array{constructor(e=0,n=e,r=e,s="YXZ"){super(e,n,r),this.order=s,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(l,u){const d=Reflect.set(...arguments);return d&&a.includes(u)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return Zw(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return sm.fromQuaternion(e),this._target.fromRotationMatrix(sm,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class t_{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new yl,this.worldMatrix=new yl,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Tn,this.quaternion=new Ow,this.scale=new Tn(1),this.rotation=new e_,this.up=new Tn(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function n_(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function r_(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n+n,u=r+r,d=s+s,f=n*l,p=r*l,g=r*u,v=s*l,x=s*u,b=s*d,w=a*l,S=a*u,C=a*d;return t[0]=1-g-b,t[3]=p-C,t[6]=v+S,t[1]=p+C,t[4]=1-f-b,t[7]=x-w,t[2]=v-S,t[5]=x+w,t[8]=1-f-g,t}function i_(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s_(t,e,n,r,s,a,l,u,d,f){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=a,t[5]=l,t[6]=u,t[7]=d,t[8]=f,t}function o_(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a_(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=p*l-u*f,v=-p*a+u*d,x=f*a-l*d,b=n*g+r*v+s*x;return b?(b=1/b,t[0]=g*b,t[1]=(-p*r+s*f)*b,t[2]=(u*r-s*l)*b,t[3]=v*b,t[4]=(p*n-s*d)*b,t[5]=(-u*n+s*a)*b,t[6]=x*b,t[7]=(-f*n+r*d)*b,t[8]=(l*n-r*a)*b,t):null}function om(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],u=e[4],d=e[5],f=e[6],p=e[7],g=e[8],v=n[0],x=n[1],b=n[2],w=n[3],S=n[4],C=n[5],R=n[6],M=n[7],L=n[8];return t[0]=v*r+x*l+b*f,t[1]=v*s+x*u+b*p,t[2]=v*a+x*d+b*g,t[3]=w*r+S*l+C*f,t[4]=w*s+S*u+C*p,t[5]=w*a+S*d+C*g,t[6]=R*r+M*l+L*f,t[7]=R*s+M*u+L*p,t[8]=R*a+M*d+L*g,t}function l_(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],u=e[4],d=e[5],f=e[6],p=e[7],g=e[8],v=n[0],x=n[1];return t[0]=r,t[1]=s,t[2]=a,t[3]=l,t[4]=u,t[5]=d,t[6]=v*r+x*l+f,t[7]=v*s+x*u+p,t[8]=v*a+x*d+g,t}function u_(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],u=e[4],d=e[5],f=e[6],p=e[7],g=e[8],v=Math.sin(n),x=Math.cos(n);return t[0]=x*r+v*l,t[1]=x*s+v*u,t[2]=x*a+v*d,t[3]=x*l-v*r,t[4]=x*u-v*s,t[5]=x*d-v*a,t[6]=f,t[7]=p,t[8]=g,t}function c_(t,e,n){let r=n[0],s=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function d_(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=e[9],v=e[10],x=e[11],b=e[12],w=e[13],S=e[14],C=e[15],R=n*u-r*l,M=n*d-s*l,L=n*f-a*l,T=r*d-s*u,j=r*f-a*u,E=s*f-a*d,A=p*w-g*b,H=p*S-v*b,G=p*C-x*b,q=g*S-v*w,Z=g*C-x*w,ae=v*C-x*S,Q=R*ae-M*Z+L*q+T*G-j*H+E*A;return Q?(Q=1/Q,t[0]=(u*ae-d*Z+f*q)*Q,t[1]=(d*G-l*ae-f*H)*Q,t[2]=(l*Z-u*G+f*A)*Q,t[3]=(s*Z-r*ae-a*q)*Q,t[4]=(n*ae-s*G+a*H)*Q,t[5]=(r*G-n*Z-a*A)*Q,t[6]=(w*E-S*j+C*T)*Q,t[7]=(S*L-b*E-C*M)*Q,t[8]=(b*j-w*L+C*R)*Q,t):null}class f_ extends Array{constructor(e=1,n=0,r=0,s=0,a=1,l=0,u=0,d=0,f=1){return super(e,n,r,s,a,l,u,d,f),this}set(e,n,r,s,a,l,u,d,f){return e.length?this.copy(e):(s_(this,e,n,r,s,a,l,u,d,f),this)}translate(e,n=this){return l_(this,n,e),this}rotate(e,n=this){return u_(this,n,e),this}scale(e,n=this){return c_(this,n,e),this}multiply(e,n){return n?om(this,e,n):om(this,this,e),this}identity(){return o_(this),this}copy(e){return i_(this,e),this}fromMatrix4(e){return n_(this,e),this}fromQuaternion(e){return r_(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return a_(this,e),this}getNormalMatrix(e){return d_(this,e),this}}let h_=0;class p_ extends t_{constructor(e,{geometry:n,program:r,mode:s=e.TRIANGLES,frustumCulled:a=!0,renderOrder:l=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=h_++,this.geometry=n,this.program=r,this.mode=s,this.frustumCulled=a,this.renderOrder=l,this.modelViewMatrix=new yl,this.normalMatrix=new f_,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}const am={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function lm(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function m_(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function um(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?lm(t):am[t.toLowerCase()]?lm(am[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):m_(t)}let rs=class extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...um(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(um(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}};class g_ extends uw{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const y_=`
attribute vec2 position;
attribute vec2 uv;
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 0.0, 1.0);
}
`,v_=`
precision mediump float;

varying vec2 vUv;

uniform float iTime;
uniform vec3  iResolution;
uniform float uScale;

uniform vec2  uGridMul;
uniform float uDigitSize;
uniform float uScanlineIntensity;
uniform float uGlitchAmount;
uniform float uFlickerAmount;
uniform float uNoiseAmp;
uniform float uChromaticAberration;
uniform float uDither;
uniform float uCurvature;
uniform vec3  uTint;
uniform vec2  uMouse;
uniform float uMouseStrength;
uniform float uUseMouse;
uniform float uPageLoadProgress;
uniform float uUsePageLoadAnimation;
uniform float uBrightness;
uniform vec3 uBaseColor;

float time;

float hash21(vec2 p){
  p = fract(p * 234.56);
  p += dot(p, p + 34.56);
  return fract(p.x * p.y);
}

float noise(vec2 p)
{
  return sin(p.x * 10.0) * sin(p.y * (3.0 + sin(time * 0.090909))) + 0.2; 
}

mat2 rotate(float angle)
{
  float c = cos(angle);
  float s = sin(angle);
  return mat2(c, -s, s, c);
}

float fbm(vec2 p)
{
  p *= 1.1;
  float f = 0.0;
  float amp = 0.5 * uNoiseAmp;
  
  mat2 modify0 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify0 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify1 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify1 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify2 = rotate(time * 0.08);
  f += amp * noise(p);
  
  return f;
}

float pattern(vec2 p, out vec2 q, out vec2 r) {
  vec2 offset1 = vec2(1.0);
  vec2 offset0 = vec2(0.0);
  mat2 rot01 = rotate(0.1 * time);
  mat2 rot1 = rotate(0.1);
  
  q = vec2(fbm(p + offset1), fbm(rot01 * p + offset1));
  r = vec2(fbm(rot1 * q + offset0), fbm(q + offset0));
  return fbm(p + r);
}

float digit(vec2 p){
    vec2 grid = uGridMul * 15.0;
    vec2 s = floor(p * grid) / grid;
    p = p * grid;
    vec2 q, r;
    float intensity = pattern(s * 0.1, q, r) * 1.3 - 0.03;
    
    if(uUseMouse > 0.5){
        vec2 mouseWorld = uMouse * uScale;
        float distToMouse = distance(s, mouseWorld);
        float mouseInfluence = exp(-distToMouse * 8.0) * uMouseStrength * 10.0;
        intensity += mouseInfluence;
        
        float ripple = sin(distToMouse * 20.0 - iTime * 5.0) * 0.1 * mouseInfluence;
        intensity += ripple;
    }
    
    if(uUsePageLoadAnimation > 0.5){
        float cellRandom = fract(sin(dot(s, vec2(12.9898, 78.233))) * 43758.5453);
        float cellDelay = cellRandom * 0.8;
        float cellProgress = clamp((uPageLoadProgress - cellDelay) / 0.2, 0.0, 1.0);
        
        float fadeAlpha = smoothstep(0.0, 1.0, cellProgress);
        intensity *= fadeAlpha;
    }
    
    p = fract(p);
    p *= uDigitSize;
    
    float px5 = p.x * 5.0;
    float py5 = (1.0 - p.y) * 5.0;
    float x = fract(px5);
    float y = fract(py5);
    
    float i = floor(py5) - 2.0;
    float j = floor(px5) - 2.0;
    float n = i * i + j * j;
    float f = n * 0.0625;
    
    float isOn = step(0.1, intensity - f);
    float brightness = isOn * (0.2 + y * 0.8) * (0.75 + x * 0.25);
    
    return step(0.0, p.x) * step(p.x, 1.0) * step(0.0, p.y) * step(p.y, 1.0) * brightness;
}

float onOff(float a, float b, float c)
{
  return step(c, sin(iTime + a * cos(iTime * b))) * uFlickerAmount;
}

float displace(vec2 look)
{
    float y = look.y - mod(iTime * 0.25, 1.0);
    float window = 1.0 / (1.0 + 50.0 * y * y);
    return sin(look.y * 20.0 + iTime) * 0.0125 * onOff(4.0, 2.0, 0.8) * (1.0 + cos(iTime * 60.0)) * window;
}

vec3 getColor(vec2 p){
    
    float bar = step(mod(p.y + time * 20.0, 1.0), 0.2) * 0.4 + 1.0;
    bar *= uScanlineIntensity;
    
    float displacement = displace(p);
    p.x += displacement;

    if (uGlitchAmount != 1.0) {
      float extra = displacement * (uGlitchAmount - 1.0);
      p.x += extra;
    }

    float middle = digit(p);
    
    const float off = 0.002;
    float sum = digit(p + vec2(-off, -off)) + digit(p + vec2(0.0, -off)) + digit(p + vec2(off, -off)) +
                digit(p + vec2(-off, 0.0)) + digit(p + vec2(0.0, 0.0)) + digit(p + vec2(off, 0.0)) +
                digit(p + vec2(-off, off)) + digit(p + vec2(0.0, off)) + digit(p + vec2(off, off));
    
    vec3 baseColor = vec3(0.9) * middle + sum * 0.1 * vec3(1.0) * bar;
    return baseColor;
}

vec2 barrel(vec2 uv){
  vec2 c = uv * 2.0 - 1.0;
  float r2 = dot(c, c);
  c *= 1.0 + uCurvature * r2;
  return c * 0.5 + 0.5;
}

void main() {
    time = iTime * 0.333333;
    vec2 uv = vUv;

    if(uCurvature != 0.0){
      uv = barrel(uv);
    }
    
    vec2 p = uv * uScale;
    vec3 col = getColor(p);

    if(uChromaticAberration != 0.0){
      vec2 ca = vec2(uChromaticAberration) / iResolution.xy;
      col.r = getColor(p + ca).r;
      col.b = getColor(p - ca).b;
    }

    col *= uTint;
    col *= uBrightness;

    if(uDither > 0.0){
      float rnd = hash21(gl_FragCoord.xy);
      col += (rnd - 0.5) * (uDither * 0.003922);
    }

    col = mix(uBaseColor, col, 0.75);

    gl_FragColor = vec4(col, 1.0);
}
`;function Ac(t){let e=t.replace("#","").trim();e.length===3&&(e=e.split("").map(r=>r+r).join(""));const n=parseInt(e,16);return[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function x_({scale:t=1,gridMul:e=[2,1],digitSize:n=1.5,timeScale:r=.3,pause:s=!1,scanlineIntensity:a=.3,glitchAmount:l=1,flickerAmount:u=1,noiseAmp:d=.8,chromaticAberration:f=0,dither:p=0,curvature:g=.2,tint:v="#ffffff",mouseReact:x=!0,mouseStrength:b=.2,dpr:w,pageLoadAnimation:S=!0,brightness:C=1,clearColor:R="#000000",baseColor:M="#0b1220",className:L,style:T,...j}){const E=N.useRef(null),A=N.useRef(null),H=N.useRef(null),G=N.useRef({x:.5,y:.5}),q=N.useRef({x:.5,y:.5}),Z=N.useRef(0),ae=N.useRef(0),Q=N.useRef(0),re=N.useRef(Math.random()*100),ue=N.useMemo(()=>w??(typeof window<"u"?Math.min(window.devicePixelRatio||1,2):1),[w]),de=N.useMemo(()=>Ac(v),[v]),X=N.useMemo(()=>typeof p=="boolean"?p?1:0:p,[p]),te=N.useMemo(()=>Ac(R),[R]),K=N.useMemo(()=>Ac(M),[M]),F=N.useCallback(V=>{const ce=E.current;if(!ce)return;const le=ce.getBoundingClientRect(),ye=Ne=>Math.max(0,Math.min(1,Ne)),be=ye((V.clientX-le.left)/le.width),Fe=ye(1-(V.clientY-le.top)/le.height);G.current={x:be,y:Fe}},[]);return N.useEffect(()=>{const V=E.current;if(!V)return;const ce=new gw({dpr:ue});H.current=ce;const le=ce.gl;le.clearColor(te[0],te[1],te[2],1);const ye=new g_(le),be=new dw(le,{vertex:y_,fragment:v_,uniforms:{iTime:{value:0},iResolution:{value:new rs(le.canvas.width,le.canvas.height,le.canvas.width/le.canvas.height)},uScale:{value:t},uGridMul:{value:new Float32Array(e)},uDigitSize:{value:n},uScanlineIntensity:{value:a},uGlitchAmount:{value:l},uFlickerAmount:{value:u},uNoiseAmp:{value:d},uChromaticAberration:{value:f},uDither:{value:X},uCurvature:{value:g},uTint:{value:new rs(de[0],de[1],de[2])},uMouse:{value:new Float32Array([q.current.x,q.current.y])},uMouseStrength:{value:b},uUseMouse:{value:x?1:0},uPageLoadProgress:{value:S?0:1},uUsePageLoadAnimation:{value:S?1:0},uBrightness:{value:C},uBaseColor:{value:new rs(K[0],K[1],K[2])}}});A.current=be;const Fe=new p_(le,{geometry:ye,program:be}),Ne=x?window:null;function Ye(){const $e=E.current;if(!$e)return;ce.setSize($e.offsetWidth,$e.offsetHeight);const je=be.uniforms;je.iResolution.value=new rs(le.canvas.width,le.canvas.height,le.canvas.width/le.canvas.height)}const gt=new ResizeObserver(()=>Ye());gt.observe(V),Ye();const Sn=$e=>{ae.current=requestAnimationFrame(Sn);const je=be.uniforms;if(S&&Q.current===0&&(Q.current=$e),s)je.iTime.value=Z.current;else{const Tt=($e*.001+re.current)*r;je.iTime.value=Tt,Z.current=Tt}if(S&&Q.current>0){const It=$e-Q.current,xt=Math.min(It/2e3,1);je.uPageLoadProgress.value=xt}if(x){const It=q.current,xt=G.current;It.x+=(xt.x-It.x)*.08,It.y+=(xt.y-It.y)*.08;const Vt=je.uMouse.value;Vt[0]=It.x,Vt[1]=It.y}je.uMouseStrength.value=b,je.uScale.value=t,je.uDigitSize.value=n,je.uScanlineIntensity.value=a,je.uGlitchAmount.value=l,je.uFlickerAmount.value=u,je.uNoiseAmp.value=d,je.uChromaticAberration.value=f,je.uDither.value=X,je.uCurvature.value=g,je.uTint.value=new rs(de[0],de[1],de[2]),je.uUseMouse.value=x?1:0,je.uBrightness.value=C,je.uBaseColor.value=new rs(K[0],K[1],K[2]),ce.render({scene:Fe})};return ae.current=requestAnimationFrame(Sn),V.appendChild(le.canvas),x&&Ne&&Ne.addEventListener("mousemove",F),()=>{cancelAnimationFrame(ae.current),gt.disconnect(),x&&Ne&&Ne.removeEventListener("mousemove",F);const $e=E.current;$e&&le.canvas.parentElement===$e&&$e.removeChild(le.canvas),le.getExtension("WEBGL_lose_context")?.loseContext(),Q.current=0,re.current=Math.random()*100,A.current=null,H.current=null}},[ue,s,r,t,e,n,a,l,u,d,f,X,g,de,x,b,S,C,te,K,F]),k.jsx("div",{ref:E,className:V1("faulty-terminal-container",L),style:T,...j})}const vo="subly:state",fo={notificationsEnabled:!1,notifyDaysBefore:2,language:"es",currencyDisplayMode:"original",baseCurrency:"USD"};function Xa(t){const e=Array.isArray(t?.subscriptions)?t.subscriptions:[],n=t?.settings,r=n?.language==="en"?"en":"es",s=n?.currencyDisplayMode==="convertToBase"?"convertToBase":"original",a=String(n?.baseCurrency??fo.baseCurrency).trim().toUpperCase()||fo.baseCurrency;return{subscriptions:e,settings:{notificationsEnabled:!!(n?.notificationsEnabled??fo.notificationsEnabled),notifyDaysBefore:Number.isFinite(n?.notifyDaysBefore)?Math.max(0,Math.min(30,Math.floor(n.notifyDaysBefore))):fo.notifyDaysBefore,language:r,currencyDisplayMode:s,baseCurrency:a}}}function M0(){return typeof chrome<"u"&&!!chrome.storage?.local}async function b_(){if(M0()){const e=await chrome.storage.local.get([vo]);return Xa(e?.[vo]??null)}const t=typeof localStorage<"u"?localStorage.getItem(vo):null;if(!t)return Xa(null);try{return Xa(JSON.parse(t))}catch{return Xa(null)}}async function w_(t){if(M0()){await chrome.storage.local.set({[vo]:t});return}typeof localStorage<"u"&&localStorage.setItem(vo,JSON.stringify(t))}function E0(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function vl(t,e,n=new Date){const[r,s,a]=t.split("-").map(Number),l=new Date(r,(s??1)-1,a??1);if(Number.isNaN(l.getTime()))return n;const u=(p,g)=>{const v=new Date(p);return v.setMonth(v.getMonth()+g),v},d=e==="monthly"?1:e==="quarterly"?3:e==="semiannual"?6:12;let f=new Date(l);for(;f.getTime()<n.getTime();)f=u(f,d);return f}const P0=N.createContext(null);function __({children:t}){const[e,n]=N.useState({subscriptions:[],settings:fo}),[r,s]=N.useState(!1);N.useEffect(()=>{let l=!0;return(async()=>{const u=await b_();l&&(n(u),s(!0))})(),()=>{l=!1}},[]),N.useEffect(()=>{r&&w_(e)},[r,e]);const a=N.useMemo(()=>({state:e,setSubscriptions:l=>n(u=>({...u,subscriptions:l})),setSettings:l=>n(u=>({...u,settings:l}))}),[e]);return k.jsx(P0.Provider,{value:a,children:t})}function Dl(){const t=N.useContext(P0);if(!t)throw new Error("useStore must be used within StoreProvider");return t}const cm={es:{common:{loading:"Cargando",language:{es:"Espaol",en:"English"},cancel:"Cancelar",clear:"Limpiar",save:"Guardar",add:"Aadir",edit:"Editar",delete:"Eliminar",importJson:"Importar JSON",exportJson:"Exportar JSON",exported:"Exportado.",importedCount:"Importadas: {{count}}",importFailed:"Importacin fallida (JSON invlido o estructura incorrecta).",none:"",uncategorized:"Sin categora",other:"Otros"},nav:{dashboard:"Dashboard",subscriptions:"Suscripciones",settings:"Ajustes"},settings:{languageTitle:"Idioma",languageDescription:"Elige el idioma de la interfaz.",alertsTitle:"Alertas",enableNotifications:"Activar notificaciones",notifyDaysBefore:"Avisar (das antes)",alertsHint:"Las alertas se muestran como notificaciones del navegador.",currencyTitle:"Moneda",displayAmounts:"Mostrar importes",displayOriginal:"Con sus monedas originales",displayConvert:"Convertir a una moneda nica",baseCurrency:"Moneda base",currencyHint:"Si eliges moneda nica, los totales y grficos se convierten a la moneda base.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Se abre en una pestaa por seguridad (Google Calendar no se puede embeber en el panel).",openGoogleCalendar:"Abrir Google Calendar"},subscriptions:{listTitle:"Listado",subtitle:"Aade, edita y revisa tus suscripciones.",addSubscription:"Aadir suscripcin",noSubscriptions:"No hay suscripciones an.",addToCalendar:"Aadir a Calendar",editSubscription:"Editar suscripcin",addSubscriptionTitle:"Aadir suscripcin",searchPlaceholder:"Buscar",filtersToggle:"Filtros",resultsCount:"Resultados: {{count}}",filterCategory:"Categora",filterCurrency:"Moneda",filterPeriod:"Periodo",filterMinPrice:"Precio mn.",filterMaxPrice:"Precio mx.",emptyFiltered:"Sin resultados con los filtros actuales.",dueSoon:"Pronto",columnName:"Nombre",columnPrice:"Importe",columnPeriod:"Periodo",columnStart:"Inicio",columnNext:"Prximo",columnCategory:"Categora",columnActions:"Acciones",insightsTitle:"Resumen",insightsHint:"Importes equivalentes en {{currency}}.",insightsDueWindow:"Ventana: {{days}}d",insightsCount:"Suscripciones",insightsAvgMonthly:"Media mensual",insightsAvgMonthlyHelper:"Equivalente en {{currency}}.",insightsUpcoming:"Prximas",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Ms prxima: {{date}}",insightsTopCategory:"Top categora",insightsTopCategoryHelper:"{{percent}}% del total",name:"Nombre",category:"Categora",categoryPlaceholder:"Ej: Streaming",amount:"Importe",currency:"Moneda",period:"Periodo",startDate:"Fecha inicio",helpIncomplete:"Completa nombre, importe y fecha.",startLabel:"Inicio",nextLabel:"Prximo",renewal:"Renovacin",detailsAmount:"Importe",detailsPeriod:"Periodo",periodMonthly:"Mensual",periodQuarterly:"Trimestral",periodSemiannual:"Semestral",periodAnnual:"Anual"},dashboard:{monthlySpendTitle:"Gasto mensual (equivalente)",noSubscriptionsYet:"Sin suscripciones an.",fxRatesLabel:"FX rates",fxUpdating:"actualizando",fxReady:"reales (cacheadas)",fxUnavailable:"no disponibles (fallback)",fxIdle:"",upcomingRenewalsTitle:"Prximas renovaciones",noDataYet:"No hay datos todava.",chartsTitle:"Grficos",addSubsToSeeCharts:"Aade suscripciones para ver grficos.",currencyLabel:"Moneda: {{cur}}",kpiSubscriptions:"Suscripciones",kpiAvgMonthly:"Media mensual",kpiDueSoon:"Vencen ( {{days}}d)",kpiTopCategory:"Top categora",projectionTitle:"Proyeccin mensual (ltimos 12 meses)",annualTopTitle:"Top gasto anual (estimado)",monthlyByCategoryTitle:"Gasto mensual por categora (equivalente)",distributionTitle:"Distribucin (gasto mensual equivalente)",noData:"Sin datos.",csvMonth:"Mes",csvAmount:"Importe",csvCurrency:"Moneda",csvName:"Nombre",csvAnnualAmount:"Importe anual",csvCategory:"Categora",csvMonthlyEquivalent:"Equivalente mensual"}},en:{common:{loading:"Loading",language:{es:"Espaol",en:"English"},cancel:"Cancel",clear:"Clear",save:"Save",add:"Add",edit:"Edit",delete:"Delete",importJson:"Import JSON",exportJson:"Export JSON",exported:"Exported.",importedCount:"Imported: {{count}}",importFailed:"Import failed (invalid JSON or wrong structure).",none:"",uncategorized:"Uncategorized",other:"Other"},nav:{dashboard:"Dashboard",subscriptions:"Subscriptions",settings:"Settings"},settings:{languageTitle:"Language",languageDescription:"Choose the UI language.",alertsTitle:"Alerts",enableNotifications:"Enable notifications",notifyDaysBefore:"Notify (days before)",alertsHint:"Alerts are shown as browser notifications.",currencyTitle:"Currency",displayAmounts:"Show amounts",displayOriginal:"In original currencies",displayConvert:"Convert to a single currency",baseCurrency:"Base currency",currencyHint:"If you choose single currency, totals and charts are converted to the base currency.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"It opens in a new tab for security (Google Calendar cant be embedded in the panel).",openGoogleCalendar:"Open Google Calendar"},subscriptions:{listTitle:"List",subtitle:"Add, edit and review your subscriptions.",addSubscription:"Add subscription",noSubscriptions:"No subscriptions yet.",addToCalendar:"Add to Calendar",editSubscription:"Edit subscription",addSubscriptionTitle:"Add subscription",searchPlaceholder:"Search",filtersToggle:"Filters",resultsCount:"Results: {{count}}",filterCategory:"Category",filterCurrency:"Currency",filterPeriod:"Period",filterMinPrice:"Min price",filterMaxPrice:"Max price",emptyFiltered:"No results for the current filters.",dueSoon:"Soon",columnName:"Name",columnPrice:"Amount",columnPeriod:"Period",columnStart:"Start",columnNext:"Next",columnCategory:"Category",columnActions:"Actions",insightsTitle:"Summary",insightsHint:"Amounts in {{currency}} equivalent.",insightsDueWindow:"Window: {{days}}d",insightsCount:"Subscriptions",insightsAvgMonthly:"Avg monthly",insightsAvgMonthlyHelper:"Equivalent in {{currency}}.",insightsUpcoming:"Upcoming",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Next: {{date}}",insightsTopCategory:"Top category",insightsTopCategoryHelper:"{{percent}}% of total",name:"Name",category:"Category",categoryPlaceholder:"e.g. Streaming",amount:"Amount",currency:"Currency",period:"Period",startDate:"Start date",helpIncomplete:"Fill name, amount and date.",startLabel:"Start",nextLabel:"Next",renewal:"Renewal",detailsAmount:"Amount",detailsPeriod:"Period",periodMonthly:"Monthly",periodQuarterly:"Quarterly",periodSemiannual:"Semiannual",periodAnnual:"Annual"},dashboard:{monthlySpendTitle:"Monthly spend (equivalent)",noSubscriptionsYet:"No subscriptions yet.",fxRatesLabel:"FX rates",fxUpdating:"updating",fxReady:"real (cached)",fxUnavailable:"unavailable (fallback)",fxIdle:"",upcomingRenewalsTitle:"Upcoming renewals",noDataYet:"No data yet.",chartsTitle:"Charts",addSubsToSeeCharts:"Add subscriptions to see charts.",currencyLabel:"Currency: {{cur}}",kpiSubscriptions:"Subscriptions",kpiAvgMonthly:"Avg monthly",kpiDueSoon:"Due ( {{days}}d)",kpiTopCategory:"Top category",projectionTitle:"Monthly projection (last 12 months)",annualTopTitle:"Top annual spend (estimated)",monthlyByCategoryTitle:"Monthly spend by category (equivalent)",distributionTitle:"Distribution (monthly equivalent spend)",noData:"No data.",csvMonth:"Month",csvAmount:"Amount",csvCurrency:"Currency",csvName:"Name",csvAnnualAmount:"Annual amount",csvCategory:"Category",csvMonthlyEquivalent:"Monthly equivalent"}}};function S_(t,e){const n=e.split(".");let r=t;for(const s of n)if(typeof r!="object"||r===null||(r=r[s],r===void 0))return;return r}function k_(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(n,r)=>String(e[r]??"")):t}function C_(t,e,n){const r=cm[t]??cm.es,s=S_(r,e);if(typeof s=="string")return k_(s,n)}function ps(){const{state:t}=Dl(),e=t.settings.language==="en"?"en":"es",n=N.useCallback((r,s)=>C_(e,r,s),[e]);return{language:e,t:n}}function Oc({to:t,label:e}){return k.jsx(x0,{to:t,className:({isActive:n})=>`rounded-md px-3 py-2 text-sm font-semibold ${n?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-200 dark:text-slate-200 dark:hover:bg-slate-800"}`,children:e})}function M_(){const{t}=ps();return k.jsxs("div",{className:"relative min-h-screen text-slate-900 dark:text-white",children:[k.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10",children:k.jsx(x_,{className:"h-full w-full",scale:1,gridMul:[3,2],digitSize:1.5,brightness:1.8,scanlineIntensity:.45,noiseAmp:1,clearColor:"#000000",baseColor:"#020617"})}),k.jsxs("div",{className:"min-h-screen bg-slate-50/65 dark:bg-slate-950/65",children:[k.jsx("header",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white/90 backdrop-blur dark:border-slate-800 dark:bg-slate-950/90",children:k.jsxs("div",{className:"mx-auto flex max-w-3xl items-center justify-between gap-3 px-4 py-3",children:[k.jsx("div",{className:"text-sm font-black tracking-wide",children:"Subly"}),k.jsxs("nav",{className:"flex items-center gap-2",children:[k.jsx(Oc,{to:"/dashboard",label:t("nav.dashboard")??"Dashboard"}),k.jsx(Oc,{to:"/subscriptions",label:t("nav.subscriptions")??"Suscripciones"}),k.jsx(Oc,{to:"/settings",label:t("nav.settings")??"Ajustes"})]})]})}),k.jsx("main",{className:"mx-auto max-w-3xl px-4 py-4",children:k.jsx(a1,{})})]})]})}function jo(t){return t+.5|0}const Wr=(t,e,n)=>Math.max(Math.min(t,n),e);function ho(t){return Wr(jo(t*2.55),0,255)}function Gr(t){return Wr(jo(t*255),0,255)}function fr(t){return Wr(jo(t/2.55)/100,0,1)}function dm(t){return Wr(jo(t*100),0,100)}const xn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},id=[..."0123456789ABCDEF"],E_=t=>id[t&15],P_=t=>id[(t&240)>>4]+id[t&15],Ga=t=>(t&240)>>4===(t&15),R_=t=>Ga(t.r)&&Ga(t.g)&&Ga(t.b)&&Ga(t.a);function D_(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&xn[t[1]]*17,g:255&xn[t[2]]*17,b:255&xn[t[3]]*17,a:e===5?xn[t[4]]*17:255}:(e===7||e===9)&&(n={r:xn[t[1]]<<4|xn[t[2]],g:xn[t[3]]<<4|xn[t[4]],b:xn[t[5]]<<4|xn[t[6]],a:e===9?xn[t[7]]<<4|xn[t[8]]:255})),n}const T_=(t,e)=>t<255?e(t):"";function N_(t){var e=R_(t)?E_:P_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+T_(t.a,e):void 0}const L_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R0(t,e,n){const r=e*Math.min(n,1-n),s=(a,l=(a+t/30)%12)=>n-r*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function A_(t,e,n){const r=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function O_(t,e,n){const r=R0(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function F_(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function kd(t){const n=t.r/255,r=t.g/255,s=t.b/255,a=Math.max(n,r,s),l=Math.min(n,r,s),u=(a+l)/2;let d,f,p;return a!==l&&(p=a-l,f=u>.5?p/(2-a-l):p/(a+l),d=F_(n,r,s,p,a),d=d*60+.5),[d|0,f||0,u]}function Cd(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Gr)}function Md(t,e,n){return Cd(R0,t,e,n)}function z_(t,e,n){return Cd(O_,t,e,n)}function j_(t,e,n){return Cd(A_,t,e,n)}function D0(t){return(t%360+360)%360}function I_(t){const e=L_.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ho(+e[5]):Gr(+e[5]));const s=D0(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=z_(s,a,l):e[1]==="hsv"?r=j_(s,a,l):r=Md(s,a,l),{r:r[0],g:r[1],b:r[2],a:n}}function B_(t,e){var n=kd(t);n[0]=D0(n[0]+e),n=Md(n),t.r=n[0],t.g=n[1],t.b=n[2]}function U_(t){if(!t)return;const e=kd(t),n=e[0],r=dm(e[1]),s=dm(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${fr(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const fm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $_(){const t={},e=Object.keys(hm),n=Object.keys(fm);let r,s,a,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],s=0;s<n.length;s++)a=n[s],u=u.replace(a,fm[a]);a=parseInt(hm[l],16),t[u]=[a>>16&255,a>>8&255,a&255]}return t}let qa;function H_(t){qa||(qa=$_(),qa.transparent=[0,0,0,0]);const e=qa[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const W_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function V_(t){const e=W_.exec(t);let n=255,r,s,a;if(e){if(e[7]!==r){const l=+e[7];n=e[8]?ho(l):Wr(l*255,0,255)}return r=+e[1],s=+e[3],a=+e[5],r=255&(e[2]?ho(r):Wr(r,0,255)),s=255&(e[4]?ho(s):Wr(s,0,255)),a=255&(e[6]?ho(a):Wr(a,0,255)),{r,g:s,b:a,a:n}}}function Y_(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${fr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Fc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,is=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function X_(t,e,n){const r=is(fr(t.r)),s=is(fr(t.g)),a=is(fr(t.b));return{r:Gr(Fc(r+n*(is(fr(e.r))-r))),g:Gr(Fc(s+n*(is(fr(e.g))-s))),b:Gr(Fc(a+n*(is(fr(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Ka(t,e,n){if(t){let r=kd(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Md(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function T0(t,e){return t&&Object.assign(e||{},t)}function pm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Gr(t[3]))):(e=T0(t,{r:0,g:0,b:0,a:1}),e.a=Gr(e.a)),e}function G_(t){return t.charAt(0)==="r"?V_(t):I_(t)}class Mo{constructor(e){if(e instanceof Mo)return e;const n=typeof e;let r;n==="object"?r=pm(e):n==="string"&&(r=D_(e)||H_(e)||G_(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=T0(this._rgb);return e&&(e.a=fr(e.a)),e}set rgb(e){this._rgb=pm(e)}rgbString(){return this._valid?Y_(this._rgb):void 0}hexString(){return this._valid?N_(this._rgb):void 0}hslString(){return this._valid?U_(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let a;const l=n===a?.5:n,u=2*l-1,d=r.a-s.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;a=1-f,r.r=255&f*r.r+a*s.r+.5,r.g=255&f*r.g+a*s.g+.5,r.b=255&f*r.b+a*s.b+.5,r.a=l*r.a+(1-l)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=X_(this._rgb,e._rgb,n)),this}clone(){return new Mo(this.rgb)}alpha(e){return this._rgb.a=Gr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=jo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ka(this._rgb,2,e),this}darken(e){return Ka(this._rgb,2,-e),this}saturate(e){return Ka(this._rgb,1,e),this}desaturate(e){return Ka(this._rgb,1,-e),this}rotate(e){return B_(this._rgb,e),this}}function lr(){}const q_=(()=>{let t=0;return()=>t++})();function Ge(t){return t==null}function _t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ze(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function jt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Bn(t,e){return jt(t)?t:e}function Le(t,e){return typeof t>"u"?e:t}const K_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,N0=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function rt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Qe(t,e,n,r){let s,a,l;if(_t(t))for(a=t.length,s=0;s<a;s++)e.call(n,t[s],s);else if(ze(t))for(l=Object.keys(t),a=l.length,s=0;s<a;s++)e.call(n,t[l[s]],l[s])}function xl(t,e){let n,r,s,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],a=e[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function bl(t){if(_t(t))return t.map(bl);if(ze(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=bl(t[n[s]]);return e}return t}function L0(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Q_(t,e,n,r){if(!L0(t))return;const s=e[t],a=n[t];ze(s)&&ze(a)?Eo(s,a,r):e[t]=bl(a)}function Eo(t,e,n){const r=_t(e)?e:[e],s=r.length;if(!ze(t))return t;n=n||{};const a=n.merger||Q_;let l;for(let u=0;u<s;++u){if(l=r[u],!ze(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)a(d[f],t,l,n)}return t}function xo(t,e){return Eo(t,e,{merger:J_})}function J_(t,e,n){if(!L0(t))return;const r=e[t],s=n[t];ze(r)&&ze(s)?xo(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=bl(s))}const mm={"":t=>t,x:t=>t.x,y:t=>t.y};function Z_(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function eS(t){const e=Z_(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Mi(t,e){return(mm[e]||(mm[e]=eS(e)))(t)}function Ed(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Po=t=>typeof t<"u",Kr=t=>typeof t=="function",gm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function tS(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ze=Math.PI,ut=2*Ze,nS=ut+Ze,wl=Number.POSITIVE_INFINITY,rS=Ze/180,St=Ze/2,yi=Ze/4,ym=Ze*2/3,A0=Math.log10,Vn=Math.sign;function bo(t,e,n){return Math.abs(t-e)<n}function vm(t){const e=Math.round(t);t=bo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(A0(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function iS(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,a)=>s-a).pop(),e}function sS(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ro(t){return!sS(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function oS(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function aS(t,e,n){let r,s,a;for(r=0,s=t.length;r<s;r++)a=t[r][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function pr(t){return t*(Ze/180)}function lS(t){return t*(180/Ze)}function xm(t){if(!jt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function O0(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Ze&&(a+=ut),{angle:a,distance:s}}function sd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function uS(t,e){return(t-e+nS)%ut-Ze}function dn(t){return(t%ut+ut)%ut}function Do(t,e,n,r){const s=dn(t),a=dn(e),l=dn(n),u=dn(a-s),d=dn(l-s),f=dn(s-a),p=dn(s-l);return s===a||s===l||r&&a===l||u>d&&f<p}function zt(t,e,n){return Math.max(e,Math.min(n,t))}function cS(t){return zt(t,-32768,32767)}function mr(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Pd(t,e,n){n=n||(l=>t[l]<e);let r=t.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,n(a)?s=a:r=a;return{lo:s,hi:r}}const Si=(t,e,n,r)=>Pd(t,n,r?s=>{const a=t[s][e];return a<n||a===n&&t[s+1][e]===n}:s=>t[s][e]<n),dS=(t,e,n)=>Pd(t,n,r=>t[r][e]>=n);function fS(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const F0=["push","pop","shift","splice","unshift"];function hS(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),F0.forEach(n=>{const r="_onData"+Ed(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return t._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),l}})})}function bm(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(F0.forEach(a=>{delete t[a]}),delete t._chartjs)}function z0(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const j0=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function I0(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,j0.call(window,()=>{r=!1,t.apply(e,n)}))}}function pS(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const B0=t=>t==="start"?"left":t==="end"?"right":"center",un=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,mS=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function gS(t,e,n){const r=e.length;let s=0,a=r;if(t._sorted){const{iScale:l,vScale:u,_parsed:d}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:g,max:v,minDefined:x,maxDefined:b}=l.getUserBounds();if(x){if(s=Math.min(Si(d,p,g).lo,n?r:Si(e,p,l.getPixelForValue(g)).lo),f){const w=d.slice(0,s+1).reverse().findIndex(S=>!Ge(S[u.axis]));s-=Math.max(0,w)}s=zt(s,0,r-1)}if(b){let w=Math.max(Si(d,l.axis,v,!0).hi+1,n?0:Si(e,p,l.getPixelForValue(v),!0).hi+1);if(f){const S=d.slice(w-1).findIndex(C=>!Ge(C[u.axis]));w+=Math.max(0,S)}a=zt(w,s,r)-s}else a=r-s}return{start:s,count:a}}function yS(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),a}const Qa=t=>t===0||t===1,wm=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ut/n)),_m=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ut/n)+1,wo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*St)+1,easeOutSine:t=>Math.sin(t*St),easeInOutSine:t=>-.5*(Math.cos(Ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Qa(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Qa(t)?t:wm(t,.075,.3),easeOutElastic:t=>Qa(t)?t:_m(t,.075,.3),easeInOutElastic(t){return Qa(t)?t:t<.5?.5*wm(t*2,.1125,.45):.5+.5*_m(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-wo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?wo.easeInBounce(t*2)*.5:wo.easeOutBounce(t*2-1)*.5+.5};function Rd(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Sm(t){return Rd(t)?t:new Mo(t)}function zc(t){return Rd(t)?t:new Mo(t).saturate(.5).darken(.1).hexString()}const vS=["x","y","borderWidth","radius","tension"],xS=["color","borderColor","backgroundColor"];function bS(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:xS},numbers:{type:"number",properties:vS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function wS(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const km=new Map;function _S(t,e){e=e||{};const n=t+JSON.stringify(e);let r=km.get(n);return r||(r=new Intl.NumberFormat(t,e),km.set(n,r)),r}function Dd(t,e,n){return _S(e,n).format(t)}const SS={values(t){return _t(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,a=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=kS(t,n)}const l=A0(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),Dd(t,r,d)}};function kS(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var U0={formatters:SS};function CS(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:U0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ei=Object.create(null),od=Object.create(null);function _o(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const a=n[r];t=t[a]||(t[a]=Object.create(null))}return t}function jc(t,e,n){return typeof e=="string"?Eo(_o(t,e),n):Eo(_o(t,""),e)}class MS{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>zc(s.backgroundColor),this.hoverBorderColor=(r,s)=>zc(s.borderColor),this.hoverColor=(r,s)=>zc(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return jc(this,e,n)}get(e){return _o(this,e)}describe(e,n){return jc(od,e,n)}override(e,n){return jc(Ei,e,n)}route(e,n,r,s){const a=_o(this,e),l=_o(this,r),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[u],f=l[s];return ze(d)?Object.assign({},f,d):Le(d,f)},set(d){this[u]=d}}})}apply(e){e.forEach(n=>n(this))}}var mt=new MS({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bS,wS,CS]);function ES(t){return!t||Ge(t.size)||Ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Cm(t,e,n,r,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,n.push(s)),a>r&&(r=a),r}function vi(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Mm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ad(t,e,n,r){$0(t,e,n,r,null)}function $0(t,e,n,r,s){let a,l,u,d,f,p,g,v;const x=e.pointStyle,b=e.rotation,w=e.radius;let S=(b||0)*rS;if(x&&typeof x=="object"&&(a=x.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(S),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),x){default:s?t.ellipse(n,r,s/2,w,0,0,ut):t.arc(n,r,w,0,ut),t.closePath();break;case"triangle":p=s?s/2:w,t.moveTo(n+Math.sin(S)*p,r-Math.cos(S)*w),S+=ym,t.lineTo(n+Math.sin(S)*p,r-Math.cos(S)*w),S+=ym,t.lineTo(n+Math.sin(S)*p,r-Math.cos(S)*w),t.closePath();break;case"rectRounded":f=w*.516,d=w-f,l=Math.cos(S+yi)*d,g=Math.cos(S+yi)*(s?s/2-f:d),u=Math.sin(S+yi)*d,v=Math.sin(S+yi)*(s?s/2-f:d),t.arc(n-g,r-u,f,S-Ze,S-St),t.arc(n+v,r-l,f,S-St,S),t.arc(n+g,r+u,f,S,S+St),t.arc(n-v,r+l,f,S+St,S+Ze),t.closePath();break;case"rect":if(!b){d=Math.SQRT1_2*w,p=s?s/2:d,t.rect(n-p,r-d,2*p,2*d);break}S+=yi;case"rectRot":g=Math.cos(S)*(s?s/2:w),l=Math.cos(S)*w,u=Math.sin(S)*w,v=Math.sin(S)*(s?s/2:w),t.moveTo(n-g,r-u),t.lineTo(n+v,r-l),t.lineTo(n+g,r+u),t.lineTo(n-v,r+l),t.closePath();break;case"crossRot":S+=yi;case"cross":g=Math.cos(S)*(s?s/2:w),l=Math.cos(S)*w,u=Math.sin(S)*w,v=Math.sin(S)*(s?s/2:w),t.moveTo(n-g,r-u),t.lineTo(n+g,r+u),t.moveTo(n+v,r-l),t.lineTo(n-v,r+l);break;case"star":g=Math.cos(S)*(s?s/2:w),l=Math.cos(S)*w,u=Math.sin(S)*w,v=Math.sin(S)*(s?s/2:w),t.moveTo(n-g,r-u),t.lineTo(n+g,r+u),t.moveTo(n+v,r-l),t.lineTo(n-v,r+l),S+=yi,g=Math.cos(S)*(s?s/2:w),l=Math.cos(S)*w,u=Math.sin(S)*w,v=Math.sin(S)*(s?s/2:w),t.moveTo(n-g,r-u),t.lineTo(n+g,r+u),t.moveTo(n+v,r-l),t.lineTo(n-v,r+l);break;case"line":l=s?s/2:Math.cos(S)*w,u=Math.sin(S)*w,t.moveTo(n-l,r-u),t.lineTo(n+l,r+u);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(S)*(s?s/2:w),r+Math.sin(S)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function To(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Tl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Nl(t){t.restore()}function PS(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function RS(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function DS(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function TS(t,e,n,r,s){if(s.strikethrough||s.underline){const a=t.measureText(r),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,d=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,p=s.strikethrough?(d+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(l,p),t.lineTo(u,p),t.stroke()}}function NS(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _l(t,e,n,r,s,a={}){const l=_t(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let d,f;for(t.save(),t.font=s.string,DS(t,a),d=0;d<l.length;++d)f=l[d],a.backdrop&&NS(t,a.backdrop),u&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Ge(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(f,n,r,a.maxWidth)),t.fillText(f,n,r,a.maxWidth),TS(t,n,r,f,a),r+=Number(s.lineHeight);t.restore()}function Sl(t,e){const{x:n,y:r,w:s,h:a,radius:l}=e;t.arc(n+l.topLeft,r+l.topLeft,l.topLeft,1.5*Ze,Ze,!0),t.lineTo(n,r+a-l.bottomLeft),t.arc(n+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,Ze,St,!0),t.lineTo(n+s-l.bottomRight,r+a),t.arc(n+s-l.bottomRight,r+a-l.bottomRight,l.bottomRight,St,0,!0),t.lineTo(n+s,r+l.topRight),t.arc(n+s-l.topRight,r+l.topRight,l.topRight,0,-St,!0),t.lineTo(n+l.topLeft,r)}const LS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,AS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OS(t,e){const n=(""+t).match(LS);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const FS=t=>+t||0;function Td(t,e){const n={},r=ze(e),s=r?Object.keys(e):e,a=ze(t)?r?l=>Le(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of s)n[l]=FS(a(l));return n}function H0(t){return Td(t,{top:"y",right:"x",bottom:"y",left:"x"})}function cs(t){return Td(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Nn(t){const e=H0(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nn(t,e){t=t||{},e=e||mt.font;let n=Le(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Le(t.style,e.style);r&&!(""+r).match(AS)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Le(t.family,e.family),lineHeight:OS(Le(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Le(t.weight,e.weight),string:""};return s.string=ES(s),s}function Ja(t,e,n,r){let s,a,l;for(s=0,a=t.length;s<a;++s)if(l=t[s],l!==void 0&&l!==void 0)return l}function zS(t,e,n){const{min:r,max:s}=t,a=N0(e,(s-r)/2),l=(u,d)=>n&&u===0?0:u+d;return{min:l(r,-Math.abs(a)),max:l(s,a)}}function Ti(t,e){return Object.assign(Object.create(t),e)}function Nd(t,e=[""],n,r,s=()=>t[0]){const a=n||t;typeof r>"u"&&(r=X0("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:s,override:u=>Nd([u,...t],e,a,r)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete t[0][d],!0},get(u,d){return V0(u,d,()=>VS(d,e,t,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,d){return Pm(u).includes(d)},ownKeys(u){return Pm(u)},set(u,d,f){const p=u._storage||(u._storage=s());return u[d]=p[d]=f,delete u._keys,!0}})}function fs(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:W0(t,r),setContext:a=>fs(t,a,n,r),override:a=>fs(t.override(a),e,n,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,u){return V0(a,l,()=>IS(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,u){return t[l]=u,delete a[l],!0}})}function W0(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Kr(n)?n:()=>n,isIndexable:Kr(r)?r:()=>r}}const jS=(t,e)=>t?t+Ed(e):e,Ld=(t,e)=>ze(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function V0(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function IS(t,e,n){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=t;let u=r[e];return Kr(u)&&l.isScriptable(e)&&(u=BS(e,u,t,n)),_t(u)&&u.length&&(u=US(e,u,t,l.isIndexable)),Ld(e,u)&&(u=fs(u,s,a&&a[e],l)),u}function BS(t,e,n,r){const{_proxy:s,_context:a,_subProxy:l,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let d=e(a,l||r);return u.delete(t),Ld(t,d)&&(d=Ad(s._scopes,s,t,d)),d}function US(t,e,n,r){const{_proxy:s,_context:a,_subProxy:l,_descriptors:u}=n;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(ze(e[0])){const d=e,f=s._scopes.filter(p=>p!==d);e=[];for(const p of d){const g=Ad(f,s,t,p);e.push(fs(g,a,l&&l[t],u))}}return e}function Y0(t,e,n){return Kr(t)?t(e,n):t}const $S=(t,e)=>t===!0?e:typeof t=="string"?Mi(e,t):void 0;function HS(t,e,n,r,s){for(const a of e){const l=$S(n,a);if(l){t.add(l);const u=Y0(l._fallback,n,s);if(typeof u<"u"&&u!==n&&u!==r)return u}else if(l===!1&&typeof r<"u"&&n!==r)return null}return!1}function Ad(t,e,n,r){const s=e._rootScopes,a=Y0(e._fallback,n,r),l=[...t,...s],u=new Set;u.add(r);let d=Em(u,l,n,a||n,r);return d===null||typeof a<"u"&&a!==n&&(d=Em(u,l,a,d,r),d===null)?!1:Nd(Array.from(u),[""],s,a,()=>WS(e,n,r))}function Em(t,e,n,r,s){for(;n;)n=HS(t,e,n,r,s);return n}function WS(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return _t(s)&&ze(n)?n:s||{}}function VS(t,e,n,r){let s;for(const a of e)if(s=X0(jS(a,t),n),typeof s<"u")return Ld(t,s)?Ad(n,r,t,s):s}function X0(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Pm(t){let e=t._keys;return e||(e=t._keys=YS(t._scopes)),e}function YS(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const XS=Number.EPSILON||1e-14,hs=(t,e)=>e<t.length&&!t[e].skip&&t[e],G0=t=>t==="x"?"y":"x";function GS(t,e,n,r){const s=t.skip?e:t,a=e,l=n.skip?e:n,u=sd(a,s),d=sd(l,a);let f=u/(u+d),p=d/(u+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const g=r*f,v=r*p;return{previous:{x:a.x-g*(l.x-s.x),y:a.y-g*(l.y-s.y)},next:{x:a.x+v*(l.x-s.x),y:a.y+v*(l.y-s.y)}}}function qS(t,e,n){const r=t.length;let s,a,l,u,d,f=hs(t,0);for(let p=0;p<r-1;++p)if(d=f,f=hs(t,p+1),!(!d||!f)){if(bo(e[p],0,XS)){n[p]=n[p+1]=0;continue}s=n[p]/e[p],a=n[p+1]/e[p],u=Math.pow(s,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),n[p]=s*l*e[p],n[p+1]=a*l*e[p])}}function KS(t,e,n="x"){const r=G0(n),s=t.length;let a,l,u,d=hs(t,0);for(let f=0;f<s;++f){if(l=u,u=d,d=hs(t,f+1),!u)continue;const p=u[n],g=u[r];l&&(a=(p-l[n])/3,u[`cp1${n}`]=p-a,u[`cp1${r}`]=g-a*e[f]),d&&(a=(d[n]-p)/3,u[`cp2${n}`]=p+a,u[`cp2${r}`]=g+a*e[f])}}function QS(t,e="x"){const n=G0(e),r=t.length,s=Array(r).fill(0),a=Array(r);let l,u,d,f=hs(t,0);for(l=0;l<r;++l)if(u=d,d=f,f=hs(t,l+1),!!d){if(f){const p=f[e]-d[e];s[l]=p!==0?(f[n]-d[n])/p:0}a[l]=u?f?Vn(s[l-1])!==Vn(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}qS(t,s,a),KS(t,a,e)}function Za(t,e,n){return Math.max(Math.min(t,n),e)}function JS(t,e){let n,r,s,a,l,u=To(t[0],e);for(n=0,r=t.length;n<r;++n)l=a,a=u,u=n<r-1&&To(t[n+1],e),a&&(s=t[n],l&&(s.cp1x=Za(s.cp1x,e.left,e.right),s.cp1y=Za(s.cp1y,e.top,e.bottom)),u&&(s.cp2x=Za(s.cp2x,e.left,e.right),s.cp2y=Za(s.cp2y,e.top,e.bottom)))}function ZS(t,e,n,r,s){let a,l,u,d;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")QS(t,s);else{let f=r?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)u=t[a],d=GS(f,u,t[Math.min(a+1,l-(r?0:1))%l],e.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}e.capBezierPoints&&JS(t,n)}function Od(){return typeof window<"u"&&typeof document<"u"}function Fd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function kl(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Ll=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function e2(t,e){return Ll(t).getPropertyValue(e)}const t2=["top","right","bottom","left"];function ki(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=t2[s];r[a]=parseFloat(t[e+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const n2=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function r2(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:a}=r;let l=!1,u,d;if(n2(s,a,t.target))u=s,d=a;else{const f=e.getBoundingClientRect();u=r.clientX-f.left,d=r.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function bi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Ll(n),a=s.boxSizing==="border-box",l=ki(s,"padding"),u=ki(s,"border","width"),{x:d,y:f,box:p}=r2(t,n),g=l.left+(p&&u.left),v=l.top+(p&&u.top);let{width:x,height:b}=e;return a&&(x-=l.width+u.width,b-=l.height+u.height),{x:Math.round((d-g)/x*n.width/r),y:Math.round((f-v)/b*n.height/r)}}function i2(t,e,n){let r,s;if(e===void 0||n===void 0){const a=t&&Fd(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),u=Ll(a),d=ki(u,"border","width"),f=ki(u,"padding");e=l.width-f.width-d.width,n=l.height-f.height-d.height,r=kl(u.maxWidth,a,"clientWidth"),s=kl(u.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:r||wl,maxHeight:s||wl}}const Vr=t=>Math.round(t*10)/10;function s2(t,e,n,r){const s=Ll(t),a=ki(s,"margin"),l=kl(s.maxWidth,t,"clientWidth")||wl,u=kl(s.maxHeight,t,"clientHeight")||wl,d=i2(t,e,n);let{width:f,height:p}=d;if(s.boxSizing==="content-box"){const v=ki(s,"border","width"),x=ki(s,"padding");f-=x.width+v.width,p-=x.height+v.height}return f=Math.max(0,f-a.width),p=Math.max(0,r?f/r:p-a.height),f=Vr(Math.min(f,l,d.maxWidth)),p=Vr(Math.min(p,u,d.maxHeight)),f&&!p&&(p=Vr(f/2)),(e!==void 0||n!==void 0)&&r&&d.height&&p>d.height&&(p=d.height,f=Vr(Math.floor(p*r))),{width:f,height:p}}function Rm(t,e,n){const r=e||1,s=Vr(t.height*r),a=Vr(t.width*r);t.height=Vr(t.height),t.width=Vr(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||l.height!==s||l.width!==a?(t.currentDevicePixelRatio=r,l.height=s,l.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const o2=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Od()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Dm(t,e){const n=e2(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function wi(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function a2(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function l2(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},l=wi(t,s,n),u=wi(s,a,n),d=wi(a,e,n),f=wi(l,u,n),p=wi(u,d,n);return wi(f,p,n)}const u2=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},c2=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ds(t,e,n){return t?u2(e,n):c2()}function q0(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function K0(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Q0(t){return t==="angle"?{between:Do,compare:uS,normalize:dn}:{between:mr,compare:(e,n)=>e-n,normalize:e=>e}}function Tm({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function d2(t,e,n){const{property:r,start:s,end:a}=n,{between:l,normalize:u}=Q0(r),d=e.length;let{start:f,end:p,loop:g}=t,v,x;if(g){for(f+=d,p+=d,v=0,x=d;v<x&&l(u(e[f%d][r]),s,a);++v)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:g,style:t.style}}function J0(t,e,n){if(!n)return[t];const{property:r,start:s,end:a}=n,l=e.length,{compare:u,between:d,normalize:f}=Q0(r),{start:p,end:g,loop:v,style:x}=d2(t,e,n),b=[];let w=!1,S=null,C,R,M;const L=()=>d(s,M,C)&&u(s,M)!==0,T=()=>u(a,C)===0||d(a,M,C),j=()=>w||L(),E=()=>!w||T();for(let A=p,H=p;A<=g;++A)R=e[A%l],!R.skip&&(C=f(R[r]),C!==M&&(w=d(C,s,a),S===null&&j()&&(S=u(C,s)===0?A:H),S!==null&&E()&&(b.push(Tm({start:S,end:A,loop:v,count:l,style:x})),S=null),H=A,M=C));return S!==null&&b.push(Tm({start:S,end:g,loop:v,count:l,style:x})),b}function Z0(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const a=J0(r[s],t.points,e);a.length&&n.push(...a)}return n}function f2(t,e,n,r){let s=0,a=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(a+=s);a>s&&t[a%e].skip;)a--;return a%=e,{start:s,end:a}}function h2(t,e,n,r){const s=t.length,a=[];let l=e,u=t[e],d;for(d=e+1;d<=n;++d){const f=t[d%s];f.skip||f.stop?u.skip||(r=!1,a.push({start:e%s,end:(d-1)%s,loop:r}),e=l=f.stop?d:null):(l=d,u.skip&&(e=d)),u=f}return l!==null&&a.push({start:e%s,end:l%s,loop:r}),a}function p2(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const a=!!t._loop,{start:l,end:u}=f2(n,s,a,r);if(r===!0)return Nm(t,[{start:l,end:u,loop:a}],n,e);const d=u<l?u+s:u,f=!!t._fullLoop&&l===0&&u===s-1;return Nm(t,h2(n,l,d,f),n,e)}function Nm(t,e,n,r){return!r||!r.setContext||!n?e:m2(t,e,n,r)}function m2(t,e,n,r){const s=t._chart.getContext(),a=Lm(t.options),{_datasetIndex:l,options:{spanGaps:u}}=t,d=n.length,f=[];let p=a,g=e[0].start,v=g;function x(b,w,S,C){const R=u?-1:1;if(b!==w){for(b+=d;n[b%d].skip;)b-=R;for(;n[w%d].skip;)w+=R;b%d!==w%d&&(f.push({start:b%d,end:w%d,loop:S,style:C}),p=C,g=w%d)}}for(const b of e){g=u?g:b.start;let w=n[g%d],S;for(v=g+1;v<=b.end;v++){const C=n[v%d];S=Lm(r.setContext(Ti(s,{type:"segment",p0:w,p1:C,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:l}))),g2(S,p)&&x(g,v-1,b.loop,p),w=C,p=S}g<v-1&&x(g,v-1,b.loop,p)}return f}function Lm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function g2(t,e){if(!e)return!1;const n=[],r=function(s,a){return Rd(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function el(t,e,n){return t.options.clip?t[n]:e[n]}function y2(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:el(n,e,"left"),right:el(n,e,"right"),top:el(r,e,"top"),bottom:el(r,e,"bottom")}:e}function ey(t,e){const n=e._clip;if(n.disabled)return!1;const r=y2(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}class v2{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const a=n.listeners[s],l=n.duration;a.forEach(u=>u({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(r-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=j0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,u=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(s.draw(),this._notify(s,r,e,"progress")),a.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var cr=new v2;const Am="transparent",x2={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Sm(t||Am),s=r.valid&&Sm(e||Am);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class b2{constructor(e,n,r,s){const a=n[r];s=Ja([e.to,s,a,e.from]);const l=Ja([e.from,a,s]);this._active=!0,this._fn=e.fn||x2[e.type||typeof l],this._easing=wo[e.easing]||wo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Ja([e.to,n,s,e.from]),this._from=Ja([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,a=this._from,l=this._loop,u=this._to;let d;if(this._active=a!==u&&(l||n<r),!this._active){this._target[s]=u,this._notify(!0);return}if(n<0){this._target[s]=a;return}d=n/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(a,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class ty{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ze(e))return;const n=Object.keys(mt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!ze(a))return;const l={};for(const u of n)l[u]=a[u];(_t(a.properties)&&a.properties||[s]).forEach(u=>{(u===s||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,n){const r=n.options,s=_2(e,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&w2(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,n){const r=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,n));continue}const p=n[f];let g=a[f];const v=r.get(f);if(g)if(v&&g.active()){g.update(v,p,u);continue}else g.cancel();if(!v||!v.duration){e[f]=p;continue}a[f]=g=new b2(v,e,f,p),s.push(g)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return cr.add(this._chart,r),!0}}function w2(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const a=t[r[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function _2(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Om(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:r?a:s,end:r?s:a}}function S2(t,e,n){if(n===!1)return!1;const r=Om(t,n),s=Om(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function k2(t){let e,n,r,s;return ze(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function ny(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=r.length;s<a;++s)n.push(r[s].index);return n}function Fm(t,e,n,r={}){const s=t.keys,a=r.mode==="single";let l,u,d,f;if(e===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(d=+s[l],d===n){if(p=!0,r.all)continue;break}f=t.values[d],jt(f)&&(a||e===0||Vn(e)===Vn(f))&&(e+=f)}return!p&&!r.all?0:e}function C2(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(t),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[s]:p,[a]:t[p]};return u}function Ic(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function M2(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function E2(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function P2(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function zm(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const a=t[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function jm(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:u}=r,d=a.axis,f=l.axis,p=M2(a,l,r),g=e.length;let v;for(let x=0;x<g;++x){const b=e[x],{[d]:w,[f]:S}=b,C=b._stacks||(b._stacks={});v=C[f]=P2(s,p,w),v[u]=S,v._top=zm(v,l,!0,r.type),v._bottom=zm(v,l,!1,r.type);const R=v._visualValues||(v._visualValues={});R[u]=S}}function Bc(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function R2(t,e){return Ti(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function D2(t,e,n){return Ti(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function io(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const Uc=t=>t==="reset"||t==="none",Im=(t,e)=>e?t:Object.assign({},t),T2=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ny(n,!0),values:null};class Al{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ic(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&io(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(g,v,x,b)=>g==="x"?v:g==="r"?b:x,a=n.xAxisID=Le(r.xAxisID,Bc(e,"x")),l=n.yAxisID=Le(r.yAxisID,Bc(e,"y")),u=n.rAxisID=Le(r.rAxisID,Bc(e,"r")),d=n.indexAxis,f=n.iAxisID=s(d,a,l,u),p=n.vAxisID=s(d,l,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&bm(this._data,this),e._stacked&&io(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ze(n)){const s=this._cachedMeta;this._data=C2(n,s)}else if(r!==n){if(r){bm(r,this);const s=this._cachedMeta;io(s),s._parsed=[]}n&&Object.isExtensible(n)&&hS(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Ic(n.vScale,n),n.stack!==r.stack&&(s=!0,io(n),n.stack=r.stack),this._resyncElements(e),(s||a!==n._stacked)&&(jm(this,n._parsed),n._stacked=Ic(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:l}=r,u=a.axis;let d=e===0&&n===s.length?!0:r._sorted,f=e>0&&r._parsed[e-1],p,g,v;if(this._parsing===!1)r._parsed=s,r._sorted=!0,v=s;else{_t(s[e])?v=this.parseArrayData(r,s,e,n):ze(s[e])?v=this.parseObjectData(r,s,e,n):v=this.parsePrimitiveData(r,s,e,n);const x=()=>g[u]===null||f&&g[u]<f[u];for(p=0;p<n;++p)r._parsed[p+e]=g=v[p],d&&(x()&&(d=!1),f=g);r._sorted=d}l&&jm(this,v)}parsePrimitiveData(e,n,r,s){const{iScale:a,vScale:l}=e,u=a.axis,d=l.axis,f=a.getLabels(),p=a===l,g=new Array(s);let v,x,b;for(v=0,x=s;v<x;++v)b=v+r,g[v]={[u]:p||a.parse(f[b],b),[d]:l.parse(n[b],b)};return g}parseArrayData(e,n,r,s){const{xScale:a,yScale:l}=e,u=new Array(s);let d,f,p,g;for(d=0,f=s;d<f;++d)p=d+r,g=n[p],u[d]={x:a.parse(g[0],p),y:l.parse(g[1],p)};return u}parseObjectData(e,n,r,s){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(s);let p,g,v,x;for(p=0,g=s;p<g;++p)v=p+r,x=n[v],f[p]={x:a.parse(Mi(x,u),v),y:l.parse(Mi(x,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,a=this._cachedMeta,l=n[e.axis],u={keys:ny(s,!0),values:n._stacks[e.axis]._visualValues};return Fm(u,l,a.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const a=r[n.axis];let l=a===null?NaN:a;const u=s&&r._stacks[n.axis];s&&u&&(s.values=u,l=Fm(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,l=s.length,u=this._getOtherScale(e),d=T2(n,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=E2(u);let v,x;function b(){x=s[v];const w=x[u.axis];return!jt(x[e.axis])||p>w||g<w}for(v=0;v<l&&!(!b()&&(this.updateRangeFromParsed(f,e,x,d),a));++v);if(a){for(v=l-1;v>=0;--v)if(!b()){this.updateRangeFromParsed(f,e,x,d);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][e.axis],jt(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=k2(Le(this.options.clip,S2(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],a=n.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||s.length-u,f=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,a,u,d),p=u;p<u+d;++p){const g=s[p];g.hidden||(g.active&&f?l.push(g):g.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=D2(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=R2(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",a=this._cachedDataOpts,l=e+"-"+n,u=a[l],d=this.enableOptionSharing&&Po(r);if(u)return Im(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),g=s?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),p),x=Object.keys(mt.elements[e]),b=()=>this.getContext(r,s,n),w=f.resolveNamedOptions(v,x,b,g);return w.$shared&&(w.$shared=d,a[l]=Object.freeze(Im(w,d))),w}_resolveAnimations(e,n,r){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,u=a[l];if(u)return u;let d;if(s.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),v=p.getOptionScopes(this.getDataset(),g);d=p.createResolver(v,this.getContext(e,r,n))}const f=new ty(s,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Uc(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:l}}updateElement(e,n,r,s){Uc(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Uc(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const s=r.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,n,r=!0){const s=this._cachedMeta,a=s.data,l=e+n;let u;const d=f=>{for(f.length+=n,u=f.length-1;u>=l;u--)f[u]=f[u-n]};for(d(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&io(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function N2(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,a=n.length;s<a;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=z0(r.sort((s,a)=>s-a))}return t._cache.$bar}function L2(t){const e=t.iScale,n=N2(e,t.type);let r=e._length,s,a,l,u;const d=()=>{l===32767||l===-32768||(Po(u)&&(r=Math.min(r,Math.abs(l-u)||r)),u=l)};for(s=0,a=n.length;s<a;++s)l=e.getPixelForValue(n[s]),d();for(u=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),d();return r}function A2(t,e,n,r){const s=n.barThickness;let a,l;return Ge(s)?(a=e.min*n.categoryPercentage,l=n.barPercentage):(a=s*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[t]-a/2}}function O2(t,e,n,r){const s=e.pixels,a=s[t];let l=t>0?s[t-1]:null,u=t<s.length-1?s[t+1]:null;const d=n.categoryPercentage;l===null&&(l=a-(u===null?e.end-e.start:u-a)),u===null&&(u=a+a-l);const f=a-(a-Math.min(l,u))/2*d;return{chunk:Math.abs(u-l)/2*d/r,ratio:n.barPercentage,start:f}}function F2(t,e,n,r){const s=n.parse(t[0],r),a=n.parse(t[1],r),l=Math.min(s,a),u=Math.max(s,a);let d=l,f=u;Math.abs(l)>Math.abs(u)&&(d=u,f=l),e[n.axis]=f,e._custom={barStart:d,barEnd:f,start:s,end:a,min:l,max:u}}function ry(t,e,n,r){return _t(t)?F2(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Bm(t,e,n,r){const s=t.iScale,a=t.vScale,l=s.getLabels(),u=s===a,d=[];let f,p,g,v;for(f=n,p=n+r;f<p;++f)v=e[f],g={},g[s.axis]=u||s.parse(l[f],f),d.push(ry(v,g,a,f));return d}function $c(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function z2(t,e,n){return t!==0?Vn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function j2(t){let e,n,r,s,a;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",a="start"):(s="start",a="end"),{start:n,end:r,reverse:e,top:s,bottom:a}}function I2(t,e,n,r){let s=e.borderSkipped;const a={};if(!s){t.borderSkipped=a;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:d,top:f,bottom:p}=j2(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=f:(n._bottom||0)===r?s=p:(a[Um(p,l,u,d)]=!0,s=f)),a[Um(s,l,u,d)]=!0,t.borderSkipped=a}function Um(t,e,n,r){return r?(t=B2(t,e,n),t=$m(t,n,e)):t=$m(t,e,n),t}function B2(t,e,n){return t===e?n:t===n?e:t}function $m(t,e,n){return t==="start"?e:t==="end"?n:t}function U2(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class $2 extends Al{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return Bm(e,n,r,s)}parseArrayData(e,n,r,s){return Bm(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:a,vScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=a.axis==="x"?u:d,p=l.axis==="x"?u:d,g=[];let v,x,b,w;for(v=r,x=r+s;v<x;++v)w=n[v],b={},b[a.axis]=a.parse(Mi(w,f),v),g.push(ry(Mi(w,p),b,l,v));return g}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const a=r._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,a=this.getParsed(e),l=a._custom,u=$c(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,d=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:v}=this._getSharedOptions(n,s);for(let x=n;x<n+r;x++){const b=this.getParsed(x),w=a||Ge(b[u.axis])?{base:d,head:d}:this._calculateBarValuePixels(x),S=this._calculateBarIndexPixels(x,p),C=(b._stacks||{})[u.axis],R={horizontal:f,base:w.base,enableBorderRadius:!C||$c(b._custom)||l===C._top||l===C._bottom,x:f?w.head:S.center,y:f?S.center:w.head,height:f?S.size:Math.abs(w.size),width:f?Math.abs(w.size):S.size};v&&(R.options=g||this.resolveDataElementOptions(x,e[x].active?"active":s));const M=R.options||e[x].options;I2(R,M,C,l),U2(R,M,p.ratio),this.updateElement(e[x],x,R,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=r.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(n),d=u&&u[r.axis],f=p=>{const g=p._parsed.find(x=>x[r.axis]===d),v=g&&g[p.vScale.axis];if(Ge(v)||isNaN(v))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Le(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const u=e.barThickness;return{min:u||L2(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:a,minBarLength:l}}=this,u=a||0,d=this.getParsed(e),f=d._custom,p=$c(f);let g=d[n.axis],v=0,x=r?this.applyStack(n,d,r):g,b,w;x!==g&&(v=x-g,x=g),p&&(g=f.barStart,x=f.barEnd-f.barStart,g!==0&&Vn(g)!==Vn(f.barEnd)&&(v=0),v+=g);const S=!Ge(a)&&!p?a:v;let C=n.getPixelForValue(S);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(v+x):b=C,w=b-C,Math.abs(w)<l){w=z2(w,n,u)*l,g===u&&(C-=w/2);const R=n.getPixelForDecimal(0),M=n.getPixelForDecimal(1),L=Math.min(R,M),T=Math.max(R,M);C=Math.max(Math.min(C,T),L),b=C+w,r&&!p&&(d._stacks[n.axis]._visualValues[s]=n.getValueForPixel(b)-n.getValueForPixel(C))}if(C===n.getPixelForValue(u)){const R=Vn(w)*n.getLineWidthForValue(u)/2;C+=R,w-=R}return{size:w,base:C,head:b,center:b+w/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,a=s.skipNull,l=Le(s.maxBarThickness,1/0);let u,d;const f=this._getAxisCount();if(n.grouped){const p=a?this._getStackCount(e):n.stackCount,g=s.barThickness==="flex"?O2(e,n,s,p*f):A2(e,n,s,p*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Le(v,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+x;u=g.start+g.chunk*b+g.chunk/2,d=Math.min(l,g.chunk*g.ratio)}else u=r.getPixelForValue(this.getParsed(e)[r.axis],e),d=Math.min(l,n.min*n.ratio);return{base:u-d/2,head:u+d/2,center:u,size:d}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}function H2(t,e,n){let r=1,s=1,a=0,l=0;if(e<ut){const u=t,d=u+e,f=Math.cos(u),p=Math.sin(u),g=Math.cos(d),v=Math.sin(d),x=(M,L,T)=>Do(M,u,d,!0)?1:Math.max(L,L*n,T,T*n),b=(M,L,T)=>Do(M,u,d,!0)?-1:Math.min(L,L*n,T,T*n),w=x(0,f,g),S=x(St,p,v),C=b(Ze,f,g),R=b(Ze+St,p,v);r=(w-C)/2,s=(S-R)/2,a=-(w+C)/2,l=-(S+R)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:l}}class W2 extends Al{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((d,f)=>{const g=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:g.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(f),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:s,pointStyle:r,borderRadius:l&&(u||g.borderRadius),index:f}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let a=d=>+r[d];if(ze(r[e])){const{key:d="value"}=this._parsing;a=f=>+Mi(r[f],d)}let l,u;for(l=e,u=e+n;l<u;++l)s._parsed[l]=a(l)}}_getRotation(){return pr(this.options.rotation-90)}_getCircumference(){return pr(this.options.circumference)}_getRotationExtents(){let e=ut,n=-ut;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),l=s._getCircumference();e=Math.min(e,a),n=Math.max(n,a+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(K_(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:v,ratioY:x,offsetX:b,offsetY:w}=H2(g,p,d),S=(r.width-l)/v,C=(r.height-l)/x,R=Math.max(Math.min(S,C)/2,0),M=N0(this.options.radius,R),L=Math.max(M*d,0),T=(M-L)/this._getVisibleDatasetWeightTotal();this.offsetX=b*M,this.offsetY=w*M,s.total=this.calculateTotal(),this.outerRadius=M-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/ut)}updateElements(e,n,r,s){const a=s==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,g=(u.top+u.bottom)/2,v=a&&f.animateScale,x=v?0:this.innerRadius,b=v?0:this.outerRadius,{sharedOptions:w,includeOptions:S}=this._getSharedOptions(n,s);let C=this._getRotation(),R;for(R=0;R<n;++R)C+=this._circumference(R,a);for(R=n;R<n+r;++R){const M=this._circumference(R,a),L=e[R],T={x:p+this.offsetX,y:g+this.offsetY,startAngle:C,endAngle:C+M,circumference:M,outerRadius:b,innerRadius:x};S&&(T.options=w||this.resolveDataElementOptions(R,L.active?"active":s)),C+=M,this.updateElement(L,R,T,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ut*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=Dd(n._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,a,l,u,d;if(!e){for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),e=l.data,u=l.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)d=u.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(n=Math.max(n,d.borderWidth||0,d.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Le(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class V2 extends Al{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:u,count:d}=gS(n,s,l);this._drawStart=u,this._drawCount=d,yS(n)&&(u=0,d=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:f},e),this.updateElements(s,u,d,e)}updateElements(e,n,r,s){const a=s==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,s),v=l.axis,x=u.axis,{spanGaps:b,segment:w}=this.options,S=Ro(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||s==="none",R=n+r,M=e.length;let L=n>0&&this.getParsed(n-1);for(let T=0;T<M;++T){const j=e[T],E=C?j:{};if(T<n||T>=R){E.skip=!0;continue}const A=this.getParsed(T),H=Ge(A[x]),G=E[v]=l.getPixelForValue(A[v],T),q=E[x]=a||H?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,A,d):A[x],T);E.skip=isNaN(G)||isNaN(q)||H,E.stop=T>0&&Math.abs(A[v]-L[v])>S,w&&(E.parsed=A,E.raw=f.data[T]),g&&(E.options=p||this.resolveDataElementOptions(T,j.active?"active":s)),C||this.updateElement(j,T,E,s),L=A}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function xi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zd{static override(e){Object.assign(zd.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return xi()}parse(){return xi()}format(){return xi()}add(){return xi()}diff(){return xi()}startOf(){return xi()}endOf(){return xi()}}var Y2={_date:zd};function X2(t,e,n,r){const{controller:s,data:a,_sorted:l}=t,u=s._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?dS:Si;if(r){if(s._sharedOptions){const p=a[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const v=f(a,e,n-g),x=f(a,e,n+g);return{lo:v.lo,hi:x.hi}}}}else{const p=f(a,e,n);if(d){const{vScale:g}=s._cachedMeta,{_parsed:v}=t,x=v.slice(0,p.lo+1).reverse().findIndex(w=>!Ge(w[g.axis]));p.lo-=Math.max(0,x);const b=v.slice(p.hi).findIndex(w=>!Ge(w[g.axis]));p.hi+=Math.max(0,b)}return p}}return{lo:0,hi:a.length-1}}function Ol(t,e,n,r,s){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let u=0,d=a.length;u<d;++u){const{index:f,data:p}=a[u],{lo:g,hi:v}=X2(a[u],e,l,s);for(let x=g;x<=v;++x){const b=p[x];b.skip||r(b,f,x)}}}function G2(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const a=e?Math.abs(r.x-s.x):0,l=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Hc(t,e,n,r,s){const a=[];return!s&&!t.isPointInArea(e)||Ol(t,n,e,function(u,d,f){!s&&!To(u,t.chartArea,0)||u.inRange(e.x,e.y,r)&&a.push({element:u,datasetIndex:d,index:f})},!0),a}function q2(t,e,n,r){let s=[];function a(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],r),{angle:g}=O0(l,{x:e.x,y:e.y});Do(g,f,p)&&s.push({element:l,datasetIndex:u,index:d})}return Ol(t,n,e,a),s}function K2(t,e,n,r,s,a){let l=[];const u=G2(n);let d=Number.POSITIVE_INFINITY;function f(p,g,v){const x=p.inRange(e.x,e.y,s);if(r&&!x)return;const b=p.getCenterPoint(s);if(!(!!a||t.isPointInArea(b))&&!x)return;const S=u(e,b);S<d?(l=[{element:p,datasetIndex:g,index:v}],d=S):S===d&&l.push({element:p,datasetIndex:g,index:v})}return Ol(t,n,e,f),l}function Wc(t,e,n,r,s,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!r?q2(t,e,n,s):K2(t,e,n,r,s,a)}function Hm(t,e,n,r,s){const a=[],l=n==="x"?"inXRange":"inYRange";let u=!1;return Ol(t,n,e,(d,f,p)=>{d[l]&&d[l](e[n],s)&&(a.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(e.x,e.y,s))}),r&&!u?[]:a}var Q2={modes:{index(t,e,n,r){const s=bi(e,t),a=n.axis||"x",l=n.includeInvisible||!1,u=n.intersect?Hc(t,s,a,r,l):Wc(t,s,a,!1,r,l),d=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,g=f.data[p];g&&!g.skip&&d.push({element:g,datasetIndex:f.index,index:p})}),d):[]},dataset(t,e,n,r){const s=bi(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let u=n.intersect?Hc(t,s,a,r,l):Wc(t,s,a,!1,r,l);if(u.length>0){const d=u[0].datasetIndex,f=t.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(t,e,n,r){const s=bi(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Hc(t,s,a,r,l)},nearest(t,e,n,r){const s=bi(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Wc(t,s,a,n.intersect,r,l)},x(t,e,n,r){const s=bi(e,t);return Hm(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=bi(e,t);return Hm(t,s,"y",n.intersect,r)}}};const iy=["left","top","right","bottom"];function so(t,e){return t.filter(n=>n.pos===e)}function Wm(t,e){return t.filter(n=>iy.indexOf(n.pos)===-1&&n.box.axis===e)}function oo(t,e){return t.sort((n,r)=>{const s=e?r:n,a=e?n:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function J2(t){const e=[];let n,r,s,a,l,u;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:a,options:{stack:l,stackWeight:u=1}}=s,e.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:u});return e}function Z2(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:a}=n;if(!r||!iy.includes(s))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function ek(t,e){const n=Z2(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let a,l,u;for(a=0,l=t.length;a<l;++a){u=t[a];const{fullSize:d}=u.box,f=n[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*r:d&&e.availableWidth,u.height=s):(u.width=r,u.height=p?p*s:d&&e.availableHeight)}return n}function tk(t){const e=J2(t),n=oo(e.filter(f=>f.box.fullSize),!0),r=oo(so(e,"left"),!0),s=oo(so(e,"right")),a=oo(so(e,"top"),!0),l=oo(so(e,"bottom")),u=Wm(e,"x"),d=Wm(e,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:s.concat(d).concat(l).concat(u),chartArea:so(e,"chartArea"),vertical:r.concat(s).concat(d),horizontal:a.concat(l).concat(u)}}function Vm(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function sy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function nk(t,e,n,r){const{pos:s,box:a}=n,l=t.maxPadding;if(!ze(s)){n.size&&(t[s]-=n.size);const g=r[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?a.height:a.width),n.size=g.size/g.count,t[s]+=n.size}a.getPadding&&sy(l,a.getPadding());const u=Math.max(0,e.outerWidth-Vm(l,t,"left","right")),d=Math.max(0,e.outerHeight-Vm(l,t,"top","bottom")),f=u!==t.w,p=d!==t.h;return t.w=u,t.h=d,n.horizontal?{same:f,other:p}:{same:p,other:f}}function rk(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function ik(t,e){const n=e.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return r(t?["left","right"]:["top","bottom"])}function po(t,e,n,r){const s=[];let a,l,u,d,f,p;for(a=0,l=t.length,f=0;a<l;++a){u=t[a],d=u.box,d.update(u.width||e.w,u.height||e.h,ik(u.horizontal,e));const{same:g,other:v}=nk(e,n,u,r);f|=g&&s.length,p=p||v,d.fullSize||s.push(u)}return f&&po(s,e,n,r)||p}function tl(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Ym(t,e,n,r){const s=n.padding;let{x:a,y:l}=e;for(const u of t){const d=u.box,f=r[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const g=e.w*p,v=f.size||d.height;Po(f.start)&&(l=f.start),d.fullSize?tl(d,s.left,l,n.outerWidth-s.right-s.left,v):tl(d,e.left+f.placed,l,g,v),f.start=l,f.placed+=g,l=d.bottom}else{const g=e.h*p,v=f.size||d.width;Po(f.start)&&(a=f.start),d.fullSize?tl(d,a,s.top,v,n.outerHeight-s.bottom-s.top):tl(d,a,e.top+f.placed,v,g),f.start=a,f.placed+=g,a=d.right}}e.x=a,e.y=l}var Yr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Nn(t.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(n-s.height,0),u=tk(t.boxes),d=u.vertical,f=u.horizontal;Qe(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=d.reduce((w,S)=>S.box.options&&S.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},s);sy(v,Nn(r));const x=Object.assign({maxPadding:v,w:a,h:l,x:s.left,y:s.top},s),b=ek(d.concat(f),g);po(u.fullSize,x,g,b),po(d,x,g,b),po(f,x,g,b)&&po(d,x,g,b),rk(x),Ym(u.leftAndTop,x,g,b),x.x+=x.w,x.y+=x.h,Ym(u.rightAndBottom,x,g,b),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Qe(u.chartArea,w=>{const S=w.box;Object.assign(S,t.chartArea),S.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class oy{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class sk extends oy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const pl="$chartjs",ok={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xm=t=>t===null||t==="";function ak(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[pl]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Xm(s)){const a=Dm(t,"width");a!==void 0&&(t.width=a)}if(Xm(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=Dm(t,"height");a!==void 0&&(t.height=a)}return t}const ay=o2?{passive:!0}:!1;function lk(t,e,n){t&&t.addEventListener(e,n,ay)}function uk(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,ay)}function ck(t,e){const n=ok[t.type]||t.type,{x:r,y:s}=bi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Cl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function dk(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Cl(u.addedNodes,r),l=l&&!Cl(u.removedNodes,r);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function fk(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Cl(u.removedNodes,r),l=l&&!Cl(u.addedNodes,r);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const No=new Map;let Gm=0;function ly(){const t=window.devicePixelRatio;t!==Gm&&(Gm=t,No.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function hk(t,e){No.size||window.addEventListener("resize",ly),No.set(t,e)}function pk(t){No.delete(t),No.size||window.removeEventListener("resize",ly)}function mk(t,e,n){const r=t.canvas,s=r&&Fd(r);if(!s)return;const a=I0((u,d)=>{const f=s.clientWidth;n(u,d),f<s.clientWidth&&n()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),hk(t,a),l}function Vc(t,e,n){n&&n.disconnect(),e==="resize"&&pk(t)}function gk(t,e,n){const r=t.canvas,s=I0(a=>{t.ctx!==null&&n(ck(a,t))},t);return lk(r,e,s),s}class yk extends oy{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(ak(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[pl])return!1;const r=n[pl].initial;["height","width"].forEach(a=>{const l=r[a];Ge(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=r.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[pl],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),l={attach:dk,detach:fk,resize:mk}[n]||gk;s[n]=l(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Vc,detach:Vc,resize:Vc}[n]||uk)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return s2(e,n,r,s)}isAttached(e){const n=e&&Fd(e);return!!(n&&n.isConnected)}}function vk(t){return!Od()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?sk:yk}class Qr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Ro(this.x)&&Ro(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}}function xk(t,e){const n=t.options.ticks,r=bk(t),s=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?_k(e):[],l=a.length,u=a[0],d=a[l-1],f=[];if(l>s)return Sk(e,f,a,l/s),f;const p=wk(a,e,s);if(l>0){let g,v;const x=l>1?Math.round((d-u)/(l-1)):null;for(nl(e,f,p,Ge(x)?0:u-x,u),g=0,v=l-1;g<v;g++)nl(e,f,p,a[g],a[g+1]);return nl(e,f,p,d,Ge(x)?e.length:d+x),f}return nl(e,f,p),f}function bk(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function wk(t,e,n){const r=kk(t),s=e.length/n;if(!r)return Math.max(s,1);const a=iS(r);for(let l=0,u=a.length-1;l<u;l++){const d=a[l];if(d>s)return d}return Math.max(s,1)}function _k(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Sk(t,e,n,r){let s=0,a=n[0],l;for(r=Math.ceil(r),l=0;l<t.length;l++)l===a&&(e.push(t[l]),s++,a=n[s*r])}function nl(t,e,n,r,s){const a=Le(r,0),l=Math.min(Le(s,t.length),t.length);let u=0,d,f,p;for(n=Math.ceil(n),s&&(d=s-r,n=d/Math.floor(d/n)),p=a;p<0;)u++,p=Math.round(a+u*n);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(t[f]),u++,p=Math.round(a+u*n))}function kk(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Ck=t=>t==="left"?"right":t==="right"?"left":t,qm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Km=(t,e)=>Math.min(e||t,t);function Qm(t,e){const n=[],r=t.length/e,s=t.length;let a=0;for(;a<s;a+=r)n.push(t[Math.floor(a)]);return n}function Mk(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),a=t._startPixel,l=t._endPixel,u=1e-6;let d=t.getPixelForTick(s),f;if(!(n&&(r===1?f=Math.max(d-a,l-d):e===0?f=(t.getPixelForTick(1)-d)/2:f=(d-t.getPixelForTick(s-1))/2,d+=s<e?f:-f,d<a-u||d>l+u)))return d}function Ek(t,e){Qe(t,n=>{const r=n.gc,s=r.length/2;let a;if(s>e){for(a=0;a<s;++a)delete n.data[r[a]];r.splice(0,s)}})}function ao(t){return t.drawTicks?t.tickLength:0}function Jm(t,e){if(!t.display)return 0;const n=nn(t.font,e),r=Nn(t.padding);return(_t(t.text)?t.text.length:1)*n.lineHeight+r.height}function Pk(t,e){return Ti(t,{scale:e,type:"scale"})}function Rk(t,e,n){return Ti(t,{tick:n,index:e,type:"tick"})}function Dk(t,e,n){let r=B0(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Ck(r)),r}function Tk(t,e,n,r){const{top:s,left:a,bottom:l,right:u,chart:d}=t,{chartArea:f,scales:p}=d;let g=0,v,x,b;const w=l-s,S=u-a;if(t.isHorizontal()){if(x=un(r,a,u),ze(n)){const C=Object.keys(n)[0],R=n[C];b=p[C].getPixelForValue(R)+w-e}else n==="center"?b=(f.bottom+f.top)/2+w-e:b=qm(t,n,e);v=u-a}else{if(ze(n)){const C=Object.keys(n)[0],R=n[C];x=p[C].getPixelForValue(R)-S+e}else n==="center"?x=(f.left+f.right)/2-S+e:x=qm(t,n,e);b=un(r,l,s),g=n==="left"?-St:St}return{titleX:x,titleY:b,maxWidth:v,rotation:g}}class ms extends Qr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Bn(e,Number.POSITIVE_INFINITY),n=Bn(n,Number.NEGATIVE_INFINITY),r=Bn(r,Number.POSITIVE_INFINITY),s=Bn(s,Number.NEGATIVE_INFINITY),{min:Bn(e,r),max:Bn(n,s),minDefined:jt(e),maxDefined:jt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:r};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,e),s||(n=Math.min(n,l.min)),a||(r=Math.max(r,l.max));return n=a&&n>r?r:n,r=s&&n>r?n:r,{min:Bn(n,Bn(r,n)),max:Bn(r,Bn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zS(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?Qm(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=xk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rt(this.options.afterUpdate,[this])}beforeSetDimensions(){rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),rt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r],a.label=rt(n.callback,[a.value,r,e],this)}afterTickToLabelConversion(){rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Km(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,u,d,f;if(!this._isVisible()||!n.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),g=p.widest.width,v=p.highest.height,x=zt(this.chart.width-g,0,this.maxWidth);u=e.offset?this.maxWidth/r:x/(r-1),g+6>u&&(u=x/(r-(e.offset?.5:1)),d=this.maxHeight-ao(e.grid)-n.padding-Jm(e.title,this.chart.options.font),f=Math.sqrt(g*g+v*v),l=lS(Math.min(Math.asin(zt((p.highest.height+6)/u,-1,1)),Math.asin(zt(d/f,-1,1))-Math.asin(zt(v/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=Jm(s,n.options.font);if(u?(e.width=this.maxWidth,e.height=ao(a)+d):(e.height=this.maxHeight,e.width=ao(a)+d),r.display&&this.ticks.length){const{first:f,last:p,widest:g,highest:v}=this._getLabelSizes(),x=r.padding*2,b=pr(this.labelRotation),w=Math.cos(b),S=Math.sin(b);if(u){const C=r.mirror?0:S*g.width+w*v.height;e.height=Math.min(this.maxHeight,e.height+C+x)}else{const C=r.mirror?0:w*g.width+S*v.height;e.width=Math.min(this.maxWidth,e.width+C+x)}this._calculatePadding(f,p,S,w)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:a,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,x=0;d?f?(v=s*e.width,x=r*n.height):(v=r*e.height,x=s*n.width):a==="start"?x=n.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,x=n.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-g+l)*this.width/(this.width-g),0)}else{let p=n.height/2,g=e.height/2;a==="start"?(p=0,g=e.height):a==="end"&&(p=n.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Ge(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Qm(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:a}=this,l=[],u=[],d=Math.floor(n/Km(n,r));let f=0,p=0,g,v,x,b,w,S,C,R,M,L,T;for(g=0;g<n;g+=d){if(b=e[g].label,w=this._resolveTickFontOptions(g),s.font=S=w.string,C=a[S]=a[S]||{data:{},gc:[]},R=w.lineHeight,M=L=0,!Ge(b)&&!_t(b))M=Cm(s,C.data,C.gc,M,b),L=R;else if(_t(b))for(v=0,x=b.length;v<x;++v)T=b[v],!Ge(T)&&!_t(T)&&(M=Cm(s,C.data,C.gc,M,T),L+=R);l.push(M),u.push(L),f=Math.max(M,f),p=Math.max(L,p)}Ek(a,n);const j=l.indexOf(f),E=u.indexOf(p),A=H=>({width:l[H]||0,height:u[H]||0});return{first:A(0),last:A(n-1),widest:A(j),highest:A(E),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return cS(this._alignToPixels?vi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Rk(this.getContext(),e,r))}return this.$context||(this.$context=Pk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=pr(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>u*s?u/r:d/s:d*s<u*r?d/r:u/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:a,position:l,border:u}=s,d=a.offset,f=this.isHorizontal(),g=this.ticks.length+(d?1:0),v=ao(a),x=[],b=u.setContext(this.getContext()),w=b.display?b.width:0,S=w/2,C=function(ue){return vi(r,ue,w)};let R,M,L,T,j,E,A,H,G,q,Z,ae;if(l==="top")R=C(this.bottom),E=this.bottom-v,H=R-S,q=C(e.top)+S,ae=e.bottom;else if(l==="bottom")R=C(this.top),q=e.top,ae=C(e.bottom)-S,E=R+S,H=this.top+v;else if(l==="left")R=C(this.right),j=this.right-v,A=R-S,G=C(e.left)+S,Z=e.right;else if(l==="right")R=C(this.left),G=e.left,Z=C(e.right)-S,j=R+S,A=this.left+v;else if(n==="x"){if(l==="center")R=C((e.top+e.bottom)/2+.5);else if(ze(l)){const ue=Object.keys(l)[0],de=l[ue];R=C(this.chart.scales[ue].getPixelForValue(de))}q=e.top,ae=e.bottom,E=R+S,H=E+v}else if(n==="y"){if(l==="center")R=C((e.left+e.right)/2);else if(ze(l)){const ue=Object.keys(l)[0],de=l[ue];R=C(this.chart.scales[ue].getPixelForValue(de))}j=R-S,A=j-v,G=e.left,Z=e.right}const Q=Le(s.ticks.maxTicksLimit,g),re=Math.max(1,Math.ceil(g/Q));for(M=0;M<g;M+=re){const ue=this.getContext(M),de=a.setContext(ue),X=u.setContext(ue),te=de.lineWidth,K=de.color,F=X.dash||[],V=X.dashOffset,ce=de.tickWidth,le=de.tickColor,ye=de.tickBorderDash||[],be=de.tickBorderDashOffset;L=Mk(this,M,d),L!==void 0&&(T=vi(r,L,te),f?j=A=G=Z=T:E=H=q=ae=T,x.push({tx1:j,ty1:E,tx2:A,ty2:H,x1:G,y1:q,x2:Z,y2:ae,width:te,color:K,borderDash:F,borderDashOffset:V,tickWidth:ce,tickColor:le,tickBorderDash:ye,tickBorderDashOffset:be}))}return this._ticksLength=g,this._borderValue=R,x}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:a}=r,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:g}=a,v=ao(r.grid),x=v+p,b=g?-p:x,w=-pr(this.labelRotation),S=[];let C,R,M,L,T,j,E,A,H,G,q,Z,ae="middle";if(s==="top")j=this.bottom-b,E=this._getXAxisLabelAlignment();else if(s==="bottom")j=this.top+b,E=this._getXAxisLabelAlignment();else if(s==="left"){const re=this._getYAxisLabelAlignment(v);E=re.textAlign,T=re.x}else if(s==="right"){const re=this._getYAxisLabelAlignment(v);E=re.textAlign,T=re.x}else if(n==="x"){if(s==="center")j=(e.top+e.bottom)/2+x;else if(ze(s)){const re=Object.keys(s)[0],ue=s[re];j=this.chart.scales[re].getPixelForValue(ue)+x}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")T=(e.left+e.right)/2-x;else if(ze(s)){const re=Object.keys(s)[0],ue=s[re];T=this.chart.scales[re].getPixelForValue(ue)}E=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(d==="start"?ae="top":d==="end"&&(ae="bottom"));const Q=this._getLabelSizes();for(C=0,R=u.length;C<R;++C){M=u[C],L=M.label;const re=a.setContext(this.getContext(C));A=this.getPixelForTick(C)+a.labelOffset,H=this._resolveTickFontOptions(C),G=H.lineHeight,q=_t(L)?L.length:1;const ue=q/2,de=re.color,X=re.textStrokeColor,te=re.textStrokeWidth;let K=E;l?(T=A,E==="inner"&&(C===R-1?K=this.options.reverse?"left":"right":C===0?K=this.options.reverse?"right":"left":K="center"),s==="top"?f==="near"||w!==0?Z=-q*G+G/2:f==="center"?Z=-Q.highest.height/2-ue*G+G:Z=-Q.highest.height+G/2:f==="near"||w!==0?Z=G/2:f==="center"?Z=Q.highest.height/2-ue*G:Z=Q.highest.height-q*G,g&&(Z*=-1),w!==0&&!re.showLabelBackdrop&&(T+=G/2*Math.sin(w))):(j=A,Z=(1-q)*G/2);let F;if(re.showLabelBackdrop){const V=Nn(re.backdropPadding),ce=Q.heights[C],le=Q.widths[C];let ye=Z-V.top,be=0-V.left;switch(ae){case"middle":ye-=ce/2;break;case"bottom":ye-=ce;break}switch(E){case"center":be-=le/2;break;case"right":be-=le;break;case"inner":C===R-1?be-=le:C>0&&(be-=le/2);break}F={left:be,top:ye,width:le+V.width,height:ce+V.height,color:re.backdropColor}}S.push({label:L,font:H,textOffset:Z,options:{rotation:w,color:de,strokeColor:X,strokeWidth:te,textAlign:K,textBaseline:ae,translation:[T,j],backdrop:F}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-pr(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,d=l.widest.width;let f,p;return n==="left"?s?(p=this.right+a,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+a,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(d,f,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const d=s[a];n.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,g,v;this.isHorizontal()?(f=vi(e,this.left,l)-l/2,p=vi(e,this.right,u)+u/2,g=v=d):(g=vi(e,this.top,l)-l/2,v=vi(e,this.bottom,u)+u/2,f=p=d),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,g),n.lineTo(p,v),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Tl(r,s);const a=this.getLabelItems(e);for(const l of a){const u=l.options,d=l.font,f=l.label,p=l.textOffset;_l(r,f,0,p,d,u)}s&&Nl(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const a=nn(r.font),l=Nn(r.padding),u=r.align;let d=a.lineHeight/2;n==="bottom"||n==="center"||ze(n)?(d+=l.bottom,_t(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:g,rotation:v}=Tk(this,d,n,u);_l(e,r.text,0,0,a,{color:r.color,maxWidth:g,rotation:v,textAlign:Dk(u,n,s),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Le(e.grid&&e.grid.z,-1),s=Le(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ms.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const u=n[a];u[r]===this.id&&(!e||u.type===e)&&s.push(u)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return nn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class rl{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Ak(n)&&(r=this.register(n));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,Nk(e,l,r),this.override&&mt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in mt[s]&&(delete mt[s][r],this.override&&delete Ei[r])}}function Nk(t,e,n){const r=Eo(Object.create(null),[n?mt.get(n):{},mt.get(e),t.defaults]);mt.set(e,r),t.defaultRoutes&&Lk(e,t.defaultRoutes),t.descriptors&&mt.describe(e,t.descriptors)}function Lk(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),a=[t].concat(r).join("."),l=e[n].split("."),u=l.pop(),d=l.join(".");mt.route(a,s,d,u)})}function Ak(t){return"id"in t&&"defaults"in t}class Ok{constructor(){this.controllers=new rl(Al,"datasets",!0),this.elements=new rl(Qr,"elements"),this.plugins=new rl(Object,"plugins"),this.scales=new rl(ms,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):Qe(s,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,n,r){const s=Ed(e);rt(r["before"+s],[],r),n[e](r),rt(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var $n=new Ok;class Fk{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,n,r);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,n,r,s){s=s||{};for(const a of e){const l=a.plugin,u=l[r],d=[n,s,a.options];if(rt(u,d,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Le(r.options&&r.options.plugins,{}),a=zk(r);return s===!1&&!n?[]:Ik(e,a,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(a,l)=>a.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function zk(t){const e={},n=[],r=Object.keys($n.plugins.items);for(let a=0;a<r.length;a++)n.push($n.getPlugin(r[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function jk(t,e){return!e&&t===!1?null:t===!0?{}:t}function Ik(t,{plugins:e,localIds:n},r,s){const a=[],l=t.getContext();for(const u of e){const d=u.id,f=jk(r[d],s);f!==null&&a.push({plugin:u,options:Bk(t.config,{plugin:u,local:n[d]},f,l)})}return a}function Bk(t,{plugin:e,local:n},r,s){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(r,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ld(t,e){const n=mt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Uk(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function $k(t,e){return t===e?"_index_":"_value_"}function Zm(t){if(t==="x"||t==="y"||t==="r")return t}function Hk(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ud(t,...e){if(Zm(t))return t;for(const n of e){const r=n.axis||Hk(n.position)||t.length>1&&Zm(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function eg(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Wk(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return eg(t,"x",n[0])||eg(t,"y",n[0])}return{}}function Vk(t,e){const n=Ei[t.type]||{scales:{}},r=e.scales||{},s=ld(t.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!ze(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=ud(l,u,Wk(l,t),mt.scales[u.type]),f=$k(d,s),p=n.scales||{};a[l]=xo(Object.create(null),[{axis:d},u,p[d],p[f]])}),t.data.datasets.forEach(l=>{const u=l.type||t.type,d=l.indexAxis||ld(u,e),p=(Ei[u]||{}).scales||{};Object.keys(p).forEach(g=>{const v=Uk(g,d),x=l[v+"AxisID"]||v;a[x]=a[x]||Object.create(null),xo(a[x],[{axis:v},r[x],p[g]])})}),Object.keys(a).forEach(l=>{const u=a[l];xo(u,[mt.scales[u.type],mt.scale])}),a}function uy(t){const e=t.options||(t.options={});e.plugins=Le(e.plugins,{}),e.scales=Vk(t,e)}function cy(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Yk(t){return t=t||{},t.data=cy(t.data),uy(t),t}const tg=new Map,dy=new Set;function il(t,e){let n=tg.get(t);return n||(n=e(),tg.set(t,n),dy.add(n)),n}const lo=(t,e,n)=>{const r=Mi(e,n);r!==void 0&&t.add(r)};class Xk{constructor(e){this._config=Yk(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=cy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),uy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return il(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return il(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return il(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return il(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:a}=this,l=this._cachedScopes(e,r),u=l.get(n);if(u)return u;const d=new Set;n.forEach(p=>{e&&(d.add(e),p.forEach(g=>lo(d,e,g))),p.forEach(g=>lo(d,s,g)),p.forEach(g=>lo(d,Ei[a]||{},g)),p.forEach(g=>lo(d,mt,g)),p.forEach(g=>lo(d,od,g))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),dy.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ei[n]||{},mt.datasets[n]||{},{type:n},mt,od]}resolveNamedOptions(e,n,r,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=ng(this._resolverCache,e,s);let d=l;if(qk(l,n)){a.$shared=!1,r=Kr(r)?r():r;const f=this.createResolver(e,r,u);d=fs(l,r,f)}for(const f of n)a[f]=d[f];return a}createResolver(e,n,r=[""],s){const{resolver:a}=ng(this._resolverCache,e,r);return ze(n)?fs(a,n,void 0,s):a}}function ng(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let a=r.get(s);return a||(a={resolver:Nd(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},r.set(s,a)),a}const Gk=t=>ze(t)&&Object.getOwnPropertyNames(t).some(e=>Kr(t[e]));function qk(t,e){const{isScriptable:n,isIndexable:r}=W0(t);for(const s of e){const a=n(s),l=r(s),u=(l||a)&&t[s];if(a&&(Kr(u)||Gk(u))||l&&_t(u))return!0}return!1}var Kk="4.5.1";const Qk=["top","bottom","left","right","chartArea"];function rg(t,e){return t==="top"||t==="bottom"||Qk.indexOf(t)===-1&&e==="x"}function ig(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function sg(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),rt(n&&n.onComplete,[t],e)}function Jk(t){const e=t.chart,n=e.options.animation;rt(n&&n.onProgress,[t],e)}function fy(t){return Od()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ml={},og=t=>{const e=fy(t);return Object.values(ml).filter(n=>n.canvas===e).pop()};function Zk(t,e,n){const r=Object.keys(t);for(const s of r){const a=+s;if(a>=e){const l=t[s];delete t[s],(n>0||a>e)&&(t[a+n]=l)}}}function eC(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let Fl=class{static defaults=mt;static instances=ml;static overrides=Ei;static registry=$n;static version=Kk;static getChart=og;static register(...e){$n.add(...e),ag()}static unregister(...e){$n.remove(...e),ag()}constructor(e,n){const r=this.config=new Xk(n),s=fy(e),a=og(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||vk(s)),this.platform.updateConfig(r);const u=this.platform.acquireContext(s,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=q_(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Fk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pS(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],ml[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}cr.listen(this,"complete",sg),cr.listen(this,"progress",Jk),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:a}=this;return Ge(e)?n&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return $n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Rm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Mm(this.canvas,this.ctx),this}stop(){return cr.stop(this),this}resize(e,n){cr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,n,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Rm(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),rt(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Qe(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const u=n[l],d=ud(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Qe(a,l=>{const u=l.options,d=u.id,f=ud(d,u),p=Le(u.type,l.dtype);(u.position===void 0||rg(u.position,f)!==rg(l.dposition))&&(u.position=l.dposition),s[d]=!0;let g=null;if(d in r&&r[d].type===p)g=r[d];else{const v=$n.getScale(p);g=new v({id:d,type:p,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(u,e)}),Qe(s,(l,u)=>{l||delete r[u]}),Qe(r,l=>{Yr.configure(this,l,l.options),Yr.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(ig("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const a=n[r];let l=this.getDatasetMeta(r);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=a.indexAxis||ld(u,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=$n.getController(u),{datasetElementType:f,dataElementType:p}=mt.datasets[u];Object.assign(d,{dataElementType:$n.getElement(p),datasetElementType:f&&$n.getElement(f)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Qe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:g}=this.getDatasetMeta(f),v=!s&&a.indexOf(g)===-1;g.buildOrUpdateElements(v),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||Qe(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ig("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Qe(this.scales,e=>{Yr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!gm(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of n){const l=r==="_removeElements"?-a:a;Zk(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),s=r(0);for(let a=1;a<n;a++)if(!gm(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Yr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Qe(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Kr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cr.has(this)?this.attached&&!cr.running(this)&&cr.start(this):(this.draw(),sg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=ey(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Tl(n,s),e.controller.draw(),s&&Nl(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return To(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const a=Q2.modes[n];return typeof a=="function"?a(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ti(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);Po(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(u=>u.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),cr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Mm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ml[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},s=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Qe(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(d,f)=>{n.addEventListener(this,d,f),e[d]=f},s=(d,f)=>{e[d]&&(n.removeEventListener(this,d,f),delete e[d])},a=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",u)},n.isAttached(this.canvas)?u():l()}unbindEvents(){Qe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Qe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let a,l,u,d;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!xl(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,a=(d,f)=>d.filter(p=>!f.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=a(n,e),u=r?e:a(e,n);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:a}=this,l=n,u=this._getActiveElements(e,s,r,l),d=tS(e),f=eC(e,this._lastEvent,r,d);r&&(this._lastEvent=null,rt(a.onHover,[e,u,this],this),d&&rt(a.onClick,[e,u,this],this));const p=!xl(u,s);return(p||n)&&(this._active=u,this._updateHoverStyles(u,s,n)),this._lastEvent=f,p}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}};function ag(){return Qe(Fl.instances,t=>t._plugins.invalidate())}function tC(t,e,n){const{startAngle:r,x:s,y:a,outerRadius:l,innerRadius:u,options:d}=e,{borderWidth:f,borderJoinStyle:p}=d,g=Math.min(f/l,dn(r-n));if(t.beginPath(),t.arc(s,a,l-f/2,r+g/2,n-g/2),u>0){const v=Math.min(f/u,dn(r-n));t.arc(s,a,u+f/2,n-v/2,r+v/2,!0)}else{const v=Math.min(f/2,l*dn(r-n));if(p==="round")t.arc(s,a,v,n-Ze/2,r+Ze/2,!0);else if(p==="bevel"){const x=2*v*v,b=-x*Math.cos(n+Ze/2)+s,w=-x*Math.sin(n+Ze/2)+a,S=x*Math.cos(r+Ze/2)+s,C=x*Math.sin(r+Ze/2)+a;t.lineTo(b,w),t.lineTo(S,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function nC(t,e,n){const{startAngle:r,pixelMargin:s,x:a,y:l,outerRadius:u,innerRadius:d}=e;let f=s/u;t.beginPath(),t.arc(a,l,u,r-f,n+f),d>s?(f=s/d,t.arc(a,l,d,n+f,r-f,!0)):t.arc(a,l,s,n+St,r-St),t.closePath(),t.clip()}function rC(t){return Td(t,["outerStart","outerEnd","innerStart","innerEnd"])}function iC(t,e,n,r){const s=rC(t.options.borderRadius),a=(n-e)/2,l=Math.min(a,r*e/2),u=d=>{const f=(n-Math.min(a,d))*r/2;return zt(d,0,Math.min(a,f))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:zt(s.innerStart,0,l),innerEnd:zt(s.innerEnd,0,l)}}function ss(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Ml(t,e,n,r,s,a){const{x:l,y:u,startAngle:d,pixelMargin:f,innerRadius:p}=e,g=Math.max(e.outerRadius+r+n-f,0),v=p>0?p+r+n+f:0;let x=0;const b=s-d;if(r){const re=p>0?p-r:0,ue=g>0?g-r:0,de=(re+ue)/2,X=de!==0?b*de/(de+r):b;x=(b-X)/2}const w=Math.max(.001,b*g-n/Ze)/g,S=(b-w)/2,C=d+S+x,R=s-S-x,{outerStart:M,outerEnd:L,innerStart:T,innerEnd:j}=iC(e,v,g,R-C),E=g-M,A=g-L,H=C+M/E,G=R-L/A,q=v+T,Z=v+j,ae=C+T/q,Q=R-j/Z;if(t.beginPath(),a){const re=(H+G)/2;if(t.arc(l,u,g,H,re),t.arc(l,u,g,re,G),L>0){const te=ss(A,G,l,u);t.arc(te.x,te.y,L,G,R+St)}const ue=ss(Z,R,l,u);if(t.lineTo(ue.x,ue.y),j>0){const te=ss(Z,Q,l,u);t.arc(te.x,te.y,j,R+St,Q+Math.PI)}const de=(R-j/v+(C+T/v))/2;if(t.arc(l,u,v,R-j/v,de,!0),t.arc(l,u,v,de,C+T/v,!0),T>0){const te=ss(q,ae,l,u);t.arc(te.x,te.y,T,ae+Math.PI,C-St)}const X=ss(E,C,l,u);if(t.lineTo(X.x,X.y),M>0){const te=ss(E,H,l,u);t.arc(te.x,te.y,M,C-St,H)}}else{t.moveTo(l,u);const re=Math.cos(H)*g+l,ue=Math.sin(H)*g+u;t.lineTo(re,ue);const de=Math.cos(G)*g+l,X=Math.sin(G)*g+u;t.lineTo(de,X)}t.closePath()}function sC(t,e,n,r,s){const{fullCircles:a,startAngle:l,circumference:u}=e;let d=e.endAngle;if(a){Ml(t,e,n,r,d,s);for(let f=0;f<a;++f)t.fill();isNaN(u)||(d=l+(u%ut||ut))}return Ml(t,e,n,r,d,s),t.fill(),d}function oC(t,e,n,r,s){const{fullCircles:a,startAngle:l,circumference:u,options:d}=e,{borderWidth:f,borderJoinStyle:p,borderDash:g,borderDashOffset:v,borderRadius:x}=d,b=d.borderAlign==="inner";if(!f)return;t.setLineDash(g||[]),t.lineDashOffset=v,b?(t.lineWidth=f*2,t.lineJoin=p||"round"):(t.lineWidth=f,t.lineJoin=p||"bevel");let w=e.endAngle;if(a){Ml(t,e,n,r,w,s);for(let S=0;S<a;++S)t.stroke();isNaN(u)||(w=l+(u%ut||ut))}b&&nC(t,e,w),d.selfJoin&&w-l>=Ze&&x===0&&p!=="miter"&&tC(t,e,w),a||(Ml(t,e,n,r,w,s),t.stroke())}class aC extends Qr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:a,distance:l}=O0(s,{x:e,y:n}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,x=Le(g,d-u),b=Do(a,u,d)&&u!==d,w=x>=ut||b,S=mr(l,f+v,p+v);return w&&S}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:a,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,p=(s+a)/2,g=(l+u+f+d)/2;return{x:n+Math.cos(p)*g,y:r+Math.sin(p)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>ut?Math.floor(r/ut):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*s,Math.sin(u)*s);const d=1-Math.sin(Math.min(Ze,r||0)),f=s*d;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,sC(e,this,f,a,l),oC(e,this,f,a,l),e.restore()}}function hy(t,e,n=e){t.lineCap=Le(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Le(n.borderDash,e.borderDash)),t.lineDashOffset=Le(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Le(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Le(n.borderWidth,e.borderWidth),t.strokeStyle=Le(n.borderColor,e.borderColor)}function lC(t,e,n){t.lineTo(n.x,n.y)}function uC(t){return t.stepped?PS:t.tension||t.cubicInterpolationMode==="monotone"?RS:lC}function py(t,e,n={}){const r=t.length,{start:s=0,end:a=r-1}=n,{start:l,end:u}=e,d=Math.max(s,l),f=Math.min(a,u),p=s<l&&a<l||s>u&&a>u;return{count:r,start:d,loop:e.loop,ilen:f<d&&!p?r+f-d:f-d}}function cC(t,e,n,r){const{points:s,options:a}=e,{count:l,start:u,loop:d,ilen:f}=py(s,n,r),p=uC(a);let{move:g=!0,reverse:v}=r||{},x,b,w;for(x=0;x<=f;++x)b=s[(u+(v?f-x:x))%l],!b.skip&&(g?(t.moveTo(b.x,b.y),g=!1):p(t,w,b,v,a.stepped),w=b);return d&&(b=s[(u+(v?f:0))%l],p(t,w,b,v,a.stepped)),!!d}function dC(t,e,n,r){const s=e.points,{count:a,start:l,ilen:u}=py(s,n,r),{move:d=!0,reverse:f}=r||{};let p=0,g=0,v,x,b,w,S,C;const R=L=>(l+(f?u-L:L))%a,M=()=>{w!==S&&(t.lineTo(p,S),t.lineTo(p,w),t.lineTo(p,C))};for(d&&(x=s[R(0)],t.moveTo(x.x,x.y)),v=0;v<=u;++v){if(x=s[R(v)],x.skip)continue;const L=x.x,T=x.y,j=L|0;j===b?(T<w?w=T:T>S&&(S=T),p=(g*p+L)/++g):(M(),t.lineTo(L,T),b=j,g=0,w=S=T),C=T}M()}function cd(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?dC:cC}function fC(t){return t.stepped?a2:t.tension||t.cubicInterpolationMode==="monotone"?l2:wi}function hC(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),hy(t,e.options),t.stroke(s)}function pC(t,e,n,r){const{segments:s,options:a}=e,l=cd(e);for(const u of s)hy(t,a,u.style),t.beginPath(),l(t,e,u,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const mC=typeof Path2D=="function";function gC(t,e,n,r){mC&&!e.options.segment?hC(t,e,n,r):pC(t,e,n,r)}class zl extends Qr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;ZS(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=p2(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],a=this.points,l=Z0(this,{property:n,start:s,end:s});if(!l.length)return;const u=[],d=fC(r);let f,p;for(f=0,p=l.length;f<p;++f){const{start:g,end:v}=l[f],x=a[g],b=a[v];if(x===b){u.push(x);continue}const w=Math.abs((s-x[n])/(b[n]-x[n])),S=d(x,b,w,r.stepped);S[n]=e[n],u.push(S)}return u.length===1?u[0]:u}pathSegment(e,n,r){return cd(this)(e,this,n,r)}path(e,n,r){const s=this.segments,a=cd(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const u of s)l&=a(e,this,u,{start:n,end:n+r-1});return!!l}draw(e,n,r,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),gC(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function lg(t,e,n,r){const s=t.options,{[n]:a}=t.getProps([n],r);return Math.abs(e-a)<s.radius+s.hitRadius}class yC extends Qr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return lg(this,e,"x",n)}inYRange(e,n){return lg(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!To(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,ad(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function my(t,e){const{x:n,y:r,base:s,width:a,height:l}=t.getProps(["x","y","base","width","height"],e);let u,d,f,p,g;return t.horizontal?(g=l/2,u=Math.min(n,s),d=Math.max(n,s),f=r-g,p=r+g):(g=a/2,u=n-g,d=n+g,f=Math.min(r,s),p=Math.max(r,s)),{left:u,top:f,right:d,bottom:p}}function Xr(t,e,n,r){return t?0:zt(e,n,r)}function vC(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,a=H0(r);return{t:Xr(s.top,a.top,0,n),r:Xr(s.right,a.right,0,e),b:Xr(s.bottom,a.bottom,0,n),l:Xr(s.left,a.left,0,e)}}function xC(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=cs(s),l=Math.min(e,n),u=t.borderSkipped,d=r||ze(s);return{topLeft:Xr(!d||u.top||u.left,a.topLeft,0,l),topRight:Xr(!d||u.top||u.right,a.topRight,0,l),bottomLeft:Xr(!d||u.bottom||u.left,a.bottomLeft,0,l),bottomRight:Xr(!d||u.bottom||u.right,a.bottomRight,0,l)}}function bC(t){const e=my(t),n=e.right-e.left,r=e.bottom-e.top,s=vC(t,n/2,r/2),a=xC(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Yc(t,e,n,r){const s=e===null,a=n===null,u=t&&!(s&&a)&&my(t,r);return u&&(s||mr(e,u.left,u.right))&&(a||mr(n,u.top,u.bottom))}function wC(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function _C(t,e){t.rect(e.x,e.y,e.w,e.h)}function Xc(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-r,l=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+a,h:t.h+l,radius:t.radius}}class SC extends Qr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:a,outer:l}=bC(this),u=wC(l.radius)?Sl:_C;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),u(e,Xc(l,n,a)),e.clip(),u(e,Xc(a,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),u(e,Xc(a,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Yc(this,e,n,r)}inXRange(e,n){return Yc(this,e,null,n)}inYRange(e,n){return Yc(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+s)/2:n,y:a?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function kC(t,e,n){const r=t.segments,s=t.points,a=e.points,l=[];for(const u of r){let{start:d,end:f}=u;f=jl(d,f,s);const p=dd(n,s[d],s[f],u.loop);if(!e.segments){l.push({source:u,target:p,start:s[d],end:s[f]});continue}const g=Z0(e,p);for(const v of g){const x=dd(n,a[v.start],a[v.end],v.loop),b=J0(u,s,x);for(const w of b)l.push({source:w,target:v,start:{[n]:ug(p,x,"start",Math.max)},end:{[n]:ug(p,x,"end",Math.min)}})}}return l}function dd(t,e,n,r){if(r)return;let s=e[t],a=n[t];return t==="angle"&&(s=dn(s),a=dn(a)),{property:t,start:s,end:a}}function CC(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,a=[];return e.segments.forEach(({start:l,end:u})=>{u=jl(l,u,s);const d=s[l],f=s[u];r!==null?(a.push({x:d.x,y:r}),a.push({x:f.x,y:r})):n!==null&&(a.push({x:n,y:d.y}),a.push({x:n,y:f.y}))}),a}function jl(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function ug(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function gy(t,e){let n=[],r=!1;return _t(t)?(r=!0,n=t):n=CC(t,e),n.length?new zl({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function cg(t){return t&&t.fill!==!1}function MC(t,e,n){let s=t[e].fill;const a=[e];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!jt(s))return s;if(l=t[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function EC(t,e,n){const r=TC(t);if(ze(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return jt(s)&&Math.floor(s)===s?PC(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function PC(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function RC(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ze(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function DC(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:ze(t)?r=t.value:r=e.getBaseValue(),r}function TC(t){const e=t.options,n=e.fill;let r=Le(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function NC(t){const{scale:e,index:n,line:r}=t,s=[],a=r.segments,l=r.points,u=LC(e,n);u.push(gy({x:null,y:e.bottom},r));for(let d=0;d<a.length;d++){const f=a[d];for(let p=f.start;p<=f.end;p++)AC(s,l[p],u)}return new zl({points:s,options:{}})}function LC(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const a=r[s];if(a.index===e)break;a.hidden||n.unshift(a.dataset)}return n}function AC(t,e,n){const r=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:u,point:d}=OC(a,e,"x");if(!(!d||l&&u)){if(l)r.unshift(d);else if(t.push(d),!u)break}}t.push(...r)}function OC(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],a=t.segments,l=t.points;let u=!1,d=!1;for(let f=0;f<a.length;f++){const p=a[f],g=l[p.start][n],v=l[p.end][n];if(mr(s,g,v)){u=s===g,d=s===v;break}}return{first:u,last:d,point:r}}class yy{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:ut},e.arc(s,a,l,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,a=e.angle;return{x:n+Math.cos(a)*s,y:r+Math.sin(a)*s,angle:a}}}function FC(t){const{chart:e,fill:n,line:r}=t;if(jt(n))return zC(e,n);if(n==="stack")return NC(t);if(n==="shape")return!0;const s=jC(t);return s instanceof yy?s:gy(s,r)}function zC(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function jC(t){return(t.scale||{}).getPointPositionForValue?BC(t):IC(t)}function IC(t){const{scale:e={},fill:n}=t,r=RC(n,e);if(jt(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function BC(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,a=r.reverse?e.max:e.min,l=DC(n,e,a),u=[];if(r.grid.circular){const d=e.getPointPositionForValue(0,a);return new yy({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(l)})}for(let d=0;d<s;++d)u.push(e.getPointPositionForValue(d,l));return u}function Gc(t,e,n){const r=FC(e),{chart:s,index:a,line:l,scale:u,axis:d}=e,f=l.options,p=f.fill,g=f.backgroundColor,{above:v=g,below:x=g}=p||{},b=s.getDatasetMeta(a),w=ey(s,b);r&&l.points.length&&(Tl(t,n),UC(t,{line:l,target:r,above:v,below:x,area:n,scale:u,axis:d,clip:w}),Nl(t))}function UC(t,e){const{line:n,target:r,above:s,below:a,area:l,scale:u,clip:d}=e,f=n._loop?"angle":e.axis;t.save();let p=a;a!==s&&(f==="x"?(dg(t,r,l.top),qc(t,{line:n,target:r,color:s,scale:u,property:f,clip:d}),t.restore(),t.save(),dg(t,r,l.bottom)):f==="y"&&(fg(t,r,l.left),qc(t,{line:n,target:r,color:a,scale:u,property:f,clip:d}),t.restore(),t.save(),fg(t,r,l.right),p=s)),qc(t,{line:n,target:r,color:p,scale:u,property:f,clip:d}),t.restore()}function dg(t,e,n){const{segments:r,points:s}=e;let a=!0,l=!1;t.beginPath();for(const u of r){const{start:d,end:f}=u,p=s[d],g=s[jl(d,f,s)];a?(t.moveTo(p.x,p.y),a=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,u,{move:l}),l?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function fg(t,e,n){const{segments:r,points:s}=e;let a=!0,l=!1;t.beginPath();for(const u of r){const{start:d,end:f}=u,p=s[d],g=s[jl(d,f,s)];a?(t.moveTo(p.x,p.y),a=!1):(t.lineTo(n,p.y),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,u,{move:l}),l?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function qc(t,e){const{line:n,target:r,property:s,color:a,scale:l,clip:u}=e,d=kC(n,r,s);for(const{source:f,target:p,start:g,end:v}of d){const{style:{backgroundColor:x=a}={}}=f,b=r!==!0;t.save(),t.fillStyle=x,$C(t,l,u,b&&dd(s,g,v)),t.beginPath();const w=!!n.pathSegment(t,f);let S;if(b){w?t.closePath():hg(t,r,v,s);const C=!!r.pathSegment(t,p,{move:w,reverse:!0});S=w&&C,S||hg(t,r,g,s)}t.closePath(),t.fill(S?"evenodd":"nonzero"),t.restore()}}function $C(t,e,n,r){const s=e.chart.chartArea,{property:a,start:l,end:u}=r||{};if(a==="x"||a==="y"){let d,f,p,g;a==="x"?(d=l,f=s.top,p=u,g=s.bottom):(d=s.left,f=l,p=s.right,g=u),t.beginPath(),n&&(d=Math.max(d,n.left),p=Math.min(p,n.right),f=Math.max(f,n.top),g=Math.min(g,n.bottom)),t.rect(d,f,p-d,g-f),t.clip()}}function hg(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var HC={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let a,l,u,d;for(l=0;l<r;++l)a=t.getDatasetMeta(l),u=a.dataset,d=null,u&&u.options&&u instanceof zl&&(d={visible:t.isDatasetVisible(l),index:l,fill:EC(u,l,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=d,s.push(d);for(l=0;l<r;++l)d=s[l],!(!d||d.fill===!1)&&(d.fill=MC(s,l,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let l=s.length-1;l>=0;--l){const u=s[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),r&&u.fill&&Gc(t.ctx,u,a))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;cg(a)&&Gc(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!cg(r)||n.drawTime!=="beforeDatasetDraw"||Gc(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const pg=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},WC=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class mg extends Qr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=rt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=nn(r.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=pg(r,a);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,s,u,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+u;let g=e;a.textAlign="left",a.textBaseline="middle";let v=-1,x=-p;return this.legendItems.forEach((b,w)=>{const S=r+n/2+a.measureText(b.text).width;(w===0||f[f.length-1]+S+2*u>l)&&(g+=p,f[f.length-(w>0?0:1)]=0,x+=p,v++),d[w]={left:0,top:x,row:v,width:S,height:s},f[f.length-1]+=S+u}),g}_fitCols(e,n,r,s){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let g=u,v=0,x=0,b=0,w=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:R,itemHeight:M}=VC(r,n,a,S,s);C>0&&x+M+2*u>p&&(g+=v+u,f.push({width:v,height:x}),b+=v+u,w++,v=x=0),d[C]={left:b,top:x,col:w,width:R,height:M},v=Math.max(v,R),x+=M+u}),g+=v,f.push({width:v,height:x}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:a}}=this,l=ds(a,this.left,this.width);if(this.isHorizontal()){let u=0,d=un(r,this.left+s,this.right-this.lineWidths[u]);for(const f of n)u!==f.row&&(u=f.row,d=un(r,this.left+s,this.right-this.lineWidths[u])),f.top+=this.top+e+s,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+s}else{let u=0,d=un(r,this.top+e+s,this.bottom-this.columnSizes[u].height);for(const f of n)f.col!==u&&(u=f.col,d=un(r,this.top+e+s,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tl(e,this),this._draw(),Nl(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:a,labels:l}=e,u=mt.color,d=ds(e.rtl,this.left,this.width),f=nn(l.font),{padding:p}=l,g=f.size,v=g/2;let x;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:b,boxHeight:w,itemHeight:S}=pg(l,g),C=function(j,E,A){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;s.save();const H=Le(A.lineWidth,1);if(s.fillStyle=Le(A.fillStyle,u),s.lineCap=Le(A.lineCap,"butt"),s.lineDashOffset=Le(A.lineDashOffset,0),s.lineJoin=Le(A.lineJoin,"miter"),s.lineWidth=H,s.strokeStyle=Le(A.strokeStyle,u),s.setLineDash(Le(A.lineDash,[])),l.usePointStyle){const G={radius:w*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:H},q=d.xPlus(j,b/2),Z=E+v;$0(s,G,q,Z,l.pointStyleWidth&&b)}else{const G=E+Math.max((g-w)/2,0),q=d.leftForLtr(j,b),Z=cs(A.borderRadius);s.beginPath(),Object.values(Z).some(ae=>ae!==0)?Sl(s,{x:q,y:G,w:b,h:w,radius:Z}):s.rect(q,G,b,w),s.fill(),H!==0&&s.stroke()}s.restore()},R=function(j,E,A){_l(s,A.text,j,E+S/2,f,{strikethrough:A.hidden,textAlign:d.textAlign(A.textAlign)})},M=this.isHorizontal(),L=this._computeTitleHeight();M?x={x:un(a,this.left+p,this.right-r[0]),y:this.top+p+L,line:0}:x={x:this.left+p,y:un(a,this.top+L+p,this.bottom-n[0].height),line:0},q0(this.ctx,e.textDirection);const T=S+p;this.legendItems.forEach((j,E)=>{s.strokeStyle=j.fontColor,s.fillStyle=j.fontColor;const A=s.measureText(j.text).width,H=d.textAlign(j.textAlign||(j.textAlign=l.textAlign)),G=b+v+A;let q=x.x,Z=x.y;d.setWidth(this.width),M?E>0&&q+G+p>this.right&&(Z=x.y+=T,x.line++,q=x.x=un(a,this.left+p,this.right-r[x.line])):E>0&&Z+T>this.bottom&&(q=x.x=q+n[x.line].width+p,x.line++,Z=x.y=un(a,this.top+L+p,this.bottom-n[x.line].height));const ae=d.x(q);if(C(ae,Z,j),q=mS(H,q+b+v,M?q+G:this.right,e.rtl),R(d.x(q),Z,j),M)x.x+=G+p;else if(typeof j.text!="string"){const Q=f.lineHeight;x.y+=vy(j,Q)+p}else x.y+=T}),K0(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=nn(n.font),s=Nn(n.padding);if(!n.display)return;const a=ds(e.rtl,this.left,this.width),l=this.ctx,u=n.position,d=r.size/2,f=s.top+d;let p,g=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,g=un(e.align,g,this.right-v);else{const b=this.columnSizes.reduce((w,S)=>Math.max(w,S.height),0);p=f+un(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const x=un(u,g,g+v);l.textAlign=a.textAlign(B0(u)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,_l(l,n.text,x,p,r)}_computeTitleHeight(){const e=this.options.title,n=nn(e.font),r=Nn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,a;if(mr(e,this.left,this.right)&&mr(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],mr(e,s.left,s.left+s.width)&&mr(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!GC(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=WC(s,r);s&&!a&&rt(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!a&&rt(n.onHover,[e,r,this],this)}else r&&rt(n.onClick,[e,r,this],this)}}function VC(t,e,n,r,s){const a=YC(r,t,e,n),l=XC(s,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function YC(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+r.measureText(s).width}function XC(t,e,n){let r=t;return typeof e.text!="string"&&(r=vy(e,n)),r}function vy(t,e){const n=t.text?t.text.length:0;return e*n}function GC(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var qC={id:"legend",_element:mg,start(t,e,n){const r=t.legend=new mg({ctx:t.ctx,options:n,chart:t});Yr.configure(t,r,n),Yr.addBox(t,r)},stop(t){Yr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Yr.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(n?0:void 0),p=Nn(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const mo={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,a=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();r.add(d.x),s+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,d)=>u+d)/r.size,y:s/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=t.length;a<l;++a){const d=t[a].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=sd(e,f);p<s&&(s=p,u=d)}}if(u){const d=u.tooltipPosition();n=d.x,r=d.y}return{x:n,y:r}}};function Un(t,e){return e&&(_t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function dr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function KC(t,e){const{element:n,datasetIndex:r,index:s}=e,a=t.getDatasetMeta(r).controller,{label:l,value:u}=a.getLabelAndValue(s);return{chart:t,label:l,parsed:a.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:u,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function gg(t,e){const n=t.chart.ctx,{body:r,footer:s,title:a}=t,{boxWidth:l,boxHeight:u}=e,d=nn(e.bodyFont),f=nn(e.titleFont),p=nn(e.footerFont),g=a.length,v=s.length,x=r.length,b=Nn(e.padding);let w=b.height,S=0,C=r.reduce((L,T)=>L+T.before.length+T.lines.length+T.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,g&&(w+=g*f.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),C){const L=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;w+=x*L+(C-x)*d.lineHeight+(C-1)*e.bodySpacing}v&&(w+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let R=0;const M=function(L){S=Math.max(S,n.measureText(L).width+R)};return n.save(),n.font=f.string,Qe(t.title,M),n.font=d.string,Qe(t.beforeBody.concat(t.afterBody),M),R=e.displayColors?l+2+e.boxPadding:0,Qe(r,L=>{Qe(L.before,M),Qe(L.lines,M),Qe(L.after,M)}),R=0,n.font=p.string,Qe(t.footer,M),n.restore(),S+=b.width,{width:S,height:w}}function QC(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function JC(t,e,n,r){const{x:s,width:a}=r,l=n.caretSize+n.caretPadding;if(t==="left"&&s+a+l>e.width||t==="right"&&s-a-l<0)return!0}function ZC(t,e,n,r){const{x:s,width:a}=n,{width:l,chartArea:{left:u,right:d}}=t;let f="center";return r==="center"?f=s<=(u+d)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),JC(f,t,e,n)&&(f="center"),f}function yg(t,e,n){const r=n.yAlign||e.yAlign||QC(t,n);return{xAlign:n.xAlign||e.xAlign||ZC(t,e,n,r),yAlign:r}}function eM(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function tM(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function vg(t,e,n,r){const{caretSize:s,caretPadding:a,cornerRadius:l}=t,{xAlign:u,yAlign:d}=n,f=s+a,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:x}=cs(l);let b=eM(e,u);const w=tM(e,d,f);return d==="center"?u==="left"?b+=f:u==="right"&&(b-=f):u==="left"?b-=Math.max(p,v)+s:u==="right"&&(b+=Math.max(g,x)+s),{x:zt(b,0,r.width-e.width),y:zt(w,0,r.height-e.height)}}function sl(t,e,n){const r=Nn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function xg(t){return Un([],dr(t))}function nM(t,e,n){return Ti(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function bg(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const xy={beforeTitle:lr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:lr,beforeBody:lr,beforeLabel:lr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ge(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:lr,afterBody:lr,beforeFooter:lr,footer:lr,afterFooter:lr};function en(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?xy[e].call(n,r):s}class wg extends Qr{static positioners=mo;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,a=new ty(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=nM(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=en(r,"beforeTitle",this,e),a=en(r,"title",this,e),l=en(r,"afterTitle",this,e);let u=[];return u=Un(u,dr(s)),u=Un(u,dr(a)),u=Un(u,dr(l)),u}getBeforeBody(e,n){return xg(en(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return Qe(e,a=>{const l={before:[],lines:[],after:[]},u=bg(r,a);Un(l.before,dr(en(u,"beforeLabel",this,a))),Un(l.lines,en(u,"label",this,a)),Un(l.after,dr(en(u,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,n){return xg(en(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=en(r,"beforeFooter",this,e),a=en(r,"footer",this,e),l=en(r,"afterFooter",this,e);let u=[];return u=Un(u,dr(s)),u=Un(u,dr(a)),u=Un(u,dr(l)),u}_createItems(e){const n=this._active,r=this.chart.data,s=[],a=[],l=[];let u=[],d,f;for(d=0,f=n.length;d<f;++d)u.push(KC(this.chart,n[d]));return e.filter&&(u=u.filter((p,g,v)=>e.filter(p,g,v,r))),e.itemSort&&(u=u.sort((p,g)=>e.itemSort(p,g,r))),Qe(u,p=>{const g=bg(e.callbacks,p);s.push(en(g,"labelColor",this,p)),a.push(en(g,"labelPointStyle",this,p)),l.push(en(g,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const u=mo[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=gg(this,r),f=Object.assign({},u,d),p=yg(this.chart,r,f),g=vg(r,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:g.x,y:g.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const a=this.getCaretPosition(e,r,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=cs(u),{x:v,y:x}=e,{width:b,height:w}=n;let S,C,R,M,L,T;return a==="center"?(L=x+w/2,s==="left"?(S=v,C=S-l,M=L+l,T=L-l):(S=v+b,C=S+l,M=L-l,T=L+l),R=S):(s==="left"?C=v+Math.max(d,p)+l:s==="right"?C=v+b-Math.max(f,g)-l:C=this.caretX,a==="top"?(M=x,L=M-l,S=C-l,R=C+l):(M=x+w,L=M+l,S=C+l,R=C-l),T=M),{x1:S,x2:C,x3:R,y1:M,y2:L,y3:T}}drawTitle(e,n,r){const s=this.title,a=s.length;let l,u,d;if(a){const f=ds(r.rtl,this.x,this.width);for(e.x=sl(this,r.titleAlign,r),n.textAlign=f.textAlign(r.titleAlign),n.textBaseline="middle",l=nn(r.titleFont),u=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,d=0;d<a;++d)n.fillText(s[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===a&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,n,r,s,a){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:d,boxWidth:f}=a,p=nn(a.bodyFont),g=sl(this,"left",a),v=s.x(g),x=d<p.lineHeight?(p.lineHeight-d)/2:0,b=n.y+x;if(a.usePointStyle){const w={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=s.leftForLtr(v,f)+f/2,C=b+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,ad(e,w,S,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,ad(e,w,S,C)}else{e.lineWidth=ze(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const w=s.leftForLtr(v,f),S=s.leftForLtr(s.xPlus(v,1),f-2),C=cs(l.borderRadius);Object.values(C).some(R=>R!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Sl(e,{x:w,y:b,w:f,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Sl(e,{x:S,y:b+1,w:f-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(w,b,f,d),e.strokeRect(w,b,f,d),e.fillStyle=l.backgroundColor,e.fillRect(S,b+1,f-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=r,g=nn(r.bodyFont);let v=g.lineHeight,x=0;const b=ds(r.rtl,this.x,this.width),w=function(A){n.fillText(A,b.x(e.x+x),e.y+v/2),e.y+=v+a},S=b.textAlign(l);let C,R,M,L,T,j,E;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,e.x=sl(this,S,r),n.fillStyle=r.bodyColor,Qe(this.beforeBody,w),x=u&&S!=="right"?l==="center"?f/2+p:f+2+p:0,L=0,j=s.length;L<j;++L){for(C=s[L],R=this.labelTextColors[L],n.fillStyle=R,Qe(C.before,w),M=C.lines,u&&M.length&&(this._drawColorBox(n,e,L,b,r),v=Math.max(g.lineHeight,d)),T=0,E=M.length;T<E;++T)w(M[T]),v=g.lineHeight;Qe(C.after,w)}x=0,v=g.lineHeight,Qe(this.afterBody,w),e.y-=a}drawFooter(e,n,r){const s=this.footer,a=s.length;let l,u;if(a){const d=ds(r.rtl,this.x,this.width);for(e.x=sl(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=d.textAlign(r.footerAlign),n.textBaseline="middle",l=nn(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,u=0;u<a;++u)n.fillText(s[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:a,yAlign:l}=this,{x:u,y:d}=e,{width:f,height:p}=r,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:b}=cs(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(u+g,d),l==="top"&&this.drawCaret(e,n,r,s),n.lineTo(u+f-v,d),n.quadraticCurveTo(u+f,d,u+f,d+v),l==="center"&&a==="right"&&this.drawCaret(e,n,r,s),n.lineTo(u+f,d+p-b),n.quadraticCurveTo(u+f,d+p,u+f-b,d+p),l==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(u+x,d+p),n.quadraticCurveTo(u,d+p,u,d+p-x),l==="center"&&a==="left"&&this.drawCaret(e,n,r,s),n.lineTo(u,d+g),n.quadraticCurveTo(u,d,u+g,d),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const l=mo[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=gg(this,e),d=Object.assign({},l,this._size),f=yg(n,e,d),p=vg(e,d,f,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Nn(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,n),q0(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),K0(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),a=!xl(r,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,r),u=this._positionChanged(l,e),d=n||!xl(l,a)||u;return d&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,r,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:r,caretY:s,options:a}=this,l=mo[a.position].call(this,e,n);return l!==!1&&(r!==l.x||s!==l.y)}}var rM={id:"tooltip",_element:wg,positioners:mo,afterInit(t,e,n){n&&(t.tooltip=new wg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xy},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const iM=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function sM(t,e,n,r){const s=t.indexOf(e);if(s===-1)return iM(t,e,n,r);const a=t.lastIndexOf(e);return s!==a?n:s}const oM=(t,e)=>t===null?null:zt(Math.round(t),0,e);function _g(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class aM extends ms{static id="category";static defaults={ticks:{callback:_g}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:a}of n)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ge(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:sM(r,e,Le(n,e),this._addedLabels),oM(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=n;l++)s.push({value:l});return s}getLabelForValue(e){return _g.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function lM(t,e){const n=[],{bounds:s,step:a,min:l,max:u,precision:d,count:f,maxTicks:p,maxDigits:g,includeBounds:v}=t,x=a||1,b=p-1,{min:w,max:S}=e,C=!Ge(l),R=!Ge(u),M=!Ge(f),L=(S-w)/(g+1);let T=vm((S-w)/b/x)*x,j,E,A,H;if(T<1e-14&&!C&&!R)return[{value:w},{value:S}];H=Math.ceil(S/T)-Math.floor(w/T),H>b&&(T=vm(H*T/b/x)*x),Ge(d)||(j=Math.pow(10,d),T=Math.ceil(T*j)/j),s==="ticks"?(E=Math.floor(w/T)*T,A=Math.ceil(S/T)*T):(E=w,A=S),C&&R&&a&&oS((u-l)/a,T/1e3)?(H=Math.round(Math.min((u-l)/T,p)),T=(u-l)/H,E=l,A=u):M?(E=C?l:E,A=R?u:A,H=f-1,T=(A-E)/H):(H=(A-E)/T,bo(H,Math.round(H),T/1e3)?H=Math.round(H):H=Math.ceil(H));const G=Math.max(xm(T),xm(E));j=Math.pow(10,Ge(d)?G:d),E=Math.round(E*j)/j,A=Math.round(A*j)/j;let q=0;for(C&&(v&&E!==l?(n.push({value:l}),E<l&&q++,bo(Math.round((E+q*T)*j)/j,l,Sg(l,L,t))&&q++):E<l&&q++);q<H;++q){const Z=Math.round((E+q*T)*j)/j;if(R&&Z>u)break;n.push({value:Z})}return R&&v&&A!==u?n.length&&bo(n[n.length-1].value,u,Sg(u,L,t))?n[n.length-1].value=u:n.push({value:u}):(!R||A===u)&&n.push({value:A}),n}function Sg(t,e,{horizontal:n,minRotation:r}){const s=pr(r),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class uM extends ms{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this;const l=d=>s=n?s:d,u=d=>a=r?a:d;if(e){const d=Vn(s),f=Vn(a);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(s===a){let d=a===0?1:Math.abs(a*.05);u(a+d),e||l(s-d)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=lM(s,a);return e.bounds==="ticks"&&aS(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Dd(e,this.chart.options.locale,this.options.ticks.format)}}class cM extends uM{static id="linear";static defaults={ticks:{callback:U0.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=jt(e)?e:0,this.max=jt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=pr(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Il={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tn=Object.keys(Il);function kg(t,e){return t-e}function Cg(t,e){if(Ge(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:a}=t._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),jt(l)||(l=typeof r=="string"?n.parse(l,r):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(Ro(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function Mg(t,e,n,r){const s=tn.length;for(let a=tn.indexOf(t);a<s-1;++a){const l=Il[tn[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(u*l.size))<=r)return tn[a]}return tn[s-1]}function dM(t,e,n,r,s){for(let a=tn.length-1;a>=tn.indexOf(n);a--){const l=tn[a];if(Il[l].common&&t._adapter.diff(s,r,l)>=e-1)return l}return tn[n?tn.indexOf(n):0]}function fM(t){for(let e=tn.indexOf(t)+1,n=tn.length;e<n;++e)if(Il[tn[e]].common)return tn[e]}function Eg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Pd(n,e),a=n[r]>=e?n[r]:n[s];t[a]=!0}}function hM(t,e,n,r){const s=t._adapter,a=+s.startOf(e[0].value,r),l=e[e.length-1].value;let u,d;for(u=a;u<=l;u=+s.add(u,1,r))d=n[u],d>=0&&(e[d].major=!0);return e}function Pg(t,e,n){const r=[],s={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],s[u]=l,r.push({value:u,major:!1});return a===0||!n?r:hM(t,r,s,n)}class Rg extends ms{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new Y2._date(e.adapters.date);s.init(n),xo(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Cg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=jt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),a=jt(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,u=fS(s,a,l);return this._unit=n.unit||(r.autoSkip?Mg(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):dM(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:fM(this._unit),this.initOffsets(s),e.reverse&&u.reverse(),Pg(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=zt(n,0,l),r=zt(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,a=s.time,l=a.unit||Mg(a.minUnit,n,r,this._getLabelCapacity(n)),u=Le(s.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,f=Ro(d)||d===!0,p={};let g=n,v,x;if(f&&(g=+e.startOf(g,"isoWeek",d)),g=+e.startOf(g,f?"day":l),e.diff(r,n,l)>1e5*u)throw new Error(n+" and "+r+" are too far apart with stepSize of "+u+" "+l);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(v=g,x=0;v<r;v=+e.add(v,u,l),x++)Eg(p,v,b);return(v===r||s.bounds==="ticks"||x===1)&&Eg(p,v,b),Object.keys(p).sort(kg).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,r,s){const a=this.options,l=a.ticks.callback;if(l)return rt(l,[e,n,r],this);const u=a.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],g=f&&u[f],v=r[n],x=f&&g&&v&&v.major;return this._adapter.format(e,s||(x?g:p))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=pr(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*l,h:r*l+u*a}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,Pg(this,[e],this._majorUnit),s),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(Cg(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return z0(e.sort(kg))}}function ol(t,e,n){let r=0,s=t.length-1,a,l,u,d;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Si(t,"pos",e)),{pos:a,time:u}=t[r],{pos:l,time:d}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Si(t,"time",e)),{time:a,pos:u}=t[r],{time:l,pos:d}=t[s]);const f=l-a;return f?u+(d-u)*(e-a)/f:u}class QM extends Rg{static id="timeseries";static defaults=Rg.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ol(n,this.min),this._tableRange=ol(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],a=[];let l,u,d,f,p;for(l=0,u=e.length;l<u;++l)f=e[l],f>=n&&f<=r&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],d=s[l-1],f=s[l],Math.round((p+d)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(ol(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return ol(this._table,r*this._tableRange+this._minPos,!0)}}const by="label";function Dg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function pM(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function wy(t,e){t.labels=e}function _y(t,e,n=by){const r=[];t.datasets=e.map(s=>{const a=t.datasets.find(l=>l[n]===s[n]);return!a||!s.data||r.includes(a)?{...s}:(r.push(a),Object.assign(a,s),a)})}function mM(t,e=by){const n={labels:[],datasets:[]};return wy(n,t.labels),_y(n,t.datasets,e),n}function gM(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:l,data:u,options:d,plugins:f=[],fallbackContent:p,updateMode:g,...v}=t,x=N.useRef(null),b=N.useRef(null),w=()=>{x.current&&(b.current=new Fl(x.current,{type:l,data:mM(u,a),options:d&&{...d},plugins:f}),Dg(e,b.current))},S=()=>{Dg(e,null),b.current&&(b.current.destroy(),b.current=null)};return N.useEffect(()=>{!s&&b.current&&d&&pM(b.current,d)},[s,d]),N.useEffect(()=>{!s&&b.current&&wy(b.current.config.data,u.labels)},[s,u.labels]),N.useEffect(()=>{!s&&b.current&&u.datasets&&_y(b.current.config.data,u.datasets,a)},[s,u.datasets]),N.useEffect(()=>{b.current&&(s?(S(),setTimeout(w)):b.current.update(g))},[s,d,u.labels,u.datasets,g]),N.useEffect(()=>{b.current&&(S(),setTimeout(w))},[l]),N.useEffect(()=>(w(),()=>S()),[]),k.jsx("canvas",{ref:x,role:"img",height:n,width:r,...v,children:p})}const yM=N.forwardRef(gM);function jd(t,e){return Fl.register(e),N.forwardRef((n,r)=>k.jsx(yM,{...n,ref:r,type:t}))}const vM=jd("line",V2),xM=jd("bar",$2),bM=jd("doughnut",W2);Fl.register(aM,cM,yC,zl,SC,aC,rM,qC,HC);const Kc=new Map;function qr(t){if(Kc.has(t))return Kc.get(t)??null;if(typeof document>"u")return null;const e=document.createElement("span");e.className=`${t} pointer-events-none fixed -left-[9999px] -top-[9999px]`,e.textContent=".",document.body.appendChild(e);const n=getComputedStyle(e).color;return e.remove(),Kc.set(t,n),n}function Ci(t,e){if(!t)return`rgba(99, 102, 241, ${e})`;const n=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9.]+))?\)/i);if(!n)return t;const r=Number(n[1]),s=Number(n[2]),a=Number(n[3]);return`rgba(${r}, ${s}, ${a}, ${e})`}function wM({labels:t,values:e,height:n=224,formatValue:r,ariaLabel:s="Line chart"}){const a=qr("text-indigo-500"),l=qr("text-slate-200 dark:text-slate-700"),u=qr("text-slate-500 dark:text-slate-400"),d=N.useMemo(()=>({labels:t,datasets:[{label:s,data:e,borderColor:a??"rgb(99, 102, 241)",backgroundColor:Ci(a,.16),fill:!0,tension:.35,pointRadius:p=>p.dataIndex===e.length-1?4:3,pointHoverRadius:6,pointBackgroundColor:a??"rgb(99, 102, 241)",pointBorderWidth:0}]}),[s,a,t,e]),f=N.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>{const g=typeof p.parsed?.y=="number"?p.parsed.y:Number(p.raw);return r?r(g):String(g)}}}},scales:{x:{grid:{color:Ci(l,.35)},ticks:{color:u??void 0,maxTicksLimit:6}},y:{grid:{color:Ci(l,.65)},ticks:{color:u??void 0,maxTicksLimit:6,callback:p=>{const g=typeof p=="number"?p:Number(p);return r?r(g):String(p)}}}}}),[r,l,u]);return k.jsx("div",{className:"w-full",style:{height:n},children:k.jsx(vM,{"aria-label":s,role:"img",data:d,options:f})})}function Tg({items:t,formatValue:e}){const n=qr("text-emerald-500"),r=qr("text-slate-200 dark:text-slate-700"),s=qr("text-slate-500 dark:text-slate-400"),a=Math.max(220,t.length*34),l=N.useMemo(()=>({labels:t.map(d=>d.label),datasets:[{label:"Value",data:t.map(d=>d.value),borderRadius:8,backgroundColor:Ci(n,.9)}]}),[n,t]),u=N.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{callbacks:{label:d=>{const f=typeof d.parsed?.x=="number"?d.parsed.x:Number(d.raw);return e?e(f):String(f)}}}},scales:{x:{grid:{color:Ci(r,.55)},ticks:{color:s??void 0,callback:d=>{const f=typeof d=="number"?d:Number(d);return e?e(f):String(d)}}},y:{grid:{display:!1},ticks:{color:s??void 0}}}}),[e,r,s]);return k.jsx("div",{className:"w-full",style:{height:a},children:k.jsx(xM,{role:"img",data:l,options:u})})}const al=["text-indigo-500","text-emerald-500","text-rose-500","text-amber-500","text-sky-500","text-violet-500"];function _M({segments:t,formatValue:e,ariaLabel:n="Pie chart"}){const r=t.reduce((f,p)=>f+(Number.isFinite(p.value)?p.value:0),0);if(r<=0)return k.jsx("div",{className:"text-sm text-slate-500",children:"No hay datos para graficar."});const s=t.filter(f=>Number.isFinite(f.value)&&f.value>0),a=s.map((f,p)=>{const g=f.className??al[p%al.length];return qr(g)??void 0}),l=qr("text-slate-500 dark:text-slate-400"),u=N.useMemo(()=>({labels:s.map(f=>f.label),datasets:[{data:s.map(f=>f.value),backgroundColor:a.map(f=>Ci(f??null,.9)),borderColor:a.map(f=>Ci(f??null,1)),borderWidth:0,hoverOffset:6,cutout:"62%"}]}),[a,s]),d=N.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>{const p=typeof f.parsed=="number"?f.parsed:Number(f.raw);return`${f.label?`${f.label}: `:""}${e?e(p):String(p)}`}}}}}),[e]);return k.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-6",children:[k.jsx("div",{className:"h-56 w-56",children:k.jsx(bM,{"aria-label":n,role:"img",data:u,options:d})}),k.jsx("div",{className:"w-full space-y-2",children:s.map((f,p)=>{const g=Math.round(f.value/r*100),v=f.className??al[p%al.length];return k.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[k.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[k.jsx("span",{className:`h-2 w-2 flex-none rounded-full ${v} bg-current`}),k.jsx("span",{className:"truncate font-semibold",children:f.label})]}),k.jsxs("div",{className:"flex-none text-right text-slate-700 dark:text-slate-200",children:[k.jsx("div",{className:"text-sm font-semibold",children:e?e(f.value):f.value.toFixed(2)}),k.jsxs("div",{className:"text-xs",style:{color:l??void 0},children:[g,"%"]})]})]},`${f.label}-legend`)})})]})}const SM="modulepreload",kM=function(t,e){return new URL(t,e).href},Ng={},CM=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const l=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(n.map(p=>{if(p=kM(p,r),p in Ng)return;Ng[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(r)for(let b=l.length-1;b>=0;b--){const w=l[b];if(w.href===p&&(!g||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${v}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":SM,g||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function MM(t,e){const n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),n.remove()}async function ll(t,e){const{default:n}=await CM(async()=>{const{default:u}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:u}},[],import.meta.url),r=Math.max(1,window.devicePixelRatio||1),a=typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)")?.matches?"#020617":"#ffffff",l=await n(t,{backgroundColor:a,scale:r,useCORS:!0});MM(l.toDataURL("image/png"),e)}function ul(t,e){const n=t.map(l=>l.map(u=>`"${String(u).replace(/"/g,'""')}"`).join(",")).join(`
`),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=e,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(s)}const Pi=[{code:"USD",symbol:"$",names:{es:"Dlar estadounidense",en:"US Dollar"}},{code:"EUR",symbol:"",names:{es:"Euro",en:"Euro"}},{code:"GBP",symbol:"",names:{es:"Libra esterlina",en:"Pound Sterling"}},{code:"JPY",symbol:"",names:{es:"Yen japons",en:"Japanese Yen"}},{code:"AUD",symbol:"A$",names:{es:"Dlar australiano",en:"Australian Dollar"}},{code:"CAD",symbol:"C$",names:{es:"Dlar canadiense",en:"Canadian Dollar"}},{code:"CHF",symbol:"CHF",names:{es:"Franco suizo",en:"Swiss Franc"}},{code:"CNY",symbol:"",names:{es:"Yuan chino",en:"Chinese Yuan"}},{code:"MXN",symbol:"MX$",names:{es:"Peso mexicano",en:"Mexican Peso"}},{code:"BRL",symbol:"R$",names:{es:"Real brasileo",en:"Brazilian Real"}}],Lg={},gs=t=>(t||"").toString().trim().toUpperCase();function Ag(t){const e=gs(t);if(e.length===3&&/^[A-Z]{3}$/.test(e))return e;const n=String(t||"").trim(),r=Pi.find(s=>s.symbol===n);return r?r.code:e}function Hn(t,e){const n=String(e||"").trim(),r=gs(n),s=Pi.find(u=>u.code===r);return s?`${s.symbol}${t.toFixed(2)}`:`${/[^A-Z]/i.test(n)||n.length<=2?n:`${n} `}${t.toFixed(2)}`}const Sy="fx_rates_",EM=1e3*60*60*12,cl={};function ky(t){try{const e=localStorage.getItem(Sy+gs(t));return e?JSON.parse(e):null}catch{return null}}function PM(t,e){try{const n={ts:Date.now(),rates:e};localStorage.setItem(Sy+gs(t),JSON.stringify(n))}catch{}}async function RM(t){const e=gs(t),n=typeof import.meta<"u"?Lg?.VITE_EXCHANGE_API_URL:void 0,r=typeof import.meta<"u"?Lg?.VITE_EXCHANGE_API_KEY:void 0,s=typeof window<"u"?localStorage.getItem("exchange_api_key"):void 0,a=r??s??void 0,l=n&&n.length>0?n:"https://api.exchangerate.host/latest",u=l.includes("?")?"&":"?";let d=l;const f={},p=/exchangerate\.host\/live/.test(l),g=/exchangerate\.host\/latest/.test(l);if(p){d+=`${u}source=${encodeURIComponent(e)}`;const b=Pi.map(w=>w.code).filter(w=>w!==e);d+=`&currencies=${encodeURIComponent(b.join(","))}`,d+="&format=1"}else d+=`${u}base=${encodeURIComponent(e)}`;if(a){const b=l.includes("exchangerate.host");b&&g||(b&&p?d+=`&access_key=${encodeURIComponent(a)}`:l.includes("apilayer")?(d+=`&access_key=${encodeURIComponent(a)}`,f.apikey=a):l.includes("openexchangerates")?d+=`&app_id=${encodeURIComponent(a)}`:d+=`&access_key=${encodeURIComponent(a)}`)}const v=3,x=500;for(let b=1;b<=v;b++)try{const w=await fetch(d,{headers:f});if(!w.ok){if(b===v)return null;await new Promise(C=>setTimeout(C,x*b));continue}const S=await w.json();if(p&&S&&typeof S.quotes=="object"){const C={};for(const R of Object.keys(S.quotes))if(R.startsWith(e)){const M=R.slice(e.length);C[M]=Number(S.quotes[R])}return C}if(S&&S.rates&&typeof S.rates=="object")return S.rates;if(b===v)return null;await new Promise(C=>setTimeout(C,x*b))}catch{if(b===v)return null;await new Promise(w=>setTimeout(w,x*b))}return null}async function DM(t,e){if(typeof window>"u")return null;const n=gs(t),r=ky(n);if(r&&Date.now()-r.ts<EM)return r.rates;if(cl[n])return cl[n];const s=(async()=>{try{const a=await RM(n);return a?(PM(n,a),a):r?r.rates:null}finally{delete cl[n]}})();return cl[n]=s,s}function hr(t,e,n){const r=Ag(e),s=Ag(n);if(!r||r===s)return t;if(typeof window<"u")try{const f=ky(s);if(f&&f.rates&&f.rates[r])return t/f.rates[r]}catch{}const a={EUR:1,USD:1.05,GBP:.88,CAD:1.42},l=a[r]??1,u=a[s]??1;return t/l*u}function os(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function Cy(t){return t.period==="monthly"?1:t.period==="quarterly"?3:t.period==="semiannual"?6:12}function TM(t){const e=Cy(t);return Number.isFinite(t.price)?t.price*12/e:0}function NM(t){const[e,n,r]=String(t).split("-").map(Number),s=new Date(e,(n??1)-1,r??1);return Number.isNaN(s.getTime())?null:s}function Og(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function LM(t,e,n,r){const s=NM(t);if(!s)return[];let a=new Date(s);for(;a.getTime()<n.getTime();)a=Og(a,e);const l=[];for(;a.getTime()<=r.getTime();)l.push(new Date(a)),a=Og(a,e);return l}function Fg(){const{state:t}=Dl(),{t:e,language:n}=ps(),r=t.settings.currencyDisplayMode??"original",s=(t.settings.baseCurrency||"USD").toUpperCase(),[a,l]=N.useState(0),[u,d]=N.useState("idle");N.useEffect(()=>{if(r!=="convertToBase")return;let M=!1;return d("loading"),(async()=>{const L=await DM(s);M||(L?(d("ready"),l(T=>T+1)):d("unavailable"))})(),()=>{M=!0}},[s,r]),N.useEffect(()=>{r!=="convertToBase"&&d("idle")},[r]);const f=N.useRef(new Map),p=M=>L=>{L?f.current.set(M,L):f.current.delete(M)},g=N.useMemo(()=>r==="convertToBase"?[s]:Array.from(new Set(t.subscriptions.map(M=>(M.currency||"USD").toUpperCase()))).sort((M,L)=>M.localeCompare(L)),[s,r,t.subscriptions]),v=N.useMemo(()=>{const M=new Map;for(const L of t.subscriptions){const T=(L.currency||"USD").toUpperCase(),j=r==="convertToBase"?s:T,E=r==="convertToBase"?hr(os(L),T,s):os(L),A=M.get(j)??0;M.set(j,A+E)}return Array.from(M.entries()).sort((L,T)=>L[0].localeCompare(T[0]))},[s,r,a,t.subscriptions]),x=N.useMemo(()=>{const M=new Date,L=Math.max(0,Math.min(30,Math.floor(t.settings.notifyDaysBefore??7))),T=new Date(M);T.setDate(T.getDate()+L);const j=new Map,E=new Map,A=new Map,H=new Map,G=new Map;for(const ae of t.subscriptions){const Q=(ae.currency||"USD").toUpperCase(),re=r==="convertToBase"?s:Q,ue=r==="convertToBase"?hr(os(ae),Q,s):os(ae);j.set(re,(j.get(re)??0)+ue),E.set(re,(E.get(re)??0)+1),vl(ae.startDate,ae.period,M).getTime()<=T.getTime()&&A.set(re,(A.get(re)??0)+1);const X=H.get(re);(!X||ue>X.value)&&H.set(re,{name:ae.name,value:ue});const te=(ae.category||"").trim()||(e("common.uncategorized")??"Sin categora");G.has(re)||G.set(re,new Map);const K=G.get(re);K.set(te,(K.get(te)??0)+ue)}const q=new Map,Z=new Set([...j.keys(),...E.keys()]);for(const ae of Z){const Q=E.get(ae)??0,re=j.get(ae)??0,ue=Q>0?re/Q:0,de=A.get(ae)??0,X=H.get(ae)??null,te=G.get(ae);let K=null;if(te&&re>0){let F=null;for(const[V,ce]of te.entries())(!F||ce>F.value)&&(F={label:V,value:ce});F&&(K={label:F.label,value:F.value,pct:Math.round(F.value/re*100)})}q.set(ae,{count:Q,monthlyTotal:re,avgMonthly:ue,dueSoonCount:de,highest:X,topCategory:K,windowDays:L})}return q},[s,r,a,t.settings.notifyDaysBefore,t.subscriptions,e]),b=N.useMemo(()=>{const M=new Date;return t.subscriptions.map(T=>({s:T,next:vl(T.startDate,T.period,M)})).sort((T,j)=>T.next.getTime()-j.next.getTime()).slice(0,5)},[t.subscriptions]),w=N.useMemo(()=>{const M=new Date,L=Array.from({length:12},(E,A)=>new Date(M.getFullYear(),M.getMonth()-(11-A),1)),T=L.map(E=>E.toLocaleString(n==="es"?"es-ES":"en-US",{month:"short"})),j=new Map;for(const E of g)j.set(E,Array.from({length:12},()=>0));for(const E of t.subscriptions){const A=(E.currency||"USD").toUpperCase(),H=r==="convertToBase"?s:A;j.has(H)||j.set(H,Array.from({length:12},()=>0));const G=Cy(E);for(let q=0;q<L.length;q++){const Z=L[q],ae=new Date(Z.getFullYear(),Z.getMonth()+1,0,23,59,59,999),Q=LM(E.startDate,G,Z,ae);if(!Q.length)continue;const re=j.get(H),ue=E.price*Q.length;re[q]+=r==="convertToBase"?hr(ue,A,s):ue}}return{labels:T,byCurrency:j}},[s,g,r,a,t.subscriptions]),S=N.useMemo(()=>{const M=new Map;for(const L of t.subscriptions){const T=(L.currency||"USD").toUpperCase(),j=r==="convertToBase"?s:T,E=M.get(j)??[],A=TM(L);E.push({label:L.name,value:r==="convertToBase"?hr(A,T,s):A}),M.set(j,E)}for(const[L,T]of M.entries())M.set(L,T.sort((j,E)=>E.value-j.value).slice(0,6));return M},[s,r,a,t.subscriptions]),C=N.useMemo(()=>{const M=new Map;for(const L of t.subscriptions){const T=(L.currency||"USD").toUpperCase(),j=r==="convertToBase"?s:T,E=M.get(j)??[],A=os(L);E.push({label:L.name,value:r==="convertToBase"?hr(A,T,s):A}),M.set(j,E)}for(const[L,T]of M.entries()){const j=T.sort((q,Z)=>Z.value-q.value),E=j.slice(0,5),H=j.slice(5).reduce((q,Z)=>q+Z.value,0),G=H>0?[...E,{label:e("common.other")??"Otros",value:H}]:E;M.set(L,G)}return M},[s,r,a,t.subscriptions,e]),R=N.useMemo(()=>{const M=new Map;for(const T of t.subscriptions){const j=(T.currency||"USD").toUpperCase(),E=r==="convertToBase"?s:j,A=(T.category||"").trim()||(e("common.uncategorized")??"Sin categora");M.has(E)||M.set(E,new Map);const H=M.get(E),G=os(T),q=r==="convertToBase"?hr(G,j,s):G;H.set(A,(H.get(A)??0)+q)}const L=new Map;for(const[T,j]of M.entries()){const A=Array.from(j.entries()).map(([H,G])=>({label:H,value:G})).sort((H,G)=>G.value-H.value).slice(0,7);L.set(T,A)}return L},[s,r,a,t.subscriptions,e]);return k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.monthlySpendTitle")??"Gasto mensual (equivalente)"}),k.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:v.length===0?k.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noSubscriptionsYet")??"Sin suscripciones an."}):v.map(([M,L])=>k.jsx("div",{className:"rounded-lg bg-slate-100 px-3 py-2 text-sm font-semibold dark:bg-slate-800",children:Hn(L,M)},M))}),r==="convertToBase"?k.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:[e("dashboard.fxRatesLabel")??"FX rates",": ",u==="loading"?e("dashboard.fxUpdating")??"actualizando":u==="ready"?e("dashboard.fxReady")??"reales (cacheadas)":u==="unavailable"?e("dashboard.fxUnavailable")??"no disponibles (fallback)":e("dashboard.fxIdle")??""]}):null]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.upcomingRenewalsTitle")??"Prximas renovaciones"}),k.jsx("div",{className:"mt-2 space-y-2",children:b.length===0?k.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noDataYet")??"No hay datos todava."}):b.map(({s:M,next:L})=>k.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg bg-slate-50 px-3 py-2 text-sm dark:bg-slate-800/60",children:[k.jsx("div",{className:"font-semibold",children:M.name}),k.jsx("div",{className:"text-slate-600 dark:text-slate-300",children:L.toLocaleDateString(n==="es"?"es-ES":"en-US")})]},M.id))})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.chartsTitle")??"Grficos"}),t.subscriptions.length===0?k.jsx("div",{className:"mt-2 text-sm text-slate-500",children:e("dashboard.addSubsToSeeCharts")??"Aade suscripciones para ver grficos."}):k.jsx("div",{className:"mt-3 space-y-4",children:g.map(M=>{const L=w.byCurrency.get(M)??[],T=S.get(M)??[],j=R.get(M)??[],E=C.get(M)??[];return k.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 dark:bg-slate-800/60",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:e("dashboard.currencyLabel",{cur:M})??`Moneda: ${M}`}),(()=>{const A=x.get(M);return A?k.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-4",children:[k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiSubscriptions")??"Suscripciones"}),k.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.count})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiAvgMonthly")??"Media mensual"}),k.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:Hn(A.avgMonthly,M)})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiDueSoon",{days:A.windowDays})??`Vencen ( ${A.windowDays}d)`}),k.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.dueSoonCount})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiTopCategory")??"Top categora"}),k.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.topCategory?`${A.topCategory.label}  ${A.topCategory.pct}%`:e("common.none")??""})]})]}):null})(),k.jsxs("div",{className:"mt-3 space-y-3",children:[k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-center justify-between gap-3",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.projectionTitle")??"Proyeccin mensual (ltimos 12 meses)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=f.current.get(`${M}:line`);A&&ll(A,`monthly-${M}.png`)},children:"PNG"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvMonth")??"Month",e("dashboard.csvAmount")??"Amount",e("dashboard.csvCurrency")??"Currency"]];for(let H=0;H<w.labels.length;H++)A.push([w.labels[H],L[H]??0,M]);ul(A,`monthly-${M}.csv`)},children:"CSV"})]})]}),k.jsx("div",{ref:p(`${M}:line`),className:"mt-2",children:k.jsx(wM,{ariaLabel:`Proyeccin mensual ${M}`,labels:w.labels,values:L,formatValue:A=>Hn(A,M)})})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-center justify-between gap-3",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.annualTopTitle")??"Top gasto anual (estimado)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=f.current.get(`${M}:bar`);A&&ll(A,`annual-top-${M}.png`)},children:"PNG"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvName")??"Name",e("dashboard.csvAnnualAmount")??"AnnualAmount",e("dashboard.csvCurrency")??"Currency"]];for(const H of T)A.push([H.label,H.value,M]);ul(A,`annual-top-${M}.csv`)},children:"CSV"})]})]}),k.jsx("div",{ref:p(`${M}:bar`),className:"mt-3",children:T.length===0?k.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):k.jsx(Tg,{items:T,formatValue:A=>Hn(A,M)})})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-center justify-between gap-3",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.monthlyByCategoryTitle")??"Gasto mensual por categora (equivalente)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=f.current.get(`${M}:cat`);A&&ll(A,`categories-${M}.png`)},children:"PNG"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvCategory")??"Category",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const H of j)A.push([H.label,H.value,M]);ul(A,`categories-${M}.csv`)},children:"CSV"})]})]}),k.jsx("div",{ref:p(`${M}:cat`),className:"mt-3",children:j.length===0?k.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):k.jsx(Tg,{items:j,formatValue:A=>Hn(A,M)})})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-center justify-between gap-3",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.distributionTitle")??"Distribucin (gasto mensual equivalente)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=f.current.get(`${M}:pie`);A&&ll(A,`distribution-${M}.png`)},children:"PNG"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvName")??"Name",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const H of E)A.push([H.label,H.value,M]);ul(A,`distribution-${M}.csv`)},children:"CSV"})]})]}),k.jsx("div",{ref:p(`${M}:pie`),className:"mt-2",children:k.jsx(_M,{segments:E,formatValue:A=>Hn(A,M)})})]})]})]},M)})})]})]})}function zg(t){return String(t).padStart(2,"0")}function jg(t){const e=t.getFullYear(),n=zg(t.getMonth()+1),r=zg(t.getDate());return`${e}${n}${r}`}function AM(t){switch(t){case"monthly":return"RRULE:FREQ=MONTHLY";case"quarterly":return"RRULE:FREQ=MONTHLY;INTERVAL=3";case"semiannual":return"RRULE:FREQ=MONTHLY;INTERVAL=6";case"annual":return"RRULE:FREQ=YEARLY"}}function OM(t){const e="https://calendar.google.com/calendar/u/0/r/eventedit",n=new URLSearchParams;n.set("text",t.title),t.details&&n.set("details",t.details);{const r=new Date(t.startDate),s=new Date(r);s.setDate(s.getDate()+1),n.set("dates",`${jg(r)}/${jg(s)}`)}return t.recurrence&&n.set("recur",AM(t.recurrence.period)),`${e}?${n.toString()}`}function FM(t,e){const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(r)}function zM(t){return t==="monthly"||t==="quarterly"||t==="semiannual"||t==="annual"}function jM(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)}function IM(t){const e=typeof t=="string"?t.trim().toUpperCase():"";return e&&Pi.some(r=>r.code===e)?e:"USD"}function BM(t){const e=typeof t?.name=="string"?t.name.trim():"";if(!e)return null;const n=Number(t?.price);if(!Number.isFinite(n))return null;const r=t?.period;if(!zM(r))return null;const s=t?.startDate;if(!jM(s))return null;const a=IM(t?.currency),l=typeof t?.category=="string"?t.category.trim():"";return{id:typeof t?.id=="string"&&t.id.trim()?t.id.trim():E0(),name:e,category:l||void 0,price:n,currency:a,period:r,startDate:s}}function UM({items:t,onImport:e}){const{t:n}=ps(),[r,s]=N.useState(null),a=N.useMemo(()=>{const d=new Date,f=d.getFullYear(),p=String(d.getMonth()+1).padStart(2,"0"),g=String(d.getDate()).padStart(2,"0");return`subly-subscriptions-${f}${p}${g}.json`},[]);function l(){s(null),FM(a,t),s({type:"success",message:n("common.exported")??"Exportado."})}function u(d){s(null);const f=new FileReader;f.onload=()=>{try{const p=JSON.parse(String(f.result??"null"));if(!Array.isArray(p))throw new Error("Invalid structure");const g=[];for(const x of p){const b=BM(x);b&&g.push(b)}if(g.length===0)throw new Error("No valid items");const v=new Map;for(const x of t)v.set(x.id,x);for(const x of g)v.set(x.id,x);e(Array.from(v.values())),s({type:"success",message:n("common.importedCount",{count:g.length})??`Importadas: ${g.length}`})}catch{s({type:"error",message:n("common.importFailed")??"Importacin fallida (JSON invlido o estructura incorrecta)."})}},f.readAsText(d)}return k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("button",{type:"button",onClick:l,className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:n("common.exportJson")??"Exportar JSON"}),k.jsxs("label",{className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:[n("common.importJson")??"Importar JSON",k.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:d=>{const f=d.target.files?.[0];d.target.value="",f&&u(f)}})]}),r?k.jsx("div",{className:r.type==="error"?"text-sm text-rose-600 dark:text-rose-300":"text-sm text-emerald-700 dark:text-emerald-300",children:r.message}):null]})}function Qc(t){return t==="es"?"es-ES":"en-US"}function $M(t){const e=Number(t);return Number.isFinite(e)?e:0}function HM(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function Ig(t){return/^\d{4}-\d{2}-\d{2}$/.test(String(t||"").trim())}function WM(){const{state:t,setSubscriptions:e}=Dl(),{t:n,language:r}=ps(),s=t.settings.currencyDisplayMode??"original",a=(t.settings.baseCurrency||"USD").toUpperCase(),[l,u]=N.useState(null),[d,f]=N.useState(!1),p=N.useRef(null),[g,v]=N.useState(""),[x,b]=N.useState(!1),[w,S]=N.useState(""),[C,R]=N.useState(""),[M,L]=N.useState(""),[T,j]=N.useState(""),[E,A]=N.useState(""),[H,G]=N.useState({column:"nextRenewal",direction:"asc"}),q=N.useMemo(()=>t.subscriptions.find(Y=>Y.id===l)??null,[l,t.subscriptions]),[Z,ae]=N.useState(""),[Q,re]=N.useState(""),[ue,de]=N.useState(""),[X,te]=N.useState("USD"),[K,F]=N.useState("monthly"),[V,ce]=N.useState(()=>new Date().toISOString().slice(0,10)),le=N.useMemo(()=>{const Y=Z.trim(),Ce=ue.trim();return!(!Y||!Ce||!Number.isFinite(Number(Ce))||!X.trim()||!K||!Ig(V))},[X,Z,K,ue,V]);function ye(){u(null),ae(""),re(""),de(""),te("USD"),F("monthly"),ce(new Date().toISOString().slice(0,10))}function be(){f(!1),ye()}function Fe(){ye(),f(!0)}function Ne(Y){u(Y.id),ae(Y.name),re(Y.category??""),de(String(Y.price));const Ce=String(Y.currency??"").trim().toUpperCase(),Te=Pi.some(Pe=>Pe.code===Ce);te(Te?Ce:"USD"),F(Y.period),ce(Y.startDate),f(!0)}function Ye(){const Y=Z.trim(),Ce=ue.trim();if(!Y||!Ce||!Number.isFinite(Number(Ce))||!X.trim()||!K||!Ig(V))return;const Te=Q.trim(),Pe={id:l??E0(),name:Y,category:Te||void 0,price:$M(ue),currency:X,period:K,startDate:V},He=t.subscriptions.slice(),ot=He.findIndex(Yt=>Yt.id===Pe.id);ot>=0?He[ot]=Pe:He.unshift(Pe),e(He),be()}function gt(Y){e(t.subscriptions.filter(Ce=>Ce.id!==Y)),l===Y&&ye()}function Sn(Y){const Ce=vl(Y.startDate,Y.period,new Date),Te=(Y.currency||"USD").toUpperCase(),Pe=s==="convertToBase"?a:Te,He=s==="convertToBase"?hr(Y.price,Te,a):Y.price,ot=OM({title:`${Y.name}  ${n("subscriptions.renewal")??"Renovacin"}`,details:`${n("subscriptions.detailsAmount")??"Importe"}: ${Hn(He,Pe)}
${n("subscriptions.detailsPeriod")??"Periodo"}: ${Y.period}`,startDate:Ce,recurrence:{period:Y.period}});window.open(ot,"_blank","noopener,noreferrer")}const $e=N.useMemo(()=>r==="es"?["Streaming","Software","Msica","Juegos","Productividad","Educacin","Salud","Otros"]:["Streaming","Software","Music","Games","Productivity","Education","Health","Other"],[r]),je=N.useMemo(()=>[{value:"monthly",label:n("subscriptions.periodMonthly")??"Mensual"},{value:"quarterly",label:n("subscriptions.periodQuarterly")??"Trimestral"},{value:"semiannual",label:n("subscriptions.periodSemiannual")??"Semestral"},{value:"annual",label:n("subscriptions.periodAnnual")??"Anual"}],[n]),Tt=N.useMemo(()=>({monthly:n("subscriptions.periodMonthly")??"Mensual",quarterly:n("subscriptions.periodQuarterly")??"Trimestral",semiannual:n("subscriptions.periodSemiannual")??"Semestral",annual:n("subscriptions.periodAnnual")??"Anual"}),[n]),It=N.useMemo(()=>{const Y=new Set;for(const Ce of t.subscriptions){const Te=String(Ce.currency||"").trim().toUpperCase();Te&&Y.add(Te)}return Y.add(a),Array.from(Y).sort((Ce,Te)=>Ce.localeCompare(Te))},[a,t.subscriptions]),xt=N.useMemo(()=>{const Y=Number(t.settings.notifyDaysBefore);return Number.isFinite(Y)?Math.max(0,Math.min(30,Math.floor(Y))):2},[t.settings.notifyDaysBefore]),Vt=N.useMemo(()=>{const Y=new Date,Ce=new Date(Y);return Ce.setDate(Ce.getDate()+xt),t.subscriptions.map(Te=>{const Pe=vl(Te.startDate,Te.period,Y),He=(Te.currency||"USD").toUpperCase(),ot=hr(HM(Te),He,a),Yt=Pe.getTime()<=Ce.getTime();return{...Te,rawCurrency:He,nextRenewal:Pe,dueSoon:Yt,monthlyEqBase:ot}})},[a,xt,t.subscriptions]),Bt=N.useMemo(()=>{const Y=t.subscriptions.length;if(Y===0)return{count:Y,avgMonthlyBase:0,highest:null,dueSoonCount:0,nextDueDate:null,topCategory:null};const Ce=new Map;let Te=0,Pe=null,He=0,ot=null;for(const ct of Vt){Te+=ct.monthlyEqBase,(!Pe||ct.monthlyEqBase>Pe.valueBase)&&(Pe={name:ct.name,valueBase:ct.monthlyEqBase}),ct.dueSoon&&(He+=1),(!ot||ct.nextRenewal.getTime()<ot.getTime())&&(ot=ct.nextRenewal);const qn=String(ct.category||"").trim()||(n("common.uncategorized")??"Sin categora");Ce.set(qn,(Ce.get(qn)??0)+ct.monthlyEqBase)}let Yt=null;if(Te>0&&Ce.size>0){let ct=null;for(const[qn,Ut]of Ce.entries())(!ct||Ut>ct.value)&&(ct={label:qn,value:Ut});ct&&(Yt={label:ct.label,percent:Math.round(ct.value/Te*100)})}return{count:Y,avgMonthlyBase:Te/Y,highest:Pe,dueSoonCount:He,nextDueDate:ot,topCategory:Yt}},[Vt,t.subscriptions.length,n]),yr=N.useCallback(()=>{S(""),R(""),L(""),j(""),A(""),v("")},[]),Ln=N.useMemo(()=>!!(g.trim()||w.trim()||C.trim()||M||T.trim()||E.trim()),[w,C,E,T,M,g]),kn=N.useMemo(()=>{const Y=g.trim().toLowerCase(),Ce=T.trim()?Number(T):null,Te=E.trim()?Number(E):null;return Vt.filter(Pe=>w.trim()&&String(Pe.category||"").trim().toLowerCase()!==w.trim().toLowerCase()||C.trim()&&Pe.rawCurrency!==C.trim().toUpperCase()||M&&Pe.period!==M||Ce!==null&&Number.isFinite(Ce)&&Pe.price<Ce||Te!==null&&Number.isFinite(Te)&&Pe.price>Te?!1:Y?[Pe.name,Pe.category,Pe.rawCurrency,Pe.period,Tt[Pe.period],String(Pe.price),Hn(Pe.price,Pe.rawCurrency)].some(ot=>String(ot||"").toLowerCase().includes(Y)):!0)},[Vt,w,C,E,T,M,Tt,g]),Jr=N.useCallback(Y=>{G(Ce=>Ce.column===Y?{column:Y,direction:Ce.direction==="asc"?"desc":"asc"}:{column:Y,direction:"asc"})},[]),Gn=N.useMemo(()=>{const Y=new Intl.Collator(void 0,{sensitivity:"base"}),Ce=H.direction==="asc"?1:-1,Te=(Pe,He)=>{switch(H.column){case"name":return Y.compare(Pe.name,He.name)*Ce;case"category":return Y.compare(String(Pe.category||""),String(He.category||""))*Ce;case"period":return Y.compare(Pe.period,He.period)*Ce;case"price":return(Pe.price-He.price)*Ce;case"startDate":return(new Date(Pe.startDate).getTime()-new Date(He.startDate).getTime())*Ce;default:return(Pe.nextRenewal.getTime()-He.nextRenewal.getTime())*Ce}};return[...kn].sort(Te)},[kn,H.column,H.direction]),Pt=({column:Y,label:Ce})=>{const Te=H.column===Y;return k.jsxs("button",{type:"button",onClick:()=>Jr(Y),"aria-pressed":Te,className:"group inline-flex w-full items-center justify-between gap-2 rounded-md px-2 py-1 text-left text-xs font-bold uppercase tracking-wide text-slate-700 hover:bg-slate-100 dark:text-slate-200 dark:hover:bg-slate-800",children:[k.jsx("span",{className:"flex-1",children:Ce}),k.jsx("svg",{className:`h-3.5 w-3.5 flex-none transition-transform ${Te?"opacity-100":"opacity-40 group-hover:opacity-70"} ${Te&&H.direction==="desc"?"rotate-180":""}`,viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:k.jsx("path",{d:"M3 10l3-5 3 5"})})]})};return N.useEffect(()=>{if(!d)return;const Y=window.setTimeout(()=>{p.current?.focus()},0),Ce=Te=>{Te.key==="Escape"&&be()};return window.addEventListener("keydown",Ce),()=>{window.clearTimeout(Y),window.removeEventListener("keydown",Ce)}},[d]),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("subscriptions.listTitle")??"Listado"}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:n("subscriptions.subtitle")??""})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(UM,{items:t.subscriptions,onImport:e}),k.jsx("button",{type:"button",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500",onClick:Fe,children:n("subscriptions.addSubscription")??"Aadir suscripcin"})]})]}),k.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-end justify-between gap-3",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("subscriptions.insightsTitle")??"Resumen"}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:n("subscriptions.insightsHint",{currency:a})??""})]}),k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:n("subscriptions.insightsDueWindow",{days:xt})??""})]}),t.subscriptions.length===0?k.jsx("div",{className:"mt-3 text-sm text-slate-500",children:n("subscriptions.noSubscriptions")??"No hay suscripciones an."}):k.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[k.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:n("subscriptions.insightsCount")??"Suscripciones"}),k.jsx("div",{className:"mt-1 text-2xl font-black text-slate-900 dark:text-white",children:Bt.count})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[k.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:n("subscriptions.insightsAvgMonthly")??"Media mensual"}),k.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:Hn(Bt.avgMonthlyBase,a)}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:n("subscriptions.insightsAvgMonthlyHelper",{currency:a})??""})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[k.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:n("subscriptions.insightsUpcoming")??"Prximas"}),k.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:n("subscriptions.insightsUpcomingValue",{count:Bt.dueSoonCount})??String(Bt.dueSoonCount)}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:Bt.nextDueDate?n("subscriptions.insightsUpcomingHelper",{date:Bt.nextDueDate.toLocaleDateString(Qc(r))})??"":n("common.none")??""})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[k.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:n("subscriptions.insightsTopCategory")??"Top categora"}),k.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:Bt.topCategory?Bt.topCategory.label:n("common.none")??""}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:Bt.topCategory?n("subscriptions.insightsTopCategoryHelper",{percent:Bt.topCategory.percent})??"":""})]})]})]}),k.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[k.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[k.jsxs("div",{className:"relative w-full",children:[k.jsx("svg",{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",children:k.jsx("path",{d:"M8.5 3a5.5 5.5 0 014.33 9.02l3.58 3.58-1.06 1.06-3.58-3.58A5.5 5.5 0 118.5 3zm0 1.5a4 4 0 100 8 4 4 0 000-8z",fill:"currentColor"})}),k.jsx("input",{type:"search",value:g,onChange:Y=>v(Y.target.value),placeholder:n("subscriptions.searchPlaceholder")??"Buscar","aria-label":n("subscriptions.searchPlaceholder")??"Buscar",className:"w-full rounded-md border border-slate-300 bg-white py-2 pl-9 pr-3 text-sm dark:border-slate-700 dark:bg-slate-950",autoComplete:"off"})]}),k.jsx("button",{type:"button",className:`rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800 ${x?"bg-slate-100 dark:bg-slate-800":""}`,onClick:()=>b(Y=>!Y),"aria-pressed":x,children:n("subscriptions.filtersToggle")??"Filtros"}),Ln?k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:yr,children:n("common.clear")??"Limpiar"}):null]}),k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("subscriptions.resultsCount",{count:Gn.length})??`${Gn.length}`})]}),x?k.jsx("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:k.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.filterCategory")??"Categora"}),k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:w,onChange:Y=>S(Y.target.value),children:[k.jsx("option",{value:"",children:n("common.none")??""}),Array.from(new Set(Vt.map(Y=>String(Y.category||"").trim()).filter(Boolean))).sort((Y,Ce)=>Y.localeCompare(Ce)).map(Y=>k.jsx("option",{value:Y,children:Y},Y))]})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.filterCurrency")??"Moneda"}),k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:C,onChange:Y=>R(Y.target.value),children:[k.jsx("option",{value:"",children:n("common.none")??""}),It.map(Y=>k.jsx("option",{value:Y,children:Y},Y))]})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.filterPeriod")??"Periodo"}),k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:M,onChange:Y=>L(Y.target.value),children:[k.jsx("option",{value:"",children:n("common.none")??""}),je.map(Y=>k.jsx("option",{value:Y.value,children:Y.label},Y.value))]})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.filterMinPrice")??"Precio mn."}),k.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:T,onChange:Y=>j(Y.target.value)})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.filterMaxPrice")??"Precio mx."}),k.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:E,onChange:Y=>A(Y.target.value)})]})]})}):null,k.jsx("div",{className:"mt-3 overflow-x-auto",children:k.jsxs("table",{className:"w-full min-w-[820px] table-fixed border-separate border-spacing-0 text-sm",children:[k.jsx("thead",{children:k.jsxs("tr",{className:"text-left",children:[k.jsx("th",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white py-2 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(Pt,{column:"name",label:n("subscriptions.columnName")??"Nombre"})}),k.jsx("th",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white py-2 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(Pt,{column:"price",label:n("subscriptions.columnPrice")??"Importe"})}),k.jsx("th",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white py-2 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(Pt,{column:"period",label:n("subscriptions.columnPeriod")??"Periodo"})}),k.jsx("th",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white py-2 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(Pt,{column:"startDate",label:n("subscriptions.columnStart")??"Inicio"})}),k.jsx("th",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white py-2 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(Pt,{column:"nextRenewal",label:n("subscriptions.columnNext")??"Prximo"})}),k.jsx("th",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white py-2 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(Pt,{column:"category",label:n("subscriptions.columnCategory")??"Categora"})}),k.jsx("th",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white py-2 dark:border-slate-800 dark:bg-slate-900",children:k.jsx("span",{className:"px-2 text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-200",children:n("subscriptions.columnActions")??"Acciones"})})]})}),k.jsx("tbody",{children:Gn.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:7,className:"py-6 text-center text-sm text-slate-500",children:Ln?n("subscriptions.emptyFiltered")??"Sin resultados con los filtros actuales.":n("subscriptions.noSubscriptions")??"No hay suscripciones an."})}):Gn.map(Y=>{const Ce=s==="convertToBase"?a:Y.rawCurrency,Te=s==="convertToBase"?hr(Y.price,Y.rawCurrency,a):Y.price;return k.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 dark:border-slate-800/60 dark:hover:bg-slate-800/30",children:[k.jsxs("td",{className:"py-2 pr-2",children:[k.jsxs("div",{className:"flex items-start gap-2",children:[k.jsx("div",{className:"font-semibold text-slate-900 dark:text-white",children:Y.name}),Y.dueSoon?k.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:n("subscriptions.dueSoon")??"Pronto"}):null]}),k.jsxs("div",{className:"mt-0.5 text-xs text-slate-500",children:[Y.rawCurrency,"  ",Tt[Y.period]]})]}),k.jsx("td",{className:"py-2 pr-2 font-semibold text-slate-900 dark:text-white",children:Hn(Te,Ce)}),k.jsx("td",{className:"py-2 pr-2 text-slate-700 dark:text-slate-200",children:Tt[Y.period]}),k.jsx("td",{className:"py-2 pr-2 text-slate-600 dark:text-slate-300",children:new Date(Y.startDate).toLocaleDateString(Qc(r))}),k.jsx("td",{className:"py-2 pr-2 text-slate-600 dark:text-slate-300",children:Y.nextRenewal.toLocaleDateString(Qc(r))}),k.jsx("td",{className:"py-2 pr-2 text-slate-700 dark:text-slate-200",children:String(Y.category||"").trim()||(n("common.uncategorized")??"Sin categora")}),k.jsx("td",{className:"py-2",children:k.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[k.jsx("button",{type:"button",className:"rounded-md bg-emerald-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-emerald-500",onClick:()=>Sn(Y),children:n("subscriptions.addToCalendar")??"Aadir a Calendar"}),k.jsxs("button",{type:"button","aria-label":n("common.edit")??"Editar",title:n("common.edit")??"Editar",className:"inline-flex items-center justify-center rounded-md border border-slate-300 px-3 py-1.5 text-xs font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>Ne(Y),children:[k.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[k.jsx("path",{d:"M12 20h9"}),k.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L8 18l-4 1 1-4 11.5-11.5z"})]}),k.jsx("span",{className:"sr-only",children:n("common.edit")??"Editar"})]}),k.jsxs("button",{type:"button","aria-label":n("common.delete")??"Eliminar",title:n("common.delete")??"Eliminar",className:"inline-flex items-center justify-center rounded-md bg-rose-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-rose-500",onClick:()=>gt(Y.id),children:[k.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[k.jsx("path",{d:"M3 6h18"}),k.jsx("path",{d:"M8 6V4h8v2"}),k.jsx("path",{d:"M6 6l1 14h10l1-14"}),k.jsx("path",{d:"M10 11v6"}),k.jsx("path",{d:"M14 11v6"})]}),k.jsx("span",{className:"sr-only",children:n("common.delete")??"Eliminar"})]})]})})]},Y.id)})})]})})]}),d?k.jsxs("div",{className:"fixed inset-0 z-50",children:[k.jsx("div",{className:"absolute inset-0 bg-slate-950/50",onClick:be}),k.jsx("div",{className:"relative mx-auto w-full max-w-3xl px-4 py-6",children:k.jsxs("div",{role:"dialog","aria-modal":"true",className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:q?n("subscriptions.editSubscription")??"Editar suscripcin":n("subscriptions.addSubscriptionTitle")??"Aadir suscripcin"}),k.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.name")??"Nombre"}),k.jsx("input",{ref:p,className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Z,onChange:Y=>ae(Y.target.value)})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.category")??"Categora"}),k.jsx("input",{list:"subly-categories",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Q,onChange:Y=>re(Y.target.value),placeholder:n("subscriptions.categoryPlaceholder")??"Ej: Streaming"}),k.jsx("datalist",{id:"subly-categories",children:$e.map(Y=>k.jsx("option",{value:Y},Y))})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.amount")??"Importe"}),k.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:ue,onChange:Y=>de(Y.target.value)})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.currency")??"Moneda"}),k.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:X,onChange:Y=>te(Y.target.value),children:Pi.map(Y=>k.jsxs("option",{value:Y.code,children:[Y.code," (",Y.symbol,")  ",Y.names[r]]},Y.code))})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.period")??"Periodo"}),k.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:K,onChange:Y=>F(Y.target.value),children:je.map(Y=>k.jsx("option",{value:Y.value,children:Y.label},Y.value))})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("subscriptions.startDate")??"Fecha inicio"}),k.jsx("input",{type:"date",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:V,onChange:Y=>ce(Y.target.value)})]})]}),k.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[k.jsx("button",{type:"button",disabled:!le,"aria-disabled":!le,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500 disabled:cursor-not-allowed disabled:opacity-60",onClick:Ye,children:q?n("common.save")??"Guardar":n("common.add")??"Aadir"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:be,children:n("common.cancel")??"Cancelar"}),le?null:k.jsx("div",{className:"flex items-center text-sm text-slate-600 dark:text-slate-300",children:n("subscriptions.helpIncomplete")??"Completa nombre, importe y fecha."})]})]})})]}):null]})}function VM(){const{state:t,setSettings:e}=Dl(),{t:n,language:r}=ps();function s(p){e({...t.settings,language:p})}function a(p){e({...t.settings,notificationsEnabled:p})}function l(p){const g=Number(p),v=Number.isFinite(g)?Math.max(0,Math.min(30,Math.floor(g))):0;e({...t.settings,notifyDaysBefore:v})}function u(p){e({...t.settings,currencyDisplayMode:p})}function d(p){e({...t.settings,baseCurrency:String(p||"USD").trim().toUpperCase()})}return k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("settings.languageTitle")??"Idioma"}),k.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n("settings.languageDescription")??"Elige el idioma de la interfaz."}),k.jsx("div",{className:"mt-3",children:k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:r,onChange:p=>s(p.target.value),children:[k.jsx("option",{value:"es",children:n("common.language.es")??"Espaol"}),k.jsx("option",{value:"en",children:n("common.language.en")??"English"})]})})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("settings.alertsTitle")??"Alertas"}),k.jsxs("div",{className:"mt-3 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[k.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold",children:[k.jsx("input",{type:"checkbox",checked:t.settings.notificationsEnabled,onChange:p=>a(p.target.checked),className:"h-4 w-4"}),n("settings.enableNotifications")??"Activar notificaciones"]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("settings.notifyDaysBefore")??"Avisar (das antes)"}),k.jsx("input",{type:"number",min:0,max:30,className:"w-40 rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:t.settings.notifyDaysBefore,onChange:p=>l(p.target.value),disabled:!t.settings.notificationsEnabled})]})]}),k.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n("settings.alertsHint")??"Las alertas se muestran como notificaciones del navegador."})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("settings.currencyTitle")??"Moneda"}),k.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("settings.displayAmounts")??"Mostrar importes"}),k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:t.settings.currencyDisplayMode,onChange:p=>u(p.target.value),children:[k.jsx("option",{value:"original",children:n("settings.displayOriginal")??"Con sus monedas originales"}),k.jsx("option",{value:"convertToBase",children:n("settings.displayConvert")??"Convertir a una moneda nica"})]})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("settings.baseCurrency")??"Moneda base"}),k.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 disabled:opacity-60 dark:border-slate-700 dark:bg-slate-950",value:t.settings.baseCurrency,onChange:p=>d(p.target.value),disabled:t.settings.currencyDisplayMode!=="convertToBase",children:Pi.map(p=>k.jsxs("option",{value:p.code,children:[p.code," (",p.symbol,")  ",p.names[r]]},p.code))})]})]}),k.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n("settings.currencyHint")??"Si eliges moneda nica, los totales y grficos se convierten a la moneda base."})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-lg font-bold",children:n("settings.googleCalendarTitle")??"Google Calendar"}),k.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:n("settings.googleCalendarBody")??"Se abre en una pestaa por seguridad (Google Calendar no se puede embeber en el panel)."}),k.jsx("div",{className:"mt-4",children:k.jsx("a",{className:"inline-flex rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500",href:"https://calendar.google.com/calendar/u/0/r",target:"_blank",rel:"noreferrer",children:n("settings.openGoogleCalendar")??"Abrir Google Calendar"})})]})]})}const YM=[{path:"/",element:k.jsx(M_,{}),children:[{path:"/",element:k.jsx(Fg,{})},{path:"/dashboard",element:k.jsx(Fg,{})},{path:"/subscriptions",element:k.jsx(WM,{})},{path:"/settings",element:k.jsx(VM,{})}]}],XM=N1(YM);function GM(){const{t}=ps();return k.jsx("div",{className:"p-4 text-sm",children:t("common.loading")??"Loading"})}yx.createRoot(document.getElementById("root")).render(k.jsx(Ug.StrictMode,{children:k.jsx(__,{children:k.jsx(N.Suspense,{fallback:k.jsx(GM,{}),children:k.jsx(W1,{router:XM})})})}));
