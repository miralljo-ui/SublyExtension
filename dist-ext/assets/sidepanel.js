function gx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Vg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bu={exports:{}},so={},wu={exports:{}},je={};var hp;function yx(){if(hp)return je;hp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function S(z,V,ue){this.props=z,this.context=V,this.refs=w,this.updater=ue||x}S.prototype.isReactComponent={},S.prototype.setState=function(z,V){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,V,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=S.prototype;function D(z,V,ue){this.props=z,this.context=V,this.refs=w,this.updater=ue||x}var M=D.prototype=new C;M.constructor=D,b(M,S.prototype),M.isPureReactComponent=!0;var L=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function A(z,V,ue){var le,ge={},_e=null,Oe=null;if(V!=null)for(le in V.ref!==void 0&&(Oe=V.ref),V.key!==void 0&&(_e=""+V.key),V)N.call(V,le)&&!E.hasOwnProperty(le)&&(ge[le]=V[le]);var Le=arguments.length-2;if(Le===1)ge.children=ue;else if(1<Le){for(var $e=Array(Le),ht=0;ht<Le;ht++)$e[ht]=arguments[ht+2];ge.children=$e}if(z&&z.defaultProps)for(le in Le=z.defaultProps,Le)ge[le]===void 0&&(ge[le]=Le[le]);return{$$typeof:t,type:z,key:_e,ref:Oe,props:ge,_owner:j.current}}function W(z,V){return{$$typeof:t,type:z.type,key:V,ref:z.ref,props:z.props,_owner:z._owner}}function X(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function q(z){var V={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return V[ue]})}var Q=/\/+/g;function ae(z,V){return typeof z=="object"&&z!==null&&z.key!=null?q(""+z.key):V.toString(36)}function K(z,V,ue,le,ge){var _e=typeof z;(_e==="undefined"||_e==="boolean")&&(z=null);var Oe=!1;if(z===null)Oe=!0;else switch(_e){case"string":case"number":Oe=!0;break;case"object":switch(z.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=z,ge=ge(Oe),z=le===""?"."+ae(Oe,0):le,L(ge)?(ue="",z!=null&&(ue=z.replace(Q,"$&/")+"/"),K(ge,V,ue,"",function(ht){return ht})):ge!=null&&(X(ge)&&(ge=W(ge,ue+(!ge.key||Oe&&Oe.key===ge.key?"":(""+ge.key).replace(Q,"$&/")+"/")+z)),V.push(ge)),1;if(Oe=0,le=le===""?".":le+":",L(z))for(var Le=0;Le<z.length;Le++){_e=z[Le];var $e=le+ae(_e,Le);Oe+=K(_e,V,ue,$e,ge)}else if($e=y(z),typeof $e=="function")for(z=$e.call(z),Le=0;!(_e=z.next()).done;)_e=_e.value,$e=le+ae(_e,Le++),Oe+=K(_e,V,ue,$e,ge);else if(_e==="object")throw V=String(z),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Oe}function ne(z,V,ue){if(z==null)return z;var le=[],ge=0;return K(z,le,"","",function(_e){return V.call(ue,_e,ge++)}),le}function ce(z){if(z._status===-1){var V=z._result;V=V(),V.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=V)}if(z._status===1)return z._result.default;throw z._result}var de={current:null},Y={transition:null},re={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:Y,ReactCurrentOwner:j};function J(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:ne,forEach:function(z,V,ue){ne(z,function(){V.apply(this,arguments)},ue)},count:function(z){var V=0;return ne(z,function(){V++}),V},toArray:function(z){return ne(z,function(V){return V})||[]},only:function(z){if(!X(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},je.Component=S,je.Fragment=n,je.Profiler=s,je.PureComponent=D,je.StrictMode=r,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,je.act=J,je.cloneElement=function(z,V,ue){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var le=b({},z.props),ge=z.key,_e=z.ref,Oe=z._owner;if(V!=null){if(V.ref!==void 0&&(_e=V.ref,Oe=j.current),V.key!==void 0&&(ge=""+V.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for($e in V)N.call(V,$e)&&!E.hasOwnProperty($e)&&(le[$e]=V[$e]===void 0&&Le!==void 0?Le[$e]:V[$e])}var $e=arguments.length-2;if($e===1)le.children=ue;else if(1<$e){Le=Array($e);for(var ht=0;ht<$e;ht++)Le[ht]=arguments[ht+2];le.children=Le}return{$$typeof:t,type:z.type,key:ge,ref:_e,props:le,_owner:Oe}},je.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},je.createElement=A,je.createFactory=function(z){var V=A.bind(null,z);return V.type=z,V},je.createRef=function(){return{current:null}},je.forwardRef=function(z){return{$$typeof:c,render:z}},je.isValidElement=X,je.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:ce}},je.memo=function(z,V){return{$$typeof:f,type:z,compare:V===void 0?null:V}},je.startTransition=function(z){var V=Y.transition;Y.transition={};try{z()}finally{Y.transition=V}},je.unstable_act=J,je.useCallback=function(z,V){return de.current.useCallback(z,V)},je.useContext=function(z){return de.current.useContext(z)},je.useDebugValue=function(){},je.useDeferredValue=function(z){return de.current.useDeferredValue(z)},je.useEffect=function(z,V){return de.current.useEffect(z,V)},je.useId=function(){return de.current.useId()},je.useImperativeHandle=function(z,V,ue){return de.current.useImperativeHandle(z,V,ue)},je.useInsertionEffect=function(z,V){return de.current.useInsertionEffect(z,V)},je.useLayoutEffect=function(z,V){return de.current.useLayoutEffect(z,V)},je.useMemo=function(z,V){return de.current.useMemo(z,V)},je.useReducer=function(z,V,ue){return de.current.useReducer(z,V,ue)},je.useRef=function(z){return de.current.useRef(z)},je.useState=function(z){return de.current.useState(z)},je.useSyncExternalStore=function(z,V,ue){return de.current.useSyncExternalStore(z,V,ue)},je.useTransition=function(){return de.current.useTransition()},je.version="18.3.1",je}var pp;function pd(){return pp||(pp=1,wu.exports=yx()),wu.exports}var mp;function vx(){if(mp)return so;mp=1;var t=pd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var p,g={},y=null,x=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:c,key:y,ref:x,props:g,_owner:s.current}}return so.Fragment=n,so.jsx=l,so.jsxs=l,so}var gp;function xx(){return gp||(gp=1,bu.exports=vx()),bu.exports}var k=xx(),P=pd();const Yg=Vg(P),bx=gx({__proto__:null,default:Yg},[P]);var Wa={},_u={exports:{}},rn={},Su={exports:{}},ku={};var yp;function wx(){return yp||(yp=1,(function(t){function e(Y,re){var J=Y.length;Y.push(re);e:for(;0<J;){var z=J-1>>>1,V=Y[z];if(0<s(V,re))Y[z]=re,Y[J]=V,J=z;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var re=Y[0],J=Y.pop();if(J!==re){Y[0]=J;e:for(var z=0,V=Y.length,ue=V>>>1;z<ue;){var le=2*(z+1)-1,ge=Y[le],_e=le+1,Oe=Y[_e];if(0>s(ge,J))_e<V&&0>s(Oe,ge)?(Y[z]=Oe,Y[_e]=J,z=_e):(Y[z]=ge,Y[le]=J,z=le);else if(_e<V&&0>s(Oe,J))Y[z]=Oe,Y[_e]=J,z=_e;else break e}}return re}function s(Y,re){var J=Y.sortIndex-re.sortIndex;return J!==0?J:Y.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,g=null,y=3,x=!1,b=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Y){for(var re=n(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=Y)r(f),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(f)}}function L(Y){if(w=!1,M(Y),!b)if(n(d)!==null)b=!0,ce(N);else{var re=n(f);re!==null&&de(L,re.startTime-Y)}}function N(Y,re){b=!1,w&&(w=!1,C(A),A=-1),x=!0;var J=y;try{for(M(re),g=n(d);g!==null&&(!(g.expirationTime>re)||Y&&!q());){var z=g.callback;if(typeof z=="function"){g.callback=null,y=g.priorityLevel;var V=z(g.expirationTime<=re);re=t.unstable_now(),typeof V=="function"?g.callback=V:g===n(d)&&r(d),M(re)}else r(d);g=n(d)}if(g!==null)var ue=!0;else{var le=n(f);le!==null&&de(L,le.startTime-re),ue=!1}return ue}finally{g=null,y=J,x=!1}}var j=!1,E=null,A=-1,W=5,X=-1;function q(){return!(t.unstable_now()-X<W)}function Q(){if(E!==null){var Y=t.unstable_now();X=Y;var re=!0;try{re=E(!0,Y)}finally{re?ae():(j=!1,E=null)}}else j=!1}var ae;if(typeof D=="function")ae=function(){D(Q)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ne=K.port2;K.port1.onmessage=Q,ae=function(){ne.postMessage(null)}}else ae=function(){S(Q,0)};function ce(Y){E=Y,j||(j=!0,ae())}function de(Y,re){A=S(function(){Y(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,ce(N))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var J=y;y=re;try{return Y()}finally{y=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=y;y=Y;try{return re()}finally{y=J}},t.unstable_scheduleCallback=function(Y,re,J){var z=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?z+J:z):J=z,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=J+V,Y={id:p++,callback:re,priorityLevel:Y,startTime:J,expirationTime:V,sortIndex:-1},J>z?(Y.sortIndex=J,e(f,Y),n(d)===null&&Y===n(f)&&(w?(C(A),A=-1):w=!0,de(L,J-z))):(Y.sortIndex=V,e(d,Y),b||x||(b=!0,ce(N))),Y},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Y){var re=y;return function(){var J=y;y=re;try{return Y.apply(this,arguments)}finally{y=J}}}})(ku)),ku}var vp;function _x(){return vp||(vp=1,Su.exports=wx()),Su.exports}var xp;function Sx(){if(xp)return rn;xp=1;var t=pd(),e=_x();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(i){return d.call(g,i)?!0:d.call(p,i)?!1:f.test(i)?g[i]=!0:(p[i]=!0,!1)}function x(i,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,u,h){if(o===null||typeof o>"u"||x(i,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function w(i,o,u,h,m,v,_){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=_}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];S[o]=new w(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(C,D);S[o]=new w(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(C,D);S[o]=new w(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(C,D);S[o]=new w(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,o,u,h){var m=S.hasOwnProperty(o)?S[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,m,h)&&(u=null),h||m===null?y(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?i.setAttributeNS(h,o,u):i.setAttribute(o,u))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),q=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),Y=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var J=Object.assign,z;function V(i){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+i}var ue=!1;function le(i,o){if(!i||ue)return"";ue=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var h=H}Reflect.construct(i,[],o)}else{try{o.call()}catch(H){h=H}i.call(o.prototype)}else{try{throw Error()}catch(H){h=H}i()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),v=h.stack.split(`
`),_=m.length-1,R=v.length-1;1<=_&&0<=R&&m[_]!==v[R];)R--;for(;1<=_&&0<=R;_--,R--)if(m[_]!==v[R]){if(_!==1||R!==1)do if(_--,R--,0>R||m[_]!==v[R]){var O=`
`+m[_].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=_&&0<=R);break}}}finally{ue=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?V(i):""}function ge(i){switch(i.tag){case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return i=le(i.type,!1),i;case 11:return i=le(i.type.render,!1),i;case 1:return i=le(i.type,!0),i;default:return""}}function _e(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case j:return"Portal";case W:return"Profiler";case A:return"StrictMode";case ae:return"Suspense";case K:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case q:return(i.displayName||"Context")+".Consumer";case X:return(i._context.displayName||"Context")+".Provider";case Q:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ne:return o=i.displayName||null,o!==null?o:_e(i.type)||"Memo";case ce:o=i._payload,i=i._init;try{return _e(i(o))}catch{}}return null}function Oe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Le(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $e(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ht(i){var o=$e(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(_){h=""+_,v.call(this,_)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(_){h=""+_},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ht(i){i._valueTracker||(i._valueTracker=ht(i))}function He(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=$e(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function Be(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Wt(i,o){var u=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Mt(i,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Le(o.value!=null?o.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function At(i,o){o=o.checked,o!=null&&M(i,"checked",o,!1)}function In(i,o){At(i,o);var u=Le(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Er(i,o.type,u):o.hasOwnProperty("defaultValue")&&Er(i,o.type,Le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Hi(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Er(i,o,u){(o!=="number"||Be(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var qt=Array.isArray;function Vt(i,o,u,h){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Le(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function tr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Rr(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(qt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Le(u)}}function gn(i,o){var u=Le(o.value),h=Le(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function Pn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function nr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rr(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?nr(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Et,Rt=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,h,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Et=Et||document.createElement("div"),Et.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Et.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function wt(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(i){Pr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ir[o]=ir[i]})});function ui(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ir.hasOwnProperty(i)&&ir[i]?(""+o).trim():o+"px"}function Kt(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=ui(u,o[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,m):i[u]=m}}var sr=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yn(i,o){if(o){if(sr[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function G(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function Ee(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Re=null,ze=null,Se=null;function Xe(i){if(i=Ws(i)){if(typeof Re!="function")throw Error(n(280));var o=i.stateNode;o&&(o=sa(o),Re(i.stateNode,i.type,o))}}function Ne(i){ze?Se?Se.push(i):Se=[i]:ze=i}function it(){if(ze){var i=ze,o=Se;if(Se=ze=null,Xe(i),o)for(i=0;i<o.length;i++)Xe(o[i])}}function Dn(i,o){return i(o)}function or(){}var Bn=!1;function Dr(i,o,u){if(Bn)return i(o,u);Bn=!0;try{return Dn(i,o,u)}finally{Bn=!1,(ze!==null||Se!==null)&&(or(),it())}}function Un(i,o){var u=i.stateNode;if(u===null)return null;var h=sa(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Tr=!1;if(c)try{var T={};Object.defineProperty(T,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",T,T),window.removeEventListener("test",T,T)}catch{Tr=!1}function I(i,o,u,h,m,v,_,R,O){var H=Array.prototype.slice.call(arguments,3);try{o.apply(u,H)}catch(te){this.onError(te)}}var $=!1,Z=null,se=!1,be=null,he={onError:function(i){$=!0,Z=i}};function ve(i,o,u,h,m,v,_,R,O){$=!1,Z=null,I.apply(he,arguments)}function Ce(i,o,u,h,m,v,_,R,O){if(ve.apply(this,arguments),$){if($){var H=Z;$=!1,Z=null}else throw Error(n(198));se||(se=!0,be=H)}}function xe(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Te(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Me(i){if(xe(i)!==i)throw Error(n(188))}function Ye(i){var o=i.alternate;if(!o){if(o=xe(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,h=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Me(m),i;if(v===h)return Me(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==h.return)u=m,h=v;else{for(var _=!1,R=m.child;R;){if(R===u){_=!0,u=m,h=v;break}if(R===h){_=!0,h=m,u=v;break}R=R.sibling}if(!_){for(R=v.child;R;){if(R===u){_=!0,u=v,h=m;break}if(R===h){_=!0,h=v,u=m;break}R=R.sibling}if(!_)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function We(i){return i=Ye(i),i!==null?xt(i):null}function xt(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=xt(i);if(o!==null)return o;i=i.sibling}return null}var gt=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,Qt=e.unstable_requestPaint,Je=e.unstable_now,di=e.unstable_getCurrentPriorityLevel,vn=e.unstable_ImmediatePriority,ln=e.unstable_UserBlockingPriority,Nr=e.unstable_NormalPriority,fi=e.unstable_LowPriority,$n=e.unstable_IdlePriority,ar=null,Yt=null;function Ve(i){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ar,i,void 0,(i.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:lt,Ar=Math.log,lr=Math.LN2;function lt(i){return i>>>=0,i===0?32:31-(Ar(i)/lr|0)|0}var cr=64,hi=4194304;function pi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ho(i,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,m=i.suspendedLanes,v=i.pingedLanes,_=u&268435455;if(_!==0){var R=_&~m;R!==0?h=pi(R):(v&=_,v!==0&&(h=pi(v)))}else _=u&~m,_!==0?h=pi(_):v!==0&&(h=pi(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)u=31-tt(o),m=1<<u,h|=i[u],o&=~m;return h}function Oy(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zy(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var _=31-tt(v),R=1<<_,O=m[_];O===-1?((R&u)===0||(R&h)!==0)&&(m[_]=Oy(R,o)):O<=o&&(i.expiredLanes|=R),v&=~R}}function Ul(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Hd(){var i=cr;return cr<<=1,(cr&4194240)===0&&(cr=64),i}function $l(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Es(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-tt(o),i[o]=u}function Fy(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-tt(u),v=1<<m;o[m]=0,h[m]=-1,i[m]=-1,u&=~v}}function Hl(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-tt(u),m=1<<h;m&o|i[h]&o&&(i[h]|=o),u&=~m}}var Ze=0;function Wd(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Vd,Wl,Yd,Gd,Xd,Vl=!1,Wo=[],Lr=null,Or=null,zr=null,Rs=new Map,Ps=new Map,Fr=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qd(i,o){switch(i){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Rs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(o.pointerId)}}function Ds(i,o,u,h,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Ws(o),o!==null&&Wl(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Iy(i,o,u,h,m){switch(o){case"focusin":return Lr=Ds(Lr,i,o,u,h,m),!0;case"dragenter":return Or=Ds(Or,i,o,u,h,m),!0;case"mouseover":return zr=Ds(zr,i,o,u,h,m),!0;case"pointerover":var v=m.pointerId;return Rs.set(v,Ds(Rs.get(v)||null,i,o,u,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Ps.set(v,Ds(Ps.get(v)||null,i,o,u,h,m)),!0}return!1}function Kd(i){var o=mi(i.target);if(o!==null){var u=xe(o);if(u!==null){if(o=u.tag,o===13){if(o=Te(u),o!==null){i.blockedOn=o,Xd(i.priority,function(){Yd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vo(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Gl(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);ke=h,u.target.dispatchEvent(h),ke=null}else return o=Ws(u),o!==null&&Wl(o),i.blockedOn=u,!1;o.shift()}return!0}function Qd(i,o,u){Vo(i)&&u.delete(o)}function By(){Vl=!1,Lr!==null&&Vo(Lr)&&(Lr=null),Or!==null&&Vo(Or)&&(Or=null),zr!==null&&Vo(zr)&&(zr=null),Rs.forEach(Qd),Ps.forEach(Qd)}function Ts(i,o){i.blockedOn===o&&(i.blockedOn=null,Vl||(Vl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,By)))}function Ns(i){function o(m){return Ts(m,i)}if(0<Wo.length){Ts(Wo[0],i);for(var u=1;u<Wo.length;u++){var h=Wo[u];h.blockedOn===i&&(h.blockedOn=null)}}for(Lr!==null&&Ts(Lr,i),Or!==null&&Ts(Or,i),zr!==null&&Ts(zr,i),Rs.forEach(o),Ps.forEach(o),u=0;u<Fr.length;u++)h=Fr[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<Fr.length&&(u=Fr[0],u.blockedOn===null);)Kd(u),u.blockedOn===null&&Fr.shift()}var Wi=L.ReactCurrentBatchConfig,Yo=!0;function Uy(i,o,u,h){var m=Ze,v=Wi.transition;Wi.transition=null;try{Ze=1,Yl(i,o,u,h)}finally{Ze=m,Wi.transition=v}}function $y(i,o,u,h){var m=Ze,v=Wi.transition;Wi.transition=null;try{Ze=4,Yl(i,o,u,h)}finally{Ze=m,Wi.transition=v}}function Yl(i,o,u,h){if(Yo){var m=Gl(i,o,u,h);if(m===null)uc(i,o,h,Go,u),qd(i,h);else if(Iy(m,i,o,u,h))h.stopPropagation();else if(qd(i,h),o&4&&-1<jy.indexOf(i)){for(;m!==null;){var v=Ws(m);if(v!==null&&Vd(v),v=Gl(i,o,u,h),v===null&&uc(i,o,h,Go,u),v===m)break;m=v}m!==null&&h.stopPropagation()}else uc(i,o,h,null,u)}}var Go=null;function Gl(i,o,u,h){if(Go=null,i=Ee(h),i=mi(i),i!==null)if(o=xe(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Te(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Go=i,null}function Jd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(di()){case vn:return 1;case ln:return 4;case Nr:case fi:return 16;case $n:return 536870912;default:return 16}default:return 16}}var jr=null,Xl=null,Xo=null;function Zd(){if(Xo)return Xo;var i,o=Xl,u=o.length,h,m="value"in jr?jr.value:jr.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var _=u-i;for(h=1;h<=_&&o[u-h]===m[v-h];h++);return Xo=m.slice(i,1<h?1-h:void 0)}function qo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ko(){return!0}function ef(){return!1}function cn(i){function o(u,h,m,v,_){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=_,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ko:ef,this.isPropagationStopped=ef,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),o}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=cn(Vi),As=J({},Vi,{view:0,detail:0}),Hy=cn(As),Kl,Ql,Ls,Qo=J({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ls&&(Ls&&i.type==="mousemove"?(Kl=i.screenX-Ls.screenX,Ql=i.screenY-Ls.screenY):Ql=Kl=0,Ls=i),Kl)},movementY:function(i){return"movementY"in i?i.movementY:Ql}}),tf=cn(Qo),Wy=J({},Qo,{dataTransfer:0}),Vy=cn(Wy),Yy=J({},As,{relatedTarget:0}),Jl=cn(Yy),Gy=J({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xy=cn(Gy),qy=J({},Vi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ky=cn(qy),Qy=J({},Vi,{data:0}),nf=cn(Qy),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tv(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=ev[i])?!!o[i]:!1}function Zl(){return tv}var nv=J({},As,{key:function(i){if(i.key){var o=Jy[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=qo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zy[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(i){return i.type==="keypress"?qo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?qo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),rv=cn(nv),iv=J({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=cn(iv),sv=J({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),ov=cn(sv),av=J({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=cn(av),cv=J({},Qo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=cn(cv),dv=[9,13,27,32],ec=c&&"CompositionEvent"in window,Os=null;c&&"documentMode"in document&&(Os=document.documentMode);var fv=c&&"TextEvent"in window&&!Os,sf=c&&(!ec||Os&&8<Os&&11>=Os),of=" ",af=!1;function lf(i,o){switch(i){case"keyup":return dv.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Yi=!1;function hv(i,o){switch(i){case"compositionend":return cf(o);case"keypress":return o.which!==32?null:(af=!0,of);case"textInput":return i=o.data,i===of&&af?null:i;default:return null}}function pv(i,o){if(Yi)return i==="compositionend"||!ec&&lf(i,o)?(i=Zd(),Xo=Xl=jr=null,Yi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sf&&o.locale!=="ko"?null:o.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!mv[i.type]:o==="textarea"}function df(i,o,u,h){Ne(h),o=na(o,"onChange"),0<o.length&&(u=new ql("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var zs=null,Fs=null;function gv(i){Pf(i,0)}function Jo(i){var o=Qi(i);if(He(o))return i}function yv(i,o){if(i==="change")return o}var ff=!1;if(c){var tc;if(c){var nc="oninput"in document;if(!nc){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),nc=typeof hf.oninput=="function"}tc=nc}else tc=!1;ff=tc&&(!document.documentMode||9<document.documentMode)}function pf(){zs&&(zs.detachEvent("onpropertychange",mf),Fs=zs=null)}function mf(i){if(i.propertyName==="value"&&Jo(Fs)){var o=[];df(o,Fs,i,Ee(i)),Dr(gv,o)}}function vv(i,o,u){i==="focusin"?(pf(),zs=o,Fs=u,zs.attachEvent("onpropertychange",mf)):i==="focusout"&&pf()}function xv(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jo(Fs)}function bv(i,o){if(i==="click")return Jo(o)}function wv(i,o){if(i==="input"||i==="change")return Jo(o)}function _v(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Tn=typeof Object.is=="function"?Object.is:_v;function js(i,o){if(Tn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!d.call(o,m)||!Tn(i[m],o[m]))return!1}return!0}function gf(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yf(i,o){var u=gf(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=gf(u)}}function vf(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vf(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function xf(){for(var i=window,o=Be();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Be(i.document)}return o}function rc(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function Sv(i){var o=xf(),u=i.focusedElem,h=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&vf(u.ownerDocument.documentElement,u)){if(h!==null&&rc(u)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!i.extend&&v>h&&(m=h,h=v,v=m),m=yf(u,v);var _=yf(u,h);m&&_&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>h?(i.addRange(o),i.extend(_.node,_.offset)):(o.setEnd(_.node,_.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var kv=c&&"documentMode"in document&&11>=document.documentMode,Gi=null,ic=null,Is=null,sc=!1;function bf(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;sc||Gi==null||Gi!==Be(h)||(h=Gi,"selectionStart"in h&&rc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Is&&js(Is,h)||(Is=h,h=na(ic,"onSelect"),0<h.length&&(o=new ql("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=Gi)))}function Zo(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Xi={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},oc={},wf={};c&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function ea(i){if(oc[i])return oc[i];if(!Xi[i])return i;var o=Xi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in wf)return oc[i]=o[u];return i}var _f=ea("animationend"),Sf=ea("animationiteration"),kf=ea("animationstart"),Cf=ea("transitionend"),Mf=new Map,Ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(i,o){Mf.set(i,o),a(o,[i])}for(var ac=0;ac<Ef.length;ac++){var lc=Ef[ac],Cv=lc.toLowerCase(),Mv=lc[0].toUpperCase()+lc.slice(1);Ir(Cv,"on"+Mv)}Ir(_f,"onAnimationEnd"),Ir(Sf,"onAnimationIteration"),Ir(kf,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Cf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function Rf(i,o,u){var h=i.type||"unknown-event";i.currentTarget=u,Ce(h,o,void 0,i),i.currentTarget=null}function Pf(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var _=h.length-1;0<=_;_--){var R=h[_],O=R.instance,H=R.currentTarget;if(R=R.listener,O!==v&&m.isPropagationStopped())break e;Rf(m,R,H),v=O}else for(_=0;_<h.length;_++){if(R=h[_],O=R.instance,H=R.currentTarget,R=R.listener,O!==v&&m.isPropagationStopped())break e;Rf(m,R,H),v=O}}}if(se)throw i=be,se=!1,be=null,i}function st(i,o){var u=o[gc];u===void 0&&(u=o[gc]=new Set);var h=i+"__bubble";u.has(h)||(Df(o,i,2,!1),u.add(h))}function cc(i,o,u){var h=0;o&&(h|=4),Df(u,i,h,o)}var ta="_reactListening"+Math.random().toString(36).slice(2);function Us(i){if(!i[ta]){i[ta]=!0,r.forEach(function(u){u!=="selectionchange"&&(Ev.has(u)||cc(u,!1,i),cc(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ta]||(o[ta]=!0,cc("selectionchange",!1,o))}}function Df(i,o,u,h){switch(Jd(o)){case 1:var m=Uy;break;case 4:m=$y;break;default:m=Yl}u=m.bind(null,o,u,i),m=void 0,!Tr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function uc(i,o,u,h,m){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var _=h.tag;if(_===3||_===4){var R=h.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(_===4)for(_=h.return;_!==null;){var O=_.tag;if((O===3||O===4)&&(O=_.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;_=_.return}for(;R!==null;){if(_=mi(R),_===null)return;if(O=_.tag,O===5||O===6){h=v=_;continue e}R=R.parentNode}}h=h.return}Dr(function(){var H=v,te=Ee(u),ie=[];e:{var ee=Mf.get(i);if(ee!==void 0){var fe=ql,me=i;switch(i){case"keypress":if(qo(u)===0)break e;case"keydown":case"keyup":fe=rv;break;case"focusin":me="focus",fe=Jl;break;case"focusout":me="blur",fe=Jl;break;case"beforeblur":case"afterblur":fe=Jl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=ov;break;case _f:case Sf:case kf:fe=Xy;break;case Cf:fe=lv;break;case"scroll":fe=Hy;break;case"wheel":fe=uv;break;case"copy":case"cut":case"paste":fe=Ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=rf}var ye=(o&4)!==0,yt=!ye&&i==="scroll",B=ye?ee!==null?ee+"Capture":null:ee;ye=[];for(var F=H,U;F!==null;){U=F;var oe=U.stateNode;if(U.tag===5&&oe!==null&&(U=oe,B!==null&&(oe=Un(F,B),oe!=null&&ye.push($s(F,oe,U)))),yt)break;F=F.return}0<ye.length&&(ee=new fe(ee,me,null,u,te),ie.push({event:ee,listeners:ye}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ee&&u!==ke&&(me=u.relatedTarget||u.fromElement)&&(mi(me)||me[ur]))break e;if((fe||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,fe?(me=u.relatedTarget||u.toElement,fe=H,me=me?mi(me):null,me!==null&&(yt=xe(me),me!==yt||me.tag!==5&&me.tag!==6)&&(me=null)):(fe=null,me=H),fe!==me)){if(ye=tf,oe="onMouseLeave",B="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ye=rf,oe="onPointerLeave",B="onPointerEnter",F="pointer"),yt=fe==null?ee:Qi(fe),U=me==null?ee:Qi(me),ee=new ye(oe,F+"leave",fe,u,te),ee.target=yt,ee.relatedTarget=U,oe=null,mi(te)===H&&(ye=new ye(B,F+"enter",me,u,te),ye.target=U,ye.relatedTarget=yt,oe=ye),yt=oe,fe&&me)t:{for(ye=fe,B=me,F=0,U=ye;U;U=qi(U))F++;for(U=0,oe=B;oe;oe=qi(oe))U++;for(;0<F-U;)ye=qi(ye),F--;for(;0<U-F;)B=qi(B),U--;for(;F--;){if(ye===B||B!==null&&ye===B.alternate)break t;ye=qi(ye),B=qi(B)}ye=null}else ye=null;fe!==null&&Tf(ie,ee,fe,ye,!1),me!==null&&yt!==null&&Tf(ie,yt,me,ye,!0)}}e:{if(ee=H?Qi(H):window,fe=ee.nodeName&&ee.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ee.type==="file")var we=yv;else if(uf(ee))if(ff)we=wv;else{we=xv;var Pe=vv}else(fe=ee.nodeName)&&fe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(we=bv);if(we&&(we=we(i,H))){df(ie,we,u,te);break e}Pe&&Pe(i,ee,H),i==="focusout"&&(Pe=ee._wrapperState)&&Pe.controlled&&ee.type==="number"&&Er(ee,"number",ee.value)}switch(Pe=H?Qi(H):window,i){case"focusin":(uf(Pe)||Pe.contentEditable==="true")&&(Gi=Pe,ic=H,Is=null);break;case"focusout":Is=ic=Gi=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,bf(ie,u,te);break;case"selectionchange":if(kv)break;case"keydown":case"keyup":bf(ie,u,te)}var De;if(ec)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Yi?lf(i,u)&&(Ae="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(sf&&u.locale!=="ko"&&(Yi||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Yi&&(De=Zd()):(jr=te,Xl="value"in jr?jr.value:jr.textContent,Yi=!0)),Pe=na(H,Ae),0<Pe.length&&(Ae=new nf(Ae,i,null,u,te),ie.push({event:Ae,listeners:Pe}),De?Ae.data=De:(De=cf(u),De!==null&&(Ae.data=De)))),(De=fv?hv(i,u):pv(i,u))&&(H=na(H,"onBeforeInput"),0<H.length&&(te=new nf("onBeforeInput","beforeinput",null,u,te),ie.push({event:te,listeners:H}),te.data=De))}Pf(ie,o)})}function $s(i,o,u){return{instance:i,listener:o,currentTarget:u}}function na(i,o){for(var u=o+"Capture",h=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Un(i,u),v!=null&&h.unshift($s(i,v,m)),v=Un(i,o),v!=null&&h.push($s(i,v,m))),i=i.return}return h}function qi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Tf(i,o,u,h,m){for(var v=o._reactName,_=[];u!==null&&u!==h;){var R=u,O=R.alternate,H=R.stateNode;if(O!==null&&O===h)break;R.tag===5&&H!==null&&(R=H,m?(O=Un(u,v),O!=null&&_.unshift($s(u,O,R))):m||(O=Un(u,v),O!=null&&_.push($s(u,O,R)))),u=u.return}_.length!==0&&i.push({event:o,listeners:_})}var Rv=/\r\n?/g,Pv=/\u0000|\uFFFD/g;function Nf(i){return(typeof i=="string"?i:""+i).replace(Rv,`
`).replace(Pv,"")}function ra(i,o,u){if(o=Nf(o),Nf(i)!==o&&u)throw Error(n(425))}function ia(){}var dc=null,fc=null;function hc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Af=typeof Promise=="function"?Promise:void 0,Tv=typeof queueMicrotask=="function"?queueMicrotask:typeof Af<"u"?function(i){return Af.resolve(null).then(i).catch(Nv)}:pc;function Nv(i){setTimeout(function(){throw i})}function mc(i,o){var u=o,h=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){i.removeChild(m),Ns(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);Ns(o)}function Br(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Lf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ki,Hs="__reactProps$"+Ki,ur="__reactContainer$"+Ki,gc="__reactEvents$"+Ki,Av="__reactListeners$"+Ki,Lv="__reactHandles$"+Ki;function mi(i){var o=i[Hn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ur]||u[Hn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Lf(i);i!==null;){if(u=i[Hn])return u;i=Lf(i)}return o}i=u,u=i.parentNode}return null}function Ws(i){return i=i[Hn]||i[ur],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Qi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function sa(i){return i[Hs]||null}var yc=[],Ji=-1;function Ur(i){return{current:i}}function ot(i){0>Ji||(i.current=yc[Ji],yc[Ji]=null,Ji--)}function rt(i,o){Ji++,yc[Ji]=i.current,i.current=o}var $r={},zt=Ur($r),Jt=Ur(!1),gi=$r;function Zi(i,o){var u=i.type.contextTypes;if(!u)return $r;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Zt(i){return i=i.childContextTypes,i!=null}function oa(){ot(Jt),ot(zt)}function Of(i,o,u){if(zt.current!==$r)throw Error(n(168));rt(zt,o),rt(Jt,u)}function zf(i,o,u){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(n(108,Oe(i)||"Unknown",m));return J({},u,h)}function aa(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||$r,gi=zt.current,rt(zt,i),rt(Jt,Jt.current),!0}function Ff(i,o,u){var h=i.stateNode;if(!h)throw Error(n(169));u?(i=zf(i,o,gi),h.__reactInternalMemoizedMergedChildContext=i,ot(Jt),ot(zt),rt(zt,i)):ot(Jt),rt(Jt,u)}var dr=null,la=!1,vc=!1;function jf(i){dr===null?dr=[i]:dr.push(i)}function Ov(i){la=!0,jf(i)}function Hr(){if(!vc&&dr!==null){vc=!0;var i=0,o=Ze;try{var u=dr;for(Ze=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}dr=null,la=!1}catch(m){throw dr!==null&&(dr=dr.slice(i+1)),gt(vn,Hr),m}finally{Ze=o,vc=!1}}return null}var es=[],ts=0,ca=null,ua=0,xn=[],bn=0,yi=null,fr=1,hr="";function vi(i,o){es[ts++]=ua,es[ts++]=ca,ca=i,ua=o}function If(i,o,u){xn[bn++]=fr,xn[bn++]=hr,xn[bn++]=yi,yi=i;var h=fr;i=hr;var m=32-tt(h)-1;h&=~(1<<m),u+=1;var v=32-tt(o)+m;if(30<v){var _=m-m%5;v=(h&(1<<_)-1).toString(32),h>>=_,m-=_,fr=1<<32-tt(o)+m|u<<m|h,hr=v+i}else fr=1<<v|u<<m|h,hr=i}function xc(i){i.return!==null&&(vi(i,1),If(i,1,0))}function bc(i){for(;i===ca;)ca=es[--ts],es[ts]=null,ua=es[--ts],es[ts]=null;for(;i===yi;)yi=xn[--bn],xn[bn]=null,hr=xn[--bn],xn[bn]=null,fr=xn[--bn],xn[bn]=null}var un=null,dn=null,ct=!1,Nn=null;function Bf(i,o){var u=kn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Uf(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,un=i,dn=Br(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,un=i,dn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=yi!==null?{id:fr,overflow:hr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=kn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,un=i,dn=null,!0):!1;default:return!1}}function wc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function _c(i){if(ct){var o=dn;if(o){var u=o;if(!Uf(i,o)){if(wc(i))throw Error(n(418));o=Br(u.nextSibling);var h=un;o&&Uf(i,o)?Bf(h,u):(i.flags=i.flags&-4097|2,ct=!1,un=i)}}else{if(wc(i))throw Error(n(418));i.flags=i.flags&-4097|2,ct=!1,un=i}}}function $f(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;un=i}function da(i){if(i!==un)return!1;if(!ct)return $f(i),ct=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!hc(i.type,i.memoizedProps)),o&&(o=dn)){if(wc(i))throw Hf(),Error(n(418));for(;o;)Bf(i,o),o=Br(o.nextSibling)}if($f(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){dn=Br(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}dn=null}}else dn=un?Br(i.stateNode.nextSibling):null;return!0}function Hf(){for(var i=dn;i;)i=Br(i.nextSibling)}function ns(){dn=un=null,ct=!1}function Sc(i){Nn===null?Nn=[i]:Nn.push(i)}var zv=L.ReactCurrentBatchConfig;function Vs(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,i));var m=h,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(_){var R=m.refs;_===null?delete R[v]:R[v]=_},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function fa(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Wf(i){var o=i._init;return o(i._payload)}function Vf(i){function o(B,F){if(i){var U=B.deletions;U===null?(B.deletions=[F],B.flags|=16):U.push(F)}}function u(B,F){if(!i)return null;for(;F!==null;)o(B,F),F=F.sibling;return null}function h(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function m(B,F){return B=Qr(B,F),B.index=0,B.sibling=null,B}function v(B,F,U){return B.index=U,i?(U=B.alternate,U!==null?(U=U.index,U<F?(B.flags|=2,F):U):(B.flags|=2,F)):(B.flags|=1048576,F)}function _(B){return i&&B.alternate===null&&(B.flags|=2),B}function R(B,F,U,oe){return F===null||F.tag!==6?(F=pu(U,B.mode,oe),F.return=B,F):(F=m(F,U),F.return=B,F)}function O(B,F,U,oe){var we=U.type;return we===E?te(B,F,U.props.children,oe,U.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ce&&Wf(we)===F.type)?(oe=m(F,U.props),oe.ref=Vs(B,F,U),oe.return=B,oe):(oe=za(U.type,U.key,U.props,null,B.mode,oe),oe.ref=Vs(B,F,U),oe.return=B,oe)}function H(B,F,U,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==U.containerInfo||F.stateNode.implementation!==U.implementation?(F=mu(U,B.mode,oe),F.return=B,F):(F=m(F,U.children||[]),F.return=B,F)}function te(B,F,U,oe,we){return F===null||F.tag!==7?(F=Mi(U,B.mode,oe,we),F.return=B,F):(F=m(F,U),F.return=B,F)}function ie(B,F,U){if(typeof F=="string"&&F!==""||typeof F=="number")return F=pu(""+F,B.mode,U),F.return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return U=za(F.type,F.key,F.props,null,B.mode,U),U.ref=Vs(B,null,F),U.return=B,U;case j:return F=mu(F,B.mode,U),F.return=B,F;case ce:var oe=F._init;return ie(B,oe(F._payload),U)}if(qt(F)||re(F))return F=Mi(F,B.mode,U,null),F.return=B,F;fa(B,F)}return null}function ee(B,F,U,oe){var we=F!==null?F.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return we!==null?null:R(B,F,""+U,oe);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return U.key===we?O(B,F,U,oe):null;case j:return U.key===we?H(B,F,U,oe):null;case ce:return we=U._init,ee(B,F,we(U._payload),oe)}if(qt(U)||re(U))return we!==null?null:te(B,F,U,oe,null);fa(B,U)}return null}function fe(B,F,U,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get(U)||null,R(F,B,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:return B=B.get(oe.key===null?U:oe.key)||null,O(F,B,oe,we);case j:return B=B.get(oe.key===null?U:oe.key)||null,H(F,B,oe,we);case ce:var Pe=oe._init;return fe(B,F,U,Pe(oe._payload),we)}if(qt(oe)||re(oe))return B=B.get(U)||null,te(F,B,oe,we,null);fa(F,oe)}return null}function me(B,F,U,oe){for(var we=null,Pe=null,De=F,Ae=F=0,Nt=null;De!==null&&Ae<U.length;Ae++){De.index>Ae?(Nt=De,De=null):Nt=De.sibling;var qe=ee(B,De,U[Ae],oe);if(qe===null){De===null&&(De=Nt);break}i&&De&&qe.alternate===null&&o(B,De),F=v(qe,F,Ae),Pe===null?we=qe:Pe.sibling=qe,Pe=qe,De=Nt}if(Ae===U.length)return u(B,De),ct&&vi(B,Ae),we;if(De===null){for(;Ae<U.length;Ae++)De=ie(B,U[Ae],oe),De!==null&&(F=v(De,F,Ae),Pe===null?we=De:Pe.sibling=De,Pe=De);return ct&&vi(B,Ae),we}for(De=h(B,De);Ae<U.length;Ae++)Nt=fe(De,B,Ae,U[Ae],oe),Nt!==null&&(i&&Nt.alternate!==null&&De.delete(Nt.key===null?Ae:Nt.key),F=v(Nt,F,Ae),Pe===null?we=Nt:Pe.sibling=Nt,Pe=Nt);return i&&De.forEach(function(Jr){return o(B,Jr)}),ct&&vi(B,Ae),we}function ye(B,F,U,oe){var we=re(U);if(typeof we!="function")throw Error(n(150));if(U=we.call(U),U==null)throw Error(n(151));for(var Pe=we=null,De=F,Ae=F=0,Nt=null,qe=U.next();De!==null&&!qe.done;Ae++,qe=U.next()){De.index>Ae?(Nt=De,De=null):Nt=De.sibling;var Jr=ee(B,De,qe.value,oe);if(Jr===null){De===null&&(De=Nt);break}i&&De&&Jr.alternate===null&&o(B,De),F=v(Jr,F,Ae),Pe===null?we=Jr:Pe.sibling=Jr,Pe=Jr,De=Nt}if(qe.done)return u(B,De),ct&&vi(B,Ae),we;if(De===null){for(;!qe.done;Ae++,qe=U.next())qe=ie(B,qe.value,oe),qe!==null&&(F=v(qe,F,Ae),Pe===null?we=qe:Pe.sibling=qe,Pe=qe);return ct&&vi(B,Ae),we}for(De=h(B,De);!qe.done;Ae++,qe=U.next())qe=fe(De,B,Ae,qe.value,oe),qe!==null&&(i&&qe.alternate!==null&&De.delete(qe.key===null?Ae:qe.key),F=v(qe,F,Ae),Pe===null?we=qe:Pe.sibling=qe,Pe=qe);return i&&De.forEach(function(mx){return o(B,mx)}),ct&&vi(B,Ae),we}function yt(B,F,U,oe){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case N:e:{for(var we=U.key,Pe=F;Pe!==null;){if(Pe.key===we){if(we=U.type,we===E){if(Pe.tag===7){u(B,Pe.sibling),F=m(Pe,U.props.children),F.return=B,B=F;break e}}else if(Pe.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ce&&Wf(we)===Pe.type){u(B,Pe.sibling),F=m(Pe,U.props),F.ref=Vs(B,Pe,U),F.return=B,B=F;break e}u(B,Pe);break}else o(B,Pe);Pe=Pe.sibling}U.type===E?(F=Mi(U.props.children,B.mode,oe,U.key),F.return=B,B=F):(oe=za(U.type,U.key,U.props,null,B.mode,oe),oe.ref=Vs(B,F,U),oe.return=B,B=oe)}return _(B);case j:e:{for(Pe=U.key;F!==null;){if(F.key===Pe)if(F.tag===4&&F.stateNode.containerInfo===U.containerInfo&&F.stateNode.implementation===U.implementation){u(B,F.sibling),F=m(F,U.children||[]),F.return=B,B=F;break e}else{u(B,F);break}else o(B,F);F=F.sibling}F=mu(U,B.mode,oe),F.return=B,B=F}return _(B);case ce:return Pe=U._init,yt(B,F,Pe(U._payload),oe)}if(qt(U))return me(B,F,U,oe);if(re(U))return ye(B,F,U,oe);fa(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,F!==null&&F.tag===6?(u(B,F.sibling),F=m(F,U),F.return=B,B=F):(u(B,F),F=pu(U,B.mode,oe),F.return=B,B=F),_(B)):u(B,F)}return yt}var rs=Vf(!0),Yf=Vf(!1),ha=Ur(null),pa=null,is=null,kc=null;function Cc(){kc=is=pa=null}function Mc(i){var o=ha.current;ot(ha),i._currentValue=o}function Ec(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function ss(i,o){pa=i,kc=is=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(en=!0),i.firstContext=null)}function wn(i){var o=i._currentValue;if(kc!==i)if(i={context:i,memoizedValue:o,next:null},is===null){if(pa===null)throw Error(n(308));is=i,pa.dependencies={lanes:0,firstContext:i}}else is=is.next=i;return o}var xi=null;function Rc(i){xi===null?xi=[i]:xi.push(i)}function Gf(i,o,u,h){var m=o.interleaved;return m===null?(u.next=u,Rc(o)):(u.next=m.next,m.next=u),o.interleaved=u,pr(i,h)}function pr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Wr=!1;function Pc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function mr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Vr(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ge&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,pr(i,u)}return m=h.interleaved,m===null?(o.next=o,Rc(h)):(o.next=m.next,m.next=o),h.interleaved=o,pr(i,u)}function ma(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Hl(i,u)}}function qf(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var _={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=_:v=v.next=_,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function ga(i,o,u,h){var m=i.updateQueue;Wr=!1;var v=m.firstBaseUpdate,_=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var O=R,H=O.next;O.next=null,_===null?v=H:_.next=H,_=O;var te=i.alternate;te!==null&&(te=te.updateQueue,R=te.lastBaseUpdate,R!==_&&(R===null?te.firstBaseUpdate=H:R.next=H,te.lastBaseUpdate=O))}if(v!==null){var ie=m.baseState;_=0,te=H=O=null,R=v;do{var ee=R.lane,fe=R.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:fe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var me=i,ye=R;switch(ee=o,fe=u,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){ie=me.call(fe,ie,ee);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,ee=typeof me=="function"?me.call(fe,ie,ee):me,ee==null)break e;ie=J({},ie,ee);break e;case 2:Wr=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[R]:ee.push(R))}else fe={eventTime:fe,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},te===null?(H=te=fe,O=ie):te=te.next=fe,_|=ee;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(O=ie),m.baseState=O,m.firstBaseUpdate=H,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do _|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);_i|=_,i.lanes=_,i.memoizedState=ie}}function Kf(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Ys={},Wn=Ur(Ys),Gs=Ur(Ys),Xs=Ur(Ys);function bi(i){if(i===Ys)throw Error(n(174));return i}function Dc(i,o){switch(rt(Xs,o),rt(Gs,i),rt(Wn,Ys),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:rr(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=rr(o,i)}ot(Wn),rt(Wn,o)}function os(){ot(Wn),ot(Gs),ot(Xs)}function Qf(i){bi(Xs.current);var o=bi(Wn.current),u=rr(o,i.type);o!==u&&(rt(Gs,i),rt(Wn,u))}function Tc(i){Gs.current===i&&(ot(Wn),ot(Gs))}var ut=Ur(0);function ya(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nc=[];function Ac(){for(var i=0;i<Nc.length;i++)Nc[i]._workInProgressVersionPrimary=null;Nc.length=0}var va=L.ReactCurrentDispatcher,Lc=L.ReactCurrentBatchConfig,wi=0,dt=null,_t=null,Dt=null,xa=!1,qs=!1,Ks=0,Fv=0;function Ft(){throw Error(n(321))}function Oc(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Tn(i[u],o[u]))return!1;return!0}function zc(i,o,u,h,m,v){if(wi=v,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,va.current=i===null||i.memoizedState===null?Uv:$v,i=u(h,m),qs){v=0;do{if(qs=!1,Ks=0,25<=v)throw Error(n(301));v+=1,Dt=_t=null,o.updateQueue=null,va.current=Hv,i=u(h,m)}while(qs)}if(va.current=_a,o=_t!==null&&_t.next!==null,wi=0,Dt=_t=dt=null,xa=!1,o)throw Error(n(300));return i}function Fc(){var i=Ks!==0;return Ks=0,i}function Vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?dt.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function _n(){if(_t===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var o=Dt===null?dt.memoizedState:Dt.next;if(o!==null)Dt=o,_t=i;else{if(i===null)throw Error(n(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Dt===null?dt.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function Qs(i,o){return typeof o=="function"?o(i):o}function jc(i){var o=_n(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=_t,m=h.baseQueue,v=u.pending;if(v!==null){if(m!==null){var _=m.next;m.next=v.next,v.next=_}h.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,h=h.baseState;var R=_=null,O=null,H=v;do{var te=H.lane;if((wi&te)===te)O!==null&&(O=O.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:i(h,H.action);else{var ie={lane:te,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};O===null?(R=O=ie,_=h):O=O.next=ie,dt.lanes|=te,_i|=te}H=H.next}while(H!==null&&H!==v);O===null?_=h:O.next=R,Tn(h,o.memoizedState)||(en=!0),o.memoizedState=h,o.baseState=_,o.baseQueue=O,u.lastRenderedState=h}if(i=u.interleaved,i!==null){m=i;do v=m.lane,dt.lanes|=v,_i|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Ic(i){var o=_n(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var _=m=m.next;do v=i(v,_.action),_=_.next;while(_!==m);Tn(v,o.memoizedState)||(en=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,h]}function Jf(){}function Zf(i,o){var u=dt,h=_n(),m=o(),v=!Tn(h.memoizedState,m);if(v&&(h.memoizedState=m,en=!0),h=h.queue,Bc(nh.bind(null,u,h,i),[i]),h.getSnapshot!==o||v||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,Js(9,th.bind(null,u,h,m,o),void 0,null),Tt===null)throw Error(n(349));(wi&30)!==0||eh(u,o,m)}return m}function eh(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function th(i,o,u,h){o.value=u,o.getSnapshot=h,rh(o)&&ih(i)}function nh(i,o,u){return u(function(){rh(o)&&ih(i)})}function rh(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Tn(i,u)}catch{return!0}}function ih(i){var o=pr(i,1);o!==null&&zn(o,i,1,-1)}function sh(i){var o=Vn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:i},o.queue=i,i=i.dispatch=Bv.bind(null,dt,i),[o.memoizedState,i]}function Js(i,o,u,h){return i={tag:i,create:o,destroy:u,deps:h,next:null},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i)),i}function oh(){return _n().memoizedState}function ba(i,o,u,h){var m=Vn();dt.flags|=i,m.memoizedState=Js(1|o,u,void 0,h===void 0?null:h)}function wa(i,o,u,h){var m=_n();h=h===void 0?null:h;var v=void 0;if(_t!==null){var _=_t.memoizedState;if(v=_.destroy,h!==null&&Oc(h,_.deps)){m.memoizedState=Js(o,u,v,h);return}}dt.flags|=i,m.memoizedState=Js(1|o,u,v,h)}function ah(i,o){return ba(8390656,8,i,o)}function Bc(i,o){return wa(2048,8,i,o)}function lh(i,o){return wa(4,2,i,o)}function ch(i,o){return wa(4,4,i,o)}function uh(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function dh(i,o,u){return u=u!=null?u.concat([i]):null,wa(4,4,uh.bind(null,o,i),u)}function Uc(){}function fh(i,o){var u=_n();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Oc(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function hh(i,o){var u=_n();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Oc(o,h[1])?h[0]:(i=i(),u.memoizedState=[i,o],i)}function ph(i,o,u){return(wi&21)===0?(i.baseState&&(i.baseState=!1,en=!0),i.memoizedState=u):(Tn(u,o)||(u=Hd(),dt.lanes|=u,_i|=u,i.baseState=!0),o)}function jv(i,o){var u=Ze;Ze=u!==0&&4>u?u:4,i(!0);var h=Lc.transition;Lc.transition={};try{i(!1),o()}finally{Ze=u,Lc.transition=h}}function mh(){return _n().memoizedState}function Iv(i,o,u){var h=qr(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},gh(i))yh(o,u);else if(u=Gf(i,o,u,h),u!==null){var m=Xt();zn(u,i,h,m),vh(u,o,h)}}function Bv(i,o,u){var h=qr(i),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(gh(i))yh(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var _=o.lastRenderedState,R=v(_,u);if(m.hasEagerState=!0,m.eagerState=R,Tn(R,_)){var O=o.interleaved;O===null?(m.next=m,Rc(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}u=Gf(i,o,m,h),u!==null&&(m=Xt(),zn(u,i,h,m),vh(u,o,h))}}function gh(i){var o=i.alternate;return i===dt||o!==null&&o===dt}function yh(i,o){qs=xa=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function vh(i,o,u){if((u&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Hl(i,u)}}var _a={readContext:wn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Uv={readContext:wn,useCallback:function(i,o){return Vn().memoizedState=[i,o===void 0?null:o],i},useContext:wn,useEffect:ah,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,ba(4194308,4,uh.bind(null,o,i),u)},useLayoutEffect:function(i,o){return ba(4194308,4,i,o)},useInsertionEffect:function(i,o){return ba(4,2,i,o)},useMemo:function(i,o){var u=Vn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var h=Vn();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=Iv.bind(null,dt,i),[h.memoizedState,i]},useRef:function(i){var o=Vn();return i={current:i},o.memoizedState=i},useState:sh,useDebugValue:Uc,useDeferredValue:function(i){return Vn().memoizedState=i},useTransition:function(){var i=sh(!1),o=i[0];return i=jv.bind(null,i[1]),Vn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var h=dt,m=Vn();if(ct){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Tt===null)throw Error(n(349));(wi&30)!==0||eh(h,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,ah(nh.bind(null,h,v,i),[i]),h.flags|=2048,Js(9,th.bind(null,h,v,u,o),void 0,null),u},useId:function(){var i=Vn(),o=Tt.identifierPrefix;if(ct){var u=hr,h=fr;u=(h&~(1<<32-tt(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ks++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Fv++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},$v={readContext:wn,useCallback:fh,useContext:wn,useEffect:Bc,useImperativeHandle:dh,useInsertionEffect:lh,useLayoutEffect:ch,useMemo:hh,useReducer:jc,useRef:oh,useState:function(){return jc(Qs)},useDebugValue:Uc,useDeferredValue:function(i){var o=_n();return ph(o,_t.memoizedState,i)},useTransition:function(){var i=jc(Qs)[0],o=_n().memoizedState;return[i,o]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:mh,unstable_isNewReconciler:!1},Hv={readContext:wn,useCallback:fh,useContext:wn,useEffect:Bc,useImperativeHandle:dh,useInsertionEffect:lh,useLayoutEffect:ch,useMemo:hh,useReducer:Ic,useRef:oh,useState:function(){return Ic(Qs)},useDebugValue:Uc,useDeferredValue:function(i){var o=_n();return _t===null?o.memoizedState=i:ph(o,_t.memoizedState,i)},useTransition:function(){var i=Ic(Qs)[0],o=_n().memoizedState;return[i,o]},useMutableSource:Jf,useSyncExternalStore:Zf,useId:mh,unstable_isNewReconciler:!1};function An(i,o){if(i&&i.defaultProps){o=J({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function $c(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:J({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Sa={isMounted:function(i){return(i=i._reactInternals)?xe(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var h=Xt(),m=qr(i),v=mr(h,m);v.payload=o,u!=null&&(v.callback=u),o=Vr(i,v,m),o!==null&&(zn(o,i,m,h),ma(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=Xt(),m=qr(i),v=mr(h,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Vr(i,v,m),o!==null&&(zn(o,i,m,h),ma(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Xt(),h=qr(i),m=mr(u,h);m.tag=2,o!=null&&(m.callback=o),o=Vr(i,m,h),o!==null&&(zn(o,i,h,u),ma(o,i,h))}};function xh(i,o,u,h,m,v,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,_):o.prototype&&o.prototype.isPureReactComponent?!js(u,h)||!js(m,v):!0}function bh(i,o,u){var h=!1,m=$r,v=o.contextType;return typeof v=="object"&&v!==null?v=wn(v):(m=Zt(o)?gi:zt.current,h=o.contextTypes,v=(h=h!=null)?Zi(i,m):$r),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Sa,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function wh(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&Sa.enqueueReplaceState(o,o.state,null)}function Hc(i,o,u,h){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Pc(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=wn(v):(v=Zt(o)?gi:zt.current,m.context=Zi(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&($c(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Sa.enqueueReplaceState(m,m.state,null),ga(i,u,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function as(i,o){try{var u="",h=o;do u+=ge(h),h=h.return;while(h);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Wc(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Vc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Wv=typeof WeakMap=="function"?WeakMap:Map;function _h(i,o,u){u=mr(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Da||(Da=!0,ou=h),Vc(i,o)},u}function Sh(i,o,u){u=mr(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){Vc(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Vc(i,o),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})}),u}function kh(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new Wv;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),i=ix.bind(null,i,o,u),o.then(i,i))}function Ch(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Mh(i,o,u,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=mr(-1,1),o.tag=2,Vr(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var Vv=L.ReactCurrentOwner,en=!1;function Gt(i,o,u,h){o.child=i===null?Yf(o,null,u,h):rs(o,i.child,u,h)}function Eh(i,o,u,h,m){u=u.render;var v=o.ref;return ss(o,m),h=zc(i,o,u,h,v,m),u=Fc(),i!==null&&!en?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,gr(i,o,m)):(ct&&u&&xc(o),o.flags|=1,Gt(i,o,h,m),o.child)}function Rh(i,o,u,h,m){if(i===null){var v=u.type;return typeof v=="function"&&!hu(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Ph(i,o,v,h,m)):(i=za(u.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var _=v.memoizedProps;if(u=u.compare,u=u!==null?u:js,u(_,h)&&i.ref===o.ref)return gr(i,o,m)}return o.flags|=1,i=Qr(v,h),i.ref=o.ref,i.return=o,o.child=i}function Ph(i,o,u,h,m){if(i!==null){var v=i.memoizedProps;if(js(v,h)&&i.ref===o.ref)if(en=!1,o.pendingProps=h=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(en=!0);else return o.lanes=i.lanes,gr(i,o,m)}return Yc(i,o,u,h,m)}function Dh(i,o,u){var h=o.pendingProps,m=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(cs,fn),fn|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,rt(cs,fn),fn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,rt(cs,fn),fn|=h}else v!==null?(h=v.baseLanes|u,o.memoizedState=null):h=u,rt(cs,fn),fn|=h;return Gt(i,o,m,u),o.child}function Th(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Yc(i,o,u,h,m){var v=Zt(u)?gi:zt.current;return v=Zi(o,v),ss(o,m),u=zc(i,o,u,h,v,m),h=Fc(),i!==null&&!en?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,gr(i,o,m)):(ct&&h&&xc(o),o.flags|=1,Gt(i,o,u,m),o.child)}function Nh(i,o,u,h,m){if(Zt(u)){var v=!0;aa(o)}else v=!1;if(ss(o,m),o.stateNode===null)Ca(i,o),bh(o,u,h),Hc(o,u,h,m),h=!0;else if(i===null){var _=o.stateNode,R=o.memoizedProps;_.props=R;var O=_.context,H=u.contextType;typeof H=="object"&&H!==null?H=wn(H):(H=Zt(u)?gi:zt.current,H=Zi(o,H));var te=u.getDerivedStateFromProps,ie=typeof te=="function"||typeof _.getSnapshotBeforeUpdate=="function";ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==h||O!==H)&&wh(o,_,h,H),Wr=!1;var ee=o.memoizedState;_.state=ee,ga(o,h,_,m),O=o.memoizedState,R!==h||ee!==O||Jt.current||Wr?(typeof te=="function"&&($c(o,u,te,h),O=o.memoizedState),(R=Wr||xh(o,u,R,h,ee,O,H))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),_.props=h,_.state=O,_.context=H,h=R):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,Xf(i,o),R=o.memoizedProps,H=o.type===o.elementType?R:An(o.type,R),_.props=H,ie=o.pendingProps,ee=_.context,O=u.contextType,typeof O=="object"&&O!==null?O=wn(O):(O=Zt(u)?gi:zt.current,O=Zi(o,O));var fe=u.getDerivedStateFromProps;(te=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==ie||ee!==O)&&wh(o,_,h,O),Wr=!1,ee=o.memoizedState,_.state=ee,ga(o,h,_,m);var me=o.memoizedState;R!==ie||ee!==me||Jt.current||Wr?(typeof fe=="function"&&($c(o,u,fe,h),me=o.memoizedState),(H=Wr||xh(o,u,H,h,ee,me,O)||!1)?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,me,O),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,me,O)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=me),_.props=h,_.state=me,_.context=O,h=H):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),h=!1)}return Gc(i,o,u,h,v,m)}function Gc(i,o,u,h,m,v){Th(i,o);var _=(o.flags&128)!==0;if(!h&&!_)return m&&Ff(o,u,!1),gr(i,o,v);h=o.stateNode,Vv.current=o;var R=_&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&_?(o.child=rs(o,i.child,null,v),o.child=rs(o,null,R,v)):Gt(i,o,R,v),o.memoizedState=h.state,m&&Ff(o,u,!0),o.child}function Ah(i){var o=i.stateNode;o.pendingContext?Of(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Of(i,o.context,!1),Dc(i,o.containerInfo)}function Lh(i,o,u,h,m){return ns(),Sc(m),o.flags|=256,Gt(i,o,u,h),o.child}var Xc={dehydrated:null,treeContext:null,retryLane:0};function qc(i){return{baseLanes:i,cachePool:null,transitions:null}}function Oh(i,o,u){var h=o.pendingProps,m=ut.current,v=!1,_=(o.flags&128)!==0,R;if((R=_)||(R=i!==null&&i.memoizedState===null?!1:(m&2)!==0),R?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),rt(ut,m&1),i===null)return _c(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(_=h.children,i=h.fallback,v?(h=o.mode,v=o.child,_={mode:"hidden",children:_},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=_):v=Fa(_,h,0,null),i=Mi(i,h,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=qc(u),o.memoizedState=Xc,i):Kc(o,_));if(m=i.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return Yv(i,o,_,h,R,m,u);if(v){v=h.fallback,_=o.mode,m=i.child,R=m.sibling;var O={mode:"hidden",children:h.children};return(_&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=Qr(m,O),h.subtreeFlags=m.subtreeFlags&14680064),R!==null?v=Qr(R,v):(v=Mi(v,_,u,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,_=i.child.memoizedState,_=_===null?qc(u):{baseLanes:_.baseLanes|u,cachePool:null,transitions:_.transitions},v.memoizedState=_,v.childLanes=i.childLanes&~u,o.memoizedState=Xc,h}return v=i.child,i=v.sibling,h=Qr(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=h,o.memoizedState=null,h}function Kc(i,o){return o=Fa({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function ka(i,o,u,h){return h!==null&&Sc(h),rs(o,i.child,null,u),i=Kc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Yv(i,o,u,h,m,v,_){if(u)return o.flags&256?(o.flags&=-257,h=Wc(Error(n(422))),ka(i,o,_,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=Fa({mode:"visible",children:h.children},m,0,null),v=Mi(v,m,_,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&rs(o,i.child,null,_),o.child.memoizedState=qc(_),o.memoizedState=Xc,v);if((o.mode&1)===0)return ka(i,o,_,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var R=h.dgst;return h=R,v=Error(n(419)),h=Wc(v,h,void 0),ka(i,o,_,h)}if(R=(_&i.childLanes)!==0,en||R){if(h=Tt,h!==null){switch(_&-_){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|_))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,pr(i,m),zn(h,i,m,-1))}return fu(),h=Wc(Error(n(421))),ka(i,o,_,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=sx.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,dn=Br(m.nextSibling),un=o,ct=!0,Nn=null,i!==null&&(xn[bn++]=fr,xn[bn++]=hr,xn[bn++]=yi,fr=i.id,hr=i.overflow,yi=o),o=Kc(o,h.children),o.flags|=4096,o)}function zh(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Ec(i.return,o,u)}function Qc(i,o,u,h,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=m)}function Fh(i,o,u){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(Gt(i,o,h.children,u),h=ut.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&zh(i,u,o);else if(i.tag===19)zh(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(rt(ut,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&ya(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Qc(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&ya(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Qc(o,!0,u,null,v);break;case"together":Qc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ca(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function gr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),_i|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Qr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Qr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Gv(i,o,u){switch(o.tag){case 3:Ah(o),ns();break;case 5:Qf(o);break;case 1:Zt(o.type)&&aa(o);break;case 4:Dc(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;rt(ha,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(rt(ut,ut.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Oh(i,o,u):(rt(ut,ut.current&1),i=gr(i,o,u),i!==null?i.sibling:null);rt(ut,ut.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Fh(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(ut,ut.current),h)break;return null;case 22:case 23:return o.lanes=0,Dh(i,o,u)}return gr(i,o,u)}var jh,Jc,Ih,Bh;jh=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Jc=function(){},Ih=function(i,o,u,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,bi(Wn.current);var v=null;switch(u){case"input":m=Wt(i,m),h=Wt(i,h),v=[];break;case"select":m=J({},m,{value:void 0}),h=J({},h,{value:void 0}),v=[];break;case"textarea":m=tr(i,m),h=tr(i,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=ia)}yn(u,h);var _;u=null;for(H in m)if(!h.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var R=m[H];for(_ in R)R.hasOwnProperty(_)&&(u||(u={}),u[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?v||(v=[]):(v=v||[]).push(H,null));for(H in h){var O=h[H];if(R=m?.[H],h.hasOwnProperty(H)&&O!==R&&(O!=null||R!=null))if(H==="style")if(R){for(_ in R)!R.hasOwnProperty(_)||O&&O.hasOwnProperty(_)||(u||(u={}),u[_]="");for(_ in O)O.hasOwnProperty(_)&&R[_]!==O[_]&&(u||(u={}),u[_]=O[_])}else u||(v||(v=[]),v.push(H,u)),u=O;else H==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,R=R?R.__html:void 0,O!=null&&R!==O&&(v=v||[]).push(H,O)):H==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push(H,""+O):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(O!=null&&H==="onScroll"&&st("scroll",i),v||R===O||(v=[])):(v=v||[]).push(H,O))}u&&(v=v||[]).push("style",u);var H=v;(o.updateQueue=H)&&(o.flags|=4)}},Bh=function(i,o,u,h){u!==h&&(o.flags|=4)};function Zs(i,o){if(!ct)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function jt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function Xv(i,o,u){var h=o.pendingProps;switch(bc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(o),null;case 1:return Zt(o.type)&&oa(),jt(o),null;case 3:return h=o.stateNode,os(),ot(Jt),ot(zt),Ac(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(da(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Nn!==null&&(cu(Nn),Nn=null))),Jc(i,o),jt(o),null;case 5:Tc(o);var m=bi(Xs.current);if(u=o.type,i!==null&&o.stateNode!=null)Ih(i,o,u,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return jt(o),null}if(i=bi(Wn.current),da(o)){h=o.stateNode,u=o.type;var v=o.memoizedProps;switch(h[Hn]=o,h[Hs]=v,i=(o.mode&1)!==0,u){case"dialog":st("cancel",h),st("close",h);break;case"iframe":case"object":case"embed":st("load",h);break;case"video":case"audio":for(m=0;m<Bs.length;m++)st(Bs[m],h);break;case"source":st("error",h);break;case"img":case"image":case"link":st("error",h),st("load",h);break;case"details":st("toggle",h);break;case"input":Mt(h,v),st("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},st("invalid",h);break;case"textarea":Rr(h,v),st("invalid",h)}yn(u,v),m=null;for(var _ in v)if(v.hasOwnProperty(_)){var R=v[_];_==="children"?typeof R=="string"?h.textContent!==R&&(v.suppressHydrationWarning!==!0&&ra(h.textContent,R,i),m=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&ra(h.textContent,R,i),m=["children",""+R]):s.hasOwnProperty(_)&&R!=null&&_==="onScroll"&&st("scroll",h)}switch(u){case"input":Ht(h),Hi(h,v,!0);break;case"textarea":Ht(h),Pn(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=ia)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{_=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=nr(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=_.createElement(u,{is:h.is}):(i=_.createElement(u),u==="select"&&(_=i,h.multiple?_.multiple=!0:h.size&&(_.size=h.size))):i=_.createElementNS(i,u),i[Hn]=o,i[Hs]=h,jh(i,o,!1,!1),o.stateNode=i;e:{switch(_=G(u,h),u){case"dialog":st("cancel",i),st("close",i),m=h;break;case"iframe":case"object":case"embed":st("load",i),m=h;break;case"video":case"audio":for(m=0;m<Bs.length;m++)st(Bs[m],i);m=h;break;case"source":st("error",i),m=h;break;case"img":case"image":case"link":st("error",i),st("load",i),m=h;break;case"details":st("toggle",i),m=h;break;case"input":Mt(i,h),m=Wt(i,h),st("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=J({},h,{value:void 0}),st("invalid",i);break;case"textarea":Rr(i,h),m=tr(i,h),st("invalid",i);break;default:m=h}yn(u,m),R=m;for(v in R)if(R.hasOwnProperty(v)){var O=R[v];v==="style"?Kt(i,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Rt(i,O)):v==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&wt(i,O):typeof O=="number"&&wt(i,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?O!=null&&v==="onScroll"&&st("scroll",i):O!=null&&M(i,v,O,_))}switch(u){case"input":Ht(i),Hi(i,h,!1);break;case"textarea":Ht(i),Pn(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Le(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?Vt(i,!!h.multiple,v,!1):h.defaultValue!=null&&Vt(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ia)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return jt(o),null;case 6:if(i&&o.stateNode!=null)Bh(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(u=bi(Xs.current),bi(Wn.current),da(o)){if(h=o.stateNode,u=o.memoizedProps,h[Hn]=o,(v=h.nodeValue!==u)&&(i=un,i!==null))switch(i.tag){case 3:ra(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ra(h.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Hn]=o,o.stateNode=h}return jt(o),null;case 13:if(ot(ut),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ct&&dn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Hf(),ns(),o.flags|=98560,v=!1;else if(v=da(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Hn]=o}else ns(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;jt(o),v=!1}else Nn!==null&&(cu(Nn),Nn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?St===0&&(St=3):fu())),o.updateQueue!==null&&(o.flags|=4),jt(o),null);case 4:return os(),Jc(i,o),i===null&&Us(o.stateNode.containerInfo),jt(o),null;case 10:return Mc(o.type._context),jt(o),null;case 17:return Zt(o.type)&&oa(),jt(o),null;case 19:if(ot(ut),v=o.memoizedState,v===null)return jt(o),null;if(h=(o.flags&128)!==0,_=v.rendering,_===null)if(h)Zs(v,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=ya(i),_!==null){for(o.flags|=128,Zs(v,!1),h=_.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)v=u,i=h,v.flags&=14680066,_=v.alternate,_===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=_.childLanes,v.lanes=_.lanes,v.child=_.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=_.memoizedProps,v.memoizedState=_.memoizedState,v.updateQueue=_.updateQueue,v.type=_.type,i=_.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return rt(ut,ut.current&1|2),o.child}i=i.sibling}v.tail!==null&&Je()>us&&(o.flags|=128,h=!0,Zs(v,!1),o.lanes=4194304)}else{if(!h)if(i=ya(_),i!==null){if(o.flags|=128,h=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Zs(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!ct)return jt(o),null}else 2*Je()-v.renderingStartTime>us&&u!==1073741824&&(o.flags|=128,h=!0,Zs(v,!1),o.lanes=4194304);v.isBackwards?(_.sibling=o.child,o.child=_):(u=v.last,u!==null?u.sibling=_:o.child=_,v.last=_)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Je(),o.sibling=null,u=ut.current,rt(ut,h?u&1|2:u&1),o):(jt(o),null);case 22:case 23:return du(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(fn&1073741824)!==0&&(jt(o),o.subtreeFlags&6&&(o.flags|=8192)):jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function qv(i,o){switch(bc(o),o.tag){case 1:return Zt(o.type)&&oa(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return os(),ot(Jt),ot(zt),Ac(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Tc(o),null;case 13:if(ot(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ns()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ot(ut),null;case 4:return os(),null;case 10:return Mc(o.type._context),null;case 22:case 23:return du(),null;case 24:return null;default:return null}}var Ma=!1,It=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,pe=null;function ls(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){pt(i,o,h)}else u.current=null}function Zc(i,o,u){try{u()}catch(h){pt(i,o,h)}}var Uh=!1;function Qv(i,o){if(dc=Yo,i=xf(),rc(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var _=0,R=-1,O=-1,H=0,te=0,ie=i,ee=null;t:for(;;){for(var fe;ie!==u||m!==0&&ie.nodeType!==3||(R=_+m),ie!==v||h!==0&&ie.nodeType!==3||(O=_+h),ie.nodeType===3&&(_+=ie.nodeValue.length),(fe=ie.firstChild)!==null;)ee=ie,ie=fe;for(;;){if(ie===i)break t;if(ee===u&&++H===m&&(R=_),ee===v&&++te===h&&(O=_),(fe=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=fe}u=R===-1||O===-1?null:{start:R,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(fc={focusedElem:i,selectionRange:u},Yo=!1,pe=o;pe!==null;)if(o=pe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,pe=i;else for(;pe!==null;){o=pe;try{var me=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,yt=me.memoizedState,B=o.stateNode,F=B.getSnapshotBeforeUpdate(o.elementType===o.type?ye:An(o.type,ye),yt);B.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var U=o.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){pt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,pe=i;break}pe=o.return}return me=Uh,Uh=!1,me}function eo(i,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Zc(o,u,v)}m=m.next}while(m!==h)}}function Ea(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function eu(i){var o=i.ref;if(o!==null){var u=i.stateNode;i.tag,i=u,typeof o=="function"?o(i):o.current=i}}function $h(i){var o=i.alternate;o!==null&&(i.alternate=null,$h(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Hn],delete o[Hs],delete o[gc],delete o[Av],delete o[Lv])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Hh(i){return i.tag===5||i.tag===3||i.tag===4}function Wh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Hh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tu(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ia));else if(h!==4&&(i=i.child,i!==null))for(tu(i,o,u),i=i.sibling;i!==null;)tu(i,o,u),i=i.sibling}function nu(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(nu(i,o,u),i=i.sibling;i!==null;)nu(i,o,u),i=i.sibling}var Lt=null,Ln=!1;function Yr(i,o,u){for(u=u.child;u!==null;)Vh(i,o,u),u=u.sibling}function Vh(i,o,u){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ar,u)}catch{}switch(u.tag){case 5:It||ls(u,o);case 6:var h=Lt,m=Ln;Lt=null,Yr(i,o,u),Lt=h,Ln=m,Lt!==null&&(Ln?(i=Lt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Lt.removeChild(u.stateNode));break;case 18:Lt!==null&&(Ln?(i=Lt,u=u.stateNode,i.nodeType===8?mc(i.parentNode,u):i.nodeType===1&&mc(i,u),Ns(i)):mc(Lt,u.stateNode));break;case 4:h=Lt,m=Ln,Lt=u.stateNode.containerInfo,Ln=!0,Yr(i,o,u),Lt=h,Ln=m;break;case 0:case 11:case 14:case 15:if(!It&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,_=v.destroy;v=v.tag,_!==void 0&&((v&2)!==0||(v&4)!==0)&&Zc(u,o,_),m=m.next}while(m!==h)}Yr(i,o,u);break;case 1:if(!It&&(ls(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(R){pt(u,o,R)}Yr(i,o,u);break;case 21:Yr(i,o,u);break;case 22:u.mode&1?(It=(h=It)||u.memoizedState!==null,Yr(i,o,u),It=h):Yr(i,o,u);break;default:Yr(i,o,u)}}function Yh(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Kv),o.forEach(function(h){var m=ox.bind(null,i,h);u.has(h)||(u.add(h),h.then(m,m))})}}function On(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var v=i,_=o,R=_;e:for(;R!==null;){switch(R.tag){case 5:Lt=R.stateNode,Ln=!1;break e;case 3:Lt=R.stateNode.containerInfo,Ln=!0;break e;case 4:Lt=R.stateNode.containerInfo,Ln=!0;break e}R=R.return}if(Lt===null)throw Error(n(160));Vh(v,_,m),Lt=null,Ln=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(H){pt(m,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Gh(o,i),o=o.sibling}function Gh(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(On(o,i),Yn(i),h&4){try{eo(3,i,i.return),Ea(3,i)}catch(ye){pt(i,i.return,ye)}try{eo(5,i,i.return)}catch(ye){pt(i,i.return,ye)}}break;case 1:On(o,i),Yn(i),h&512&&u!==null&&ls(u,u.return);break;case 5:if(On(o,i),Yn(i),h&512&&u!==null&&ls(u,u.return),i.flags&32){var m=i.stateNode;try{wt(m,"")}catch(ye){pt(i,i.return,ye)}}if(h&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,_=u!==null?u.memoizedProps:v,R=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&At(m,v),G(R,_);var H=G(R,v);for(_=0;_<O.length;_+=2){var te=O[_],ie=O[_+1];te==="style"?Kt(m,ie):te==="dangerouslySetInnerHTML"?Rt(m,ie):te==="children"?wt(m,ie):M(m,te,ie,H)}switch(R){case"input":In(m,v);break;case"textarea":gn(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var fe=v.value;fe!=null?Vt(m,!!v.multiple,fe,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Vt(m,!!v.multiple,v.defaultValue,!0):Vt(m,!!v.multiple,v.multiple?[]:"",!1))}m[Hs]=v}catch(ye){pt(i,i.return,ye)}}break;case 6:if(On(o,i),Yn(i),h&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ye){pt(i,i.return,ye)}}break;case 3:if(On(o,i),Yn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ns(o.containerInfo)}catch(ye){pt(i,i.return,ye)}break;case 4:On(o,i),Yn(i);break;case 13:On(o,i),Yn(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(su=Je())),h&4&&Yh(i);break;case 22:if(te=u!==null&&u.memoizedState!==null,i.mode&1?(It=(H=It)||te,On(o,i),It=H):On(o,i),Yn(i),h&8192){if(H=i.memoizedState!==null,(i.stateNode.isHidden=H)&&!te&&(i.mode&1)!==0)for(pe=i,te=i.child;te!==null;){for(ie=pe=te;pe!==null;){switch(ee=pe,fe=ee.child,ee.tag){case 0:case 11:case 14:case 15:eo(4,ee,ee.return);break;case 1:ls(ee,ee.return);var me=ee.stateNode;if(typeof me.componentWillUnmount=="function"){h=ee,u=ee.return;try{o=h,me.props=o.memoizedProps,me.state=o.memoizedState,me.componentWillUnmount()}catch(ye){pt(h,u,ye)}}break;case 5:ls(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Kh(ie);continue}}fe!==null?(fe.return=ee,pe=fe):Kh(ie)}te=te.sibling}e:for(te=null,ie=i;;){if(ie.tag===5){if(te===null){te=ie;try{m=ie.stateNode,H?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=ie.stateNode,O=ie.memoizedProps.style,_=O!=null&&O.hasOwnProperty("display")?O.display:null,R.style.display=ui("display",_))}catch(ye){pt(i,i.return,ye)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=H?"":ie.memoizedProps}catch(ye){pt(i,i.return,ye)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:On(o,i),Yn(i),h&4&&Yh(i);break;case 21:break;default:On(o,i),Yn(i)}}function Yn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Hh(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(wt(m,""),h.flags&=-33);var v=Wh(i);nu(i,v,m);break;case 3:case 4:var _=h.stateNode.containerInfo,R=Wh(i);tu(i,R,_);break;default:throw Error(n(161))}}catch(O){pt(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Jv(i,o,u){pe=i,Xh(i)}function Xh(i,o,u){for(var h=(i.mode&1)!==0;pe!==null;){var m=pe,v=m.child;if(m.tag===22&&h){var _=m.memoizedState!==null||Ma;if(!_){var R=m.alternate,O=R!==null&&R.memoizedState!==null||It;R=Ma;var H=It;if(Ma=_,(It=O)&&!H)for(pe=m;pe!==null;)_=pe,O=_.child,_.tag===22&&_.memoizedState!==null?Qh(m):O!==null?(O.return=_,pe=O):Qh(m);for(;v!==null;)pe=v,Xh(v),v=v.sibling;pe=m,Ma=R,It=H}qh(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,pe=v):qh(i)}}function qh(i){for(;pe!==null;){var o=pe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:It||Ea(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!It)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:An(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Kf(o,v,h);break;case 3:var _=o.updateQueue;if(_!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Kf(o,_,u)}break;case 5:var R=o.stateNode;if(u===null&&o.flags&4){u=R;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var te=H.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&Ns(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}It||o.flags&512&&eu(o)}catch(ee){pt(o,o.return,ee)}}if(o===i){pe=null;break}if(u=o.sibling,u!==null){u.return=o.return,pe=u;break}pe=o.return}}function Kh(i){for(;pe!==null;){var o=pe;if(o===i){pe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,pe=u;break}pe=o.return}}function Qh(i){for(;pe!==null;){var o=pe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ea(4,o)}catch(O){pt(o,u,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(O){pt(o,m,O)}}var v=o.return;try{eu(o)}catch(O){pt(o,v,O)}break;case 5:var _=o.return;try{eu(o)}catch(O){pt(o,_,O)}}}catch(O){pt(o,o.return,O)}if(o===i){pe=null;break}var R=o.sibling;if(R!==null){R.return=o.return,pe=R;break}pe=o.return}}var Zv=Math.ceil,Ra=L.ReactCurrentDispatcher,ru=L.ReactCurrentOwner,Sn=L.ReactCurrentBatchConfig,Ge=0,Tt=null,bt=null,Ot=0,fn=0,cs=Ur(0),St=0,to=null,_i=0,Pa=0,iu=0,no=null,tn=null,su=0,us=1/0,yr=null,Da=!1,ou=null,Gr=null,Ta=!1,Xr=null,Na=0,ro=0,au=null,Aa=-1,La=0;function Xt(){return(Ge&6)!==0?Je():Aa!==-1?Aa:Aa=Je()}function qr(i){return(i.mode&1)===0?1:(Ge&2)!==0&&Ot!==0?Ot&-Ot:zv.transition!==null?(La===0&&(La=Hd()),La):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:Jd(i.type)),i)}function zn(i,o,u,h){if(50<ro)throw ro=0,au=null,Error(n(185));Es(i,u,h),((Ge&2)===0||i!==Tt)&&(i===Tt&&((Ge&2)===0&&(Pa|=u),St===4&&Kr(i,Ot)),nn(i,h),u===1&&Ge===0&&(o.mode&1)===0&&(us=Je()+500,la&&Hr()))}function nn(i,o){var u=i.callbackNode;zy(i,o);var h=Ho(i,i===Tt?Ot:0);if(h===0)u!==null&&Pt(u),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(u!=null&&Pt(u),o===1)i.tag===0?Ov(Zh.bind(null,i)):jf(Zh.bind(null,i)),Tv(function(){(Ge&6)===0&&Hr()}),u=null;else{switch(Wd(h)){case 1:u=vn;break;case 4:u=ln;break;case 16:u=Nr;break;case 536870912:u=$n;break;default:u=Nr}u=ap(u,Jh.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Jh(i,o){if(Aa=-1,La=0,(Ge&6)!==0)throw Error(n(327));var u=i.callbackNode;if(ds()&&i.callbackNode!==u)return null;var h=Ho(i,i===Tt?Ot:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Oa(i,h);else{o=h;var m=Ge;Ge|=2;var v=tp();(Tt!==i||Ot!==o)&&(yr=null,us=Je()+500,ki(i,o));do try{nx();break}catch(R){ep(i,R)}while(!0);Cc(),Ra.current=v,Ge=m,bt!==null?o=0:(Tt=null,Ot=0,o=St)}if(o!==0){if(o===2&&(m=Ul(i),m!==0&&(h=m,o=lu(i,m))),o===1)throw u=to,ki(i,0),Kr(i,h),nn(i,Je()),u;if(o===6)Kr(i,h);else{if(m=i.current.alternate,(h&30)===0&&!ex(m)&&(o=Oa(i,h),o===2&&(v=Ul(i),v!==0&&(h=v,o=lu(i,v))),o===1))throw u=to,ki(i,0),Kr(i,h),nn(i,Je()),u;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:Ci(i,tn,yr);break;case 3:if(Kr(i,h),(h&130023424)===h&&(o=su+500-Je(),10<o)){if(Ho(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){Xt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=pc(Ci.bind(null,i,tn,yr),o);break}Ci(i,tn,yr);break;case 4:if(Kr(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var _=31-tt(h);v=1<<_,_=o[_],_>m&&(m=_),h&=~v}if(h=m,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Zv(h/1960))-h,10<h){i.timeoutHandle=pc(Ci.bind(null,i,tn,yr),h);break}Ci(i,tn,yr);break;case 5:Ci(i,tn,yr);break;default:throw Error(n(329))}}}return nn(i,Je()),i.callbackNode===u?Jh.bind(null,i):null}function lu(i,o){var u=no;return i.current.memoizedState.isDehydrated&&(ki(i,o).flags|=256),i=Oa(i,o),i!==2&&(o=tn,tn=u,o!==null&&cu(o)),i}function cu(i){tn===null?tn=i:tn.push.apply(tn,i)}function ex(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],v=m.getSnapshot;m=m.value;try{if(!Tn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Kr(i,o){for(o&=~iu,o&=~Pa,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-tt(o),h=1<<u;i[u]=-1,o&=~h}}function Zh(i){if((Ge&6)!==0)throw Error(n(327));ds();var o=Ho(i,0);if((o&1)===0)return nn(i,Je()),null;var u=Oa(i,o);if(i.tag!==0&&u===2){var h=Ul(i);h!==0&&(o=h,u=lu(i,h))}if(u===1)throw u=to,ki(i,0),Kr(i,o),nn(i,Je()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ci(i,tn,yr),nn(i,Je()),null}function uu(i,o){var u=Ge;Ge|=1;try{return i(o)}finally{Ge=u,Ge===0&&(us=Je()+500,la&&Hr())}}function Si(i){Xr!==null&&Xr.tag===0&&(Ge&6)===0&&ds();var o=Ge;Ge|=1;var u=Sn.transition,h=Ze;try{if(Sn.transition=null,Ze=1,i)return i()}finally{Ze=h,Sn.transition=u,Ge=o,(Ge&6)===0&&Hr()}}function du(){fn=cs.current,ot(cs)}function ki(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Dv(u)),bt!==null)for(u=bt.return;u!==null;){var h=u;switch(bc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&oa();break;case 3:os(),ot(Jt),ot(zt),Ac();break;case 5:Tc(h);break;case 4:os();break;case 13:ot(ut);break;case 19:ot(ut);break;case 10:Mc(h.type._context);break;case 22:case 23:du()}u=u.return}if(Tt=i,bt=i=Qr(i.current,null),Ot=fn=o,St=0,to=null,iu=Pa=_i=0,tn=no=null,xi!==null){for(o=0;o<xi.length;o++)if(u=xi[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,v=u.pending;if(v!==null){var _=v.next;v.next=m,h.next=_}u.pending=h}xi=null}return i}function ep(i,o){do{var u=bt;try{if(Cc(),va.current=_a,xa){for(var h=dt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}xa=!1}if(wi=0,Dt=_t=dt=null,qs=!1,Ks=0,ru.current=null,u===null||u.return===null){St=1,to=o,bt=null;break}e:{var v=i,_=u.return,R=u,O=o;if(o=Ot,R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var H=O,te=R,ie=te.tag;if((te.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var fe=Ch(_);if(fe!==null){fe.flags&=-257,Mh(fe,_,R,v,o),fe.mode&1&&kh(v,H,o),o=fe,O=H;var me=o.updateQueue;if(me===null){var ye=new Set;ye.add(O),o.updateQueue=ye}else me.add(O);break e}else{if((o&1)===0){kh(v,H,o),fu();break e}O=Error(n(426))}}else if(ct&&R.mode&1){var yt=Ch(_);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Mh(yt,_,R,v,o),Sc(as(O,R));break e}}v=O=as(O,R),St!==4&&(St=2),no===null?no=[v]:no.push(v),v=_;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var B=_h(v,O,o);qf(v,B);break e;case 1:R=O;var F=v.type,U=v.stateNode;if((v.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Gr===null||!Gr.has(U)))){v.flags|=65536,o&=-o,v.lanes|=o;var oe=Sh(v,R,o);qf(v,oe);break e}}v=v.return}while(v!==null)}rp(u)}catch(we){o=we,bt===u&&u!==null&&(bt=u=u.return);continue}break}while(!0)}function tp(){var i=Ra.current;return Ra.current=_a,i===null?_a:i}function fu(){(St===0||St===3||St===2)&&(St=4),Tt===null||(_i&268435455)===0&&(Pa&268435455)===0||Kr(Tt,Ot)}function Oa(i,o){var u=Ge;Ge|=2;var h=tp();(Tt!==i||Ot!==o)&&(yr=null,ki(i,o));do try{tx();break}catch(m){ep(i,m)}while(!0);if(Cc(),Ge=u,Ra.current=h,bt!==null)throw Error(n(261));return Tt=null,Ot=0,St}function tx(){for(;bt!==null;)np(bt)}function nx(){for(;bt!==null&&!Ke();)np(bt)}function np(i){var o=op(i.alternate,i,fn);i.memoizedProps=i.pendingProps,o===null?rp(i):bt=o,ru.current=null}function rp(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Xv(u,o,fn),u!==null){bt=u;return}}else{if(u=qv(u,o),u!==null){u.flags&=32767,bt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{St=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=i}while(o!==null);St===0&&(St=5)}function Ci(i,o,u){var h=Ze,m=Sn.transition;try{Sn.transition=null,Ze=1,rx(i,o,u,h)}finally{Sn.transition=m,Ze=h}return null}function rx(i,o,u,h){do ds();while(Xr!==null);if((Ge&6)!==0)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Fy(i,v),i===Tt&&(bt=Tt=null,Ot=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ta||(Ta=!0,ap(Nr,function(){return ds(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Sn.transition,Sn.transition=null;var _=Ze;Ze=1;var R=Ge;Ge|=4,ru.current=null,Qv(i,u),Gh(u,i),Sv(fc),Yo=!!dc,fc=dc=null,i.current=u,Jv(u),Qt(),Ge=R,Ze=_,Sn.transition=v}else i.current=u;if(Ta&&(Ta=!1,Xr=i,Na=m),v=i.pendingLanes,v===0&&(Gr=null),Ve(u.stateNode),nn(i,Je()),o!==null)for(h=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(Da)throw Da=!1,i=ou,ou=null,i;return(Na&1)!==0&&i.tag!==0&&ds(),v=i.pendingLanes,(v&1)!==0?i===au?ro++:(ro=0,au=i):ro=0,Hr(),null}function ds(){if(Xr!==null){var i=Wd(Na),o=Sn.transition,u=Ze;try{if(Sn.transition=null,Ze=16>i?16:i,Xr===null)var h=!1;else{if(i=Xr,Xr=null,Na=0,(Ge&6)!==0)throw Error(n(331));var m=Ge;for(Ge|=4,pe=i.current;pe!==null;){var v=pe,_=v.child;if((pe.flags&16)!==0){var R=v.deletions;if(R!==null){for(var O=0;O<R.length;O++){var H=R[O];for(pe=H;pe!==null;){var te=pe;switch(te.tag){case 0:case 11:case 15:eo(8,te,v)}var ie=te.child;if(ie!==null)ie.return=te,pe=ie;else for(;pe!==null;){te=pe;var ee=te.sibling,fe=te.return;if($h(te),te===H){pe=null;break}if(ee!==null){ee.return=fe,pe=ee;break}pe=fe}}}var me=v.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var yt=ye.sibling;ye.sibling=null,ye=yt}while(ye!==null)}}pe=v}}if((v.subtreeFlags&2064)!==0&&_!==null)_.return=v,pe=_;else e:for(;pe!==null;){if(v=pe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:eo(9,v,v.return)}var B=v.sibling;if(B!==null){B.return=v.return,pe=B;break e}pe=v.return}}var F=i.current;for(pe=F;pe!==null;){_=pe;var U=_.child;if((_.subtreeFlags&2064)!==0&&U!==null)U.return=_,pe=U;else e:for(_=F;pe!==null;){if(R=pe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Ea(9,R)}}catch(we){pt(R,R.return,we)}if(R===_){pe=null;break e}var oe=R.sibling;if(oe!==null){oe.return=R.return,pe=oe;break e}pe=R.return}}if(Ge=m,Hr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ar,i)}catch{}h=!0}return h}finally{Ze=u,Sn.transition=o}}return!1}function ip(i,o,u){o=as(u,o),o=_h(i,o,1),i=Vr(i,o,1),o=Xt(),i!==null&&(Es(i,1,o),nn(i,o))}function pt(i,o,u){if(i.tag===3)ip(i,i,u);else for(;o!==null;){if(o.tag===3){ip(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gr===null||!Gr.has(h))){i=as(u,i),i=Sh(o,i,1),o=Vr(o,i,1),i=Xt(),o!==null&&(Es(o,1,i),nn(o,i));break}}o=o.return}}function ix(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),o=Xt(),i.pingedLanes|=i.suspendedLanes&u,Tt===i&&(Ot&u)===u&&(St===4||St===3&&(Ot&130023424)===Ot&&500>Je()-su?ki(i,0):iu|=u),nn(i,o)}function sp(i,o){o===0&&((i.mode&1)===0?o=1:(o=hi,hi<<=1,(hi&130023424)===0&&(hi=4194304)));var u=Xt();i=pr(i,o),i!==null&&(Es(i,o,u),nn(i,u))}function sx(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),sp(i,u)}function ox(i,o){var u=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),sp(i,u)}var op;op=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Jt.current)en=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return en=!1,Gv(i,o,u);en=(i.flags&131072)!==0}else en=!1,ct&&(o.flags&1048576)!==0&&If(o,ua,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Ca(i,o),i=o.pendingProps;var m=Zi(o,zt.current);ss(o,u),m=zc(null,o,h,i,m,u);var v=Fc();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zt(h)?(v=!0,aa(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Pc(o),m.updater=Sa,o.stateNode=m,m._reactInternals=o,Hc(o,h,i,u),o=Gc(null,o,h,!0,v,u)):(o.tag=0,ct&&v&&xc(o),Gt(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Ca(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=lx(h),i=An(h,i),m){case 0:o=Yc(null,o,h,i,u);break e;case 1:o=Nh(null,o,h,i,u);break e;case 11:o=Eh(null,o,h,i,u);break e;case 14:o=Rh(null,o,h,An(h.type,i),u);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:An(h,m),Yc(i,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:An(h,m),Nh(i,o,h,m,u);case 3:e:{if(Ah(o),i===null)throw Error(n(387));h=o.pendingProps,v=o.memoizedState,m=v.element,Xf(i,o),ga(o,h,null,u);var _=o.memoizedState;if(h=_.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=as(Error(n(423)),o),o=Lh(i,o,h,u,m);break e}else if(h!==m){m=as(Error(n(424)),o),o=Lh(i,o,h,u,m);break e}else for(dn=Br(o.stateNode.containerInfo.firstChild),un=o,ct=!0,Nn=null,u=Yf(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ns(),h===m){o=gr(i,o,u);break e}Gt(i,o,h,u)}o=o.child}return o;case 5:return Qf(o),i===null&&_c(o),h=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,_=m.children,hc(h,m)?_=null:v!==null&&hc(h,v)&&(o.flags|=32),Th(i,o),Gt(i,o,_,u),o.child;case 6:return i===null&&_c(o),null;case 13:return Oh(i,o,u);case 4:return Dc(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=rs(o,null,h,u):Gt(i,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:An(h,m),Eh(i,o,h,m,u);case 7:return Gt(i,o,o.pendingProps,u),o.child;case 8:return Gt(i,o,o.pendingProps.children,u),o.child;case 12:return Gt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,_=m.value,rt(ha,h._currentValue),h._currentValue=_,v!==null)if(Tn(v.value,_)){if(v.children===m.children&&!Jt.current){o=gr(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var R=v.dependencies;if(R!==null){_=v.child;for(var O=R.firstContext;O!==null;){if(O.context===h){if(v.tag===1){O=mr(-1,u&-u),O.tag=2;var H=v.updateQueue;if(H!==null){H=H.shared;var te=H.pending;te===null?O.next=O:(O.next=te.next,te.next=O),H.pending=O}}v.lanes|=u,O=v.alternate,O!==null&&(O.lanes|=u),Ec(v.return,u,o),R.lanes|=u;break}O=O.next}}else if(v.tag===10)_=v.type===o.type?null:v.child;else if(v.tag===18){if(_=v.return,_===null)throw Error(n(341));_.lanes|=u,R=_.alternate,R!==null&&(R.lanes|=u),Ec(_,u,o),_=v.sibling}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===o){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}Gt(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,ss(o,u),m=wn(m),h=h(m),o.flags|=1,Gt(i,o,h,u),o.child;case 14:return h=o.type,m=An(h,o.pendingProps),m=An(h.type,m),Rh(i,o,h,m,u);case 15:return Ph(i,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:An(h,m),Ca(i,o),o.tag=1,Zt(h)?(i=!0,aa(o)):i=!1,ss(o,u),bh(o,h,m),Hc(o,h,m,u),Gc(null,o,h,!0,i,u);case 19:return Fh(i,o,u);case 22:return Dh(i,o,u)}throw Error(n(156,o.tag))};function ap(i,o){return gt(i,o)}function ax(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,o,u,h){return new ax(i,o,u,h)}function hu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lx(i){if(typeof i=="function")return hu(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Q)return 11;if(i===ne)return 14}return 2}function Qr(i,o){var u=i.alternate;return u===null?(u=kn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function za(i,o,u,h,m,v){var _=2;if(h=i,typeof i=="function")hu(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case E:return Mi(u.children,m,v,o);case A:_=8,m|=8;break;case W:return i=kn(12,u,o,m|2),i.elementType=W,i.lanes=v,i;case ae:return i=kn(13,u,o,m),i.elementType=ae,i.lanes=v,i;case K:return i=kn(19,u,o,m),i.elementType=K,i.lanes=v,i;case de:return Fa(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:_=10;break e;case q:_=9;break e;case Q:_=11;break e;case ne:_=14;break e;case ce:_=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=kn(_,u,o,m),o.elementType=i,o.type=h,o.lanes=v,o}function Mi(i,o,u,h){return i=kn(7,i,h,o),i.lanes=u,i}function Fa(i,o,u,h){return i=kn(22,i,h,o),i.elementType=de,i.lanes=u,i.stateNode={isHidden:!1},i}function pu(i,o,u){return i=kn(6,i,null,o),i.lanes=u,i}function mu(i,o,u){return o=kn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function cx(i,o,u,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function gu(i,o,u,h,m,v,_,R,O){return i=new cx(i,o,u,R,O),o===1?(o=1,v===!0&&(o|=8)):o=0,v=kn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(v),i}function ux(i,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:h==null?null:""+h,children:i,containerInfo:o,implementation:u}}function lp(i){if(!i)return $r;i=i._reactInternals;e:{if(xe(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Zt(u))return zf(i,u,o)}return o}function cp(i,o,u,h,m,v,_,R,O){return i=gu(u,h,!0,i,m,v,_,R,O),i.context=lp(null),u=i.current,h=Xt(),m=qr(u),v=mr(h,m),v.callback=o??null,Vr(u,v,m),i.current.lanes=m,Es(i,m,h),nn(i,h),i}function ja(i,o,u,h){var m=o.current,v=Xt(),_=qr(m);return u=lp(u),o.context===null?o.context=u:o.pendingContext=u,o=mr(v,_),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Vr(m,o,_),i!==null&&(zn(i,m,_,v),ma(i,m,_)),_}function Ia(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function up(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function yu(i,o){up(i,o),(i=i.alternate)&&up(i,o)}function dx(){return null}var dp=typeof reportError=="function"?reportError:function(i){console.error(i)};function vu(i){this._internalRoot=i}Ba.prototype.render=vu.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));ja(i,o,null,null)},Ba.prototype.unmount=vu.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Si(function(){ja(null,i,null,null)}),o[ur]=null}};function Ba(i){this._internalRoot=i}Ba.prototype.unstable_scheduleHydration=function(i){if(i){var o=Gd();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Fr.length&&o!==0&&o<Fr[u].priority;u++);Fr.splice(u,0,i),u===0&&Kd(i)}};function xu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ua(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function fp(){}function fx(i,o,u,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var H=Ia(_);v.call(H)}}var _=cp(o,h,i,0,null,!1,!1,"",fp);return i._reactRootContainer=_,i[ur]=_.current,Us(i.nodeType===8?i.parentNode:i),Si(),_}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var R=h;h=function(){var H=Ia(O);R.call(H)}}var O=gu(i,0,!1,null,null,!1,!1,"",fp);return i._reactRootContainer=O,i[ur]=O.current,Us(i.nodeType===8?i.parentNode:i),Si(function(){ja(o,O,u,h)}),O}function $a(i,o,u,h,m){var v=u._reactRootContainer;if(v){var _=v;if(typeof m=="function"){var R=m;m=function(){var O=Ia(_);R.call(O)}}ja(o,_,i,m)}else _=fx(u,o,i,m,h);return Ia(_)}Vd=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=pi(o.pendingLanes);u!==0&&(Hl(o,u|1),nn(o,Je()),(Ge&6)===0&&(us=Je()+500,Hr()))}break;case 13:Si(function(){var h=pr(i,1);if(h!==null){var m=Xt();zn(h,i,1,m)}}),yu(i,1)}},Wl=function(i){if(i.tag===13){var o=pr(i,134217728);if(o!==null){var u=Xt();zn(o,i,134217728,u)}yu(i,134217728)}},Yd=function(i){if(i.tag===13){var o=qr(i),u=pr(i,o);if(u!==null){var h=Xt();zn(u,i,o,h)}yu(i,o)}},Gd=function(){return Ze},Xd=function(i,o){var u=Ze;try{return Ze=i,o()}finally{Ze=u}},Re=function(i,o,u){switch(o){case"input":if(In(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var m=sa(h);if(!m)throw Error(n(90));He(h),In(h,m)}}}break;case"textarea":gn(i,u);break;case"select":o=u.value,o!=null&&Vt(i,!!u.multiple,o,!1)}},Dn=uu,or=Si;var hx={usingClientEntryPoint:!1,Events:[Ws,Qi,sa,Ne,it,uu]},io={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},px={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=We(i),i===null?null:i.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||dx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{ar=Ha.inject(px),Yt=Ha}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hx,rn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xu(o))throw Error(n(200));return ux(i,o,null,u)},rn.createRoot=function(i,o){if(!xu(i))throw Error(n(299));var u=!1,h="",m=dp;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=gu(i,1,!1,null,null,u,!1,h,m),i[ur]=o.current,Us(i.nodeType===8?i.parentNode:i),new vu(o)},rn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=We(o),i=i===null?null:i.stateNode,i},rn.flushSync=function(i){return Si(i)},rn.hydrate=function(i,o,u){if(!Ua(o))throw Error(n(200));return $a(null,i,o,!0,u)},rn.hydrateRoot=function(i,o,u){if(!xu(i))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,m=!1,v="",_=dp;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),o=cp(o,null,i,1,u??null,m,!1,v,_),i[ur]=o.current,Us(i),h)for(i=0;i<h.length;i++)u=h[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Ba(o)},rn.render=function(i,o,u){if(!Ua(o))throw Error(n(200));return $a(null,i,o,!1,u)},rn.unmountComponentAtNode=function(i){if(!Ua(i))throw Error(n(40));return i._reactRootContainer?(Si(function(){$a(null,null,i,!1,function(){i._reactRootContainer=null,i[ur]=null})}),!0):!1},rn.unstable_batchedUpdates=uu,rn.unstable_renderSubtreeIntoContainer=function(i,o,u,h){if(!Ua(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return $a(i,o,u,!1,h)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var bp;function Gg(){if(bp)return _u.exports;bp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_u.exports=Sx(),_u.exports}var wp;function kx(){if(wp)return Wa;wp=1;var t=Gg();return Wa.createRoot=t.createRoot,Wa.hydrateRoot=t.hydrateRoot,Wa}var Cx=kx();const Mx=Vg(Cx);var Xg=t=>{throw TypeError(t)},Ex=(t,e,n)=>e.has(t)||Xg("Cannot "+n),Cu=(t,e,n)=>(Ex(t,e,"read from private field"),n?n.call(t):e.get(t)),Rx=(t,e,n)=>e.has(t)?Xg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_p="popstate";function Px(t={}){function e(s,a){let{pathname:l="/",search:c="",hash:d=""}=Mr(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Eo("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof a=="string"?a:Zn(a))}function r(s,a){mt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Tx(e,n,r,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dx(){return Math.random().toString(36).substring(2,10)}function Sp(t,e){return{usr:t.state,key:t.key,idx:e}}function Eo(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Mr(e):e,state:n,key:e&&e.key||r||Dx()}}function Zn({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Tx(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let S=p(),C=S==null?null:S-f;f=S,d&&d({action:c,location:w.location,delta:C})}function y(S,C){c="PUSH";let D=Eo(w.location,S,C);n&&n(D,S),f=p()+1;let M=Sp(D,f),L=w.createHref(D);try{l.pushState(M,"",L)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(L)}a&&d&&d({action:c,location:w.location,delta:1})}function x(S,C){c="REPLACE";let D=Eo(w.location,S,C);n&&n(D,S),f=p();let M=Sp(D,f),L=w.createHref(D);l.replaceState(M,"",L),a&&d&&d({action:c,location:w.location,delta:0})}function b(S){return qg(S)}let w={get action(){return c},get location(){return t(s,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(_p,g),d=S,()=>{s.removeEventListener(_p,g),d=null}},createHref(S){return e(s,S)},createURL:b,encodeLocation(S){let C=b(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(S){return l.go(S)}};return w}function qg(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zn(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var mo,kp=class{constructor(t){if(Rx(this,mo,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Cu(this,mo).has(t))return Cu(this,mo).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Cu(this,mo).set(t,e)}};mo=new WeakMap;var Nx=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ax(t){return Nx.has(t)}var Lx=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Ox(t){return Lx.has(t)}function zx(t){return t.index===!0}function Ro(t,e,n=[],r={},s=!1){return t.map((a,l)=>{let c=[...n,String(l)],d=typeof a.id=="string"?a.id:c.join("-");if(Ie(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ie(s||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),zx(a)){let f={...a,id:d};return r[d]=Cp(f,e(f)),f}else{let f={...a,id:d,children:void 0};return r[d]=Cp(f,e(f)),a.children&&(f.children=Ro(a.children,e,c,r,s)),f}})}function Cp(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Zr(t,e,n="/"){return go(t,e,n,!1)}function go(t,e,n,r){let s=typeof e=="string"?Mr(e):e,a=En(s.pathname||"/",n);if(a==null)return null;let l=Kg(t);jx(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=qx(a);c=Gx(l[d],f,r)}return c}function Fx(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function Kg(t,e=[],n=[],r="",s=!1){let a=(l,c,d=s,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Ie(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Qn([r,p.relativePath]),y=n.concat(p);l.children&&l.children.length>0&&(Ie(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Kg(l.children,e,y,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:Vx(g,l.index),routesMeta:y})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of Qg(l.path))a(l,c,!0,d)}),e}function Qg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=Qg(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function jx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Ix=/^:[\w-]+$/,Bx=3,Ux=2,$x=1,Hx=10,Wx=-2,Mp=t=>t==="*";function Vx(t,e){let n=t.split("/"),r=n.length;return n.some(Mp)&&(r+=Wx),e&&(r+=Ux),n.filter(s=>!Mp(s)).reduce((s,a)=>s+(Ix.test(a)?Bx:a===""?$x:Hx),r)}function Yx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Gx(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=yl({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=yl({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Qn([a,g.pathname]),pathnameBase:Jx(Qn([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=Qn([a,g.pathnameBase]))}return l}function yl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},y)=>{if(p==="*"){let b=c[y]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[y];return g&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function Xx(t,e=!1,n=!0){mt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function En(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Kx({basename:t,pathname:e}){return e==="/"?t:Qn([t,e])}var Jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rl=t=>Jg.test(t);function Qx(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Mr(t):t,a;if(n)if(Rl(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),mt(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=Ep(n.substring(1),"/"):a=Ep(n,e)}else a=e;return{pathname:a,search:Zx(r),hash:eb(s)}}function Ep(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mu(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function md(t){let e=Zg(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gd(t,e,n,r=!1){let s;typeof t=="string"?s=Mr(t):(s={...t},Ie(!s.pathname||!s.pathname.includes("?"),Mu("?","pathname","search",s)),Ie(!s.pathname||!s.pathname.includes("#"),Mu("#","pathname","hash",s)),Ie(!s.search||!s.search.includes("#"),Mu("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}c=g>=0?e[g]:"/"}let d=Qx(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Qn=t=>t.join("/").replace(/\/\/+/g,"/"),Jx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Fo=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Po(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function jo(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var e0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function t0(t,e){let n=t;if(typeof n!="string"||!Jg.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(e0)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),c=En(l.pathname,e);l.origin===a.origin&&c!=null?n=c+l.search+l.hash:s=!0}catch{mt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}var ti=Symbol("Uninstrumented");function tb(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(a){let l=Object.keys(n);for(let c of l)a[c]&&n[c].push(a[c])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let s=ys(n.lazy,e.lazy,()=>{});s&&(r.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(a=>{let l=s[a],c=n[`lazy.${a}`];if(typeof l=="function"&&c.length>0){let d=ys(c,l,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[a]:d}))}})}return["loader","action"].forEach(s=>{let a=e[s];if(typeof a=="function"&&n[s].length>0){let l=a[ti]??a,c=ys(n[s],l,(...d)=>Rp(d[0]));c&&(s==="loader"&&l.hydrate===!0&&(c.hydrate=!0),c[ti]=l,r[s]=c)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(s=>{let a=s[ti]??s,l=ys(n.middleware,a,(...c)=>Rp(c[0]));return l?(l[ti]=a,l):s})),r}function nb(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(s){let a=Object.keys(s);for(let l of a)s[l]&&n[l].push(s[l])}})),n.navigate.length>0){let r=t.navigate[ti]??t.navigate,s=ys(n.navigate,r,(...a)=>{let[l,c]=a;return{to:typeof l=="number"||typeof l=="string"?l:l?Zn(l):".",...Pp(t,c??{})}});s&&(s[ti]=r,t.navigate=s)}if(n.fetch.length>0){let r=t.fetch[ti]??t.fetch,s=ys(n.fetch,r,(...a)=>{let[l,,c,d]=a;return{href:c??".",fetcherKey:l,...Pp(t,d??{})}});s&&(s[ti]=r,t.fetch=s)}return t}function ys(t,e,n){return t.length===0?null:async(...r)=>{let s=await n0(t,n(...r),()=>e(...r),t.length-1);if(s.type==="error")throw s.value;return s.value}}async function n0(t,e,n,r){let s=t[r],a;if(s){let l,c=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=n0(t,e,n,r-1),a=await l,Ie(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await s(c,e)}catch(d){console.error("An instrumentation function threw an error:",d)}l||await c(),await l}else try{a={type:"success",value:await n()}}catch(l){a={type:"error",value:l}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Rp(t){let{request:e,context:n,params:r,unstable_pattern:s}=t;return{request:rb(e),params:{...r},unstable_pattern:s,context:ib(n)}}function Pp(t,e){return{currentUrl:Zn(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function rb(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function ib(t){if(ob(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var sb=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ob(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===sb}var r0=["POST","PUT","PATCH","DELETE"],ab=new Set(r0),lb=["GET",...r0],cb=new Set(lb),i0=new Set([301,302,303,307,308]),ub=new Set([307,308]),Eu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},db={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fb=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),s0="remix-router-transitions",o0=Symbol("ResetLoaderData");function hb(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ie(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||fb,a=s;if(t.unstable_instrumentations){let T=t.unstable_instrumentations;a=I=>({...s(I),...tb(T.map($=>$.route).filter(Boolean),I)})}let l={},c=Ro(t.routes,a,void 0,l),d,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let p=t.dataStrategy||vb,g={...t.future},y=null,x=new Set,b=null,w=null,S=null,C=t.hydrationData!=null,D=Zr(c,t.history.location,f),M=!1,L=null,N;if(D==null&&!t.patchRoutesOnNavigation){let T=Mn(404,{pathname:t.history.location.pathname}),{matches:I,route:$}=Va(c);N=!0,D=I,L={[$.id]:T}}else if(D&&!t.hydrationData&&or(D,c,t.history.location.pathname).active&&(D=null),D)if(D.some(T=>T.route.lazy))N=!1;else if(!D.some(T=>yd(T.route)))N=!0;else{let T=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null;if(I){let $=D.findIndex(Z=>I[Z.route.id]!==void 0);N=D.slice(0,$+1).every(Z=>!td(Z.route,T,I))}else N=D.every($=>!td($.route,T,I))}else{N=!1,D=[];let T=or(null,c,t.history.location.pathname);T.active&&T.matches&&(M=!0,D=T.matches)}let j,E={historyAction:t.history.action,location:t.history.location,matches:D,initialized:N,navigation:Eu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||L,fetchers:new Map,blockers:new Map},A="POP",W=null,X=!1,q,Q=!1,ae=new Map,K=null,ne=!1,ce=!1,de=new Set,Y=new Map,re=0,J=-1,z=new Map,V=new Set,ue=new Map,le=new Map,ge=new Set,_e=new Map,Oe,Le=null;function $e(){if(y=t.history.listen(({action:T,location:I,delta:$})=>{if(Oe){Oe(),Oe=void 0;return}mt(_e.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Z=ze({currentLocation:E.location,nextLocation:I,historyAction:T});if(Z&&$!=null){let se=new Promise(be=>{Oe=be});t.history.go($*-1),Re(Z,{state:"blocked",location:I,proceed(){Re(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),se.then(()=>t.history.go($))},reset(){let be=new Map(E.blockers);be.set(Z,oo),He({blockers:be})}}),W?.resolve(),W=null;return}return At(T,I)}),n){zb(e,ae);let T=()=>Fb(e,ae);e.addEventListener("pagehide",T),K=()=>e.removeEventListener("pagehide",T)}return E.initialized||At("POP",E.location,{initialHydration:!0}),j}function ht(){y&&y(),K&&K(),x.clear(),q&&q.abort(),E.fetchers.forEach((T,I)=>Pr(I)),E.blockers.forEach((T,I)=>Ee(I))}function Ht(T){return x.add(T),()=>x.delete(T)}function He(T,I={}){T.matches&&(T.matches=T.matches.map(se=>{let be=l[se.route.id],he=se.route;return he.element!==be.element||he.errorElement!==be.errorElement||he.hydrateFallbackElement!==be.hydrateFallbackElement?{...se,route:be}:se})),E={...E,...T};let $=[],Z=[];E.fetchers.forEach((se,be)=>{se.state==="idle"&&(ge.has(be)?$.push(be):Z.push(be))}),ge.forEach(se=>{!E.fetchers.has(se)&&!Y.has(se)&&$.push(se)}),[...x].forEach(se=>se(E,{deletedFetchers:$,newErrors:T.errors??null,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),$.forEach(se=>Pr(se)),Z.forEach(se=>E.fetchers.delete(se))}function Be(T,I,{flushSync:$}={}){let Z=E.actionData!=null&&E.navigation.formMethod!=null&&Bt(E.navigation.formMethod)&&E.navigation.state==="loading"&&T.state?._isRedirect!==!0,se;I.actionData?Object.keys(I.actionData).length>0?se=I.actionData:se=null:Z?se=E.actionData:se=null;let be=I.loaderData?Ip(E.loaderData,I.loaderData,I.matches||[],I.errors):E.loaderData,he=E.blockers;he.size>0&&(he=new Map(he),he.forEach((Te,Me)=>he.set(Me,oo)));let ve=ne?!1:Dn(T,I.matches||E.matches),Ce=X===!0||E.navigation.formMethod!=null&&Bt(E.navigation.formMethod)&&T.state?._isRedirect!==!0;d&&(c=d,d=void 0),ne||A==="POP"||(A==="PUSH"?t.history.push(T,T.state):A==="REPLACE"&&t.history.replace(T,T.state));let xe;if(A==="POP"){let Te=ae.get(E.location.pathname);Te&&Te.has(T.pathname)?xe={currentLocation:E.location,nextLocation:T}:ae.has(T.pathname)&&(xe={currentLocation:T,nextLocation:E.location})}else if(Q){let Te=ae.get(E.location.pathname);Te?Te.add(T.pathname):(Te=new Set([T.pathname]),ae.set(E.location.pathname,Te)),xe={currentLocation:E.location,nextLocation:T}}He({...I,actionData:se,loaderData:be,historyAction:A,location:T,initialized:!0,navigation:Eu,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:Ce,blockers:he},{viewTransitionOpts:xe,flushSync:$===!0}),A="POP",X=!1,Q=!1,ne=!1,ce=!1,W?.resolve(),W=null,Le?.resolve(),Le=null}async function Wt(T,I){if(W?.resolve(),W=null,typeof T=="number"){W||(W=Hp());let We=W.promise;return t.history.go(T),We}let $=ed(E.location,E.matches,f,T,I?.fromRouteId,I?.relative),{path:Z,submission:se,error:be}=Dp(!1,$,I),he=E.location,ve=Eo(E.location,Z,I&&I.state);ve={...ve,...t.history.encodeLocation(ve)};let Ce=I&&I.replace!=null?I.replace:void 0,xe="PUSH";Ce===!0?xe="REPLACE":Ce===!1||se!=null&&Bt(se.formMethod)&&se.formAction===E.location.pathname+E.location.search&&(xe="REPLACE");let Te=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,Me=(I&&I.flushSync)===!0,Ye=ze({currentLocation:he,nextLocation:ve,historyAction:xe});if(Ye){Re(Ye,{state:"blocked",location:ve,proceed(){Re(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),Wt(T,I)},reset(){let We=new Map(E.blockers);We.set(Ye,oo),He({blockers:We})}});return}await At(xe,ve,{submission:se,pendingError:be,preventScrollReset:Te,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:Me,callSiteDefaultShouldRevalidate:I&&I.unstable_defaultShouldRevalidate})}function Mt(){Le||(Le=Hp()),rr(),He({revalidation:"loading"});let T=Le.promise;return E.navigation.state==="submitting"?T:E.navigation.state==="idle"?(At(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),T):(At(A||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:Q===!0}),T)}async function At(T,I,$){q&&q.abort(),q=null,A=T,ne=($&&$.startUninterruptedRevalidation)===!0,it(E.location,E.matches),X=($&&$.preventScrollReset)===!0,Q=($&&$.enableViewTransition)===!0;let Z=d||c,se=$&&$.overrideNavigation,be=$?.initialHydration&&E.matches&&E.matches.length>0&&!M?E.matches:Zr(Z,I,f),he=($&&$.flushSync)===!0;if(be&&E.initialized&&!ce&&Mb(E.location,I)&&!($&&$.submission&&Bt($.submission.formMethod))){Be(I,{matches:be},{flushSync:he});return}let ve=or(be,Z,I.pathname);if(ve.active&&ve.matches&&(be=ve.matches),!be){let{error:gt,notFoundMatches:Pt,route:Ke}=Se(I.pathname);Be(I,{matches:Pt,loaderData:{},errors:{[Ke.id]:gt}},{flushSync:he});return}q=new AbortController;let Ce=gs(t.history,I,q.signal,$&&$.submission),xe=t.getContext?await t.getContext():new kp,Te;if($&&$.pendingError)Te=[ei(be).route.id,{type:"error",error:$.pendingError}];else if($&&$.submission&&Bt($.submission.formMethod)){let gt=await In(Ce,I,$.submission,be,xe,ve.active,$&&$.initialHydration===!0,{replace:$.replace,flushSync:he});if(gt.shortCircuited)return;if(gt.pendingActionResult){let[Pt,Ke]=gt.pendingActionResult;if(pn(Ke)&&Po(Ke.error)&&Ke.error.status===404){q=null,Be(I,{matches:gt.matches,loaderData:{},errors:{[Pt]:Ke.error}});return}}be=gt.matches||be,Te=gt.pendingActionResult,se=Ru(I,$.submission),he=!1,ve.active=!1,Ce=gs(t.history,Ce.url,Ce.signal)}let{shortCircuited:Me,matches:Ye,loaderData:We,errors:xt}=await Hi(Ce,I,be,xe,ve.active,se,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,he,Te,$&&$.callSiteDefaultShouldRevalidate);Me||(q=null,Be(I,{matches:Ye||be,...Bp(Te),loaderData:We,errors:xt}))}async function In(T,I,$,Z,se,be,he,ve={}){rr();let Ce=Lb(I,$);if(He({navigation:Ce},{flushSync:ve.flushSync===!0}),be){let Me=await Bn(Z,I.pathname,T.signal);if(Me.type==="aborted")return{shortCircuited:!0};if(Me.type==="error"){if(Me.partialMatches.length===0){let{matches:We,route:xt}=Va(c);return{matches:We,pendingActionResult:[xt.id,{type:"error",error:Me.error}]}}let Ye=ei(Me.partialMatches).route.id;return{matches:Me.partialMatches,pendingActionResult:[Ye,{type:"error",error:Me.error}]}}else if(Me.matches)Z=Me.matches;else{let{notFoundMatches:Ye,error:We,route:xt}=Se(I.pathname);return{matches:Ye,pendingActionResult:[xt.id,{type:"error",error:We}]}}}let xe,Te=fl(Z,I);if(!Te.route.action&&!Te.route.lazy)xe={type:"error",error:Mn(405,{method:T.method,pathname:I.pathname,routeId:Te.route.id})};else{let Me=vs(a,l,T,Z,Te,he?[]:r,se),Ye=await Pn(T,Me,se,null);if(xe=Ye[Te.route.id],!xe){for(let We of Z)if(Ye[We.route.id]){xe=Ye[We.route.id];break}}if(T.signal.aborted)return{shortCircuited:!0}}if(Ai(xe)){let Me;return ve&&ve.replace!=null?Me=ve.replace:Me=zp(xe.response.headers.get("Location"),new URL(T.url),f,t.history)===E.location.pathname+E.location.search,await gn(T,xe,!0,{submission:$,replace:Me}),{shortCircuited:!0}}if(pn(xe)){let Me=ei(Z,Te.route.id);return(ve&&ve.replace)!==!0&&(A="PUSH"),{matches:Z,pendingActionResult:[Me.route.id,xe,Te.route.id]}}return{matches:Z,pendingActionResult:[Te.route.id,xe]}}async function Hi(T,I,$,Z,se,be,he,ve,Ce,xe,Te,Me,Ye){let We=be||Ru(I,he),xt=he||ve||$p(We),gt=!ne&&!xe;if(se){if(gt){let tt=Er(Me);He({navigation:We,...tt!==void 0?{actionData:tt}:{}},{flushSync:Te})}let Ve=await Bn($,I.pathname,T.signal);if(Ve.type==="aborted")return{shortCircuited:!0};if(Ve.type==="error"){if(Ve.partialMatches.length===0){let{matches:Ar,route:lr}=Va(c);return{matches:Ar,loaderData:{},errors:{[lr.id]:Ve.error}}}let tt=ei(Ve.partialMatches).route.id;return{matches:Ve.partialMatches,loaderData:{},errors:{[tt]:Ve.error}}}else if(Ve.matches)$=Ve.matches;else{let{error:tt,notFoundMatches:Ar,route:lr}=Se(I.pathname);return{matches:Ar,loaderData:{},errors:{[lr.id]:tt}}}}let Pt=d||c,{dsMatches:Ke,revalidatingFetchers:Qt}=Tp(T,Z,a,l,t.history,E,$,xt,I,xe?[]:r,xe===!0,ce,de,ge,ue,V,Pt,f,t.patchRoutesOnNavigation!=null,Me,Ye);if(J=++re,!t.dataStrategy&&!Ke.some(Ve=>Ve.shouldLoad)&&!Ke.some(Ve=>Ve.route.middleware&&Ve.route.middleware.length>0)&&Qt.length===0){let Ve=yn();return Be(I,{matches:$,loaderData:{},errors:Me&&pn(Me[1])?{[Me[0]]:Me[1].error}:null,...Bp(Me),...Ve?{fetchers:new Map(E.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(gt){let Ve={};if(!se){Ve.navigation=We;let tt=Er(Me);tt!==void 0&&(Ve.actionData=tt)}Qt.length>0&&(Ve.fetchers=qt(Qt)),He(Ve,{flushSync:Te})}Qt.forEach(Ve=>{Kt(Ve.key),Ve.controller&&Y.set(Ve.key,Ve.controller)});let Je=()=>Qt.forEach(Ve=>Kt(Ve.key));q&&q.signal.addEventListener("abort",Je);let{loaderResults:di,fetcherResults:vn}=await nr(Ke,Qt,T,Z);if(T.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Je),Qt.forEach(Ve=>Y.delete(Ve.key));let ln=Ya(di);if(ln)return await gn(T,ln.result,!0,{replace:Ce}),{shortCircuited:!0};if(ln=Ya(vn),ln)return V.add(ln.key),await gn(T,ln.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Nr,errors:fi}=jp(E,$,di,Me,Qt,vn);xe&&E.errors&&(fi={...E.errors,...fi});let $n=yn(),ar=G(J),Yt=$n||ar||Qt.length>0;return{matches:$,loaderData:Nr,errors:fi,...Yt?{fetchers:new Map(E.fetchers)}:{}}}function Er(T){if(T&&!pn(T[1]))return{[T[0]]:T[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function qt(T){return T.forEach(I=>{let $=E.fetchers.get(I.key),Z=ao(void 0,$?$.data:void 0);E.fetchers.set(I.key,Z)}),new Map(E.fetchers)}async function Vt(T,I,$,Z){Kt(T);let se=(Z&&Z.flushSync)===!0,be=d||c,he=ed(E.location,E.matches,f,$,I,Z?.relative),ve=Zr(be,he,f),Ce=or(ve,be,he);if(Ce.active&&Ce.matches&&(ve=Ce.matches),!ve){Rt(T,I,Mn(404,{pathname:he}),{flushSync:se});return}let{path:xe,submission:Te,error:Me}=Dp(!0,he,Z);if(Me){Rt(T,I,Me,{flushSync:se});return}let Ye=t.getContext?await t.getContext():new kp,We=(Z&&Z.preventScrollReset)===!0;if(Te&&Bt(Te.formMethod)){await tr(T,I,xe,ve,Ye,Ce.active,se,We,Te,Z&&Z.unstable_defaultShouldRevalidate);return}ue.set(T,{routeId:I,path:xe}),await Rr(T,I,xe,ve,Ye,Ce.active,se,We,Te)}async function tr(T,I,$,Z,se,be,he,ve,Ce,xe){rr(),ue.delete(T);let Te=E.fetchers.get(T);Et(T,Ob(Ce,Te),{flushSync:he});let Me=new AbortController,Ye=gs(t.history,$,Me.signal,Ce);if(be){let lt=await Bn(Z,new URL(Ye.url).pathname,Ye.signal,T);if(lt.type==="aborted")return;if(lt.type==="error"){Rt(T,I,lt.error,{flushSync:he});return}else if(lt.matches)Z=lt.matches;else{Rt(T,I,Mn(404,{pathname:$}),{flushSync:he});return}}let We=fl(Z,$);if(!We.route.action&&!We.route.lazy){let lt=Mn(405,{method:Ce.formMethod,pathname:$,routeId:I});Rt(T,I,lt,{flushSync:he});return}Y.set(T,Me);let xt=re,gt=vs(a,l,Ye,Z,We,r,se),Pt=await Pn(Ye,gt,se,T),Ke=Pt[We.route.id];if(!Ke){for(let lt of gt)if(Pt[lt.route.id]){Ke=Pt[lt.route.id];break}}if(Ye.signal.aborted){Y.get(T)===Me&&Y.delete(T);return}if(ge.has(T)){if(Ai(Ke)||pn(Ke)){Et(T,xr(void 0));return}}else{if(Ai(Ke))if(Y.delete(T),J>xt){Et(T,xr(void 0));return}else return V.add(T),Et(T,ao(Ce)),gn(Ye,Ke,!1,{fetcherSubmission:Ce,preventScrollReset:ve});if(pn(Ke)){Rt(T,I,Ke.error);return}}let Qt=E.navigation.location||E.location,Je=gs(t.history,Qt,Me.signal),di=d||c,vn=E.navigation.state!=="idle"?Zr(di,E.navigation.location,f):E.matches;Ie(vn,"Didn't find any matches after fetcher action");let ln=++re;z.set(T,ln);let Nr=ao(Ce,Ke.data);E.fetchers.set(T,Nr);let{dsMatches:fi,revalidatingFetchers:$n}=Tp(Je,se,a,l,t.history,E,vn,Ce,Qt,r,!1,ce,de,ge,ue,V,di,f,t.patchRoutesOnNavigation!=null,[We.route.id,Ke],xe);$n.filter(lt=>lt.key!==T).forEach(lt=>{let cr=lt.key,hi=E.fetchers.get(cr),pi=ao(void 0,hi?hi.data:void 0);E.fetchers.set(cr,pi),Kt(cr),lt.controller&&Y.set(cr,lt.controller)}),He({fetchers:new Map(E.fetchers)});let ar=()=>$n.forEach(lt=>Kt(lt.key));Me.signal.addEventListener("abort",ar);let{loaderResults:Yt,fetcherResults:Ve}=await nr(fi,$n,Je,se);if(Me.signal.aborted)return;if(Me.signal.removeEventListener("abort",ar),z.delete(T),Y.delete(T),$n.forEach(lt=>Y.delete(lt.key)),E.fetchers.has(T)){let lt=xr(Ke.data);E.fetchers.set(T,lt)}let tt=Ya(Yt);if(tt)return gn(Je,tt.result,!1,{preventScrollReset:ve});if(tt=Ya(Ve),tt)return V.add(tt.key),gn(Je,tt.result,!1,{preventScrollReset:ve});let{loaderData:Ar,errors:lr}=jp(E,vn,Yt,void 0,$n,Ve);G(ln),E.navigation.state==="loading"&&ln>J?(Ie(A,"Expected pending action"),q&&q.abort(),Be(E.navigation.location,{matches:vn,loaderData:Ar,errors:lr,fetchers:new Map(E.fetchers)})):(He({errors:lr,loaderData:Ip(E.loaderData,Ar,vn,lr),fetchers:new Map(E.fetchers)}),ce=!1)}async function Rr(T,I,$,Z,se,be,he,ve,Ce){let xe=E.fetchers.get(T);Et(T,ao(Ce,xe?xe.data:void 0),{flushSync:he});let Te=new AbortController,Me=gs(t.history,$,Te.signal);if(be){let Ke=await Bn(Z,new URL(Me.url).pathname,Me.signal,T);if(Ke.type==="aborted")return;if(Ke.type==="error"){Rt(T,I,Ke.error,{flushSync:he});return}else if(Ke.matches)Z=Ke.matches;else{Rt(T,I,Mn(404,{pathname:$}),{flushSync:he});return}}let Ye=fl(Z,$);Y.set(T,Te);let We=re,xt=vs(a,l,Me,Z,Ye,r,se),Pt=(await Pn(Me,xt,se,T))[Ye.route.id];if(Y.get(T)===Te&&Y.delete(T),!Me.signal.aborted){if(ge.has(T)){Et(T,xr(void 0));return}if(Ai(Pt))if(J>We){Et(T,xr(void 0));return}else{V.add(T),await gn(Me,Pt,!1,{preventScrollReset:ve});return}if(pn(Pt)){Rt(T,I,Pt.error);return}Et(T,xr(Pt.data))}}async function gn(T,I,$,{submission:Z,fetcherSubmission:se,preventScrollReset:be,replace:he}={}){$||(W?.resolve(),W=null),I.response.headers.has("X-Remix-Revalidate")&&(ce=!0);let ve=I.response.headers.get("Location");Ie(ve,"Expected a Location header on the redirect Response"),ve=zp(ve,new URL(T.url),f,t.history);let Ce=Eo(E.location,ve,{_isRedirect:!0});if(n){let xt=!1;if(I.response.headers.has("X-Remix-Reload-Document"))xt=!0;else if(Rl(ve)){const gt=qg(ve,!0);xt=gt.origin!==e.location.origin||En(gt.pathname,f)==null}if(xt){he?e.location.replace(ve):e.location.assign(ve);return}}q=null;let xe=he===!0||I.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:Me,formEncType:Ye}=E.navigation;!Z&&!se&&Te&&Me&&Ye&&(Z=$p(E.navigation));let We=Z||se;if(ub.has(I.response.status)&&We&&Bt(We.formMethod))await At(xe,Ce,{submission:{...We,formAction:ve},preventScrollReset:be||X,enableViewTransition:$?Q:void 0});else{let xt=Ru(Ce,Z);await At(xe,Ce,{overrideNavigation:xt,fetcherSubmission:se,preventScrollReset:be||X,enableViewTransition:$?Q:void 0})}}async function Pn(T,I,$,Z){let se,be={};try{se=await bb(p,T,I,Z,$,!1)}catch(he){return I.filter(ve=>ve.shouldLoad).forEach(ve=>{be[ve.route.id]={type:"error",error:he}}),be}if(T.signal.aborted)return be;if(!Bt(T.method))for(let he of I){if(se[he.route.id]?.type==="error")break;!se.hasOwnProperty(he.route.id)&&!E.loaderData.hasOwnProperty(he.route.id)&&(!E.errors||!E.errors.hasOwnProperty(he.route.id))&&he.shouldCallHandler()&&(se[he.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${he.route.id}`)})}for(let[he,ve]of Object.entries(se))if(Db(ve)){let Ce=ve.result;be[he]={type:"redirect",response:kb(Ce,T,he,I,f)}}else be[he]=await Sb(ve);return be}async function nr(T,I,$,Z){let se=Pn($,T,Z,null),be=Promise.all(I.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let Te=(await Pn(Ce.request,Ce.matches,Z,Ce.key))[Ce.match.route.id];return{[Ce.key]:Te}}else return Promise.resolve({[Ce.key]:{type:"error",error:Mn(404,{pathname:Ce.path})}})})),he=await se,ve=(await be).reduce((Ce,xe)=>Object.assign(Ce,xe),{});return{loaderResults:he,fetcherResults:ve}}function rr(){ce=!0,ue.forEach((T,I)=>{Y.has(I)&&de.add(I),Kt(I)})}function Et(T,I,$={}){E.fetchers.set(T,I),He({fetchers:new Map(E.fetchers)},{flushSync:($&&$.flushSync)===!0})}function Rt(T,I,$,Z={}){let se=ei(E.matches,I);Pr(T),He({errors:{[se.route.id]:$},fetchers:new Map(E.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function wt(T){return le.set(T,(le.get(T)||0)+1),ge.has(T)&&ge.delete(T),E.fetchers.get(T)||db}function ir(T,I){Kt(T,I?.reason),Et(T,xr(null))}function Pr(T){let I=E.fetchers.get(T);Y.has(T)&&!(I&&I.state==="loading"&&z.has(T))&&Kt(T),ue.delete(T),z.delete(T),V.delete(T),ge.delete(T),de.delete(T),E.fetchers.delete(T)}function ui(T){let I=(le.get(T)||0)-1;I<=0?(le.delete(T),ge.add(T)):le.set(T,I),He({fetchers:new Map(E.fetchers)})}function Kt(T,I){let $=Y.get(T);$&&($.abort(I),Y.delete(T))}function sr(T){for(let I of T){let $=wt(I),Z=xr($.data);E.fetchers.set(I,Z)}}function yn(){let T=[],I=!1;for(let $ of V){let Z=E.fetchers.get($);Ie(Z,`Expected fetcher: ${$}`),Z.state==="loading"&&(V.delete($),T.push($),I=!0)}return sr(T),I}function G(T){let I=[];for(let[$,Z]of z)if(Z<T){let se=E.fetchers.get($);Ie(se,`Expected fetcher: ${$}`),se.state==="loading"&&(Kt($),z.delete($),I.push($))}return sr(I),I.length>0}function ke(T,I){let $=E.blockers.get(T)||oo;return _e.get(T)!==I&&_e.set(T,I),$}function Ee(T){E.blockers.delete(T),_e.delete(T)}function Re(T,I){let $=E.blockers.get(T)||oo;Ie($.state==="unblocked"&&I.state==="blocked"||$.state==="blocked"&&I.state==="blocked"||$.state==="blocked"&&I.state==="proceeding"||$.state==="blocked"&&I.state==="unblocked"||$.state==="proceeding"&&I.state==="unblocked",`Invalid blocker state transition: ${$.state} -> ${I.state}`);let Z=new Map(E.blockers);Z.set(T,I),He({blockers:Z})}function ze({currentLocation:T,nextLocation:I,historyAction:$}){if(_e.size===0)return;_e.size>1&&mt(!1,"A router only supports one blocker at a time");let Z=Array.from(_e.entries()),[se,be]=Z[Z.length-1],he=E.blockers.get(se);if(!(he&&he.state==="proceeding")&&be({currentLocation:T,nextLocation:I,historyAction:$}))return se}function Se(T){let I=Mn(404,{pathname:T}),$=d||c,{matches:Z,route:se}=Va($);return{notFoundMatches:Z,route:se,error:I}}function Xe(T,I,$){if(b=T,S=I,w=$||null,!C&&E.navigation===Eu){C=!0;let Z=Dn(E.location,E.matches);Z!=null&&He({restoreScrollPosition:Z})}return()=>{b=null,S=null,w=null}}function Ne(T,I){return w&&w(T,I.map(Z=>Fx(Z,E.loaderData)))||T.key}function it(T,I){if(b&&S){let $=Ne(T,I);b[$]=S()}}function Dn(T,I){if(b){let $=Ne(T,I),Z=b[$];if(typeof Z=="number")return Z}return null}function or(T,I,$){if(t.patchRoutesOnNavigation)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:go(I,$,f,!0)}}else return{active:!0,matches:go(I,$,f,!0)||[]};return{active:!1,matches:null}}async function Bn(T,I,$,Z){if(!t.patchRoutesOnNavigation)return{type:"success",matches:T};let se=T;for(;;){let be=d==null,he=d||c,ve=l;try{await t.patchRoutesOnNavigation({signal:$,path:I,matches:se,fetcherKey:Z,patch:(Te,Me)=>{$.aborted||Np(Te,Me,he,ve,a,!1)}})}catch(Te){return{type:"error",error:Te,partialMatches:se}}finally{be&&!$.aborted&&(c=[...c])}if($.aborted)return{type:"aborted"};let Ce=Zr(he,I,f),xe=null;if(Ce){if(Object.keys(Ce[0].params).length===0)return{type:"success",matches:Ce};if(xe=go(he,I,f,!0),!(xe&&se.length<xe.length&&Dr(se,xe.slice(0,se.length))))return{type:"success",matches:Ce}}if(xe||(xe=go(he,I,f,!0)),!xe||Dr(se,xe))return{type:"success",matches:null};se=xe}}function Dr(T,I){return T.length===I.length&&T.every(($,Z)=>$.route.id===I[Z].route.id)}function Un(T){l={},d=Ro(T,a,void 0,l)}function Tr(T,I,$=!1){let Z=d==null;Np(T,I,d||c,l,a,$),Z&&(c=[...c],He({}))}return j={get basename(){return f},get future(){return g},get state(){return E},get routes(){return c},get window(){return e},initialize:$e,subscribe:Ht,enableScrollRestoration:Xe,navigate:Wt,fetch:Vt,revalidate:Mt,createHref:T=>t.history.createHref(T),encodeLocation:T=>t.history.encodeLocation(T),getFetcher:wt,resetFetcher:ir,deleteFetcher:ui,dispose:ht,getBlocker:ke,deleteBlocker:Ee,patchRoutes:Tr,_internalFetchControllers:Y,_internalSetRoutes:Un,_internalSetStateDoNotUseOrYouWillBreakYourApp(T){He(T)}},t.unstable_instrumentations&&(j=nb(j,t.unstable_instrumentations.map(T=>T.router).filter(Boolean))),j}function pb(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ed(t,e,n,r,s,a){let l,c;if(s){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let d=gd(r||".",md(l),En(t.pathname,n)||t.pathname,a==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let f=xd(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(d.search),g=p.getAll("index");p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let y=p.toString();d.search=y?`?${y}`:""}}return n!=="/"&&(d.pathname=Kx({basename:n,pathname:d.pathname})),Zn(d)}function Dp(t,e,n){if(!n||!pb(n))return{path:e};if(n.formMethod&&!Ab(n.formMethod))return{path:e,error:Mn(405,{method:n.formMethod})};let r=()=>({path:e,error:Mn(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),l=f0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Bt(a))return r();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,[x,b])=>`${y}${x}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!Bt(a))return r();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}Ie(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=rd(n.formData),d=n.formData;else if(n.body instanceof FormData)c=rd(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=Fp(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=Fp(c)}catch{return r()}let f={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Bt(f.formMethod))return{path:e,submission:f};let p=Mr(e);return t&&p.search&&xd(p.search)&&c.append("index",""),p.search=`?${c}`,{path:Zn(p),submission:f}}function Tp(t,e,n,r,s,a,l,c,d,f,p,g,y,x,b,w,S,C,D,M,L){let N=M?pn(M[1])?M[1].error:M[1].data:void 0,j=s.createURL(a.location),E=s.createURL(d),A;if(p&&a.errors){let ne=Object.keys(a.errors)[0];A=l.findIndex(ce=>ce.route.id===ne)}else if(M&&pn(M[1])){let ne=M[0];A=l.findIndex(ce=>ce.route.id===ne)-1}let W=M?M[1].statusCode:void 0,X=W&&W>=400,q={currentUrl:j,currentParams:a.matches[0]?.params||{},nextUrl:E,nextParams:l[0].params,...c,actionResult:N,actionStatus:W},Q=jo(l),ae=l.map((ne,ce)=>{let{route:de}=ne,Y=null;if(A!=null&&ce>A?Y=!1:de.lazy?Y=!0:yd(de)?p?Y=td(de,a.loaderData,a.errors):mb(a.loaderData,a.matches[ce],ne)&&(Y=!0):Y=!1,Y!==null)return nd(n,r,t,Q,ne,f,e,Y);let re=!1;typeof L=="boolean"?re=L:X?re=!1:(g||j.pathname+j.search===E.pathname+E.search||j.search!==E.search||gb(a.matches[ce],ne))&&(re=!0);let J={...q,defaultShouldRevalidate:re},z=bo(ne,J);return nd(n,r,t,Q,ne,f,e,z,J,L)}),K=[];return b.forEach((ne,ce)=>{if(p||!l.some(le=>le.route.id===ne.routeId)||x.has(ce))return;let de=a.fetchers.get(ce),Y=de&&de.state!=="idle"&&de.data===void 0,re=Zr(S,ne.path,C);if(!re){if(D&&Y)return;K.push({key:ce,routeId:ne.routeId,path:ne.path,matches:null,match:null,request:null,controller:null});return}if(w.has(ce))return;let J=fl(re,ne.path),z=new AbortController,V=gs(s,ne.path,z.signal),ue=null;if(y.has(ce))y.delete(ce),ue=vs(n,r,V,re,J,f,e);else if(Y)g&&(ue=vs(n,r,V,re,J,f,e));else{let le;typeof L=="boolean"?le=L:X?le=!1:le=g;let ge={...q,defaultShouldRevalidate:le};bo(J,ge)&&(ue=vs(n,r,V,re,J,f,e,ge))}ue&&K.push({key:ce,routeId:ne.routeId,path:ne.path,matches:ue,match:J,request:V,controller:z})}),{dsMatches:ae,revalidatingFetchers:K}}function yd(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function td(t,e,n){if(t.lazy)return!0;if(!yd(t))return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function mb(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function gb(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function bo(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Np(t,e,n,r,s,a){let l;if(t){let f=r[t];Ie(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=n;let c=[],d=[];if(e.forEach(f=>{let p=l.find(g=>a0(f,g));p?d.push({existingRoute:p,newRoute:f}):c.push(f)}),c.length>0){let f=Ro(c,s,[t||"_","patch",String(l?.length||"0")],r);l.push(...f)}if(a&&d.length>0)for(let f=0;f<d.length;f++){let{existingRoute:p,newRoute:g}=d[f],y=p,[x]=Ro([g],s,[],{},!0);Object.assign(y,{element:x.element?x.element:y.element,errorElement:x.errorElement?x.errorElement:y.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:y.hydrateFallbackElement})}}function a0(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(s=>a0(n,s))):!1}var Ap=new WeakMap,l0=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(Ie(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[t];if(!a)return;let l=Ap.get(s);l||(l={},Ap.set(s,l));let c=l[t];if(c)return c;let d=(async()=>{let f=Ax(t),g=s[t]!==void 0&&t!=="hasErrorBoundary";if(f)mt(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(g)mt(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let y=await a();y!=null&&(Object.assign(s,{[t]:y}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(y=>y===void 0)&&(s.lazy=void 0))})();return l[t]=d,d},Lp=new WeakMap;function yb(t,e,n,r,s){let a=n[t.id];if(Ie(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=Lp.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=(async()=>{Ie(typeof t.lazy=="function","No lazy route function found");let y=await t.lazy(),x={};for(let b in y){let w=y[b];if(w===void 0)continue;let S=Ox(b),D=a[b]!==void 0&&b!=="hasErrorBoundary";S?mt(!S,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?mt(!D,`Route "${a.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):x[b]=w}Object.assign(a,x),Object.assign(a,{...r(a),lazy:void 0})})();return Lp.set(a,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(t.lazy),c=[],d;for(let p of l){if(s&&s.includes(p))continue;let g=l0({key:p,route:t,manifest:n,mapRouteProperties:r});g&&(c.push(g),p===e&&(d=g))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function Op(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{n[e[a].route.id]=s}),n}async function vb(t){return t.matches.some(e=>e.route.middleware)?c0(t,()=>Op(t)):Op(t)}function c0(t,e){return xb(t,e,r=>{if(Nb(r))throw r;return r},Rb,n);function n(r,s,a){if(a)return Promise.resolve(Object.assign(a.value,{[s]:{type:"error",result:r}}));{let{matches:l}=t,c=Math.min(Math.max(l.findIndex(f=>f.route.id===s),0),Math.max(l.findIndex(f=>f.shouldCallHandler()),0)),d=ei(l,l[c].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function xb(t,e,n,r,s){let{matches:a,request:l,params:c,context:d,unstable_pattern:f}=t,p=a.flatMap(y=>y.route.middleware?y.route.middleware.map(x=>[y.route.id,x]):[]);return await u0({request:l,params:c,context:d,unstable_pattern:f},p,e,n,r,s)}async function u0(t,e,n,r,s,a,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let d=e[l];if(!d)return await n();let[f,p]=d,g,y=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await u0(t,e,n,r,s,a,l+1)},g.value}catch(x){return g={value:await a(x,f,g)},g.value}};try{let x=await p(t,y),b=x!=null?r(x):void 0;return s(b)?b:g?b??g.value:(g={value:await y()},g.value)}catch(x){return await a(x,f,g)}}function d0(t,e,n,r,s){let a=l0({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=yb(r.route,Bt(n.method)?"action":"loader",e,t,s);return{middleware:a,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function nd(t,e,n,r,s,a,l,c,d=null,f){let p=!1,g=d0(t,e,n,s,a);return{...s,_lazyPromises:g,shouldLoad:c,shouldRevalidateArgs:d,shouldCallHandler(y){return p=!0,d?typeof f=="boolean"?bo(s,{...d,defaultShouldRevalidate:f}):typeof y=="boolean"?bo(s,{...d,defaultShouldRevalidate:y}):bo(s,d):c},resolve(y){let{lazy:x,loader:b,middleware:w}=s.route,S=p||c||y&&!Bt(n.method)&&(x||b),C=w&&w.length>0&&!b&&!x;return S&&(Bt(n.method)||!C)?wb({request:n,unstable_pattern:r,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:y,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function vs(t,e,n,r,s,a,l,c=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:d0(t,e,n,d,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:nd(t,e,n,jo(r),d,a,l,!0,c))}async function bb(t,e,n,r,s,a){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let l={request:e,unstable_pattern:jo(n),params:n[0].params,context:s,matches:n},d=await t({...l,fetcherKey:r,runClientMiddleware:f=>{let p=l;return c0(p,()=>f({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function wb({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let c,d,f=Bt(t.method),p=f?"action":"loader",g=y=>{let x,b=new Promise((C,D)=>x=D);d=()=>x(),t.signal.addEventListener("abort",d);let w=C=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):y({request:t,unstable_pattern:e,params:n.params,context:l},...C!==void 0?[C]:[]),S=(async()=>{try{return{type:"data",result:await(a?a(D=>w(D)):w())}}catch(C){return{type:"error",result:C}}})();return Promise.race([S,b])};try{let y=f?n.route.action:n.route.loader;if(r||s)if(y){let x,[b]=await Promise.all([g(y).catch(w=>{x=w}),r,s]);if(x!==void 0)throw x;c=b}else{await r;let x=f?n.route.action:n.route.loader;if(x)[c]=await Promise.all([g(x),s]);else if(p==="action"){let b=new URL(t.url),w=b.pathname+b.search;throw Mn(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(y)c=await g(y);else{let x=new URL(t.url),b=x.pathname+x.search;throw Mn(404,{pathname:b})}}catch(y){return{type:"error",result:y}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function _b(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function Sb(t){let{result:e,type:n}=t;if(vd(e)){let r;try{r=await _b(e)}catch(s){return{type:"error",error:s}}return n==="error"?{type:"error",error:new Fo(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?Up(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:Eb(e),statusCode:Po(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Po(e)?e.status:void 0}:Up(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function kb(t,e,n,r,s){let a=t.headers.get("Location");if(Ie(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rl(a)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);a=ed(new URL(e.url),l,s,a),t.headers.set("Location",a)}return t}function zp(t,e,n,r){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Rl(t)){let a=t,l=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(s.includes(l.protocol))throw new Error("Invalid redirect location");let c=En(l.pathname,n)!=null;if(l.origin===e.origin&&c)return l.pathname+l.search+l.hash}try{let a=r.createURL(t);if(s.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return t}function gs(t,e,n,r){let s=t.createURL(f0(e)).toString(),a={signal:n};if(r&&Bt(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=rd(r.formData):a.body=r.formData}return new Request(s,a)}function rd(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Fp(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Cb(t,e,n,r=!1,s=!1){let a={},l=null,c,d=!1,f={},p=n&&pn(n[1])?n[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let y=g.route.id,x=e[y];if(Ie(!Ai(x),"Cannot handle redirect results in processLoaderData"),pn(x)){let b=x.error;if(p!==void 0&&(b=p,p=void 0),l=l||{},s)l[y]=b;else{let w=ei(t,y);l[w.route.id]==null&&(l[w.route.id]=b)}r||(a[y]=o0),d||(d=!0,c=Po(x.error)?x.error.status:500),x.headers&&(f[y]=x.headers)}else a[y]=x.data,x.statusCode&&x.statusCode!==200&&!d&&(c=x.statusCode),x.headers&&(f[y]=x.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:f}}function jp(t,e,n,r,s,a){let{loaderData:l,errors:c}=Cb(e,n,r);return s.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:g}=d;if(g&&g.signal.aborted)return;let y=a[f];if(Ie(y,"Did not find corresponding fetcher result"),pn(y)){let x=ei(t.matches,p?.route.id);c&&c[x.route.id]||(c={...c,[x.route.id]:y.error}),t.fetchers.delete(f)}else if(Ai(y))Ie(!1,"Unhandled fetcher revalidation redirect");else{let x=xr(y.data);t.fetchers.set(f,x)}}),{loaderData:l,errors:c}}function Ip(t,e,n,r){let s=Object.entries(e).filter(([,a])=>a!==o0).reduce((a,[l,c])=>(a[l]=c,a),{});for(let a of n){let l=a.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&a.route.loader&&(s[l]=t[l]),r&&r.hasOwnProperty(l))break}return s}function Bp(t){return t?pn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ei(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Va(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Mn(t,{pathname:e,routeId:n,method:r,type:s,message:a}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Fo(t||500,l,new Error(c),!0)}function Ya(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ai(s))return{key:r,result:s}}}function f0(t){let e=typeof t=="string"?Mr(t):t;return Zn({...e,hash:""})}function Mb(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Eb(t){return new Fo(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function Rb(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&Pb(n))}function Pb(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function Db(t){return vd(t.result)&&i0.has(t.result.status)}function pn(t){return t.type==="error"}function Ai(t){return(t&&t.type)==="redirect"}function Up(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function vd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Tb(t){return i0.has(t)}function Nb(t){return vd(t)&&Tb(t.status)&&t.headers.has("Location")}function Ab(t){return cb.has(t.toUpperCase())}function Bt(t){return ab.has(t.toUpperCase())}function xd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function fl(t,e){let n=typeof e=="string"?Mr(e).search:e.search;if(t[t.length-1].route.index&&xd(n||""))return t[t.length-1];let r=Zg(t);return r[r.length-1]}function $p(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:a,json:l}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Ru(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Lb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ao(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ob(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function zb(t,e){try{let n=t.sessionStorage.getItem(s0);if(n){let r=JSON.parse(n);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function Fb(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(s0,JSON.stringify(n))}catch(r){mt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Hp(){let t,e,n=new Promise((r,s)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{s(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Bi=P.createContext(null);Bi.displayName="DataRouter";var Io=P.createContext(null);Io.displayName="DataRouterState";var h0=P.createContext(!1);function jb(){return P.useContext(h0)}var bd=P.createContext({isTransitioning:!1});bd.displayName="ViewTransition";var p0=P.createContext(new Map);p0.displayName="Fetchers";var Ib=P.createContext(null);Ib.displayName="Await";var Rn=P.createContext(null);Rn.displayName="Navigation";var Pl=P.createContext(null);Pl.displayName="Location";var er=P.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var wd=P.createContext(null);wd.displayName="RouteError";var m0="REACT_ROUTER_ERROR",Bb="REDIRECT",Ub="ROUTE_ERROR_RESPONSE";function $b(t){if(t.startsWith(`${m0}:${Bb}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Hb(t){if(t.startsWith(`${m0}:${Ub}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Fo(e.status,e.statusText,e.data)}catch{}}function Wb(t,{relative:e}={}){Ie(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Rn),{hash:s,pathname:a,search:l}=Uo(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Qn([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Bo(){return P.useContext(Pl)!=null}function Ui(){return Ie(Bo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Pl).location}var g0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y0(t){P.useContext(Rn).static||P.useLayoutEffect(t)}function Vb(){let{isDataRoute:t}=P.useContext(er);return t?o1():Yb()}function Yb(){Ie(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Bi),{basename:e,navigator:n}=P.useContext(Rn),{matches:r}=P.useContext(er),{pathname:s}=Ui(),a=JSON.stringify(md(r)),l=P.useRef(!1);return y0(()=>{l.current=!0}),P.useCallback((d,f={})=>{if(mt(l.current,g0),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=gd(d,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Qn([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,a,s,t])}var Gb=P.createContext(null);function Xb(t){let e=P.useContext(er).outlet;return P.useMemo(()=>e&&P.createElement(Gb.Provider,{value:t},e),[e,t])}function Uo(t,{relative:e}={}){let{matches:n}=P.useContext(er),{pathname:r}=Ui(),s=JSON.stringify(md(n));return P.useMemo(()=>gd(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function qb(t,e,n,r,s){Ie(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(Rn),{matches:l}=P.useContext(er),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let D=g&&g.path||"";x0(f,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Ui(),x;x=y;let b=x.pathname||"/",w=b;if(p!=="/"){let D=p.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=Zr(t,{pathname:w});return mt(g||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),mt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),e1(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Qn([p,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Qn([p,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),l,n,r,s)}function Kb(){let t=s1(),e=Po(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,l)}var Qb=P.createElement(Kb,null),v0=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Hb(t.digest);n&&(t=n)}let e=t!==void 0?P.createElement(er.Provider,{value:this.props.routeContext},P.createElement(wd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?P.createElement(Jb,{error:t},e):e}};v0.contextType=h0;var Pu=new WeakMap;function Jb({children:t,error:e}){let{basename:n}=P.useContext(Rn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=$b(e.digest);if(r){let s=Pu.get(e);if(s)throw s;let a=t0(r.location,n);if(e0&&!Pu.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Pu.set(e,l),l}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function Zb({routeContext:t,match:e,children:n}){let r=P.useContext(Bi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(er.Provider,{value:t},n)}function e1(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Ie(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:y,errors:x}=n,b=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:jo(n.matches),errorInfo:g})}:void 0;return a.reduceRight((p,g,y)=>{let x,b=!1,w=null,S=null;n&&(x=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||Qb,c&&(d<0&&y===0?(x0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):d===y&&(b=!0,S=g.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,y+1)),D=()=>{let M;return x?M=w:b?M=S:g.route.Component?M=P.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,P.createElement(Zb,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?P.createElement(v0,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):D()},null)}function _d(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t1(t){let e=P.useContext(Bi);return Ie(e,_d(t)),e}function n1(t){let e=P.useContext(Io);return Ie(e,_d(t)),e}function r1(t){let e=P.useContext(er);return Ie(e,_d(t)),e}function Sd(t){let e=r1(t),n=e.matches[e.matches.length-1];return Ie(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function i1(){return Sd("useRouteId")}function s1(){let t=P.useContext(wd),e=n1("useRouteError"),n=Sd("useRouteError");return t!==void 0?t:e.errors?.[n]}function o1(){let{router:t}=t1("useNavigate"),e=Sd("useNavigate"),n=P.useRef(!1);return y0(()=>{n.current=!0}),P.useCallback(async(s,a={})=>{mt(n.current,g0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Wp={};function x0(t,e,n){!e&&!Wp[t]&&(Wp[t]=!0,mt(!1,n))}var Vp={};function Yp(t,e){!t&&!Vp[e]&&(Vp[e]=!0,console.warn(e))}var a1="useOptimistic",Gp=bx[a1],l1=()=>{};function c1(t){return Gp?Gp(t):[t,l1]}function u1(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&mt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:P.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&mt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&mt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var d1=["HydrateFallback","hydrateFallbackElement"],f1=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function h1({router:t,flushSync:e,onError:n,unstable_useTransitions:r}){r=jb()||r;let[a,l]=P.useState(t.state),[c,d]=c1(a),[f,p]=P.useState(),[g,y]=P.useState({isTransitioning:!1}),[x,b]=P.useState(),[w,S]=P.useState(),[C,D]=P.useState(),M=P.useRef(new Map),L=P.useCallback((A,{deletedFetchers:W,newErrors:X,flushSync:q,viewTransitionOpts:Q})=>{X&&n&&Object.values(X).forEach(K=>n(K,{location:A.location,params:A.matches[0]?.params??{},unstable_pattern:jo(A.matches)})),A.fetchers.forEach((K,ne)=>{K.data!==void 0&&M.current.set(ne,K.data)}),W.forEach(K=>M.current.delete(K)),Yp(q===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ae=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Yp(Q==null||ae,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Q||!ae){e&&q?e(()=>l(A)):r===!1?l(A):P.startTransition(()=>{r===!0&&d(K=>Xp(K,A)),l(A)});return}if(e&&q){e(()=>{w&&(x?.resolve(),w.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})});let K=t.window.document.startViewTransition(()=>{e(()=>l(A))});K.finished.finally(()=>{e(()=>{b(void 0),S(void 0),p(void 0),y({isTransitioning:!1})})}),e(()=>S(K));return}w?(x?.resolve(),w.skipTransition(),D({state:A,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})):(p(A),y({isTransitioning:!0,flushSync:!1,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation}))},[t.window,e,w,x,r,d,n]);P.useLayoutEffect(()=>t.subscribe(L),[t,L]),P.useEffect(()=>{g.isTransitioning&&!g.flushSync&&b(new f1)},[g]),P.useEffect(()=>{if(x&&f&&t.window){let A=f,W=x.promise,X=t.window.document.startViewTransition(async()=>{r===!1?l(A):P.startTransition(()=>{r===!0&&d(q=>Xp(q,A)),l(A)}),await W});X.finished.finally(()=>{b(void 0),S(void 0),p(void 0),y({isTransitioning:!1})}),S(X)}},[f,x,t.window,r,d]),P.useEffect(()=>{x&&f&&c.location.key===f.location.key&&x.resolve()},[x,w,c.location,f]),P.useEffect(()=>{!g.isTransitioning&&C&&(p(C.state),y({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),D(void 0))},[g.isTransitioning,C]);let N=P.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,W,X)=>t.navigate(A,{state:W,preventScrollReset:X?.preventScrollReset}),replace:(A,W,X)=>t.navigate(A,{replace:!0,state:W,preventScrollReset:X?.preventScrollReset})}),[t]),j=t.basename||"/",E=P.useMemo(()=>({router:t,navigator:N,static:!1,basename:j,onError:n}),[t,N,j,n]);return P.createElement(P.Fragment,null,P.createElement(Bi.Provider,{value:E},P.createElement(Io.Provider,{value:c},P.createElement(p0.Provider,{value:M.current},P.createElement(bd.Provider,{value:g},P.createElement(y1,{basename:j,location:c.location,navigationType:c.historyAction,navigator:N,unstable_useTransitions:r},P.createElement(p1,{routes:t.routes,future:t.future,state:c,onError:n})))))),null)}function Xp(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var p1=P.memo(m1);function m1({routes:t,future:e,state:n,onError:r}){return qb(t,void 0,n,r,e)}function g1(t){return Xb(t.context)}function y1({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){Ie(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[c,s,a,l]);typeof n=="string"&&(n=Mr(n));let{pathname:f="/",search:p="",hash:g="",state:y=null,key:x="default"}=n,b=P.useMemo(()=>{let w=En(f,c);return w==null?null:{location:{pathname:w,search:p,hash:g,state:y,key:x},navigationType:r}},[c,f,p,g,y,x,r]);return mt(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Rn.Provider,{value:d},P.createElement(Pl.Provider,{children:e,value:b}))}var hl="get",pl="application/x-www-form-urlencoded";function Dl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function v1(t){return Dl(t)&&t.tagName.toLowerCase()==="button"}function x1(t){return Dl(t)&&t.tagName.toLowerCase()==="form"}function b1(t){return Dl(t)&&t.tagName.toLowerCase()==="input"}function w1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _1(t,e){return t.button===0&&(!e||e==="_self")&&!w1(t)}var Ga=null;function S1(){if(Ga===null)try{new FormData(document.createElement("form"),0),Ga=!1}catch{Ga=!0}return Ga}var k1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Du(t){return t!=null&&!k1.has(t)?(mt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pl}"`),null):t}function C1(t,e){let n,r,s,a,l;if(x1(t)){let c=t.getAttribute("action");r=c?En(c,e):null,n=t.getAttribute("method")||hl,s=Du(t.getAttribute("enctype"))||pl,a=new FormData(t)}else if(v1(t)||b1(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?En(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||hl,s=Du(t.getAttribute("formenctype"))||Du(c.getAttribute("enctype"))||pl,a=new FormData(c,t),!S1()){let{name:f,type:p,value:g}=t;if(p==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,g)}}else{if(Dl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hl,r=null,s=pl,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kd(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M1(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&En(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function E1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function R1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function P1(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await E1(a,n);return l.links?l.links():[]}return[]}));return A1(r.flat(1).filter(R1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qp(t,e,n,r,s,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function D1(t,e,{includeHydrateFallback:n}={}){return T1(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function T1(t){return[...new Set(t)]}function N1(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function A1(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(N1(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function b0(){let t=P.useContext(Bi);return kd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function L1(){let t=P.useContext(Io);return kd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cd=P.createContext(void 0);Cd.displayName="FrameworkContext";function w0(){let t=P.useContext(Cd);return kd(t,"You must render this element inside a <HydratedRouter> element"),t}function O1(t,e){let n=P.useContext(Cd),[r,s]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,y=P.useRef(null);P.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=C=>{C.forEach(D=>{l(D.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[t]),P.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{s(!0)},b=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:lo(c,x),onBlur:lo(d,b),onMouseEnter:lo(f,x),onMouseLeave:lo(p,b),onTouchStart:lo(g,x)}]:[!1,y,{}]}function lo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function z1({page:t,...e}){let{router:n}=b0(),r=P.useMemo(()=>Zr(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(j1,{page:t,matches:r,...e}):null}function F1(t){let{manifest:e,routeModules:n}=w0(),[r,s]=P.useState([]);return P.useEffect(()=>{let a=!1;return P1(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function j1({page:t,matches:e,...n}){let r=Ui(),{future:s,manifest:a,routeModules:l}=w0(),{basename:c}=b0(),{loaderData:d,matches:f}=L1(),p=P.useMemo(()=>qp(t,e,f,a,r,"data"),[t,e,f,a,r]),g=P.useMemo(()=>qp(t,e,f,a,r,"assets"),[t,e,f,a,r]),y=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,S=!1;if(e.forEach(D=>{let M=a.routes[D.route.id];!M||!M.hasLoader||(!p.some(L=>L.route.id===D.route.id)&&D.route.id in d&&l[D.route.id]?.shouldRevalidate||M.hasClientLoader?S=!0:w.add(D.route.id))}),w.size===0)return[];let C=M1(t,c,s.unstable_trailingSlashAwareDataRequests,"data");return S&&w.size>0&&C.searchParams.set("_routes",e.filter(D=>w.has(D.route.id)).map(D=>D.route.id).join(",")),[C.pathname+C.search]},[c,s.unstable_trailingSlashAwareDataRequests,d,r,a,p,e,t,l]),x=P.useMemo(()=>D1(g,a),[g,a]),b=F1(g);return P.createElement(P.Fragment,null,y.map(w=>P.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>P.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:S})=>P.createElement("link",{key:w,nonce:n.nonce,...S})))}function I1(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B1&&(window.__reactRouterVersion="7.12.0")}catch{}function U1(t,e){return hb({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:Px({window:e?.window}),hydrationData:$1(),routes:t,mapRouteProperties:u1,hydrationRouteProperties:d1,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function $1(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:H1(t.errors)}),t}function H1(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new Fo(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let l=new a(s.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(s.message);a.stack="",n[r]=a}}else n[r]=s;return n}var _0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S0=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...x},b){let{basename:w,unstable_useTransitions:S}=P.useContext(Rn),C=typeof f=="string"&&_0.test(f),D=t0(f,w);f=D.to;let M=Wb(f,{relative:s}),[L,N,j]=O1(r,x),E=Y1(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:S});function A(X){e&&e(X),X.defaultPrevented||E(X)}let W=P.createElement("a",{...x,...j,href:D.absoluteURL||M,onClick:D.isExternal||a?e:A,ref:I1(b,N),target:d,"data-discover":!C&&n==="render"?"true":void 0});return L&&!C?P.createElement(P.Fragment,null,W,P.createElement(z1,{page:M})):W});S0.displayName="Link";var k0=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...f},p){let g=Uo(l,{relative:f.relative}),y=Ui(),x=P.useContext(Io),{navigator:b,basename:w}=P.useContext(Rn),S=x!=null&&Q1(g)&&c===!0,C=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,D=y.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(D=D.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&w&&(M=En(M,w)||M);const L=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let N=D===C||!s&&D.startsWith(C)&&D.charAt(L)==="/",j=M!=null&&(M===C||!s&&M.startsWith(C)&&M.charAt(C.length)==="/"),E={isActive:N,isPending:j,isTransitioning:S},A=N?e:void 0,W;typeof r=="function"?W=r(E):W=[r,N?"active":null,j?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(E):a;return P.createElement(S0,{...f,"aria-current":A,className:W,ref:p,style:X,to:l,viewTransition:c},typeof d=="function"?d(E):d)});k0.displayName="NavLink";var W1=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=hl,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...x},b)=>{let{unstable_useTransitions:w}=P.useContext(Rn),S=q1(),C=K1(c,{relative:f}),D=l.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&_0.test(c),L=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let j=N.nativeEvent.submitter,E=j?.getAttribute("formmethod")||l,A=()=>S(j||N.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});w&&n!==!1?P.startTransition(()=>A()):A()};return P.createElement("form",{ref:b,method:D,action:C,onSubmit:r?d:L,...x,"data-discover":!M&&t==="render"?"true":void 0})});W1.displayName="Form";function V1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(t){let e=P.useContext(Bi);return Ie(e,V1(t)),e}function Y1(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=Vb(),p=Ui(),g=Uo(t,{relative:a});return P.useCallback(y=>{if(_1(y,e)){y.preventDefault();let x=n!==void 0?n:Zn(p)===Zn(g),b=()=>f(t,{replace:x,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});d?P.startTransition(()=>b()):b()}},[p,f,g,n,r,e,t,s,a,l,c,d])}var G1=0,X1=()=>`__${String(++G1)}__`;function q1(){let{router:t}=C0("useSubmit"),{basename:e}=P.useContext(Rn),n=i1(),r=t.fetch,s=t.navigate;return P.useCallback(async(a,l={})=>{let{action:c,method:d,encType:f,formData:p,body:g}=C1(a,e);if(l.navigate===!1){let y=l.fetcherKey||X1();await r(y,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await s(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,s,e,n])}function K1(t,{relative:e}={}){let{basename:n}=P.useContext(Rn),r=P.useContext(er);Ie(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Uo(t||".",{relative:e})},l=Ui();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Qn([n,a.pathname])),Zn(a)}function Q1(t,{relative:e}={}){let n=P.useContext(bd);Ie(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=C0("useViewTransitionState"),s=Uo(t,{relative:e});if(!n.isTransitioning)return!1;let a=En(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=En(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yl(s.pathname,l)!=null||yl(s.pathname,a)!=null}var J1=Gg();function Z1(t){return P.createElement(h1,{flushSync:J1.flushSync,...t})}function M0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=M0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ew(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=M0(t))&&(r&&(r+=" "),r+=e);return r}function wo(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function id(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function tw(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Kp(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Qp(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function nw(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function rw(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Tu(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function iw(t,e){let n=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(n*n+r*r+s*s)}function sw(t,e){let n=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return n*n+r*r+s*s}function Jp(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function ow(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function aw(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function sd(t,e){let n=e[0],r=e[1],s=e[2],a=n*n+r*r+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function E0(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Zp(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[0],c=n[1],d=n[2];return t[0]=s*d-a*c,t[1]=a*l-r*d,t[2]=r*c-s*l,t}function lw(t,e,n,r){let s=e[0],a=e[1],l=e[2];return t[0]=s+r*(n[0]-s),t[1]=a+r*(n[1]-a),t[2]=l+r*(n[2]-l),t}function cw(t,e,n,r,s){const a=Math.exp(-r*s);let l=e[0],c=e[1],d=e[2];return t[0]=n[0]+(l-n[0])*a,t[1]=n[1]+(c-n[1])*a,t[2]=n[2]+(d-n[2])*a,t}function uw(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[3]*r+n[7]*s+n[11]*a+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*s+n[8]*a+n[12])/l,t[1]=(n[1]*r+n[5]*s+n[9]*a+n[13])/l,t[2]=(n[2]*r+n[6]*s+n[10]*a+n[14])/l,t}function dw(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[3]*r+n[7]*s+n[11]*a+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*s+n[8]*a)/l,t[1]=(n[1]*r+n[5]*s+n[9]*a)/l,t[2]=(n[2]*r+n[6]*s+n[10]*a)/l,t}function fw(t,e,n){let r=e[0],s=e[1],a=e[2];return t[0]=r*n[0]+s*n[3]+a*n[6],t[1]=r*n[1]+s*n[4]+a*n[7],t[2]=r*n[2]+s*n[5]+a*n[8],t}function hw(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[0],c=n[1],d=n[2],f=n[3],p=c*a-d*s,g=d*r-l*a,y=l*s-c*r,x=c*y-d*g,b=d*p-l*y,w=l*g-c*p,S=f*2;return p*=S,g*=S,y*=S,x*=2,b*=2,w*=2,t[0]=r+p+x,t[1]=s+g+b,t[2]=a+y+w,t}const pw=(function(){const t=[0,0,0],e=[0,0,0];return function(n,r){id(t,n),id(e,r),sd(t,t),sd(e,e);let s=E0(t,e);return s>1?0:s<-1?Math.PI:Math.acos(s)}})();function mw(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Fn extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(tw(this,e,n,r),this)}copy(e){return id(this,e),this}add(e,n){return n?Kp(this,e,n):Kp(this,this,e),this}sub(e,n){return n?Qp(this,e,n):Qp(this,this,e),this}multiply(e){return e.length?nw(this,this,e):Tu(this,this,e),this}divide(e){return e.length?rw(this,this,e):Tu(this,this,1/e),this}inverse(e=this){return aw(this,e),this}len(){return wo(this)}distance(e){return e?iw(this,e):wo(this)}squaredLen(){return Jp(this)}squaredDistance(e){return e?sw(this,e):Jp(this)}negate(e=this){return ow(this,e),this}cross(e,n){return n?Zp(this,e,n):Zp(this,this,e),this}scale(e){return Tu(this,this,e),this}normalize(){return sd(this,this),this}dot(e){return E0(this,e)}equals(e){return mw(this,e)}applyMatrix3(e){return fw(this,this,e),this}applyMatrix4(e){return uw(this,this,e),this}scaleRotateMatrix4(e){return dw(this,this,e),this}applyQuaternion(e){return hw(this,this,e),this}angle(e){return pw(this,e)}lerp(e,n){return lw(this,this,e,n),this}smoothLerp(e,n,r){return cw(this,this,e,n,r),this}clone(){return new Fn(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],s=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*s,this[1]=e[1]*n+e[5]*r+e[9]*s,this[2]=e[2]*n+e[6]*r+e[10]*s,this.normalize()}}const em=new Fn;let gw=1,yw=1,tm=!1;class vw{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=gw++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=yw++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:s})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const a=this.attributes[r];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let l=1;s===35674&&(l=2),s===35675&&(l=3),s===35676&&(l=4);const c=a.size/l,d=l===1?0:l*l*4,f=l===1?0:l*4;for(let p=0;p<l;p++)this.gl.vertexAttribPointer(n+p,c,a.type,a.normalized,a.stride+d,a.offset+p*f),this.gl.enableVertexAttribArray(n+p),this.gl.renderer.vertexAttribDivisor(n+p,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((s,{name:a})=>{const l=this.attributes[a];l.needsUpdate&&this.updateAttribute(l)});let r=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!tm)return console.warn("No position buffer data found to compute bounds"),tm=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new Fn,max:new Fn,center:new Fn,scale:new Fn,radius:1/0});const s=this.bounds.min,a=this.bounds.max,l=this.bounds.center,c=this.bounds.scale;s.set(1/0),a.set(-1/0);for(let d=0,f=n.length;d<f;d+=r){const p=n[d],g=n[d+1],y=n[d+2];s.x=Math.min(p,s.x),s.y=Math.min(g,s.y),s.z=Math.min(y,s.z),a.x=Math.max(p,a.x),a.y=Math.max(g,a.y),a.z=Math.max(y,a.z)}c.sub(a,s),l.add(s,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let s=0;for(let a=0,l=n.length;a<l;a+=r)em.fromArray(n,a),s=Math.max(s,this.bounds.center.squaredDistance(em));this.bounds.radius=Math.sqrt(s)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let xw=1;const nm={};class bw{constructor(e,{vertex:n,fragment:r,uniforms:s={},transparent:a=!1,cullFace:l=e.BACK,frontFace:c=e.CCW,depthTest:d=!0,depthWrite:f=!0,depthFunc:p=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=s,this.id=xw++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=l,this.frontFace=c,this.depthTest=d,this.depthWrite=f,this.depthFunc=p,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${rm(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${rm(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<r;l++){let c=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(c,this.gl.getUniformLocation(this.program,c.name));const d=c.name.match(/(\w+)/g);c.uniformName=d[0],c.nameComponents=d.slice(1)}this.attributeLocations=new Map;const s=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<a;l++){const c=this.gl.getActiveAttrib(this.program,l),d=this.gl.getAttribLocation(this.program,c.name);d!==-1&&(s[d]=c.name,this.attributeLocations.set(c,d))}this.attributeOrder=s.join("")}setBlendFunc(e,n,r,s){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=s,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((s,a)=>{let l=this.uniforms[a.uniformName];for(const c of a.nameComponents){if(!l)break;if(c in l)l=l[c];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return im(`Active uniform ${a.name} has not been supplied`);if(l&&l.value===void 0)return im(`${a.name} uniform is missing a value parameter`);if(l.value.texture)return n=n+1,l.value.update(n),Nu(this.gl,a.type,s,n);if(l.value.length&&l.value[0].texture){const c=[];return l.value.forEach(d=>{n=n+1,d.update(n),c.push(n)}),Nu(this.gl,a.type,s,c)}Nu(this.gl,a.type,s,l.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Nu(t,e,n,r){r=r.length?ww(r):r;const s=t.renderer.state.uniformLocations.get(n);if(r.length)if(s===void 0||s.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(_w(s,r))return;s.set?s.set(r):Sw(s,r),t.renderer.state.uniformLocations.set(n,s)}else{if(s===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function rm(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function ww(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let s=nm[r];s||(nm[r]=s=new Float32Array(r));for(let a=0;a<e;a++)s.set(t[a],a*n);return s}function _w(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Sw(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let Au=0;function im(t){Au>100||(console.warn(t),Au++,Au>100&&console.warn("More than 100 program warnings - stopping logs."))}const Lu=new Fn;let kw=1;class Cw{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:s=1,alpha:a=!1,depth:l=!0,stencil:c=!1,antialias:d=!1,premultipliedAlpha:f=!1,preserveDrawingBuffer:p=!1,powerPreference:g="default",autoClear:y=!0,webgl:x=2}={}){const b={alpha:a,depth:l,stencil:c,antialias:d,premultipliedAlpha:f,preserveDrawingBuffer:p,powerPreference:g};this.dpr=s,this.alpha=a,this.color=!0,this.depth=l,this.stencil=c,this.premultipliedAlpha=f,this.autoClear=y,this.id=kw++,x===2&&(this.gl=e.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,s=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=s,this.gl.viewport(r,s,e,n))}setScissor(e,n,r=0,s=0){this.gl.scissor(r,s,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,s){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=s,r!==void 0?this.gl.blendFuncSeparate(e,n,r,s):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:s}){let a=[];if(n&&r&&n.updateFrustum(),e.traverse(l=>{if(!l.visible)return!0;l.draw&&(r&&l.frustumCulled&&n&&!n.frustumIntersectsMesh(l)||a.push(l))}),s){const l=[],c=[],d=[];a.forEach(f=>{f.program.transparent?f.program.depthTest?c.push(f):d.push(f):l.push(f),f.zDepth=0,!(f.renderOrder!==0||!f.program.depthTest||!n)&&(f.worldMatrix.getTranslation(Lu),Lu.applyMatrix4(n.projectionViewMatrix),f.zDepth=Lu.z)}),l.sort(this.sortOpaque),c.sort(this.sortTransparent),d.sort(this.sortUI),a=l.concat(c,d)}return a}render({scene:e,camera:n,target:r=null,update:s=!0,sort:a=!0,frustumCull:l=!0,clear:c}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(c||this.autoClear&&c!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),s&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:l,sort:a}).forEach(f=>{f.draw({camera:n})})}}function Mw(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Ew(t,e,n,r,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t}function Rw(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n*n+r*r+s*s+a*a;return l>0&&(l=1/Math.sqrt(l)),t[0]=n*l,t[1]=r*l,t[2]=s*l,t[3]=a*l,t}function Pw(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Dw(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Tw(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function sm(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=n[0],d=n[1],f=n[2],p=n[3];return t[0]=r*p+l*c+s*f-a*d,t[1]=s*p+l*d+a*c-r*f,t[2]=a*p+l*f+r*d-s*c,t[3]=l*p-r*c-s*d-a*f,t}function Nw(t,e,n){n*=.5;let r=e[0],s=e[1],a=e[2],l=e[3],c=Math.sin(n),d=Math.cos(n);return t[0]=r*d+l*c,t[1]=s*d+a*c,t[2]=a*d-s*c,t[3]=l*d-r*c,t}function Aw(t,e,n){n*=.5;let r=e[0],s=e[1],a=e[2],l=e[3],c=Math.sin(n),d=Math.cos(n);return t[0]=r*d-a*c,t[1]=s*d+l*c,t[2]=a*d+r*c,t[3]=l*d-s*c,t}function Lw(t,e,n){n*=.5;let r=e[0],s=e[1],a=e[2],l=e[3],c=Math.sin(n),d=Math.cos(n);return t[0]=r*d+s*c,t[1]=s*d-r*c,t[2]=a*d+l*c,t[3]=l*d-a*c,t}function Ow(t,e,n,r){let s=e[0],a=e[1],l=e[2],c=e[3],d=n[0],f=n[1],p=n[2],g=n[3],y,x,b,w,S;return x=s*d+a*f+l*p+c*g,x<0&&(x=-x,d=-d,f=-f,p=-p,g=-g),1-x>1e-6?(y=Math.acos(x),b=Math.sin(y),w=Math.sin((1-r)*y)/b,S=Math.sin(r*y)/b):(w=1-r,S=r),t[0]=w*s+S*d,t[1]=w*a+S*f,t[2]=w*l+S*p,t[3]=w*c+S*g,t}function zw(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n*n+r*r+s*s+a*a,c=l?1/l:0;return t[0]=-n*c,t[1]=-r*c,t[2]=-s*c,t[3]=a*c,t}function Fw(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function jw(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let s=0;e[4]>e[0]&&(s=1),e[8]>e[s*3+s]&&(s=2);let a=(s+1)%3,l=(s+2)%3;r=Math.sqrt(e[s*3+s]-e[a*3+a]-e[l*3+l]+1),t[s]=.5*r,r=.5/r,t[3]=(e[a*3+l]-e[l*3+a])*r,t[a]=(e[a*3+s]+e[s*3+a])*r,t[l]=(e[l*3+s]+e[s*3+l])*r}return t}function Iw(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),s=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),l=Math.cos(e[1]*.5),c=Math.sin(e[2]*.5),d=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*l*d+s*a*c,t[1]=s*a*d-r*l*c,t[2]=s*l*c+r*a*d,t[3]=s*l*d-r*a*c):n==="YXZ"?(t[0]=r*l*d+s*a*c,t[1]=s*a*d-r*l*c,t[2]=s*l*c-r*a*d,t[3]=s*l*d+r*a*c):n==="ZXY"?(t[0]=r*l*d-s*a*c,t[1]=s*a*d+r*l*c,t[2]=s*l*c+r*a*d,t[3]=s*l*d-r*a*c):n==="ZYX"?(t[0]=r*l*d-s*a*c,t[1]=s*a*d+r*l*c,t[2]=s*l*c-r*a*d,t[3]=s*l*d+r*a*c):n==="YZX"?(t[0]=r*l*d+s*a*c,t[1]=s*a*d+r*l*c,t[2]=s*l*c-r*a*d,t[3]=s*l*d-r*a*c):n==="XZY"&&(t[0]=r*l*d-s*a*c,t[1]=s*a*d-r*l*c,t[2]=s*l*c+r*a*d,t[3]=s*l*d+r*a*c),t}const Bw=Mw,Uw=Ew,$w=Pw,Hw=Rw;class Ww extends Array{constructor(e=0,n=0,r=0,s=1){super(e,n,r,s),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(l,c){const d=Reflect.set(...arguments);return d&&a.includes(c)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Dw(this._target),this.onChange(),this}set(e,n,r,s){return e.length?this.copy(e):(Uw(this._target,e,n,r,s),this.onChange(),this)}rotateX(e){return Nw(this._target,this._target,e),this.onChange(),this}rotateY(e){return Aw(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Lw(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return zw(this._target,e),this.onChange(),this}conjugate(e=this._target){return Fw(this._target,e),this.onChange(),this}copy(e){return Bw(this._target,e),this.onChange(),this}normalize(e=this._target){return Hw(this._target,e),this.onChange(),this}multiply(e,n){return n?sm(this._target,e,n):sm(this._target,this._target,e),this.onChange(),this}dot(e){return $w(this._target,e)}fromMatrix3(e){return jw(this._target,e),this.onChange(),this}fromEuler(e,n){return Iw(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return Tw(this._target,e,n),this.onChange(),this}slerp(e,n){return Ow(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const Vw=1e-6;function Yw(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Gw(t,e,n,r,s,a,l,c,d,f,p,g,y,x,b,w,S){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=a,t[5]=l,t[6]=c,t[7]=d,t[8]=f,t[9]=p,t[10]=g,t[11]=y,t[12]=x,t[13]=b,t[14]=w,t[15]=S,t}function Xw(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function qw(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=e[4],c=e[5],d=e[6],f=e[7],p=e[8],g=e[9],y=e[10],x=e[11],b=e[12],w=e[13],S=e[14],C=e[15],D=n*c-r*l,M=n*d-s*l,L=n*f-a*l,N=r*d-s*c,j=r*f-a*c,E=s*f-a*d,A=p*w-g*b,W=p*S-y*b,X=p*C-x*b,q=g*S-y*w,Q=g*C-x*w,ae=y*C-x*S,K=D*ae-M*Q+L*q+N*X-j*W+E*A;return K?(K=1/K,t[0]=(c*ae-d*Q+f*q)*K,t[1]=(s*Q-r*ae-a*q)*K,t[2]=(w*E-S*j+C*N)*K,t[3]=(y*j-g*E-x*N)*K,t[4]=(d*X-l*ae-f*W)*K,t[5]=(n*ae-s*X+a*W)*K,t[6]=(S*L-b*E-C*M)*K,t[7]=(p*E-y*L+x*M)*K,t[8]=(l*Q-c*X+f*A)*K,t[9]=(r*X-n*Q-a*A)*K,t[10]=(b*j-w*L+C*D)*K,t[11]=(g*L-p*j-x*D)*K,t[12]=(c*W-l*q-d*A)*K,t[13]=(n*q-r*W+s*A)*K,t[14]=(w*M-b*N-S*D)*K,t[15]=(p*N-g*M+y*D)*K,t):null}function R0(t){let e=t[0],n=t[1],r=t[2],s=t[3],a=t[4],l=t[5],c=t[6],d=t[7],f=t[8],p=t[9],g=t[10],y=t[11],x=t[12],b=t[13],w=t[14],S=t[15],C=e*l-n*a,D=e*c-r*a,M=e*d-s*a,L=n*c-r*l,N=n*d-s*l,j=r*d-s*c,E=f*b-p*x,A=f*w-g*x,W=f*S-y*x,X=p*w-g*b,q=p*S-y*b,Q=g*S-y*w;return C*Q-D*q+M*X+L*W-N*A+j*E}function om(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=e[4],d=e[5],f=e[6],p=e[7],g=e[8],y=e[9],x=e[10],b=e[11],w=e[12],S=e[13],C=e[14],D=e[15],M=n[0],L=n[1],N=n[2],j=n[3];return t[0]=M*r+L*c+N*g+j*w,t[1]=M*s+L*d+N*y+j*S,t[2]=M*a+L*f+N*x+j*C,t[3]=M*l+L*p+N*b+j*D,M=n[4],L=n[5],N=n[6],j=n[7],t[4]=M*r+L*c+N*g+j*w,t[5]=M*s+L*d+N*y+j*S,t[6]=M*a+L*f+N*x+j*C,t[7]=M*l+L*p+N*b+j*D,M=n[8],L=n[9],N=n[10],j=n[11],t[8]=M*r+L*c+N*g+j*w,t[9]=M*s+L*d+N*y+j*S,t[10]=M*a+L*f+N*x+j*C,t[11]=M*l+L*p+N*b+j*D,M=n[12],L=n[13],N=n[14],j=n[15],t[12]=M*r+L*c+N*g+j*w,t[13]=M*s+L*d+N*y+j*S,t[14]=M*a+L*f+N*x+j*C,t[15]=M*l+L*p+N*b+j*D,t}function Kw(t,e,n){let r=n[0],s=n[1],a=n[2],l,c,d,f,p,g,y,x,b,w,S,C;return e===t?(t[12]=e[0]*r+e[4]*s+e[8]*a+e[12],t[13]=e[1]*r+e[5]*s+e[9]*a+e[13],t[14]=e[2]*r+e[6]*s+e[10]*a+e[14],t[15]=e[3]*r+e[7]*s+e[11]*a+e[15]):(l=e[0],c=e[1],d=e[2],f=e[3],p=e[4],g=e[5],y=e[6],x=e[7],b=e[8],w=e[9],S=e[10],C=e[11],t[0]=l,t[1]=c,t[2]=d,t[3]=f,t[4]=p,t[5]=g,t[6]=y,t[7]=x,t[8]=b,t[9]=w,t[10]=S,t[11]=C,t[12]=l*r+p*s+b*a+e[12],t[13]=c*r+g*s+w*a+e[13],t[14]=d*r+y*s+S*a+e[14],t[15]=f*r+x*s+C*a+e[15]),t}function Qw(t,e,n){let r=n[0],s=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jw(t,e,n,r){let s=r[0],a=r[1],l=r[2],c=Math.hypot(s,a,l),d,f,p,g,y,x,b,w,S,C,D,M,L,N,j,E,A,W,X,q,Q,ae,K,ne;return Math.abs(c)<Vw?null:(c=1/c,s*=c,a*=c,l*=c,d=Math.sin(n),f=Math.cos(n),p=1-f,g=e[0],y=e[1],x=e[2],b=e[3],w=e[4],S=e[5],C=e[6],D=e[7],M=e[8],L=e[9],N=e[10],j=e[11],E=s*s*p+f,A=a*s*p+l*d,W=l*s*p-a*d,X=s*a*p-l*d,q=a*a*p+f,Q=l*a*p+s*d,ae=s*l*p+a*d,K=a*l*p-s*d,ne=l*l*p+f,t[0]=g*E+w*A+M*W,t[1]=y*E+S*A+L*W,t[2]=x*E+C*A+N*W,t[3]=b*E+D*A+j*W,t[4]=g*X+w*q+M*Q,t[5]=y*X+S*q+L*Q,t[6]=x*X+C*q+N*Q,t[7]=b*X+D*q+j*Q,t[8]=g*ae+w*K+M*ne,t[9]=y*ae+S*K+L*ne,t[10]=x*ae+C*K+N*ne,t[11]=b*ae+D*K+j*ne,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Zw(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function P0(t,e){let n=e[0],r=e[1],s=e[2],a=e[4],l=e[5],c=e[6],d=e[8],f=e[9],p=e[10];return t[0]=Math.hypot(n,r,s),t[1]=Math.hypot(a,l,c),t[2]=Math.hypot(d,f,p),t}function e_(t){let e=t[0],n=t[1],r=t[2],s=t[4],a=t[5],l=t[6],c=t[8],d=t[9],f=t[10];const p=e*e+n*n+r*r,g=s*s+a*a+l*l,y=c*c+d*d+f*f;return Math.sqrt(Math.max(p,g,y))}const D0=(function(){const t=[1,1,1];return function(e,n){let r=t;P0(r,n);let s=1/r[0],a=1/r[1],l=1/r[2],c=n[0]*s,d=n[1]*a,f=n[2]*l,p=n[4]*s,g=n[5]*a,y=n[6]*l,x=n[8]*s,b=n[9]*a,w=n[10]*l,S=c+g+w,C=0;return S>0?(C=Math.sqrt(S+1)*2,e[3]=.25*C,e[0]=(y-b)/C,e[1]=(x-f)/C,e[2]=(d-p)/C):c>g&&c>w?(C=Math.sqrt(1+c-g-w)*2,e[3]=(y-b)/C,e[0]=.25*C,e[1]=(d+p)/C,e[2]=(x+f)/C):g>w?(C=Math.sqrt(1+g-c-w)*2,e[3]=(x-f)/C,e[0]=(d+p)/C,e[1]=.25*C,e[2]=(y+b)/C):(C=Math.sqrt(1+w-c-g)*2,e[3]=(d-p)/C,e[0]=(x+f)/C,e[1]=(y+b)/C,e[2]=.25*C),e}})();function t_(t,e,n,r){let s=wo([t[0],t[1],t[2]]);const a=wo([t[4],t[5],t[6]]),l=wo([t[8],t[9],t[10]]);R0(t)<0&&(s=-s),n[0]=t[12],n[1]=t[13],n[2]=t[14];const d=t.slice(),f=1/s,p=1/a,g=1/l;d[0]*=f,d[1]*=f,d[2]*=f,d[4]*=p,d[5]*=p,d[6]*=p,d[8]*=g,d[9]*=g,d[10]*=g,D0(e,d),r[0]=s,r[1]=a,r[2]=l}function n_(t,e,n,r){const s=t,a=e[0],l=e[1],c=e[2],d=e[3],f=a+a,p=l+l,g=c+c,y=a*f,x=a*p,b=a*g,w=l*p,S=l*g,C=c*g,D=d*f,M=d*p,L=d*g,N=r[0],j=r[1],E=r[2];return s[0]=(1-(w+C))*N,s[1]=(x+L)*N,s[2]=(b-M)*N,s[3]=0,s[4]=(x-L)*j,s[5]=(1-(y+C))*j,s[6]=(S+D)*j,s[7]=0,s[8]=(b+M)*E,s[9]=(S-D)*E,s[10]=(1-(y+w))*E,s[11]=0,s[12]=n[0],s[13]=n[1],s[14]=n[2],s[15]=1,s}function r_(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n+n,c=r+r,d=s+s,f=n*l,p=r*l,g=r*c,y=s*l,x=s*c,b=s*d,w=a*l,S=a*c,C=a*d;return t[0]=1-g-b,t[1]=p+C,t[2]=y-S,t[3]=0,t[4]=p-C,t[5]=1-f-b,t[6]=x+w,t[7]=0,t[8]=y+S,t[9]=x-w,t[10]=1-f-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i_(t,e,n,r,s){let a=1/Math.tan(e/2),l=1/(r-s);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+r)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*r*l,t[15]=0,t}function s_(t,e,n,r,s,a,l){let c=1/(e-n),d=1/(r-s),f=1/(a-l);return t[0]=-2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*d,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*c,t[13]=(s+r)*d,t[14]=(l+a)*f,t[15]=1,t}function o_(t,e,n,r){let s=e[0],a=e[1],l=e[2],c=r[0],d=r[1],f=r[2],p=s-n[0],g=a-n[1],y=l-n[2],x=p*p+g*g+y*y;x===0?y=1:(x=1/Math.sqrt(x),p*=x,g*=x,y*=x);let b=d*y-f*g,w=f*p-c*y,S=c*g-d*p;return x=b*b+w*w+S*S,x===0&&(f?c+=1e-6:d?f+=1e-6:d+=1e-6,b=d*y-f*g,w=f*p-c*y,S=c*g-d*p,x=b*b+w*w+S*S),x=1/Math.sqrt(x),b*=x,w*=x,S*=x,t[0]=b,t[1]=w,t[2]=S,t[3]=0,t[4]=g*S-y*w,t[5]=y*b-p*S,t[6]=p*w-g*b,t[7]=0,t[8]=p,t[9]=g,t[10]=y,t[11]=0,t[12]=s,t[13]=a,t[14]=l,t[15]=1,t}function am(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function lm(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function a_(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class vl extends Array{constructor(e=1,n=0,r=0,s=0,a=0,l=1,c=0,d=0,f=0,p=0,g=1,y=0,x=0,b=0,w=0,S=1){return super(e,n,r,s,a,l,c,d,f,p,g,y,x,b,w,S),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,s,a,l,c,d,f,p,g,y,x,b,w,S){return e.length?this.copy(e):(Gw(this,e,n,r,s,a,l,c,d,f,p,g,y,x,b,w,S),this)}translate(e,n=this){return Kw(this,n,e),this}rotate(e,n,r=this){return Jw(this,r,e,n),this}scale(e,n=this){return Qw(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?am(this,e,n):am(this,this,e),this}sub(e,n){return n?lm(this,e,n):lm(this,this,e),this}multiply(e,n){return e.length?n?om(this,e,n):om(this,this,e):a_(this,this,e),this}identity(){return Xw(this),this}copy(e){return Yw(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:s}={}){return i_(this,e,n,r,s),this}fromOrthogonal({left:e,right:n,bottom:r,top:s,near:a,far:l}){return s_(this,e,n,r,s,a,l),this}fromQuaternion(e){return r_(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return qw(this,e),this}compose(e,n,r){return n_(this,e,n,r),this}decompose(e,n,r){return t_(this,e,n,r),this}getRotation(e){return D0(e,this),this}getTranslation(e){return Zw(e,this),this}getScaling(e){return P0(e,this),this}getMaxScaleOnAxis(){return e_(this)}lookAt(e,n,r){return o_(this,e,n,r),this}determinant(){return R0(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function l_(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const cm=new vl;class c_ extends Array{constructor(e=0,n=e,r=e,s="YXZ"){super(e,n,r),this.order=s,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(l,c){const d=Reflect.set(...arguments);return d&&a.includes(c)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return l_(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return cm.fromQuaternion(e),this._target.fromRotationMatrix(cm,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class u_{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new vl,this.worldMatrix=new vl,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Fn,this.quaternion=new Ww,this.scale=new Fn(1),this.rotation=new c_,this.up=new Fn(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function d_(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function f_(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n+n,c=r+r,d=s+s,f=n*l,p=r*l,g=r*c,y=s*l,x=s*c,b=s*d,w=a*l,S=a*c,C=a*d;return t[0]=1-g-b,t[3]=p-C,t[6]=y+S,t[1]=p+C,t[4]=1-f-b,t[7]=x-w,t[2]=y-S,t[5]=x+w,t[8]=1-f-g,t}function h_(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function p_(t,e,n,r,s,a,l,c,d,f){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=a,t[5]=l,t[6]=c,t[7]=d,t[8]=f,t}function m_(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function g_(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=e[4],c=e[5],d=e[6],f=e[7],p=e[8],g=p*l-c*f,y=-p*a+c*d,x=f*a-l*d,b=n*g+r*y+s*x;return b?(b=1/b,t[0]=g*b,t[1]=(-p*r+s*f)*b,t[2]=(c*r-s*l)*b,t[3]=y*b,t[4]=(p*n-s*d)*b,t[5]=(-c*n+s*a)*b,t[6]=x*b,t[7]=(-f*n+r*d)*b,t[8]=(l*n-r*a)*b,t):null}function um(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=e[4],d=e[5],f=e[6],p=e[7],g=e[8],y=n[0],x=n[1],b=n[2],w=n[3],S=n[4],C=n[5],D=n[6],M=n[7],L=n[8];return t[0]=y*r+x*l+b*f,t[1]=y*s+x*c+b*p,t[2]=y*a+x*d+b*g,t[3]=w*r+S*l+C*f,t[4]=w*s+S*c+C*p,t[5]=w*a+S*d+C*g,t[6]=D*r+M*l+L*f,t[7]=D*s+M*c+L*p,t[8]=D*a+M*d+L*g,t}function y_(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=e[4],d=e[5],f=e[6],p=e[7],g=e[8],y=n[0],x=n[1];return t[0]=r,t[1]=s,t[2]=a,t[3]=l,t[4]=c,t[5]=d,t[6]=y*r+x*l+f,t[7]=y*s+x*c+p,t[8]=y*a+x*d+g,t}function v_(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=e[4],d=e[5],f=e[6],p=e[7],g=e[8],y=Math.sin(n),x=Math.cos(n);return t[0]=x*r+y*l,t[1]=x*s+y*c,t[2]=x*a+y*d,t[3]=x*l-y*r,t[4]=x*c-y*s,t[5]=x*d-y*a,t[6]=f,t[7]=p,t[8]=g,t}function x_(t,e,n){let r=n[0],s=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function b_(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=e[4],c=e[5],d=e[6],f=e[7],p=e[8],g=e[9],y=e[10],x=e[11],b=e[12],w=e[13],S=e[14],C=e[15],D=n*c-r*l,M=n*d-s*l,L=n*f-a*l,N=r*d-s*c,j=r*f-a*c,E=s*f-a*d,A=p*w-g*b,W=p*S-y*b,X=p*C-x*b,q=g*S-y*w,Q=g*C-x*w,ae=y*C-x*S,K=D*ae-M*Q+L*q+N*X-j*W+E*A;return K?(K=1/K,t[0]=(c*ae-d*Q+f*q)*K,t[1]=(d*X-l*ae-f*W)*K,t[2]=(l*Q-c*X+f*A)*K,t[3]=(s*Q-r*ae-a*q)*K,t[4]=(n*ae-s*X+a*W)*K,t[5]=(r*X-n*Q-a*A)*K,t[6]=(w*E-S*j+C*N)*K,t[7]=(S*L-b*E-C*M)*K,t[8]=(b*j-w*L+C*D)*K,t):null}class w_ extends Array{constructor(e=1,n=0,r=0,s=0,a=1,l=0,c=0,d=0,f=1){return super(e,n,r,s,a,l,c,d,f),this}set(e,n,r,s,a,l,c,d,f){return e.length?this.copy(e):(p_(this,e,n,r,s,a,l,c,d,f),this)}translate(e,n=this){return y_(this,n,e),this}rotate(e,n=this){return v_(this,n,e),this}scale(e,n=this){return x_(this,n,e),this}multiply(e,n){return n?um(this,e,n):um(this,this,e),this}identity(){return m_(this),this}copy(e){return h_(this,e),this}fromMatrix4(e){return d_(this,e),this}fromQuaternion(e){return f_(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return g_(this,e),this}getNormalMatrix(e){return b_(this,e),this}}let __=0;class S_ extends u_{constructor(e,{geometry:n,program:r,mode:s=e.TRIANGLES,frustumCulled:a=!0,renderOrder:l=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=__++,this.geometry=n,this.program=r,this.mode=s,this.frustumCulled=a,this.renderOrder=l,this.modelViewMatrix=new vl,this.normalMatrix=new w_,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}const dm={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function fm(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function k_(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function hm(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?fm(t):dm[t.toLowerCase()]?fm(dm[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):k_(t)}let fs=class extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...hm(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(hm(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}};class C_ extends vw{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const M_=`
attribute vec2 position;
attribute vec2 uv;
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 0.0, 1.0);
}
`,E_=`
precision mediump float;

varying vec2 vUv;

uniform float iTime;
uniform vec3  iResolution;
uniform float uScale;

uniform vec2  uGridMul;
uniform float uDigitSize;
uniform float uScanlineIntensity;
uniform float uGlitchAmount;
uniform float uFlickerAmount;
uniform float uNoiseAmp;
uniform float uChromaticAberration;
uniform float uDither;
uniform float uCurvature;
uniform vec3  uTint;
uniform vec2  uMouse;
uniform float uMouseStrength;
uniform float uUseMouse;
uniform float uPageLoadProgress;
uniform float uUsePageLoadAnimation;
uniform float uBrightness;
uniform vec3 uBaseColor;

float time;

float hash21(vec2 p){
  p = fract(p * 234.56);
  p += dot(p, p + 34.56);
  return fract(p.x * p.y);
}

float noise(vec2 p)
{
  return sin(p.x * 10.0) * sin(p.y * (3.0 + sin(time * 0.090909))) + 0.2; 
}

mat2 rotate(float angle)
{
  float c = cos(angle);
  float s = sin(angle);
  return mat2(c, -s, s, c);
}

float fbm(vec2 p)
{
  p *= 1.1;
  float f = 0.0;
  float amp = 0.5 * uNoiseAmp;
  
  mat2 modify0 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify0 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify1 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify1 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify2 = rotate(time * 0.08);
  f += amp * noise(p);
  
  return f;
}

float pattern(vec2 p, out vec2 q, out vec2 r) {
  vec2 offset1 = vec2(1.0);
  vec2 offset0 = vec2(0.0);
  mat2 rot01 = rotate(0.1 * time);
  mat2 rot1 = rotate(0.1);
  
  q = vec2(fbm(p + offset1), fbm(rot01 * p + offset1));
  r = vec2(fbm(rot1 * q + offset0), fbm(q + offset0));
  return fbm(p + r);
}

float digit(vec2 p){
    vec2 grid = uGridMul * 15.0;
    vec2 s = floor(p * grid) / grid;
    p = p * grid;
    vec2 q, r;
    float intensity = pattern(s * 0.1, q, r) * 1.3 - 0.03;
    
    if(uUseMouse > 0.5){
        vec2 mouseWorld = uMouse * uScale;
        float distToMouse = distance(s, mouseWorld);
        float mouseInfluence = exp(-distToMouse * 8.0) * uMouseStrength * 10.0;
        intensity += mouseInfluence;
        
        float ripple = sin(distToMouse * 20.0 - iTime * 5.0) * 0.1 * mouseInfluence;
        intensity += ripple;
    }
    
    if(uUsePageLoadAnimation > 0.5){
        float cellRandom = fract(sin(dot(s, vec2(12.9898, 78.233))) * 43758.5453);
        float cellDelay = cellRandom * 0.8;
        float cellProgress = clamp((uPageLoadProgress - cellDelay) / 0.2, 0.0, 1.0);
        
        float fadeAlpha = smoothstep(0.0, 1.0, cellProgress);
        intensity *= fadeAlpha;
    }
    
    p = fract(p);
    p *= uDigitSize;
    
    float px5 = p.x * 5.0;
    float py5 = (1.0 - p.y) * 5.0;
    float x = fract(px5);
    float y = fract(py5);
    
    float i = floor(py5) - 2.0;
    float j = floor(px5) - 2.0;
    float n = i * i + j * j;
    float f = n * 0.0625;
    
    float isOn = step(0.1, intensity - f);
    float brightness = isOn * (0.2 + y * 0.8) * (0.75 + x * 0.25);
    
    return step(0.0, p.x) * step(p.x, 1.0) * step(0.0, p.y) * step(p.y, 1.0) * brightness;
}

float onOff(float a, float b, float c)
{
  return step(c, sin(iTime + a * cos(iTime * b))) * uFlickerAmount;
}

float displace(vec2 look)
{
    float y = look.y - mod(iTime * 0.25, 1.0);
    float window = 1.0 / (1.0 + 50.0 * y * y);
    return sin(look.y * 20.0 + iTime) * 0.0125 * onOff(4.0, 2.0, 0.8) * (1.0 + cos(iTime * 60.0)) * window;
}

vec3 getColor(vec2 p){
    
    float bar = step(mod(p.y + time * 20.0, 1.0), 0.2) * 0.4 + 1.0;
    bar *= uScanlineIntensity;
    
    float displacement = displace(p);
    p.x += displacement;

    if (uGlitchAmount != 1.0) {
      float extra = displacement * (uGlitchAmount - 1.0);
      p.x += extra;
    }

    float middle = digit(p);
    
    const float off = 0.002;
    float sum = digit(p + vec2(-off, -off)) + digit(p + vec2(0.0, -off)) + digit(p + vec2(off, -off)) +
                digit(p + vec2(-off, 0.0)) + digit(p + vec2(0.0, 0.0)) + digit(p + vec2(off, 0.0)) +
                digit(p + vec2(-off, off)) + digit(p + vec2(0.0, off)) + digit(p + vec2(off, off));
    
    vec3 baseColor = vec3(0.9) * middle + sum * 0.1 * vec3(1.0) * bar;
    return baseColor;
}

vec2 barrel(vec2 uv){
  vec2 c = uv * 2.0 - 1.0;
  float r2 = dot(c, c);
  c *= 1.0 + uCurvature * r2;
  return c * 0.5 + 0.5;
}

void main() {
    time = iTime * 0.333333;
    vec2 uv = vUv;

    if(uCurvature != 0.0){
      uv = barrel(uv);
    }
    
    vec2 p = uv * uScale;
    vec3 col = getColor(p);

    if(uChromaticAberration != 0.0){
      vec2 ca = vec2(uChromaticAberration) / iResolution.xy;
      col.r = getColor(p + ca).r;
      col.b = getColor(p - ca).b;
    }

    col *= uTint;
    col *= uBrightness;

    if(uDither > 0.0){
      float rnd = hash21(gl_FragCoord.xy);
      col += (rnd - 0.5) * (uDither * 0.003922);
    }

    col = mix(uBaseColor, col, 0.75);

    gl_FragColor = vec4(col, 1.0);
}
`;function Ou(t){let e=t.replace("#","").trim();e.length===3&&(e=e.split("").map(r=>r+r).join(""));const n=parseInt(e,16);return[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function R_({scale:t=1,gridMul:e=[2,1],digitSize:n=1.5,timeScale:r=.3,pause:s=!1,scanlineIntensity:a=.3,glitchAmount:l=1,flickerAmount:c=1,noiseAmp:d=.8,chromaticAberration:f=0,dither:p=0,curvature:g=.2,tint:y="#ffffff",mouseReact:x=!0,mouseStrength:b=.2,dpr:w,pageLoadAnimation:S=!0,brightness:C=1,clearColor:D="#000000",baseColor:M="#0b1220",className:L,style:N,...j}){const E=P.useRef(null),A=P.useRef(null),W=P.useRef(null),X=P.useRef({x:.5,y:.5}),q=P.useRef({x:.5,y:.5}),Q=P.useRef(0),ae=P.useRef(0),K=P.useRef(0),ne=P.useRef(Math.random()*100),ce=P.useMemo(()=>w??(typeof window<"u"?Math.min(window.devicePixelRatio||1,2):1),[w]),de=P.useMemo(()=>Ou(y),[y]),Y=P.useMemo(()=>typeof p=="boolean"?p?1:0:p,[p]),re=P.useMemo(()=>Ou(D),[D]),J=P.useMemo(()=>Ou(M),[M]),z=P.useCallback(V=>{const ue=E.current;if(!ue)return;const le=ue.getBoundingClientRect(),ge=Le=>Math.max(0,Math.min(1,Le)),_e=ge((V.clientX-le.left)/le.width),Oe=ge(1-(V.clientY-le.top)/le.height);X.current={x:_e,y:Oe}},[]);return P.useEffect(()=>{const V=E.current;if(!V)return;const ue=new Cw({dpr:ce});W.current=ue;const le=ue.gl;le.clearColor(re[0],re[1],re[2],1);const ge=new C_(le),_e=new bw(le,{vertex:M_,fragment:E_,uniforms:{iTime:{value:0},iResolution:{value:new fs(le.canvas.width,le.canvas.height,le.canvas.width/le.canvas.height)},uScale:{value:t},uGridMul:{value:new Float32Array(e)},uDigitSize:{value:n},uScanlineIntensity:{value:a},uGlitchAmount:{value:l},uFlickerAmount:{value:c},uNoiseAmp:{value:d},uChromaticAberration:{value:f},uDither:{value:Y},uCurvature:{value:g},uTint:{value:new fs(de[0],de[1],de[2])},uMouse:{value:new Float32Array([q.current.x,q.current.y])},uMouseStrength:{value:b},uUseMouse:{value:x?1:0},uPageLoadProgress:{value:S?0:1},uUsePageLoadAnimation:{value:S?1:0},uBrightness:{value:C},uBaseColor:{value:new fs(J[0],J[1],J[2])}}});A.current=_e;const Oe=new S_(le,{geometry:ge,program:_e}),Le=x?window:null;function $e(){const He=E.current;if(!He)return;ue.setSize(He.offsetWidth,He.offsetHeight);const Be=_e.uniforms;Be.iResolution.value=new fs(le.canvas.width,le.canvas.height,le.canvas.width/le.canvas.height)}const ht=new ResizeObserver(()=>$e());ht.observe(V),$e();const Ht=He=>{ae.current=requestAnimationFrame(Ht);const Be=_e.uniforms;if(S&&K.current===0&&(K.current=He),s)Be.iTime.value=Q.current;else{const Wt=(He*.001+ne.current)*r;Be.iTime.value=Wt,Q.current=Wt}if(S&&K.current>0){const Mt=He-K.current,At=Math.min(Mt/2e3,1);Be.uPageLoadProgress.value=At}if(x){const Mt=q.current,At=X.current;Mt.x+=(At.x-Mt.x)*.08,Mt.y+=(At.y-Mt.y)*.08;const In=Be.uMouse.value;In[0]=Mt.x,In[1]=Mt.y}Be.uMouseStrength.value=b,Be.uScale.value=t,Be.uDigitSize.value=n,Be.uScanlineIntensity.value=a,Be.uGlitchAmount.value=l,Be.uFlickerAmount.value=c,Be.uNoiseAmp.value=d,Be.uChromaticAberration.value=f,Be.uDither.value=Y,Be.uCurvature.value=g,Be.uTint.value=new fs(de[0],de[1],de[2]),Be.uUseMouse.value=x?1:0,Be.uBrightness.value=C,Be.uBaseColor.value=new fs(J[0],J[1],J[2]),ue.render({scene:Oe})};return ae.current=requestAnimationFrame(Ht),V.appendChild(le.canvas),x&&Le&&Le.addEventListener("mousemove",z),()=>{cancelAnimationFrame(ae.current),ht.disconnect(),x&&Le&&Le.removeEventListener("mousemove",z);const He=E.current;He&&le.canvas.parentElement===He&&He.removeChild(le.canvas),le.getExtension("WEBGL_lose_context")?.loseContext(),K.current=0,ne.current=Math.random()*100,A.current=null,W.current=null}},[ce,s,r,t,e,n,a,l,c,d,f,Y,g,de,x,b,S,C,re,J,z]),k.jsx("div",{ref:E,className:ew("faulty-terminal-container",L),style:N,...j})}const _o="subly:state",Di={notificationsEnabled:!1,notifyDaysBefore:2,language:"es",currencyDisplayMode:"original",baseCurrency:"USD",calendarAutoSyncAll:!1,calendarUseDedicatedCalendar:!1};function Xa(t){const e=Array.isArray(t?.subscriptions)?t.subscriptions:[],n=t?.settings,r=n?.language==="en"?"en":"es",s=n?.currencyDisplayMode==="convertToBase"?"convertToBase":"original",a=String(n?.baseCurrency??Di.baseCurrency).trim().toUpperCase()||Di.baseCurrency,l=!!(n?.calendarAutoSyncAll??Di.calendarAutoSyncAll),c=!!(n?.calendarUseDedicatedCalendar??Di.calendarUseDedicatedCalendar),d=String(n?.calendarSubscriptionsCalendarId??"").trim()||void 0;return{subscriptions:e,settings:{notificationsEnabled:!!(n?.notificationsEnabled??Di.notificationsEnabled),notifyDaysBefore:Number.isFinite(n?.notifyDaysBefore)?Math.max(0,Math.min(30,Math.floor(n.notifyDaysBefore))):Di.notifyDaysBefore,language:r,currencyDisplayMode:s,baseCurrency:a,calendarAutoSyncAll:l,calendarUseDedicatedCalendar:c,calendarSubscriptionsCalendarId:d}}}function T0(){return typeof chrome<"u"&&!!chrome.storage?.local}async function P_(){if(T0()){const e=await chrome.storage.local.get([_o]);return Xa(e?.[_o]??null)}const t=typeof localStorage<"u"?localStorage.getItem(_o):null;if(!t)return Xa(null);try{return Xa(JSON.parse(t))}catch{return Xa(null)}}async function D_(t){if(T0()){await chrome.storage.local.set({[_o]:t});return}typeof localStorage<"u"&&localStorage.setItem(_o,JSON.stringify(t))}function N0(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function xl(t,e,n=new Date){const[r,s,a]=t.split("-").map(Number),l=new Date(r,(s??1)-1,a??1);if(Number.isNaN(l.getTime()))return n;const c=(p,g)=>{const y=new Date(p);return y.setMonth(y.getMonth()+g),y},d=e==="monthly"?1:e==="quarterly"?3:e==="semiannual"?6:12;let f=new Date(l);for(;f.getTime()<n.getTime();)f=c(f,d);return f}const A0=P.createContext(null);function T_({children:t}){const[e,n]=P.useState({subscriptions:[],settings:Di}),[r,s]=P.useState(!1);P.useEffect(()=>{let l=!0;return(async()=>{const c=await P_();l&&(n(c),s(!0))})(),()=>{l=!1}},[]),P.useEffect(()=>{r&&D_(e)},[r,e]);const a=P.useMemo(()=>({state:e,setSubscriptions:l=>n(c=>({...c,subscriptions:l})),setSettings:l=>n(c=>({...c,settings:l}))}),[e]);return k.jsx(A0.Provider,{value:a,children:t})}function Tl(){const t=P.useContext(A0);if(!t)throw new Error("useStore must be used within StoreProvider");return t}const pm={es:{common:{loading:"Cargando",language:{es:"Espaol",en:"English"},cancel:"Cancelar",clear:"Limpiar",save:"Guardar",add:"Aadir",edit:"Editar",delete:"Eliminar",importJson:"Importar JSON",exportJson:"Exportar JSON",exported:"Exportado.",importedCount:"Importadas: {{count}}",importFailed:"Importacin fallida (JSON invlido o estructura incorrecta).",none:"",uncategorized:"Sin categora",other:"Otros"},nav:{dashboard:"Dashboard",subscriptions:"Suscripciones",settings:"Ajustes"},settings:{languageTitle:"Idioma",languageDescription:"Elige el idioma de la interfaz.",alertsTitle:"Alertas",enableNotifications:"Activar notificaciones",notifyDaysBefore:"Avisar (das antes)",alertsHint:"Las alertas se muestran como notificaciones del navegador.",currencyTitle:"Moneda",displayAmounts:"Mostrar importes",displayOriginal:"Con sus monedas originales",displayConvert:"Convertir a una moneda nica",baseCurrency:"Moneda base",currencyHint:"Si eliges moneda nica, los totales y grficos se convierten a la moneda base.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Se abre en una pestaa por seguridad (Google Calendar no se puede embeber en el panel).",calendarSyncTitle:"Sincronizacin",calendarDedicatedLabel:"Usar calendario dedicado para suscripciones",calendarDedicatedHint:"Si est activo, los eventos se publican en un calendario separado para poder filtrarlos en Google Calendar.",calendarAutoSyncAllLabel:"Auto-sync de suscripciones",calendarAutoSyncAllHint:"Si est activo, los cambios en Suscripciones intentarn sincronizarse automticamente (si ya hay autorizacin).",openGoogleCalendar:"Abrir Google Calendar"},subscriptions:{listTitle:"Listado",subtitle:"Aade, edita y revisa tus suscripciones.",addSubscription:"Aadir suscripcin",noSubscriptions:"No hay suscripciones an.",addToCalendar:"Aadir a Calendar",syncAll:"Sync todas",syncing:"Sincronizando",syncToCalendar:"Sync con Calendar",syncCreate:"Crear en Calendar",syncUpdate:"Actualizar en Calendar",syncOk:"Sincronizado con Google Calendar.",syncFailed:"Error al sincronizar.",syncAllDone:"Sync terminado: {{ok}} ok, {{fail}} fallo(s).",autoSyncAllOn:"Auto-sync: Activado",autoSyncAllOff:"Auto-sync: Desactivado",autoSyncAllHint:"Si est activo, los cambios se sincronizan (si ya hay autorizacin).",autoSyncConfirm:"Quieres sincronizar todas ahora?",editSubscription:"Editar suscripcin",addSubscriptionTitle:"Aadir suscripcin",searchPlaceholder:"Buscar",filtersToggle:"Filtros",resultsCount:"Resultados: {{count}}",filterCategory:"Categora",filterCurrency:"Moneda",filterPeriod:"Periodo",filterMinPrice:"Precio mn.",filterMaxPrice:"Precio mx.",emptyFiltered:"Sin resultados con los filtros actuales.",dueSoon:"Pronto",columnName:"Suscripcin",columnPrice:"Importe",columnPeriod:"Periodo",columnStart:"Inicio",columnNext:"Prximo",columnCategory:"Categora",columnActions:"Acciones",insightsTitle:"Resumen",insightsHint:"Importes equivalentes en {{currency}}.",insightsDueWindow:"Ventana: {{days}}d",insightsCount:"Suscripciones",insightsAvgMonthly:"Media mensual",insightsAvgMonthlyHelper:"Equivalente en {{currency}}.",insightsUpcoming:"Prximas",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Ms prxima: {{date}}",insightsTopCategory:"Top categora",insightsTopCategoryHelper:"{{percent}}% del total",name:"Nombre",category:"Categora",categoryPlaceholder:"Ej: Streaming",amount:"Importe",currency:"Moneda",period:"Periodo",startDate:"Fecha inicio",helpIncomplete:"Completa nombre, importe y fecha.",startLabel:"Inicio",nextLabel:"Prximo",renewal:"Renovacin",detailsAmount:"Importe",detailsPeriod:"Periodo",periodMonthly:"Mensual",periodQuarterly:"Trimestral",periodSemiannual:"Semestral",periodAnnual:"Anual",toastCreated:"Suscripcin creada.",toastUpdated:"Suscripcin actualizada.",toastDeleted:"Suscripcin eliminada.",deleteConfirm:"Eliminar {{name}}? Tambin se borrar su evento en Google Calendar si existe.",calendarEventDeleted:"Evento eliminado de Google Calendar.",calendarDeleteFailed:"No se pudo borrar el evento en Google Calendar."},dashboard:{monthlySpendTitle:"Gasto mensual (equivalente)",noSubscriptionsYet:"Sin suscripciones an.",fxRatesLabel:"FX rates",fxUpdating:"actualizando",fxReady:"reales (cacheadas)",fxUnavailable:"no disponibles (fallback)",fxIdle:"",upcomingRenewalsTitle:"Prximas renovaciones",noDataYet:"No hay datos todava.",chartsTitle:"Grficos",addSubsToSeeCharts:"Aade suscripciones para ver grficos.",currencyLabel:"Moneda: {{cur}}",kpiSubscriptions:"Suscripciones",kpiAvgMonthly:"Media mensual",kpiDueSoon:"Vencen ( {{days}}d)",kpiTopCategory:"Top categora",projectionTitle:"Proyeccin mensual (ltimos 12 meses)",annualTopTitle:"Top gasto anual (estimado)",monthlyByCategoryTitle:"Gasto mensual por categora (equivalente)",distributionTitle:"Distribucin (gasto mensual equivalente)",noData:"Sin datos.",csvMonth:"Mes",csvAmount:"Importe",csvCurrency:"Moneda",csvName:"Nombre",csvAnnualAmount:"Importe anual",csvCategory:"Categora",csvMonthlyEquivalent:"Equivalente mensual"}},en:{common:{loading:"Loading",language:{es:"Espaol",en:"English"},cancel:"Cancel",clear:"Clear",save:"Save",add:"Add",edit:"Edit",delete:"Delete",importJson:"Import JSON",exportJson:"Export JSON",exported:"Exported.",importedCount:"Imported: {{count}}",importFailed:"Import failed (invalid JSON or wrong structure).",none:"",uncategorized:"Uncategorized",other:"Other"},nav:{dashboard:"Dashboard",subscriptions:"Subscriptions",settings:"Settings"},settings:{languageTitle:"Language",languageDescription:"Choose the UI language.",alertsTitle:"Alerts",enableNotifications:"Enable notifications",notifyDaysBefore:"Notify (days before)",alertsHint:"Alerts are shown as browser notifications.",currencyTitle:"Currency",displayAmounts:"Show amounts",displayOriginal:"In original currencies",displayConvert:"Convert to a single currency",baseCurrency:"Base currency",currencyHint:"If you choose single currency, totals and charts are converted to the base currency.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"It opens in a new tab for security (Google Calendar cant be embedded in the panel).",calendarSyncTitle:"Sync",calendarDedicatedLabel:"Use a dedicated calendar for subscriptions",calendarDedicatedHint:"When enabled, events are published to a separate calendar so you can filter them in Google Calendar.",calendarAutoSyncAllLabel:"Auto-sync subscriptions",calendarAutoSyncAllHint:"When enabled, changes in Subscriptions will try to sync automatically (if already authorized).",openGoogleCalendar:"Open Google Calendar"},subscriptions:{listTitle:"List",subtitle:"Add, edit and review your subscriptions.",addSubscription:"Add subscription",noSubscriptions:"No subscriptions yet.",addToCalendar:"Add to Calendar",syncAll:"Sync all",syncing:"Syncing",syncToCalendar:"Sync to Calendar",syncCreate:"Create in Calendar",syncUpdate:"Update in Calendar",syncOk:"Synced with Google Calendar.",syncFailed:"Sync failed.",syncAllDone:"Sync finished: {{ok}} ok, {{fail}} failed.",autoSyncAllOn:"Auto-sync: ON",autoSyncAllOff:"Auto-sync: OFF",autoSyncAllHint:"When enabled, changes will sync (if already authorized).",autoSyncConfirm:"Do you want to sync all now?",editSubscription:"Edit subscription",addSubscriptionTitle:"Add subscription",searchPlaceholder:"Search",filtersToggle:"Filters",resultsCount:"Results: {{count}}",filterCategory:"Category",filterCurrency:"Currency",filterPeriod:"Period",filterMinPrice:"Min price",filterMaxPrice:"Max price",emptyFiltered:"No results for the current filters.",dueSoon:"Soon",columnName:"Subscription",columnPrice:"Amount",columnPeriod:"Period",columnStart:"Start",columnNext:"Next",columnCategory:"Category",columnActions:"Actions",insightsTitle:"Summary",insightsHint:"Amounts in {{currency}} equivalent.",insightsDueWindow:"Window: {{days}}d",insightsCount:"Subscriptions",insightsAvgMonthly:"Avg monthly",insightsAvgMonthlyHelper:"Equivalent in {{currency}}.",insightsUpcoming:"Upcoming",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Next: {{date}}",insightsTopCategory:"Top category",insightsTopCategoryHelper:"{{percent}}% of total",name:"Name",category:"Category",categoryPlaceholder:"e.g. Streaming",amount:"Amount",currency:"Currency",period:"Period",startDate:"Start date",helpIncomplete:"Fill name, amount and date.",startLabel:"Start",nextLabel:"Next",renewal:"Renewal",detailsAmount:"Amount",detailsPeriod:"Period",periodMonthly:"Monthly",periodQuarterly:"Quarterly",periodSemiannual:"Semiannual",periodAnnual:"Annual",toastCreated:"Subscription created.",toastUpdated:"Subscription updated.",toastDeleted:"Subscription deleted.",deleteConfirm:"Delete {{name}}? Its Google Calendar event will also be deleted if it exists.",calendarEventDeleted:"Google Calendar event deleted.",calendarDeleteFailed:"Could not delete the Google Calendar event."},dashboard:{monthlySpendTitle:"Monthly spend (equivalent)",noSubscriptionsYet:"No subscriptions yet.",fxRatesLabel:"FX rates",fxUpdating:"updating",fxReady:"real (cached)",fxUnavailable:"unavailable (fallback)",fxIdle:"",upcomingRenewalsTitle:"Upcoming renewals",noDataYet:"No data yet.",chartsTitle:"Charts",addSubsToSeeCharts:"Add subscriptions to see charts.",currencyLabel:"Currency: {{cur}}",kpiSubscriptions:"Subscriptions",kpiAvgMonthly:"Avg monthly",kpiDueSoon:"Due ( {{days}}d)",kpiTopCategory:"Top category",projectionTitle:"Monthly projection (last 12 months)",annualTopTitle:"Top annual spend (estimated)",monthlyByCategoryTitle:"Monthly spend by category (equivalent)",distributionTitle:"Distribution (monthly equivalent spend)",noData:"No data.",csvMonth:"Month",csvAmount:"Amount",csvCurrency:"Currency",csvName:"Name",csvAnnualAmount:"Annual amount",csvCategory:"Category",csvMonthlyEquivalent:"Monthly equivalent"}}};function N_(t,e){const n=e.split(".");let r=t;for(const s of n)if(typeof r!="object"||r===null||(r=r[s],r===void 0))return;return r}function A_(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(n,r)=>String(e[r]??"")):t}function L_(t,e,n){const r=pm[t]??pm.es,s=N_(r,e);if(typeof s=="string")return A_(s,n)}function ks(){const{state:t}=Tl(),e=t.settings.language==="en"?"en":"es",n=P.useCallback((r,s)=>L_(e,r,s),[e]);return{language:e,t:n}}function zu({to:t,label:e}){return k.jsx(k0,{to:t,className:({isActive:n})=>`rounded-md px-3 py-2 text-sm font-semibold ${n?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-200 dark:text-slate-200 dark:hover:bg-slate-800"}`,children:e})}function O_(){const{t}=ks();return k.jsxs("div",{className:"relative min-h-screen text-slate-900 dark:text-white",children:[k.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10",children:k.jsx(R_,{className:"h-full w-full",scale:1,gridMul:[3,2],digitSize:1.5,brightness:1.8,scanlineIntensity:.45,noiseAmp:1,clearColor:"#000000",baseColor:"#020617"})}),k.jsxs("div",{className:"min-h-screen bg-slate-50/65 dark:bg-slate-950/65",children:[k.jsx("header",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white/90 backdrop-blur dark:border-slate-800 dark:bg-slate-950/90",children:k.jsxs("div",{className:"mx-auto flex max-w-3xl items-center justify-between gap-3 px-4 py-3",children:[k.jsx("div",{className:"text-sm font-black tracking-wide",children:"Subly"}),k.jsxs("nav",{className:"flex items-center gap-2",children:[k.jsx(zu,{to:"/dashboard",label:t("nav.dashboard")??"Dashboard"}),k.jsx(zu,{to:"/subscriptions",label:t("nav.subscriptions")??"Suscripciones"}),k.jsx(zu,{to:"/settings",label:t("nav.settings")??"Ajustes"})]})]})}),k.jsx("main",{className:"mx-auto max-w-3xl px-4 py-4",children:k.jsx(g1,{})})]})]})}function $o(t){return t+.5|0}const ni=(t,e,n)=>Math.max(Math.min(t,n),e);function yo(t){return ni($o(t*2.55),0,255)}function oi(t){return ni($o(t*255),0,255)}function _r(t){return ni($o(t/2.55)/100,0,1)}function mm(t){return ni($o(t*100),0,100)}const Cn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},od=[..."0123456789ABCDEF"],z_=t=>od[t&15],F_=t=>od[(t&240)>>4]+od[t&15],qa=t=>(t&240)>>4===(t&15),j_=t=>qa(t.r)&&qa(t.g)&&qa(t.b)&&qa(t.a);function I_(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Cn[t[1]]*17,g:255&Cn[t[2]]*17,b:255&Cn[t[3]]*17,a:e===5?Cn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Cn[t[1]]<<4|Cn[t[2]],g:Cn[t[3]]<<4|Cn[t[4]],b:Cn[t[5]]<<4|Cn[t[6]],a:e===9?Cn[t[7]]<<4|Cn[t[8]]:255})),n}const B_=(t,e)=>t<255?e(t):"";function U_(t){var e=j_(t)?z_:F_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+B_(t.a,e):void 0}const $_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function L0(t,e,n){const r=e*Math.min(n,1-n),s=(a,l=(a+t/30)%12)=>n-r*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function H_(t,e,n){const r=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function W_(t,e,n){const r=L0(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function V_(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Md(t){const n=t.r/255,r=t.g/255,s=t.b/255,a=Math.max(n,r,s),l=Math.min(n,r,s),c=(a+l)/2;let d,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),d=V_(n,r,s,p,a),d=d*60+.5),[d|0,f||0,c]}function Ed(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(oi)}function Rd(t,e,n){return Ed(L0,t,e,n)}function Y_(t,e,n){return Ed(W_,t,e,n)}function G_(t,e,n){return Ed(H_,t,e,n)}function O0(t){return(t%360+360)%360}function X_(t){const e=$_.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?yo(+e[5]):oi(+e[5]));const s=O0(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=Y_(s,a,l):e[1]==="hsv"?r=G_(s,a,l):r=Rd(s,a,l),{r:r[0],g:r[1],b:r[2],a:n}}function q_(t,e){var n=Md(t);n[0]=O0(n[0]+e),n=Rd(n),t.r=n[0],t.g=n[1],t.b=n[2]}function K_(t){if(!t)return;const e=Md(t),n=e[0],r=mm(e[1]),s=mm(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${_r(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const gm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ym={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Q_(){const t={},e=Object.keys(ym),n=Object.keys(gm);let r,s,a,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],s=0;s<n.length;s++)a=n[s],c=c.replace(a,gm[a]);a=parseInt(ym[l],16),t[c]=[a>>16&255,a>>8&255,a&255]}return t}let Ka;function J_(t){Ka||(Ka=Q_(),Ka.transparent=[0,0,0,0]);const e=Ka[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Z_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function eS(t){const e=Z_.exec(t);let n=255,r,s,a;if(e){if(e[7]!==r){const l=+e[7];n=e[8]?yo(l):ni(l*255,0,255)}return r=+e[1],s=+e[3],a=+e[5],r=255&(e[2]?yo(r):ni(r,0,255)),s=255&(e[4]?yo(s):ni(s,0,255)),a=255&(e[6]?yo(a):ni(a,0,255)),{r,g:s,b:a,a:n}}}function tS(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${_r(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Fu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,hs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function nS(t,e,n){const r=hs(_r(t.r)),s=hs(_r(t.g)),a=hs(_r(t.b));return{r:oi(Fu(r+n*(hs(_r(e.r))-r))),g:oi(Fu(s+n*(hs(_r(e.g))-s))),b:oi(Fu(a+n*(hs(_r(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Qa(t,e,n){if(t){let r=Md(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Rd(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function z0(t,e){return t&&Object.assign(e||{},t)}function vm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=oi(t[3]))):(e=z0(t,{r:0,g:0,b:0,a:1}),e.a=oi(e.a)),e}function rS(t){return t.charAt(0)==="r"?eS(t):X_(t)}class Do{constructor(e){if(e instanceof Do)return e;const n=typeof e;let r;n==="object"?r=vm(e):n==="string"&&(r=I_(e)||J_(e)||rS(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=z0(this._rgb);return e&&(e.a=_r(e.a)),e}set rgb(e){this._rgb=vm(e)}rgbString(){return this._valid?tS(this._rgb):void 0}hexString(){return this._valid?U_(this._rgb):void 0}hslString(){return this._valid?K_(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let a;const l=n===a?.5:n,c=2*l-1,d=r.a-s.a,f=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;a=1-f,r.r=255&f*r.r+a*s.r+.5,r.g=255&f*r.g+a*s.g+.5,r.b=255&f*r.b+a*s.b+.5,r.a=l*r.a+(1-l)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=nS(this._rgb,e._rgb,n)),this}clone(){return new Do(this.rgb)}alpha(e){return this._rgb.a=oi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=$o(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qa(this._rgb,2,e),this}darken(e){return Qa(this._rgb,2,-e),this}saturate(e){return Qa(this._rgb,1,e),this}desaturate(e){return Qa(this._rgb,1,-e),this}rotate(e){return q_(this._rgb,e),this}}function vr(){}const iS=(()=>{let t=0;return()=>t++})();function Qe(t){return t==null}function kt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ue(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function $t(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Gn(t,e){return $t(t)?t:e}function Fe(t,e){return typeof t>"u"?e:t}const sS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,F0=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function at(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function et(t,e,n,r){let s,a,l;if(kt(t))for(a=t.length,s=0;s<a;s++)e.call(n,t[s],s);else if(Ue(t))for(l=Object.keys(t),a=l.length,s=0;s<a;s++)e.call(n,t[l[s]],l[s])}function bl(t,e){let n,r,s,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],a=e[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function wl(t){if(kt(t))return t.map(wl);if(Ue(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=wl(t[n[s]]);return e}return t}function j0(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function oS(t,e,n,r){if(!j0(t))return;const s=e[t],a=n[t];Ue(s)&&Ue(a)?To(s,a,r):e[t]=wl(a)}function To(t,e,n){const r=kt(e)?e:[e],s=r.length;if(!Ue(t))return t;n=n||{};const a=n.merger||oS;let l;for(let c=0;c<s;++c){if(l=r[c],!Ue(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)a(d[f],t,l,n)}return t}function So(t,e){return To(t,e,{merger:aS})}function aS(t,e,n){if(!j0(t))return;const r=e[t],s=n[t];Ue(r)&&Ue(s)?So(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=wl(s))}const xm={"":t=>t,x:t=>t.x,y:t=>t.y};function lS(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function cS(t){const e=lS(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Fi(t,e){return(xm[e]||(xm[e]=cS(e)))(t)}function Pd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const No=t=>typeof t<"u",li=t=>typeof t=="function",bm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function uS(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const nt=Math.PI,ft=2*nt,dS=ft+nt,_l=Number.POSITIVE_INFINITY,fS=nt/180,Ct=nt/2,Ei=nt/4,wm=nt*2/3,I0=Math.log10,Jn=Math.sign;function ko(t,e,n){return Math.abs(t-e)<n}function _m(t){const e=Math.round(t);t=ko(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(I0(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function hS(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,a)=>s-a).pop(),e}function pS(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ao(t){return!pS(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function mS(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function gS(t,e,n){let r,s,a;for(r=0,s=t.length;r<s;r++)a=t[r][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function kr(t){return t*(nt/180)}function yS(t){return t*(180/nt)}function Sm(t){if(!$t(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function B0(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*nt&&(a+=ft),{angle:a,distance:s}}function ad(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vS(t,e){return(t-e+dS)%ft-nt}function mn(t){return(t%ft+ft)%ft}function Lo(t,e,n,r){const s=mn(t),a=mn(e),l=mn(n),c=mn(a-s),d=mn(l-s),f=mn(s-a),p=mn(s-l);return s===a||s===l||r&&a===l||c>d&&f<p}function Ut(t,e,n){return Math.max(e,Math.min(n,t))}function xS(t){return Ut(t,-32768,32767)}function Cr(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Dd(t,e,n){n=n||(l=>t[l]<e);let r=t.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,n(a)?s=a:r=a;return{lo:s,hi:r}}const Li=(t,e,n,r)=>Dd(t,n,r?s=>{const a=t[s][e];return a<n||a===n&&t[s+1][e]===n}:s=>t[s][e]<n),bS=(t,e,n)=>Dd(t,n,r=>t[r][e]>=n);function wS(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const U0=["push","pop","shift","splice","unshift"];function _S(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),U0.forEach(n=>{const r="_onData"+Pd(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return t._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...a)}),l}})})}function km(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(U0.forEach(a=>{delete t[a]}),delete t._chartjs)}function $0(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const H0=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function W0(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,H0.call(window,()=>{r=!1,t.apply(e,n)}))}}function SS(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const V0=t=>t==="start"?"left":t==="end"?"right":"center",hn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,kS=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function CS(t,e,n){const r=e.length;let s=0,a=r;if(t._sorted){const{iScale:l,vScale:c,_parsed:d}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:g,max:y,minDefined:x,maxDefined:b}=l.getUserBounds();if(x){if(s=Math.min(Li(d,p,g).lo,n?r:Li(e,p,l.getPixelForValue(g)).lo),f){const w=d.slice(0,s+1).reverse().findIndex(S=>!Qe(S[c.axis]));s-=Math.max(0,w)}s=Ut(s,0,r-1)}if(b){let w=Math.max(Li(d,l.axis,y,!0).hi+1,n?0:Li(e,p,l.getPixelForValue(y),!0).hi+1);if(f){const S=d.slice(w-1).findIndex(C=>!Qe(C[c.axis]));w+=Math.max(0,S)}a=Ut(w,s,r)-s}else a=r-s}return{start:s,count:a}}function MS(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),a}const Ja=t=>t===0||t===1,Cm=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ft/n)),Mm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ft/n)+1,Co={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ct)+1,easeOutSine:t=>Math.sin(t*Ct),easeInOutSine:t=>-.5*(Math.cos(nt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ja(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ja(t)?t:Cm(t,.075,.3),easeOutElastic:t=>Ja(t)?t:Mm(t,.075,.3),easeInOutElastic(t){return Ja(t)?t:t<.5?.5*Cm(t*2,.1125,.45):.5+.5*Mm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Co.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Co.easeInBounce(t*2)*.5:Co.easeOutBounce(t*2-1)*.5+.5};function Td(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Em(t){return Td(t)?t:new Do(t)}function ju(t){return Td(t)?t:new Do(t).saturate(.5).darken(.1).hexString()}const ES=["x","y","borderWidth","radius","tension"],RS=["color","borderColor","backgroundColor"];function PS(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:RS},numbers:{type:"number",properties:ES}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function DS(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rm=new Map;function TS(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Rm.get(n);return r||(r=new Intl.NumberFormat(t,e),Rm.set(n,r)),r}function Nd(t,e,n){return TS(e,n).format(t)}const NS={values(t){return kt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,a=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=AS(t,n)}const l=I0(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),Nd(t,r,d)}};function AS(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Y0={formatters:NS};function LS(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Y0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ji=Object.create(null),ld=Object.create(null);function Mo(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const a=n[r];t=t[a]||(t[a]=Object.create(null))}return t}function Iu(t,e,n){return typeof e=="string"?To(Mo(t,e),n):To(Mo(t,""),e)}class OS{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>ju(s.backgroundColor),this.hoverBorderColor=(r,s)=>ju(s.borderColor),this.hoverColor=(r,s)=>ju(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Iu(this,e,n)}get(e){return Mo(this,e)}describe(e,n){return Iu(ld,e,n)}override(e,n){return Iu(ji,e,n)}route(e,n,r,s){const a=Mo(this,e),l=Mo(this,r),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[c],f=l[s];return Ue(d)?Object.assign({},f,d):Fe(d,f)},set(d){this[c]=d}}})}apply(e){e.forEach(n=>n(this))}}var vt=new OS({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[PS,DS,LS]);function zS(t){return!t||Qe(t.size)||Qe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Pm(t,e,n,r,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,n.push(s)),a>r&&(r=a),r}function Ri(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Dm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function cd(t,e,n,r){G0(t,e,n,r,null)}function G0(t,e,n,r,s){let a,l,c,d,f,p,g,y;const x=e.pointStyle,b=e.rotation,w=e.radius;let S=(b||0)*fS;if(x&&typeof x=="object"&&(a=x.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(S),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),x){default:s?t.ellipse(n,r,s/2,w,0,0,ft):t.arc(n,r,w,0,ft),t.closePath();break;case"triangle":p=s?s/2:w,t.moveTo(n+Math.sin(S)*p,r-Math.cos(S)*w),S+=wm,t.lineTo(n+Math.sin(S)*p,r-Math.cos(S)*w),S+=wm,t.lineTo(n+Math.sin(S)*p,r-Math.cos(S)*w),t.closePath();break;case"rectRounded":f=w*.516,d=w-f,l=Math.cos(S+Ei)*d,g=Math.cos(S+Ei)*(s?s/2-f:d),c=Math.sin(S+Ei)*d,y=Math.sin(S+Ei)*(s?s/2-f:d),t.arc(n-g,r-c,f,S-nt,S-Ct),t.arc(n+y,r-l,f,S-Ct,S),t.arc(n+g,r+c,f,S,S+Ct),t.arc(n-y,r+l,f,S+Ct,S+nt),t.closePath();break;case"rect":if(!b){d=Math.SQRT1_2*w,p=s?s/2:d,t.rect(n-p,r-d,2*p,2*d);break}S+=Ei;case"rectRot":g=Math.cos(S)*(s?s/2:w),l=Math.cos(S)*w,c=Math.sin(S)*w,y=Math.sin(S)*(s?s/2:w),t.moveTo(n-g,r-c),t.lineTo(n+y,r-l),t.lineTo(n+g,r+c),t.lineTo(n-y,r+l),t.closePath();break;case"crossRot":S+=Ei;case"cross":g=Math.cos(S)*(s?s/2:w),l=Math.cos(S)*w,c=Math.sin(S)*w,y=Math.sin(S)*(s?s/2:w),t.moveTo(n-g,r-c),t.lineTo(n+g,r+c),t.moveTo(n+y,r-l),t.lineTo(n-y,r+l);break;case"star":g=Math.cos(S)*(s?s/2:w),l=Math.cos(S)*w,c=Math.sin(S)*w,y=Math.sin(S)*(s?s/2:w),t.moveTo(n-g,r-c),t.lineTo(n+g,r+c),t.moveTo(n+y,r-l),t.lineTo(n-y,r+l),S+=Ei,g=Math.cos(S)*(s?s/2:w),l=Math.cos(S)*w,c=Math.sin(S)*w,y=Math.sin(S)*(s?s/2:w),t.moveTo(n-g,r-c),t.lineTo(n+g,r+c),t.moveTo(n+y,r-l),t.lineTo(n-y,r+l);break;case"line":l=s?s/2:Math.cos(S)*w,c=Math.sin(S)*w,t.moveTo(n-l,r-c),t.lineTo(n+l,r+c);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(S)*(s?s/2:w),r+Math.sin(S)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Oo(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Nl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Al(t){t.restore()}function FS(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function jS(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function IS(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Qe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function BS(t,e,n,r,s){if(s.strikethrough||s.underline){const a=t.measureText(r),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,d=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,p=s.strikethrough?(d+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(l,p),t.lineTo(c,p),t.stroke()}}function US(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Sl(t,e,n,r,s,a={}){const l=kt(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let d,f;for(t.save(),t.font=s.string,IS(t,a),d=0;d<l.length;++d)f=l[d],a.backdrop&&US(t,a.backdrop),c&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Qe(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(f,n,r,a.maxWidth)),t.fillText(f,n,r,a.maxWidth),BS(t,n,r,f,a),r+=Number(s.lineHeight);t.restore()}function kl(t,e){const{x:n,y:r,w:s,h:a,radius:l}=e;t.arc(n+l.topLeft,r+l.topLeft,l.topLeft,1.5*nt,nt,!0),t.lineTo(n,r+a-l.bottomLeft),t.arc(n+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,nt,Ct,!0),t.lineTo(n+s-l.bottomRight,r+a),t.arc(n+s-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Ct,0,!0),t.lineTo(n+s,r+l.topRight),t.arc(n+s-l.topRight,r+l.topRight,l.topRight,0,-Ct,!0),t.lineTo(n+l.topLeft,r)}const $S=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,HS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function WS(t,e){const n=(""+t).match($S);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const VS=t=>+t||0;function Ad(t,e){const n={},r=Ue(e),s=r?Object.keys(e):e,a=Ue(t)?r?l=>Fe(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of s)n[l]=VS(a(l));return n}function X0(t){return Ad(t,{top:"y",right:"x",bottom:"y",left:"x"})}function xs(t){return Ad(t,["topLeft","topRight","bottomLeft","bottomRight"])}function jn(t){const e=X0(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function an(t,e){t=t||{},e=e||vt.font;let n=Fe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Fe(t.style,e.style);r&&!(""+r).match(HS)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Fe(t.family,e.family),lineHeight:WS(Fe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Fe(t.weight,e.weight),string:""};return s.string=zS(s),s}function Za(t,e,n,r){let s,a,l;for(s=0,a=t.length;s<a;++s)if(l=t[s],l!==void 0&&l!==void 0)return l}function YS(t,e,n){const{min:r,max:s}=t,a=F0(e,(s-r)/2),l=(c,d)=>n&&c===0?0:c+d;return{min:l(r,-Math.abs(a)),max:l(s,a)}}function $i(t,e){return Object.assign(Object.create(t),e)}function Ld(t,e=[""],n,r,s=()=>t[0]){const a=n||t;typeof r>"u"&&(r=J0("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:s,override:c=>Ld([c,...t],e,a,r)};return new Proxy(l,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return K0(c,d,()=>e2(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return Nm(c).includes(d)},ownKeys(c){return Nm(c)},set(c,d,f){const p=c._storage||(c._storage=s());return c[d]=p[d]=f,delete c._keys,!0}})}function _s(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:q0(t,r),setContext:a=>_s(t,a,n,r),override:a=>_s(t.override(a),e,n,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,c){return K0(a,l,()=>XS(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,c){return t[l]=c,delete a[l],!0}})}function q0(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:li(n)?n:()=>n,isIndexable:li(r)?r:()=>r}}const GS=(t,e)=>t?t+Pd(e):e,Od=(t,e)=>Ue(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function K0(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function XS(t,e,n){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=t;let c=r[e];return li(c)&&l.isScriptable(e)&&(c=qS(e,c,t,n)),kt(c)&&c.length&&(c=KS(e,c,t,l.isIndexable)),Od(e,c)&&(c=_s(c,s,a&&a[e],l)),c}function qS(t,e,n,r){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(a,l||r);return c.delete(t),Od(t,d)&&(d=zd(s._scopes,s,t,d)),d}function KS(t,e,n,r){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(Ue(e[0])){const d=e,f=s._scopes.filter(p=>p!==d);e=[];for(const p of d){const g=zd(f,s,t,p);e.push(_s(g,a,l&&l[t],c))}}return e}function Q0(t,e,n){return li(t)?t(e,n):t}const QS=(t,e)=>t===!0?e:typeof t=="string"?Fi(e,t):void 0;function JS(t,e,n,r,s){for(const a of e){const l=QS(n,a);if(l){t.add(l);const c=Q0(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==r)return c}else if(l===!1&&typeof r<"u"&&n!==r)return null}return!1}function zd(t,e,n,r){const s=e._rootScopes,a=Q0(e._fallback,n,r),l=[...t,...s],c=new Set;c.add(r);let d=Tm(c,l,n,a||n,r);return d===null||typeof a<"u"&&a!==n&&(d=Tm(c,l,a,d,r),d===null)?!1:Ld(Array.from(c),[""],s,a,()=>ZS(e,n,r))}function Tm(t,e,n,r,s){for(;n;)n=JS(t,e,n,r,s);return n}function ZS(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return kt(s)&&Ue(n)?n:s||{}}function e2(t,e,n,r){let s;for(const a of e)if(s=J0(GS(a,t),n),typeof s<"u")return Od(t,s)?zd(n,r,t,s):s}function J0(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Nm(t){let e=t._keys;return e||(e=t._keys=t2(t._scopes)),e}function t2(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const n2=Number.EPSILON||1e-14,Ss=(t,e)=>e<t.length&&!t[e].skip&&t[e],Z0=t=>t==="x"?"y":"x";function r2(t,e,n,r){const s=t.skip?e:t,a=e,l=n.skip?e:n,c=ad(a,s),d=ad(l,a);let f=c/(c+d),p=d/(c+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const g=r*f,y=r*p;return{previous:{x:a.x-g*(l.x-s.x),y:a.y-g*(l.y-s.y)},next:{x:a.x+y*(l.x-s.x),y:a.y+y*(l.y-s.y)}}}function i2(t,e,n){const r=t.length;let s,a,l,c,d,f=Ss(t,0);for(let p=0;p<r-1;++p)if(d=f,f=Ss(t,p+1),!(!d||!f)){if(ko(e[p],0,n2)){n[p]=n[p+1]=0;continue}s=n[p]/e[p],a=n[p+1]/e[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*e[p],n[p+1]=a*l*e[p])}}function s2(t,e,n="x"){const r=Z0(n),s=t.length;let a,l,c,d=Ss(t,0);for(let f=0;f<s;++f){if(l=c,c=d,d=Ss(t,f+1),!c)continue;const p=c[n],g=c[r];l&&(a=(p-l[n])/3,c[`cp1${n}`]=p-a,c[`cp1${r}`]=g-a*e[f]),d&&(a=(d[n]-p)/3,c[`cp2${n}`]=p+a,c[`cp2${r}`]=g+a*e[f])}}function o2(t,e="x"){const n=Z0(e),r=t.length,s=Array(r).fill(0),a=Array(r);let l,c,d,f=Ss(t,0);for(l=0;l<r;++l)if(c=d,d=f,f=Ss(t,l+1),!!d){if(f){const p=f[e]-d[e];s[l]=p!==0?(f[n]-d[n])/p:0}a[l]=c?f?Jn(s[l-1])!==Jn(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}i2(t,s,a),s2(t,a,e)}function el(t,e,n){return Math.max(Math.min(t,n),e)}function a2(t,e){let n,r,s,a,l,c=Oo(t[0],e);for(n=0,r=t.length;n<r;++n)l=a,a=c,c=n<r-1&&Oo(t[n+1],e),a&&(s=t[n],l&&(s.cp1x=el(s.cp1x,e.left,e.right),s.cp1y=el(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=el(s.cp2x,e.left,e.right),s.cp2y=el(s.cp2y,e.top,e.bottom)))}function l2(t,e,n,r,s){let a,l,c,d;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")o2(t,s);else{let f=r?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)c=t[a],d=r2(f,c,t[Math.min(a+1,l-(r?0:1))%l],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,f=c}e.capBezierPoints&&a2(t,n)}function Fd(){return typeof window<"u"&&typeof document<"u"}function jd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Cl(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Ll=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function c2(t,e){return Ll(t).getPropertyValue(e)}const u2=["top","right","bottom","left"];function Oi(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=u2[s];r[a]=parseFloat(t[e+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const d2=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function f2(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:a}=r;let l=!1,c,d;if(d2(s,a,t.target))c=s,d=a;else{const f=e.getBoundingClientRect();c=r.clientX-f.left,d=r.clientY-f.top,l=!0}return{x:c,y:d,box:l}}function Ti(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Ll(n),a=s.boxSizing==="border-box",l=Oi(s,"padding"),c=Oi(s,"border","width"),{x:d,y:f,box:p}=f2(t,n),g=l.left+(p&&c.left),y=l.top+(p&&c.top);let{width:x,height:b}=e;return a&&(x-=l.width+c.width,b-=l.height+c.height),{x:Math.round((d-g)/x*n.width/r),y:Math.round((f-y)/b*n.height/r)}}function h2(t,e,n){let r,s;if(e===void 0||n===void 0){const a=t&&jd(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),c=Ll(a),d=Oi(c,"border","width"),f=Oi(c,"padding");e=l.width-f.width-d.width,n=l.height-f.height-d.height,r=Cl(c.maxWidth,a,"clientWidth"),s=Cl(c.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:r||_l,maxHeight:s||_l}}const ri=t=>Math.round(t*10)/10;function p2(t,e,n,r){const s=Ll(t),a=Oi(s,"margin"),l=Cl(s.maxWidth,t,"clientWidth")||_l,c=Cl(s.maxHeight,t,"clientHeight")||_l,d=h2(t,e,n);let{width:f,height:p}=d;if(s.boxSizing==="content-box"){const y=Oi(s,"border","width"),x=Oi(s,"padding");f-=x.width+y.width,p-=x.height+y.height}return f=Math.max(0,f-a.width),p=Math.max(0,r?f/r:p-a.height),f=ri(Math.min(f,l,d.maxWidth)),p=ri(Math.min(p,c,d.maxHeight)),f&&!p&&(p=ri(f/2)),(e!==void 0||n!==void 0)&&r&&d.height&&p>d.height&&(p=d.height,f=ri(Math.floor(p*r))),{width:f,height:p}}function Am(t,e,n){const r=e||1,s=ri(t.height*r),a=ri(t.width*r);t.height=ri(t.height),t.width=ri(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||l.height!==s||l.width!==a?(t.currentDevicePixelRatio=r,l.height=s,l.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const m2=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Fd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Lm(t,e){const n=c2(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ni(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function g2(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function y2(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},l=Ni(t,s,n),c=Ni(s,a,n),d=Ni(a,e,n),f=Ni(l,c,n),p=Ni(c,d,n);return Ni(f,p,n)}const v2=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},x2=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function bs(t,e,n){return t?v2(e,n):x2()}function ey(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function ty(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ny(t){return t==="angle"?{between:Lo,compare:vS,normalize:mn}:{between:Cr,compare:(e,n)=>e-n,normalize:e=>e}}function Om({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function b2(t,e,n){const{property:r,start:s,end:a}=n,{between:l,normalize:c}=ny(r),d=e.length;let{start:f,end:p,loop:g}=t,y,x;if(g){for(f+=d,p+=d,y=0,x=d;y<x&&l(c(e[f%d][r]),s,a);++y)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:g,style:t.style}}function ry(t,e,n){if(!n)return[t];const{property:r,start:s,end:a}=n,l=e.length,{compare:c,between:d,normalize:f}=ny(r),{start:p,end:g,loop:y,style:x}=b2(t,e,n),b=[];let w=!1,S=null,C,D,M;const L=()=>d(s,M,C)&&c(s,M)!==0,N=()=>c(a,C)===0||d(a,M,C),j=()=>w||L(),E=()=>!w||N();for(let A=p,W=p;A<=g;++A)D=e[A%l],!D.skip&&(C=f(D[r]),C!==M&&(w=d(C,s,a),S===null&&j()&&(S=c(C,s)===0?A:W),S!==null&&E()&&(b.push(Om({start:S,end:A,loop:y,count:l,style:x})),S=null),W=A,M=C));return S!==null&&b.push(Om({start:S,end:g,loop:y,count:l,style:x})),b}function iy(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const a=ry(r[s],t.points,e);a.length&&n.push(...a)}return n}function w2(t,e,n,r){let s=0,a=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(a+=s);a>s&&t[a%e].skip;)a--;return a%=e,{start:s,end:a}}function _2(t,e,n,r){const s=t.length,a=[];let l=e,c=t[e],d;for(d=e+1;d<=n;++d){const f=t[d%s];f.skip||f.stop?c.skip||(r=!1,a.push({start:e%s,end:(d-1)%s,loop:r}),e=l=f.stop?d:null):(l=d,c.skip&&(e=d)),c=f}return l!==null&&a.push({start:e%s,end:l%s,loop:r}),a}function S2(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const a=!!t._loop,{start:l,end:c}=w2(n,s,a,r);if(r===!0)return zm(t,[{start:l,end:c,loop:a}],n,e);const d=c<l?c+s:c,f=!!t._fullLoop&&l===0&&c===s-1;return zm(t,_2(n,l,d,f),n,e)}function zm(t,e,n,r){return!r||!r.setContext||!n?e:k2(t,e,n,r)}function k2(t,e,n,r){const s=t._chart.getContext(),a=Fm(t.options),{_datasetIndex:l,options:{spanGaps:c}}=t,d=n.length,f=[];let p=a,g=e[0].start,y=g;function x(b,w,S,C){const D=c?-1:1;if(b!==w){for(b+=d;n[b%d].skip;)b-=D;for(;n[w%d].skip;)w+=D;b%d!==w%d&&(f.push({start:b%d,end:w%d,loop:S,style:C}),p=C,g=w%d)}}for(const b of e){g=c?g:b.start;let w=n[g%d],S;for(y=g+1;y<=b.end;y++){const C=n[y%d];S=Fm(r.setContext($i(s,{type:"segment",p0:w,p1:C,p0DataIndex:(y-1)%d,p1DataIndex:y%d,datasetIndex:l}))),C2(S,p)&&x(g,y-1,b.loop,p),w=C,p=S}g<y-1&&x(g,y-1,b.loop,p)}return f}function Fm(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function C2(t,e){if(!e)return!1;const n=[],r=function(s,a){return Td(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function tl(t,e,n){return t.options.clip?t[n]:e[n]}function M2(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:tl(n,e,"left"),right:tl(n,e,"right"),top:tl(r,e,"top"),bottom:tl(r,e,"bottom")}:e}function sy(t,e){const n=e._clip;if(n.disabled)return!1;const r=M2(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}class E2{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(r-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=H0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,c=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,r,e,"progress")),a.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var br=new E2;const jm="transparent",R2={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Em(t||jm),s=r.valid&&Em(e||jm);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class P2{constructor(e,n,r,s){const a=n[r];s=Za([e.to,s,a,e.from]);const l=Za([e.from,a,s]);this._active=!0,this._fn=e.fn||R2[e.type||typeof l],this._easing=Co[e.easing]||Co.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Za([e.to,n,s,e.from]),this._from=Za([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let d;if(this._active=a!==c&&(l||n<r),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}d=n/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(a,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class oy{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ue(e))return;const n=Object.keys(vt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!Ue(a))return;const l={};for(const c of n)l[c]=a[c];(kt(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,n){const r=n.options,s=T2(e,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&D2(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,n){const r=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),c=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,n));continue}const p=n[f];let g=a[f];const y=r.get(f);if(g)if(y&&g.active()){g.update(y,p,c);continue}else g.cancel();if(!y||!y.duration){e[f]=p;continue}a[f]=g=new P2(y,e,f,p),s.push(g)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return br.add(this._chart,r),!0}}function D2(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const a=t[r[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function T2(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Im(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:r?a:s,end:r?s:a}}function N2(t,e,n){if(n===!1)return!1;const r=Im(t,n),s=Im(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function A2(t){let e,n,r,s;return Ue(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function ay(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=r.length;s<a;++s)n.push(r[s].index);return n}function Bm(t,e,n,r={}){const s=t.keys,a=r.mode==="single";let l,c,d,f;if(e===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(d=+s[l],d===n){if(p=!0,r.all)continue;break}f=t.values[d],$t(f)&&(a||e===0||Jn(e)===Jn(f))&&(e+=f)}return!p&&!r.all?0:e}function L2(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(t),c=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],c[d]={[s]:p,[a]:t[p]};return c}function Bu(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function O2(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function z2(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function F2(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Um(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const a=t[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function $m(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=r,d=a.axis,f=l.axis,p=O2(a,l,r),g=e.length;let y;for(let x=0;x<g;++x){const b=e[x],{[d]:w,[f]:S}=b,C=b._stacks||(b._stacks={});y=C[f]=F2(s,p,w),y[c]=S,y._top=Um(y,l,!0,r.type),y._bottom=Um(y,l,!1,r.type);const D=y._visualValues||(y._visualValues={});D[c]=S}}function Uu(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function j2(t,e){return $i(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function I2(t,e,n){return $i(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function co(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const $u=t=>t==="reset"||t==="none",Hm=(t,e)=>e?t:Object.assign({},t),B2=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ay(n,!0),values:null};class Ol{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Bu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&co(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(g,y,x,b)=>g==="x"?y:g==="r"?b:x,a=n.xAxisID=Fe(r.xAxisID,Uu(e,"x")),l=n.yAxisID=Fe(r.yAxisID,Uu(e,"y")),c=n.rAxisID=Fe(r.rAxisID,Uu(e,"r")),d=n.indexAxis,f=n.iAxisID=s(d,a,l,c),p=n.vAxisID=s(d,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&km(this._data,this),e._stacked&&co(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ue(n)){const s=this._cachedMeta;this._data=L2(n,s)}else if(r!==n){if(r){km(r,this);const s=this._cachedMeta;co(s),s._parsed=[]}n&&Object.isExtensible(n)&&_S(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Bu(n.vScale,n),n.stack!==r.stack&&(s=!0,co(n),n.stack=r.stack),this._resyncElements(e),(s||a!==n._stacked)&&($m(this,n._parsed),n._stacked=Bu(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:l}=r,c=a.axis;let d=e===0&&n===s.length?!0:r._sorted,f=e>0&&r._parsed[e-1],p,g,y;if(this._parsing===!1)r._parsed=s,r._sorted=!0,y=s;else{kt(s[e])?y=this.parseArrayData(r,s,e,n):Ue(s[e])?y=this.parseObjectData(r,s,e,n):y=this.parsePrimitiveData(r,s,e,n);const x=()=>g[c]===null||f&&g[c]<f[c];for(p=0;p<n;++p)r._parsed[p+e]=g=y[p],d&&(x()&&(d=!1),f=g);r._sorted=d}l&&$m(this,y)}parsePrimitiveData(e,n,r,s){const{iScale:a,vScale:l}=e,c=a.axis,d=l.axis,f=a.getLabels(),p=a===l,g=new Array(s);let y,x,b;for(y=0,x=s;y<x;++y)b=y+r,g[y]={[c]:p||a.parse(f[b],b),[d]:l.parse(n[b],b)};return g}parseArrayData(e,n,r,s){const{xScale:a,yScale:l}=e,c=new Array(s);let d,f,p,g;for(d=0,f=s;d<f;++d)p=d+r,g=n[p],c[d]={x:a.parse(g[0],p),y:l.parse(g[1],p)};return c}parseObjectData(e,n,r,s){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,f=new Array(s);let p,g,y,x;for(p=0,g=s;p<g;++p)y=p+r,x=n[y],f[p]={x:a.parse(Fi(x,c),y),y:l.parse(Fi(x,d),y)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,a=this._cachedMeta,l=n[e.axis],c={keys:ay(s,!0),values:n._stacks[e.axis]._visualValues};return Bm(c,l,a.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const a=r[n.axis];let l=a===null?NaN:a;const c=s&&r._stacks[n.axis];s&&c&&(s.values=c,l=Bm(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,l=s.length,c=this._getOtherScale(e),d=B2(n,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=z2(c);let y,x;function b(){x=s[y];const w=x[c.axis];return!$t(x[e.axis])||p>w||g<w}for(y=0;y<l&&!(!b()&&(this.updateRangeFromParsed(f,e,x,d),a));++y);if(a){for(y=l-1;y>=0;--y)if(!b()){this.updateRangeFromParsed(f,e,x,d);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][e.axis],$t(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=A2(Fe(this.options.clip,N2(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],a=n.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,a,c,d),p=c;p<c+d;++p){const g=s[p];g.hidden||(g.active&&f?l.push(g):g.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=I2(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=j2(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",a=this._cachedDataOpts,l=e+"-"+n,c=a[l],d=this.enableOptionSharing&&No(r);if(c)return Hm(c,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),g=s?[`${e}Hover`,"hover",e,""]:[e,""],y=f.getOptionScopes(this.getDataset(),p),x=Object.keys(vt.elements[e]),b=()=>this.getContext(r,s,n),w=f.resolveNamedOptions(y,x,b,g);return w.$shared&&(w.$shared=d,a[l]=Object.freeze(Hm(w,d))),w}_resolveAnimations(e,n,r){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let d;if(s.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),y=p.getOptionScopes(this.getDataset(),g);d=p.createResolver(y,this.getContext(e,r,n))}const f=new oy(s,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||$u(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:l}}updateElement(e,n,r,s){$u(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!$u(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[c,d,f]of this._syncList)this[c](d,f);this._syncList=[];const s=r.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,n,r=!0){const s=this._cachedMeta,a=s.data,l=e+n;let c;const d=f=>{for(f.length+=n,c=f.length-1;c>=l;c--)f[c]=f[c-n]};for(d(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&co(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function U2(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,a=n.length;s<a;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=$0(r.sort((s,a)=>s-a))}return t._cache.$bar}function $2(t){const e=t.iScale,n=U2(e,t.type);let r=e._length,s,a,l,c;const d=()=>{l===32767||l===-32768||(No(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(s=0,a=n.length;s<a;++s)l=e.getPixelForValue(n[s]),d();for(c=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),d();return r}function H2(t,e,n,r){const s=n.barThickness;let a,l;return Qe(s)?(a=e.min*n.categoryPercentage,l=n.barPercentage):(a=s*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[t]-a/2}}function W2(t,e,n,r){const s=e.pixels,a=s[t];let l=t>0?s[t-1]:null,c=t<s.length-1?s[t+1]:null;const d=n.categoryPercentage;l===null&&(l=a-(c===null?e.end-e.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*d;return{chunk:Math.abs(c-l)/2*d/r,ratio:n.barPercentage,start:f}}function V2(t,e,n,r){const s=n.parse(t[0],r),a=n.parse(t[1],r),l=Math.min(s,a),c=Math.max(s,a);let d=l,f=c;Math.abs(l)>Math.abs(c)&&(d=c,f=l),e[n.axis]=f,e._custom={barStart:d,barEnd:f,start:s,end:a,min:l,max:c}}function ly(t,e,n,r){return kt(t)?V2(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Wm(t,e,n,r){const s=t.iScale,a=t.vScale,l=s.getLabels(),c=s===a,d=[];let f,p,g,y;for(f=n,p=n+r;f<p;++f)y=e[f],g={},g[s.axis]=c||s.parse(l[f],f),d.push(ly(y,g,a,f));return d}function Hu(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Y2(t,e,n){return t!==0?Jn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function G2(t){let e,n,r,s,a;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",a="start"):(s="start",a="end"),{start:n,end:r,reverse:e,top:s,bottom:a}}function X2(t,e,n,r){let s=e.borderSkipped;const a={};if(!s){t.borderSkipped=a;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:d,top:f,bottom:p}=G2(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=f:(n._bottom||0)===r?s=p:(a[Vm(p,l,c,d)]=!0,s=f)),a[Vm(s,l,c,d)]=!0,t.borderSkipped=a}function Vm(t,e,n,r){return r?(t=q2(t,e,n),t=Ym(t,n,e)):t=Ym(t,e,n),t}function q2(t,e,n){return t===e?n:t===n?e:t}function Ym(t,e,n){return t==="start"?e:t==="end"?n:t}function K2(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Q2 extends Ol{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return Wm(e,n,r,s)}parseArrayData(e,n,r,s){return Wm(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:a,vScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,f=a.axis==="x"?c:d,p=l.axis==="x"?c:d,g=[];let y,x,b,w;for(y=r,x=r+s;y<x;++y)w=n[y],b={},b[a.axis]=a.parse(Fi(w,f),y),g.push(ly(Fi(w,p),b,l,y));return g}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const a=r._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,a=this.getParsed(e),l=a._custom,c=Hu(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,s);for(let x=n;x<n+r;x++){const b=this.getParsed(x),w=a||Qe(b[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(x),S=this._calculateBarIndexPixels(x,p),C=(b._stacks||{})[c.axis],D={horizontal:f,base:w.base,enableBorderRadius:!C||Hu(b._custom)||l===C._top||l===C._bottom,x:f?w.head:S.center,y:f?S.center:w.head,height:f?S.size:Math.abs(w.size),width:f?Math.abs(w.size):S.size};y&&(D.options=g||this.resolveDataElementOptions(x,e[x].active?"active":s));const M=D.options||e[x].options;X2(D,M,C,l),K2(D,M,p.ratio),this.updateElement(e[x],x,D,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),d=c&&c[r.axis],f=p=>{const g=p._parsed.find(x=>x[r.axis]===d),y=g&&g[p.vScale.axis];if(Qe(y)||isNaN(y))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Fe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const c=e.barThickness;return{min:c||$2(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,d=this.getParsed(e),f=d._custom,p=Hu(f);let g=d[n.axis],y=0,x=r?this.applyStack(n,d,r):g,b,w;x!==g&&(y=x-g,x=g),p&&(g=f.barStart,x=f.barEnd-f.barStart,g!==0&&Jn(g)!==Jn(f.barEnd)&&(y=0),y+=g);const S=!Qe(a)&&!p?a:y;let C=n.getPixelForValue(S);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(y+x):b=C,w=b-C,Math.abs(w)<l){w=Y2(w,n,c)*l,g===c&&(C-=w/2);const D=n.getPixelForDecimal(0),M=n.getPixelForDecimal(1),L=Math.min(D,M),N=Math.max(D,M);C=Math.max(Math.min(C,N),L),b=C+w,r&&!p&&(d._stacks[n.axis]._visualValues[s]=n.getValueForPixel(b)-n.getValueForPixel(C))}if(C===n.getPixelForValue(c)){const D=Jn(w)*n.getLineWidthForValue(c)/2;C+=D,w-=D}return{size:w,base:C,head:b,center:b+w/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,a=s.skipNull,l=Fe(s.maxBarThickness,1/0);let c,d;const f=this._getAxisCount();if(n.grouped){const p=a?this._getStackCount(e):n.stackCount,g=s.barThickness==="flex"?W2(e,n,s,p*f):H2(e,n,s,p*f),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Fe(y,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+x;c=g.start+g.chunk*b+g.chunk/2,d=Math.min(l,g.chunk*g.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),d=Math.min(l,n.min*n.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}function J2(t,e,n){let r=1,s=1,a=0,l=0;if(e<ft){const c=t,d=c+e,f=Math.cos(c),p=Math.sin(c),g=Math.cos(d),y=Math.sin(d),x=(M,L,N)=>Lo(M,c,d,!0)?1:Math.max(L,L*n,N,N*n),b=(M,L,N)=>Lo(M,c,d,!0)?-1:Math.min(L,L*n,N,N*n),w=x(0,f,g),S=x(Ct,p,y),C=b(nt,f,g),D=b(nt+Ct,p,y);r=(w-C)/2,s=(S-D)/2,a=-(w+C)/2,l=-(S+D)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:l}}class Z2 extends Ol{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((d,f)=>{const g=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:g.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(f),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:s,pointStyle:r,borderRadius:l&&(c||g.borderRadius),index:f}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let a=d=>+r[d];if(Ue(r[e])){const{key:d="value"}=this._parsing;a=f=>+Fi(r[f],d)}let l,c;for(l=e,c=e+n;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return kr(this.options.rotation-90)}_getCircumference(){return kr(this.options.circumference)}_getRotationExtents(){let e=ft,n=-ft;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),l=s._getCircumference();e=Math.min(e,a),n=Math.max(n,a+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(sS(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:y,ratioY:x,offsetX:b,offsetY:w}=J2(g,p,d),S=(r.width-l)/y,C=(r.height-l)/x,D=Math.max(Math.min(S,C)/2,0),M=F0(this.options.radius,D),L=Math.max(M*d,0),N=(M-L)/this._getVisibleDatasetWeightTotal();this.offsetX=b*M,this.offsetY=w*M,s.total=this.calculateTotal(),this.outerRadius=M-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/ft)}updateElements(e,n,r,s){const a=s==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,p=(c.left+c.right)/2,g=(c.top+c.bottom)/2,y=a&&f.animateScale,x=y?0:this.innerRadius,b=y?0:this.outerRadius,{sharedOptions:w,includeOptions:S}=this._getSharedOptions(n,s);let C=this._getRotation(),D;for(D=0;D<n;++D)C+=this._circumference(D,a);for(D=n;D<n+r;++D){const M=this._circumference(D,a),L=e[D],N={x:p+this.offsetX,y:g+this.offsetY,startAngle:C,endAngle:C+M,circumference:M,outerRadius:b,innerRadius:x};S&&(N.options=w||this.resolveDataElementOptions(D,L.active?"active":s)),C+=M,this.updateElement(L,D,N,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ft*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=Nd(n._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,a,l,c,d;if(!e){for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),e=l.data,c=l.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)d=c.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(n=Math.max(n,d.borderWidth||0,d.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Fe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class ek extends Ol{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:d}=CS(n,s,l);this._drawStart=c,this._drawCount=d,MS(n)&&(c=0,d=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:f},e),this.updateElements(s,c,d,e)}updateElements(e,n,r,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,s),y=l.axis,x=c.axis,{spanGaps:b,segment:w}=this.options,S=Ao(b)?b:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||a||s==="none",D=n+r,M=e.length;let L=n>0&&this.getParsed(n-1);for(let N=0;N<M;++N){const j=e[N],E=C?j:{};if(N<n||N>=D){E.skip=!0;continue}const A=this.getParsed(N),W=Qe(A[x]),X=E[y]=l.getPixelForValue(A[y],N),q=E[x]=a||W?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,A,d):A[x],N);E.skip=isNaN(X)||isNaN(q)||W,E.stop=N>0&&Math.abs(A[y]-L[y])>S,w&&(E.parsed=A,E.raw=f.data[N]),g&&(E.options=p||this.resolveDataElementOptions(N,j.active?"active":s)),C||this.updateElement(j,N,E,s),L=A}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Pi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Id{static override(e){Object.assign(Id.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Pi()}parse(){return Pi()}format(){return Pi()}add(){return Pi()}diff(){return Pi()}startOf(){return Pi()}endOf(){return Pi()}}var tk={_date:Id};function nk(t,e,n,r){const{controller:s,data:a,_sorted:l}=t,c=s._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const f=c._reversePixels?bS:Li;if(r){if(s._sharedOptions){const p=a[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const y=f(a,e,n-g),x=f(a,e,n+g);return{lo:y.lo,hi:x.hi}}}}else{const p=f(a,e,n);if(d){const{vScale:g}=s._cachedMeta,{_parsed:y}=t,x=y.slice(0,p.lo+1).reverse().findIndex(w=>!Qe(w[g.axis]));p.lo-=Math.max(0,x);const b=y.slice(p.hi).findIndex(w=>!Qe(w[g.axis]));p.hi+=Math.max(0,b)}return p}}return{lo:0,hi:a.length-1}}function zl(t,e,n,r,s){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let c=0,d=a.length;c<d;++c){const{index:f,data:p}=a[c],{lo:g,hi:y}=nk(a[c],e,l,s);for(let x=g;x<=y;++x){const b=p[x];b.skip||r(b,f,x)}}}function rk(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const a=e?Math.abs(r.x-s.x):0,l=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Wu(t,e,n,r,s){const a=[];return!s&&!t.isPointInArea(e)||zl(t,n,e,function(c,d,f){!s&&!Oo(c,t.chartArea,0)||c.inRange(e.x,e.y,r)&&a.push({element:c,datasetIndex:d,index:f})},!0),a}function ik(t,e,n,r){let s=[];function a(l,c,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],r),{angle:g}=B0(l,{x:e.x,y:e.y});Lo(g,f,p)&&s.push({element:l,datasetIndex:c,index:d})}return zl(t,n,e,a),s}function sk(t,e,n,r,s,a){let l=[];const c=rk(n);let d=Number.POSITIVE_INFINITY;function f(p,g,y){const x=p.inRange(e.x,e.y,s);if(r&&!x)return;const b=p.getCenterPoint(s);if(!(!!a||t.isPointInArea(b))&&!x)return;const S=c(e,b);S<d?(l=[{element:p,datasetIndex:g,index:y}],d=S):S===d&&l.push({element:p,datasetIndex:g,index:y})}return zl(t,n,e,f),l}function Vu(t,e,n,r,s,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!r?ik(t,e,n,s):sk(t,e,n,r,s,a)}function Gm(t,e,n,r,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return zl(t,n,e,(d,f,p)=>{d[l]&&d[l](e[n],s)&&(a.push({element:d,datasetIndex:f,index:p}),c=c||d.inRange(e.x,e.y,s))}),r&&!c?[]:a}var ok={modes:{index(t,e,n,r){const s=Ti(e,t),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Wu(t,s,a,r,l):Vu(t,s,a,!1,r,l),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,g=f.data[p];g&&!g.skip&&d.push({element:g,datasetIndex:f.index,index:p})}),d):[]},dataset(t,e,n,r){const s=Ti(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Wu(t,s,a,r,l):Vu(t,s,a,!1,r,l);if(c.length>0){const d=c[0].datasetIndex,f=t.getDatasetMeta(d).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:d,index:p})}return c},point(t,e,n,r){const s=Ti(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Wu(t,s,a,r,l)},nearest(t,e,n,r){const s=Ti(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Vu(t,s,a,n.intersect,r,l)},x(t,e,n,r){const s=Ti(e,t);return Gm(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Ti(e,t);return Gm(t,s,"y",n.intersect,r)}}};const cy=["left","top","right","bottom"];function uo(t,e){return t.filter(n=>n.pos===e)}function Xm(t,e){return t.filter(n=>cy.indexOf(n.pos)===-1&&n.box.axis===e)}function fo(t,e){return t.sort((n,r)=>{const s=e?r:n,a=e?n:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function ak(t){const e=[];let n,r,s,a,l,c;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,e.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return e}function lk(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:a}=n;if(!r||!cy.includes(s))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function ck(t,e){const n=lk(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let a,l,c;for(a=0,l=t.length;a<l;++a){c=t[a];const{fullSize:d}=c.box,f=n[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*r:d&&e.availableWidth,c.height=s):(c.width=r,c.height=p?p*s:d&&e.availableHeight)}return n}function uk(t){const e=ak(t),n=fo(e.filter(f=>f.box.fullSize),!0),r=fo(uo(e,"left"),!0),s=fo(uo(e,"right")),a=fo(uo(e,"top"),!0),l=fo(uo(e,"bottom")),c=Xm(e,"x"),d=Xm(e,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:s.concat(d).concat(l).concat(c),chartArea:uo(e,"chartArea"),vertical:r.concat(s).concat(d),horizontal:a.concat(l).concat(c)}}function qm(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function uy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function dk(t,e,n,r){const{pos:s,box:a}=n,l=t.maxPadding;if(!Ue(s)){n.size&&(t[s]-=n.size);const g=r[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?a.height:a.width),n.size=g.size/g.count,t[s]+=n.size}a.getPadding&&uy(l,a.getPadding());const c=Math.max(0,e.outerWidth-qm(l,t,"left","right")),d=Math.max(0,e.outerHeight-qm(l,t,"top","bottom")),f=c!==t.w,p=d!==t.h;return t.w=c,t.h=d,n.horizontal?{same:f,other:p}:{same:p,other:f}}function fk(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function hk(t,e){const n=e.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return r(t?["left","right"]:["top","bottom"])}function vo(t,e,n,r){const s=[];let a,l,c,d,f,p;for(a=0,l=t.length,f=0;a<l;++a){c=t[a],d=c.box,d.update(c.width||e.w,c.height||e.h,hk(c.horizontal,e));const{same:g,other:y}=dk(e,n,c,r);f|=g&&s.length,p=p||y,d.fullSize||s.push(c)}return f&&vo(s,e,n,r)||p}function nl(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Km(t,e,n,r){const s=n.padding;let{x:a,y:l}=e;for(const c of t){const d=c.box,f=r[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const g=e.w*p,y=f.size||d.height;No(f.start)&&(l=f.start),d.fullSize?nl(d,s.left,l,n.outerWidth-s.right-s.left,y):nl(d,e.left+f.placed,l,g,y),f.start=l,f.placed+=g,l=d.bottom}else{const g=e.h*p,y=f.size||d.width;No(f.start)&&(a=f.start),d.fullSize?nl(d,a,s.top,y,n.outerHeight-s.bottom-s.top):nl(d,a,e.top+f.placed,y,g),f.start=a,f.placed+=g,a=d.right}}e.x=a,e.y=l}var ii={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=jn(t.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(n-s.height,0),c=uk(t.boxes),d=c.vertical,f=c.horizontal;et(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=d.reduce((w,S)=>S.box.options&&S.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),y=Object.assign({},s);uy(y,jn(r));const x=Object.assign({maxPadding:y,w:a,h:l,x:s.left,y:s.top},s),b=ck(d.concat(f),g);vo(c.fullSize,x,g,b),vo(d,x,g,b),vo(f,x,g,b)&&vo(d,x,g,b),fk(x),Km(c.leftAndTop,x,g,b),x.x+=x.w,x.y+=x.h,Km(c.rightAndBottom,x,g,b),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},et(c.chartArea,w=>{const S=w.box;Object.assign(S,t.chartArea),S.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class dy{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class pk extends dy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ml="$chartjs",mk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qm=t=>t===null||t==="";function gk(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[ml]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Qm(s)){const a=Lm(t,"width");a!==void 0&&(t.width=a)}if(Qm(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=Lm(t,"height");a!==void 0&&(t.height=a)}return t}const fy=m2?{passive:!0}:!1;function yk(t,e,n){t&&t.addEventListener(e,n,fy)}function vk(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,fy)}function xk(t,e){const n=mk[t.type]||t.type,{x:r,y:s}=Ti(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Ml(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function bk(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ml(c.addedNodes,r),l=l&&!Ml(c.removedNodes,r);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function wk(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ml(c.removedNodes,r),l=l&&!Ml(c.addedNodes,r);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const zo=new Map;let Jm=0;function hy(){const t=window.devicePixelRatio;t!==Jm&&(Jm=t,zo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function _k(t,e){zo.size||window.addEventListener("resize",hy),zo.set(t,e)}function Sk(t){zo.delete(t),zo.size||window.removeEventListener("resize",hy)}function kk(t,e,n){const r=t.canvas,s=r&&jd(r);if(!s)return;const a=W0((c,d)=>{const f=s.clientWidth;n(c,d),f<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const d=c[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),_k(t,a),l}function Yu(t,e,n){n&&n.disconnect(),e==="resize"&&Sk(t)}function Ck(t,e,n){const r=t.canvas,s=W0(a=>{t.ctx!==null&&n(xk(a,t))},t);return yk(r,e,s),s}class Mk extends dy{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(gk(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[ml])return!1;const r=n[ml].initial;["height","width"].forEach(a=>{const l=r[a];Qe(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=r.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[ml],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),l={attach:bk,detach:wk,resize:kk}[n]||Ck;s[n]=l(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Yu,detach:Yu,resize:Yu}[n]||vk)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return p2(e,n,r,s)}isAttached(e){const n=e&&jd(e);return!!(n&&n.isConnected)}}function Ek(t){return!Fd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?pk:Mk}class ci{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Ao(this.x)&&Ao(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}}function Rk(t,e){const n=t.options.ticks,r=Pk(t),s=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?Tk(e):[],l=a.length,c=a[0],d=a[l-1],f=[];if(l>s)return Nk(e,f,a,l/s),f;const p=Dk(a,e,s);if(l>0){let g,y;const x=l>1?Math.round((d-c)/(l-1)):null;for(rl(e,f,p,Qe(x)?0:c-x,c),g=0,y=l-1;g<y;g++)rl(e,f,p,a[g],a[g+1]);return rl(e,f,p,d,Qe(x)?e.length:d+x),f}return rl(e,f,p),f}function Pk(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function Dk(t,e,n){const r=Ak(t),s=e.length/n;if(!r)return Math.max(s,1);const a=hS(r);for(let l=0,c=a.length-1;l<c;l++){const d=a[l];if(d>s)return d}return Math.max(s,1)}function Tk(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Nk(t,e,n,r){let s=0,a=n[0],l;for(r=Math.ceil(r),l=0;l<t.length;l++)l===a&&(e.push(t[l]),s++,a=n[s*r])}function rl(t,e,n,r,s){const a=Fe(r,0),l=Math.min(Fe(s,t.length),t.length);let c=0,d,f,p;for(n=Math.ceil(n),s&&(d=s-r,n=d/Math.floor(d/n)),p=a;p<0;)c++,p=Math.round(a+c*n);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(t[f]),c++,p=Math.round(a+c*n))}function Ak(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Lk=t=>t==="left"?"right":t==="right"?"left":t,Zm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,eg=(t,e)=>Math.min(e||t,t);function tg(t,e){const n=[],r=t.length/e,s=t.length;let a=0;for(;a<s;a+=r)n.push(t[Math.floor(a)]);return n}function Ok(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),a=t._startPixel,l=t._endPixel,c=1e-6;let d=t.getPixelForTick(s),f;if(!(n&&(r===1?f=Math.max(d-a,l-d):e===0?f=(t.getPixelForTick(1)-d)/2:f=(d-t.getPixelForTick(s-1))/2,d+=s<e?f:-f,d<a-c||d>l+c)))return d}function zk(t,e){et(t,n=>{const r=n.gc,s=r.length/2;let a;if(s>e){for(a=0;a<s;++a)delete n.data[r[a]];r.splice(0,s)}})}function ho(t){return t.drawTicks?t.tickLength:0}function ng(t,e){if(!t.display)return 0;const n=an(t.font,e),r=jn(t.padding);return(kt(t.text)?t.text.length:1)*n.lineHeight+r.height}function Fk(t,e){return $i(t,{scale:e,type:"scale"})}function jk(t,e,n){return $i(t,{tick:n,index:e,type:"tick"})}function Ik(t,e,n){let r=V0(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Lk(r)),r}function Bk(t,e,n,r){const{top:s,left:a,bottom:l,right:c,chart:d}=t,{chartArea:f,scales:p}=d;let g=0,y,x,b;const w=l-s,S=c-a;if(t.isHorizontal()){if(x=hn(r,a,c),Ue(n)){const C=Object.keys(n)[0],D=n[C];b=p[C].getPixelForValue(D)+w-e}else n==="center"?b=(f.bottom+f.top)/2+w-e:b=Zm(t,n,e);y=c-a}else{if(Ue(n)){const C=Object.keys(n)[0],D=n[C];x=p[C].getPixelForValue(D)-S+e}else n==="center"?x=(f.left+f.right)/2-S+e:x=Zm(t,n,e);b=hn(r,l,s),g=n==="left"?-Ct:Ct}return{titleX:x,titleY:b,maxWidth:y,rotation:g}}class Cs extends ci{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Gn(e,Number.POSITIVE_INFINITY),n=Gn(n,Number.NEGATIVE_INFINITY),r=Gn(r,Number.POSITIVE_INFINITY),s=Gn(s,Number.NEGATIVE_INFINITY),{min:Gn(e,r),max:Gn(n,s),minDefined:$t(e),maxDefined:$t(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:r};const c=this.getMatchingVisibleMetas();for(let d=0,f=c.length;d<f;++d)l=c[d].controller.getMinMax(this,e),s||(n=Math.min(n,l.min)),a||(r=Math.max(r,l.max));return n=a&&n>r?r:n,r=s&&n>r?n:r,{min:Gn(n,Gn(r,n)),max:Gn(r,Gn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=YS(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?tg(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Rk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),at(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r],a.label=at(n.callback,[a.value,r,e],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=eg(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,d,f;if(!this._isVisible()||!n.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),g=p.widest.width,y=p.highest.height,x=Ut(this.chart.width-g,0,this.maxWidth);c=e.offset?this.maxWidth/r:x/(r-1),g+6>c&&(c=x/(r-(e.offset?.5:1)),d=this.maxHeight-ho(e.grid)-n.padding-ng(e.title,this.chart.options.font),f=Math.sqrt(g*g+y*y),l=yS(Math.min(Math.asin(Ut((p.highest.height+6)/c,-1,1)),Math.asin(Ut(d/f,-1,1))-Math.asin(Ut(y/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const d=ng(s,n.options.font);if(c?(e.width=this.maxWidth,e.height=ho(a)+d):(e.height=this.maxHeight,e.width=ho(a)+d),r.display&&this.ticks.length){const{first:f,last:p,widest:g,highest:y}=this._getLabelSizes(),x=r.padding*2,b=kr(this.labelRotation),w=Math.cos(b),S=Math.sin(b);if(c){const C=r.mirror?0:S*g.width+w*y.height;e.height=Math.min(this.maxHeight,e.height+C+x)}else{const C=r.mirror?0:w*g.width+S*y.height;e.width=Math.min(this.maxWidth,e.width+C+x)}this._calculatePadding(f,p,S,w)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:a,padding:l},position:c}=this.options,d=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,x=0;d?f?(y=s*e.width,x=r*n.height):(y=r*e.height,x=s*n.width):a==="start"?x=n.width:a==="end"?y=e.width:a!=="inner"&&(y=e.width/2,x=n.width/2),this.paddingLeft=Math.max((y-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-g+l)*this.width/(this.width-g),0)}else{let p=n.height/2,g=e.height/2;a==="start"?(p=0,g=e.height):a==="end"&&(p=n.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Qe(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=tg(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],d=Math.floor(n/eg(n,r));let f=0,p=0,g,y,x,b,w,S,C,D,M,L,N;for(g=0;g<n;g+=d){if(b=e[g].label,w=this._resolveTickFontOptions(g),s.font=S=w.string,C=a[S]=a[S]||{data:{},gc:[]},D=w.lineHeight,M=L=0,!Qe(b)&&!kt(b))M=Pm(s,C.data,C.gc,M,b),L=D;else if(kt(b))for(y=0,x=b.length;y<x;++y)N=b[y],!Qe(N)&&!kt(N)&&(M=Pm(s,C.data,C.gc,M,N),L+=D);l.push(M),c.push(L),f=Math.max(M,f),p=Math.max(L,p)}zk(a,n);const j=l.indexOf(f),E=c.indexOf(p),A=W=>({width:l[W]||0,height:c[W]||0});return{first:A(0),last:A(n-1),widest:A(j),highest:A(E),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return xS(this._alignToPixels?Ri(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=jk(this.getContext(),e,r))}return this.$context||(this.$context=Fk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=kr(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>c*s?c/r:d/s:d*s<c*r?d/r:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:a,position:l,border:c}=s,d=a.offset,f=this.isHorizontal(),g=this.ticks.length+(d?1:0),y=ho(a),x=[],b=c.setContext(this.getContext()),w=b.display?b.width:0,S=w/2,C=function(ce){return Ri(r,ce,w)};let D,M,L,N,j,E,A,W,X,q,Q,ae;if(l==="top")D=C(this.bottom),E=this.bottom-y,W=D-S,q=C(e.top)+S,ae=e.bottom;else if(l==="bottom")D=C(this.top),q=e.top,ae=C(e.bottom)-S,E=D+S,W=this.top+y;else if(l==="left")D=C(this.right),j=this.right-y,A=D-S,X=C(e.left)+S,Q=e.right;else if(l==="right")D=C(this.left),X=e.left,Q=C(e.right)-S,j=D+S,A=this.left+y;else if(n==="x"){if(l==="center")D=C((e.top+e.bottom)/2+.5);else if(Ue(l)){const ce=Object.keys(l)[0],de=l[ce];D=C(this.chart.scales[ce].getPixelForValue(de))}q=e.top,ae=e.bottom,E=D+S,W=E+y}else if(n==="y"){if(l==="center")D=C((e.left+e.right)/2);else if(Ue(l)){const ce=Object.keys(l)[0],de=l[ce];D=C(this.chart.scales[ce].getPixelForValue(de))}j=D-S,A=j-y,X=e.left,Q=e.right}const K=Fe(s.ticks.maxTicksLimit,g),ne=Math.max(1,Math.ceil(g/K));for(M=0;M<g;M+=ne){const ce=this.getContext(M),de=a.setContext(ce),Y=c.setContext(ce),re=de.lineWidth,J=de.color,z=Y.dash||[],V=Y.dashOffset,ue=de.tickWidth,le=de.tickColor,ge=de.tickBorderDash||[],_e=de.tickBorderDashOffset;L=Ok(this,M,d),L!==void 0&&(N=Ri(r,L,re),f?j=A=X=Q=N:E=W=q=ae=N,x.push({tx1:j,ty1:E,tx2:A,ty2:W,x1:X,y1:q,x2:Q,y2:ae,width:re,color:J,borderDash:z,borderDashOffset:V,tickWidth:ue,tickColor:le,tickBorderDash:ge,tickBorderDashOffset:_e}))}return this._ticksLength=g,this._borderValue=D,x}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:a}=r,l=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:f,padding:p,mirror:g}=a,y=ho(r.grid),x=y+p,b=g?-p:x,w=-kr(this.labelRotation),S=[];let C,D,M,L,N,j,E,A,W,X,q,Q,ae="middle";if(s==="top")j=this.bottom-b,E=this._getXAxisLabelAlignment();else if(s==="bottom")j=this.top+b,E=this._getXAxisLabelAlignment();else if(s==="left"){const ne=this._getYAxisLabelAlignment(y);E=ne.textAlign,N=ne.x}else if(s==="right"){const ne=this._getYAxisLabelAlignment(y);E=ne.textAlign,N=ne.x}else if(n==="x"){if(s==="center")j=(e.top+e.bottom)/2+x;else if(Ue(s)){const ne=Object.keys(s)[0],ce=s[ne];j=this.chart.scales[ne].getPixelForValue(ce)+x}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")N=(e.left+e.right)/2-x;else if(Ue(s)){const ne=Object.keys(s)[0],ce=s[ne];N=this.chart.scales[ne].getPixelForValue(ce)}E=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(d==="start"?ae="top":d==="end"&&(ae="bottom"));const K=this._getLabelSizes();for(C=0,D=c.length;C<D;++C){M=c[C],L=M.label;const ne=a.setContext(this.getContext(C));A=this.getPixelForTick(C)+a.labelOffset,W=this._resolveTickFontOptions(C),X=W.lineHeight,q=kt(L)?L.length:1;const ce=q/2,de=ne.color,Y=ne.textStrokeColor,re=ne.textStrokeWidth;let J=E;l?(N=A,E==="inner"&&(C===D-1?J=this.options.reverse?"left":"right":C===0?J=this.options.reverse?"right":"left":J="center"),s==="top"?f==="near"||w!==0?Q=-q*X+X/2:f==="center"?Q=-K.highest.height/2-ce*X+X:Q=-K.highest.height+X/2:f==="near"||w!==0?Q=X/2:f==="center"?Q=K.highest.height/2-ce*X:Q=K.highest.height-q*X,g&&(Q*=-1),w!==0&&!ne.showLabelBackdrop&&(N+=X/2*Math.sin(w))):(j=A,Q=(1-q)*X/2);let z;if(ne.showLabelBackdrop){const V=jn(ne.backdropPadding),ue=K.heights[C],le=K.widths[C];let ge=Q-V.top,_e=0-V.left;switch(ae){case"middle":ge-=ue/2;break;case"bottom":ge-=ue;break}switch(E){case"center":_e-=le/2;break;case"right":_e-=le;break;case"inner":C===D-1?_e-=le:C>0&&(_e-=le/2);break}z={left:_e,top:ge,width:le+V.width,height:ue+V.height,color:ne.backdropColor}}S.push({label:L,font:W,textOffset:Q,options:{rotation:w,color:de,strokeColor:Y,strokeWidth:re,textAlign:J,textBaseline:ae,translation:[N,j],backdrop:z}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-kr(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,d=l.widest.width;let f,p;return n==="left"?s?(p=this.right+a,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-c,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+a,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+c,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(d,f,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const d=s[a];n.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,g,y;this.isHorizontal()?(f=Ri(e,this.left,l)-l/2,p=Ri(e,this.right,c)+c/2,g=y=d):(g=Ri(e,this.top,l)-l/2,y=Ri(e,this.bottom,c)+c/2,f=p=d),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,g),n.lineTo(p,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Nl(r,s);const a=this.getLabelItems(e);for(const l of a){const c=l.options,d=l.font,f=l.label,p=l.textOffset;Sl(r,f,0,p,d,c)}s&&Al(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const a=an(r.font),l=jn(r.padding),c=r.align;let d=a.lineHeight/2;n==="bottom"||n==="center"||Ue(n)?(d+=l.bottom,kt(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:g,rotation:y}=Bk(this,d,n,c);Sl(e,r.text,0,0,a,{color:r.color,maxWidth:g,rotation:y,textAlign:Ik(c,n,s),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Fe(e.grid&&e.grid.z,-1),s=Fe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Cs.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[r]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return an(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class il{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Hk(n)&&(r=this.register(n));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,Uk(e,l,r),this.override&&vt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in vt[s]&&(delete vt[s][r],this.override&&delete ji[r])}}function Uk(t,e,n){const r=To(Object.create(null),[n?vt.get(n):{},vt.get(e),t.defaults]);vt.set(e,r),t.defaultRoutes&&$k(e,t.defaultRoutes),t.descriptors&&vt.describe(e,t.descriptors)}function $k(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),a=[t].concat(r).join("."),l=e[n].split("."),c=l.pop(),d=l.join(".");vt.route(a,s,d,c)})}function Hk(t){return"id"in t&&"defaults"in t}class Wk{constructor(){this.controllers=new il(Ol,"datasets",!0),this.elements=new il(ci,"elements"),this.plugins=new il(Object,"plugins"),this.scales=new il(Cs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):et(s,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,n,r){const s=Pd(e);at(r["before"+s],[],r),n[e](r),at(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var qn=new Wk;class Vk{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,n,r);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,n,r,s){s=s||{};for(const a of e){const l=a.plugin,c=l[r],d=[n,s,a.options];if(at(c,d,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Fe(r.options&&r.options.plugins,{}),a=Yk(r);return s===!1&&!n?[]:Xk(e,a,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(a,l)=>a.filter(c=>!l.some(d=>c.plugin.id===d.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function Yk(t){const e={},n=[],r=Object.keys(qn.plugins.items);for(let a=0;a<r.length;a++)n.push(qn.getPlugin(r[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function Gk(t,e){return!e&&t===!1?null:t===!0?{}:t}function Xk(t,{plugins:e,localIds:n},r,s){const a=[],l=t.getContext();for(const c of e){const d=c.id,f=Gk(r[d],s);f!==null&&a.push({plugin:c,options:qk(t.config,{plugin:c,local:n[d]},f,l)})}return a}function qk(t,{plugin:e,local:n},r,s){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(r,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ud(t,e){const n=vt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Kk(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Qk(t,e){return t===e?"_index_":"_value_"}function rg(t){if(t==="x"||t==="y"||t==="r")return t}function Jk(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function dd(t,...e){if(rg(t))return t;for(const n of e){const r=n.axis||Jk(n.position)||t.length>1&&rg(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ig(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Zk(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return ig(t,"x",n[0])||ig(t,"y",n[0])}return{}}function eC(t,e){const n=ji[t.type]||{scales:{}},r=e.scales||{},s=ud(t.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!Ue(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=dd(l,c,Zk(l,t),vt.scales[c.type]),f=Qk(d,s),p=n.scales||{};a[l]=So(Object.create(null),[{axis:d},c,p[d],p[f]])}),t.data.datasets.forEach(l=>{const c=l.type||t.type,d=l.indexAxis||ud(c,e),p=(ji[c]||{}).scales||{};Object.keys(p).forEach(g=>{const y=Kk(g,d),x=l[y+"AxisID"]||y;a[x]=a[x]||Object.create(null),So(a[x],[{axis:y},r[x],p[g]])})}),Object.keys(a).forEach(l=>{const c=a[l];So(c,[vt.scales[c.type],vt.scale])}),a}function py(t){const e=t.options||(t.options={});e.plugins=Fe(e.plugins,{}),e.scales=eC(t,e)}function my(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function tC(t){return t=t||{},t.data=my(t.data),py(t),t}const sg=new Map,gy=new Set;function sl(t,e){let n=sg.get(t);return n||(n=e(),sg.set(t,n),gy.add(n)),n}const po=(t,e,n)=>{const r=Fi(e,n);r!==void 0&&t.add(r)};class nC{constructor(e){this._config=tC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=my(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),py(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return sl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return sl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return sl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return sl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:a}=this,l=this._cachedScopes(e,r),c=l.get(n);if(c)return c;const d=new Set;n.forEach(p=>{e&&(d.add(e),p.forEach(g=>po(d,e,g))),p.forEach(g=>po(d,s,g)),p.forEach(g=>po(d,ji[a]||{},g)),p.forEach(g=>po(d,vt,g)),p.forEach(g=>po(d,ld,g))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),gy.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,ji[n]||{},vt.datasets[n]||{},{type:n},vt,ld]}resolveNamedOptions(e,n,r,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=og(this._resolverCache,e,s);let d=l;if(iC(l,n)){a.$shared=!1,r=li(r)?r():r;const f=this.createResolver(e,r,c);d=_s(l,r,f)}for(const f of n)a[f]=d[f];return a}createResolver(e,n,r=[""],s){const{resolver:a}=og(this._resolverCache,e,r);return Ue(n)?_s(a,n,void 0,s):a}}function og(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let a=r.get(s);return a||(a={resolver:Ld(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},r.set(s,a)),a}const rC=t=>Ue(t)&&Object.getOwnPropertyNames(t).some(e=>li(t[e]));function iC(t,e){const{isScriptable:n,isIndexable:r}=q0(t);for(const s of e){const a=n(s),l=r(s),c=(l||a)&&t[s];if(a&&(li(c)||rC(c))||l&&kt(c))return!0}return!1}var sC="4.5.1";const oC=["top","bottom","left","right","chartArea"];function ag(t,e){return t==="top"||t==="bottom"||oC.indexOf(t)===-1&&e==="x"}function lg(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function cg(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),at(n&&n.onComplete,[t],e)}function aC(t){const e=t.chart,n=e.options.animation;at(n&&n.onProgress,[t],e)}function yy(t){return Fd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const gl={},ug=t=>{const e=yy(t);return Object.values(gl).filter(n=>n.canvas===e).pop()};function lC(t,e,n){const r=Object.keys(t);for(const s of r){const a=+s;if(a>=e){const l=t[s];delete t[s],(n>0||a>e)&&(t[a+n]=l)}}}function cC(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let Fl=class{static defaults=vt;static instances=gl;static overrides=ji;static registry=qn;static version=sC;static getChart=ug;static register(...e){qn.add(...e),dg()}static unregister(...e){qn.remove(...e),dg()}constructor(e,n){const r=this.config=new nC(n),s=yy(e),a=ug(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Ek(s)),this.platform.updateConfig(r);const c=this.platform.acquireContext(s,l.aspectRatio),d=c&&c.canvas,f=d&&d.height,p=d&&d.width;if(this.id=iS(),this.ctx=c,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=SS(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],gl[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}br.listen(this,"complete",cg),br.listen(this,"progress",aC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:a}=this;return Qe(e)?n&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Am(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Dm(this.canvas,this.ctx),this}stop(){return br.stop(this),this}resize(e,n){br.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,n,a),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Am(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),at(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};et(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],d=dd(l,c),f=d==="r",p=d==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),et(a,l=>{const c=l.options,d=c.id,f=dd(d,c),p=Fe(c.type,l.dtype);(c.position===void 0||ag(c.position,f)!==ag(l.dposition))&&(c.position=l.dposition),s[d]=!0;let g=null;if(d in r&&r[d].type===p)g=r[d];else{const y=qn.getScale(p);g=new y({id:d,type:p,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(c,e)}),et(s,(l,c)=>{l||delete r[c]}),et(r,l=>{ii.configure(this,l,l.options),ii.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(lg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const a=n[r];let l=this.getDatasetMeta(r);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=a.indexAxis||ud(c,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=qn.getController(c),{datasetElementType:f,dataElementType:p}=vt.datasets[c];Object.assign(d,{dataElementType:qn.getElement(p),datasetElementType:f&&qn.getElement(f)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){et(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:g}=this.getDatasetMeta(f),y=!s&&a.indexOf(g)===-1;g.buildOrUpdateElements(y),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||et(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(lg("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){et(this.scales,e=>{ii.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!bm(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of n){const l=r==="_removeElements"?-a:a;lC(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=r(0);for(let a=1;a<n;a++)if(!bm(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ii.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],et(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,li(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(br.has(this)?this.attached&&!br.running(this)&&br.start(this):(this.draw(),cg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=sy(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Nl(n,s),e.controller.draw(),s&&Al(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Oo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const a=ok.modes[n];return typeof a=="function"?a(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=$i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);No(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),br.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Dm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete gl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};et(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(d,f)=>{n.addEventListener(this,d,f),e[d]=f},s=(d,f)=>{e[d]&&(n.removeEventListener(this,d,f),delete e[d])},a=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){et(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},et(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let a,l,c,d;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){l=e[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!bl(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,a=(d,f)=>d.filter(p=>!f.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=a(n,e),c=r?e:a(e,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(e,s,r,l),d=uS(e),f=cC(e,this._lastEvent,r,d);r&&(this._lastEvent=null,at(a.onHover,[e,c,this],this),d&&at(a.onClick,[e,c,this],this));const p=!bl(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=f,p}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}};function dg(){return et(Fl.instances,t=>t._plugins.invalidate())}function uC(t,e,n){const{startAngle:r,x:s,y:a,outerRadius:l,innerRadius:c,options:d}=e,{borderWidth:f,borderJoinStyle:p}=d,g=Math.min(f/l,mn(r-n));if(t.beginPath(),t.arc(s,a,l-f/2,r+g/2,n-g/2),c>0){const y=Math.min(f/c,mn(r-n));t.arc(s,a,c+f/2,n-y/2,r+y/2,!0)}else{const y=Math.min(f/2,l*mn(r-n));if(p==="round")t.arc(s,a,y,n-nt/2,r+nt/2,!0);else if(p==="bevel"){const x=2*y*y,b=-x*Math.cos(n+nt/2)+s,w=-x*Math.sin(n+nt/2)+a,S=x*Math.cos(r+nt/2)+s,C=x*Math.sin(r+nt/2)+a;t.lineTo(b,w),t.lineTo(S,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function dC(t,e,n){const{startAngle:r,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:d}=e;let f=s/c;t.beginPath(),t.arc(a,l,c,r-f,n+f),d>s?(f=s/d,t.arc(a,l,d,n+f,r-f,!0)):t.arc(a,l,s,n+Ct,r-Ct),t.closePath(),t.clip()}function fC(t){return Ad(t,["outerStart","outerEnd","innerStart","innerEnd"])}function hC(t,e,n,r){const s=fC(t.options.borderRadius),a=(n-e)/2,l=Math.min(a,r*e/2),c=d=>{const f=(n-Math.min(a,d))*r/2;return Ut(d,0,Math.min(a,f))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Ut(s.innerStart,0,l),innerEnd:Ut(s.innerEnd,0,l)}}function ps(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function El(t,e,n,r,s,a){const{x:l,y:c,startAngle:d,pixelMargin:f,innerRadius:p}=e,g=Math.max(e.outerRadius+r+n-f,0),y=p>0?p+r+n+f:0;let x=0;const b=s-d;if(r){const ne=p>0?p-r:0,ce=g>0?g-r:0,de=(ne+ce)/2,Y=de!==0?b*de/(de+r):b;x=(b-Y)/2}const w=Math.max(.001,b*g-n/nt)/g,S=(b-w)/2,C=d+S+x,D=s-S-x,{outerStart:M,outerEnd:L,innerStart:N,innerEnd:j}=hC(e,y,g,D-C),E=g-M,A=g-L,W=C+M/E,X=D-L/A,q=y+N,Q=y+j,ae=C+N/q,K=D-j/Q;if(t.beginPath(),a){const ne=(W+X)/2;if(t.arc(l,c,g,W,ne),t.arc(l,c,g,ne,X),L>0){const re=ps(A,X,l,c);t.arc(re.x,re.y,L,X,D+Ct)}const ce=ps(Q,D,l,c);if(t.lineTo(ce.x,ce.y),j>0){const re=ps(Q,K,l,c);t.arc(re.x,re.y,j,D+Ct,K+Math.PI)}const de=(D-j/y+(C+N/y))/2;if(t.arc(l,c,y,D-j/y,de,!0),t.arc(l,c,y,de,C+N/y,!0),N>0){const re=ps(q,ae,l,c);t.arc(re.x,re.y,N,ae+Math.PI,C-Ct)}const Y=ps(E,C,l,c);if(t.lineTo(Y.x,Y.y),M>0){const re=ps(E,W,l,c);t.arc(re.x,re.y,M,C-Ct,W)}}else{t.moveTo(l,c);const ne=Math.cos(W)*g+l,ce=Math.sin(W)*g+c;t.lineTo(ne,ce);const de=Math.cos(X)*g+l,Y=Math.sin(X)*g+c;t.lineTo(de,Y)}t.closePath()}function pC(t,e,n,r,s){const{fullCircles:a,startAngle:l,circumference:c}=e;let d=e.endAngle;if(a){El(t,e,n,r,d,s);for(let f=0;f<a;++f)t.fill();isNaN(c)||(d=l+(c%ft||ft))}return El(t,e,n,r,d,s),t.fill(),d}function mC(t,e,n,r,s){const{fullCircles:a,startAngle:l,circumference:c,options:d}=e,{borderWidth:f,borderJoinStyle:p,borderDash:g,borderDashOffset:y,borderRadius:x}=d,b=d.borderAlign==="inner";if(!f)return;t.setLineDash(g||[]),t.lineDashOffset=y,b?(t.lineWidth=f*2,t.lineJoin=p||"round"):(t.lineWidth=f,t.lineJoin=p||"bevel");let w=e.endAngle;if(a){El(t,e,n,r,w,s);for(let S=0;S<a;++S)t.stroke();isNaN(c)||(w=l+(c%ft||ft))}b&&dC(t,e,w),d.selfJoin&&w-l>=nt&&x===0&&p!=="miter"&&uC(t,e,w),a||(El(t,e,n,r,w,s),t.stroke())}class gC extends ci{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:a,distance:l}=B0(s,{x:e,y:n}),{startAngle:c,endAngle:d,innerRadius:f,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=(this.options.spacing+this.options.borderWidth)/2,x=Fe(g,d-c),b=Lo(a,c,d)&&c!==d,w=x>=ft||b,S=Cr(l,f+y,p+y);return w&&S}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,p=(s+a)/2,g=(l+c+f+d)/2;return{x:n+Math.cos(p)*g,y:r+Math.sin(p)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>ft?Math.floor(r/ft):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*s,Math.sin(c)*s);const d=1-Math.sin(Math.min(nt,r||0)),f=s*d;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,pC(e,this,f,a,l),mC(e,this,f,a,l),e.restore()}}function vy(t,e,n=e){t.lineCap=Fe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Fe(n.borderDash,e.borderDash)),t.lineDashOffset=Fe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Fe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Fe(n.borderWidth,e.borderWidth),t.strokeStyle=Fe(n.borderColor,e.borderColor)}function yC(t,e,n){t.lineTo(n.x,n.y)}function vC(t){return t.stepped?FS:t.tension||t.cubicInterpolationMode==="monotone"?jS:yC}function xy(t,e,n={}){const r=t.length,{start:s=0,end:a=r-1}=n,{start:l,end:c}=e,d=Math.max(s,l),f=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:r,start:d,loop:e.loop,ilen:f<d&&!p?r+f-d:f-d}}function xC(t,e,n,r){const{points:s,options:a}=e,{count:l,start:c,loop:d,ilen:f}=xy(s,n,r),p=vC(a);let{move:g=!0,reverse:y}=r||{},x,b,w;for(x=0;x<=f;++x)b=s[(c+(y?f-x:x))%l],!b.skip&&(g?(t.moveTo(b.x,b.y),g=!1):p(t,w,b,y,a.stepped),w=b);return d&&(b=s[(c+(y?f:0))%l],p(t,w,b,y,a.stepped)),!!d}function bC(t,e,n,r){const s=e.points,{count:a,start:l,ilen:c}=xy(s,n,r),{move:d=!0,reverse:f}=r||{};let p=0,g=0,y,x,b,w,S,C;const D=L=>(l+(f?c-L:L))%a,M=()=>{w!==S&&(t.lineTo(p,S),t.lineTo(p,w),t.lineTo(p,C))};for(d&&(x=s[D(0)],t.moveTo(x.x,x.y)),y=0;y<=c;++y){if(x=s[D(y)],x.skip)continue;const L=x.x,N=x.y,j=L|0;j===b?(N<w?w=N:N>S&&(S=N),p=(g*p+L)/++g):(M(),t.lineTo(L,N),b=j,g=0,w=S=N),C=N}M()}function fd(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?bC:xC}function wC(t){return t.stepped?g2:t.tension||t.cubicInterpolationMode==="monotone"?y2:Ni}function _C(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),vy(t,e.options),t.stroke(s)}function SC(t,e,n,r){const{segments:s,options:a}=e,l=fd(e);for(const c of s)vy(t,a,c.style),t.beginPath(),l(t,e,c,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const kC=typeof Path2D=="function";function CC(t,e,n,r){kC&&!e.options.segment?_C(t,e,n,r):SC(t,e,n,r)}class jl extends ci{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;l2(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=S2(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],a=this.points,l=iy(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],d=wC(r);let f,p;for(f=0,p=l.length;f<p;++f){const{start:g,end:y}=l[f],x=a[g],b=a[y];if(x===b){c.push(x);continue}const w=Math.abs((s-x[n])/(b[n]-x[n])),S=d(x,b,w,r.stepped);S[n]=e[n],c.push(S)}return c.length===1?c[0]:c}pathSegment(e,n,r){return fd(this)(e,this,n,r)}path(e,n,r){const s=this.segments,a=fd(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const c of s)l&=a(e,this,c,{start:n,end:n+r-1});return!!l}draw(e,n,r,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),CC(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function fg(t,e,n,r){const s=t.options,{[n]:a}=t.getProps([n],r);return Math.abs(e-a)<s.radius+s.hitRadius}class MC extends ci{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return fg(this,e,"x",n)}inYRange(e,n){return fg(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Oo(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,cd(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function by(t,e){const{x:n,y:r,base:s,width:a,height:l}=t.getProps(["x","y","base","width","height"],e);let c,d,f,p,g;return t.horizontal?(g=l/2,c=Math.min(n,s),d=Math.max(n,s),f=r-g,p=r+g):(g=a/2,c=n-g,d=n+g,f=Math.min(r,s),p=Math.max(r,s)),{left:c,top:f,right:d,bottom:p}}function si(t,e,n,r){return t?0:Ut(e,n,r)}function EC(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,a=X0(r);return{t:si(s.top,a.top,0,n),r:si(s.right,a.right,0,e),b:si(s.bottom,a.bottom,0,n),l:si(s.left,a.left,0,e)}}function RC(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=xs(s),l=Math.min(e,n),c=t.borderSkipped,d=r||Ue(s);return{topLeft:si(!d||c.top||c.left,a.topLeft,0,l),topRight:si(!d||c.top||c.right,a.topRight,0,l),bottomLeft:si(!d||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:si(!d||c.bottom||c.right,a.bottomRight,0,l)}}function PC(t){const e=by(t),n=e.right-e.left,r=e.bottom-e.top,s=EC(t,n/2,r/2),a=RC(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Gu(t,e,n,r){const s=e===null,a=n===null,c=t&&!(s&&a)&&by(t,r);return c&&(s||Cr(e,c.left,c.right))&&(a||Cr(n,c.top,c.bottom))}function DC(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function TC(t,e){t.rect(e.x,e.y,e.w,e.h)}function Xu(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-r,l=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+a,h:t.h+l,radius:t.radius}}class NC extends ci{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:a,outer:l}=PC(this),c=DC(l.radius)?kl:TC;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),c(e,Xu(l,n,a)),e.clip(),c(e,Xu(a,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,Xu(a,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Gu(this,e,n,r)}inXRange(e,n){return Gu(this,e,null,n)}inYRange(e,n){return Gu(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+s)/2:n,y:a?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function AC(t,e,n){const r=t.segments,s=t.points,a=e.points,l=[];for(const c of r){let{start:d,end:f}=c;f=Il(d,f,s);const p=hd(n,s[d],s[f],c.loop);if(!e.segments){l.push({source:c,target:p,start:s[d],end:s[f]});continue}const g=iy(e,p);for(const y of g){const x=hd(n,a[y.start],a[y.end],y.loop),b=ry(c,s,x);for(const w of b)l.push({source:w,target:y,start:{[n]:hg(p,x,"start",Math.max)},end:{[n]:hg(p,x,"end",Math.min)}})}}return l}function hd(t,e,n,r){if(r)return;let s=e[t],a=n[t];return t==="angle"&&(s=mn(s),a=mn(a)),{property:t,start:s,end:a}}function LC(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,a=[];return e.segments.forEach(({start:l,end:c})=>{c=Il(l,c,s);const d=s[l],f=s[c];r!==null?(a.push({x:d.x,y:r}),a.push({x:f.x,y:r})):n!==null&&(a.push({x:n,y:d.y}),a.push({x:n,y:f.y}))}),a}function Il(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function hg(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function wy(t,e){let n=[],r=!1;return kt(t)?(r=!0,n=t):n=LC(t,e),n.length?new jl({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function pg(t){return t&&t.fill!==!1}function OC(t,e,n){let s=t[e].fill;const a=[e];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!$t(s))return s;if(l=t[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function zC(t,e,n){const r=BC(t);if(Ue(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return $t(s)&&Math.floor(s)===s?FC(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function FC(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function jC(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ue(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function IC(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Ue(t)?r=t.value:r=e.getBaseValue(),r}function BC(t){const e=t.options,n=e.fill;let r=Fe(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function UC(t){const{scale:e,index:n,line:r}=t,s=[],a=r.segments,l=r.points,c=$C(e,n);c.push(wy({x:null,y:e.bottom},r));for(let d=0;d<a.length;d++){const f=a[d];for(let p=f.start;p<=f.end;p++)HC(s,l[p],c)}return new jl({points:s,options:{}})}function $C(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const a=r[s];if(a.index===e)break;a.hidden||n.unshift(a.dataset)}return n}function HC(t,e,n){const r=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:c,point:d}=WC(a,e,"x");if(!(!d||l&&c)){if(l)r.unshift(d);else if(t.push(d),!c)break}}t.push(...r)}function WC(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],a=t.segments,l=t.points;let c=!1,d=!1;for(let f=0;f<a.length;f++){const p=a[f],g=l[p.start][n],y=l[p.end][n];if(Cr(s,g,y)){c=s===g,d=s===y;break}}return{first:c,last:d,point:r}}class _y{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:ft},e.arc(s,a,l,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,a=e.angle;return{x:n+Math.cos(a)*s,y:r+Math.sin(a)*s,angle:a}}}function VC(t){const{chart:e,fill:n,line:r}=t;if($t(n))return YC(e,n);if(n==="stack")return UC(t);if(n==="shape")return!0;const s=GC(t);return s instanceof _y?s:wy(s,r)}function YC(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function GC(t){return(t.scale||{}).getPointPositionForValue?qC(t):XC(t)}function XC(t){const{scale:e={},fill:n}=t,r=jC(n,e);if($t(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function qC(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,a=r.reverse?e.max:e.min,l=IC(n,e,a),c=[];if(r.grid.circular){const d=e.getPointPositionForValue(0,a);return new _y({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(l)})}for(let d=0;d<s;++d)c.push(e.getPointPositionForValue(d,l));return c}function qu(t,e,n){const r=VC(e),{chart:s,index:a,line:l,scale:c,axis:d}=e,f=l.options,p=f.fill,g=f.backgroundColor,{above:y=g,below:x=g}=p||{},b=s.getDatasetMeta(a),w=sy(s,b);r&&l.points.length&&(Nl(t,n),KC(t,{line:l,target:r,above:y,below:x,area:n,scale:c,axis:d,clip:w}),Al(t))}function KC(t,e){const{line:n,target:r,above:s,below:a,area:l,scale:c,clip:d}=e,f=n._loop?"angle":e.axis;t.save();let p=a;a!==s&&(f==="x"?(mg(t,r,l.top),Ku(t,{line:n,target:r,color:s,scale:c,property:f,clip:d}),t.restore(),t.save(),mg(t,r,l.bottom)):f==="y"&&(gg(t,r,l.left),Ku(t,{line:n,target:r,color:a,scale:c,property:f,clip:d}),t.restore(),t.save(),gg(t,r,l.right),p=s)),Ku(t,{line:n,target:r,color:p,scale:c,property:f,clip:d}),t.restore()}function mg(t,e,n){const{segments:r,points:s}=e;let a=!0,l=!1;t.beginPath();for(const c of r){const{start:d,end:f}=c,p=s[d],g=s[Il(d,f,s)];a?(t.moveTo(p.x,p.y),a=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,c,{move:l}),l?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function gg(t,e,n){const{segments:r,points:s}=e;let a=!0,l=!1;t.beginPath();for(const c of r){const{start:d,end:f}=c,p=s[d],g=s[Il(d,f,s)];a?(t.moveTo(p.x,p.y),a=!1):(t.lineTo(n,p.y),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,c,{move:l}),l?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Ku(t,e){const{line:n,target:r,property:s,color:a,scale:l,clip:c}=e,d=AC(n,r,s);for(const{source:f,target:p,start:g,end:y}of d){const{style:{backgroundColor:x=a}={}}=f,b=r!==!0;t.save(),t.fillStyle=x,QC(t,l,c,b&&hd(s,g,y)),t.beginPath();const w=!!n.pathSegment(t,f);let S;if(b){w?t.closePath():yg(t,r,y,s);const C=!!r.pathSegment(t,p,{move:w,reverse:!0});S=w&&C,S||yg(t,r,g,s)}t.closePath(),t.fill(S?"evenodd":"nonzero"),t.restore()}}function QC(t,e,n,r){const s=e.chart.chartArea,{property:a,start:l,end:c}=r||{};if(a==="x"||a==="y"){let d,f,p,g;a==="x"?(d=l,f=s.top,p=c,g=s.bottom):(d=s.left,f=l,p=s.right,g=c),t.beginPath(),n&&(d=Math.max(d,n.left),p=Math.min(p,n.right),f=Math.max(f,n.top),g=Math.min(g,n.bottom)),t.rect(d,f,p-d,g-f),t.clip()}}function yg(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var JC={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let a,l,c,d;for(l=0;l<r;++l)a=t.getDatasetMeta(l),c=a.dataset,d=null,c&&c.options&&c instanceof jl&&(d={visible:t.isDatasetVisible(l),index:l,fill:zC(c,l,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=d,s.push(d);for(l=0;l<r;++l)d=s[l],!(!d||d.fill===!1)&&(d.fill=OC(s,l,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),r&&c.fill&&qu(t.ctx,c,a))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;pg(a)&&qu(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!pg(r)||n.drawTime!=="beforeDatasetDraw"||qu(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vg=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},ZC=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class xg extends ci{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=at(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=an(r.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=vg(r,a);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,d)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let g=e;a.textAlign="left",a.textBaseline="middle";let y=-1,x=-p;return this.legendItems.forEach((b,w)=>{const S=r+n/2+a.measureText(b.text).width;(w===0||f[f.length-1]+S+2*c>l)&&(g+=p,f[f.length-(w>0?0:1)]=0,x+=p,y++),d[w]={left:0,top:x,row:y,width:S,height:s},f[f.length-1]+=S+c}),g}_fitCols(e,n,r,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let g=c,y=0,x=0,b=0,w=0;return this.legendItems.forEach((S,C)=>{const{itemWidth:D,itemHeight:M}=eM(r,n,a,S,s);C>0&&x+M+2*c>p&&(g+=y+c,f.push({width:y,height:x}),b+=y+c,w++,y=x=0),d[C]={left:b,top:x,col:w,width:D,height:M},y=Math.max(y,D),x+=M+c}),g+=y,f.push({width:y,height:x}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:a}}=this,l=bs(a,this.left,this.width);if(this.isHorizontal()){let c=0,d=hn(r,this.left+s,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,d=hn(r,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+e+s,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+s}else{let c=0,d=hn(r,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,d=hn(r,this.top+e+s,this.bottom-this.columnSizes[c].height)),f.top=d,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Nl(e,this),this._draw(),Al(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:a,labels:l}=e,c=vt.color,d=bs(e.rtl,this.left,this.width),f=an(l.font),{padding:p}=l,g=f.size,y=g/2;let x;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:b,boxHeight:w,itemHeight:S}=vg(l,g),C=function(j,E,A){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;s.save();const W=Fe(A.lineWidth,1);if(s.fillStyle=Fe(A.fillStyle,c),s.lineCap=Fe(A.lineCap,"butt"),s.lineDashOffset=Fe(A.lineDashOffset,0),s.lineJoin=Fe(A.lineJoin,"miter"),s.lineWidth=W,s.strokeStyle=Fe(A.strokeStyle,c),s.setLineDash(Fe(A.lineDash,[])),l.usePointStyle){const X={radius:w*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:W},q=d.xPlus(j,b/2),Q=E+y;G0(s,X,q,Q,l.pointStyleWidth&&b)}else{const X=E+Math.max((g-w)/2,0),q=d.leftForLtr(j,b),Q=xs(A.borderRadius);s.beginPath(),Object.values(Q).some(ae=>ae!==0)?kl(s,{x:q,y:X,w:b,h:w,radius:Q}):s.rect(q,X,b,w),s.fill(),W!==0&&s.stroke()}s.restore()},D=function(j,E,A){Sl(s,A.text,j,E+S/2,f,{strikethrough:A.hidden,textAlign:d.textAlign(A.textAlign)})},M=this.isHorizontal(),L=this._computeTitleHeight();M?x={x:hn(a,this.left+p,this.right-r[0]),y:this.top+p+L,line:0}:x={x:this.left+p,y:hn(a,this.top+L+p,this.bottom-n[0].height),line:0},ey(this.ctx,e.textDirection);const N=S+p;this.legendItems.forEach((j,E)=>{s.strokeStyle=j.fontColor,s.fillStyle=j.fontColor;const A=s.measureText(j.text).width,W=d.textAlign(j.textAlign||(j.textAlign=l.textAlign)),X=b+y+A;let q=x.x,Q=x.y;d.setWidth(this.width),M?E>0&&q+X+p>this.right&&(Q=x.y+=N,x.line++,q=x.x=hn(a,this.left+p,this.right-r[x.line])):E>0&&Q+N>this.bottom&&(q=x.x=q+n[x.line].width+p,x.line++,Q=x.y=hn(a,this.top+L+p,this.bottom-n[x.line].height));const ae=d.x(q);if(C(ae,Q,j),q=kS(W,q+b+y,M?q+X:this.right,e.rtl),D(d.x(q),Q,j),M)x.x+=X+p;else if(typeof j.text!="string"){const K=f.lineHeight;x.y+=Sy(j,K)+p}else x.y+=N}),ty(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=an(n.font),s=jn(n.padding);if(!n.display)return;const a=bs(e.rtl,this.left,this.width),l=this.ctx,c=n.position,d=r.size/2,f=s.top+d;let p,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+f,g=hn(e.align,g,this.right-y);else{const b=this.columnSizes.reduce((w,S)=>Math.max(w,S.height),0);p=f+hn(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const x=hn(c,g,g+y);l.textAlign=a.textAlign(V0(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,Sl(l,n.text,x,p,r)}_computeTitleHeight(){const e=this.options.title,n=an(e.font),r=jn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,a;if(Cr(e,this.left,this.right)&&Cr(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],Cr(e,s.left,s.left+s.width)&&Cr(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!rM(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=ZC(s,r);s&&!a&&at(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!a&&at(n.onHover,[e,r,this],this)}else r&&at(n.onClick,[e,r,this],this)}}function eM(t,e,n,r,s){const a=tM(r,t,e,n),l=nM(s,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function tM(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+r.measureText(s).width}function nM(t,e,n){let r=t;return typeof e.text!="string"&&(r=Sy(e,n)),r}function Sy(t,e){const n=t.text?t.text.length:0;return e*n}function rM(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var iM={id:"legend",_element:xg,start(t,e,n){const r=t.legend=new xg({ctx:t.ctx,options:n,chart:t});ii.configure(t,r,n),ii.addBox(t,r)},stop(t){ii.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ii.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(n?0:void 0),p=jn(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const xo={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,a=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();r.add(d.x),s+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((c,d)=>c+d)/r.size,y:s/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=t.length;a<l;++a){const d=t[a].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=ad(e,f);p<s&&(s=p,c=d)}}if(c){const d=c.tooltipPosition();n=d.x,r=d.y}return{x:n,y:r}}};function Xn(t,e){return e&&(kt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function wr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function sM(t,e){const{element:n,datasetIndex:r,index:s}=e,a=t.getDatasetMeta(r).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:t,label:l,parsed:a.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function bg(t,e){const n=t.chart.ctx,{body:r,footer:s,title:a}=t,{boxWidth:l,boxHeight:c}=e,d=an(e.bodyFont),f=an(e.titleFont),p=an(e.footerFont),g=a.length,y=s.length,x=r.length,b=jn(e.padding);let w=b.height,S=0,C=r.reduce((L,N)=>L+N.before.length+N.lines.length+N.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,g&&(w+=g*f.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),C){const L=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;w+=x*L+(C-x)*d.lineHeight+(C-1)*e.bodySpacing}y&&(w+=e.footerMarginTop+y*p.lineHeight+(y-1)*e.footerSpacing);let D=0;const M=function(L){S=Math.max(S,n.measureText(L).width+D)};return n.save(),n.font=f.string,et(t.title,M),n.font=d.string,et(t.beforeBody.concat(t.afterBody),M),D=e.displayColors?l+2+e.boxPadding:0,et(r,L=>{et(L.before,M),et(L.lines,M),et(L.after,M)}),D=0,n.font=p.string,et(t.footer,M),n.restore(),S+=b.width,{width:S,height:w}}function oM(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function aM(t,e,n,r){const{x:s,width:a}=r,l=n.caretSize+n.caretPadding;if(t==="left"&&s+a+l>e.width||t==="right"&&s-a-l<0)return!0}function lM(t,e,n,r){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:d}}=t;let f="center";return r==="center"?f=s<=(c+d)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),aM(f,t,e,n)&&(f="center"),f}function wg(t,e,n){const r=n.yAlign||e.yAlign||oM(t,n);return{xAlign:n.xAlign||e.xAlign||lM(t,e,n,r),yAlign:r}}function cM(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function uM(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function _g(t,e,n,r){const{caretSize:s,caretPadding:a,cornerRadius:l}=t,{xAlign:c,yAlign:d}=n,f=s+a,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:x}=xs(l);let b=cM(e,c);const w=uM(e,d,f);return d==="center"?c==="left"?b+=f:c==="right"&&(b-=f):c==="left"?b-=Math.max(p,y)+s:c==="right"&&(b+=Math.max(g,x)+s),{x:Ut(b,0,r.width-e.width),y:Ut(w,0,r.height-e.height)}}function ol(t,e,n){const r=jn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Sg(t){return Xn([],wr(t))}function dM(t,e,n){return $i(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function kg(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const ky={beforeTitle:vr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:vr,beforeBody:vr,beforeLabel:vr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Qe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:vr,afterBody:vr,beforeFooter:vr,footer:vr,afterFooter:vr};function sn(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?ky[e].call(n,r):s}class Cg extends ci{static positioners=xo;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,a=new oy(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=dM(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=sn(r,"beforeTitle",this,e),a=sn(r,"title",this,e),l=sn(r,"afterTitle",this,e);let c=[];return c=Xn(c,wr(s)),c=Xn(c,wr(a)),c=Xn(c,wr(l)),c}getBeforeBody(e,n){return Sg(sn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return et(e,a=>{const l={before:[],lines:[],after:[]},c=kg(r,a);Xn(l.before,wr(sn(c,"beforeLabel",this,a))),Xn(l.lines,sn(c,"label",this,a)),Xn(l.after,wr(sn(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,n){return Sg(sn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=sn(r,"beforeFooter",this,e),a=sn(r,"footer",this,e),l=sn(r,"afterFooter",this,e);let c=[];return c=Xn(c,wr(s)),c=Xn(c,wr(a)),c=Xn(c,wr(l)),c}_createItems(e){const n=this._active,r=this.chart.data,s=[],a=[],l=[];let c=[],d,f;for(d=0,f=n.length;d<f;++d)c.push(sM(this.chart,n[d]));return e.filter&&(c=c.filter((p,g,y)=>e.filter(p,g,y,r))),e.itemSort&&(c=c.sort((p,g)=>e.itemSort(p,g,r))),et(c,p=>{const g=kg(e.callbacks,p);s.push(sn(g,"labelColor",this,p)),a.push(sn(g,"labelPointStyle",this,p)),l.push(sn(g,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=xo[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=bg(this,r),f=Object.assign({},c,d),p=wg(this.chart,r,f),g=_g(r,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:g.x,y:g.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const a=this.getCaretPosition(e,r,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=xs(c),{x:y,y:x}=e,{width:b,height:w}=n;let S,C,D,M,L,N;return a==="center"?(L=x+w/2,s==="left"?(S=y,C=S-l,M=L+l,N=L-l):(S=y+b,C=S+l,M=L-l,N=L+l),D=S):(s==="left"?C=y+Math.max(d,p)+l:s==="right"?C=y+b-Math.max(f,g)-l:C=this.caretX,a==="top"?(M=x,L=M-l,S=C-l,D=C+l):(M=x+w,L=M+l,S=C+l,D=C-l),N=M),{x1:S,x2:C,x3:D,y1:M,y2:L,y3:N}}drawTitle(e,n,r){const s=this.title,a=s.length;let l,c,d;if(a){const f=bs(r.rtl,this.x,this.width);for(e.x=ol(this,r.titleAlign,r),n.textAlign=f.textAlign(r.titleAlign),n.textBaseline="middle",l=an(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,d=0;d<a;++d)n.fillText(s[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,d+1===a&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,s,a){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:d,boxWidth:f}=a,p=an(a.bodyFont),g=ol(this,"left",a),y=s.x(g),x=d<p.lineHeight?(p.lineHeight-d)/2:0,b=n.y+x;if(a.usePointStyle){const w={radius:Math.min(f,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=s.leftForLtr(y,f)+f/2,C=b+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,cd(e,w,S,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,cd(e,w,S,C)}else{e.lineWidth=Ue(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const w=s.leftForLtr(y,f),S=s.leftForLtr(s.xPlus(y,1),f-2),C=xs(l.borderRadius);Object.values(C).some(D=>D!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,kl(e,{x:w,y:b,w:f,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),kl(e,{x:S,y:b+1,w:f-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(w,b,f,d),e.strokeRect(w,b,f,d),e.fillStyle=l.backgroundColor,e.fillRect(S,b+1,f-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:f,boxPadding:p}=r,g=an(r.bodyFont);let y=g.lineHeight,x=0;const b=bs(r.rtl,this.x,this.width),w=function(A){n.fillText(A,b.x(e.x+x),e.y+y/2),e.y+=y+a},S=b.textAlign(l);let C,D,M,L,N,j,E;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,e.x=ol(this,S,r),n.fillStyle=r.bodyColor,et(this.beforeBody,w),x=c&&S!=="right"?l==="center"?f/2+p:f+2+p:0,L=0,j=s.length;L<j;++L){for(C=s[L],D=this.labelTextColors[L],n.fillStyle=D,et(C.before,w),M=C.lines,c&&M.length&&(this._drawColorBox(n,e,L,b,r),y=Math.max(g.lineHeight,d)),N=0,E=M.length;N<E;++N)w(M[N]),y=g.lineHeight;et(C.after,w)}x=0,y=g.lineHeight,et(this.afterBody,w),e.y-=a}drawFooter(e,n,r){const s=this.footer,a=s.length;let l,c;if(a){const d=bs(r.rtl,this.x,this.width);for(e.x=ol(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=d.textAlign(r.footerAlign),n.textBaseline="middle",l=an(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:a,yAlign:l}=this,{x:c,y:d}=e,{width:f,height:p}=r,{topLeft:g,topRight:y,bottomLeft:x,bottomRight:b}=xs(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+g,d),l==="top"&&this.drawCaret(e,n,r,s),n.lineTo(c+f-y,d),n.quadraticCurveTo(c+f,d,c+f,d+y),l==="center"&&a==="right"&&this.drawCaret(e,n,r,s),n.lineTo(c+f,d+p-b),n.quadraticCurveTo(c+f,d+p,c+f-b,d+p),l==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(c+x,d+p),n.quadraticCurveTo(c,d+p,c,d+p-x),l==="center"&&a==="left"&&this.drawCaret(e,n,r,s),n.lineTo(c,d+g),n.quadraticCurveTo(c,d,c+g,d),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const l=xo[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=bg(this,e),d=Object.assign({},l,this._size),f=wg(n,e,d),p=_g(e,d,f,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=jn(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,n),ey(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),ty(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:c,index:d})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[d],index:d}}),a=!bl(r,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,r),c=this._positionChanged(l,e),d=n||!bl(l,a)||c;return d&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,r,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:r,caretY:s,options:a}=this,l=xo[a.position].call(this,e,n);return l!==!1&&(r!==l.x||s!==l.y)}}var fM={id:"tooltip",_element:Cg,positioners:xo,afterInit(t,e,n){n&&(t.tooltip=new Cg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ky},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const hM=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function pM(t,e,n,r){const s=t.indexOf(e);if(s===-1)return hM(t,e,n,r);const a=t.lastIndexOf(e);return s!==a?n:s}const mM=(t,e)=>t===null?null:Ut(Math.round(t),0,e);function Mg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class gM extends Cs{static id="category";static defaults={ticks:{callback:Mg}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:a}of n)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Qe(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:pM(r,e,Fe(n,e),this._addedLabels),mM(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=n;l++)s.push({value:l});return s}getLabelForValue(e){return Mg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function yM(t,e){const n=[],{bounds:s,step:a,min:l,max:c,precision:d,count:f,maxTicks:p,maxDigits:g,includeBounds:y}=t,x=a||1,b=p-1,{min:w,max:S}=e,C=!Qe(l),D=!Qe(c),M=!Qe(f),L=(S-w)/(g+1);let N=_m((S-w)/b/x)*x,j,E,A,W;if(N<1e-14&&!C&&!D)return[{value:w},{value:S}];W=Math.ceil(S/N)-Math.floor(w/N),W>b&&(N=_m(W*N/b/x)*x),Qe(d)||(j=Math.pow(10,d),N=Math.ceil(N*j)/j),s==="ticks"?(E=Math.floor(w/N)*N,A=Math.ceil(S/N)*N):(E=w,A=S),C&&D&&a&&mS((c-l)/a,N/1e3)?(W=Math.round(Math.min((c-l)/N,p)),N=(c-l)/W,E=l,A=c):M?(E=C?l:E,A=D?c:A,W=f-1,N=(A-E)/W):(W=(A-E)/N,ko(W,Math.round(W),N/1e3)?W=Math.round(W):W=Math.ceil(W));const X=Math.max(Sm(N),Sm(E));j=Math.pow(10,Qe(d)?X:d),E=Math.round(E*j)/j,A=Math.round(A*j)/j;let q=0;for(C&&(y&&E!==l?(n.push({value:l}),E<l&&q++,ko(Math.round((E+q*N)*j)/j,l,Eg(l,L,t))&&q++):E<l&&q++);q<W;++q){const Q=Math.round((E+q*N)*j)/j;if(D&&Q>c)break;n.push({value:Q})}return D&&y&&A!==c?n.length&&ko(n[n.length-1].value,c,Eg(c,L,t))?n[n.length-1].value=c:n.push({value:c}):(!D||A===c)&&n.push({value:A}),n}function Eg(t,e,{horizontal:n,minRotation:r}){const s=kr(r),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class vM extends Cs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this;const l=d=>s=n?s:d,c=d=>a=r?a:d;if(e){const d=Jn(s),f=Jn(a);d<0&&f<0?c(0):d>0&&f>0&&l(0)}if(s===a){let d=a===0?1:Math.abs(a*.05);c(a+d),e||l(s-d)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=yM(s,a);return e.bounds==="ticks"&&gS(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Nd(e,this.chart.options.locale,this.options.ticks.format)}}class xM extends vM{static id="linear";static defaults={ticks:{callback:Y0.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=$t(e)?e:0,this.max=$t(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=kr(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Bl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},on=Object.keys(Bl);function Rg(t,e){return t-e}function Pg(t,e){if(Qe(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:a}=t._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),$t(l)||(l=typeof r=="string"?n.parse(l,r):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(Ao(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function Dg(t,e,n,r){const s=on.length;for(let a=on.indexOf(t);a<s-1;++a){const l=Bl[on[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(c*l.size))<=r)return on[a]}return on[s-1]}function bM(t,e,n,r,s){for(let a=on.length-1;a>=on.indexOf(n);a--){const l=on[a];if(Bl[l].common&&t._adapter.diff(s,r,l)>=e-1)return l}return on[n?on.indexOf(n):0]}function wM(t){for(let e=on.indexOf(t)+1,n=on.length;e<n;++e)if(Bl[on[e]].common)return on[e]}function Tg(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Dd(n,e),a=n[r]>=e?n[r]:n[s];t[a]=!0}}function _M(t,e,n,r){const s=t._adapter,a=+s.startOf(e[0].value,r),l=e[e.length-1].value;let c,d;for(c=a;c<=l;c=+s.add(c,1,r))d=n[c],d>=0&&(e[d].major=!0);return e}function Ng(t,e,n){const r=[],s={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],s[c]=l,r.push({value:c,major:!1});return a===0||!n?r:_M(t,r,s,n)}class Ag extends Cs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new tk._date(e.adapters.date);s.init(n),So(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Pg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=$t(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),a=$t(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=wS(s,a,l);return this._unit=n.unit||(r.autoSkip?Dg(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):bM(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:wM(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),Ng(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Ut(n,0,l),r=Ut(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,a=s.time,l=a.unit||Dg(a.minUnit,n,r,this._getLabelCapacity(n)),c=Fe(s.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,f=Ao(d)||d===!0,p={};let g=n,y,x;if(f&&(g=+e.startOf(g,"isoWeek",d)),g=+e.startOf(g,f?"day":l),e.diff(r,n,l)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+l);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(y=g,x=0;y<r;y=+e.add(y,c,l),x++)Tg(p,y,b);return(y===r||s.bounds==="ticks"||x===1)&&Tg(p,y,b),Object.keys(p).sort(Rg).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,r,s){const a=this.options,l=a.ticks.callback;if(l)return at(l,[e,n,r],this);const c=a.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&c[d],g=f&&c[f],y=r[n],x=f&&g&&y&&y.major;return this._adapter.format(e,s||(x?g:p))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=kr(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*a+c*l,h:r*l+c*a}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,Ng(this,[e],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(Pg(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $0(e.sort(Rg))}}function al(t,e,n){let r=0,s=t.length-1,a,l,c,d;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Li(t,"pos",e)),{pos:a,time:c}=t[r],{pos:l,time:d}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Li(t,"time",e)),{time:a,pos:c}=t[r],{time:l,pos:d}=t[s]);const f=l-a;return f?c+(d-c)*(e-a)/f:c}class uE extends Ag{static id="timeseries";static defaults=Ag.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=al(n,this.min),this._tableRange=al(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],a=[];let l,c,d,f,p;for(l=0,c=e.length;l<c;++l)f=e[l],f>=n&&f<=r&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],d=s[l-1],f=s[l],Math.round((p+d)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(al(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return al(this._table,r*this._tableRange+this._minPos,!0)}}const Cy="label";function Lg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function SM(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function My(t,e){t.labels=e}function Ey(t,e,n=Cy){const r=[];t.datasets=e.map(s=>{const a=t.datasets.find(l=>l[n]===s[n]);return!a||!s.data||r.includes(a)?{...s}:(r.push(a),Object.assign(a,s),a)})}function kM(t,e=Cy){const n={labels:[],datasets:[]};return My(n,t.labels),Ey(n,t.datasets,e),n}function CM(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:d,plugins:f=[],fallbackContent:p,updateMode:g,...y}=t,x=P.useRef(null),b=P.useRef(null),w=()=>{x.current&&(b.current=new Fl(x.current,{type:l,data:kM(c,a),options:d&&{...d},plugins:f}),Lg(e,b.current))},S=()=>{Lg(e,null),b.current&&(b.current.destroy(),b.current=null)};return P.useEffect(()=>{!s&&b.current&&d&&SM(b.current,d)},[s,d]),P.useEffect(()=>{!s&&b.current&&My(b.current.config.data,c.labels)},[s,c.labels]),P.useEffect(()=>{!s&&b.current&&c.datasets&&Ey(b.current.config.data,c.datasets,a)},[s,c.datasets]),P.useEffect(()=>{b.current&&(s?(S(),setTimeout(w)):b.current.update(g))},[s,d,c.labels,c.datasets,g]),P.useEffect(()=>{b.current&&(S(),setTimeout(w))},[l]),P.useEffect(()=>(w(),()=>S()),[]),k.jsx("canvas",{ref:x,role:"img",height:n,width:r,...y,children:p})}const MM=P.forwardRef(CM);function Bd(t,e){return Fl.register(e),P.forwardRef((n,r)=>k.jsx(MM,{...n,ref:r,type:t}))}const EM=Bd("line",ek),RM=Bd("bar",Q2),PM=Bd("doughnut",Z2);Fl.register(gM,xM,MC,jl,NC,gC,fM,iM,JC);const Qu=new Map;function ai(t){if(Qu.has(t))return Qu.get(t)??null;if(typeof document>"u")return null;const e=document.createElement("span");e.className=`${t} pointer-events-none fixed -left-[9999px] -top-[9999px]`,e.textContent=".",document.body.appendChild(e);const n=getComputedStyle(e).color;return e.remove(),Qu.set(t,n),n}function zi(t,e){if(!t)return`rgba(99, 102, 241, ${e})`;const n=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9.]+))?\)/i);if(!n)return t;const r=Number(n[1]),s=Number(n[2]),a=Number(n[3]);return`rgba(${r}, ${s}, ${a}, ${e})`}function DM({labels:t,values:e,height:n=224,formatValue:r,ariaLabel:s="Line chart"}){const a=ai("text-indigo-500"),l=ai("text-slate-200 dark:text-slate-700"),c=ai("text-slate-500 dark:text-slate-400"),d=P.useMemo(()=>({labels:t,datasets:[{label:s,data:e,borderColor:a??"rgb(99, 102, 241)",backgroundColor:zi(a,.16),fill:!0,tension:.35,pointRadius:p=>p.dataIndex===e.length-1?4:3,pointHoverRadius:6,pointBackgroundColor:a??"rgb(99, 102, 241)",pointBorderWidth:0}]}),[s,a,t,e]),f=P.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>{const g=typeof p.parsed?.y=="number"?p.parsed.y:Number(p.raw);return r?r(g):String(g)}}}},scales:{x:{grid:{color:zi(l,.35)},ticks:{color:c??void 0,maxTicksLimit:6}},y:{grid:{color:zi(l,.65)},ticks:{color:c??void 0,maxTicksLimit:6,callback:p=>{const g=typeof p=="number"?p:Number(p);return r?r(g):String(p)}}}}}),[r,l,c]);return k.jsx("div",{className:"w-full",style:{height:n},children:k.jsx(EM,{"aria-label":s,role:"img",data:d,options:f})})}function Og({items:t,formatValue:e}){const n=ai("text-emerald-500"),r=ai("text-slate-200 dark:text-slate-700"),s=ai("text-slate-500 dark:text-slate-400"),a=Math.max(220,t.length*34),l=P.useMemo(()=>({labels:t.map(d=>d.label),datasets:[{label:"Value",data:t.map(d=>d.value),borderRadius:8,backgroundColor:zi(n,.9)}]}),[n,t]),c=P.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{callbacks:{label:d=>{const f=typeof d.parsed?.x=="number"?d.parsed.x:Number(d.raw);return e?e(f):String(f)}}}},scales:{x:{grid:{color:zi(r,.55)},ticks:{color:s??void 0,callback:d=>{const f=typeof d=="number"?d:Number(d);return e?e(f):String(d)}}},y:{grid:{display:!1},ticks:{color:s??void 0}}}}),[e,r,s]);return k.jsx("div",{className:"w-full",style:{height:a},children:k.jsx(RM,{role:"img",data:l,options:c})})}const ll=["text-indigo-500","text-emerald-500","text-rose-500","text-amber-500","text-sky-500","text-violet-500"];function TM({segments:t,formatValue:e,ariaLabel:n="Pie chart"}){const r=t.reduce((f,p)=>f+(Number.isFinite(p.value)?p.value:0),0);if(r<=0)return k.jsx("div",{className:"text-sm text-slate-500",children:"No hay datos para graficar."});const s=t.filter(f=>Number.isFinite(f.value)&&f.value>0),a=s.map((f,p)=>{const g=f.className??ll[p%ll.length];return ai(g)??void 0}),l=ai("text-slate-500 dark:text-slate-400"),c=P.useMemo(()=>({labels:s.map(f=>f.label),datasets:[{data:s.map(f=>f.value),backgroundColor:a.map(f=>zi(f??null,.9)),borderColor:a.map(f=>zi(f??null,1)),borderWidth:0,hoverOffset:6,cutout:"62%"}]}),[a,s]),d=P.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>{const p=typeof f.parsed=="number"?f.parsed:Number(f.raw);return`${f.label?`${f.label}: `:""}${e?e(p):String(p)}`}}}}}),[e]);return k.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-6",children:[k.jsx("div",{className:"h-56 w-56",children:k.jsx(PM,{"aria-label":n,role:"img",data:c,options:d})}),k.jsx("div",{className:"w-full space-y-2",children:s.map((f,p)=>{const g=Math.round(f.value/r*100),y=f.className??ll[p%ll.length];return k.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[k.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[k.jsx("span",{className:`h-2 w-2 flex-none rounded-full ${y} bg-current`}),k.jsx("span",{className:"truncate font-semibold",children:f.label})]}),k.jsxs("div",{className:"flex-none text-right text-slate-700 dark:text-slate-200",children:[k.jsx("div",{className:"text-sm font-semibold",children:e?e(f.value):f.value.toFixed(2)}),k.jsxs("div",{className:"text-xs",style:{color:l??void 0},children:[g,"%"]})]})]},`${f.label}-legend`)})})]})}const NM="modulepreload",AM=function(t,e){return new URL(t,e).href},zg={},LM=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");s=f(n.map(p=>{if(p=AM(p,r),p in zg)return;zg[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(r)for(let b=l.length-1;b>=0;b--){const w=l[b];if(w.href===p&&(!g||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${y}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":NM,g||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function OM(t,e){const n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),n.remove()}async function cl(t,e){const{default:n}=await LM(async()=>{const{default:c}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:c}},[],import.meta.url),r=Math.max(1,window.devicePixelRatio||1),a=typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)")?.matches?"#020617":"#ffffff",l=await n(t,{backgroundColor:a,scale:r,useCORS:!0});OM(l.toDataURL("image/png"),e)}function ul(t,e){const n=t.map(l=>l.map(c=>`"${String(c).replace(/"/g,'""')}"`).join(",")).join(`
`),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=e,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(s)}const Ii=[{code:"USD",symbol:"$",names:{es:"Dlar estadounidense",en:"US Dollar"}},{code:"EUR",symbol:"",names:{es:"Euro",en:"Euro"}},{code:"GBP",symbol:"",names:{es:"Libra esterlina",en:"Pound Sterling"}},{code:"JPY",symbol:"",names:{es:"Yen japons",en:"Japanese Yen"}},{code:"AUD",symbol:"A$",names:{es:"Dlar australiano",en:"Australian Dollar"}},{code:"CAD",symbol:"C$",names:{es:"Dlar canadiense",en:"Canadian Dollar"}},{code:"CHF",symbol:"CHF",names:{es:"Franco suizo",en:"Swiss Franc"}},{code:"CNY",symbol:"",names:{es:"Yuan chino",en:"Chinese Yuan"}},{code:"MXN",symbol:"MX$",names:{es:"Peso mexicano",en:"Mexican Peso"}},{code:"BRL",symbol:"R$",names:{es:"Real brasileo",en:"Brazilian Real"}}],Fg={},Ms=t=>(t||"").toString().trim().toUpperCase();function jg(t){const e=Ms(t);if(e.length===3&&/^[A-Z]{3}$/.test(e))return e;const n=String(t||"").trim(),r=Ii.find(s=>s.symbol===n);return r?r.code:e}function Kn(t,e){const n=String(e||"").trim(),r=Ms(n),s=Ii.find(c=>c.code===r);return s?`${s.symbol}${t.toFixed(2)}`:`${/[^A-Z]/i.test(n)||n.length<=2?n:`${n} `}${t.toFixed(2)}`}const Ry="fx_rates_",zM=1e3*60*60*12,dl={};function Py(t){try{const e=localStorage.getItem(Ry+Ms(t));return e?JSON.parse(e):null}catch{return null}}function FM(t,e){try{const n={ts:Date.now(),rates:e};localStorage.setItem(Ry+Ms(t),JSON.stringify(n))}catch{}}async function jM(t){const e=Ms(t),n=typeof import.meta<"u"?Fg?.VITE_EXCHANGE_API_URL:void 0,r=typeof import.meta<"u"?Fg?.VITE_EXCHANGE_API_KEY:void 0,s=typeof window<"u"?localStorage.getItem("exchange_api_key"):void 0,a=r??s??void 0,l=n&&n.length>0?n:"https://api.exchangerate.host/latest",c=l.includes("?")?"&":"?";let d=l;const f={},p=/exchangerate\.host\/live/.test(l),g=/exchangerate\.host\/latest/.test(l);if(p){d+=`${c}source=${encodeURIComponent(e)}`;const b=Ii.map(w=>w.code).filter(w=>w!==e);d+=`&currencies=${encodeURIComponent(b.join(","))}`,d+="&format=1"}else d+=`${c}base=${encodeURIComponent(e)}`;if(a){const b=l.includes("exchangerate.host");b&&g||(b&&p?d+=`&access_key=${encodeURIComponent(a)}`:l.includes("apilayer")?(d+=`&access_key=${encodeURIComponent(a)}`,f.apikey=a):l.includes("openexchangerates")?d+=`&app_id=${encodeURIComponent(a)}`:d+=`&access_key=${encodeURIComponent(a)}`)}const y=3,x=500;for(let b=1;b<=y;b++)try{const w=await fetch(d,{headers:f});if(!w.ok){if(b===y)return null;await new Promise(C=>setTimeout(C,x*b));continue}const S=await w.json();if(p&&S&&typeof S.quotes=="object"){const C={};for(const D of Object.keys(S.quotes))if(D.startsWith(e)){const M=D.slice(e.length);C[M]=Number(S.quotes[D])}return C}if(S&&S.rates&&typeof S.rates=="object")return S.rates;if(b===y)return null;await new Promise(C=>setTimeout(C,x*b))}catch{if(b===y)return null;await new Promise(w=>setTimeout(w,x*b))}return null}async function IM(t,e){if(typeof window>"u")return null;const n=Ms(t),r=Py(n);if(r&&Date.now()-r.ts<zM)return r.rates;if(dl[n])return dl[n];const s=(async()=>{try{const a=await jM(n);return a?(FM(n,a),a):r?r.rates:null}finally{delete dl[n]}})();return dl[n]=s,s}function Sr(t,e,n){const r=jg(e),s=jg(n);if(!r||r===s)return t;if(typeof window<"u")try{const f=Py(s);if(f&&f.rates&&f.rates[r])return t/f.rates[r]}catch{}const a={EUR:1,USD:1.05,GBP:.88,CAD:1.42},l=a[r]??1,c=a[s]??1;return t/l*c}function ms(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function Dy(t){return t.period==="monthly"?1:t.period==="quarterly"?3:t.period==="semiannual"?6:12}function BM(t){const e=Dy(t);return Number.isFinite(t.price)?t.price*12/e:0}function UM(t){const[e,n,r]=String(t).split("-").map(Number),s=new Date(e,(n??1)-1,r??1);return Number.isNaN(s.getTime())?null:s}function Ig(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function $M(t,e,n,r){const s=UM(t);if(!s)return[];let a=new Date(s);for(;a.getTime()<n.getTime();)a=Ig(a,e);const l=[];for(;a.getTime()<=r.getTime();)l.push(new Date(a)),a=Ig(a,e);return l}function Bg(){const{state:t}=Tl(),{t:e,language:n}=ks(),r=t.settings.currencyDisplayMode??"original",s=(t.settings.baseCurrency||"USD").toUpperCase(),[a,l]=P.useState(0),[c,d]=P.useState("idle");P.useEffect(()=>{if(r!=="convertToBase")return;let M=!1;return d("loading"),(async()=>{const L=await IM(s);M||(L?(d("ready"),l(N=>N+1)):d("unavailable"))})(),()=>{M=!0}},[s,r]),P.useEffect(()=>{r!=="convertToBase"&&d("idle")},[r]);const f=P.useRef(new Map),p=M=>L=>{L?f.current.set(M,L):f.current.delete(M)},g=P.useMemo(()=>r==="convertToBase"?[s]:Array.from(new Set(t.subscriptions.map(M=>(M.currency||"USD").toUpperCase()))).sort((M,L)=>M.localeCompare(L)),[s,r,t.subscriptions]),y=P.useMemo(()=>{const M=new Map;for(const L of t.subscriptions){const N=(L.currency||"USD").toUpperCase(),j=r==="convertToBase"?s:N,E=r==="convertToBase"?Sr(ms(L),N,s):ms(L),A=M.get(j)??0;M.set(j,A+E)}return Array.from(M.entries()).sort((L,N)=>L[0].localeCompare(N[0]))},[s,r,a,t.subscriptions]),x=P.useMemo(()=>{const M=new Date,L=Math.max(0,Math.min(30,Math.floor(t.settings.notifyDaysBefore??7))),N=new Date(M);N.setDate(N.getDate()+L);const j=new Map,E=new Map,A=new Map,W=new Map,X=new Map;for(const ae of t.subscriptions){const K=(ae.currency||"USD").toUpperCase(),ne=r==="convertToBase"?s:K,ce=r==="convertToBase"?Sr(ms(ae),K,s):ms(ae);j.set(ne,(j.get(ne)??0)+ce),E.set(ne,(E.get(ne)??0)+1),xl(ae.startDate,ae.period,M).getTime()<=N.getTime()&&A.set(ne,(A.get(ne)??0)+1);const Y=W.get(ne);(!Y||ce>Y.value)&&W.set(ne,{name:ae.name,value:ce});const re=(ae.category||"").trim()||(e("common.uncategorized")??"Sin categora");X.has(ne)||X.set(ne,new Map);const J=X.get(ne);J.set(re,(J.get(re)??0)+ce)}const q=new Map,Q=new Set([...j.keys(),...E.keys()]);for(const ae of Q){const K=E.get(ae)??0,ne=j.get(ae)??0,ce=K>0?ne/K:0,de=A.get(ae)??0,Y=W.get(ae)??null,re=X.get(ae);let J=null;if(re&&ne>0){let z=null;for(const[V,ue]of re.entries())(!z||ue>z.value)&&(z={label:V,value:ue});z&&(J={label:z.label,value:z.value,pct:Math.round(z.value/ne*100)})}q.set(ae,{count:K,monthlyTotal:ne,avgMonthly:ce,dueSoonCount:de,highest:Y,topCategory:J,windowDays:L})}return q},[s,r,a,t.settings.notifyDaysBefore,t.subscriptions,e]),b=P.useMemo(()=>{const M=new Date;return t.subscriptions.map(N=>({s:N,next:xl(N.startDate,N.period,M)})).sort((N,j)=>N.next.getTime()-j.next.getTime()).slice(0,5)},[t.subscriptions]),w=P.useMemo(()=>{const M=new Date,L=Array.from({length:12},(E,A)=>new Date(M.getFullYear(),M.getMonth()-(11-A),1)),N=L.map(E=>E.toLocaleString(n==="es"?"es-ES":"en-US",{month:"short"})),j=new Map;for(const E of g)j.set(E,Array.from({length:12},()=>0));for(const E of t.subscriptions){const A=(E.currency||"USD").toUpperCase(),W=r==="convertToBase"?s:A;j.has(W)||j.set(W,Array.from({length:12},()=>0));const X=Dy(E);for(let q=0;q<L.length;q++){const Q=L[q],ae=new Date(Q.getFullYear(),Q.getMonth()+1,0,23,59,59,999),K=$M(E.startDate,X,Q,ae);if(!K.length)continue;const ne=j.get(W),ce=E.price*K.length;ne[q]+=r==="convertToBase"?Sr(ce,A,s):ce}}return{labels:N,byCurrency:j}},[s,g,r,a,t.subscriptions]),S=P.useMemo(()=>{const M=new Map;for(const L of t.subscriptions){const N=(L.currency||"USD").toUpperCase(),j=r==="convertToBase"?s:N,E=M.get(j)??[],A=BM(L);E.push({label:L.name,value:r==="convertToBase"?Sr(A,N,s):A}),M.set(j,E)}for(const[L,N]of M.entries())M.set(L,N.sort((j,E)=>E.value-j.value).slice(0,6));return M},[s,r,a,t.subscriptions]),C=P.useMemo(()=>{const M=new Map;for(const L of t.subscriptions){const N=(L.currency||"USD").toUpperCase(),j=r==="convertToBase"?s:N,E=M.get(j)??[],A=ms(L);E.push({label:L.name,value:r==="convertToBase"?Sr(A,N,s):A}),M.set(j,E)}for(const[L,N]of M.entries()){const j=N.sort((q,Q)=>Q.value-q.value),E=j.slice(0,5),W=j.slice(5).reduce((q,Q)=>q+Q.value,0),X=W>0?[...E,{label:e("common.other")??"Otros",value:W}]:E;M.set(L,X)}return M},[s,r,a,t.subscriptions,e]),D=P.useMemo(()=>{const M=new Map;for(const N of t.subscriptions){const j=(N.currency||"USD").toUpperCase(),E=r==="convertToBase"?s:j,A=(N.category||"").trim()||(e("common.uncategorized")??"Sin categora");M.has(E)||M.set(E,new Map);const W=M.get(E),X=ms(N),q=r==="convertToBase"?Sr(X,j,s):X;W.set(A,(W.get(A)??0)+q)}const L=new Map;for(const[N,j]of M.entries()){const A=Array.from(j.entries()).map(([W,X])=>({label:W,value:X})).sort((W,X)=>X.value-W.value).slice(0,7);L.set(N,A)}return L},[s,r,a,t.subscriptions,e]);return k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.monthlySpendTitle")??"Gasto mensual (equivalente)"}),k.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:y.length===0?k.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noSubscriptionsYet")??"Sin suscripciones an."}):y.map(([M,L])=>k.jsx("div",{className:"rounded-lg bg-slate-100 px-3 py-2 text-sm font-semibold dark:bg-slate-800",children:Kn(L,M)},M))}),r==="convertToBase"?k.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:[e("dashboard.fxRatesLabel")??"FX rates",": ",c==="loading"?e("dashboard.fxUpdating")??"actualizando":c==="ready"?e("dashboard.fxReady")??"reales (cacheadas)":c==="unavailable"?e("dashboard.fxUnavailable")??"no disponibles (fallback)":e("dashboard.fxIdle")??""]}):null]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.upcomingRenewalsTitle")??"Prximas renovaciones"}),k.jsx("div",{className:"mt-2 space-y-2",children:b.length===0?k.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noDataYet")??"No hay datos todava."}):b.map(({s:M,next:L})=>k.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg bg-slate-50 px-3 py-2 text-sm dark:bg-slate-800/60",children:[k.jsx("div",{className:"font-semibold",children:M.name}),k.jsx("div",{className:"text-slate-600 dark:text-slate-300",children:L.toLocaleDateString(n==="es"?"es-ES":"en-US")})]},M.id))})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.chartsTitle")??"Grficos"}),t.subscriptions.length===0?k.jsx("div",{className:"mt-2 text-sm text-slate-500",children:e("dashboard.addSubsToSeeCharts")??"Aade suscripciones para ver grficos."}):k.jsx("div",{className:"mt-3 space-y-4",children:g.map(M=>{const L=w.byCurrency.get(M)??[],N=S.get(M)??[],j=D.get(M)??[],E=C.get(M)??[];return k.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 dark:bg-slate-800/60",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:e("dashboard.currencyLabel",{cur:M})??`Moneda: ${M}`}),(()=>{const A=x.get(M);return A?k.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-4",children:[k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiSubscriptions")??"Suscripciones"}),k.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.count})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiAvgMonthly")??"Media mensual"}),k.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:Kn(A.avgMonthly,M)})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiDueSoon",{days:A.windowDays})??`Vencen ( ${A.windowDays}d)`}),k.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.dueSoonCount})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiTopCategory")??"Top categora"}),k.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.topCategory?`${A.topCategory.label}  ${A.topCategory.pct}%`:e("common.none")??""})]})]}):null})(),k.jsxs("div",{className:"mt-3 space-y-3",children:[k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-center justify-between gap-3",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.projectionTitle")??"Proyeccin mensual (ltimos 12 meses)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=f.current.get(`${M}:line`);A&&cl(A,`monthly-${M}.png`)},children:"PNG"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvMonth")??"Month",e("dashboard.csvAmount")??"Amount",e("dashboard.csvCurrency")??"Currency"]];for(let W=0;W<w.labels.length;W++)A.push([w.labels[W],L[W]??0,M]);ul(A,`monthly-${M}.csv`)},children:"CSV"})]})]}),k.jsx("div",{ref:p(`${M}:line`),className:"mt-2",children:k.jsx(DM,{ariaLabel:`Proyeccin mensual ${M}`,labels:w.labels,values:L,formatValue:A=>Kn(A,M)})})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-center justify-between gap-3",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.annualTopTitle")??"Top gasto anual (estimado)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=f.current.get(`${M}:bar`);A&&cl(A,`annual-top-${M}.png`)},children:"PNG"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvName")??"Name",e("dashboard.csvAnnualAmount")??"AnnualAmount",e("dashboard.csvCurrency")??"Currency"]];for(const W of N)A.push([W.label,W.value,M]);ul(A,`annual-top-${M}.csv`)},children:"CSV"})]})]}),k.jsx("div",{ref:p(`${M}:bar`),className:"mt-3",children:N.length===0?k.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):k.jsx(Og,{items:N,formatValue:A=>Kn(A,M)})})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-center justify-between gap-3",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.monthlyByCategoryTitle")??"Gasto mensual por categora (equivalente)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=f.current.get(`${M}:cat`);A&&cl(A,`categories-${M}.png`)},children:"PNG"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvCategory")??"Category",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const W of j)A.push([W.label,W.value,M]);ul(A,`categories-${M}.csv`)},children:"CSV"})]})]}),k.jsx("div",{ref:p(`${M}:cat`),className:"mt-3",children:j.length===0?k.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):k.jsx(Og,{items:j,formatValue:A=>Kn(A,M)})})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-center justify-between gap-3",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.distributionTitle")??"Distribucin (gasto mensual equivalente)"}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=f.current.get(`${M}:pie`);A&&cl(A,`distribution-${M}.png`)},children:"PNG"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvName")??"Name",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const W of E)A.push([W.label,W.value,M]);ul(A,`distribution-${M}.csv`)},children:"CSV"})]})]}),k.jsx("div",{ref:p(`${M}:pie`),className:"mt-2",children:k.jsx(TM,{segments:E,formatValue:A=>Kn(A,M)})})]})]})]},M)})})]})]})}function Ug(t){return String(t).padStart(2,"0")}function Ty(t){const e=t.getFullYear(),n=Ug(t.getMonth()+1),r=Ug(t.getDate());return`${e}-${n}-${r}`}function HM(t){switch(t){case"monthly":return"RRULE:FREQ=MONTHLY";case"quarterly":return"RRULE:FREQ=MONTHLY;INTERVAL=3";case"semiannual":return"RRULE:FREQ=MONTHLY;INTERVAL=6";case"annual":return"RRULE:FREQ=YEARLY"}}function Ny(){return typeof chrome<"u"&&!!chrome.identity}async function Ud(t){if(!Ny())throw new Error("Google Calendar sync requires Chrome Extension environment.");return await new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},r=>{const s=chrome.runtime.lastError;if(s){n(new Error(s.message||"OAuth token error"));return}if(!r){n(new Error("No OAuth token received"));return}e(r)})})}async function $d(t){Ny()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function ws(t){const e=`https://www.googleapis.com/calendar/v3${t.path}`,n=await fetch(e,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.body?{"Content-Type":"application/json"}:{}},body:t.body?JSON.stringify(t.body):void 0});if(n.status===204)return;const r=await n.text();if(!n.ok){const s=r||`${n.status} ${n.statusText}`;throw new Error(s)}return r?JSON.parse(r):void 0}async function WM(t){const e=t.calendarId??"primary",n=t.interactive??!0;let r=t.token;r||(r=await Ud(n));const[s,a,l]=t.startDateYmd.split("-").map(Number),c=new Date(s,(a??1)-1,l??1),d=new Date(c);d.setDate(d.getDate()+1);const f={summary:t.summary,description:t.description,start:{date:t.startDateYmd},end:{date:Ty(d)},recurrence:[HM(t.period)]};try{if(t.eventId){const g=await ws({token:r,method:"PATCH",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`,body:f});return{calendarId:e,eventId:g.id,syncedAt:new Date().toISOString()}}const p=await ws({token:r,method:"POST",path:`/calendars/${encodeURIComponent(e)}/events`,body:f});return{calendarId:e,eventId:p.id,syncedAt:new Date().toISOString()}}catch(p){throw await $d(r),p}}async function $g(t){const e=t.calendarId??"primary",n=t.interactive??!0,r=t.token??await Ud(n);try{await ws({token:r,method:"DELETE",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`})}catch(s){throw await $d(r),s}}const Hg="Subly Subscriptions";async function VM(t){const e=t?.interactive??!0,n=String(t?.summary||Hg).trim()||Hg;let r=t?.token;r||(r=await Ud(e));try{const a=((await ws({token:r,method:"GET",path:"/users/me/calendarList?minAccessRole=writer"})).items??[]).find(c=>String(c.summary||"").trim().toLowerCase()===n.toLowerCase());if(a?.id)return a.id;const l=await ws({token:r,method:"POST",path:"/calendars",body:{summary:n}});try{await ws({token:r,method:"POST",path:"/users/me/calendarList",body:{id:l.id}})}catch{}return l.id}catch(s){throw await $d(r),s}}const Ay=P.createContext(null);function YM(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function GM(t){switch(t){case"success":return"bg-emerald-600/80 text-white";case"error":return"bg-rose-600/80 text-white";default:return"bg-slate-900/80 text-white dark:bg-slate-950/80"}}function XM({children:t}){const[e,n]=P.useState([]),r=P.useRef({}),s=P.useCallback(c=>{n(f=>f.filter(p=>p.id!==c));const d=r.current[c];d&&(window.clearTimeout(d),delete r.current[c])},[]),a=P.useCallback((c,d="info",f)=>{const p=YM(),g={id:p,type:d,message:c};n(x=>[...x.slice(-2),g]);const y=f?.durationMs??3200;r.current[p]=window.setTimeout(()=>s(p),y)},[s]),l=P.useMemo(()=>({show:a,success:(c,d)=>a(c,"success",d),error:(c,d)=>a(c,"error",d),info:(c,d)=>a(c,"info",d)}),[a]);return k.jsxs(Ay.Provider,{value:l,children:[t,k.jsx("div",{className:"pointer-events-none fixed bottom-3 right-3 z-50 flex w-[min(22rem,calc(100vw-1.5rem))] flex-col gap-2",role:"status","aria-live":"polite","aria-atomic":"true",children:e.map(c=>k.jsx("div",{className:`pointer-events-auto rounded-lg px-3 py-2 text-sm font-semibold shadow-sm backdrop-blur ${GM(c.type)}`,children:c.message},c.id))})]})}function Ly(){const t=P.useContext(Ay);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function qM(t,e){const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(r)}function KM(t){return t==="monthly"||t==="quarterly"||t==="semiannual"||t==="annual"}function QM(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)}function JM(t){const e=typeof t=="string"?t.trim().toUpperCase():"";return e&&Ii.some(r=>r.code===e)?e:"USD"}function ZM(t){const e=typeof t?.name=="string"?t.name.trim():"";if(!e)return null;const n=Number(t?.price);if(!Number.isFinite(n))return null;const r=t?.period;if(!KM(r))return null;const s=t?.startDate;if(!QM(s))return null;const a=JM(t?.currency),l=typeof t?.category=="string"?t.category.trim():"";return{id:typeof t?.id=="string"&&t.id.trim()?t.id.trim():N0(),name:e,category:l||void 0,price:n,currency:a,period:r,startDate:s}}function eE({items:t,onImport:e}){const{t:n}=ks(),[r,s]=P.useState(null),a=Ly(),l=P.useMemo(()=>{const f=new Date,p=f.getFullYear(),g=String(f.getMonth()+1).padStart(2,"0"),y=String(f.getDate()).padStart(2,"0");return`subly-subscriptions-${p}${g}${y}.json`},[]);function c(){qM(l,t),a.success(n("common.exported")??"Exportado.")}function d(f){s(null);const p=new FileReader;p.onload=()=>{try{const g=JSON.parse(String(p.result??"null"));if(!Array.isArray(g))throw new Error("Invalid structure");const y=[];for(const b of g){const w=ZM(b);w&&y.push(w)}if(y.length===0)throw new Error("No valid items");const x=new Map;for(const b of t)x.set(b.id,b);for(const b of y)x.set(b.id,b);e(Array.from(x.values())),s({type:"success",message:n("common.importedCount",{count:y.length})??`Importadas: ${y.length}`})}catch{s({type:"error",message:n("common.importFailed")??"Importacin fallida (JSON invlido o estructura incorrecta)."})}},p.readAsText(f)}return k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("button",{type:"button",onClick:c,className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:n("common.exportJson")??"Exportar JSON"}),k.jsxs("label",{className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:[n("common.importJson")??"Importar JSON",k.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:f=>{const p=f.target.files?.[0];f.target.value="",p&&d(p)}})]}),r?k.jsx("div",{className:r.type==="error"?"text-sm text-rose-600 dark:text-rose-300":"text-sm text-emerald-700 dark:text-emerald-300",children:r.message}):null]})}function Ju(t){return t==="es"?"es-ES":"en-US"}function tE(t){const e=Number(t);return Number.isFinite(e)?e:0}function nE(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function Wg(t){return/^\d{4}-\d{2}-\d{2}$/.test(String(t||"").trim())}function Zu(t){return JSON.stringify(t.map(e=>({id:e.id,name:e.name,category:e.category,price:e.price,currency:e.currency,period:e.period,startDate:e.startDate})))}function rE(){const{state:t,setSubscriptions:e,setSettings:n}=Tl(),{t:r,language:s}=ks(),a=Ly(),l=t.settings.currencyDisplayMode??"original",c=(t.settings.baseCurrency||"USD").toUpperCase(),d=!!t.settings.calendarAutoSyncAll,f=!!t.settings.calendarUseDedicatedCalendar,p=P.useRef(t.settings);P.useEffect(()=>{p.current=t.settings},[t.settings]);const g=P.useRef(t.settings.calendarSubscriptionsCalendarId??null);P.useEffect(()=>{g.current=t.settings.calendarSubscriptionsCalendarId??null},[t.settings.calendarSubscriptionsCalendarId]);const y=P.useRef(t.subscriptions);P.useEffect(()=>{y.current=t.subscriptions},[t.subscriptions]);const[x,b]=P.useState(!1),[w,S]=P.useState(null),[C,D]=P.useState(!1),M=P.useRef(null),[L,N]=P.useState(""),[j,E]=P.useState(!1),[A,W]=P.useState(""),[X,q]=P.useState(""),[Q,ae]=P.useState(""),[K,ne]=P.useState(""),[ce,de]=P.useState(""),[Y,re]=P.useState({column:"nextRenewal",direction:"asc"}),J=P.useMemo(()=>t.subscriptions.find(G=>G.id===w)??null,[w,t.subscriptions]),[z,V]=P.useState(""),[ue,le]=P.useState(""),[ge,_e]=P.useState(""),[Oe,Le]=P.useState("USD"),[$e,ht]=P.useState("monthly"),[Ht,He]=P.useState(()=>new Date().toISOString().slice(0,10)),Be=P.useMemo(()=>{const G=z.trim(),ke=ge.trim();return!(!G||!ke||!Number.isFinite(Number(ke))||!Oe.trim()||!$e||!Wg(Ht))},[Oe,z,$e,ge,Ht]);function Wt(){S(null),V(""),le(""),_e(""),Le("USD"),ht("monthly"),He(new Date().toISOString().slice(0,10))}function Mt(){D(!1),Wt()}function At(){Wt(),D(!0)}function In(G){S(G.id),V(G.name),le(G.category??""),_e(String(G.price));const ke=String(G.currency??"").trim().toUpperCase(),Ee=Ii.some(Re=>Re.code===ke);Le(Ee?ke:"USD"),ht(G.period),He(G.startDate),D(!0)}function Hi(){const G=z.trim(),ke=ge.trim();if(!G||!ke||!Number.isFinite(Number(ke))||!Oe.trim()||!$e||!Wg(Ht))return;const Ee=ue.trim(),Re=!!w,Se={...w?t.subscriptions.find(it=>it.id===w):void 0,id:w??N0(),name:G,category:Ee||void 0,price:tE(ge),currency:Oe,period:$e,startDate:Ht},Xe=t.subscriptions.slice(),Ne=Xe.findIndex(it=>it.id===Se.id);Ne>=0?Xe[Ne]=Se:Xe.unshift(Se),y.current=Xe,d&&(Vt.current=Zu(Xe)),e(Xe),Mt(),a.success(Re?r("subscriptions.toastUpdated")??"Suscripcin actualizada.":r("subscriptions.toastCreated")??"Suscripcin creada."),d&&(async()=>{const it=await tr(Se.id,!0,{quiet:!0});it.ok||a.error((r("subscriptions.syncFailed")??"Error al sincronizar.")+(it.error?` ${it.error}`:""))})()}function Er(G){const ke=y.current,Ee=ke.find(Ne=>Ne.id===G);if(!Ee)return;const Re=r("subscriptions.deleteConfirm",{name:Ee.name})??`Eliminar ${Ee.name}? Tambin se borrar su evento en Google Calendar si existe.`;if(!window.confirm(Re))return;const ze=Ee.calendar?.eventId,Se=Ee.calendar?.calendarId??"primary",Xe=ke.filter(Ne=>Ne.id!==G);y.current=Xe,d&&(Vt.current=Zu(Xe)),e(Xe),w===G&&Wt(),a.success(r("subscriptions.toastDeleted")??"Suscripcin eliminada."),ze&&(async()=>{try{await $g({calendarId:Se,eventId:ze,interactive:!0}),a.success(r("subscriptions.calendarEventDeleted")??"Evento eliminado de Google Calendar.")}catch(Ne){const it=Ne instanceof Error?Ne.message:String(Ne);a.error((r("subscriptions.calendarDeleteFailed")??"No se pudo borrar el evento en Google Calendar.")+(it?` ${it}`:""))}})()}const qt=P.useMemo(()=>Zu(t.subscriptions),[t.subscriptions]),Vt=P.useRef(qt);P.useEffect(()=>{Vt.current=qt},[]);const tr=P.useCallback(async(G,ke,Ee)=>{try{const Re=y.current,ze=Re.findIndex(se=>se.id===G);if(ze<0)return{ok:!1,error:"Subscription not found"};const Se=Re[ze];let Xe=Se.calendar?.calendarId??"primary";if(f){let se=g.current;se||(se=await VM({interactive:ke}),g.current=se,n({...p.current,calendarSubscriptionsCalendarId:se})),Xe=se}const Ne=xl(Se.startDate,Se.period,new Date),it=Ty(Ne),Dn=(Se.currency||"USD").toUpperCase(),or=l==="convertToBase"?c:Dn,Bn=l==="convertToBase"?Sr(Se.price,Dn,c):Se.price,Dr=[`${r("subscriptions.detailsAmount")??"Importe"}: ${Kn(Bn,or)}`,`${r("subscriptions.detailsPeriod")??"Periodo"}: ${Se.period}`],Un=String(Se.category||"").trim();Un&&Dr.push(`${r("subscriptions.filterCategory")??"Categora"}: ${Un}`);const Tr=Se.calendar?.eventId,T=Se.calendar?.calendarId,I=!!(Tr&&T&&T!==Xe);if(I)try{await $g({calendarId:T,eventId:Tr,interactive:ke})}catch{}const $=await WM({calendarId:Xe,eventId:I?void 0:Se.calendar?.eventId,summary:`${Se.name}  ${r("subscriptions.renewal")??"Renovacin"}`,description:Dr.join(`
`),startDateYmd:it,period:Se.period,interactive:ke}),Z=Re.slice();return Z[ze]={...Se,calendar:{...$,lastError:void 0}},e(Z),{ok:!0}}catch(Re){const ze=Re instanceof Error?Re.message:String(Re),Se=y.current,Xe=Se.findIndex(Ne=>Ne.id===G);if(Xe>=0){const Ne=Se[Xe],it=Se.slice();it[Xe]={...Ne,calendar:{...Ne.calendar??{calendarId:"primary"},lastError:ze,syncedAt:Ne.calendar?.syncedAt}},e(it)}return{ok:!1,error:ze}}},[c,f,l,n,e,r]),Rr=P.useCallback(async G=>{if(!x){b(!0);try{const ke=y.current;let Ee=0,Re=0,ze=null;for(const Xe of ke){const Ne=await tr(Xe.id,G,{quiet:!0});Ne.ok?Ee+=1:(Re+=1,!ze&&Ne.error&&(ze=Ne.error))}const Se=r("subscriptions.syncAllDone",{ok:Ee,fail:Re})??`Sync: ${Ee} ok, ${Re} fail`;Re>0?a.error(Re>0&&ze?`${Se} (${ze})`:Se):a.success(Se)}finally{b(!1)}}},[x,tr,r,a]);P.useEffect(()=>{if(!d){Vt.current=qt;return}x||Vt.current!==qt&&(Vt.current=qt,Rr(!1))},[d,Rr,x,qt]);const gn=P.useMemo(()=>s==="es"?["Streaming","Software","Msica","Juegos","Productividad","Educacin","Salud","Otros"]:["Streaming","Software","Music","Games","Productivity","Education","Health","Other"],[s]),Pn=P.useMemo(()=>[{value:"monthly",label:r("subscriptions.periodMonthly")??"Mensual"},{value:"quarterly",label:r("subscriptions.periodQuarterly")??"Trimestral"},{value:"semiannual",label:r("subscriptions.periodSemiannual")??"Semestral"},{value:"annual",label:r("subscriptions.periodAnnual")??"Anual"}],[r]),nr=P.useMemo(()=>({monthly:r("subscriptions.periodMonthly")??"Mensual",quarterly:r("subscriptions.periodQuarterly")??"Trimestral",semiannual:r("subscriptions.periodSemiannual")??"Semestral",annual:r("subscriptions.periodAnnual")??"Anual"}),[r]),rr=P.useMemo(()=>{const G=new Set;for(const ke of t.subscriptions){const Ee=String(ke.currency||"").trim().toUpperCase();Ee&&G.add(Ee)}return G.add(c),Array.from(G).sort((ke,Ee)=>ke.localeCompare(Ee))},[c,t.subscriptions]),Et=P.useMemo(()=>{const G=Number(t.settings.notifyDaysBefore);return Number.isFinite(G)?Math.max(0,Math.min(30,Math.floor(G))):2},[t.settings.notifyDaysBefore]),Rt=P.useMemo(()=>{const G=new Date,ke=new Date(G);return ke.setDate(ke.getDate()+Et),t.subscriptions.map(Ee=>{const Re=xl(Ee.startDate,Ee.period,G),ze=(Ee.currency||"USD").toUpperCase(),Se=Sr(nE(Ee),ze,c),Xe=Re.getTime()<=ke.getTime();return{...Ee,rawCurrency:ze,nextRenewal:Re,dueSoon:Xe,monthlyEqBase:Se}})},[c,Et,t.subscriptions]),wt=P.useMemo(()=>{const G=t.subscriptions.length;if(G===0)return{count:G,avgMonthlyBase:0,highest:null,dueSoonCount:0,nextDueDate:null,topCategory:null};const ke=new Map;let Ee=0,Re=null,ze=0,Se=null;for(const Ne of Rt){Ee+=Ne.monthlyEqBase,(!Re||Ne.monthlyEqBase>Re.valueBase)&&(Re={name:Ne.name,valueBase:Ne.monthlyEqBase}),Ne.dueSoon&&(ze+=1),(!Se||Ne.nextRenewal.getTime()<Se.getTime())&&(Se=Ne.nextRenewal);const it=String(Ne.category||"").trim()||(r("common.uncategorized")??"Sin categora");ke.set(it,(ke.get(it)??0)+Ne.monthlyEqBase)}let Xe=null;if(Ee>0&&ke.size>0){let Ne=null;for(const[it,Dn]of ke.entries())(!Ne||Dn>Ne.value)&&(Ne={label:it,value:Dn});Ne&&(Xe={label:Ne.label,percent:Math.round(Ne.value/Ee*100)})}return{count:G,avgMonthlyBase:Ee/G,highest:Re,dueSoonCount:ze,nextDueDate:Se,topCategory:Xe}},[Rt,t.subscriptions.length,r]),ir=P.useCallback(()=>{W(""),q(""),ae(""),ne(""),de(""),N("")},[]),Pr=P.useMemo(()=>!!(L.trim()||A.trim()||X.trim()||Q||K.trim()||ce.trim()),[A,X,ce,K,Q,L]),ui=P.useMemo(()=>{const G=L.trim().toLowerCase(),ke=K.trim()?Number(K):null,Ee=ce.trim()?Number(ce):null;return Rt.filter(Re=>A.trim()&&String(Re.category||"").trim().toLowerCase()!==A.trim().toLowerCase()||X.trim()&&Re.rawCurrency!==X.trim().toUpperCase()||Q&&Re.period!==Q||ke!==null&&Number.isFinite(ke)&&Re.price<ke||Ee!==null&&Number.isFinite(Ee)&&Re.price>Ee?!1:G?[Re.name,Re.category,Re.rawCurrency,Re.period,nr[Re.period],String(Re.price),Kn(Re.price,Re.rawCurrency)].some(Se=>String(Se||"").toLowerCase().includes(G)):!0)},[Rt,A,X,ce,K,Q,nr,L]),Kt=P.useCallback(G=>{re(ke=>ke.column===G?{column:G,direction:ke.direction==="asc"?"desc":"asc"}:{column:G,direction:"asc"})},[]),sr=P.useMemo(()=>{const G=new Intl.Collator(void 0,{sensitivity:"base"}),ke=Y.direction==="asc"?1:-1,Ee=ze=>{const Se=Date.parse(`${String(ze||"").slice(0,10)}T00:00:00`);return Number.isFinite(Se)?Se:0},Re=(ze,Se)=>{switch(Y.column){case"name":return G.compare(ze.name,Se.name)*ke;case"price":return(ze.price-Se.price)*ke;case"startDate":return(Ee(ze.startDate)-Ee(Se.startDate))*ke;case"category":{const Xe=String(ze.category||"").trim()||(r("common.uncategorized")??"Sin categora"),Ne=String(Se.category||"").trim()||(r("common.uncategorized")??"Sin categora");return G.compare(Xe,Ne)*ke}default:return(ze.nextRenewal.getTime()-Se.nextRenewal.getTime())*ke}};return[...ui].sort(Re)},[ui,Y.column,Y.direction]),yn=({column:G,label:ke})=>{const Ee=Y.column===G;return k.jsxs("button",{type:"button",onClick:()=>Kt(G),"aria-pressed":Ee,className:"group inline-flex w-full items-center justify-center gap-1.5 rounded-md px-2 py-1 text-center text-xs font-bold uppercase tracking-wide hover:bg-slate-100 dark:hover:bg-slate-800 "+(Ee?"bg-indigo-50 text-indigo-950 ring-1 ring-inset ring-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-100 dark:ring-indigo-700":"text-slate-700 dark:text-slate-200"),children:[k.jsx("span",{className:"truncate",children:ke}),k.jsx("svg",{className:`h-3.5 w-3.5 flex-none transition-transform ${Ee?"opacity-100":"opacity-40 group-hover:opacity-70"} ${Ee&&Y.direction==="desc"?"rotate-180":""}`,viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:k.jsx("path",{d:"M3 10l3-5 3 5"})})]})};return P.useEffect(()=>{if(!C)return;const G=window.setTimeout(()=>{M.current?.focus()},0),ke=Ee=>{Ee.key==="Escape"&&Mt()};return window.addEventListener("keydown",ke),()=>{window.clearTimeout(G),window.removeEventListener("keydown",ke)}},[C]),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("subscriptions.listTitle")??"Listado"}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:r("subscriptions.subtitle")??""})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(eE,{items:t.subscriptions,onImport:e}),k.jsx("button",{type:"button",className:"rounded-md bg-sky-600 px-3 py-2 text-sm font-semibold text-white hover:bg-sky-500 disabled:opacity-60",disabled:t.subscriptions.length===0||x,onClick:()=>Rr(!0),title:r("subscriptions.syncAll")??"Sincronizar todas",children:x?r("subscriptions.syncing")??"Sincronizando":r("subscriptions.syncAll")??"Sync todas"}),k.jsx("button",{type:"button",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500",onClick:At,children:r("subscriptions.addSubscription")??"Aadir suscripcin"})]})]}),k.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex items-end justify-between gap-3",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsTitle")??"Resumen"}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:r("subscriptions.insightsHint",{currency:c})??""})]}),k.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:r("subscriptions.insightsDueWindow",{days:Et})??""})]}),t.subscriptions.length===0?k.jsx("div",{className:"mt-3 text-sm text-slate-500",children:r("subscriptions.noSubscriptions")??"No hay suscripciones an."}):k.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[k.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsCount")??"Suscripciones"}),k.jsx("div",{className:"mt-1 text-2xl font-black text-slate-900 dark:text-white",children:wt.count})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[k.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsAvgMonthly")??"Media mensual"}),k.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:Kn(wt.avgMonthlyBase,c)}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:r("subscriptions.insightsAvgMonthlyHelper",{currency:c})??""})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[k.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsUpcoming")??"Prximas"}),k.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:r("subscriptions.insightsUpcomingValue",{count:wt.dueSoonCount})??String(wt.dueSoonCount)}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:wt.nextDueDate?r("subscriptions.insightsUpcomingHelper",{date:wt.nextDueDate.toLocaleDateString(Ju(s))})??"":r("common.none")??""})]}),k.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[k.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsTopCategory")??"Top categora"}),k.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:wt.topCategory?wt.topCategory.label:r("common.none")??""}),k.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:wt.topCategory?r("subscriptions.insightsTopCategoryHelper",{percent:wt.topCategory.percent})??"":""})]})]})]}),k.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[k.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[k.jsxs("div",{className:"relative w-full",children:[k.jsx("svg",{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",children:k.jsx("path",{d:"M8.5 3a5.5 5.5 0 014.33 9.02l3.58 3.58-1.06 1.06-3.58-3.58A5.5 5.5 0 118.5 3zm0 1.5a4 4 0 100 8 4 4 0 000-8z",fill:"currentColor"})}),k.jsx("input",{type:"search",value:L,onChange:G=>N(G.target.value),placeholder:r("subscriptions.searchPlaceholder")??"Buscar","aria-label":r("subscriptions.searchPlaceholder")??"Buscar",className:"w-full rounded-md border border-slate-300 bg-white py-2 pl-9 pr-3 text-sm dark:border-slate-700 dark:bg-slate-950",autoComplete:"off"})]}),k.jsx("button",{type:"button",className:`rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800 ${j?"bg-slate-100 dark:bg-slate-800":""}`,onClick:()=>E(G=>!G),"aria-pressed":j,children:r("subscriptions.filtersToggle")??"Filtros"}),Pr?k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:ir,children:r("common.clear")??"Limpiar"}):null]}),k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("subscriptions.resultsCount",{count:sr.length})??`${sr.length}`})]}),j?k.jsx("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:k.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterCategory")??"Categora"}),k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:A,onChange:G=>W(G.target.value),children:[k.jsx("option",{value:"",children:r("common.none")??""}),Array.from(new Set(Rt.map(G=>String(G.category||"").trim()).filter(Boolean))).sort((G,ke)=>G.localeCompare(ke)).map(G=>k.jsx("option",{value:G,children:G},G))]})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterCurrency")??"Moneda"}),k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:X,onChange:G=>q(G.target.value),children:[k.jsx("option",{value:"",children:r("common.none")??""}),rr.map(G=>k.jsx("option",{value:G,children:G},G))]})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterPeriod")??"Periodo"}),k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Q,onChange:G=>ae(G.target.value),children:[k.jsx("option",{value:"",children:r("common.none")??""}),Pn.map(G=>k.jsx("option",{value:G.value,children:G.label},G.value))]})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterMinPrice")??"Precio mn."}),k.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:K,onChange:G=>ne(G.target.value)})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterMaxPrice")??"Precio mx."}),k.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:ce,onChange:G=>de(G.target.value)})]})]})}):null,k.jsx("div",{className:"mt-3 overflow-x-auto",children:k.jsxs("table",{className:"w-full min-w-[700px] table-fixed border-separate border-spacing-0 text-xs",children:[k.jsx("thead",{children:k.jsxs("tr",{className:"text-center",children:[k.jsx("th",{className:"sticky top-0 z-10 w-32 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(yn,{column:"name",label:r("subscriptions.columnName")??"Nombre"})}),k.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(yn,{column:"price",label:r("subscriptions.columnPrice")??"Importe"})}),k.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(yn,{column:"startDate",label:r("subscriptions.columnStart")??"Inicio"})}),k.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(yn,{column:"nextRenewal",label:r("subscriptions.columnNext")??"Prximo"})}),k.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:k.jsx(yn,{column:"category",label:r("subscriptions.columnCategory")??"Categora"})}),k.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:k.jsx("span",{className:"block w-full text-center text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-200",children:r("subscriptions.columnActions")??"Acciones"})})]})}),k.jsx("tbody",{children:sr.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:6,className:"py-6 text-center text-sm text-slate-500",children:Pr?r("subscriptions.emptyFiltered")??"Sin resultados con los filtros actuales.":r("subscriptions.noSubscriptions")??"No hay suscripciones an."})}):sr.map(G=>{const ke=l==="convertToBase"?c:G.rawCurrency,Ee=l==="convertToBase"?Sr(G.price,G.rawCurrency,c):G.price,Re=String(G.category||"").trim();return k.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 dark:border-slate-800/60 dark:hover:bg-slate-800/30",children:[k.jsxs("td",{className:"px-2 py-1.5 text-center",children:[k.jsxs("div",{className:"flex items-center justify-center gap-2",children:[k.jsx("div",{className:"min-w-0 truncate font-semibold text-slate-900 dark:text-white",children:G.name}),G.dueSoon?k.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:r("subscriptions.dueSoon")??"Pronto"}):null]}),k.jsx("div",{className:"mt-0.5 whitespace-nowrap text-center text-[11px] text-slate-500 dark:text-slate-400",children:nr[G.period]})]}),k.jsx("td",{className:"px-2 py-1.5 text-center font-semibold text-slate-900 dark:text-white",children:Kn(Ee,ke)}),k.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:new Date(G.startDate).toLocaleDateString(Ju(s))}),k.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:G.nextRenewal.toLocaleDateString(Ju(s))}),k.jsx("td",{className:"px-2 py-1.5 truncate text-center text-slate-600 dark:text-slate-300",children:Re||(r("common.uncategorized")??"Sin categora")}),k.jsx("td",{className:"py-1.5",children:k.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[k.jsxs("button",{type:"button","aria-label":r("common.edit")??"Editar",title:r("common.edit")??"Editar",className:"inline-flex items-center justify-center rounded-md bg-amber-600/80 px-2 py-1 text-[11px] font-semibold text-white hover:bg-amber-500/80",onClick:()=>In(G),children:[k.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[k.jsx("path",{d:"M12 20h9"}),k.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L8 18l-4 1 1-4 11.5-11.5z"})]}),k.jsx("span",{className:"sr-only",children:r("common.edit")??"Editar"})]}),k.jsxs("button",{type:"button","aria-label":r("common.delete")??"Eliminar",title:r("common.delete")??"Eliminar",className:"inline-flex items-center justify-center rounded-md bg-rose-600 px-2 py-1 text-[11px] font-semibold text-white hover:bg-rose-500",onClick:()=>Er(G.id),children:[k.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[k.jsx("path",{d:"M3 6h18"}),k.jsx("path",{d:"M8 6V4h8v2"}),k.jsx("path",{d:"M6 6l1 14h10l1-14"}),k.jsx("path",{d:"M10 11v6"}),k.jsx("path",{d:"M14 11v6"})]}),k.jsx("span",{className:"sr-only",children:r("common.delete")??"Eliminar"})]})]})})]},G.id)})})]})})]}),C?k.jsxs("div",{className:"fixed inset-0 z-50",children:[k.jsx("div",{className:"absolute inset-0 bg-slate-950/50",onClick:Mt}),k.jsx("div",{className:"relative mx-auto w-full max-w-3xl px-4 py-6",children:k.jsxs("div",{role:"dialog","aria-modal":"true",className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:J?r("subscriptions.editSubscription")??"Editar suscripcin":r("subscriptions.addSubscriptionTitle")??"Aadir suscripcin"}),k.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.name")??"Nombre"}),k.jsx("input",{ref:M,className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:z,onChange:G=>V(G.target.value)})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.category")??"Categora"}),k.jsx("input",{list:"subly-categories",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:ue,onChange:G=>le(G.target.value),placeholder:r("subscriptions.categoryPlaceholder")??"Ej: Streaming"}),k.jsx("datalist",{id:"subly-categories",children:gn.map(G=>k.jsx("option",{value:G},G))})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.amount")??"Importe"}),k.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:ge,onChange:G=>_e(G.target.value)})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.currency")??"Moneda"}),k.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Oe,onChange:G=>Le(G.target.value),children:Ii.map(G=>k.jsxs("option",{value:G.code,children:[G.code," (",G.symbol,")  ",G.names[s]]},G.code))})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.period")??"Periodo"}),k.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:$e,onChange:G=>ht(G.target.value),children:Pn.map(G=>k.jsx("option",{value:G.value,children:G.label},G.value))})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.startDate")??"Fecha inicio"}),k.jsx("input",{type:"date",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Ht,onChange:G=>He(G.target.value)})]})]}),k.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[k.jsx("button",{type:"button",disabled:!Be,"aria-disabled":!Be,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500 disabled:cursor-not-allowed disabled:opacity-60",onClick:Hi,children:J?r("common.save")??"Guardar":r("common.add")??"Aadir"}),k.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:Mt,children:r("common.cancel")??"Cancelar"}),Be?null:k.jsx("div",{className:"flex items-center text-sm text-slate-600 dark:text-slate-300",children:r("subscriptions.helpIncomplete")??"Completa nombre, importe y fecha."})]})]})})]}):null]})}function iE(){const{state:t,setSettings:e}=Tl(),{t:n,language:r}=ks();function s(y){e({...t.settings,language:y})}function a(y){e({...t.settings,notificationsEnabled:y})}function l(y){const x=Number(y),b=Number.isFinite(x)?Math.max(0,Math.min(30,Math.floor(x))):0;e({...t.settings,notifyDaysBefore:b})}function c(y){e({...t.settings,currencyDisplayMode:y})}function d(y){e({...t.settings,baseCurrency:String(y||"USD").trim().toUpperCase()})}function f(y){e({...t.settings,calendarAutoSyncAll:y})}function p(y){e({...t.settings,calendarUseDedicatedCalendar:y})}return k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("settings.languageTitle")??"Idioma"}),k.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n("settings.languageDescription")??"Elige el idioma de la interfaz."}),k.jsx("div",{className:"mt-3",children:k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:r,onChange:y=>s(y.target.value),children:[k.jsx("option",{value:"es",children:n("common.language.es")??"Espaol"}),k.jsx("option",{value:"en",children:n("common.language.en")??"English"})]})})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("settings.alertsTitle")??"Alertas"}),k.jsxs("div",{className:"mt-3 flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between",children:[k.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold",children:[k.jsx("input",{type:"checkbox",checked:t.settings.notificationsEnabled,onChange:y=>a(y.target.checked),className:"h-4 w-4"}),n("settings.enableNotifications")??"Activar notificaciones"]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("settings.notifyDaysBefore")??"Avisar (das antes)"}),k.jsx("input",{type:"number",min:0,max:30,className:"w-40 rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:t.settings.notifyDaysBefore,onChange:y=>l(y.target.value),disabled:!t.settings.notificationsEnabled})]})]}),k.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n("settings.alertsHint")??"Las alertas se muestran como notificaciones del navegador."})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("settings.currencyTitle")??"Moneda"}),k.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("settings.displayAmounts")??"Mostrar importes"}),k.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:t.settings.currencyDisplayMode,onChange:y=>c(y.target.value),children:[k.jsx("option",{value:"original",children:n("settings.displayOriginal")??"Con sus monedas originales"}),k.jsx("option",{value:"convertToBase",children:n("settings.displayConvert")??"Convertir a una moneda nica"})]})]}),k.jsxs("label",{className:"text-sm",children:[k.jsx("div",{className:"mb-1 font-semibold",children:n("settings.baseCurrency")??"Moneda base"}),k.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 disabled:opacity-60 dark:border-slate-700 dark:bg-slate-950",value:t.settings.baseCurrency,onChange:y=>d(y.target.value),disabled:t.settings.currencyDisplayMode!=="convertToBase",children:Ii.map(y=>k.jsxs("option",{value:y.code,children:[y.code," (",y.symbol,")  ",y.names[r]]},y.code))})]})]}),k.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n("settings.currencyHint")??"Si eliges moneda nica, los totales y grficos se convierten a la moneda base."})]}),k.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[k.jsx("div",{className:"text-lg font-bold",children:n("settings.googleCalendarTitle")??"Google Calendar"}),k.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:n("settings.googleCalendarBody")??"Se abre en una pestaa por seguridad (Google Calendar no se puede embeber en el panel)."}),k.jsxs("div",{className:"mt-4",children:[k.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:n("settings.calendarSyncTitle")??"Sincronizacin"}),k.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm font-semibold",children:[k.jsx("input",{type:"checkbox",checked:!!t.settings.calendarUseDedicatedCalendar,onChange:y=>p(y.target.checked),className:"h-4 w-4"}),n("settings.calendarDedicatedLabel")??"Usar calendario dedicado para suscripciones"]}),k.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n("settings.calendarDedicatedHint")??"Si est activo, los eventos se publican en un calendario separado para poder filtrarlos en Google Calendar."}),k.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm font-semibold",children:[k.jsx("input",{type:"checkbox",checked:!!t.settings.calendarAutoSyncAll,onChange:y=>f(y.target.checked),className:"h-4 w-4"}),n("settings.calendarAutoSyncAllLabel")??"Auto-sync de suscripciones"]}),k.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:n("settings.calendarAutoSyncAllHint")??"Si est activo, los cambios en Suscripciones intentarn sincronizarse automticamente (si ya hay autorizacin)."})]}),k.jsx("div",{className:"mt-4",children:k.jsx("a",{className:"inline-flex rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500",href:"https://calendar.google.com/calendar/u/0/r",target:"_blank",rel:"noreferrer",children:n("settings.openGoogleCalendar")??"Abrir Google Calendar"})})]})]})}const sE=[{path:"/",element:k.jsx(O_,{}),children:[{path:"/",element:k.jsx(Bg,{})},{path:"/dashboard",element:k.jsx(Bg,{})},{path:"/subscriptions",element:k.jsx(rE,{})},{path:"/settings",element:k.jsx(iE,{})}]}],oE=U1(sE);function aE(){const{t}=ks();return k.jsx("div",{className:"p-4 text-sm",children:t("common.loading")??"Loading"})}Mx.createRoot(document.getElementById("root")).render(k.jsx(Yg.StrictMode,{children:k.jsx(T_,{children:k.jsx(XM,{children:k.jsx(P.Suspense,{fallback:k.jsx(aE,{}),children:k.jsx(Z1,{router:oE})})})})}));
