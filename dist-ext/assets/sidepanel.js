function kk(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function sb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xd={exports:{}},Yo={},qd={exports:{}},Ue={};var l0;function _k(){if(l0)return Ue;l0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function C(O,K,de){this.props=O,this.context=K,this.refs=S,this.updater=de||v}C.prototype.isReactComponent={},C.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=C.prototype;function P(O,K,de){this.props=O,this.context=K,this.refs=S,this.updater=de||v}var E=P.prototype=new k;E.constructor=P,b(E,C.prototype),E.isPureReactComponent=!0;var N=Array.isArray,D=Object.prototype.hasOwnProperty,j={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(O,K,de){var ae,he={},ge=null,Le=null;if(K!=null)for(ae in K.ref!==void 0&&(Le=K.ref),K.key!==void 0&&(ge=""+K.key),K)D.call(K,ae)&&!T.hasOwnProperty(ae)&&(he[ae]=K[ae]);var Ne=arguments.length-2;if(Ne===1)he.children=de;else if(1<Ne){for(var Oe=Array(Ne),yt=0;yt<Ne;yt++)Oe[yt]=arguments[yt+2];he.children=Oe}if(O&&O.defaultProps)for(ae in Ne=O.defaultProps,Ne)he[ae]===void 0&&(he[ae]=Ne[ae]);return{$$typeof:t,type:O,key:ge,ref:Le,props:he,_owner:j.current}}function V(O,K){return{$$typeof:t,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function G(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function q(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return K[de]})}var B=/\/+/g;function ee(O,K){return typeof O=="object"&&O!==null&&O.key!=null?q(""+O.key):K.toString(36)}function Q(O,K,de,ae,he){var ge=typeof O;(ge==="undefined"||ge==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(ge){case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case t:case e:Le=!0}}if(Le)return Le=O,he=he(Le),O=ae===""?"."+ee(Le,0):ae,N(he)?(de="",O!=null&&(de=O.replace(B,"$&/")+"/"),Q(he,K,de,"",function(yt){return yt})):he!=null&&(G(he)&&(he=V(he,de+(!he.key||Le&&Le.key===he.key?"":(""+he.key).replace(B,"$&/")+"/")+O)),K.push(he)),1;if(Le=0,ae=ae===""?".":ae+":",N(O))for(var Ne=0;Ne<O.length;Ne++){ge=O[Ne];var Oe=ae+ee(ge,Ne);Le+=Q(ge,K,de,Oe,he)}else if(Oe=g(O),typeof Oe=="function")for(O=Oe.call(O),Ne=0;!(ge=O.next()).done;)ge=ge.value,Oe=ae+ee(ge,Ne++),Le+=Q(ge,K,de,Oe,he);else if(ge==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Le}function ne(O,K,de){if(O==null)return O;var ae=[],he=0;return Q(O,ae,"","",function(ge){return K.call(de,ge,he++)}),ae}function le(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var te={current:null},H={transition:null},Z={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:H,ReactCurrentOwner:j};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:ne,forEach:function(O,K,de){ne(O,function(){K.apply(this,arguments)},de)},count:function(O){var K=0;return ne(O,function(){K++}),K},toArray:function(O){return ne(O,function(K){return K})||[]},only:function(O){if(!G(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ue.Component=C,Ue.Fragment=n,Ue.Profiler=r,Ue.PureComponent=P,Ue.StrictMode=i,Ue.Suspense=u,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ue.act=J,Ue.cloneElement=function(O,K,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ae=b({},O.props),he=O.key,ge=O.ref,Le=O._owner;if(K!=null){if(K.ref!==void 0&&(ge=K.ref,Le=j.current),K.key!==void 0&&(he=""+K.key),O.type&&O.type.defaultProps)var Ne=O.type.defaultProps;for(Oe in K)D.call(K,Oe)&&!T.hasOwnProperty(Oe)&&(ae[Oe]=K[Oe]===void 0&&Ne!==void 0?Ne[Oe]:K[Oe])}var Oe=arguments.length-2;if(Oe===1)ae.children=de;else if(1<Oe){Ne=Array(Oe);for(var yt=0;yt<Oe;yt++)Ne[yt]=arguments[yt+2];ae.children=Ne}return{$$typeof:t,type:O.type,key:he,ref:ge,props:ae,_owner:Le}},Ue.createContext=function(O){return O={$$typeof:a,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},Ue.createElement=A,Ue.createFactory=function(O){var K=A.bind(null,O);return K.type=O,K},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(O){return{$$typeof:c,render:O}},Ue.isValidElement=G,Ue.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:le}},Ue.memo=function(O,K){return{$$typeof:h,type:O,compare:K===void 0?null:K}},Ue.startTransition=function(O){var K=H.transition;H.transition={};try{O()}finally{H.transition=K}},Ue.unstable_act=J,Ue.useCallback=function(O,K){return te.current.useCallback(O,K)},Ue.useContext=function(O){return te.current.useContext(O)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(O){return te.current.useDeferredValue(O)},Ue.useEffect=function(O,K){return te.current.useEffect(O,K)},Ue.useId=function(){return te.current.useId()},Ue.useImperativeHandle=function(O,K,de){return te.current.useImperativeHandle(O,K,de)},Ue.useInsertionEffect=function(O,K){return te.current.useInsertionEffect(O,K)},Ue.useLayoutEffect=function(O,K){return te.current.useLayoutEffect(O,K)},Ue.useMemo=function(O,K){return te.current.useMemo(O,K)},Ue.useReducer=function(O,K,de){return te.current.useReducer(O,K,de)},Ue.useRef=function(O){return te.current.useRef(O)},Ue.useState=function(O){return te.current.useState(O)},Ue.useSyncExternalStore=function(O,K,de){return te.current.useSyncExternalStore(O,K,de)},Ue.useTransition=function(){return te.current.useTransition()},Ue.version="18.3.1",Ue}var c0;function Rf(){return c0||(c0=1,qd.exports=_k()),qd.exports}var u0;function Mk(){if(u0)return Yo;u0=1;var t=Rf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,h){var f,m={},g=null,v=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)i.call(u,f)&&!o.hasOwnProperty(f)&&(m[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:e,type:c,key:g,ref:v,props:m,_owner:r.current}}return Yo.Fragment=n,Yo.jsx=a,Yo.jsxs=a,Yo}var d0;function Ek(){return d0||(d0=1,Xd.exports=Mk()),Xd.exports}var w=Ek(),M=Rf();const Af=sb(M),Tk=kk({__proto__:null,default:Af},[M]);var Jl={},Qd={exports:{}},un={},Jd={exports:{}},Zd={};var h0;function Pk(){return h0||(h0=1,(function(t){function e(H,Z){var J=H.length;H.push(Z);e:for(;0<J;){var O=J-1>>>1,K=H[O];if(0<r(K,Z))H[O]=Z,H[J]=K,J=O;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Z=H[0],J=H.pop();if(J!==Z){H[0]=J;e:for(var O=0,K=H.length,de=K>>>1;O<de;){var ae=2*(O+1)-1,he=H[ae],ge=ae+1,Le=H[ge];if(0>r(he,J))ge<K&&0>r(Le,he)?(H[O]=Le,H[ge]=J,O=ge):(H[O]=he,H[ae]=J,O=ae);else if(ge<K&&0>r(Le,J))H[O]=Le,H[ge]=J,O=ge;else break e}}return Z}function r(H,Z){var J=H.sortIndex-Z.sortIndex;return J!==0?J:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],f=1,m=null,g=3,v=!1,b=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(H){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=H)i(h),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(h)}}function N(H){if(S=!1,E(H),!b)if(n(u)!==null)b=!0,le(D);else{var Z=n(h);Z!==null&&te(N,Z.startTime-H)}}function D(H,Z){b=!1,S&&(S=!1,k(A),A=-1),v=!0;var J=g;try{for(E(Z),m=n(u);m!==null&&(!(m.expirationTime>Z)||H&&!q());){var O=m.callback;if(typeof O=="function"){m.callback=null,g=m.priorityLevel;var K=O(m.expirationTime<=Z);Z=t.unstable_now(),typeof K=="function"?m.callback=K:m===n(u)&&i(u),E(Z)}else i(u);m=n(u)}if(m!==null)var de=!0;else{var ae=n(h);ae!==null&&te(N,ae.startTime-Z),de=!1}return de}finally{m=null,g=J,v=!1}}var j=!1,T=null,A=-1,V=5,G=-1;function q(){return!(t.unstable_now()-G<V)}function B(){if(T!==null){var H=t.unstable_now();G=H;var Z=!0;try{Z=T(!0,H)}finally{Z?ee():(j=!1,T=null)}}else j=!1}var ee;if(typeof P=="function")ee=function(){P(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ne=Q.port2;Q.port1.onmessage=B,ee=function(){ne.postMessage(null)}}else ee=function(){C(B,0)};function le(H){T=H,j||(j=!0,ee())}function te(H,Z){A=C(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,le(D))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var J=g;g=Z;try{return H()}finally{g=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=g;g=H;try{return Z()}finally{g=J}},t.unstable_scheduleCallback=function(H,Z,J){var O=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?O+J:O):J=O,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,H={id:f++,callback:Z,priorityLevel:H,startTime:J,expirationTime:K,sortIndex:-1},J>O?(H.sortIndex=J,e(h,H),n(u)===null&&H===n(h)&&(S?(k(A),A=-1):S=!0,te(N,J-O))):(H.sortIndex=K,e(u,H),b||v||(b=!0,le(D))),H},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(H){var Z=g;return function(){var J=g;g=Z;try{return H.apply(this,arguments)}finally{g=J}}}})(Zd)),Zd}var f0;function Dk(){return f0||(f0=1,Jd.exports=Pk()),Jd.exports}var p0;function Rk(){if(p0)return un;p0=1;var t=Rf(),e=Dk();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(r[s]=l,s=0;s<l.length;s++)i.add(l[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(s){return u.call(m,s)?!0:u.call(f,s)?!1:h.test(s)?m[s]=!0:(f[s]=!0,!1)}function v(s,l,d,p){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,l,d,p){if(l===null||typeof l>"u"||v(s,l,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(s,l,d,p,y,x,_){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=s,this.type=l,this.sanitizeURL=x,this.removeEmptyString=_}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];C[l]=new S(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(k,P);C[l]=new S(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(k,P);C[l]=new S(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(k,P);C[l]=new S(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,l,d,p){var y=C.hasOwnProperty(l)?C[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,d,y,p)&&(d=null),p||y===null?g(l)&&(d===null?s.removeAttribute(l):s.setAttribute(l,""+d)):y.mustUseProperty?s[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,p=y.attributeNamespace,d===null?s.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,p?s.setAttributeNS(p,l,d):s.setAttribute(l,d))))}var N=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),j=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),q=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),H=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var J=Object.assign,O;function K(s){if(O===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);O=l&&l[1]||""}return`
`+O+s}var de=!1;function ae(s,l){if(!s||de)return"";de=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Y){var p=Y}Reflect.construct(s,[],l)}else{try{l.call()}catch(Y){p=Y}s.call(l.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),x=p.stack.split(`
`),_=y.length-1,L=x.length-1;1<=_&&0<=L&&y[_]!==x[L];)L--;for(;1<=_&&0<=L;_--,L--)if(y[_]!==x[L]){if(_!==1||L!==1)do if(_--,L--,0>L||y[_]!==x[L]){var F=`
`+y[_].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=_&&0<=L);break}}}finally{de=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?K(s):""}function he(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=ae(s.type,!1),s;case 11:return s=ae(s.type.render,!1),s;case 1:return s=ae(s.type,!0),s;default:return""}}function ge(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case j:return"Portal";case V:return"Profiler";case A:return"StrictMode";case ee:return"Suspense";case Q:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case q:return(s.displayName||"Context")+".Consumer";case G:return(s._context.displayName||"Context")+".Provider";case B:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ne:return l=s.displayName||null,l!==null?l:ge(s.type)||"Memo";case le:l=s._payload,s=s._init;try{return ge(s(l))}catch{}}return null}function Le(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(l);case 8:return l===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ne(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Oe(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function yt(s){var l=Oe(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),p=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,x=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return y.call(this)},set:function(_){p=""+_,x.call(this,_)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(_){p=""+_},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function qt(s){s._valueTracker||(s._valueTracker=yt(s))}function Ge(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return s&&(p=Oe(s)?s.checked?"true":"false":s.value),s=p,s!==d?(l.setValue(s),!0):!1}function Be(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Qt(s,l){var d=l.checked;return J({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Mt(s,l){var d=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;d=Ne(l.value!=null?l.value:d),s._wrapperState={initialChecked:p,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Et(s,l){l=l.checked,l!=null&&E(s,"checked",l,!1)}function Sn(s,l){Et(s,l);var d=Ne(l.value),p=l.type;if(d!=null)p==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?si(s,l.type,d):l.hasOwnProperty("defaultValue")&&si(s,l.type,Ne(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Ci(s,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,d||l===s.value||(s.value=l),s.defaultValue=l}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function si(s,l,d){(l!=="number"||Be(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Cn=Array.isArray;function kn(s,l,d,p){if(s=s.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<s.length;d++)y=l.hasOwnProperty("$"+s[d].value),s[d].selected!==y&&(s[d].selected=y),y&&p&&(s[d].defaultSelected=!0)}else{for(d=""+Ne(d),l=null,y=0;y<s.length;y++){if(s[y].value===d){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}l!==null||s[y].disabled||(l=s[y])}l!==null&&(l.selected=!0)}}function ki(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _i(s,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Cn(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}s._wrapperState={initialValue:Ne(d)}}function _n(s,l){var d=Ne(l.value),p=Ne(l.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),l.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),p!=null&&(s.defaultValue=""+p)}function oi(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Or(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mi(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Or(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var wt,Tt=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,p,y){MSApp.execUnsafeLocalFunction(function(){return s(l,d,p,y)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(wt=wt||document.createElement("div"),wt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=wt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Mn(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fr=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(s){Fr.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Gn[l]=Gn[s]})});function Ir(s,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Gn.hasOwnProperty(s)&&Gn[s]?(""+l).trim():l+"px"}function Bt(s,l){s=s.style;for(var d in l)if(l.hasOwnProperty(d)){var p=d.indexOf("--")===0,y=Ir(d,l[d],p);d==="float"&&(d="cssFloat"),p?s.setProperty(d,y):s[d]=y}}var Ss=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ei(s,l){if(l){if(Ss[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function En(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vt=null;function Ji(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yn=null,Tn=null,Pn=null;function Ti(s){if(s=Ao(s)){if(typeof Yn!="function")throw Error(n(280));var l=s.stateNode;l&&(l=fl(l),Yn(s.stateNode,s.type,l))}}function Kn(s){Tn?Pn?Pn.push(s):Pn=[s]:Tn=s}function X(){if(Tn){var s=Tn,l=Pn;if(Pn=Tn=null,Ti(s),l)for(s=0;s<l.length;s++)Ti(l[s])}}function ve(s,l){return s(l)}function Me(){}var Ee=!1;function Fe(s,l,d){if(Ee)return s(l,d);Ee=!0;try{return ve(s,l,d)}finally{Ee=!1,(Tn!==null||Pn!==null)&&(Me(),X())}}function Pe(s,l){var d=s.stateNode;if(d===null)return null;var p=fl(d);if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Xe=!1;if(c)try{var R={};Object.defineProperty(R,"passive",{get:function(){Xe=!0}}),window.addEventListener("test",R,R),window.removeEventListener("test",R,R)}catch{Xe=!1}function z(s,l,d,p,y,x,_,L,F){var Y=Array.prototype.slice.call(arguments,3);try{l.apply(d,Y)}catch(se){this.onError(se)}}var U=!1,re=null,ce=!1,Se=null,pe={onError:function(s){U=!0,re=s}};function xe(s,l,d,p,y,x,_,L,F){U=!1,re=null,z.apply(pe,arguments)}function Ce(s,l,d,p,y,x,_,L,F){if(xe.apply(this,arguments),U){if(U){var Y=re;U=!1,re=null}else throw Error(n(198));ce||(ce=!0,Se=Y)}}function be(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function De(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function ke(s){if(be(s)!==s)throw Error(n(188))}function ze(s){var l=s.alternate;if(!l){if(l=be(s),l===null)throw Error(n(188));return l!==s?null:s}for(var d=s,p=l;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if(p=y.return,p!==null){d=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return ke(y),s;if(x===p)return ke(y),l;x=x.sibling}throw Error(n(188))}if(d.return!==p.return)d=y,p=x;else{for(var _=!1,L=y.child;L;){if(L===d){_=!0,d=y,p=x;break}if(L===p){_=!0,p=y,d=x;break}L=L.sibling}if(!_){for(L=x.child;L;){if(L===d){_=!0,d=x,p=y;break}if(L===p){_=!0,p=x,d=y;break}L=L.sibling}if(!_)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:l}function Ve(s){return s=ze(s),s!==null?He(s):null}function He(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=He(s);if(l!==null)return l;s=s.sibling}return null}var it=e.unstable_scheduleCallback,ut=e.unstable_cancelCallback,qe=e.unstable_shouldYield,Jt=e.unstable_requestPaint,Je=e.unstable_now,zr=e.unstable_getCurrentPriorityLevel,Dn=e.unstable_ImmediatePriority,pn=e.unstable_UserBlockingPriority,Zi=e.unstable_NormalPriority,Br=e.unstable_LowPriority,ai=e.unstable_IdlePriority,Pi=null,Zt=null;function Ye(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Pi,s,void 0,(s.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:dt,er=Math.log,Di=Math.LN2;function dt(s){return s>>>=0,s===0?32:31-(er(s)/Di|0)|0}var Ri=64,Vr=4194304;function Ur(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Qa(s,l){var d=s.pendingLanes;if(d===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes,_=d&268435455;if(_!==0){var L=_&~y;L!==0?p=Ur(L):(x&=_,x!==0&&(p=Ur(x)))}else _=d&~y,_!==0?p=Ur(_):x!==0&&(p=Ur(x));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,x=l&-l,y>=x||y===16&&(x&4194240)!==0))return l;if((p&4)!==0&&(p|=d&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=p;0<l;)d=31-nt(l),y=1<<d,p|=s[d],l&=~y;return p}function $S(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(s,l){for(var d=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes;0<x;){var _=31-nt(x),L=1<<_,F=y[_];F===-1?((L&d)===0||(L&p)!==0)&&(y[_]=$S(L,l)):F<=l&&(s.expiredLanes|=L),x&=~L}}function gu(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function zp(){var s=Ri;return Ri<<=1,(Ri&4194240)===0&&(Ri=64),s}function yu(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function mo(s,l,d){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-nt(l),s[l]=d}function WS(s,l){var d=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<d;){var y=31-nt(d),x=1<<y;l[y]=0,p[y]=-1,s[y]=-1,d&=~x}}function vu(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var p=31-nt(d),y=1<<p;y&l|s[p]&l&&(s[p]|=l),d&=~y}}var et=0;function Bp(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Vp,xu,Up,$p,Hp,bu=!1,Ja=[],tr=null,nr=null,ir=null,go=new Map,yo=new Map,rr=[],GS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wp(s,l){switch(s){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":go.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(l.pointerId)}}function vo(s,l,d,p,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:x,targetContainers:[y]},l!==null&&(l=Ao(l),l!==null&&xu(l)),s):(s.eventSystemFlags|=p,l=s.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),s)}function YS(s,l,d,p,y){switch(l){case"focusin":return tr=vo(tr,s,l,d,p,y),!0;case"dragenter":return nr=vo(nr,s,l,d,p,y),!0;case"mouseover":return ir=vo(ir,s,l,d,p,y),!0;case"pointerover":var x=y.pointerId;return go.set(x,vo(go.get(x)||null,s,l,d,p,y)),!0;case"gotpointercapture":return x=y.pointerId,yo.set(x,vo(yo.get(x)||null,s,l,d,p,y)),!0}return!1}function Gp(s){var l=$r(s.target);if(l!==null){var d=be(l);if(d!==null){if(l=d.tag,l===13){if(l=De(d),l!==null){s.blockedOn=l,Hp(s.priority,function(){Up(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Za(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=Su(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);Vt=p,d.target.dispatchEvent(p),Vt=null}else return l=Ao(d),l!==null&&xu(l),s.blockedOn=d,!1;l.shift()}return!0}function Yp(s,l,d){Za(s)&&d.delete(l)}function KS(){bu=!1,tr!==null&&Za(tr)&&(tr=null),nr!==null&&Za(nr)&&(nr=null),ir!==null&&Za(ir)&&(ir=null),go.forEach(Yp),yo.forEach(Yp)}function xo(s,l){s.blockedOn===l&&(s.blockedOn=null,bu||(bu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,KS)))}function bo(s){function l(y){return xo(y,s)}if(0<Ja.length){xo(Ja[0],s);for(var d=1;d<Ja.length;d++){var p=Ja[d];p.blockedOn===s&&(p.blockedOn=null)}}for(tr!==null&&xo(tr,s),nr!==null&&xo(nr,s),ir!==null&&xo(ir,s),go.forEach(l),yo.forEach(l),d=0;d<rr.length;d++)p=rr[d],p.blockedOn===s&&(p.blockedOn=null);for(;0<rr.length&&(d=rr[0],d.blockedOn===null);)Gp(d),d.blockedOn===null&&rr.shift()}var Cs=N.ReactCurrentBatchConfig,el=!0;function XS(s,l,d,p){var y=et,x=Cs.transition;Cs.transition=null;try{et=1,wu(s,l,d,p)}finally{et=y,Cs.transition=x}}function qS(s,l,d,p){var y=et,x=Cs.transition;Cs.transition=null;try{et=4,wu(s,l,d,p)}finally{et=y,Cs.transition=x}}function wu(s,l,d,p){if(el){var y=Su(s,l,d,p);if(y===null)zu(s,l,p,tl,d),Wp(s,p);else if(YS(y,s,l,d,p))p.stopPropagation();else if(Wp(s,p),l&4&&-1<GS.indexOf(s)){for(;y!==null;){var x=Ao(y);if(x!==null&&Vp(x),x=Su(s,l,d,p),x===null&&zu(s,l,p,tl,d),x===y)break;y=x}y!==null&&p.stopPropagation()}else zu(s,l,p,null,d)}}var tl=null;function Su(s,l,d,p){if(tl=null,s=Ji(p),s=$r(s),s!==null)if(l=be(s),l===null)s=null;else if(d=l.tag,d===13){if(s=De(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return tl=s,null}function Kp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zr()){case Dn:return 1;case pn:return 4;case Zi:case Br:return 16;case ai:return 536870912;default:return 16}default:return 16}}var sr=null,Cu=null,nl=null;function Xp(){if(nl)return nl;var s,l=Cu,d=l.length,p,y="value"in sr?sr.value:sr.textContent,x=y.length;for(s=0;s<d&&l[s]===y[s];s++);var _=d-s;for(p=1;p<=_&&l[d-p]===y[x-p];p++);return nl=y.slice(s,1<p?1-p:void 0)}function il(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function rl(){return!0}function qp(){return!1}function mn(s){function l(d,p,y,x,_){this._reactName=d,this._targetInst=y,this.type=p,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(d=s[L],this[L]=d?d(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?rl:qp,this.isPropagationStopped=qp,this}return J(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),l}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=mn(ks),wo=J({},ks,{view:0,detail:0}),QS=mn(wo),_u,Mu,So,sl=J({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==So&&(So&&s.type==="mousemove"?(_u=s.screenX-So.screenX,Mu=s.screenY-So.screenY):Mu=_u=0,So=s),_u)},movementY:function(s){return"movementY"in s?s.movementY:Mu}}),Qp=mn(sl),JS=J({},sl,{dataTransfer:0}),ZS=mn(JS),eC=J({},wo,{relatedTarget:0}),Eu=mn(eC),tC=J({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),nC=mn(tC),iC=J({},ks,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),rC=mn(iC),sC=J({},ks,{data:0}),Jp=mn(sC),oC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cC(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=lC[s])?!!l[s]:!1}function Tu(){return cC}var uC=J({},wo,{key:function(s){if(s.key){var l=oC[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=il(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?aC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(s){return s.type==="keypress"?il(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?il(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dC=mn(uC),hC=J({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zp=mn(hC),fC=J({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),pC=mn(fC),mC=J({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),gC=mn(mC),yC=J({},sl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),vC=mn(yC),xC=[9,13,27,32],Pu=c&&"CompositionEvent"in window,Co=null;c&&"documentMode"in document&&(Co=document.documentMode);var bC=c&&"TextEvent"in window&&!Co,em=c&&(!Pu||Co&&8<Co&&11>=Co),tm=" ",nm=!1;function im(s,l){switch(s){case"keyup":return xC.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var _s=!1;function wC(s,l){switch(s){case"compositionend":return rm(l);case"keypress":return l.which!==32?null:(nm=!0,tm);case"textInput":return s=l.data,s===tm&&nm?null:s;default:return null}}function SC(s,l){if(_s)return s==="compositionend"||!Pu&&im(s,l)?(s=Xp(),nl=Cu=sr=null,_s=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return em&&l.locale!=="ko"?null:l.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!CC[s.type]:l==="textarea"}function om(s,l,d,p){Kn(p),l=ul(l,"onChange"),0<l.length&&(d=new ku("onChange","change",null,d,p),s.push({event:d,listeners:l}))}var ko=null,_o=null;function kC(s){km(s,0)}function ol(s){var l=Ds(s);if(Ge(l))return s}function _C(s,l){if(s==="change")return l}var am=!1;if(c){var Du;if(c){var Ru="oninput"in document;if(!Ru){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Ru=typeof lm.oninput=="function"}Du=Ru}else Du=!1;am=Du&&(!document.documentMode||9<document.documentMode)}function cm(){ko&&(ko.detachEvent("onpropertychange",um),_o=ko=null)}function um(s){if(s.propertyName==="value"&&ol(_o)){var l=[];om(l,_o,s,Ji(s)),Fe(kC,l)}}function MC(s,l,d){s==="focusin"?(cm(),ko=l,_o=d,ko.attachEvent("onpropertychange",um)):s==="focusout"&&cm()}function EC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ol(_o)}function TC(s,l){if(s==="click")return ol(l)}function PC(s,l){if(s==="input"||s==="change")return ol(l)}function DC(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Xn=typeof Object.is=="function"?Object.is:DC;function Mo(s,l){if(Xn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!u.call(l,y)||!Xn(s[y],l[y]))return!1}return!0}function dm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function hm(s,l){var d=dm(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=l&&p>=l)return{node:d,offset:l-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=dm(d)}}function fm(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?fm(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function pm(){for(var s=window,l=Be();l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=Be(s.document)}return l}function Au(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function RC(s){var l=pm(),d=s.focusedElem,p=s.selectionRange;if(l!==d&&d&&d.ownerDocument&&fm(d.ownerDocument.documentElement,d)){if(p!==null&&Au(d)){if(l=p.start,s=p.end,s===void 0&&(s=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(s,d.value.length);else if(s=(l=d.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var y=d.textContent.length,x=Math.min(p.start,y);p=p.end===void 0?x:Math.min(p.end,y),!s.extend&&x>p&&(y=p,p=x,x=y),y=hm(d,x);var _=hm(d,p);y&&_&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),s.removeAllRanges(),x>p?(s.addRange(l),s.extend(_.node,_.offset)):(l.setEnd(_.node,_.offset),s.addRange(l)))}}for(l=[],s=d;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)s=l[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var AC=c&&"documentMode"in document&&11>=document.documentMode,Ms=null,Nu=null,Eo=null,Lu=!1;function mm(s,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Lu||Ms==null||Ms!==Be(p)||(p=Ms,"selectionStart"in p&&Au(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Eo&&Mo(Eo,p)||(Eo=p,p=ul(Nu,"onSelect"),0<p.length&&(l=new ku("onSelect","select",null,l,d),s.push({event:l,listeners:p}),l.target=Ms)))}function al(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Es={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},ju={},gm={};c&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function ll(s){if(ju[s])return ju[s];if(!Es[s])return s;var l=Es[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in gm)return ju[s]=l[d];return s}var ym=ll("animationend"),vm=ll("animationiteration"),xm=ll("animationstart"),bm=ll("transitionend"),wm=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(s,l){wm.set(s,l),o(l,[s])}for(var Ou=0;Ou<Sm.length;Ou++){var Fu=Sm[Ou],NC=Fu.toLowerCase(),LC=Fu[0].toUpperCase()+Fu.slice(1);or(NC,"on"+LC)}or(ym,"onAnimationEnd"),or(vm,"onAnimationIteration"),or(xm,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(bm,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jC=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Cm(s,l,d){var p=s.type||"unknown-event";s.currentTarget=d,Ce(p,l,void 0,s),s.currentTarget=null}function km(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],y=p.event;p=p.listeners;e:{var x=void 0;if(l)for(var _=p.length-1;0<=_;_--){var L=p[_],F=L.instance,Y=L.currentTarget;if(L=L.listener,F!==x&&y.isPropagationStopped())break e;Cm(y,L,Y),x=F}else for(_=0;_<p.length;_++){if(L=p[_],F=L.instance,Y=L.currentTarget,L=L.listener,F!==x&&y.isPropagationStopped())break e;Cm(y,L,Y),x=F}}}if(ce)throw s=Se,ce=!1,Se=null,s}function at(s,l){var d=l[Wu];d===void 0&&(d=l[Wu]=new Set);var p=s+"__bubble";d.has(p)||(_m(l,s,2,!1),d.add(p))}function Iu(s,l,d){var p=0;l&&(p|=4),_m(d,s,p,l)}var cl="_reactListening"+Math.random().toString(36).slice(2);function Po(s){if(!s[cl]){s[cl]=!0,i.forEach(function(d){d!=="selectionchange"&&(jC.has(d)||Iu(d,!1,s),Iu(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[cl]||(l[cl]=!0,Iu("selectionchange",!1,l))}}function _m(s,l,d,p){switch(Kp(l)){case 1:var y=XS;break;case 4:y=qS;break;default:y=wu}d=y.bind(null,l,d,s),y=void 0,!Xe||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(l,d,{capture:!0,passive:y}):s.addEventListener(l,d,!0):y!==void 0?s.addEventListener(l,d,{passive:y}):s.addEventListener(l,d,!1)}function zu(s,l,d,p,y){var x=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var _=p.tag;if(_===3||_===4){var L=p.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(_===4)for(_=p.return;_!==null;){var F=_.tag;if((F===3||F===4)&&(F=_.stateNode.containerInfo,F===y||F.nodeType===8&&F.parentNode===y))return;_=_.return}for(;L!==null;){if(_=$r(L),_===null)return;if(F=_.tag,F===5||F===6){p=x=_;continue e}L=L.parentNode}}p=p.return}Fe(function(){var Y=x,se=Ji(d),oe=[];e:{var ie=wm.get(s);if(ie!==void 0){var fe=ku,we=s;switch(s){case"keypress":if(il(d)===0)break e;case"keydown":case"keyup":fe=dC;break;case"focusin":we="focus",fe=Eu;break;case"focusout":we="blur",fe=Eu;break;case"beforeblur":case"afterblur":fe=Eu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Qp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=ZS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=pC;break;case ym:case vm:case xm:fe=nC;break;case bm:fe=gC;break;case"scroll":fe=QS;break;case"wheel":fe=vC;break;case"copy":case"cut":case"paste":fe=rC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Zp}var _e=(l&4)!==0,St=!_e&&s==="scroll",$=_e?ie!==null?ie+"Capture":null:ie;_e=[];for(var I=Y,W;I!==null;){W=I;var ue=W.stateNode;if(W.tag===5&&ue!==null&&(W=ue,$!==null&&(ue=Pe(I,$),ue!=null&&_e.push(Do(I,ue,W)))),St)break;I=I.return}0<_e.length&&(ie=new fe(ie,we,null,d,se),oe.push({event:ie,listeners:_e}))}}if((l&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",ie&&d!==Vt&&(we=d.relatedTarget||d.fromElement)&&($r(we)||we[Ai]))break e;if((fe||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,fe?(we=d.relatedTarget||d.toElement,fe=Y,we=we?$r(we):null,we!==null&&(St=be(we),we!==St||we.tag!==5&&we.tag!==6)&&(we=null)):(fe=null,we=Y),fe!==we)){if(_e=Qp,ue="onMouseLeave",$="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(_e=Zp,ue="onPointerLeave",$="onPointerEnter",I="pointer"),St=fe==null?ie:Ds(fe),W=we==null?ie:Ds(we),ie=new _e(ue,I+"leave",fe,d,se),ie.target=St,ie.relatedTarget=W,ue=null,$r(se)===Y&&(_e=new _e($,I+"enter",we,d,se),_e.target=W,_e.relatedTarget=St,ue=_e),St=ue,fe&&we)t:{for(_e=fe,$=we,I=0,W=_e;W;W=Ts(W))I++;for(W=0,ue=$;ue;ue=Ts(ue))W++;for(;0<I-W;)_e=Ts(_e),I--;for(;0<W-I;)$=Ts($),W--;for(;I--;){if(_e===$||$!==null&&_e===$.alternate)break t;_e=Ts(_e),$=Ts($)}_e=null}else _e=null;fe!==null&&Mm(oe,ie,fe,_e,!1),we!==null&&St!==null&&Mm(oe,St,we,_e,!0)}}e:{if(ie=Y?Ds(Y):window,fe=ie.nodeName&&ie.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ie.type==="file")var Te=_C;else if(sm(ie))if(am)Te=PC;else{Te=EC;var Re=MC}else(fe=ie.nodeName)&&fe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Te=TC);if(Te&&(Te=Te(s,Y))){om(oe,Te,d,se);break e}Re&&Re(s,ie,Y),s==="focusout"&&(Re=ie._wrapperState)&&Re.controlled&&ie.type==="number"&&si(ie,"number",ie.value)}switch(Re=Y?Ds(Y):window,s){case"focusin":(sm(Re)||Re.contentEditable==="true")&&(Ms=Re,Nu=Y,Eo=null);break;case"focusout":Eo=Nu=Ms=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,mm(oe,d,se);break;case"selectionchange":if(AC)break;case"keydown":case"keyup":mm(oe,d,se)}var Ae;if(Pu)e:{switch(s){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else _s?im(s,d)&&(je="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(je="onCompositionStart");je&&(em&&d.locale!=="ko"&&(_s||je!=="onCompositionStart"?je==="onCompositionEnd"&&_s&&(Ae=Xp()):(sr=se,Cu="value"in sr?sr.value:sr.textContent,_s=!0)),Re=ul(Y,je),0<Re.length&&(je=new Jp(je,s,null,d,se),oe.push({event:je,listeners:Re}),Ae?je.data=Ae:(Ae=rm(d),Ae!==null&&(je.data=Ae)))),(Ae=bC?wC(s,d):SC(s,d))&&(Y=ul(Y,"onBeforeInput"),0<Y.length&&(se=new Jp("onBeforeInput","beforeinput",null,d,se),oe.push({event:se,listeners:Y}),se.data=Ae))}km(oe,l)})}function Do(s,l,d){return{instance:s,listener:l,currentTarget:d}}function ul(s,l){for(var d=l+"Capture",p=[];s!==null;){var y=s,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=Pe(s,d),x!=null&&p.unshift(Do(s,x,y)),x=Pe(s,l),x!=null&&p.push(Do(s,x,y))),s=s.return}return p}function Ts(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Mm(s,l,d,p,y){for(var x=l._reactName,_=[];d!==null&&d!==p;){var L=d,F=L.alternate,Y=L.stateNode;if(F!==null&&F===p)break;L.tag===5&&Y!==null&&(L=Y,y?(F=Pe(d,x),F!=null&&_.unshift(Do(d,F,L))):y||(F=Pe(d,x),F!=null&&_.push(Do(d,F,L)))),d=d.return}_.length!==0&&s.push({event:l,listeners:_})}var OC=/\r\n?/g,FC=/\u0000|\uFFFD/g;function Em(s){return(typeof s=="string"?s:""+s).replace(OC,`
`).replace(FC,"")}function dl(s,l,d){if(l=Em(l),Em(s)!==l&&d)throw Error(n(425))}function hl(){}var Bu=null,Vu=null;function Uu(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var $u=typeof setTimeout=="function"?setTimeout:void 0,IC=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,zC=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(s){return Tm.resolve(null).then(s).catch(BC)}:$u;function BC(s){setTimeout(function(){throw s})}function Hu(s,l){var d=l,p=0;do{var y=d.nextSibling;if(s.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(p===0){s.removeChild(y),bo(l);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=y}while(d);bo(l)}function ar(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Pm(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),li="__reactFiber$"+Ps,Ro="__reactProps$"+Ps,Ai="__reactContainer$"+Ps,Wu="__reactEvents$"+Ps,VC="__reactListeners$"+Ps,UC="__reactHandles$"+Ps;function $r(s){var l=s[li];if(l)return l;for(var d=s.parentNode;d;){if(l=d[Ai]||d[li]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=Pm(s);s!==null;){if(d=s[li])return d;s=Pm(s)}return l}s=d,d=s.parentNode}return null}function Ao(s){return s=s[li]||s[Ai],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ds(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function fl(s){return s[Ro]||null}var Gu=[],Rs=-1;function lr(s){return{current:s}}function lt(s){0>Rs||(s.current=Gu[Rs],Gu[Rs]=null,Rs--)}function ot(s,l){Rs++,Gu[Rs]=s.current,s.current=l}var cr={},Ut=lr(cr),sn=lr(!1),Hr=cr;function As(s,l){var d=s.type.contextTypes;if(!d)return cr;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in d)y[x]=l[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=y),y}function on(s){return s=s.childContextTypes,s!=null}function pl(){lt(sn),lt(Ut)}function Dm(s,l,d){if(Ut.current!==cr)throw Error(n(168));ot(Ut,l),ot(sn,d)}function Rm(s,l,d){var p=s.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(n(108,Le(s)||"Unknown",y));return J({},d,p)}function ml(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||cr,Hr=Ut.current,ot(Ut,s),ot(sn,sn.current),!0}function Am(s,l,d){var p=s.stateNode;if(!p)throw Error(n(169));d?(s=Rm(s,l,Hr),p.__reactInternalMemoizedMergedChildContext=s,lt(sn),lt(Ut),ot(Ut,s)):lt(sn),ot(sn,d)}var Ni=null,gl=!1,Yu=!1;function Nm(s){Ni===null?Ni=[s]:Ni.push(s)}function $C(s){gl=!0,Nm(s)}function ur(){if(!Yu&&Ni!==null){Yu=!0;var s=0,l=et;try{var d=Ni;for(et=1;s<d.length;s++){var p=d[s];do p=p(!0);while(p!==null)}Ni=null,gl=!1}catch(y){throw Ni!==null&&(Ni=Ni.slice(s+1)),it(Dn,ur),y}finally{et=l,Yu=!1}}return null}var Ns=[],Ls=0,yl=null,vl=0,Rn=[],An=0,Wr=null,Li=1,ji="";function Gr(s,l){Ns[Ls++]=vl,Ns[Ls++]=yl,yl=s,vl=l}function Lm(s,l,d){Rn[An++]=Li,Rn[An++]=ji,Rn[An++]=Wr,Wr=s;var p=Li;s=ji;var y=32-nt(p)-1;p&=~(1<<y),d+=1;var x=32-nt(l)+y;if(30<x){var _=y-y%5;x=(p&(1<<_)-1).toString(32),p>>=_,y-=_,Li=1<<32-nt(l)+y|d<<y|p,ji=x+s}else Li=1<<x|d<<y|p,ji=s}function Ku(s){s.return!==null&&(Gr(s,1),Lm(s,1,0))}function Xu(s){for(;s===yl;)yl=Ns[--Ls],Ns[Ls]=null,vl=Ns[--Ls],Ns[Ls]=null;for(;s===Wr;)Wr=Rn[--An],Rn[An]=null,ji=Rn[--An],Rn[An]=null,Li=Rn[--An],Rn[An]=null}var gn=null,yn=null,ht=!1,qn=null;function jm(s,l){var d=On(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=s,l=s.deletions,l===null?(s.deletions=[d],s.flags|=16):l.push(d)}function Om(s,l){switch(s.tag){case 5:var d=s.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,gn=s,yn=ar(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,gn=s,yn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Wr!==null?{id:Li,overflow:ji}:null,s.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=On(18,null,null,0),d.stateNode=l,d.return=s,s.child=d,gn=s,yn=null,!0):!1;default:return!1}}function qu(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Qu(s){if(ht){var l=yn;if(l){var d=l;if(!Om(s,l)){if(qu(s))throw Error(n(418));l=ar(d.nextSibling);var p=gn;l&&Om(s,l)?jm(p,d):(s.flags=s.flags&-4097|2,ht=!1,gn=s)}}else{if(qu(s))throw Error(n(418));s.flags=s.flags&-4097|2,ht=!1,gn=s}}}function Fm(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gn=s}function xl(s){if(s!==gn)return!1;if(!ht)return Fm(s),ht=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Uu(s.type,s.memoizedProps)),l&&(l=yn)){if(qu(s))throw Im(),Error(n(418));for(;l;)jm(s,l),l=ar(l.nextSibling)}if(Fm(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(l===0){yn=ar(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}s=s.nextSibling}yn=null}}else yn=gn?ar(s.stateNode.nextSibling):null;return!0}function Im(){for(var s=yn;s;)s=ar(s.nextSibling)}function js(){yn=gn=null,ht=!1}function Ju(s){qn===null?qn=[s]:qn.push(s)}var HC=N.ReactCurrentBatchConfig;function No(s,l,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,s));var y=p,x=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(_){var L=y.refs;_===null?delete L[x]:L[x]=_},l._stringRef=x,l)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function bl(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function zm(s){var l=s._init;return l(s._payload)}function Bm(s){function l($,I){if(s){var W=$.deletions;W===null?($.deletions=[I],$.flags|=16):W.push(I)}}function d($,I){if(!s)return null;for(;I!==null;)l($,I),I=I.sibling;return null}function p($,I){for($=new Map;I!==null;)I.key!==null?$.set(I.key,I):$.set(I.index,I),I=I.sibling;return $}function y($,I){return $=vr($,I),$.index=0,$.sibling=null,$}function x($,I,W){return $.index=W,s?(W=$.alternate,W!==null?(W=W.index,W<I?($.flags|=2,I):W):($.flags|=2,I)):($.flags|=1048576,I)}function _($){return s&&$.alternate===null&&($.flags|=2),$}function L($,I,W,ue){return I===null||I.tag!==6?(I=$d(W,$.mode,ue),I.return=$,I):(I=y(I,W),I.return=$,I)}function F($,I,W,ue){var Te=W.type;return Te===T?se($,I,W.props.children,ue,W.key):I!==null&&(I.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===le&&zm(Te)===I.type)?(ue=y(I,W.props),ue.ref=No($,I,W),ue.return=$,ue):(ue=Hl(W.type,W.key,W.props,null,$.mode,ue),ue.ref=No($,I,W),ue.return=$,ue)}function Y($,I,W,ue){return I===null||I.tag!==4||I.stateNode.containerInfo!==W.containerInfo||I.stateNode.implementation!==W.implementation?(I=Hd(W,$.mode,ue),I.return=$,I):(I=y(I,W.children||[]),I.return=$,I)}function se($,I,W,ue,Te){return I===null||I.tag!==7?(I=es(W,$.mode,ue,Te),I.return=$,I):(I=y(I,W),I.return=$,I)}function oe($,I,W){if(typeof I=="string"&&I!==""||typeof I=="number")return I=$d(""+I,$.mode,W),I.return=$,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return W=Hl(I.type,I.key,I.props,null,$.mode,W),W.ref=No($,null,I),W.return=$,W;case j:return I=Hd(I,$.mode,W),I.return=$,I;case le:var ue=I._init;return oe($,ue(I._payload),W)}if(Cn(I)||Z(I))return I=es(I,$.mode,W,null),I.return=$,I;bl($,I)}return null}function ie($,I,W,ue){var Te=I!==null?I.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Te!==null?null:L($,I,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return W.key===Te?F($,I,W,ue):null;case j:return W.key===Te?Y($,I,W,ue):null;case le:return Te=W._init,ie($,I,Te(W._payload),ue)}if(Cn(W)||Z(W))return Te!==null?null:se($,I,W,ue,null);bl($,W)}return null}function fe($,I,W,ue,Te){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return $=$.get(W)||null,L(I,$,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case D:return $=$.get(ue.key===null?W:ue.key)||null,F(I,$,ue,Te);case j:return $=$.get(ue.key===null?W:ue.key)||null,Y(I,$,ue,Te);case le:var Re=ue._init;return fe($,I,W,Re(ue._payload),Te)}if(Cn(ue)||Z(ue))return $=$.get(W)||null,se(I,$,ue,Te,null);bl(I,ue)}return null}function we($,I,W,ue){for(var Te=null,Re=null,Ae=I,je=I=0,Ot=null;Ae!==null&&je<W.length;je++){Ae.index>je?(Ot=Ae,Ae=null):Ot=Ae.sibling;var Qe=ie($,Ae,W[je],ue);if(Qe===null){Ae===null&&(Ae=Ot);break}s&&Ae&&Qe.alternate===null&&l($,Ae),I=x(Qe,I,je),Re===null?Te=Qe:Re.sibling=Qe,Re=Qe,Ae=Ot}if(je===W.length)return d($,Ae),ht&&Gr($,je),Te;if(Ae===null){for(;je<W.length;je++)Ae=oe($,W[je],ue),Ae!==null&&(I=x(Ae,I,je),Re===null?Te=Ae:Re.sibling=Ae,Re=Ae);return ht&&Gr($,je),Te}for(Ae=p($,Ae);je<W.length;je++)Ot=fe(Ae,$,je,W[je],ue),Ot!==null&&(s&&Ot.alternate!==null&&Ae.delete(Ot.key===null?je:Ot.key),I=x(Ot,I,je),Re===null?Te=Ot:Re.sibling=Ot,Re=Ot);return s&&Ae.forEach(function(xr){return l($,xr)}),ht&&Gr($,je),Te}function _e($,I,W,ue){var Te=Z(W);if(typeof Te!="function")throw Error(n(150));if(W=Te.call(W),W==null)throw Error(n(151));for(var Re=Te=null,Ae=I,je=I=0,Ot=null,Qe=W.next();Ae!==null&&!Qe.done;je++,Qe=W.next()){Ae.index>je?(Ot=Ae,Ae=null):Ot=Ae.sibling;var xr=ie($,Ae,Qe.value,ue);if(xr===null){Ae===null&&(Ae=Ot);break}s&&Ae&&xr.alternate===null&&l($,Ae),I=x(xr,I,je),Re===null?Te=xr:Re.sibling=xr,Re=xr,Ae=Ot}if(Qe.done)return d($,Ae),ht&&Gr($,je),Te;if(Ae===null){for(;!Qe.done;je++,Qe=W.next())Qe=oe($,Qe.value,ue),Qe!==null&&(I=x(Qe,I,je),Re===null?Te=Qe:Re.sibling=Qe,Re=Qe);return ht&&Gr($,je),Te}for(Ae=p($,Ae);!Qe.done;je++,Qe=W.next())Qe=fe(Ae,$,je,Qe.value,ue),Qe!==null&&(s&&Qe.alternate!==null&&Ae.delete(Qe.key===null?je:Qe.key),I=x(Qe,I,je),Re===null?Te=Qe:Re.sibling=Qe,Re=Qe);return s&&Ae.forEach(function(Ck){return l($,Ck)}),ht&&Gr($,je),Te}function St($,I,W,ue){if(typeof W=="object"&&W!==null&&W.type===T&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case D:e:{for(var Te=W.key,Re=I;Re!==null;){if(Re.key===Te){if(Te=W.type,Te===T){if(Re.tag===7){d($,Re.sibling),I=y(Re,W.props.children),I.return=$,$=I;break e}}else if(Re.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===le&&zm(Te)===Re.type){d($,Re.sibling),I=y(Re,W.props),I.ref=No($,Re,W),I.return=$,$=I;break e}d($,Re);break}else l($,Re);Re=Re.sibling}W.type===T?(I=es(W.props.children,$.mode,ue,W.key),I.return=$,$=I):(ue=Hl(W.type,W.key,W.props,null,$.mode,ue),ue.ref=No($,I,W),ue.return=$,$=ue)}return _($);case j:e:{for(Re=W.key;I!==null;){if(I.key===Re)if(I.tag===4&&I.stateNode.containerInfo===W.containerInfo&&I.stateNode.implementation===W.implementation){d($,I.sibling),I=y(I,W.children||[]),I.return=$,$=I;break e}else{d($,I);break}else l($,I);I=I.sibling}I=Hd(W,$.mode,ue),I.return=$,$=I}return _($);case le:return Re=W._init,St($,I,Re(W._payload),ue)}if(Cn(W))return we($,I,W,ue);if(Z(W))return _e($,I,W,ue);bl($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,I!==null&&I.tag===6?(d($,I.sibling),I=y(I,W),I.return=$,$=I):(d($,I),I=$d(W,$.mode,ue),I.return=$,$=I),_($)):d($,I)}return St}var Os=Bm(!0),Vm=Bm(!1),wl=lr(null),Sl=null,Fs=null,Zu=null;function ed(){Zu=Fs=Sl=null}function td(s){var l=wl.current;lt(wl),s._currentValue=l}function nd(s,l,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),s===d)break;s=s.return}}function Is(s,l){Sl=s,Zu=Fs=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(an=!0),s.firstContext=null)}function Nn(s){var l=s._currentValue;if(Zu!==s)if(s={context:s,memoizedValue:l,next:null},Fs===null){if(Sl===null)throw Error(n(308));Fs=s,Sl.dependencies={lanes:0,firstContext:s}}else Fs=Fs.next=s;return l}var Yr=null;function id(s){Yr===null?Yr=[s]:Yr.push(s)}function Um(s,l,d,p){var y=l.interleaved;return y===null?(d.next=d,id(l)):(d.next=y.next,y.next=d),l.interleaved=d,Oi(s,p)}function Oi(s,l){s.lanes|=l;var d=s.alternate;for(d!==null&&(d.lanes|=l),d=s,s=s.return;s!==null;)s.childLanes|=l,d=s.alternate,d!==null&&(d.childLanes|=l),d=s,s=s.return;return d.tag===3?d.stateNode:null}var dr=!1;function rd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Fi(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function hr(s,l,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ke&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,Oi(s,d)}return y=p.interleaved,y===null?(l.next=l,id(p)):(l.next=y.next,y.next=l),p.interleaved=l,Oi(s,d)}function Cl(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var p=l.lanes;p&=s.pendingLanes,d|=p,l.lanes=d,vu(s,d)}}function Hm(s,l){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var y=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var _={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};x===null?y=x=_:x=x.next=_,d=d.next}while(d!==null);x===null?y=x=l:x=x.next=l}else y=x=l;d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}function kl(s,l,d,p){var y=s.updateQueue;dr=!1;var x=y.firstBaseUpdate,_=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var F=L,Y=F.next;F.next=null,_===null?x=Y:_.next=Y,_=F;var se=s.alternate;se!==null&&(se=se.updateQueue,L=se.lastBaseUpdate,L!==_&&(L===null?se.firstBaseUpdate=Y:L.next=Y,se.lastBaseUpdate=F))}if(x!==null){var oe=y.baseState;_=0,se=Y=F=null,L=x;do{var ie=L.lane,fe=L.eventTime;if((p&ie)===ie){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var we=s,_e=L;switch(ie=l,fe=d,_e.tag){case 1:if(we=_e.payload,typeof we=="function"){oe=we.call(fe,oe,ie);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,ie=typeof we=="function"?we.call(fe,oe,ie):we,ie==null)break e;oe=J({},oe,ie);break e;case 2:dr=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,ie=y.effects,ie===null?y.effects=[L]:ie.push(L))}else fe={eventTime:fe,lane:ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},se===null?(Y=se=fe,F=oe):se=se.next=fe,_|=ie;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(se===null&&(F=oe),y.baseState=F,y.firstBaseUpdate=Y,y.lastBaseUpdate=se,l=y.shared.interleaved,l!==null){y=l;do _|=y.lane,y=y.next;while(y!==l)}else x===null&&(y.shared.lanes=0);qr|=_,s.lanes=_,s.memoizedState=oe}}function Wm(s,l,d){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var p=s[l],y=p.callback;if(y!==null){if(p.callback=null,p=d,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Lo={},ci=lr(Lo),jo=lr(Lo),Oo=lr(Lo);function Kr(s){if(s===Lo)throw Error(n(174));return s}function sd(s,l){switch(ot(Oo,l),ot(jo,s),ot(ci,Lo),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Mi(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Mi(l,s)}lt(ci),ot(ci,l)}function zs(){lt(ci),lt(jo),lt(Oo)}function Gm(s){Kr(Oo.current);var l=Kr(ci.current),d=Mi(l,s.type);l!==d&&(ot(jo,s),ot(ci,d))}function od(s){jo.current===s&&(lt(ci),lt(jo))}var ft=lr(0);function _l(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ad=[];function ld(){for(var s=0;s<ad.length;s++)ad[s]._workInProgressVersionPrimary=null;ad.length=0}var Ml=N.ReactCurrentDispatcher,cd=N.ReactCurrentBatchConfig,Xr=0,pt=null,Pt=null,Lt=null,El=!1,Fo=!1,Io=0,WC=0;function $t(){throw Error(n(321))}function ud(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!Xn(s[d],l[d]))return!1;return!0}function dd(s,l,d,p,y,x){if(Xr=x,pt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Ml.current=s===null||s.memoizedState===null?XC:qC,s=d(p,y),Fo){x=0;do{if(Fo=!1,Io=0,25<=x)throw Error(n(301));x+=1,Lt=Pt=null,l.updateQueue=null,Ml.current=QC,s=d(p,y)}while(Fo)}if(Ml.current=Dl,l=Pt!==null&&Pt.next!==null,Xr=0,Lt=Pt=pt=null,El=!1,l)throw Error(n(300));return s}function hd(){var s=Io!==0;return Io=0,s}function ui(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?pt.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Ln(){if(Pt===null){var s=pt.alternate;s=s!==null?s.memoizedState:null}else s=Pt.next;var l=Lt===null?pt.memoizedState:Lt.next;if(l!==null)Lt=l,Pt=s;else{if(s===null)throw Error(n(310));Pt=s,s={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Lt===null?pt.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function zo(s,l){return typeof l=="function"?l(s):l}function fd(s){var l=Ln(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=Pt,y=p.baseQueue,x=d.pending;if(x!==null){if(y!==null){var _=y.next;y.next=x.next,x.next=_}p.baseQueue=y=x,d.pending=null}if(y!==null){x=y.next,p=p.baseState;var L=_=null,F=null,Y=x;do{var se=Y.lane;if((Xr&se)===se)F!==null&&(F=F.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var oe={lane:se,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};F===null?(L=F=oe,_=p):F=F.next=oe,pt.lanes|=se,qr|=se}Y=Y.next}while(Y!==null&&Y!==x);F===null?_=p:F.next=L,Xn(p,l.memoizedState)||(an=!0),l.memoizedState=p,l.baseState=_,l.baseQueue=F,d.lastRenderedState=p}if(s=d.interleaved,s!==null){y=s;do x=y.lane,pt.lanes|=x,qr|=x,y=y.next;while(y!==s)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function pd(s){var l=Ln(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=d.dispatch,y=d.pending,x=l.memoizedState;if(y!==null){d.pending=null;var _=y=y.next;do x=s(x,_.action),_=_.next;while(_!==y);Xn(x,l.memoizedState)||(an=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,p]}function Ym(){}function Km(s,l){var d=pt,p=Ln(),y=l(),x=!Xn(p.memoizedState,y);if(x&&(p.memoizedState=y,an=!0),p=p.queue,md(Qm.bind(null,d,p,s),[s]),p.getSnapshot!==l||x||Lt!==null&&Lt.memoizedState.tag&1){if(d.flags|=2048,Bo(9,qm.bind(null,d,p,y,l),void 0,null),jt===null)throw Error(n(349));(Xr&30)!==0||Xm(d,l,y)}return y}function Xm(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=pt.updateQueue,l===null?(l={lastEffect:null,stores:null},pt.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function qm(s,l,d,p){l.value=d,l.getSnapshot=p,Jm(l)&&Zm(s)}function Qm(s,l,d){return d(function(){Jm(l)&&Zm(s)})}function Jm(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!Xn(s,d)}catch{return!0}}function Zm(s){var l=Oi(s,1);l!==null&&ei(l,s,1,-1)}function eg(s){var l=ui();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:s},l.queue=s,s=s.dispatch=KC.bind(null,pt,s),[l.memoizedState,s]}function Bo(s,l,d,p){return s={tag:s,create:l,destroy:d,deps:p,next:null},l=pt.updateQueue,l===null?(l={lastEffect:null,stores:null},pt.updateQueue=l,l.lastEffect=s.next=s):(d=l.lastEffect,d===null?l.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,l.lastEffect=s)),s}function tg(){return Ln().memoizedState}function Tl(s,l,d,p){var y=ui();pt.flags|=s,y.memoizedState=Bo(1|l,d,void 0,p===void 0?null:p)}function Pl(s,l,d,p){var y=Ln();p=p===void 0?null:p;var x=void 0;if(Pt!==null){var _=Pt.memoizedState;if(x=_.destroy,p!==null&&ud(p,_.deps)){y.memoizedState=Bo(l,d,x,p);return}}pt.flags|=s,y.memoizedState=Bo(1|l,d,x,p)}function ng(s,l){return Tl(8390656,8,s,l)}function md(s,l){return Pl(2048,8,s,l)}function ig(s,l){return Pl(4,2,s,l)}function rg(s,l){return Pl(4,4,s,l)}function sg(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function og(s,l,d){return d=d!=null?d.concat([s]):null,Pl(4,4,sg.bind(null,l,s),d)}function gd(){}function ag(s,l){var d=Ln();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&ud(l,p[1])?p[0]:(d.memoizedState=[s,l],s)}function lg(s,l){var d=Ln();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&ud(l,p[1])?p[0]:(s=s(),d.memoizedState=[s,l],s)}function cg(s,l,d){return(Xr&21)===0?(s.baseState&&(s.baseState=!1,an=!0),s.memoizedState=d):(Xn(d,l)||(d=zp(),pt.lanes|=d,qr|=d,s.baseState=!0),l)}function GC(s,l){var d=et;et=d!==0&&4>d?d:4,s(!0);var p=cd.transition;cd.transition={};try{s(!1),l()}finally{et=d,cd.transition=p}}function ug(){return Ln().memoizedState}function YC(s,l,d){var p=gr(s);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},dg(s))hg(l,d);else if(d=Um(s,l,d,p),d!==null){var y=tn();ei(d,s,p,y),fg(d,l,p)}}function KC(s,l,d){var p=gr(s),y={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(dg(s))hg(l,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var _=l.lastRenderedState,L=x(_,d);if(y.hasEagerState=!0,y.eagerState=L,Xn(L,_)){var F=l.interleaved;F===null?(y.next=y,id(l)):(y.next=F.next,F.next=y),l.interleaved=y;return}}catch{}d=Um(s,l,y,p),d!==null&&(y=tn(),ei(d,s,p,y),fg(d,l,p))}}function dg(s){var l=s.alternate;return s===pt||l!==null&&l===pt}function hg(s,l){Fo=El=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function fg(s,l,d){if((d&4194240)!==0){var p=l.lanes;p&=s.pendingLanes,d|=p,l.lanes=d,vu(s,d)}}var Dl={readContext:Nn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},XC={readContext:Nn,useCallback:function(s,l){return ui().memoizedState=[s,l===void 0?null:l],s},useContext:Nn,useEffect:ng,useImperativeHandle:function(s,l,d){return d=d!=null?d.concat([s]):null,Tl(4194308,4,sg.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Tl(4194308,4,s,l)},useInsertionEffect:function(s,l){return Tl(4,2,s,l)},useMemo:function(s,l){var d=ui();return l=l===void 0?null:l,s=s(),d.memoizedState=[s,l],s},useReducer:function(s,l,d){var p=ui();return l=d!==void 0?d(l):l,p.memoizedState=p.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},p.queue=s,s=s.dispatch=YC.bind(null,pt,s),[p.memoizedState,s]},useRef:function(s){var l=ui();return s={current:s},l.memoizedState=s},useState:eg,useDebugValue:gd,useDeferredValue:function(s){return ui().memoizedState=s},useTransition:function(){var s=eg(!1),l=s[0];return s=GC.bind(null,s[1]),ui().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,d){var p=pt,y=ui();if(ht){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),jt===null)throw Error(n(349));(Xr&30)!==0||Xm(p,l,d)}y.memoizedState=d;var x={value:d,getSnapshot:l};return y.queue=x,ng(Qm.bind(null,p,x,s),[s]),p.flags|=2048,Bo(9,qm.bind(null,p,x,d,l),void 0,null),d},useId:function(){var s=ui(),l=jt.identifierPrefix;if(ht){var d=ji,p=Li;d=(p&~(1<<32-nt(p)-1)).toString(32)+d,l=":"+l+"R"+d,d=Io++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=WC++,l=":"+l+"r"+d.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},qC={readContext:Nn,useCallback:ag,useContext:Nn,useEffect:md,useImperativeHandle:og,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:lg,useReducer:fd,useRef:tg,useState:function(){return fd(zo)},useDebugValue:gd,useDeferredValue:function(s){var l=Ln();return cg(l,Pt.memoizedState,s)},useTransition:function(){var s=fd(zo)[0],l=Ln().memoizedState;return[s,l]},useMutableSource:Ym,useSyncExternalStore:Km,useId:ug,unstable_isNewReconciler:!1},QC={readContext:Nn,useCallback:ag,useContext:Nn,useEffect:md,useImperativeHandle:og,useInsertionEffect:ig,useLayoutEffect:rg,useMemo:lg,useReducer:pd,useRef:tg,useState:function(){return pd(zo)},useDebugValue:gd,useDeferredValue:function(s){var l=Ln();return Pt===null?l.memoizedState=s:cg(l,Pt.memoizedState,s)},useTransition:function(){var s=pd(zo)[0],l=Ln().memoizedState;return[s,l]},useMutableSource:Ym,useSyncExternalStore:Km,useId:ug,unstable_isNewReconciler:!1};function Qn(s,l){if(s&&s.defaultProps){l=J({},l),s=s.defaultProps;for(var d in s)l[d]===void 0&&(l[d]=s[d]);return l}return l}function yd(s,l,d,p){l=s.memoizedState,d=d(p,l),d=d==null?l:J({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Rl={isMounted:function(s){return(s=s._reactInternals)?be(s)===s:!1},enqueueSetState:function(s,l,d){s=s._reactInternals;var p=tn(),y=gr(s),x=Fi(p,y);x.payload=l,d!=null&&(x.callback=d),l=hr(s,x,y),l!==null&&(ei(l,s,y,p),Cl(l,s,y))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var p=tn(),y=gr(s),x=Fi(p,y);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=hr(s,x,y),l!==null&&(ei(l,s,y,p),Cl(l,s,y))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=tn(),p=gr(s),y=Fi(d,p);y.tag=2,l!=null&&(y.callback=l),l=hr(s,y,p),l!==null&&(ei(l,s,p,d),Cl(l,s,p))}};function pg(s,l,d,p,y,x,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,_):l.prototype&&l.prototype.isPureReactComponent?!Mo(d,p)||!Mo(y,x):!0}function mg(s,l,d){var p=!1,y=cr,x=l.contextType;return typeof x=="object"&&x!==null?x=Nn(x):(y=on(l)?Hr:Ut.current,p=l.contextTypes,x=(p=p!=null)?As(s,y):cr),l=new l(d,x),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Rl,s.stateNode=l,l._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=x),l}function gg(s,l,d,p){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==s&&Rl.enqueueReplaceState(l,l.state,null)}function vd(s,l,d,p){var y=s.stateNode;y.props=d,y.state=s.memoizedState,y.refs={},rd(s);var x=l.contextType;typeof x=="object"&&x!==null?y.context=Nn(x):(x=on(l)?Hr:Ut.current,y.context=As(s,x)),y.state=s.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(yd(s,l,x,d),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Rl.enqueueReplaceState(y,y.state,null),kl(s,d,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Bs(s,l){try{var d="",p=l;do d+=he(p),p=p.return;while(p);var y=d}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:l,stack:y,digest:null}}function xd(s,l,d){return{value:s,source:null,stack:d??null,digest:l??null}}function bd(s,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var JC=typeof WeakMap=="function"?WeakMap:Map;function yg(s,l,d){d=Fi(-1,d),d.tag=3,d.payload={element:null};var p=l.value;return d.callback=function(){Il||(Il=!0,jd=p),bd(s,l)},d}function vg(s,l,d){d=Fi(-1,d),d.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;d.payload=function(){return p(y)},d.callback=function(){bd(s,l)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(d.callback=function(){bd(s,l),typeof p!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})}),d}function xg(s,l,d){var p=s.pingCache;if(p===null){p=s.pingCache=new JC;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(d)||(y.add(d),s=hk.bind(null,s,l,d),l.then(s,s))}function bg(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function wg(s,l,d,p,y){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Fi(-1,1),l.tag=2,hr(d,l,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var ZC=N.ReactCurrentOwner,an=!1;function en(s,l,d,p){l.child=s===null?Vm(l,null,d,p):Os(l,s.child,d,p)}function Sg(s,l,d,p,y){d=d.render;var x=l.ref;return Is(l,y),p=dd(s,l,d,p,x,y),d=hd(),s!==null&&!an?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~y,Ii(s,l,y)):(ht&&d&&Ku(l),l.flags|=1,en(s,l,p,y),l.child)}function Cg(s,l,d,p,y){if(s===null){var x=d.type;return typeof x=="function"&&!Ud(x)&&x.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=x,kg(s,l,x,p,y)):(s=Hl(d.type,null,p,l,l.mode,y),s.ref=l.ref,s.return=l,l.child=s)}if(x=s.child,(s.lanes&y)===0){var _=x.memoizedProps;if(d=d.compare,d=d!==null?d:Mo,d(_,p)&&s.ref===l.ref)return Ii(s,l,y)}return l.flags|=1,s=vr(x,p),s.ref=l.ref,s.return=l,l.child=s}function kg(s,l,d,p,y){if(s!==null){var x=s.memoizedProps;if(Mo(x,p)&&s.ref===l.ref)if(an=!1,l.pendingProps=p=x,(s.lanes&y)!==0)(s.flags&131072)!==0&&(an=!0);else return l.lanes=s.lanes,Ii(s,l,y)}return wd(s,l,d,p,y)}function _g(s,l,d){var p=l.pendingProps,y=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Us,vn),vn|=d;else{if((d&1073741824)===0)return s=x!==null?x.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,ot(Us,vn),vn|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:d,ot(Us,vn),vn|=p}else x!==null?(p=x.baseLanes|d,l.memoizedState=null):p=d,ot(Us,vn),vn|=p;return en(s,l,y,d),l.child}function Mg(s,l){var d=l.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function wd(s,l,d,p,y){var x=on(d)?Hr:Ut.current;return x=As(l,x),Is(l,y),d=dd(s,l,d,p,x,y),p=hd(),s!==null&&!an?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~y,Ii(s,l,y)):(ht&&p&&Ku(l),l.flags|=1,en(s,l,d,y),l.child)}function Eg(s,l,d,p,y){if(on(d)){var x=!0;ml(l)}else x=!1;if(Is(l,y),l.stateNode===null)Nl(s,l),mg(l,d,p),vd(l,d,p,y),p=!0;else if(s===null){var _=l.stateNode,L=l.memoizedProps;_.props=L;var F=_.context,Y=d.contextType;typeof Y=="object"&&Y!==null?Y=Nn(Y):(Y=on(d)?Hr:Ut.current,Y=As(l,Y));var se=d.getDerivedStateFromProps,oe=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function";oe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==p||F!==Y)&&gg(l,_,p,Y),dr=!1;var ie=l.memoizedState;_.state=ie,kl(l,p,_,y),F=l.memoizedState,L!==p||ie!==F||sn.current||dr?(typeof se=="function"&&(yd(l,d,se,p),F=l.memoizedState),(L=dr||pg(l,d,L,p,ie,F,Y))?(oe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=F),_.props=p,_.state=F,_.context=Y,p=L):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{_=l.stateNode,$m(s,l),L=l.memoizedProps,Y=l.type===l.elementType?L:Qn(l.type,L),_.props=Y,oe=l.pendingProps,ie=_.context,F=d.contextType,typeof F=="object"&&F!==null?F=Nn(F):(F=on(d)?Hr:Ut.current,F=As(l,F));var fe=d.getDerivedStateFromProps;(se=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==oe||ie!==F)&&gg(l,_,p,F),dr=!1,ie=l.memoizedState,_.state=ie,kl(l,p,_,y);var we=l.memoizedState;L!==oe||ie!==we||sn.current||dr?(typeof fe=="function"&&(yd(l,d,fe,p),we=l.memoizedState),(Y=dr||pg(l,d,Y,p,ie,we,F)||!1)?(se||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,we,F),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,we,F)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=we),_.props=p,_.state=we,_.context=F,p=Y):(typeof _.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(l.flags|=1024),p=!1)}return Sd(s,l,d,p,x,y)}function Sd(s,l,d,p,y,x){Mg(s,l);var _=(l.flags&128)!==0;if(!p&&!_)return y&&Am(l,d,!1),Ii(s,l,x);p=l.stateNode,ZC.current=l;var L=_&&typeof d.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,s!==null&&_?(l.child=Os(l,s.child,null,x),l.child=Os(l,null,L,x)):en(s,l,L,x),l.memoizedState=p.state,y&&Am(l,d,!0),l.child}function Tg(s){var l=s.stateNode;l.pendingContext?Dm(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Dm(s,l.context,!1),sd(s,l.containerInfo)}function Pg(s,l,d,p,y){return js(),Ju(y),l.flags|=256,en(s,l,d,p),l.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function kd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Dg(s,l,d){var p=l.pendingProps,y=ft.current,x=!1,_=(l.flags&128)!==0,L;if((L=_)||(L=s!==null&&s.memoizedState===null?!1:(y&2)!==0),L?(x=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ot(ft,y&1),s===null)return Qu(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(_=p.children,s=p.fallback,x?(p=l.mode,x=l.child,_={mode:"hidden",children:_},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=_):x=Wl(_,p,0,null),s=es(s,p,d,null),x.return=l,s.return=l,x.sibling=s,l.child=x,l.child.memoizedState=kd(d),l.memoizedState=Cd,s):_d(l,_));if(y=s.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return ek(s,l,_,p,L,y,d);if(x){x=p.fallback,_=l.mode,y=s.child,L=y.sibling;var F={mode:"hidden",children:p.children};return(_&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=F,l.deletions=null):(p=vr(y,F),p.subtreeFlags=y.subtreeFlags&14680064),L!==null?x=vr(L,x):(x=es(x,_,d,null),x.flags|=2),x.return=l,p.return=l,p.sibling=x,l.child=p,p=x,x=l.child,_=s.child.memoizedState,_=_===null?kd(d):{baseLanes:_.baseLanes|d,cachePool:null,transitions:_.transitions},x.memoizedState=_,x.childLanes=s.childLanes&~d,l.memoizedState=Cd,p}return x=s.child,s=x.sibling,p=vr(x,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=d),p.return=l,p.sibling=null,s!==null&&(d=l.deletions,d===null?(l.deletions=[s],l.flags|=16):d.push(s)),l.child=p,l.memoizedState=null,p}function _d(s,l){return l=Wl({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Al(s,l,d,p){return p!==null&&Ju(p),Os(l,s.child,null,d),s=_d(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function ek(s,l,d,p,y,x,_){if(d)return l.flags&256?(l.flags&=-257,p=xd(Error(n(422))),Al(s,l,_,p)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(x=p.fallback,y=l.mode,p=Wl({mode:"visible",children:p.children},y,0,null),x=es(x,y,_,null),x.flags|=2,p.return=l,x.return=l,p.sibling=x,l.child=p,(l.mode&1)!==0&&Os(l,s.child,null,_),l.child.memoizedState=kd(_),l.memoizedState=Cd,x);if((l.mode&1)===0)return Al(s,l,_,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var L=p.dgst;return p=L,x=Error(n(419)),p=xd(x,p,void 0),Al(s,l,_,p)}if(L=(_&s.childLanes)!==0,an||L){if(p=jt,p!==null){switch(_&-_){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|_))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,Oi(s,y),ei(p,s,y,-1))}return Vd(),p=xd(Error(n(421))),Al(s,l,_,p)}return y.data==="$?"?(l.flags|=128,l.child=s.child,l=fk.bind(null,s),y._reactRetry=l,null):(s=x.treeContext,yn=ar(y.nextSibling),gn=l,ht=!0,qn=null,s!==null&&(Rn[An++]=Li,Rn[An++]=ji,Rn[An++]=Wr,Li=s.id,ji=s.overflow,Wr=l),l=_d(l,p.children),l.flags|=4096,l)}function Rg(s,l,d){s.lanes|=l;var p=s.alternate;p!==null&&(p.lanes|=l),nd(s.return,l,d)}function Md(s,l,d,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=d,x.tailMode=y)}function Ag(s,l,d){var p=l.pendingProps,y=p.revealOrder,x=p.tail;if(en(s,l,p.children,d),p=ft.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Rg(s,d,l);else if(s.tag===19)Rg(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ot(ft,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)s=d.alternate,s!==null&&_l(s)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Md(l,!1,y,d,x);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(s=y.alternate,s!==null&&_l(s)===null){l.child=y;break}s=y.sibling,y.sibling=d,d=y,y=s}Md(l,!0,d,null,x);break;case"together":Md(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Nl(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Ii(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),qr|=l.lanes,(d&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,d=vr(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=vr(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function tk(s,l,d){switch(l.tag){case 3:Tg(l),js();break;case 5:Gm(l);break;case 1:on(l.type)&&ml(l);break;case 4:sd(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;ot(wl,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(ot(ft,ft.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?Dg(s,l,d):(ot(ft,ft.current&1),s=Ii(s,l,d),s!==null?s.sibling:null);ot(ft,ft.current&1);break;case 19:if(p=(d&l.childLanes)!==0,(s.flags&128)!==0){if(p)return Ag(s,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ot(ft,ft.current),p)break;return null;case 22:case 23:return l.lanes=0,_g(s,l,d)}return Ii(s,l,d)}var Ng,Ed,Lg,jg;Ng=function(s,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ed=function(){},Lg=function(s,l,d,p){var y=s.memoizedProps;if(y!==p){s=l.stateNode,Kr(ci.current);var x=null;switch(d){case"input":y=Qt(s,y),p=Qt(s,p),x=[];break;case"select":y=J({},y,{value:void 0}),p=J({},p,{value:void 0}),x=[];break;case"textarea":y=ki(s,y),p=ki(s,p),x=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=hl)}Ei(d,p);var _;d=null;for(Y in y)if(!p.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var L=y[Y];for(_ in L)L.hasOwnProperty(_)&&(d||(d={}),d[_]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(r.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in p){var F=p[Y];if(L=y?.[Y],p.hasOwnProperty(Y)&&F!==L&&(F!=null||L!=null))if(Y==="style")if(L){for(_ in L)!L.hasOwnProperty(_)||F&&F.hasOwnProperty(_)||(d||(d={}),d[_]="");for(_ in F)F.hasOwnProperty(_)&&L[_]!==F[_]&&(d||(d={}),d[_]=F[_])}else d||(x||(x=[]),x.push(Y,d)),d=F;else Y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,L=L?L.__html:void 0,F!=null&&L!==F&&(x=x||[]).push(Y,F)):Y==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(Y,""+F):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(r.hasOwnProperty(Y)?(F!=null&&Y==="onScroll"&&at("scroll",s),x||L===F||(x=[])):(x=x||[]).push(Y,F))}d&&(x=x||[]).push("style",d);var Y=x;(l.updateQueue=Y)&&(l.flags|=4)}},jg=function(s,l,d,p){d!==p&&(l.flags|=4)};function Vo(s,l){if(!ht)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Ht(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(l)for(var y=s.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=d,l}function nk(s,l,d){var p=l.pendingProps;switch(Xu(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(l),null;case 1:return on(l.type)&&pl(),Ht(l),null;case 3:return p=l.stateNode,zs(),lt(sn),lt(Ut),ld(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(xl(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,qn!==null&&(Id(qn),qn=null))),Ed(s,l),Ht(l),null;case 5:od(l);var y=Kr(Oo.current);if(d=l.type,s!==null&&l.stateNode!=null)Lg(s,l,d,p,y),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Ht(l),null}if(s=Kr(ci.current),xl(l)){p=l.stateNode,d=l.type;var x=l.memoizedProps;switch(p[li]=l,p[Ro]=x,s=(l.mode&1)!==0,d){case"dialog":at("cancel",p),at("close",p);break;case"iframe":case"object":case"embed":at("load",p);break;case"video":case"audio":for(y=0;y<To.length;y++)at(To[y],p);break;case"source":at("error",p);break;case"img":case"image":case"link":at("error",p),at("load",p);break;case"details":at("toggle",p);break;case"input":Mt(p,x),at("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},at("invalid",p);break;case"textarea":_i(p,x),at("invalid",p)}Ei(d,x),y=null;for(var _ in x)if(x.hasOwnProperty(_)){var L=x[_];_==="children"?typeof L=="string"?p.textContent!==L&&(x.suppressHydrationWarning!==!0&&dl(p.textContent,L,s),y=["children",L]):typeof L=="number"&&p.textContent!==""+L&&(x.suppressHydrationWarning!==!0&&dl(p.textContent,L,s),y=["children",""+L]):r.hasOwnProperty(_)&&L!=null&&_==="onScroll"&&at("scroll",p)}switch(d){case"input":qt(p),Ci(p,x,!0);break;case"textarea":qt(p),oi(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=hl)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{_=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Or(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=_.createElement(d,{is:p.is}):(s=_.createElement(d),d==="select"&&(_=s,p.multiple?_.multiple=!0:p.size&&(_.size=p.size))):s=_.createElementNS(s,d),s[li]=l,s[Ro]=p,Ng(s,l,!1,!1),l.stateNode=s;e:{switch(_=En(d,p),d){case"dialog":at("cancel",s),at("close",s),y=p;break;case"iframe":case"object":case"embed":at("load",s),y=p;break;case"video":case"audio":for(y=0;y<To.length;y++)at(To[y],s);y=p;break;case"source":at("error",s),y=p;break;case"img":case"image":case"link":at("error",s),at("load",s),y=p;break;case"details":at("toggle",s),y=p;break;case"input":Mt(s,p),y=Qt(s,p),at("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=J({},p,{value:void 0}),at("invalid",s);break;case"textarea":_i(s,p),y=ki(s,p),at("invalid",s);break;default:y=p}Ei(d,y),L=y;for(x in L)if(L.hasOwnProperty(x)){var F=L[x];x==="style"?Bt(s,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Tt(s,F)):x==="children"?typeof F=="string"?(d!=="textarea"||F!=="")&&Mn(s,F):typeof F=="number"&&Mn(s,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(r.hasOwnProperty(x)?F!=null&&x==="onScroll"&&at("scroll",s):F!=null&&E(s,x,F,_))}switch(d){case"input":qt(s),Ci(s,p,!1);break;case"textarea":qt(s),oi(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Ne(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?kn(s,!!p.multiple,x,!1):p.defaultValue!=null&&kn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=hl)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ht(l),null;case 6:if(s&&l.stateNode!=null)jg(s,l,s.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(d=Kr(Oo.current),Kr(ci.current),xl(l)){if(p=l.stateNode,d=l.memoizedProps,p[li]=l,(x=p.nodeValue!==d)&&(s=gn,s!==null))switch(s.tag){case 3:dl(p.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&dl(p.nodeValue,d,(s.mode&1)!==0)}x&&(l.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[li]=l,l.stateNode=p}return Ht(l),null;case 13:if(lt(ft),p=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&yn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Im(),js(),l.flags|=98560,x=!1;else if(x=xl(l),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[li]=l}else js(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ht(l),x=!1}else qn!==null&&(Id(qn),qn=null),x=!0;if(!x)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(ft.current&1)!==0?Dt===0&&(Dt=3):Vd())),l.updateQueue!==null&&(l.flags|=4),Ht(l),null);case 4:return zs(),Ed(s,l),s===null&&Po(l.stateNode.containerInfo),Ht(l),null;case 10:return td(l.type._context),Ht(l),null;case 17:return on(l.type)&&pl(),Ht(l),null;case 19:if(lt(ft),x=l.memoizedState,x===null)return Ht(l),null;if(p=(l.flags&128)!==0,_=x.rendering,_===null)if(p)Vo(x,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(_=_l(s),_!==null){for(l.flags|=128,Vo(x,!1),p=_.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=d,d=l.child;d!==null;)x=d,s=p,x.flags&=14680066,_=x.alternate,_===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=_.childLanes,x.lanes=_.lanes,x.child=_.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=_.memoizedProps,x.memoizedState=_.memoizedState,x.updateQueue=_.updateQueue,x.type=_.type,s=_.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return ot(ft,ft.current&1|2),l.child}s=s.sibling}x.tail!==null&&Je()>$s&&(l.flags|=128,p=!0,Vo(x,!1),l.lanes=4194304)}else{if(!p)if(s=_l(_),s!==null){if(l.flags|=128,p=!0,d=s.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Vo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!_.alternate&&!ht)return Ht(l),null}else 2*Je()-x.renderingStartTime>$s&&d!==1073741824&&(l.flags|=128,p=!0,Vo(x,!1),l.lanes=4194304);x.isBackwards?(_.sibling=l.child,l.child=_):(d=x.last,d!==null?d.sibling=_:l.child=_,x.last=_)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Je(),l.sibling=null,d=ft.current,ot(ft,p?d&1|2:d&1),l):(Ht(l),null);case 22:case 23:return Bd(),p=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(vn&1073741824)!==0&&(Ht(l),l.subtreeFlags&6&&(l.flags|=8192)):Ht(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function ik(s,l){switch(Xu(l),l.tag){case 1:return on(l.type)&&pl(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return zs(),lt(sn),lt(Ut),ld(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return od(l),null;case 13:if(lt(ft),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));js()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return lt(ft),null;case 4:return zs(),null;case 10:return td(l.type._context),null;case 22:case 23:return Bd(),null;case 24:return null;default:return null}}var Ll=!1,Wt=!1,rk=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Vs(s,l){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){vt(s,l,p)}else d.current=null}function Td(s,l,d){try{d()}catch(p){vt(s,l,p)}}var Og=!1;function sk(s,l){if(Bu=el,s=pm(),Au(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var y=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var _=0,L=-1,F=-1,Y=0,se=0,oe=s,ie=null;t:for(;;){for(var fe;oe!==d||y!==0&&oe.nodeType!==3||(L=_+y),oe!==x||p!==0&&oe.nodeType!==3||(F=_+p),oe.nodeType===3&&(_+=oe.nodeValue.length),(fe=oe.firstChild)!==null;)ie=oe,oe=fe;for(;;){if(oe===s)break t;if(ie===d&&++Y===y&&(L=_),ie===x&&++se===p&&(F=_),(fe=oe.nextSibling)!==null)break;oe=ie,ie=oe.parentNode}oe=fe}d=L===-1||F===-1?null:{start:L,end:F}}else d=null}d=d||{start:0,end:0}}else d=null;for(Vu={focusedElem:s,selectionRange:d},el=!1,ye=l;ye!==null;)if(l=ye,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,ye=s;else for(;ye!==null;){l=ye;try{var we=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var _e=we.memoizedProps,St=we.memoizedState,$=l.stateNode,I=$.getSnapshotBeforeUpdate(l.elementType===l.type?_e:Qn(l.type,_e),St);$.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var W=l.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){vt(l,l.return,ue)}if(s=l.sibling,s!==null){s.return=l.return,ye=s;break}ye=l.return}return we=Og,Og=!1,we}function Uo(s,l,d){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var x=y.destroy;y.destroy=void 0,x!==void 0&&Td(l,d,x)}y=y.next}while(y!==p)}}function jl(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&s)===s){var p=d.create;d.destroy=p()}d=d.next}while(d!==l)}}function Pd(s){var l=s.ref;if(l!==null){var d=s.stateNode;s.tag,s=d,typeof l=="function"?l(s):l.current=s}}function Fg(s){var l=s.alternate;l!==null&&(s.alternate=null,Fg(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[li],delete l[Ro],delete l[Wu],delete l[VC],delete l[UC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ig(s){return s.tag===5||s.tag===3||s.tag===4}function zg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ig(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Dd(s,l,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(s,l):d.insertBefore(s,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(s,d)):(l=d,l.appendChild(s)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=hl));else if(p!==4&&(s=s.child,s!==null))for(Dd(s,l,d),s=s.sibling;s!==null;)Dd(s,l,d),s=s.sibling}function Rd(s,l,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Rd(s,l,d),s=s.sibling;s!==null;)Rd(s,l,d),s=s.sibling}var Ft=null,Jn=!1;function fr(s,l,d){for(d=d.child;d!==null;)Bg(s,l,d),d=d.sibling}function Bg(s,l,d){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Pi,d)}catch{}switch(d.tag){case 5:Wt||Vs(d,l);case 6:var p=Ft,y=Jn;Ft=null,fr(s,l,d),Ft=p,Jn=y,Ft!==null&&(Jn?(s=Ft,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):Ft.removeChild(d.stateNode));break;case 18:Ft!==null&&(Jn?(s=Ft,d=d.stateNode,s.nodeType===8?Hu(s.parentNode,d):s.nodeType===1&&Hu(s,d),bo(s)):Hu(Ft,d.stateNode));break;case 4:p=Ft,y=Jn,Ft=d.stateNode.containerInfo,Jn=!0,fr(s,l,d),Ft=p,Jn=y;break;case 0:case 11:case 14:case 15:if(!Wt&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var x=y,_=x.destroy;x=x.tag,_!==void 0&&((x&2)!==0||(x&4)!==0)&&Td(d,l,_),y=y.next}while(y!==p)}fr(s,l,d);break;case 1:if(!Wt&&(Vs(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(L){vt(d,l,L)}fr(s,l,d);break;case 21:fr(s,l,d);break;case 22:d.mode&1?(Wt=(p=Wt)||d.memoizedState!==null,fr(s,l,d),Wt=p):fr(s,l,d);break;default:fr(s,l,d)}}function Vg(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new rk),l.forEach(function(p){var y=pk.bind(null,s,p);d.has(p)||(d.add(p),p.then(y,y))})}}function Zn(s,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];try{var x=s,_=l,L=_;e:for(;L!==null;){switch(L.tag){case 5:Ft=L.stateNode,Jn=!1;break e;case 3:Ft=L.stateNode.containerInfo,Jn=!0;break e;case 4:Ft=L.stateNode.containerInfo,Jn=!0;break e}L=L.return}if(Ft===null)throw Error(n(160));Bg(x,_,y),Ft=null,Jn=!1;var F=y.alternate;F!==null&&(F.return=null),y.return=null}catch(Y){vt(y,l,Y)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Ug(l,s),l=l.sibling}function Ug(s,l){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Zn(l,s),di(s),p&4){try{Uo(3,s,s.return),jl(3,s)}catch(_e){vt(s,s.return,_e)}try{Uo(5,s,s.return)}catch(_e){vt(s,s.return,_e)}}break;case 1:Zn(l,s),di(s),p&512&&d!==null&&Vs(d,d.return);break;case 5:if(Zn(l,s),di(s),p&512&&d!==null&&Vs(d,d.return),s.flags&32){var y=s.stateNode;try{Mn(y,"")}catch(_e){vt(s,s.return,_e)}}if(p&4&&(y=s.stateNode,y!=null)){var x=s.memoizedProps,_=d!==null?d.memoizedProps:x,L=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{L==="input"&&x.type==="radio"&&x.name!=null&&Et(y,x),En(L,_);var Y=En(L,x);for(_=0;_<F.length;_+=2){var se=F[_],oe=F[_+1];se==="style"?Bt(y,oe):se==="dangerouslySetInnerHTML"?Tt(y,oe):se==="children"?Mn(y,oe):E(y,se,oe,Y)}switch(L){case"input":Sn(y,x);break;case"textarea":_n(y,x);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var fe=x.value;fe!=null?kn(y,!!x.multiple,fe,!1):ie!==!!x.multiple&&(x.defaultValue!=null?kn(y,!!x.multiple,x.defaultValue,!0):kn(y,!!x.multiple,x.multiple?[]:"",!1))}y[Ro]=x}catch(_e){vt(s,s.return,_e)}}break;case 6:if(Zn(l,s),di(s),p&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,x=s.memoizedProps;try{y.nodeValue=x}catch(_e){vt(s,s.return,_e)}}break;case 3:if(Zn(l,s),di(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{bo(l.containerInfo)}catch(_e){vt(s,s.return,_e)}break;case 4:Zn(l,s),di(s);break;case 13:Zn(l,s),di(s),y=s.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Ld=Je())),p&4&&Vg(s);break;case 22:if(se=d!==null&&d.memoizedState!==null,s.mode&1?(Wt=(Y=Wt)||se,Zn(l,s),Wt=Y):Zn(l,s),di(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!se&&(s.mode&1)!==0)for(ye=s,se=s.child;se!==null;){for(oe=ye=se;ye!==null;){switch(ie=ye,fe=ie.child,ie.tag){case 0:case 11:case 14:case 15:Uo(4,ie,ie.return);break;case 1:Vs(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){p=ie,d=ie.return;try{l=p,we.props=l.memoizedProps,we.state=l.memoizedState,we.componentWillUnmount()}catch(_e){vt(p,d,_e)}}break;case 5:Vs(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Wg(oe);continue}}fe!==null?(fe.return=ie,ye=fe):Wg(oe)}se=se.sibling}e:for(se=null,oe=s;;){if(oe.tag===5){if(se===null){se=oe;try{y=oe.stateNode,Y?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(L=oe.stateNode,F=oe.memoizedProps.style,_=F!=null&&F.hasOwnProperty("display")?F.display:null,L.style.display=Ir("display",_))}catch(_e){vt(s,s.return,_e)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=Y?"":oe.memoizedProps}catch(_e){vt(s,s.return,_e)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Zn(l,s),di(s),p&4&&Vg(s);break;case 21:break;default:Zn(l,s),di(s)}}function di(s){var l=s.flags;if(l&2){try{e:{for(var d=s.return;d!==null;){if(Ig(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Mn(y,""),p.flags&=-33);var x=zg(s);Rd(s,x,y);break;case 3:case 4:var _=p.stateNode.containerInfo,L=zg(s);Dd(s,L,_);break;default:throw Error(n(161))}}catch(F){vt(s,s.return,F)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function ok(s,l,d){ye=s,$g(s)}function $g(s,l,d){for(var p=(s.mode&1)!==0;ye!==null;){var y=ye,x=y.child;if(y.tag===22&&p){var _=y.memoizedState!==null||Ll;if(!_){var L=y.alternate,F=L!==null&&L.memoizedState!==null||Wt;L=Ll;var Y=Wt;if(Ll=_,(Wt=F)&&!Y)for(ye=y;ye!==null;)_=ye,F=_.child,_.tag===22&&_.memoizedState!==null?Gg(y):F!==null?(F.return=_,ye=F):Gg(y);for(;x!==null;)ye=x,$g(x),x=x.sibling;ye=y,Ll=L,Wt=Y}Hg(s)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,ye=x):Hg(s)}}function Hg(s){for(;ye!==null;){var l=ye;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Wt||jl(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Wt)if(d===null)p.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Qn(l.type,d.memoizedProps);p.componentDidUpdate(y,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&Wm(l,x,p);break;case 3:var _=l.updateQueue;if(_!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}Wm(l,_,d)}break;case 5:var L=l.stateNode;if(d===null&&l.flags&4){d=L;var F=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&d.focus();break;case"img":F.src&&(d.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Y=l.alternate;if(Y!==null){var se=Y.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&bo(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wt||l.flags&512&&Pd(l)}catch(ie){vt(l,l.return,ie)}}if(l===s){ye=null;break}if(d=l.sibling,d!==null){d.return=l.return,ye=d;break}ye=l.return}}function Wg(s){for(;ye!==null;){var l=ye;if(l===s){ye=null;break}var d=l.sibling;if(d!==null){d.return=l.return,ye=d;break}ye=l.return}}function Gg(s){for(;ye!==null;){var l=ye;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{jl(4,l)}catch(F){vt(l,d,F)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(F){vt(l,y,F)}}var x=l.return;try{Pd(l)}catch(F){vt(l,x,F)}break;case 5:var _=l.return;try{Pd(l)}catch(F){vt(l,_,F)}}}catch(F){vt(l,l.return,F)}if(l===s){ye=null;break}var L=l.sibling;if(L!==null){L.return=l.return,ye=L;break}ye=l.return}}var ak=Math.ceil,Ol=N.ReactCurrentDispatcher,Ad=N.ReactCurrentOwner,jn=N.ReactCurrentBatchConfig,Ke=0,jt=null,kt=null,It=0,vn=0,Us=lr(0),Dt=0,$o=null,qr=0,Fl=0,Nd=0,Ho=null,ln=null,Ld=0,$s=1/0,zi=null,Il=!1,jd=null,pr=null,zl=!1,mr=null,Bl=0,Wo=0,Od=null,Vl=-1,Ul=0;function tn(){return(Ke&6)!==0?Je():Vl!==-1?Vl:Vl=Je()}function gr(s){return(s.mode&1)===0?1:(Ke&2)!==0&&It!==0?It&-It:HC.transition!==null?(Ul===0&&(Ul=zp()),Ul):(s=et,s!==0||(s=window.event,s=s===void 0?16:Kp(s.type)),s)}function ei(s,l,d,p){if(50<Wo)throw Wo=0,Od=null,Error(n(185));mo(s,d,p),((Ke&2)===0||s!==jt)&&(s===jt&&((Ke&2)===0&&(Fl|=d),Dt===4&&yr(s,It)),cn(s,p),d===1&&Ke===0&&(l.mode&1)===0&&($s=Je()+500,gl&&ur()))}function cn(s,l){var d=s.callbackNode;HS(s,l);var p=Qa(s,s===jt?It:0);if(p===0)d!==null&&ut(d),s.callbackNode=null,s.callbackPriority=0;else if(l=p&-p,s.callbackPriority!==l){if(d!=null&&ut(d),l===1)s.tag===0?$C(Kg.bind(null,s)):Nm(Kg.bind(null,s)),zC(function(){(Ke&6)===0&&ur()}),d=null;else{switch(Bp(p)){case 1:d=Dn;break;case 4:d=pn;break;case 16:d=Zi;break;case 536870912:d=ai;break;default:d=Zi}d=n0(d,Yg.bind(null,s))}s.callbackPriority=l,s.callbackNode=d}}function Yg(s,l){if(Vl=-1,Ul=0,(Ke&6)!==0)throw Error(n(327));var d=s.callbackNode;if(Hs()&&s.callbackNode!==d)return null;var p=Qa(s,s===jt?It:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||l)l=$l(s,p);else{l=p;var y=Ke;Ke|=2;var x=qg();(jt!==s||It!==l)&&(zi=null,$s=Je()+500,Jr(s,l));do try{uk();break}catch(L){Xg(s,L)}while(!0);ed(),Ol.current=x,Ke=y,kt!==null?l=0:(jt=null,It=0,l=Dt)}if(l!==0){if(l===2&&(y=gu(s),y!==0&&(p=y,l=Fd(s,y))),l===1)throw d=$o,Jr(s,0),yr(s,p),cn(s,Je()),d;if(l===6)yr(s,p);else{if(y=s.current.alternate,(p&30)===0&&!lk(y)&&(l=$l(s,p),l===2&&(x=gu(s),x!==0&&(p=x,l=Fd(s,x))),l===1))throw d=$o,Jr(s,0),yr(s,p),cn(s,Je()),d;switch(s.finishedWork=y,s.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:Zr(s,ln,zi);break;case 3:if(yr(s,p),(p&130023424)===p&&(l=Ld+500-Je(),10<l)){if(Qa(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){tn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=$u(Zr.bind(null,s,ln,zi),l);break}Zr(s,ln,zi);break;case 4:if(yr(s,p),(p&4194240)===p)break;for(l=s.eventTimes,y=-1;0<p;){var _=31-nt(p);x=1<<_,_=l[_],_>y&&(y=_),p&=~x}if(p=y,p=Je()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*ak(p/1960))-p,10<p){s.timeoutHandle=$u(Zr.bind(null,s,ln,zi),p);break}Zr(s,ln,zi);break;case 5:Zr(s,ln,zi);break;default:throw Error(n(329))}}}return cn(s,Je()),s.callbackNode===d?Yg.bind(null,s):null}function Fd(s,l){var d=Ho;return s.current.memoizedState.isDehydrated&&(Jr(s,l).flags|=256),s=$l(s,l),s!==2&&(l=ln,ln=d,l!==null&&Id(l)),s}function Id(s){ln===null?ln=s:ln.push.apply(ln,s)}function lk(s){for(var l=s;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var y=d[p],x=y.getSnapshot;y=y.value;try{if(!Xn(x(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function yr(s,l){for(l&=~Nd,l&=~Fl,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var d=31-nt(l),p=1<<d;s[d]=-1,l&=~p}}function Kg(s){if((Ke&6)!==0)throw Error(n(327));Hs();var l=Qa(s,0);if((l&1)===0)return cn(s,Je()),null;var d=$l(s,l);if(s.tag!==0&&d===2){var p=gu(s);p!==0&&(l=p,d=Fd(s,p))}if(d===1)throw d=$o,Jr(s,0),yr(s,l),cn(s,Je()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Zr(s,ln,zi),cn(s,Je()),null}function zd(s,l){var d=Ke;Ke|=1;try{return s(l)}finally{Ke=d,Ke===0&&($s=Je()+500,gl&&ur())}}function Qr(s){mr!==null&&mr.tag===0&&(Ke&6)===0&&Hs();var l=Ke;Ke|=1;var d=jn.transition,p=et;try{if(jn.transition=null,et=1,s)return s()}finally{et=p,jn.transition=d,Ke=l,(Ke&6)===0&&ur()}}function Bd(){vn=Us.current,lt(Us)}function Jr(s,l){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,IC(d)),kt!==null)for(d=kt.return;d!==null;){var p=d;switch(Xu(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&pl();break;case 3:zs(),lt(sn),lt(Ut),ld();break;case 5:od(p);break;case 4:zs();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:td(p.type._context);break;case 22:case 23:Bd()}d=d.return}if(jt=s,kt=s=vr(s.current,null),It=vn=l,Dt=0,$o=null,Nd=Fl=qr=0,ln=Ho=null,Yr!==null){for(l=0;l<Yr.length;l++)if(d=Yr[l],p=d.interleaved,p!==null){d.interleaved=null;var y=p.next,x=d.pending;if(x!==null){var _=x.next;x.next=y,p.next=_}d.pending=p}Yr=null}return s}function Xg(s,l){do{var d=kt;try{if(ed(),Ml.current=Dl,El){for(var p=pt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}El=!1}if(Xr=0,Lt=Pt=pt=null,Fo=!1,Io=0,Ad.current=null,d===null||d.return===null){Dt=1,$o=l,kt=null;break}e:{var x=s,_=d.return,L=d,F=l;if(l=It,L.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Y=F,se=L,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=bg(_);if(fe!==null){fe.flags&=-257,wg(fe,_,L,x,l),fe.mode&1&&xg(x,Y,l),l=fe,F=Y;var we=l.updateQueue;if(we===null){var _e=new Set;_e.add(F),l.updateQueue=_e}else we.add(F);break e}else{if((l&1)===0){xg(x,Y,l),Vd();break e}F=Error(n(426))}}else if(ht&&L.mode&1){var St=bg(_);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),wg(St,_,L,x,l),Ju(Bs(F,L));break e}}x=F=Bs(F,L),Dt!==4&&(Dt=2),Ho===null?Ho=[x]:Ho.push(x),x=_;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l;var $=yg(x,F,l);Hm(x,$);break e;case 1:L=F;var I=x.type,W=x.stateNode;if((x.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(pr===null||!pr.has(W)))){x.flags|=65536,l&=-l,x.lanes|=l;var ue=vg(x,L,l);Hm(x,ue);break e}}x=x.return}while(x!==null)}Jg(d)}catch(Te){l=Te,kt===d&&d!==null&&(kt=d=d.return);continue}break}while(!0)}function qg(){var s=Ol.current;return Ol.current=Dl,s===null?Dl:s}function Vd(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),jt===null||(qr&268435455)===0&&(Fl&268435455)===0||yr(jt,It)}function $l(s,l){var d=Ke;Ke|=2;var p=qg();(jt!==s||It!==l)&&(zi=null,Jr(s,l));do try{ck();break}catch(y){Xg(s,y)}while(!0);if(ed(),Ke=d,Ol.current=p,kt!==null)throw Error(n(261));return jt=null,It=0,Dt}function ck(){for(;kt!==null;)Qg(kt)}function uk(){for(;kt!==null&&!qe();)Qg(kt)}function Qg(s){var l=t0(s.alternate,s,vn);s.memoizedProps=s.pendingProps,l===null?Jg(s):kt=l,Ad.current=null}function Jg(s){var l=s;do{var d=l.alternate;if(s=l.return,(l.flags&32768)===0){if(d=nk(d,l,vn),d!==null){kt=d;return}}else{if(d=ik(d,l),d!==null){d.flags&=32767,kt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,kt=null;return}}if(l=l.sibling,l!==null){kt=l;return}kt=l=s}while(l!==null);Dt===0&&(Dt=5)}function Zr(s,l,d){var p=et,y=jn.transition;try{jn.transition=null,et=1,dk(s,l,d,p)}finally{jn.transition=y,et=p}return null}function dk(s,l,d,p){do Hs();while(mr!==null);if((Ke&6)!==0)throw Error(n(327));d=s.finishedWork;var y=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=d.lanes|d.childLanes;if(WS(s,x),s===jt&&(kt=jt=null,It=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||zl||(zl=!0,n0(Zi,function(){return Hs(),null})),x=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||x){x=jn.transition,jn.transition=null;var _=et;et=1;var L=Ke;Ke|=4,Ad.current=null,sk(s,d),Ug(d,s),RC(Vu),el=!!Bu,Vu=Bu=null,s.current=d,ok(d),Jt(),Ke=L,et=_,jn.transition=x}else s.current=d;if(zl&&(zl=!1,mr=s,Bl=y),x=s.pendingLanes,x===0&&(pr=null),Ye(d.stateNode),cn(s,Je()),l!==null)for(p=s.onRecoverableError,d=0;d<l.length;d++)y=l[d],p(y.value,{componentStack:y.stack,digest:y.digest});if(Il)throw Il=!1,s=jd,jd=null,s;return(Bl&1)!==0&&s.tag!==0&&Hs(),x=s.pendingLanes,(x&1)!==0?s===Od?Wo++:(Wo=0,Od=s):Wo=0,ur(),null}function Hs(){if(mr!==null){var s=Bp(Bl),l=jn.transition,d=et;try{if(jn.transition=null,et=16>s?16:s,mr===null)var p=!1;else{if(s=mr,mr=null,Bl=0,(Ke&6)!==0)throw Error(n(331));var y=Ke;for(Ke|=4,ye=s.current;ye!==null;){var x=ye,_=x.child;if((ye.flags&16)!==0){var L=x.deletions;if(L!==null){for(var F=0;F<L.length;F++){var Y=L[F];for(ye=Y;ye!==null;){var se=ye;switch(se.tag){case 0:case 11:case 15:Uo(8,se,x)}var oe=se.child;if(oe!==null)oe.return=se,ye=oe;else for(;ye!==null;){se=ye;var ie=se.sibling,fe=se.return;if(Fg(se),se===Y){ye=null;break}if(ie!==null){ie.return=fe,ye=ie;break}ye=fe}}}var we=x.alternate;if(we!==null){var _e=we.child;if(_e!==null){we.child=null;do{var St=_e.sibling;_e.sibling=null,_e=St}while(_e!==null)}}ye=x}}if((x.subtreeFlags&2064)!==0&&_!==null)_.return=x,ye=_;else e:for(;ye!==null;){if(x=ye,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Uo(9,x,x.return)}var $=x.sibling;if($!==null){$.return=x.return,ye=$;break e}ye=x.return}}var I=s.current;for(ye=I;ye!==null;){_=ye;var W=_.child;if((_.subtreeFlags&2064)!==0&&W!==null)W.return=_,ye=W;else e:for(_=I;ye!==null;){if(L=ye,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:jl(9,L)}}catch(Te){vt(L,L.return,Te)}if(L===_){ye=null;break e}var ue=L.sibling;if(ue!==null){ue.return=L.return,ye=ue;break e}ye=L.return}}if(Ke=y,ur(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Pi,s)}catch{}p=!0}return p}finally{et=d,jn.transition=l}}return!1}function Zg(s,l,d){l=Bs(d,l),l=yg(s,l,1),s=hr(s,l,1),l=tn(),s!==null&&(mo(s,1,l),cn(s,l))}function vt(s,l,d){if(s.tag===3)Zg(s,s,d);else for(;l!==null;){if(l.tag===3){Zg(l,s,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(pr===null||!pr.has(p))){s=Bs(d,s),s=vg(l,s,1),l=hr(l,s,1),s=tn(),l!==null&&(mo(l,1,s),cn(l,s));break}}l=l.return}}function hk(s,l,d){var p=s.pingCache;p!==null&&p.delete(l),l=tn(),s.pingedLanes|=s.suspendedLanes&d,jt===s&&(It&d)===d&&(Dt===4||Dt===3&&(It&130023424)===It&&500>Je()-Ld?Jr(s,0):Nd|=d),cn(s,l)}function e0(s,l){l===0&&((s.mode&1)===0?l=1:(l=Vr,Vr<<=1,(Vr&130023424)===0&&(Vr=4194304)));var d=tn();s=Oi(s,l),s!==null&&(mo(s,l,d),cn(s,d))}function fk(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),e0(s,d)}function pk(s,l){var d=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),e0(s,d)}var t0;t0=function(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps||sn.current)an=!0;else{if((s.lanes&d)===0&&(l.flags&128)===0)return an=!1,tk(s,l,d);an=(s.flags&131072)!==0}else an=!1,ht&&(l.flags&1048576)!==0&&Lm(l,vl,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Nl(s,l),s=l.pendingProps;var y=As(l,Ut.current);Is(l,d),y=dd(null,l,p,s,y,d);var x=hd();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,on(p)?(x=!0,ml(l)):x=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,rd(l),y.updater=Rl,l.stateNode=y,y._reactInternals=l,vd(l,p,s,d),l=Sd(null,l,p,!0,x,d)):(l.tag=0,ht&&x&&Ku(l),en(null,l,y,d),l=l.child),l;case 16:p=l.elementType;e:{switch(Nl(s,l),s=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=gk(p),s=Qn(p,s),y){case 0:l=wd(null,l,p,s,d);break e;case 1:l=Eg(null,l,p,s,d);break e;case 11:l=Sg(null,l,p,s,d);break e;case 14:l=Cg(null,l,p,Qn(p.type,s),d);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qn(p,y),wd(s,l,p,y,d);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qn(p,y),Eg(s,l,p,y,d);case 3:e:{if(Tg(l),s===null)throw Error(n(387));p=l.pendingProps,x=l.memoizedState,y=x.element,$m(s,l),kl(l,p,null,d);var _=l.memoizedState;if(p=_.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){y=Bs(Error(n(423)),l),l=Pg(s,l,p,d,y);break e}else if(p!==y){y=Bs(Error(n(424)),l),l=Pg(s,l,p,d,y);break e}else for(yn=ar(l.stateNode.containerInfo.firstChild),gn=l,ht=!0,qn=null,d=Vm(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(js(),p===y){l=Ii(s,l,d);break e}en(s,l,p,d)}l=l.child}return l;case 5:return Gm(l),s===null&&Qu(l),p=l.type,y=l.pendingProps,x=s!==null?s.memoizedProps:null,_=y.children,Uu(p,y)?_=null:x!==null&&Uu(p,x)&&(l.flags|=32),Mg(s,l),en(s,l,_,d),l.child;case 6:return s===null&&Qu(l),null;case 13:return Dg(s,l,d);case 4:return sd(l,l.stateNode.containerInfo),p=l.pendingProps,s===null?l.child=Os(l,null,p,d):en(s,l,p,d),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qn(p,y),Sg(s,l,p,y,d);case 7:return en(s,l,l.pendingProps,d),l.child;case 8:return en(s,l,l.pendingProps.children,d),l.child;case 12:return en(s,l,l.pendingProps.children,d),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,x=l.memoizedProps,_=y.value,ot(wl,p._currentValue),p._currentValue=_,x!==null)if(Xn(x.value,_)){if(x.children===y.children&&!sn.current){l=Ii(s,l,d);break e}}else for(x=l.child,x!==null&&(x.return=l);x!==null;){var L=x.dependencies;if(L!==null){_=x.child;for(var F=L.firstContext;F!==null;){if(F.context===p){if(x.tag===1){F=Fi(-1,d&-d),F.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var se=Y.pending;se===null?F.next=F:(F.next=se.next,se.next=F),Y.pending=F}}x.lanes|=d,F=x.alternate,F!==null&&(F.lanes|=d),nd(x.return,d,l),L.lanes|=d;break}F=F.next}}else if(x.tag===10)_=x.type===l.type?null:x.child;else if(x.tag===18){if(_=x.return,_===null)throw Error(n(341));_.lanes|=d,L=_.alternate,L!==null&&(L.lanes|=d),nd(_,d,l),_=x.sibling}else _=x.child;if(_!==null)_.return=x;else for(_=x;_!==null;){if(_===l){_=null;break}if(x=_.sibling,x!==null){x.return=_.return,_=x;break}_=_.return}x=_}en(s,l,y.children,d),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,Is(l,d),y=Nn(y),p=p(y),l.flags|=1,en(s,l,p,d),l.child;case 14:return p=l.type,y=Qn(p,l.pendingProps),y=Qn(p.type,y),Cg(s,l,p,y,d);case 15:return kg(s,l,l.type,l.pendingProps,d);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qn(p,y),Nl(s,l),l.tag=1,on(p)?(s=!0,ml(l)):s=!1,Is(l,d),mg(l,p,y),vd(l,p,y,d),Sd(null,l,p,!0,s,d);case 19:return Ag(s,l,d);case 22:return _g(s,l,d)}throw Error(n(156,l.tag))};function n0(s,l){return it(s,l)}function mk(s,l,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(s,l,d,p){return new mk(s,l,d,p)}function Ud(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gk(s){if(typeof s=="function")return Ud(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===ne)return 14}return 2}function vr(s,l){var d=s.alternate;return d===null?(d=On(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function Hl(s,l,d,p,y,x){var _=2;if(p=s,typeof s=="function")Ud(s)&&(_=1);else if(typeof s=="string")_=5;else e:switch(s){case T:return es(d.children,y,x,l);case A:_=8,y|=8;break;case V:return s=On(12,d,l,y|2),s.elementType=V,s.lanes=x,s;case ee:return s=On(13,d,l,y),s.elementType=ee,s.lanes=x,s;case Q:return s=On(19,d,l,y),s.elementType=Q,s.lanes=x,s;case te:return Wl(d,y,x,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:_=10;break e;case q:_=9;break e;case B:_=11;break e;case ne:_=14;break e;case le:_=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=On(_,d,l,y),l.elementType=s,l.type=p,l.lanes=x,l}function es(s,l,d,p){return s=On(7,s,p,l),s.lanes=d,s}function Wl(s,l,d,p){return s=On(22,s,p,l),s.elementType=te,s.lanes=d,s.stateNode={isHidden:!1},s}function $d(s,l,d){return s=On(6,s,null,l),s.lanes=d,s}function Hd(s,l,d){return l=On(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function yk(s,l,d,p,y){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yu(0),this.expirationTimes=yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Wd(s,l,d,p,y,x,_,L,F){return s=new yk(s,l,d,L,F),l===1?(l=1,x===!0&&(l|=8)):l=0,x=On(3,null,null,l),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},rd(x),s}function vk(s,l,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:p==null?null:""+p,children:s,containerInfo:l,implementation:d}}function i0(s){if(!s)return cr;s=s._reactInternals;e:{if(be(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(on(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(on(d))return Rm(s,d,l)}return l}function r0(s,l,d,p,y,x,_,L,F){return s=Wd(d,p,!0,s,y,x,_,L,F),s.context=i0(null),d=s.current,p=tn(),y=gr(d),x=Fi(p,y),x.callback=l??null,hr(d,x,y),s.current.lanes=y,mo(s,y,p),cn(s,p),s}function Gl(s,l,d,p){var y=l.current,x=tn(),_=gr(y);return d=i0(d),l.context===null?l.context=d:l.pendingContext=d,l=Fi(x,_),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=hr(y,l,_),s!==null&&(ei(s,y,_,x),Cl(s,y,_)),_}function Yl(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function s0(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function Gd(s,l){s0(s,l),(s=s.alternate)&&s0(s,l)}function xk(){return null}var o0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Yd(s){this._internalRoot=s}Kl.prototype.render=Yd.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Gl(s,l,null,null)},Kl.prototype.unmount=Yd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Qr(function(){Gl(null,s,null,null)}),l[Ai]=null}};function Kl(s){this._internalRoot=s}Kl.prototype.unstable_scheduleHydration=function(s){if(s){var l=$p();s={blockedOn:null,target:s,priority:l};for(var d=0;d<rr.length&&l!==0&&l<rr[d].priority;d++);rr.splice(d,0,s),d===0&&Gp(s)}};function Kd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Xl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function a0(){}function bk(s,l,d,p,y){if(y){if(typeof p=="function"){var x=p;p=function(){var Y=Yl(_);x.call(Y)}}var _=r0(l,p,s,0,null,!1,!1,"",a0);return s._reactRootContainer=_,s[Ai]=_.current,Po(s.nodeType===8?s.parentNode:s),Qr(),_}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var L=p;p=function(){var Y=Yl(F);L.call(Y)}}var F=Wd(s,0,!1,null,null,!1,!1,"",a0);return s._reactRootContainer=F,s[Ai]=F.current,Po(s.nodeType===8?s.parentNode:s),Qr(function(){Gl(l,F,d,p)}),F}function ql(s,l,d,p,y){var x=d._reactRootContainer;if(x){var _=x;if(typeof y=="function"){var L=y;y=function(){var F=Yl(_);L.call(F)}}Gl(l,_,s,y)}else _=bk(d,l,s,y,p);return Yl(_)}Vp=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var d=Ur(l.pendingLanes);d!==0&&(vu(l,d|1),cn(l,Je()),(Ke&6)===0&&($s=Je()+500,ur()))}break;case 13:Qr(function(){var p=Oi(s,1);if(p!==null){var y=tn();ei(p,s,1,y)}}),Gd(s,1)}},xu=function(s){if(s.tag===13){var l=Oi(s,134217728);if(l!==null){var d=tn();ei(l,s,134217728,d)}Gd(s,134217728)}},Up=function(s){if(s.tag===13){var l=gr(s),d=Oi(s,l);if(d!==null){var p=tn();ei(d,s,l,p)}Gd(s,l)}},$p=function(){return et},Hp=function(s,l){var d=et;try{return et=s,l()}finally{et=d}},Yn=function(s,l,d){switch(l){case"input":if(Sn(s,d),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==s&&p.form===s.form){var y=fl(p);if(!y)throw Error(n(90));Ge(p),Sn(p,y)}}}break;case"textarea":_n(s,d);break;case"select":l=d.value,l!=null&&kn(s,!!d.multiple,l,!1)}},ve=zd,Me=Qr;var wk={usingClientEntryPoint:!1,Events:[Ao,Ds,fl,Kn,X,zd]},Go={findFiberByHostInstance:$r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sk={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ve(s),s===null?null:s.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||xk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{Pi=Ql.inject(Sk),Zt=Ql}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wk,un.createPortal=function(s,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kd(l))throw Error(n(200));return vk(s,l,null,d)},un.createRoot=function(s,l){if(!Kd(s))throw Error(n(299));var d=!1,p="",y=o0;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=Wd(s,1,!1,null,null,d,!1,p,y),s[Ai]=l.current,Po(s.nodeType===8?s.parentNode:s),new Yd(l)},un.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ve(l),s=s===null?null:s.stateNode,s},un.flushSync=function(s){return Qr(s)},un.hydrate=function(s,l,d){if(!Xl(l))throw Error(n(200));return ql(null,s,l,!0,d)},un.hydrateRoot=function(s,l,d){if(!Kd(s))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,y=!1,x="",_=o0;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),l=r0(l,null,s,1,d??null,y,!1,x,_),s[Ai]=l.current,Po(s),p)for(s=0;s<p.length;s++)d=p[s],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new Kl(l)},un.render=function(s,l,d){if(!Xl(l))throw Error(n(200));return ql(null,s,l,!1,d)},un.unmountComponentAtNode=function(s){if(!Xl(s))throw Error(n(40));return s._reactRootContainer?(Qr(function(){ql(null,null,s,!1,function(){s._reactRootContainer=null,s[Ai]=null})}),!0):!1},un.unstable_batchedUpdates=zd,un.unstable_renderSubtreeIntoContainer=function(s,l,d,p){if(!Xl(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return ql(s,l,d,!1,p)},un.version="18.3.1-next-f1338f8080-20240426",un}var m0;function ob(){if(m0)return Qd.exports;m0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qd.exports=Rk(),Qd.exports}var g0;function Ak(){if(g0)return Jl;g0=1;var t=ob();return Jl.createRoot=t.createRoot,Jl.hydrateRoot=t.hydrateRoot,Jl}var Nk=Ak();const Lk=sb(Nk);var ab=t=>{throw TypeError(t)},jk=(t,e,n)=>e.has(t)||ab("Cannot "+n),eh=(t,e,n)=>(jk(t,e,"read from private field"),n?n.call(t):e.get(t)),Ok=(t,e,n)=>e.has(t)?ab("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),y0="popstate";function Fk(t={}){function e(r,o){let{pathname:a="/",search:c="",hash:u=""}=Qi(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Ca("",{pathname:a,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let a=r.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let u=r.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof o=="string"?o:xi(o))}function i(r,o){bt(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return zk(e,n,i,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ik(){return Math.random().toString(36).substring(2,10)}function v0(t,e){return{usr:t.state,key:t.key,idx:e}}function Ca(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qi(e):e,state:n,key:e&&e.key||i||Ik()}}function xi({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function zk(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,c="POP",u=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function m(){c="POP";let C=f(),k=C==null?null:C-h;h=C,u&&u({action:c,location:S.location,delta:k})}function g(C,k){c="PUSH";let P=Ca(S.location,C,k);n&&n(P,C),h=f()+1;let E=v0(P,h),N=S.createHref(P);try{a.pushState(E,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(N)}o&&u&&u({action:c,location:S.location,delta:1})}function v(C,k){c="REPLACE";let P=Ca(S.location,C,k);n&&n(P,C),h=f();let E=v0(P,h),N=S.createHref(P);a.replaceState(E,"",N),o&&u&&u({action:c,location:S.location,delta:0})}function b(C){return lb(C)}let S={get action(){return c},get location(){return t(r,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(y0,m),u=C,()=>{r.removeEventListener(y0,m),u=null}},createHref(C){return e(r,C)},createURL:b,encodeLocation(C){let k=b(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:v,go(C){return a.go(C)}};return S}function lb(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$e(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:xi(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var ia,x0=class{constructor(t){if(Ok(this,ia,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(eh(this,ia).has(t))return eh(this,ia).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){eh(this,ia).set(t,e)}};ia=new WeakMap;var Bk=new Set(["lazy","caseSensitive","path","id","index","children"]);function Vk(t){return Bk.has(t)}var Uk=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function $k(t){return Uk.has(t)}function Hk(t){return t.index===!0}function ka(t,e,n=[],i={},r=!1){return t.map((o,a)=>{let c=[...n,String(a)],u=typeof o.id=="string"?o.id:c.join("-");if($e(o.index!==!0||!o.children,"Cannot specify children on an index route"),$e(r||!i[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),Hk(o)){let h={...o,id:u};return i[u]=b0(h,e(h)),h}else{let h={...o,id:u,children:void 0};return i[u]=b0(h,e(h)),o.children&&(h.children=ka(o.children,e,c,i,r)),h}})}function b0(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Sr(t,e,n="/"){return ra(t,e,n,!1)}function ra(t,e,n,i){let r=typeof e=="string"?Qi(e):e,o=Hn(r.pathname||"/",n);if(o==null)return null;let a=cb(t);Gk(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=i_(o);c=t_(a[u],h,i)}return c}function Wk(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function cb(t,e=[],n=[],i="",r=!1){let o=(a,c,u=r,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;$e(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=gi([i,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&($e(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),cb(a.children,e,g,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:Zk(m,a.index),routesMeta:g})};return t.forEach((a,c)=>{if(a.path===""||!a.path?.includes("?"))o(a,c);else for(let u of ub(a.path))o(a,c,!0,u)}),e}function ub(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=ub(i.join("/")),c=[];return c.push(...a.map(u=>u===""?o:[o,u].join("/"))),r&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function Gk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:e_(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Yk=/^:[\w-]+$/,Kk=3,Xk=2,qk=1,Qk=10,Jk=-2,w0=t=>t==="*";function Zk(t,e){let n=t.split("/"),i=n.length;return n.some(w0)&&(i+=Jk),e&&(i+=Xk),n.filter(r=>!w0(r)).reduce((r,o)=>r+(Yk.test(o)?Kk:o===""?qk:Qk),i)}function e_(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function t_(t,e,n=!1){let{routesMeta:i}=t,r={},o="/",a=[];for(let c=0;c<i.length;++c){let u=i[c],h=c===i.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=jc({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&n&&!i[i.length-1].route.index&&(m=jc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:gi([o,m.pathname]),pathnameBase:o_(gi([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=gi([o,m.pathnameBase]))}return a}function jc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=n_(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:m},g)=>{if(f==="*"){let b=c[g]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[g];return m&&!v?h[f]=void 0:h[f]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:t}}function n_(t,e=!1,n=!0){bt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function i_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function r_({basename:t,pathname:e}){return e==="/"?t:gi([t,e])}var db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eu=t=>db.test(t);function s_(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Qi(t):t,o;if(n)if(eu(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),bt(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?o=S0(n.substring(1),"/"):o=S0(n,e)}else o=e;return{pathname:o,search:a_(i),hash:l_(r)}}function S0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function th(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nf(t){let e=hb(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Lf(t,e,n,i=!1){let r;typeof t=="string"?r=Qi(t):(r={...t},$e(!r.pathname||!r.pathname.includes("?"),th("?","pathname","search",r)),$e(!r.pathname||!r.pathname.includes("#"),th("#","pathname","hash",r)),$e(!r.search||!r.search.includes("#"),th("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}c=m>=0?e[m]:"/"}let u=s_(r,c),h=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),o_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ia=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _a(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function za(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pb(t,e){let n=t;if(typeof n!="string"||!db.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(fb)try{let o=new URL(window.location.href),a=n.startsWith("//")?new URL(o.protocol+n):new URL(n),c=Hn(a.pathname,e);a.origin===o.origin&&c!=null?n=c+a.search+a.hash:r=!0}catch{bt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}var kr=Symbol("Uninstrumented");function c_(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(r=>r({id:e.id,index:e.index,path:e.path,instrument(o){let a=Object.keys(n);for(let c of a)o[c]&&n[c].push(o[c])}}));let i={};if(typeof e.lazy=="function"&&n.lazy.length>0){let r=qs(n.lazy,e.lazy,()=>{});r&&(i.lazy=r)}if(typeof e.lazy=="object"){let r=e.lazy;["middleware","loader","action"].forEach(o=>{let a=r[o],c=n[`lazy.${o}`];if(typeof a=="function"&&c.length>0){let u=qs(c,a,()=>{});u&&(i.lazy=Object.assign(i.lazy||{},{[o]:u}))}})}return["loader","action"].forEach(r=>{let o=e[r];if(typeof o=="function"&&n[r].length>0){let a=o[kr]??o,c=qs(n[r],a,(...u)=>C0(u[0]));c&&(r==="loader"&&a.hydrate===!0&&(c.hydrate=!0),c[kr]=a,i[r]=c)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(i.middleware=e.middleware.map(r=>{let o=r[kr]??r,a=qs(n.middleware,o,(...c)=>C0(c[0]));return a?(a[kr]=o,a):r})),i}function u_(t,e){let n={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(r){let o=Object.keys(r);for(let a of o)r[a]&&n[a].push(r[a])}})),n.navigate.length>0){let i=t.navigate[kr]??t.navigate,r=qs(n.navigate,i,(...o)=>{let[a,c]=o;return{to:typeof a=="number"||typeof a=="string"?a:a?xi(a):".",...k0(t,c??{})}});r&&(r[kr]=i,t.navigate=r)}if(n.fetch.length>0){let i=t.fetch[kr]??t.fetch,r=qs(n.fetch,i,(...o)=>{let[a,,c,u]=o;return{href:c??".",fetcherKey:a,...k0(t,u??{})}});r&&(r[kr]=i,t.fetch=r)}return t}function qs(t,e,n){return t.length===0?null:async(...i)=>{let r=await mb(t,n(...i),()=>e(...i),t.length-1);if(r.type==="error")throw r.value;return r.value}}async function mb(t,e,n,i){let r=t[i],o;if(r){let a,c=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=mb(t,e,n,i-1),o=await a,$e(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await r(c,e)}catch(u){console.error("An instrumentation function threw an error:",u)}a||await c(),await a}else try{o={type:"success",value:await n()}}catch(a){o={type:"error",value:a}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function C0(t){let{request:e,context:n,params:i,unstable_pattern:r}=t;return{request:d_(e),params:{...i},unstable_pattern:r,context:h_(n)}}function k0(t,e){return{currentUrl:xi(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function d_(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function h_(t){if(p_(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var f_=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function p_(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===f_}var gb=["POST","PUT","PATCH","DELETE"],m_=new Set(gb),g_=["GET",...gb],y_=new Set(g_),yb=new Set([301,302,303,307,308]),v_=new Set([307,308]),nh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},x_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ko={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},b_=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),vb="remix-router-transitions",xb=Symbol("ResetLoaderData");function w_(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";$e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],r=t.mapRouteProperties||b_,o=r;if(t.unstable_instrumentations){let R=t.unstable_instrumentations;o=z=>({...r(z),...c_(R.map(U=>U.route).filter(Boolean),z)})}let a={},c=ka(t.routes,o,void 0,a),u,h=t.basename||"/";h.startsWith("/")||(h=`/${h}`);let f=t.dataStrategy||M_,m={...t.future},g=null,v=new Set,b=null,S=null,C=null,k=t.hydrationData!=null,P=Sr(c,t.history.location,h),E=!1,N=null,D;if(P==null&&!t.patchRoutesOnNavigation){let R=Bn(404,{pathname:t.history.location.pathname}),{matches:z,route:U}=Zl(c);D=!0,P=z,N={[U.id]:R}}else if(P&&!t.hydrationData&&Me(P,c,t.history.location.pathname).active&&(P=null),P)if(P.some(R=>R.route.lazy))D=!1;else if(!P.some(R=>jf(R.route)))D=!0;else{let R=t.hydrationData?t.hydrationData.loaderData:null,z=t.hydrationData?t.hydrationData.errors:null;if(z){let U=P.findIndex(re=>z[re.route.id]!==void 0);D=P.slice(0,U+1).every(re=>!Kh(re.route,R,z))}else D=P.every(U=>!Kh(U.route,R,z))}else{D=!1,P=[];let R=Me(null,c,t.history.location.pathname);R.active&&R.matches&&(E=!0,P=R.matches)}let j,T={historyAction:t.history.action,location:t.history.location,matches:P,initialized:D,navigation:nh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||N,fetchers:new Map,blockers:new Map},A="POP",V=null,G=!1,q,B=!1,ee=new Map,Q=null,ne=!1,le=!1,te=new Set,H=new Map,Z=0,J=-1,O=new Map,K=new Set,de=new Map,ae=new Map,he=new Set,ge=new Map,Le,Ne=null;function Oe(){if(g=t.history.listen(({action:R,location:z,delta:U})=>{if(Le){Le(),Le=void 0;return}bt(ge.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=Tn({currentLocation:T.location,nextLocation:z,historyAction:R});if(re&&U!=null){let ce=new Promise(Se=>{Le=Se});t.history.go(U*-1),Yn(re,{state:"blocked",location:z,proceed(){Yn(re,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),ce.then(()=>t.history.go(U))},reset(){let Se=new Map(T.blockers);Se.set(re,Ko),Ge({blockers:Se})}}),V?.resolve(),V=null;return}return Et(R,z)}),n){H_(e,ee);let R=()=>W_(e,ee);e.addEventListener("pagehide",R),Q=()=>e.removeEventListener("pagehide",R)}return T.initialized||Et("POP",T.location,{initialHydration:!0}),j}function yt(){g&&g(),Q&&Q(),v.clear(),q&&q.abort(),T.fetchers.forEach((R,z)=>Fr(z)),T.blockers.forEach((R,z)=>Ji(z))}function qt(R){return v.add(R),()=>v.delete(R)}function Ge(R,z={}){R.matches&&(R.matches=R.matches.map(ce=>{let Se=a[ce.route.id],pe=ce.route;return pe.element!==Se.element||pe.errorElement!==Se.errorElement||pe.hydrateFallbackElement!==Se.hydrateFallbackElement?{...ce,route:Se}:ce})),T={...T,...R};let U=[],re=[];T.fetchers.forEach((ce,Se)=>{ce.state==="idle"&&(he.has(Se)?U.push(Se):re.push(Se))}),he.forEach(ce=>{!T.fetchers.has(ce)&&!H.has(ce)&&U.push(ce)}),[...v].forEach(ce=>ce(T,{deletedFetchers:U,newErrors:R.errors??null,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),U.forEach(ce=>Fr(ce)),re.forEach(ce=>T.fetchers.delete(ce))}function Be(R,z,{flushSync:U}={}){let re=T.actionData!=null&&T.navigation.formMethod!=null&&Gt(T.navigation.formMethod)&&T.navigation.state==="loading"&&R.state?._isRedirect!==!0,ce;z.actionData?Object.keys(z.actionData).length>0?ce=z.actionData:ce=null:re?ce=T.actionData:ce=null;let Se=z.loaderData?L0(T.loaderData,z.loaderData,z.matches||[],z.errors):T.loaderData,pe=T.blockers;pe.size>0&&(pe=new Map(pe),pe.forEach((De,ke)=>pe.set(ke,Ko)));let xe=ne?!1:ve(R,z.matches||T.matches),Ce=G===!0||T.navigation.formMethod!=null&&Gt(T.navigation.formMethod)&&R.state?._isRedirect!==!0;u&&(c=u,u=void 0),ne||A==="POP"||(A==="PUSH"?t.history.push(R,R.state):A==="REPLACE"&&t.history.replace(R,R.state));let be;if(A==="POP"){let De=ee.get(T.location.pathname);De&&De.has(R.pathname)?be={currentLocation:T.location,nextLocation:R}:ee.has(R.pathname)&&(be={currentLocation:R,nextLocation:T.location})}else if(B){let De=ee.get(T.location.pathname);De?De.add(R.pathname):(De=new Set([R.pathname]),ee.set(T.location.pathname,De)),be={currentLocation:T.location,nextLocation:R}}Ge({...z,actionData:ce,loaderData:Se,historyAction:A,location:R,initialized:!0,navigation:nh,revalidation:"idle",restoreScrollPosition:xe,preventScrollReset:Ce,blockers:pe},{viewTransitionOpts:be,flushSync:U===!0}),A="POP",G=!1,B=!1,ne=!1,le=!1,V?.resolve(),V=null,Ne?.resolve(),Ne=null}async function Qt(R,z){if(V?.resolve(),V=null,typeof R=="number"){V||(V=I0());let Ve=V.promise;return t.history.go(R),Ve}let U=Yh(T.location,T.matches,h,R,z?.fromRouteId,z?.relative),{path:re,submission:ce,error:Se}=_0(!1,U,z),pe=T.location,xe=Ca(T.location,re,z&&z.state);xe={...xe,...t.history.encodeLocation(xe)};let Ce=z&&z.replace!=null?z.replace:void 0,be="PUSH";Ce===!0?be="REPLACE":Ce===!1||ce!=null&&Gt(ce.formMethod)&&ce.formAction===T.location.pathname+T.location.search&&(be="REPLACE");let De=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,ke=(z&&z.flushSync)===!0,ze=Tn({currentLocation:pe,nextLocation:xe,historyAction:be});if(ze){Yn(ze,{state:"blocked",location:xe,proceed(){Yn(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),Qt(R,z)},reset(){let Ve=new Map(T.blockers);Ve.set(ze,Ko),Ge({blockers:Ve})}});return}await Et(be,xe,{submission:ce,pendingError:Se,preventScrollReset:De,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:ke,callSiteDefaultShouldRevalidate:z&&z.unstable_defaultShouldRevalidate})}function Mt(){Ne||(Ne=I0()),Mi(),Ge({revalidation:"loading"});let R=Ne.promise;return T.navigation.state==="submitting"?R:T.navigation.state==="idle"?(Et(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),R):(Et(A||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:B===!0}),R)}async function Et(R,z,U){q&&q.abort(),q=null,A=R,ne=(U&&U.startUninterruptedRevalidation)===!0,X(T.location,T.matches),G=(U&&U.preventScrollReset)===!0,B=(U&&U.enableViewTransition)===!0;let re=u||c,ce=U&&U.overrideNavigation,Se=U?.initialHydration&&T.matches&&T.matches.length>0&&!E?T.matches:Sr(re,z,h),pe=(U&&U.flushSync)===!0;if(Se&&T.initialized&&!le&&L_(T.location,z)&&!(U&&U.submission&&Gt(U.submission.formMethod))){Be(z,{matches:Se},{flushSync:pe});return}let xe=Me(Se,re,z.pathname);if(xe.active&&xe.matches&&(Se=xe.matches),!Se){let{error:it,notFoundMatches:ut,route:qe}=Pn(z.pathname);Be(z,{matches:ut,loaderData:{},errors:{[qe.id]:it}},{flushSync:pe});return}q=new AbortController;let Ce=Xs(t.history,z,q.signal,U&&U.submission),be=t.getContext?await t.getContext():new x0,De;if(U&&U.pendingError)De=[Cr(Se).route.id,{type:"error",error:U.pendingError}];else if(U&&U.submission&&Gt(U.submission.formMethod)){let it=await Sn(Ce,z,U.submission,Se,be,xe.active,U&&U.initialHydration===!0,{replace:U.replace,flushSync:pe});if(it.shortCircuited)return;if(it.pendingActionResult){let[ut,qe]=it.pendingActionResult;if(bn(qe)&&_a(qe.error)&&qe.error.status===404){q=null,Be(z,{matches:it.matches,loaderData:{},errors:{[ut]:qe.error}});return}}Se=it.matches||Se,De=it.pendingActionResult,ce=ih(z,U.submission),pe=!1,xe.active=!1,Ce=Xs(t.history,Ce.url,Ce.signal)}let{shortCircuited:ke,matches:ze,loaderData:Ve,errors:He}=await Ci(Ce,z,Se,be,xe.active,ce,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,pe,De,U&&U.callSiteDefaultShouldRevalidate);ke||(q=null,Be(z,{matches:ze||Se,...j0(De),loaderData:Ve,errors:He}))}async function Sn(R,z,U,re,ce,Se,pe,xe={}){Mi();let Ce=U_(z,U);if(Ge({navigation:Ce},{flushSync:xe.flushSync===!0}),Se){let ke=await Ee(re,z.pathname,R.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){if(ke.partialMatches.length===0){let{matches:Ve,route:He}=Zl(c);return{matches:Ve,pendingActionResult:[He.id,{type:"error",error:ke.error}]}}let ze=Cr(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[ze,{type:"error",error:ke.error}]}}else if(ke.matches)re=ke.matches;else{let{notFoundMatches:ze,error:Ve,route:He}=Pn(z.pathname);return{matches:ze,pendingActionResult:[He.id,{type:"error",error:Ve}]}}}let be,De=_c(re,z);if(!De.route.action&&!De.route.lazy)be={type:"error",error:Bn(405,{method:R.method,pathname:z.pathname,routeId:De.route.id})};else{let ke=to(o,a,R,re,De,pe?[]:i,ce),ze=await oi(R,ke,ce,null);if(be=ze[De.route.id],!be){for(let Ve of re)if(ze[Ve.route.id]){be=ze[Ve.route.id];break}}if(R.signal.aborted)return{shortCircuited:!0}}if(ls(be)){let ke;return xe&&xe.replace!=null?ke=xe.replace:ke=R0(be.response.headers.get("Location"),new URL(R.url),h,t.history)===T.location.pathname+T.location.search,await _n(R,be,!0,{submission:U,replace:ke}),{shortCircuited:!0}}if(bn(be)){let ke=Cr(re,De.route.id);return(xe&&xe.replace)!==!0&&(A="PUSH"),{matches:re,pendingActionResult:[ke.route.id,be,De.route.id]}}return{matches:re,pendingActionResult:[De.route.id,be]}}async function Ci(R,z,U,re,ce,Se,pe,xe,Ce,be,De,ke,ze){let Ve=Se||ih(z,pe),He=pe||xe||F0(Ve),it=!ne&&!be;if(ce){if(it){let nt=si(ke);Ge({navigation:Ve,...nt!==void 0?{actionData:nt}:{}},{flushSync:De})}let Ye=await Ee(U,z.pathname,R.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){if(Ye.partialMatches.length===0){let{matches:er,route:Di}=Zl(c);return{matches:er,loaderData:{},errors:{[Di.id]:Ye.error}}}let nt=Cr(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[nt]:Ye.error}}}else if(Ye.matches)U=Ye.matches;else{let{error:nt,notFoundMatches:er,route:Di}=Pn(z.pathname);return{matches:er,loaderData:{},errors:{[Di.id]:nt}}}}let ut=u||c,{dsMatches:qe,revalidatingFetchers:Jt}=M0(R,re,o,a,t.history,T,U,He,z,be?[]:i,be===!0,le,te,he,de,K,ut,h,t.patchRoutesOnNavigation!=null,ke,ze);if(J=++Z,!t.dataStrategy&&!qe.some(Ye=>Ye.shouldLoad)&&!qe.some(Ye=>Ye.route.middleware&&Ye.route.middleware.length>0)&&Jt.length===0){let Ye=Ei();return Be(z,{matches:U,loaderData:{},errors:ke&&bn(ke[1])?{[ke[0]]:ke[1].error}:null,...j0(ke),...Ye?{fetchers:new Map(T.fetchers)}:{}},{flushSync:De}),{shortCircuited:!0}}if(it){let Ye={};if(!ce){Ye.navigation=Ve;let nt=si(ke);nt!==void 0&&(Ye.actionData=nt)}Jt.length>0&&(Ye.fetchers=Cn(Jt)),Ge(Ye,{flushSync:De})}Jt.forEach(Ye=>{Bt(Ye.key),Ye.controller&&H.set(Ye.key,Ye.controller)});let Je=()=>Jt.forEach(Ye=>Bt(Ye.key));q&&q.signal.addEventListener("abort",Je);let{loaderResults:zr,fetcherResults:Dn}=await Or(qe,Jt,R,re);if(R.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Je),Jt.forEach(Ye=>H.delete(Ye.key));let pn=ec(zr);if(pn)return await _n(R,pn.result,!0,{replace:Ce}),{shortCircuited:!0};if(pn=ec(Dn),pn)return K.add(pn.key),await _n(R,pn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Zi,errors:Br}=N0(T,U,zr,ke,Jt,Dn);be&&T.errors&&(Br={...T.errors,...Br});let ai=Ei(),Pi=En(J),Zt=ai||Pi||Jt.length>0;return{matches:U,loaderData:Zi,errors:Br,...Zt?{fetchers:new Map(T.fetchers)}:{}}}function si(R){if(R&&!bn(R[1]))return{[R[0]]:R[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function Cn(R){return R.forEach(z=>{let U=T.fetchers.get(z.key),re=Xo(void 0,U?U.data:void 0);T.fetchers.set(z.key,re)}),new Map(T.fetchers)}async function kn(R,z,U,re){Bt(R);let ce=(re&&re.flushSync)===!0,Se=u||c,pe=Yh(T.location,T.matches,h,U,z,re?.relative),xe=Sr(Se,pe,h),Ce=Me(xe,Se,pe);if(Ce.active&&Ce.matches&&(xe=Ce.matches),!xe){Tt(R,z,Bn(404,{pathname:pe}),{flushSync:ce});return}let{path:be,submission:De,error:ke}=_0(!0,pe,re);if(ke){Tt(R,z,ke,{flushSync:ce});return}let ze=t.getContext?await t.getContext():new x0,Ve=(re&&re.preventScrollReset)===!0;if(De&&Gt(De.formMethod)){await ki(R,z,be,xe,ze,Ce.active,ce,Ve,De,re&&re.unstable_defaultShouldRevalidate);return}de.set(R,{routeId:z,path:be}),await _i(R,z,be,xe,ze,Ce.active,ce,Ve,De)}async function ki(R,z,U,re,ce,Se,pe,xe,Ce,be){Mi(),de.delete(R);let De=T.fetchers.get(R);wt(R,$_(Ce,De),{flushSync:pe});let ke=new AbortController,ze=Xs(t.history,U,ke.signal,Ce);if(Se){let dt=await Ee(re,new URL(ze.url).pathname,ze.signal,R);if(dt.type==="aborted")return;if(dt.type==="error"){Tt(R,z,dt.error,{flushSync:pe});return}else if(dt.matches)re=dt.matches;else{Tt(R,z,Bn(404,{pathname:U}),{flushSync:pe});return}}let Ve=_c(re,U);if(!Ve.route.action&&!Ve.route.lazy){let dt=Bn(405,{method:Ce.formMethod,pathname:U,routeId:z});Tt(R,z,dt,{flushSync:pe});return}H.set(R,ke);let He=Z,it=to(o,a,ze,re,Ve,i,ce),ut=await oi(ze,it,ce,R),qe=ut[Ve.route.id];if(!qe){for(let dt of it)if(ut[dt.route.id]){qe=ut[dt.route.id];break}}if(ze.signal.aborted){H.get(R)===ke&&H.delete(R);return}if(he.has(R)){if(ls(qe)||bn(qe)){wt(R,Vi(void 0));return}}else{if(ls(qe))if(H.delete(R),J>He){wt(R,Vi(void 0));return}else return K.add(R),wt(R,Xo(Ce)),_n(ze,qe,!1,{fetcherSubmission:Ce,preventScrollReset:xe});if(bn(qe)){Tt(R,z,qe.error);return}}let Jt=T.navigation.location||T.location,Je=Xs(t.history,Jt,ke.signal),zr=u||c,Dn=T.navigation.state!=="idle"?Sr(zr,T.navigation.location,h):T.matches;$e(Dn,"Didn't find any matches after fetcher action");let pn=++Z;O.set(R,pn);let Zi=Xo(Ce,qe.data);T.fetchers.set(R,Zi);let{dsMatches:Br,revalidatingFetchers:ai}=M0(Je,ce,o,a,t.history,T,Dn,Ce,Jt,i,!1,le,te,he,de,K,zr,h,t.patchRoutesOnNavigation!=null,[Ve.route.id,qe],be);ai.filter(dt=>dt.key!==R).forEach(dt=>{let Ri=dt.key,Vr=T.fetchers.get(Ri),Ur=Xo(void 0,Vr?Vr.data:void 0);T.fetchers.set(Ri,Ur),Bt(Ri),dt.controller&&H.set(Ri,dt.controller)}),Ge({fetchers:new Map(T.fetchers)});let Pi=()=>ai.forEach(dt=>Bt(dt.key));ke.signal.addEventListener("abort",Pi);let{loaderResults:Zt,fetcherResults:Ye}=await Or(Br,ai,Je,ce);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",Pi),O.delete(R),H.delete(R),ai.forEach(dt=>H.delete(dt.key)),T.fetchers.has(R)){let dt=Vi(qe.data);T.fetchers.set(R,dt)}let nt=ec(Zt);if(nt)return _n(Je,nt.result,!1,{preventScrollReset:xe});if(nt=ec(Ye),nt)return K.add(nt.key),_n(Je,nt.result,!1,{preventScrollReset:xe});let{loaderData:er,errors:Di}=N0(T,Dn,Zt,void 0,ai,Ye);En(pn),T.navigation.state==="loading"&&pn>J?($e(A,"Expected pending action"),q&&q.abort(),Be(T.navigation.location,{matches:Dn,loaderData:er,errors:Di,fetchers:new Map(T.fetchers)})):(Ge({errors:Di,loaderData:L0(T.loaderData,er,Dn,Di),fetchers:new Map(T.fetchers)}),le=!1)}async function _i(R,z,U,re,ce,Se,pe,xe,Ce){let be=T.fetchers.get(R);wt(R,Xo(Ce,be?be.data:void 0),{flushSync:pe});let De=new AbortController,ke=Xs(t.history,U,De.signal);if(Se){let qe=await Ee(re,new URL(ke.url).pathname,ke.signal,R);if(qe.type==="aborted")return;if(qe.type==="error"){Tt(R,z,qe.error,{flushSync:pe});return}else if(qe.matches)re=qe.matches;else{Tt(R,z,Bn(404,{pathname:U}),{flushSync:pe});return}}let ze=_c(re,U);H.set(R,De);let Ve=Z,He=to(o,a,ke,re,ze,i,ce),ut=(await oi(ke,He,ce,R))[ze.route.id];if(H.get(R)===De&&H.delete(R),!ke.signal.aborted){if(he.has(R)){wt(R,Vi(void 0));return}if(ls(ut))if(J>Ve){wt(R,Vi(void 0));return}else{K.add(R),await _n(ke,ut,!1,{preventScrollReset:xe});return}if(bn(ut)){Tt(R,z,ut.error);return}wt(R,Vi(ut.data))}}async function _n(R,z,U,{submission:re,fetcherSubmission:ce,preventScrollReset:Se,replace:pe}={}){U||(V?.resolve(),V=null),z.response.headers.has("X-Remix-Revalidate")&&(le=!0);let xe=z.response.headers.get("Location");$e(xe,"Expected a Location header on the redirect Response"),xe=R0(xe,new URL(R.url),h,t.history);let Ce=Ca(T.location,xe,{_isRedirect:!0});if(n){let He=!1;if(z.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(eu(xe)){const it=lb(xe,!0);He=it.origin!==e.location.origin||Hn(it.pathname,h)==null}if(He){pe?e.location.replace(xe):e.location.assign(xe);return}}q=null;let be=pe===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:ke,formEncType:ze}=T.navigation;!re&&!ce&&De&&ke&&ze&&(re=F0(T.navigation));let Ve=re||ce;if(v_.has(z.response.status)&&Ve&&Gt(Ve.formMethod))await Et(be,Ce,{submission:{...Ve,formAction:xe},preventScrollReset:Se||G,enableViewTransition:U?B:void 0});else{let He=ih(Ce,re);await Et(be,Ce,{overrideNavigation:He,fetcherSubmission:ce,preventScrollReset:Se||G,enableViewTransition:U?B:void 0})}}async function oi(R,z,U,re){let ce,Se={};try{ce=await T_(f,R,z,re,U,!1)}catch(pe){return z.filter(xe=>xe.shouldLoad).forEach(xe=>{Se[xe.route.id]={type:"error",error:pe}}),Se}if(R.signal.aborted)return Se;if(!Gt(R.method))for(let pe of z){if(ce[pe.route.id]?.type==="error")break;!ce.hasOwnProperty(pe.route.id)&&!T.loaderData.hasOwnProperty(pe.route.id)&&(!T.errors||!T.errors.hasOwnProperty(pe.route.id))&&pe.shouldCallHandler()&&(ce[pe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${pe.route.id}`)})}for(let[pe,xe]of Object.entries(ce))if(I_(xe)){let Ce=xe.result;Se[pe]={type:"redirect",response:A_(Ce,R,pe,z,h)}}else Se[pe]=await R_(xe);return Se}async function Or(R,z,U,re){let ce=oi(U,R,re,null),Se=Promise.all(z.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let De=(await oi(Ce.request,Ce.matches,re,Ce.key))[Ce.match.route.id];return{[Ce.key]:De}}else return Promise.resolve({[Ce.key]:{type:"error",error:Bn(404,{pathname:Ce.path})}})})),pe=await ce,xe=(await Se).reduce((Ce,be)=>Object.assign(Ce,be),{});return{loaderResults:pe,fetcherResults:xe}}function Mi(){le=!0,de.forEach((R,z)=>{H.has(z)&&te.add(z),Bt(z)})}function wt(R,z,U={}){T.fetchers.set(R,z),Ge({fetchers:new Map(T.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function Tt(R,z,U,re={}){let ce=Cr(T.matches,z);Fr(R),Ge({errors:{[ce.route.id]:U},fetchers:new Map(T.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function Mn(R){return ae.set(R,(ae.get(R)||0)+1),he.has(R)&&he.delete(R),T.fetchers.get(R)||x_}function Gn(R,z){Bt(R,z?.reason),wt(R,Vi(null))}function Fr(R){let z=T.fetchers.get(R);H.has(R)&&!(z&&z.state==="loading"&&O.has(R))&&Bt(R),de.delete(R),O.delete(R),K.delete(R),he.delete(R),te.delete(R),T.fetchers.delete(R)}function Ir(R){let z=(ae.get(R)||0)-1;z<=0?(ae.delete(R),he.add(R)):ae.set(R,z),Ge({fetchers:new Map(T.fetchers)})}function Bt(R,z){let U=H.get(R);U&&(U.abort(z),H.delete(R))}function Ss(R){for(let z of R){let U=Mn(z),re=Vi(U.data);T.fetchers.set(z,re)}}function Ei(){let R=[],z=!1;for(let U of K){let re=T.fetchers.get(U);$e(re,`Expected fetcher: ${U}`),re.state==="loading"&&(K.delete(U),R.push(U),z=!0)}return Ss(R),z}function En(R){let z=[];for(let[U,re]of O)if(re<R){let ce=T.fetchers.get(U);$e(ce,`Expected fetcher: ${U}`),ce.state==="loading"&&(Bt(U),O.delete(U),z.push(U))}return Ss(z),z.length>0}function Vt(R,z){let U=T.blockers.get(R)||Ko;return ge.get(R)!==z&&ge.set(R,z),U}function Ji(R){T.blockers.delete(R),ge.delete(R)}function Yn(R,z){let U=T.blockers.get(R)||Ko;$e(U.state==="unblocked"&&z.state==="blocked"||U.state==="blocked"&&z.state==="blocked"||U.state==="blocked"&&z.state==="proceeding"||U.state==="blocked"&&z.state==="unblocked"||U.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${U.state} -> ${z.state}`);let re=new Map(T.blockers);re.set(R,z),Ge({blockers:re})}function Tn({currentLocation:R,nextLocation:z,historyAction:U}){if(ge.size===0)return;ge.size>1&&bt(!1,"A router only supports one blocker at a time");let re=Array.from(ge.entries()),[ce,Se]=re[re.length-1],pe=T.blockers.get(ce);if(!(pe&&pe.state==="proceeding")&&Se({currentLocation:R,nextLocation:z,historyAction:U}))return ce}function Pn(R){let z=Bn(404,{pathname:R}),U=u||c,{matches:re,route:ce}=Zl(U);return{notFoundMatches:re,route:ce,error:z}}function Ti(R,z,U){if(b=R,C=z,S=U||null,!k&&T.navigation===nh){k=!0;let re=ve(T.location,T.matches);re!=null&&Ge({restoreScrollPosition:re})}return()=>{b=null,C=null,S=null}}function Kn(R,z){return S&&S(R,z.map(re=>Wk(re,T.loaderData)))||R.key}function X(R,z){if(b&&C){let U=Kn(R,z);b[U]=C()}}function ve(R,z){if(b){let U=Kn(R,z),re=b[U];if(typeof re=="number")return re}return null}function Me(R,z,U){if(t.patchRoutesOnNavigation)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:ra(z,U,h,!0)}}else return{active:!0,matches:ra(z,U,h,!0)||[]};return{active:!1,matches:null}}async function Ee(R,z,U,re){if(!t.patchRoutesOnNavigation)return{type:"success",matches:R};let ce=R;for(;;){let Se=u==null,pe=u||c,xe=a;try{await t.patchRoutesOnNavigation({signal:U,path:z,matches:ce,fetcherKey:re,patch:(De,ke)=>{U.aborted||E0(De,ke,pe,xe,o,!1)}})}catch(De){return{type:"error",error:De,partialMatches:ce}}finally{Se&&!U.aborted&&(c=[...c])}if(U.aborted)return{type:"aborted"};let Ce=Sr(pe,z,h),be=null;if(Ce){if(Object.keys(Ce[0].params).length===0)return{type:"success",matches:Ce};if(be=ra(pe,z,h,!0),!(be&&ce.length<be.length&&Fe(ce,be.slice(0,ce.length))))return{type:"success",matches:Ce}}if(be||(be=ra(pe,z,h,!0)),!be||Fe(ce,be))return{type:"success",matches:null};ce=be}}function Fe(R,z){return R.length===z.length&&R.every((U,re)=>U.route.id===z[re].route.id)}function Pe(R){a={},u=ka(R,o,void 0,a)}function Xe(R,z,U=!1){let re=u==null;E0(R,z,u||c,a,o,U),re&&(c=[...c],Ge({}))}return j={get basename(){return h},get future(){return m},get state(){return T},get routes(){return c},get window(){return e},initialize:Oe,subscribe:qt,enableScrollRestoration:Ti,navigate:Qt,fetch:kn,revalidate:Mt,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:Mn,resetFetcher:Gn,deleteFetcher:Ir,dispose:yt,getBlocker:Vt,deleteBlocker:Ji,patchRoutes:Xe,_internalFetchControllers:H,_internalSetRoutes:Pe,_internalSetStateDoNotUseOrYouWillBreakYourApp(R){Ge(R)}},t.unstable_instrumentations&&(j=u_(j,t.unstable_instrumentations.map(R=>R.router).filter(Boolean))),j}function S_(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Yh(t,e,n,i,r,o){let a,c;if(r){a=[];for(let h of e)if(a.push(h),h.route.id===r){c=h;break}}else a=e,c=e[e.length-1];let u=Lf(i||".",Nf(a),Hn(t.pathname,n)||t.pathname,o==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let h=Ff(u.search);if(c.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let f=new URLSearchParams(u.search),m=f.getAll("index");f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=r_({basename:n,pathname:u.pathname})),xi(u)}function _0(t,e,n){if(!n||!S_(n))return{path:e};if(n.formMethod&&!V_(n.formMethod))return{path:e,error:Bn(405,{method:n.formMethod})};let i=()=>({path:e,error:Bn(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),a=_b(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Gt(o))return i();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[v,b])=>`${g}${v}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Gt(o))return i();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}$e(typeof FormData=="function","FormData is not available in this environment");let c,u;if(n.formData)c=qh(n.formData),u=n.formData;else if(n.body instanceof FormData)c=qh(n.body),u=n.body;else if(n.body instanceof URLSearchParams)c=n.body,u=A0(c);else if(n.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(n.body),u=A0(c)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Gt(h.formMethod))return{path:e,submission:h};let f=Qi(e);return t&&f.search&&Ff(f.search)&&c.append("index",""),f.search=`?${c}`,{path:xi(f),submission:h}}function M0(t,e,n,i,r,o,a,c,u,h,f,m,g,v,b,S,C,k,P,E,N){let D=E?bn(E[1])?E[1].error:E[1].data:void 0,j=r.createURL(o.location),T=r.createURL(u),A;if(f&&o.errors){let ne=Object.keys(o.errors)[0];A=a.findIndex(le=>le.route.id===ne)}else if(E&&bn(E[1])){let ne=E[0];A=a.findIndex(le=>le.route.id===ne)-1}let V=E?E[1].statusCode:void 0,G=V&&V>=400,q={currentUrl:j,currentParams:o.matches[0]?.params||{},nextUrl:T,nextParams:a[0].params,...c,actionResult:D,actionStatus:V},B=za(a),ee=a.map((ne,le)=>{let{route:te}=ne,H=null;if(A!=null&&le>A?H=!1:te.lazy?H=!0:jf(te)?f?H=Kh(te,o.loaderData,o.errors):C_(o.loaderData,o.matches[le],ne)&&(H=!0):H=!1,H!==null)return Xh(n,i,t,B,ne,h,e,H);let Z=!1;typeof N=="boolean"?Z=N:G?Z=!1:(m||j.pathname+j.search===T.pathname+T.search||j.search!==T.search||k_(o.matches[le],ne))&&(Z=!0);let J={...q,defaultShouldRevalidate:Z},O=da(ne,J);return Xh(n,i,t,B,ne,h,e,O,J,N)}),Q=[];return b.forEach((ne,le)=>{if(f||!a.some(ae=>ae.route.id===ne.routeId)||v.has(le))return;let te=o.fetchers.get(le),H=te&&te.state!=="idle"&&te.data===void 0,Z=Sr(C,ne.path,k);if(!Z){if(P&&H)return;Q.push({key:le,routeId:ne.routeId,path:ne.path,matches:null,match:null,request:null,controller:null});return}if(S.has(le))return;let J=_c(Z,ne.path),O=new AbortController,K=Xs(r,ne.path,O.signal),de=null;if(g.has(le))g.delete(le),de=to(n,i,K,Z,J,h,e);else if(H)m&&(de=to(n,i,K,Z,J,h,e));else{let ae;typeof N=="boolean"?ae=N:G?ae=!1:ae=m;let he={...q,defaultShouldRevalidate:ae};da(J,he)&&(de=to(n,i,K,Z,J,h,e,he))}de&&Q.push({key:le,routeId:ne.routeId,path:ne.path,matches:de,match:J,request:K,controller:O})}),{dsMatches:ee,revalidatingFetchers:Q}}function jf(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Kh(t,e,n){if(t.lazy)return!0;if(!jf(t))return!1;let i=e!=null&&t.id in e,r=n!=null&&n[t.id]!==void 0;return!i&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!r}function C_(t,e,n){let i=!e||n.route.id!==e.route.id,r=!t.hasOwnProperty(n.route.id);return i||r}function k_(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function da(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function E0(t,e,n,i,r,o){let a;if(t){let h=i[t];$e(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),a=h.children}else a=n;let c=[],u=[];if(e.forEach(h=>{let f=a.find(m=>bb(h,m));f?u.push({existingRoute:f,newRoute:h}):c.push(h)}),c.length>0){let h=ka(c,r,[t||"_","patch",String(a?.length||"0")],i);a.push(...h)}if(o&&u.length>0)for(let h=0;h<u.length;h++){let{existingRoute:f,newRoute:m}=u[h],g=f,[v]=ka([m],r,[],{},!0);Object.assign(g,{element:v.element?v.element:g.element,errorElement:v.errorElement?v.errorElement:g.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:g.hydrateFallbackElement})}}function bb(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>e.children?.some(r=>bb(n,r))):!1}var T0=new WeakMap,wb=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let r=n[e.id];if($e(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let o=r.lazy[t];if(!o)return;let a=T0.get(r);a||(a={},T0.set(r,a));let c=a[t];if(c)return c;let u=(async()=>{let h=Vk(t),m=r[t]!==void 0&&t!=="hasErrorBoundary";if(h)bt(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(m)bt(!1,`Route "${r.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let g=await o();g!=null&&(Object.assign(r,{[t]:g}),Object.assign(r,i(r)))}typeof r.lazy=="object"&&(r.lazy[t]=void 0,Object.values(r.lazy).every(g=>g===void 0)&&(r.lazy=void 0))})();return a[t]=u,u},P0=new WeakMap;function __(t,e,n,i,r){let o=n[t.id];if($e(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let f=P0.get(o);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let m=(async()=>{$e(typeof t.lazy=="function","No lazy route function found");let g=await t.lazy(),v={};for(let b in g){let S=g[b];if(S===void 0)continue;let C=$k(b),P=o[b]!==void 0&&b!=="hasErrorBoundary";C?bt(!C,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?bt(!P,`Route "${o.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):v[b]=S}Object.assign(o,v),Object.assign(o,{...i(o),lazy:void 0})})();return P0.set(o,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(t.lazy),c=[],u;for(let f of a){if(r&&r.includes(f))continue;let m=wb({key:f,route:t,manifest:n,mapRouteProperties:i});m&&(c.push(m),f===e&&(u=m))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:u}}async function D0(t){let e=t.matches.filter(r=>r.shouldLoad),n={};return(await Promise.all(e.map(r=>r.resolve()))).forEach((r,o)=>{n[e[o].route.id]=r}),n}async function M_(t){return t.matches.some(e=>e.route.middleware)?Sb(t,()=>D0(t)):D0(t)}function Sb(t,e){return E_(t,e,i=>{if(B_(i))throw i;return i},O_,n);function n(i,r,o){if(o)return Promise.resolve(Object.assign(o.value,{[r]:{type:"error",result:i}}));{let{matches:a}=t,c=Math.min(Math.max(a.findIndex(h=>h.route.id===r),0),Math.max(a.findIndex(h=>h.shouldCallHandler()),0)),u=Cr(a,a[c].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:i}})}}}async function E_(t,e,n,i,r){let{matches:o,request:a,params:c,context:u,unstable_pattern:h}=t,f=o.flatMap(g=>g.route.middleware?g.route.middleware.map(v=>[g.route.id,v]):[]);return await Cb({request:a,params:c,context:u,unstable_pattern:h},f,e,n,i,r)}async function Cb(t,e,n,i,r,o,a=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let u=e[a];if(!u)return await n();let[h,f]=u,m,g=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await Cb(t,e,n,i,r,o,a+1)},m.value}catch(v){return m={value:await o(v,h,m)},m.value}};try{let v=await f(t,g),b=v!=null?i(v):void 0;return r(b)?b:m?b??m.value:(m={value:await g()},m.value)}catch(v){return await o(v,h,m)}}function kb(t,e,n,i,r){let o=wb({key:"middleware",route:i.route,manifest:e,mapRouteProperties:t}),a=__(i.route,Gt(n.method)?"action":"loader",e,t,r);return{middleware:o,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Xh(t,e,n,i,r,o,a,c,u=null,h){let f=!1,m=kb(t,e,n,r,o);return{...r,_lazyPromises:m,shouldLoad:c,shouldRevalidateArgs:u,shouldCallHandler(g){return f=!0,u?typeof h=="boolean"?da(r,{...u,defaultShouldRevalidate:h}):typeof g=="boolean"?da(r,{...u,defaultShouldRevalidate:g}):da(r,u):c},resolve(g){let{lazy:v,loader:b,middleware:S}=r.route,C=f||c||g&&!Gt(n.method)&&(v||b),k=S&&S.length>0&&!b&&!v;return C&&(Gt(n.method)||!k)?P_({request:n,unstable_pattern:i,match:r,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:g,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function to(t,e,n,i,r,o,a,c=null){return i.map(u=>u.route.id!==r.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:kb(t,e,n,u,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Xh(t,e,n,za(i),u,o,a,!0,c))}async function T_(t,e,n,i,r,o){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let a={request:e,unstable_pattern:za(n),params:n[0].params,context:r,matches:n},u=await t({...a,fetcherKey:i,runClientMiddleware:h=>{let f=a;return Sb(f,()=>h({...f,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return u}async function P_({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:i,lazyRoutePromise:r,handlerOverride:o,scopedContext:a}){let c,u,h=Gt(t.method),f=h?"action":"loader",m=g=>{let v,b=new Promise((k,P)=>v=P);u=()=>v(),t.signal.addEventListener("abort",u);let S=k=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):g({request:t,unstable_pattern:e,params:n.params,context:a},...k!==void 0?[k]:[]),C=(async()=>{try{return{type:"data",result:await(o?o(P=>S(P)):S())}}catch(k){return{type:"error",result:k}}})();return Promise.race([C,b])};try{let g=h?n.route.action:n.route.loader;if(i||r)if(g){let v,[b]=await Promise.all([m(g).catch(S=>{v=S}),i,r]);if(v!==void 0)throw v;c=b}else{await i;let v=h?n.route.action:n.route.loader;if(v)[c]=await Promise.all([m(v),r]);else if(f==="action"){let b=new URL(t.url),S=b.pathname+b.search;throw Bn(405,{method:t.method,pathname:S,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)c=await m(g);else{let v=new URL(t.url),b=v.pathname+v.search;throw Bn(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{u&&t.signal.removeEventListener("abort",u)}return c}async function D_(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function R_(t){let{result:e,type:n}=t;if(Of(e)){let i;try{i=await D_(e)}catch(r){return{type:"error",error:r}}return n==="error"?{type:"error",error:new Ia(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return n==="error"?O0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:j_(e),statusCode:_a(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:_a(e)?e.status:void 0}:O0(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function A_(t,e,n,i,r){let o=t.headers.get("Location");if($e(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!eu(o)){let a=i.slice(0,i.findIndex(c=>c.route.id===n)+1);o=Yh(new URL(e.url),a,r,o),t.headers.set("Location",o)}return t}function R0(t,e,n,i){let r=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(eu(t)){let o=t,a=o.startsWith("//")?new URL(e.protocol+o):new URL(o);if(r.includes(a.protocol))throw new Error("Invalid redirect location");let c=Hn(a.pathname,n)!=null;if(a.origin===e.origin&&c)return a.pathname+a.search+a.hash}try{let o=i.createURL(t);if(r.includes(o.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Xs(t,e,n,i){let r=t.createURL(_b(e)).toString(),o={signal:n};if(i&&Gt(i.formMethod)){let{formMethod:a,formEncType:c}=i;o.method=a.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(i.json)):c==="text/plain"?o.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?o.body=qh(i.formData):o.body=i.formData}return new Request(r,o)}function qh(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function A0(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function N_(t,e,n,i=!1,r=!1){let o={},a=null,c,u=!1,h={},f=n&&bn(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,v=e[g];if($e(!ls(v),"Cannot handle redirect results in processLoaderData"),bn(v)){let b=v.error;if(f!==void 0&&(b=f,f=void 0),a=a||{},r)a[g]=b;else{let S=Cr(t,g);a[S.route.id]==null&&(a[S.route.id]=b)}i||(o[g]=xb),u||(u=!0,c=_a(v.error)?v.error.status:500),v.headers&&(h[g]=v.headers)}else o[g]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(c=v.statusCode),v.headers&&(h[g]=v.headers)}),f!==void 0&&n&&(a={[n[0]]:f},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:a,statusCode:c||200,loaderHeaders:h}}function N0(t,e,n,i,r,o){let{loaderData:a,errors:c}=N_(e,n,i);return r.filter(u=>!u.matches||u.matches.some(h=>h.shouldLoad)).forEach(u=>{let{key:h,match:f,controller:m}=u;if(m&&m.signal.aborted)return;let g=o[h];if($e(g,"Did not find corresponding fetcher result"),bn(g)){let v=Cr(t.matches,f?.route.id);c&&c[v.route.id]||(c={...c,[v.route.id]:g.error}),t.fetchers.delete(h)}else if(ls(g))$e(!1,"Unhandled fetcher revalidation redirect");else{let v=Vi(g.data);t.fetchers.set(h,v)}}),{loaderData:a,errors:c}}function L0(t,e,n,i){let r=Object.entries(e).filter(([,o])=>o!==xb).reduce((o,[a,c])=>(o[a]=c,o),{});for(let o of n){let a=o.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&o.route.loader&&(r[a]=t[a]),i&&i.hasOwnProperty(a))break}return r}function j0(t){return t?bn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Cr(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Zl(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Bn(t,{pathname:e,routeId:n,method:i,type:r,message:o}={}){let a="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&e&&n?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:r==="invalid-body"&&(c="Unable to encode submission body")):t===403?(a="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",c=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",i&&e&&n?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new Ia(t||500,a,new Error(c),!0)}function ec(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(ls(r))return{key:i,result:r}}}function _b(t){let e=typeof t=="string"?Qi(t):t;return xi({...e,hash:""})}function L_(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function j_(t){return new Ia(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function O_(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&F_(n))}function F_(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function I_(t){return Of(t.result)&&yb.has(t.result.status)}function bn(t){return t.type==="error"}function ls(t){return(t&&t.type)==="redirect"}function O0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Of(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function z_(t){return yb.has(t)}function B_(t){return Of(t)&&z_(t.status)&&t.headers.has("Location")}function V_(t){return y_.has(t.toUpperCase())}function Gt(t){return m_.has(t.toUpperCase())}function Ff(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function _c(t,e){let n=typeof e=="string"?Qi(e).search:e.search;if(t[t.length-1].route.index&&Ff(n||""))return t[t.length-1];let i=hb(t);return i[i.length-1]}function F0(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:o,json:a}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:a,text:void 0}}}function ih(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function U_(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $_(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Vi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function H_(t,e){try{let n=t.sessionStorage.getItem(vb);if(n){let i=JSON.parse(n);for(let[r,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(r,new Set(o||[]))}}catch{}}function W_(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(vb,JSON.stringify(n))}catch(i){bt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function I0(){let t,e,n=new Promise((i,r)=>{t=async o=>{i(o);try{await n}catch{}},e=async o=>{r(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var xs=M.createContext(null);xs.displayName="DataRouter";var Ba=M.createContext(null);Ba.displayName="DataRouterState";var Mb=M.createContext(!1);function G_(){return M.useContext(Mb)}var If=M.createContext({isTransitioning:!1});If.displayName="ViewTransition";var Eb=M.createContext(new Map);Eb.displayName="Fetchers";var Y_=M.createContext(null);Y_.displayName="Await";var Wn=M.createContext(null);Wn.displayName="Navigation";var tu=M.createContext(null);tu.displayName="Location";var Si=M.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var zf=M.createContext(null);zf.displayName="RouteError";var Tb="REACT_ROUTER_ERROR",K_="REDIRECT",X_="ROUTE_ERROR_RESPONSE";function q_(t){if(t.startsWith(`${Tb}:${K_}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Q_(t){if(t.startsWith(`${Tb}:${X_}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Ia(e.status,e.statusText,e.data)}catch{}}function J_(t,{relative:e}={}){$e(Va(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(Wn),{hash:r,pathname:o,search:a}=Ua(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:gi([n,o])),i.createHref({pathname:c,search:a,hash:r})}function Va(){return M.useContext(tu)!=null}function bs(){return $e(Va(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(tu).location}var Pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Db(t){M.useContext(Wn).static||M.useLayoutEffect(t)}function Rb(){let{isDataRoute:t}=M.useContext(Si);return t?f2():Z_()}function Z_(){$e(Va(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(xs),{basename:e,navigator:n}=M.useContext(Wn),{matches:i}=M.useContext(Si),{pathname:r}=bs(),o=JSON.stringify(Nf(i)),a=M.useRef(!1);return Db(()=>{a.current=!0}),M.useCallback((u,h={})=>{if(bt(a.current,Pb),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Lf(u,JSON.parse(o),r,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:gi([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,o,r,t])}var e2=M.createContext(null);function t2(t){let e=M.useContext(Si).outlet;return M.useMemo(()=>e&&M.createElement(e2.Provider,{value:t},e),[e,t])}function Ua(t,{relative:e}={}){let{matches:n}=M.useContext(Si),{pathname:i}=bs(),r=JSON.stringify(Nf(n));return M.useMemo(()=>Lf(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function n2(t,e,n,i,r){$e(Va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(Wn),{matches:a}=M.useContext(Si),c=a[a.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let P=m&&m.path||"";Nb(h,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=bs(),v;v=g;let b=v.pathname||"/",S=b;if(f!=="/"){let P=f.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=Sr(t,{pathname:S});return bt(m||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),bt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),a2(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:gi([f,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:gi([f,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),a,n,i,r)}function i2(){let t=h2(),e=_a(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:r},n):null,a)}var r2=M.createElement(i2,null),Ab=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Q_(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(Si.Provider,{value:this.props.routeContext},M.createElement(zf.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(s2,{error:t},e):e}};Ab.contextType=Mb;var rh=new WeakMap;function s2({children:t,error:e}){let{basename:n}=M.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=q_(e.digest);if(i){let r=rh.get(e);if(r)throw r;let o=pb(i.location,n);if(fb&&!rh.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw rh.set(e,a),a}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function o2({routeContext:t,match:e,children:n}){let i=M.useContext(xs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Si.Provider,{value:t},n)}function a2(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n?.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);$e(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:v}=n,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let h=n&&i?(f,m)=>{i(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:za(n.matches),errorInfo:m})}:void 0;return o.reduceRight((f,m,g)=>{let v,b=!1,S=null,C=null;n&&(v=a&&m.route.id?a[m.route.id]:void 0,S=m.route.errorElement||r2,c&&(u<0&&g===0?(Nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):u===g&&(b=!0,C=m.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,g+1)),P=()=>{let E;return v?E=S:b?E=C:m.route.Component?E=M.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=f,M.createElement(o2,{match:m,routeContext:{outlet:f,matches:k,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?M.createElement(Ab,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:h}):P()},null)}function Bf(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l2(t){let e=M.useContext(xs);return $e(e,Bf(t)),e}function c2(t){let e=M.useContext(Ba);return $e(e,Bf(t)),e}function u2(t){let e=M.useContext(Si);return $e(e,Bf(t)),e}function Vf(t){let e=u2(t),n=e.matches[e.matches.length-1];return $e(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function d2(){return Vf("useRouteId")}function h2(){let t=M.useContext(zf),e=c2("useRouteError"),n=Vf("useRouteError");return t!==void 0?t:e.errors?.[n]}function f2(){let{router:t}=l2("useNavigate"),e=Vf("useNavigate"),n=M.useRef(!1);return Db(()=>{n.current=!0}),M.useCallback(async(r,o={})=>{bt(n.current,Pb),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var z0={};function Nb(t,e,n){!e&&!z0[t]&&(z0[t]=!0,bt(!1,n))}var B0={};function V0(t,e){!t&&!B0[e]&&(B0[e]=!0,console.warn(e))}var p2="useOptimistic",U0=Tk[p2],m2=()=>{};function g2(t){return U0?U0(t):[t,m2]}function y2(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var v2=["HydrateFallback","hydrateFallbackElement"],x2=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function b2({router:t,flushSync:e,onError:n,unstable_useTransitions:i}){i=G_()||i;let[o,a]=M.useState(t.state),[c,u]=g2(o),[h,f]=M.useState(),[m,g]=M.useState({isTransitioning:!1}),[v,b]=M.useState(),[S,C]=M.useState(),[k,P]=M.useState(),E=M.useRef(new Map),N=M.useCallback((A,{deletedFetchers:V,newErrors:G,flushSync:q,viewTransitionOpts:B})=>{G&&n&&Object.values(G).forEach(Q=>n(Q,{location:A.location,params:A.matches[0]?.params??{},unstable_pattern:za(A.matches)})),A.fetchers.forEach((Q,ne)=>{Q.data!==void 0&&E.current.set(ne,Q.data)}),V.forEach(Q=>E.current.delete(Q)),V0(q===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ee=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(V0(B==null||ee,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!ee){e&&q?e(()=>a(A)):i===!1?a(A):M.startTransition(()=>{i===!0&&u(Q=>$0(Q,A)),a(A)});return}if(e&&q){e(()=>{S&&(v?.resolve(),S.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let Q=t.window.document.startViewTransition(()=>{e(()=>a(A))});Q.finished.finally(()=>{e(()=>{b(void 0),C(void 0),f(void 0),g({isTransitioning:!1})})}),e(()=>C(Q));return}S?(v?.resolve(),S.skipTransition(),P({state:A,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(f(A),g({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[t.window,e,S,v,i,u,n]);M.useLayoutEffect(()=>t.subscribe(N),[t,N]),M.useEffect(()=>{m.isTransitioning&&!m.flushSync&&b(new x2)},[m]),M.useEffect(()=>{if(v&&h&&t.window){let A=h,V=v.promise,G=t.window.document.startViewTransition(async()=>{i===!1?a(A):M.startTransition(()=>{i===!0&&u(q=>$0(q,A)),a(A)}),await V});G.finished.finally(()=>{b(void 0),C(void 0),f(void 0),g({isTransitioning:!1})}),C(G)}},[h,v,t.window,i,u]),M.useEffect(()=>{v&&h&&c.location.key===h.location.key&&v.resolve()},[v,S,c.location,h]),M.useEffect(()=>{!m.isTransitioning&&k&&(f(k.state),g({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),P(void 0))},[m.isTransitioning,k]);let D=M.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,V,G)=>t.navigate(A,{state:V,preventScrollReset:G?.preventScrollReset}),replace:(A,V,G)=>t.navigate(A,{replace:!0,state:V,preventScrollReset:G?.preventScrollReset})}),[t]),j=t.basename||"/",T=M.useMemo(()=>({router:t,navigator:D,static:!1,basename:j,onError:n}),[t,D,j,n]);return M.createElement(M.Fragment,null,M.createElement(xs.Provider,{value:T},M.createElement(Ba.Provider,{value:c},M.createElement(Eb.Provider,{value:E.current},M.createElement(If.Provider,{value:m},M.createElement(k2,{basename:j,location:c.location,navigationType:c.historyAction,navigator:D,unstable_useTransitions:i},M.createElement(w2,{routes:t.routes,future:t.future,state:c,onError:n})))))),null)}function $0(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var w2=M.memo(S2);function S2({routes:t,future:e,state:n,onError:i}){return n2(t,void 0,n,i,e)}function C2(t){return t2(t.context)}function k2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:a}){$e(!Va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:c,navigator:r,static:o,unstable_useTransitions:a,future:{}}),[c,r,o,a]);typeof n=="string"&&(n=Qi(n));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:v="default"}=n,b=M.useMemo(()=>{let S=Hn(h,c);return S==null?null:{location:{pathname:S,search:f,hash:m,state:g,key:v},navigationType:i}},[c,h,f,m,g,v,i]);return bt(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(Wn.Provider,{value:u},M.createElement(tu.Provider,{children:e,value:b}))}var Mc="get",Ec="application/x-www-form-urlencoded";function nu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function _2(t){return nu(t)&&t.tagName.toLowerCase()==="button"}function M2(t){return nu(t)&&t.tagName.toLowerCase()==="form"}function E2(t){return nu(t)&&t.tagName.toLowerCase()==="input"}function T2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function P2(t,e){return t.button===0&&(!e||e==="_self")&&!T2(t)}var tc=null;function D2(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var R2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sh(t){return t!=null&&!R2.has(t)?(bt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):t}function A2(t,e){let n,i,r,o,a;if(M2(t)){let c=t.getAttribute("action");i=c?Hn(c,e):null,n=t.getAttribute("method")||Mc,r=sh(t.getAttribute("enctype"))||Ec,o=new FormData(t)}else if(_2(t)||E2(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(i=u?Hn(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Mc,r=sh(t.getAttribute("formenctype"))||sh(c.getAttribute("enctype"))||Ec,o=new FormData(c,t),!D2()){let{name:h,type:f,value:m}=t;if(f==="image"){let g=h?`${h}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else h&&o.append(h,m)}}else{if(nu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mc,i=null,r=Ec,a=t}return o&&r==="text/plain"&&(a=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function N2(t,e,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&Hn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function L2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function O2(t,e,n){let i=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let a=await L2(o,n);return a.links?a.links():[]}return[]}));return B2(i.flat(1).filter(j2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function H0(t,e,n,i,r,o){let a=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>n[h].pathname!==u.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,h)=>a(u,h)||c(u,h)):o==="data"?e.filter((u,h)=>{let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function F2(t,e,{includeHydrateFallback:n}={}){return I2(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function I2(t){return[...new Set(t)]}function z2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function B2(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let o=JSON.stringify(z2(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}function Lb(){let t=M.useContext(xs);return Uf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function V2(){let t=M.useContext(Ba);return Uf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $f=M.createContext(void 0);$f.displayName="FrameworkContext";function jb(){let t=M.useContext($f);return Uf(t,"You must render this element inside a <HydratedRouter> element"),t}function U2(t,e){let n=M.useContext($f),[i,r]=M.useState(!1),[o,a]=M.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,g=M.useRef(null);M.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let S=k=>{k.forEach(P=>{a(P.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[t]),M.useEffect(()=>{if(i){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{r(!0)},b=()=>{r(!1),a(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:qo(c,v),onBlur:qo(u,b),onMouseEnter:qo(h,v),onMouseLeave:qo(f,b),onTouchStart:qo(m,v)}]:[!1,g,{}]}function qo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $2({page:t,...e}){let{router:n}=Lb(),i=M.useMemo(()=>Sr(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?M.createElement(W2,{page:t,matches:i,...e}):null}function H2(t){let{manifest:e,routeModules:n}=jb(),[i,r]=M.useState([]);return M.useEffect(()=>{let o=!1;return O2(t,e,n).then(a=>{o||r(a)}),()=>{o=!0}},[t,e,n]),i}function W2({page:t,matches:e,...n}){let i=bs(),{future:r,manifest:o,routeModules:a}=jb(),{basename:c}=Lb(),{loaderData:u,matches:h}=V2(),f=M.useMemo(()=>H0(t,e,h,o,i,"data"),[t,e,h,o,i]),m=M.useMemo(()=>H0(t,e,h,o,i,"assets"),[t,e,h,o,i]),g=M.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,C=!1;if(e.forEach(P=>{let E=o.routes[P.route.id];!E||!E.hasLoader||(!f.some(N=>N.route.id===P.route.id)&&P.route.id in u&&a[P.route.id]?.shouldRevalidate||E.hasClientLoader?C=!0:S.add(P.route.id))}),S.size===0)return[];let k=N2(t,c,r.unstable_trailingSlashAwareDataRequests,"data");return C&&S.size>0&&k.searchParams.set("_routes",e.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[k.pathname+k.search]},[c,r.unstable_trailingSlashAwareDataRequests,u,i,o,f,e,t,a]),v=M.useMemo(()=>F2(m,o),[m,o]),b=H2(m);return M.createElement(M.Fragment,null,g.map(S=>M.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>M.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:C})=>M.createElement("link",{key:S,nonce:n.nonce,...C})))}function G2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y2&&(window.__reactRouterVersion="7.12.0")}catch{}function K2(t,e){return w_({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:Fk({window:e?.window}),hydrationData:X2(),routes:t,mapRouteProperties:y2,hydrationRouteProperties:v2,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function X2(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:q2(t.errors)}),t}function q2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new Ia(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let o=window[r.__subType];if(typeof o=="function")try{let a=new o(r.message);a.stack="",n[i]=a}catch{}}if(n[i]==null){let o=new Error(r.message);o.stack="",n[i]=o}}else n[i]=r;return n}var Ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fb=M.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:a,state:c,target:u,to:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...v},b){let{basename:S,unstable_useTransitions:C}=M.useContext(Wn),k=typeof h=="string"&&Ob.test(h),P=pb(h,S);h=P.to;let E=J_(h,{relative:r}),[N,D,j]=U2(i,v),T=Z2(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:C});function A(G){e&&e(G),G.defaultPrevented||T(G)}let V=M.createElement("a",{...v,...j,href:P.absoluteURL||E,onClick:P.isExternal||o?e:A,ref:G2(b,D),target:u,"data-discover":!k&&n==="render"?"true":void 0});return N&&!k?M.createElement(M.Fragment,null,V,M.createElement($2,{page:E})):V});Fb.displayName="Link";var Ib=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:a,viewTransition:c,children:u,...h},f){let m=Ua(a,{relative:h.relative}),g=bs(),v=M.useContext(Ba),{navigator:b,basename:S}=M.useContext(Wn),C=v!=null&&rM(m)&&c===!0,k=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,P=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(P=P.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&S&&(E=Hn(E,S)||E);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let D=P===k||!r&&P.startsWith(k)&&P.charAt(N)==="/",j=E!=null&&(E===k||!r&&E.startsWith(k)&&E.charAt(k.length)==="/"),T={isActive:D,isPending:j,isTransitioning:C},A=D?e:void 0,V;typeof i=="function"?V=i(T):V=[i,D?"active":null,j?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(T):o;return M.createElement(Fb,{...h,"aria-current":A,className:V,ref:f,style:G,to:a,viewTransition:c},typeof u=="function"?u(T):u)});Ib.displayName="NavLink";var Q2=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:o,method:a=Mc,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...v},b)=>{let{unstable_useTransitions:S}=M.useContext(Wn),C=nM(),k=iM(c,{relative:h}),P=a.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&Ob.test(c),N=D=>{if(u&&u(D),D.defaultPrevented)return;D.preventDefault();let j=D.nativeEvent.submitter,T=j?.getAttribute("formmethod")||a,A=()=>C(j||D.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:r,state:o,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g});S&&n!==!1?M.startTransition(()=>A()):A()};return M.createElement("form",{ref:b,method:P,action:k,onSubmit:i?u:N,...v,"data-discover":!E&&t==="render"?"true":void 0})});Q2.displayName="Form";function J2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zb(t){let e=M.useContext(xs);return $e(e,J2(t)),e}function Z2(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let h=Rb(),f=bs(),m=Ua(t,{relative:o});return M.useCallback(g=>{if(P2(g,e)){g.preventDefault();let v=n!==void 0?n:xi(f)===xi(m),b=()=>h(t,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:c});u?M.startTransition(()=>b()):b()}},[f,h,m,n,i,e,t,r,o,a,c,u])}var eM=0,tM=()=>`__${String(++eM)}__`;function nM(){let{router:t}=zb("useSubmit"),{basename:e}=M.useContext(Wn),n=d2(),i=t.fetch,r=t.navigate;return M.useCallback(async(o,a={})=>{let{action:c,method:u,encType:h,formData:f,body:m}=A2(o,e);if(a.navigate===!1){let g=a.fetcherKey||tM();await i(g,n,a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await r(a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,n])}function iM(t,{relative:e}={}){let{basename:n}=M.useContext(Wn),i=M.useContext(Si);$e(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Ua(t||".",{relative:e})},a=bs();if(t==null){o.search=a.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:gi([n,o.pathname])),xi(o)}function rM(t,{relative:e}={}){let n=M.useContext(If);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zb("useViewTransitionState"),r=Ua(t,{relative:e});if(!n.isTransitioning)return!1;let o=Hn(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Hn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return jc(r.pathname,a)!=null||jc(r.pathname,o)!=null}var sM=ob();function oM(t){return M.createElement(b2,{flushSync:sM.flushSync,...t})}function Bb(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Bb(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function aM(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Bb(t))&&(i&&(i+=" "),i+=e);return i}function ha(t){let e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}function Qh(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function lM(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t}function W0(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function G0(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function cM(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function uM(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function oh(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function dM(t,e){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}function hM(t,e){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function Y0(t){let e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function fM(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function pM(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Jh(t,e){let n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function Vb(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function K0(t,e,n){let i=e[0],r=e[1],o=e[2],a=n[0],c=n[1],u=n[2];return t[0]=r*u-o*c,t[1]=o*a-i*u,t[2]=i*c-r*a,t}function mM(t,e,n,i){let r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t}function gM(t,e,n,i,r){const o=Math.exp(-i*r);let a=e[0],c=e[1],u=e[2];return t[0]=n[0]+(a-n[0])*o,t[1]=n[1]+(c-n[1])*o,t[2]=n[2]+(u-n[2])*o,t}function yM(t,e,n){let i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t}function vM(t,e,n){let i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o)/a,t[1]=(n[1]*i+n[5]*r+n[9]*o)/a,t[2]=(n[2]*i+n[6]*r+n[10]*o)/a,t}function xM(t,e,n){let i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t}function bM(t,e,n){let i=e[0],r=e[1],o=e[2],a=n[0],c=n[1],u=n[2],h=n[3],f=c*o-u*r,m=u*i-a*o,g=a*r-c*i,v=c*g-u*m,b=u*f-a*g,S=a*m-c*f,C=h*2;return f*=C,m*=C,g*=C,v*=2,b*=2,S*=2,t[0]=i+f+v,t[1]=r+m+b,t[2]=o+g+S,t}const wM=(function(){const t=[0,0,0],e=[0,0,0];return function(n,i){Qh(t,n),Qh(e,i),Jh(t,t),Jh(e,e);let r=Vb(t,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}})();function SM(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class ii extends Array{constructor(e=0,n=e,i=e){return super(e,n,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,i=e){return e.length?this.copy(e):(lM(this,e,n,i),this)}copy(e){return Qh(this,e),this}add(e,n){return n?W0(this,e,n):W0(this,this,e),this}sub(e,n){return n?G0(this,e,n):G0(this,this,e),this}multiply(e){return e.length?cM(this,this,e):oh(this,this,e),this}divide(e){return e.length?uM(this,this,e):oh(this,this,1/e),this}inverse(e=this){return pM(this,e),this}len(){return ha(this)}distance(e){return e?dM(this,e):ha(this)}squaredLen(){return Y0(this)}squaredDistance(e){return e?hM(this,e):Y0(this)}negate(e=this){return fM(this,e),this}cross(e,n){return n?K0(this,e,n):K0(this,this,e),this}scale(e){return oh(this,this,e),this}normalize(){return Jh(this,this),this}dot(e){return Vb(this,e)}equals(e){return SM(this,e)}applyMatrix3(e){return xM(this,this,e),this}applyMatrix4(e){return yM(this,this,e),this}scaleRotateMatrix4(e){return vM(this,this,e),this}applyQuaternion(e){return bM(this,this,e),this}angle(e){return wM(this,e)}lerp(e,n){return mM(this,this,e,n),this}smoothLerp(e,n,i){return gM(this,this,e,n,i),this}clone(){return new ii(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],i=this[1],r=this[2];return this[0]=e[0]*n+e[4]*i+e[8]*r,this[1]=e[1]*n+e[5]*i+e[9]*r,this[2]=e[2]*n+e[6]*i+e[10]*r,this.normalize()}}const X0=new ii;let CM=1,kM=1,q0=!1;class _M{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=CM++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in n)this.addAttribute(i,n[i])}addAttribute(e,n){if(this.attributes[e]=n,n.id=kM++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:i,type:r})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const o=this.attributes[i];this.gl.bindBuffer(o.target,o.buffer),this.glState.boundBuffer=o.buffer;let a=1;r===35674&&(a=2),r===35675&&(a=3),r===35676&&(a=4);const c=o.size/a,u=a===1?0:a*a*4,h=a===1?0:a*4;for(let f=0;f<a;f++)this.gl.vertexAttribPointer(n+f,c,o.type,o.normalized,o.stride+u,o.offset+f*h),this.gl.enableVertexAttribArray(n+f),this.gl.renderer.vertexAttribDivisor(n+f,o.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((r,{name:o})=>{const a=this.attributes[o];a.needsUpdate&&this.updateAttribute(a)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!q0)return console.warn("No position buffer data found to compute bounds"),q0=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,i=e.size;this.bounds||(this.bounds={min:new ii,max:new ii,center:new ii,scale:new ii,radius:1/0});const r=this.bounds.min,o=this.bounds.max,a=this.bounds.center,c=this.bounds.scale;r.set(1/0),o.set(-1/0);for(let u=0,h=n.length;u<h;u+=i){const f=n[u],m=n[u+1],g=n[u+2];r.x=Math.min(f,r.x),r.y=Math.min(m,r.y),r.z=Math.min(g,r.z),o.x=Math.max(f,o.x),o.y=Math.max(m,o.y),o.z=Math.max(g,o.z)}c.sub(o,r),a.add(r,o).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,i=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let o=0,a=n.length;o<a;o+=i)X0.fromArray(n,o),r=Math.max(r,this.bounds.center.squaredDistance(X0));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let MM=1;const Q0={};class EM{constructor(e,{vertex:n,fragment:i,uniforms:r={},transparent:o=!1,cullFace:a=e.BACK,frontFace:c=e.CCW,depthTest:u=!0,depthWrite:h=!0,depthFunc:f=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=r,this.id=MM++,n||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=o,this.cullFace=a,this.frontFace=c,this.depthTest=u,this.depthWrite=h,this.depthFunc=f,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:i})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${J0(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${J0(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let a=0;a<i;a++){let c=this.gl.getActiveUniform(this.program,a);this.uniformLocations.set(c,this.gl.getUniformLocation(this.program,c.name));const u=c.name.match(/(\w+)/g);c.uniformName=u[0],c.nameComponents=u.slice(1)}this.attributeLocations=new Map;const r=[],o=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<o;a++){const c=this.gl.getActiveAttrib(this.program,a),u=this.gl.getAttribLocation(this.program,c.name);u!==-1&&(r[u]=c.name,this.attributeLocations.set(c,u))}this.attributeOrder=r.join("")}setBlendFunc(e,n,i,r){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,i){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=i}setStencilOp(e,n,i){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,o)=>{let a=this.uniforms[o.uniformName];for(const c of o.nameComponents){if(!a)break;if(c in a)a=a[c];else{if(Array.isArray(a.value))break;a=void 0;break}}if(!a)return Z0(`Active uniform ${o.name} has not been supplied`);if(a&&a.value===void 0)return Z0(`${o.name} uniform is missing a value parameter`);if(a.value.texture)return n=n+1,a.value.update(n),ah(this.gl,o.type,r,n);if(a.value.length&&a.value[0].texture){const c=[];return a.value.forEach(u=>{n=n+1,u.update(n),c.push(n)}),ah(this.gl,o.type,r,c)}ah(this.gl,o.type,r,a.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function ah(t,e,n,i){i=i.length?TM(i):i;const r=t.renderer.state.uniformLocations.get(n);if(i.length)if(r===void 0||r.length!==i.length)t.renderer.state.uniformLocations.set(n,i.slice(0));else{if(PM(r,i))return;r.set?r.set(i):DM(r,i),t.renderer.state.uniformLocations.set(n,r)}else{if(r===i)return;t.renderer.state.uniformLocations.set(n,i)}switch(e){case 5126:return i.length?t.uniform1fv(n,i):t.uniform1f(n,i);case 35664:return t.uniform2fv(n,i);case 35665:return t.uniform3fv(n,i);case 35666:return t.uniform4fv(n,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?t.uniform1iv(n,i):t.uniform1i(n,i);case 35671:case 35667:return t.uniform2iv(n,i);case 35672:case 35668:return t.uniform3iv(n,i);case 35673:case 35669:return t.uniform4iv(n,i);case 35674:return t.uniformMatrix2fv(n,!1,i);case 35675:return t.uniformMatrix3fv(n,!1,i);case 35676:return t.uniformMatrix4fv(n,!1,i)}}function J0(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function TM(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const i=e*n;let r=Q0[i];r||(Q0[i]=r=new Float32Array(i));for(let o=0;o<e;o++)r.set(t[o],o*n);return r}function PM(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function DM(t,e){for(let n=0,i=t.length;n<i;n++)t[n]=e[n]}let lh=0;function Z0(t){lh>100||(console.warn(t),lh++,lh>100&&console.warn("More than 100 program warnings - stopping logs."))}const ch=new ii;let RM=1;class AM{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:i=150,dpr:r=1,alpha:o=!1,depth:a=!0,stencil:c=!1,antialias:u=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:f=!1,powerPreference:m="default",autoClear:g=!0,webgl:v=2}={}){const b={alpha:o,depth:a,stencil:c,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:f,powerPreference:m};this.dpr=r,this.alpha=o,this.color=!0,this.depth=a,this.stencil=c,this.premultipliedAlpha=h,this.autoClear=g,this.id=RM++,v===2&&(this.gl=e.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,i=0,r=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=i,this.state.viewport.y=r,this.gl.viewport(i,r,e,n))}setScissor(e,n,i=0,r=0){this.gl.scissor(i,r,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,i,r){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=r,i!==void 0?this.gl.blendFuncSeparate(e,n,i,r):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,i){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===i||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,i||0))}setStencilOp(e,n,i){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===i||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=i,this.gl.stencilOp(e,n,i))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,i){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:i,sort:r}){let o=[];if(n&&i&&n.updateFrustum(),e.traverse(a=>{if(!a.visible)return!0;a.draw&&(i&&a.frustumCulled&&n&&!n.frustumIntersectsMesh(a)||o.push(a))}),r){const a=[],c=[],u=[];o.forEach(h=>{h.program.transparent?h.program.depthTest?c.push(h):u.push(h):a.push(h),h.zDepth=0,!(h.renderOrder!==0||!h.program.depthTest||!n)&&(h.worldMatrix.getTranslation(ch),ch.applyMatrix4(n.projectionViewMatrix),h.zDepth=ch.z)}),a.sort(this.sortOpaque),c.sort(this.sortTransparent),u.sort(this.sortUI),o=a.concat(c,u)}return o}render({scene:e,camera:n,target:i=null,update:r=!0,sort:o=!0,frustumCull:a=!0,clear:c}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(c||this.autoClear&&c!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:a,sort:o}).forEach(h=>{h.draw({camera:n})})}}function NM(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function LM(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function jM(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=i*a,t[2]=r*a,t[3]=o*a,t}function OM(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function FM(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function IM(t,e,n){n=n*.5;let i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t}function ey(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=n[0],u=n[1],h=n[2],f=n[3];return t[0]=i*f+a*c+r*h-o*u,t[1]=r*f+a*u+o*c-i*h,t[2]=o*f+a*h+i*u-r*c,t[3]=a*f-i*c-r*u-o*h,t}function zM(t,e,n){n*=.5;let i=e[0],r=e[1],o=e[2],a=e[3],c=Math.sin(n),u=Math.cos(n);return t[0]=i*u+a*c,t[1]=r*u+o*c,t[2]=o*u-r*c,t[3]=a*u-i*c,t}function BM(t,e,n){n*=.5;let i=e[0],r=e[1],o=e[2],a=e[3],c=Math.sin(n),u=Math.cos(n);return t[0]=i*u-o*c,t[1]=r*u+a*c,t[2]=o*u+i*c,t[3]=a*u-r*c,t}function VM(t,e,n){n*=.5;let i=e[0],r=e[1],o=e[2],a=e[3],c=Math.sin(n),u=Math.cos(n);return t[0]=i*u+r*c,t[1]=r*u-i*c,t[2]=o*u+a*c,t[3]=a*u-o*c,t}function UM(t,e,n,i){let r=e[0],o=e[1],a=e[2],c=e[3],u=n[0],h=n[1],f=n[2],m=n[3],g,v,b,S,C;return v=r*u+o*h+a*f+c*m,v<0&&(v=-v,u=-u,h=-h,f=-f,m=-m),1-v>1e-6?(g=Math.acos(v),b=Math.sin(g),S=Math.sin((1-i)*g)/b,C=Math.sin(i*g)/b):(S=1-i,C=i),t[0]=S*r+C*u,t[1]=S*o+C*h,t[2]=S*a+C*f,t[3]=S*c+C*m,t}function $M(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o,c=a?1/a:0;return t[0]=-n*c,t[1]=-i*c,t[2]=-r*c,t[3]=o*c,t}function HM(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function WM(t,e){let n=e[0]+e[4]+e[8],i;if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[r*3+r]&&(r=2);let o=(r+1)%3,a=(r+2)%3;i=Math.sqrt(e[r*3+r]-e[o*3+o]-e[a*3+a]+1),t[r]=.5*i,i=.5/i,t[3]=(e[o*3+a]-e[a*3+o])*i,t[o]=(e[o*3+r]+e[r*3+o])*i,t[a]=(e[a*3+r]+e[r*3+a])*i}return t}function GM(t,e,n="YXZ"){let i=Math.sin(e[0]*.5),r=Math.cos(e[0]*.5),o=Math.sin(e[1]*.5),a=Math.cos(e[1]*.5),c=Math.sin(e[2]*.5),u=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=i*a*u+r*o*c,t[1]=r*o*u-i*a*c,t[2]=r*a*c+i*o*u,t[3]=r*a*u-i*o*c):n==="YXZ"?(t[0]=i*a*u+r*o*c,t[1]=r*o*u-i*a*c,t[2]=r*a*c-i*o*u,t[3]=r*a*u+i*o*c):n==="ZXY"?(t[0]=i*a*u-r*o*c,t[1]=r*o*u+i*a*c,t[2]=r*a*c+i*o*u,t[3]=r*a*u-i*o*c):n==="ZYX"?(t[0]=i*a*u-r*o*c,t[1]=r*o*u+i*a*c,t[2]=r*a*c-i*o*u,t[3]=r*a*u+i*o*c):n==="YZX"?(t[0]=i*a*u+r*o*c,t[1]=r*o*u+i*a*c,t[2]=r*a*c-i*o*u,t[3]=r*a*u-i*o*c):n==="XZY"&&(t[0]=i*a*u-r*o*c,t[1]=r*o*u-i*a*c,t[2]=r*a*c+i*o*u,t[3]=r*a*u+i*o*c),t}const YM=NM,KM=LM,XM=OM,qM=jM;class QM extends Array{constructor(e=0,n=0,i=0,r=1){super(e,n,i,r),this.onChange=()=>{},this._target=this;const o=["0","1","2","3"];return new Proxy(this,{set(a,c){const u=Reflect.set(...arguments);return u&&o.includes(c)&&a.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return FM(this._target),this.onChange(),this}set(e,n,i,r){return e.length?this.copy(e):(KM(this._target,e,n,i,r),this.onChange(),this)}rotateX(e){return zM(this._target,this._target,e),this.onChange(),this}rotateY(e){return BM(this._target,this._target,e),this.onChange(),this}rotateZ(e){return VM(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return $M(this._target,e),this.onChange(),this}conjugate(e=this._target){return HM(this._target,e),this.onChange(),this}copy(e){return YM(this._target,e),this.onChange(),this}normalize(e=this._target){return qM(this._target,e),this.onChange(),this}multiply(e,n){return n?ey(this._target,e,n):ey(this._target,this._target,e),this.onChange(),this}dot(e){return XM(this._target,e)}fromMatrix3(e){return WM(this._target,e),this.onChange(),this}fromEuler(e,n){return GM(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return IM(this._target,e,n),this.onChange(),this}slerp(e,n){return UM(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const JM=1e-6;function ZM(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function eE(t,e,n,i,r,o,a,c,u,h,f,m,g,v,b,S,C){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=c,t[7]=u,t[8]=h,t[9]=f,t[10]=m,t[11]=g,t[12]=v,t[13]=b,t[14]=S,t[15]=C,t}function tE(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nE(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=e[9],g=e[10],v=e[11],b=e[12],S=e[13],C=e[14],k=e[15],P=n*c-i*a,E=n*u-r*a,N=n*h-o*a,D=i*u-r*c,j=i*h-o*c,T=r*h-o*u,A=f*S-m*b,V=f*C-g*b,G=f*k-v*b,q=m*C-g*S,B=m*k-v*S,ee=g*k-v*C,Q=P*ee-E*B+N*q+D*G-j*V+T*A;return Q?(Q=1/Q,t[0]=(c*ee-u*B+h*q)*Q,t[1]=(r*B-i*ee-o*q)*Q,t[2]=(S*T-C*j+k*D)*Q,t[3]=(g*j-m*T-v*D)*Q,t[4]=(u*G-a*ee-h*V)*Q,t[5]=(n*ee-r*G+o*V)*Q,t[6]=(C*N-b*T-k*E)*Q,t[7]=(f*T-g*N+v*E)*Q,t[8]=(a*B-c*G+h*A)*Q,t[9]=(i*G-n*B-o*A)*Q,t[10]=(b*j-S*N+k*P)*Q,t[11]=(m*N-f*j-v*P)*Q,t[12]=(c*V-a*q-u*A)*Q,t[13]=(n*q-i*V+r*A)*Q,t[14]=(S*E-b*D-C*P)*Q,t[15]=(f*D-m*E+g*P)*Q,t):null}function Ub(t){let e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],c=t[6],u=t[7],h=t[8],f=t[9],m=t[10],g=t[11],v=t[12],b=t[13],S=t[14],C=t[15],k=e*a-n*o,P=e*c-i*o,E=e*u-r*o,N=n*c-i*a,D=n*u-r*a,j=i*u-r*c,T=h*b-f*v,A=h*S-m*v,V=h*C-g*v,G=f*S-m*b,q=f*C-g*b,B=m*C-g*S;return k*B-P*q+E*G+N*V-D*A+j*T}function ty(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5],h=e[6],f=e[7],m=e[8],g=e[9],v=e[10],b=e[11],S=e[12],C=e[13],k=e[14],P=e[15],E=n[0],N=n[1],D=n[2],j=n[3];return t[0]=E*i+N*c+D*m+j*S,t[1]=E*r+N*u+D*g+j*C,t[2]=E*o+N*h+D*v+j*k,t[3]=E*a+N*f+D*b+j*P,E=n[4],N=n[5],D=n[6],j=n[7],t[4]=E*i+N*c+D*m+j*S,t[5]=E*r+N*u+D*g+j*C,t[6]=E*o+N*h+D*v+j*k,t[7]=E*a+N*f+D*b+j*P,E=n[8],N=n[9],D=n[10],j=n[11],t[8]=E*i+N*c+D*m+j*S,t[9]=E*r+N*u+D*g+j*C,t[10]=E*o+N*h+D*v+j*k,t[11]=E*a+N*f+D*b+j*P,E=n[12],N=n[13],D=n[14],j=n[15],t[12]=E*i+N*c+D*m+j*S,t[13]=E*r+N*u+D*g+j*C,t[14]=E*o+N*h+D*v+j*k,t[15]=E*a+N*f+D*b+j*P,t}function iE(t,e,n){let i=n[0],r=n[1],o=n[2],a,c,u,h,f,m,g,v,b,S,C,k;return e===t?(t[12]=e[0]*i+e[4]*r+e[8]*o+e[12],t[13]=e[1]*i+e[5]*r+e[9]*o+e[13],t[14]=e[2]*i+e[6]*r+e[10]*o+e[14],t[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[0],c=e[1],u=e[2],h=e[3],f=e[4],m=e[5],g=e[6],v=e[7],b=e[8],S=e[9],C=e[10],k=e[11],t[0]=a,t[1]=c,t[2]=u,t[3]=h,t[4]=f,t[5]=m,t[6]=g,t[7]=v,t[8]=b,t[9]=S,t[10]=C,t[11]=k,t[12]=a*i+f*r+b*o+e[12],t[13]=c*i+m*r+S*o+e[13],t[14]=u*i+g*r+C*o+e[14],t[15]=h*i+v*r+k*o+e[15]),t}function rE(t,e,n){let i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function sE(t,e,n,i){let r=i[0],o=i[1],a=i[2],c=Math.hypot(r,o,a),u,h,f,m,g,v,b,S,C,k,P,E,N,D,j,T,A,V,G,q,B,ee,Q,ne;return Math.abs(c)<JM?null:(c=1/c,r*=c,o*=c,a*=c,u=Math.sin(n),h=Math.cos(n),f=1-h,m=e[0],g=e[1],v=e[2],b=e[3],S=e[4],C=e[5],k=e[6],P=e[7],E=e[8],N=e[9],D=e[10],j=e[11],T=r*r*f+h,A=o*r*f+a*u,V=a*r*f-o*u,G=r*o*f-a*u,q=o*o*f+h,B=a*o*f+r*u,ee=r*a*f+o*u,Q=o*a*f-r*u,ne=a*a*f+h,t[0]=m*T+S*A+E*V,t[1]=g*T+C*A+N*V,t[2]=v*T+k*A+D*V,t[3]=b*T+P*A+j*V,t[4]=m*G+S*q+E*B,t[5]=g*G+C*q+N*B,t[6]=v*G+k*q+D*B,t[7]=b*G+P*q+j*B,t[8]=m*ee+S*Q+E*ne,t[9]=g*ee+C*Q+N*ne,t[10]=v*ee+k*Q+D*ne,t[11]=b*ee+P*Q+j*ne,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function oE(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function $b(t,e){let n=e[0],i=e[1],r=e[2],o=e[4],a=e[5],c=e[6],u=e[8],h=e[9],f=e[10];return t[0]=Math.hypot(n,i,r),t[1]=Math.hypot(o,a,c),t[2]=Math.hypot(u,h,f),t}function aE(t){let e=t[0],n=t[1],i=t[2],r=t[4],o=t[5],a=t[6],c=t[8],u=t[9],h=t[10];const f=e*e+n*n+i*i,m=r*r+o*o+a*a,g=c*c+u*u+h*h;return Math.sqrt(Math.max(f,m,g))}const Hb=(function(){const t=[1,1,1];return function(e,n){let i=t;$b(i,n);let r=1/i[0],o=1/i[1],a=1/i[2],c=n[0]*r,u=n[1]*o,h=n[2]*a,f=n[4]*r,m=n[5]*o,g=n[6]*a,v=n[8]*r,b=n[9]*o,S=n[10]*a,C=c+m+S,k=0;return C>0?(k=Math.sqrt(C+1)*2,e[3]=.25*k,e[0]=(g-b)/k,e[1]=(v-h)/k,e[2]=(u-f)/k):c>m&&c>S?(k=Math.sqrt(1+c-m-S)*2,e[3]=(g-b)/k,e[0]=.25*k,e[1]=(u+f)/k,e[2]=(v+h)/k):m>S?(k=Math.sqrt(1+m-c-S)*2,e[3]=(v-h)/k,e[0]=(u+f)/k,e[1]=.25*k,e[2]=(g+b)/k):(k=Math.sqrt(1+S-c-m)*2,e[3]=(u-f)/k,e[0]=(v+h)/k,e[1]=(g+b)/k,e[2]=.25*k),e}})();function lE(t,e,n,i){let r=ha([t[0],t[1],t[2]]);const o=ha([t[4],t[5],t[6]]),a=ha([t[8],t[9],t[10]]);Ub(t)<0&&(r=-r),n[0]=t[12],n[1]=t[13],n[2]=t[14];const u=t.slice(),h=1/r,f=1/o,m=1/a;u[0]*=h,u[1]*=h,u[2]*=h,u[4]*=f,u[5]*=f,u[6]*=f,u[8]*=m,u[9]*=m,u[10]*=m,Hb(e,u),i[0]=r,i[1]=o,i[2]=a}function cE(t,e,n,i){const r=t,o=e[0],a=e[1],c=e[2],u=e[3],h=o+o,f=a+a,m=c+c,g=o*h,v=o*f,b=o*m,S=a*f,C=a*m,k=c*m,P=u*h,E=u*f,N=u*m,D=i[0],j=i[1],T=i[2];return r[0]=(1-(S+k))*D,r[1]=(v+N)*D,r[2]=(b-E)*D,r[3]=0,r[4]=(v-N)*j,r[5]=(1-(g+k))*j,r[6]=(C+P)*j,r[7]=0,r[8]=(b+E)*T,r[9]=(C-P)*T,r[10]=(1-(g+S))*T,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r}function uE(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,c=i+i,u=r+r,h=n*a,f=i*a,m=i*c,g=r*a,v=r*c,b=r*u,S=o*a,C=o*c,k=o*u;return t[0]=1-m-b,t[1]=f+k,t[2]=g-C,t[3]=0,t[4]=f-k,t[5]=1-h-b,t[6]=v+S,t[7]=0,t[8]=g+C,t[9]=v-S,t[10]=1-h-m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function dE(t,e,n,i,r){let o=1/Math.tan(e/2),a=1/(i-r);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*a,t[15]=0,t}function hE(t,e,n,i,r,o,a){let c=1/(e-n),u=1/(i-r),h=1/(o-a);return t[0]=-2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*c,t[13]=(r+i)*u,t[14]=(a+o)*h,t[15]=1,t}function fE(t,e,n,i){let r=e[0],o=e[1],a=e[2],c=i[0],u=i[1],h=i[2],f=r-n[0],m=o-n[1],g=a-n[2],v=f*f+m*m+g*g;v===0?g=1:(v=1/Math.sqrt(v),f*=v,m*=v,g*=v);let b=u*g-h*m,S=h*f-c*g,C=c*m-u*f;return v=b*b+S*S+C*C,v===0&&(h?c+=1e-6:u?h+=1e-6:u+=1e-6,b=u*g-h*m,S=h*f-c*g,C=c*m-u*f,v=b*b+S*S+C*C),v=1/Math.sqrt(v),b*=v,S*=v,C*=v,t[0]=b,t[1]=S,t[2]=C,t[3]=0,t[4]=m*C-g*S,t[5]=g*b-f*C,t[6]=f*S-m*b,t[7]=0,t[8]=f,t[9]=m,t[10]=g,t[11]=0,t[12]=r,t[13]=o,t[14]=a,t[15]=1,t}function ny(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function iy(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function pE(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class Oc extends Array{constructor(e=1,n=0,i=0,r=0,o=0,a=1,c=0,u=0,h=0,f=0,m=1,g=0,v=0,b=0,S=0,C=1){return super(e,n,i,r,o,a,c,u,h,f,m,g,v,b,S,C),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,i,r,o,a,c,u,h,f,m,g,v,b,S,C){return e.length?this.copy(e):(eE(this,e,n,i,r,o,a,c,u,h,f,m,g,v,b,S,C),this)}translate(e,n=this){return iE(this,n,e),this}rotate(e,n,i=this){return sE(this,i,e,n),this}scale(e,n=this){return rE(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?ny(this,e,n):ny(this,this,e),this}sub(e,n){return n?iy(this,e,n):iy(this,this,e),this}multiply(e,n){return e.length?n?ty(this,e,n):ty(this,this,e):pE(this,this,e),this}identity(){return tE(this),this}copy(e){return ZM(this,e),this}fromPerspective({fov:e,aspect:n,near:i,far:r}={}){return dE(this,e,n,i,r),this}fromOrthogonal({left:e,right:n,bottom:i,top:r,near:o,far:a}){return hE(this,e,n,i,r,o,a),this}fromQuaternion(e){return uE(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return nE(this,e),this}compose(e,n,i){return cE(this,e,n,i),this}decompose(e,n,i){return lE(this,e,n,i),this}getRotation(e){return Hb(e,this),this}getTranslation(e){return oE(e,this),this}getScaling(e){return $b(e,this),this}getMaxScaleOnAxis(){return aE(this)}lookAt(e,n,i){return fE(this,e,n,i),this}determinant(){return Ub(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function mE(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const ry=new Oc;class gE extends Array{constructor(e=0,n=e,i=e,r="YXZ"){super(e,n,i),this.order=r,this.onChange=()=>{},this._target=this;const o=["0","1","2"];return new Proxy(this,{set(a,c){const u=Reflect.set(...arguments);return u&&o.includes(c)&&a.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,i=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=i,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return mE(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,i){return ry.fromQuaternion(e),this._target.fromRotationMatrix(ry,n),i||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class yE{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Oc,this.worldMatrix=new Oc,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new ii,this.quaternion=new QM,this.scale=new ii(1),this.rotation=new gE,this.up=new ii(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,i=this.children.length;n<i;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,i=this.children.length;n<i;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function vE(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function xE(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,c=i+i,u=r+r,h=n*a,f=i*a,m=i*c,g=r*a,v=r*c,b=r*u,S=o*a,C=o*c,k=o*u;return t[0]=1-m-b,t[3]=f-k,t[6]=g+C,t[1]=f+k,t[4]=1-h-b,t[7]=v-S,t[2]=g-C,t[5]=v+S,t[8]=1-h-m,t}function bE(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wE(t,e,n,i,r,o,a,c,u,h){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=c,t[7]=u,t[8]=h,t}function SE(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function CE(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=f*a-c*h,g=-f*o+c*u,v=h*o-a*u,b=n*m+i*g+r*v;return b?(b=1/b,t[0]=m*b,t[1]=(-f*i+r*h)*b,t[2]=(c*i-r*a)*b,t[3]=g*b,t[4]=(f*n-r*u)*b,t[5]=(-c*n+r*o)*b,t[6]=v*b,t[7]=(-h*n+i*u)*b,t[8]=(a*n-i*o)*b,t):null}function sy(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5],h=e[6],f=e[7],m=e[8],g=n[0],v=n[1],b=n[2],S=n[3],C=n[4],k=n[5],P=n[6],E=n[7],N=n[8];return t[0]=g*i+v*a+b*h,t[1]=g*r+v*c+b*f,t[2]=g*o+v*u+b*m,t[3]=S*i+C*a+k*h,t[4]=S*r+C*c+k*f,t[5]=S*o+C*u+k*m,t[6]=P*i+E*a+N*h,t[7]=P*r+E*c+N*f,t[8]=P*o+E*u+N*m,t}function kE(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5],h=e[6],f=e[7],m=e[8],g=n[0],v=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=c,t[5]=u,t[6]=g*i+v*a+h,t[7]=g*r+v*c+f,t[8]=g*o+v*u+m,t}function _E(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5],h=e[6],f=e[7],m=e[8],g=Math.sin(n),v=Math.cos(n);return t[0]=v*i+g*a,t[1]=v*r+g*c,t[2]=v*o+g*u,t[3]=v*a-g*i,t[4]=v*c-g*r,t[5]=v*u-g*o,t[6]=h,t[7]=f,t[8]=m,t}function ME(t,e,n){let i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function EE(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=e[9],g=e[10],v=e[11],b=e[12],S=e[13],C=e[14],k=e[15],P=n*c-i*a,E=n*u-r*a,N=n*h-o*a,D=i*u-r*c,j=i*h-o*c,T=r*h-o*u,A=f*S-m*b,V=f*C-g*b,G=f*k-v*b,q=m*C-g*S,B=m*k-v*S,ee=g*k-v*C,Q=P*ee-E*B+N*q+D*G-j*V+T*A;return Q?(Q=1/Q,t[0]=(c*ee-u*B+h*q)*Q,t[1]=(u*G-a*ee-h*V)*Q,t[2]=(a*B-c*G+h*A)*Q,t[3]=(r*B-i*ee-o*q)*Q,t[4]=(n*ee-r*G+o*V)*Q,t[5]=(i*G-n*B-o*A)*Q,t[6]=(S*T-C*j+k*D)*Q,t[7]=(C*N-b*T-k*E)*Q,t[8]=(b*j-S*N+k*P)*Q,t):null}class TE extends Array{constructor(e=1,n=0,i=0,r=0,o=1,a=0,c=0,u=0,h=1){return super(e,n,i,r,o,a,c,u,h),this}set(e,n,i,r,o,a,c,u,h){return e.length?this.copy(e):(wE(this,e,n,i,r,o,a,c,u,h),this)}translate(e,n=this){return kE(this,n,e),this}rotate(e,n=this){return _E(this,n,e),this}scale(e,n=this){return ME(this,n,e),this}multiply(e,n){return n?sy(this,e,n):sy(this,this,e),this}identity(){return SE(this),this}copy(e){return bE(this,e),this}fromMatrix4(e){return vE(this,e),this}fromQuaternion(e){return xE(this,e),this}fromBasis(e,n,i){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],i[0],i[1],i[2]),this}inverse(e=this){return CE(this,e),this}getNormalMatrix(e){return EE(this,e),this}}let PE=0;class DE extends yE{constructor(e,{geometry:n,program:i,mode:r=e.TRIANGLES,frustumCulled:o=!0,renderOrder:a=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=PE++,this.geometry=n,this.program=i,this.mode=r,this.frustumCulled=o,this.renderOrder=a,this.modelViewMatrix=new Oc,this.normalMatrix=new TE,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}))}}const oy={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function ay(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function RE(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function ly(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?ay(t):oy[t.toLowerCase()]?ay(oy[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):RE(t)}let Ws=class extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...ly(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(ly(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}};class AE extends _M{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const NE=`
attribute vec2 position;
attribute vec2 uv;
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 0.0, 1.0);
}
`,LE=`
precision mediump float;

varying vec2 vUv;

uniform float iTime;
uniform vec3  iResolution;
uniform float uScale;

uniform vec2  uGridMul;
uniform float uDigitSize;
uniform float uScanlineIntensity;
uniform float uGlitchAmount;
uniform float uFlickerAmount;
uniform float uNoiseAmp;
uniform float uChromaticAberration;
uniform float uDither;
uniform float uCurvature;
uniform vec3  uTint;
uniform vec2  uMouse;
uniform float uMouseStrength;
uniform float uUseMouse;
uniform float uPageLoadProgress;
uniform float uUsePageLoadAnimation;
uniform float uBrightness;
uniform vec3 uBaseColor;

float time;

float hash21(vec2 p){
  p = fract(p * 234.56);
  p += dot(p, p + 34.56);
  return fract(p.x * p.y);
}

float noise(vec2 p)
{
  return sin(p.x * 10.0) * sin(p.y * (3.0 + sin(time * 0.090909))) + 0.2; 
}

mat2 rotate(float angle)
{
  float c = cos(angle);
  float s = sin(angle);
  return mat2(c, -s, s, c);
}

float fbm(vec2 p)
{
  p *= 1.1;
  float f = 0.0;
  float amp = 0.5 * uNoiseAmp;
  
  mat2 modify0 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify0 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify1 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify1 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify2 = rotate(time * 0.08);
  f += amp * noise(p);
  
  return f;
}

float pattern(vec2 p, out vec2 q, out vec2 r) {
  vec2 offset1 = vec2(1.0);
  vec2 offset0 = vec2(0.0);
  mat2 rot01 = rotate(0.1 * time);
  mat2 rot1 = rotate(0.1);
  
  q = vec2(fbm(p + offset1), fbm(rot01 * p + offset1));
  r = vec2(fbm(rot1 * q + offset0), fbm(q + offset0));
  return fbm(p + r);
}

float digit(vec2 p){
    vec2 grid = uGridMul * 15.0;
    vec2 s = floor(p * grid) / grid;
    p = p * grid;
    vec2 q, r;
    float intensity = pattern(s * 0.1, q, r) * 1.3 - 0.03;
    
    if(uUseMouse > 0.5){
        vec2 mouseWorld = uMouse * uScale;
        float distToMouse = distance(s, mouseWorld);
        float mouseInfluence = exp(-distToMouse * 8.0) * uMouseStrength * 10.0;
        intensity += mouseInfluence;
        
        float ripple = sin(distToMouse * 20.0 - iTime * 5.0) * 0.1 * mouseInfluence;
        intensity += ripple;
    }
    
    if(uUsePageLoadAnimation > 0.5){
        float cellRandom = fract(sin(dot(s, vec2(12.9898, 78.233))) * 43758.5453);
        float cellDelay = cellRandom * 0.8;
        float cellProgress = clamp((uPageLoadProgress - cellDelay) / 0.2, 0.0, 1.0);
        
        float fadeAlpha = smoothstep(0.0, 1.0, cellProgress);
        intensity *= fadeAlpha;
    }
    
    p = fract(p);
    p *= uDigitSize;
    
    float px5 = p.x * 5.0;
    float py5 = (1.0 - p.y) * 5.0;
    float x = fract(px5);
    float y = fract(py5);
    
    float i = floor(py5) - 2.0;
    float j = floor(px5) - 2.0;
    float n = i * i + j * j;
    float f = n * 0.0625;
    
    float isOn = step(0.1, intensity - f);
    float brightness = isOn * (0.2 + y * 0.8) * (0.75 + x * 0.25);
    
    return step(0.0, p.x) * step(p.x, 1.0) * step(0.0, p.y) * step(p.y, 1.0) * brightness;
}

float onOff(float a, float b, float c)
{
  return step(c, sin(iTime + a * cos(iTime * b))) * uFlickerAmount;
}

float displace(vec2 look)
{
    float y = look.y - mod(iTime * 0.25, 1.0);
    float window = 1.0 / (1.0 + 50.0 * y * y);
    return sin(look.y * 20.0 + iTime) * 0.0125 * onOff(4.0, 2.0, 0.8) * (1.0 + cos(iTime * 60.0)) * window;
}

vec3 getColor(vec2 p){
    
    float bar = step(mod(p.y + time * 20.0, 1.0), 0.2) * 0.4 + 1.0;
    bar *= uScanlineIntensity;
    
    float displacement = displace(p);
    p.x += displacement;

    if (uGlitchAmount != 1.0) {
      float extra = displacement * (uGlitchAmount - 1.0);
      p.x += extra;
    }

    float middle = digit(p);
    
    const float off = 0.002;
    float sum = digit(p + vec2(-off, -off)) + digit(p + vec2(0.0, -off)) + digit(p + vec2(off, -off)) +
                digit(p + vec2(-off, 0.0)) + digit(p + vec2(0.0, 0.0)) + digit(p + vec2(off, 0.0)) +
                digit(p + vec2(-off, off)) + digit(p + vec2(0.0, off)) + digit(p + vec2(off, off));
    
    vec3 baseColor = vec3(0.9) * middle + sum * 0.1 * vec3(1.0) * bar;
    return baseColor;
}

vec2 barrel(vec2 uv){
  vec2 c = uv * 2.0 - 1.0;
  float r2 = dot(c, c);
  c *= 1.0 + uCurvature * r2;
  return c * 0.5 + 0.5;
}

void main() {
    time = iTime * 0.333333;
    vec2 uv = vUv;

    if(uCurvature != 0.0){
      uv = barrel(uv);
    }
    
    vec2 p = uv * uScale;
    vec3 col = getColor(p);

    if(uChromaticAberration != 0.0){
      vec2 ca = vec2(uChromaticAberration) / iResolution.xy;
      col.r = getColor(p + ca).r;
      col.b = getColor(p - ca).b;
    }

    col *= uTint;
    col *= uBrightness;

    if(uDither > 0.0){
      float rnd = hash21(gl_FragCoord.xy);
      col += (rnd - 0.5) * (uDither * 0.003922);
    }

    col = mix(uBaseColor, col, 0.75);

    gl_FragColor = vec4(col, 1.0);
}
`;function uh(t){let e=t.replace("#","").trim();e.length===3&&(e=e.split("").map(i=>i+i).join(""));const n=parseInt(e,16);return[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function jE({scale:t=1,gridMul:e=[2,1],digitSize:n=1.5,timeScale:i=.3,pause:r=!1,scanlineIntensity:o=.3,glitchAmount:a=1,flickerAmount:c=1,noiseAmp:u=.8,chromaticAberration:h=0,dither:f=0,curvature:m=.2,tint:g="#ffffff",mouseReact:v=!0,mouseStrength:b=.2,dpr:S,pageLoadAnimation:C=!0,brightness:k=1,clearColor:P="#000000",baseColor:E="#0b1220",className:N,style:D,...j}){const T=M.useRef(null),A=M.useRef(null),V=M.useRef(null),G=M.useRef({x:.5,y:.5}),q=M.useRef({x:.5,y:.5}),B=M.useRef(0),ee=M.useRef(0),Q=M.useRef(0),ne=M.useRef(Math.random()*100),le=M.useMemo(()=>S??(typeof window<"u"?Math.min(window.devicePixelRatio||1,2):1),[S]),te=M.useMemo(()=>uh(g),[g]),H=M.useMemo(()=>typeof f=="boolean"?f?1:0:f,[f]),Z=M.useMemo(()=>uh(P),[P]),J=M.useMemo(()=>uh(E),[E]),O=M.useCallback(K=>{const de=T.current;if(!de)return;const ae=de.getBoundingClientRect(),he=Ne=>Math.max(0,Math.min(1,Ne)),ge=he((K.clientX-ae.left)/ae.width),Le=he(1-(K.clientY-ae.top)/ae.height);G.current={x:ge,y:Le}},[]);return M.useEffect(()=>{const K=T.current;if(!K)return;const de=new AM({dpr:le});V.current=de;const ae=de.gl;ae.clearColor(Z[0],Z[1],Z[2],1);const he=new AE(ae),ge=new EM(ae,{vertex:NE,fragment:LE,uniforms:{iTime:{value:0},iResolution:{value:new Ws(ae.canvas.width,ae.canvas.height,ae.canvas.width/ae.canvas.height)},uScale:{value:t},uGridMul:{value:new Float32Array(e)},uDigitSize:{value:n},uScanlineIntensity:{value:o},uGlitchAmount:{value:a},uFlickerAmount:{value:c},uNoiseAmp:{value:u},uChromaticAberration:{value:h},uDither:{value:H},uCurvature:{value:m},uTint:{value:new Ws(te[0],te[1],te[2])},uMouse:{value:new Float32Array([q.current.x,q.current.y])},uMouseStrength:{value:b},uUseMouse:{value:v?1:0},uPageLoadProgress:{value:C?0:1},uUsePageLoadAnimation:{value:C?1:0},uBrightness:{value:k},uBaseColor:{value:new Ws(J[0],J[1],J[2])}}});A.current=ge;const Le=new DE(ae,{geometry:he,program:ge}),Ne=v?window:null;function Oe(){const Ge=T.current;if(!Ge)return;de.setSize(Ge.offsetWidth,Ge.offsetHeight);const Be=ge.uniforms;Be.iResolution.value=new Ws(ae.canvas.width,ae.canvas.height,ae.canvas.width/ae.canvas.height)}const yt=new ResizeObserver(()=>Oe());yt.observe(K),Oe();const qt=Ge=>{ee.current=requestAnimationFrame(qt);const Be=ge.uniforms;if(C&&Q.current===0&&(Q.current=Ge),r)Be.iTime.value=B.current;else{const Qt=(Ge*.001+ne.current)*i;Be.iTime.value=Qt,B.current=Qt}if(C&&Q.current>0){const Mt=Ge-Q.current,Et=Math.min(Mt/2e3,1);Be.uPageLoadProgress.value=Et}if(v){const Mt=q.current,Et=G.current;Mt.x+=(Et.x-Mt.x)*.08,Mt.y+=(Et.y-Mt.y)*.08;const Sn=Be.uMouse.value;Sn[0]=Mt.x,Sn[1]=Mt.y}Be.uMouseStrength.value=b,Be.uScale.value=t,Be.uDigitSize.value=n,Be.uScanlineIntensity.value=o,Be.uGlitchAmount.value=a,Be.uFlickerAmount.value=c,Be.uNoiseAmp.value=u,Be.uChromaticAberration.value=h,Be.uDither.value=H,Be.uCurvature.value=m,Be.uTint.value=new Ws(te[0],te[1],te[2]),Be.uUseMouse.value=v?1:0,Be.uBrightness.value=k,Be.uBaseColor.value=new Ws(J[0],J[1],J[2]),de.render({scene:Le})};return ee.current=requestAnimationFrame(qt),K.appendChild(ae.canvas),v&&Ne&&Ne.addEventListener("mousemove",O),()=>{cancelAnimationFrame(ee.current),yt.disconnect(),v&&Ne&&Ne.removeEventListener("mousemove",O);const Ge=T.current;Ge&&ae.canvas.parentElement===Ge&&Ge.removeChild(ae.canvas),ae.getExtension("WEBGL_lose_context")?.loseContext(),Q.current=0,ne.current=Math.random()*100,A.current=null,V.current=null}},[le,r,i,t,e,n,o,a,c,u,h,H,m,te,v,b,C,k,Z,J,O]),w.jsx("div",{ref:T,className:aM("faulty-terminal-container",N),style:D,...j})}const Hf=M.createContext({});function $a(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wb=typeof window<"u",Wf=Wb?M.useLayoutEffect:M.useEffect,iu=M.createContext(null);function Gf(t,e){t.indexOf(e)===-1&&t.push(e)}function Yf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bi=(t,e,n)=>n>e?e:n<t?t:n;let Kf=()=>{};const qi={},Gb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Yb(t){return typeof t=="object"&&t!==null}const Kb=t=>/^0[^.\s]+$/u.test(t);function Xf(t){let e;return()=>(e===void 0&&(e=t()),e)}const $n=t=>t,OE=(t,e)=>n=>e(t(n)),Ha=(...t)=>t.reduce(OE),Ma=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class qf{constructor(){this.subscriptions=[]}add(e){return Gf(this.subscriptions,e),()=>Yf(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const a=this.subscriptions[o];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ki=t=>t*1e3,Un=t=>t/1e3;function Xb(t,e){return e?t*(1e3/e):0}const qb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,FE=1e-7,IE=12;function zE(t,e,n,i,r){let o,a,c=0;do a=e+(n-e)/2,o=qb(a,i,r)-t,o>0?n=a:e=a;while(Math.abs(o)>FE&&++c<IE);return a}function Wa(t,e,n,i){if(t===e&&n===i)return $n;const r=o=>zE(o,0,1,t,n);return o=>o===0||o===1?o:qb(r(o),e,i)}const Qb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Jb=t=>e=>1-t(1-e),Zb=Wa(.33,1.53,.69,.99),Qf=Jb(Zb),e1=Qb(Qf),t1=t=>(t*=2)<1?.5*Qf(t):.5*(2-Math.pow(2,-10*(t-1))),Jf=t=>1-Math.sin(Math.acos(t)),n1=Jb(Jf),i1=Qb(Jf),BE=Wa(.42,0,1,1),VE=Wa(0,0,.58,1),r1=Wa(.42,0,.58,1),UE=t=>Array.isArray(t)&&typeof t[0]!="number",s1=t=>Array.isArray(t)&&typeof t[0]=="number",$E={linear:$n,easeIn:BE,easeInOut:r1,easeOut:VE,circIn:Jf,circInOut:i1,circOut:n1,backIn:Qf,backInOut:e1,backOut:Zb,anticipate:t1},HE=t=>typeof t=="string",cy=t=>{if(s1(t)){Kf(t.length===4);const[e,n,i,r]=t;return Wa(e,n,i,r)}else if(HE(t))return $E[t];return t},nc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WE(t,e){let n=new Set,i=new Set,r=!1,o=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){a.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,m=!1,g=!1)=>{const b=g&&r?n:i;return m&&a.add(f),b.has(f)||b.add(f),f},cancel:f=>{i.delete(f),a.delete(f)},process:f=>{if(c=f,r){o=!0;return}r=!0,[n,i]=[i,n],n.forEach(u),n.clear(),r=!1,o&&(o=!1,h.process(f))}};return h}const GE=40;function o1(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=nc.reduce((E,N)=>(E[N]=WE(o),E),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:m,preRender:g,render:v,postRender:b}=a,S=()=>{const E=qi.useManualTiming?r.timestamp:performance.now();n=!1,qi.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(E-r.timestamp,GE),1)),r.timestamp=E,r.isProcessing=!0,c.process(r),u.process(r),h.process(r),f.process(r),m.process(r),g.process(r),v.process(r),b.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(S))},C=()=>{n=!0,i=!0,r.isProcessing||t(S)};return{schedule:nc.reduce((E,N)=>{const D=a[N];return E[N]=(j,T=!1,A=!1)=>(n||C(),D.schedule(j,T,A)),E},{}),cancel:E=>{for(let N=0;N<nc.length;N++)a[nc[N]].cancel(E)},state:r,steps:a}}const{schedule:st,cancel:wi,state:zt,steps:dh}=o1(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let Tc;function YE(){Tc=void 0}const nn={now:()=>(Tc===void 0&&nn.set(zt.isProcessing||qi.useManualTiming?zt.timestamp:performance.now()),Tc),set:t=>{Tc=t,queueMicrotask(YE)}},a1=t=>e=>typeof e=="string"&&e.startsWith(t),l1=a1("--"),KE=a1("var(--"),Zf=t=>KE(t)?XE.test(t.split("/*")[0].trim()):!1,XE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function uy(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const lo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ea={...lo,transform:t=>bi(0,1,t)},ic={...lo,default:1},fa=t=>Math.round(t*1e5)/1e5,ep=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qE(t){return t==null}const QE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tp=(t,e)=>n=>!!(typeof n=="string"&&QE.test(n)&&n.startsWith(t)||e&&!qE(n)&&Object.prototype.hasOwnProperty.call(n,e)),c1=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,o,a,c]=i.match(ep);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},JE=t=>bi(0,255,t),hh={...lo,transform:t=>Math.round(JE(t))},cs={test:tp("rgb","red"),parse:c1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+hh.transform(t)+", "+hh.transform(e)+", "+hh.transform(n)+", "+fa(Ea.transform(i))+")"};function ZE(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Zh={test:tp("#"),parse:ZE,transform:cs.transform},Ga=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),br=Ga("deg"),yi=Ga("%"),me=Ga("px"),eT=Ga("vh"),tT=Ga("vw"),dy={...yi,parse:t=>yi.parse(t)/100,transform:t=>yi.transform(t*100)},Qs={test:tp("hsl","hue"),parse:c1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+yi.transform(fa(e))+", "+yi.transform(fa(n))+", "+fa(Ea.transform(i))+")"},_t={test:t=>cs.test(t)||Zh.test(t)||Qs.test(t),parse:t=>cs.test(t)?cs.parse(t):Qs.test(t)?Qs.parse(t):Zh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?cs.transform(t):Qs.transform(t),getAnimatableNone:t=>{const e=_t.parse(t);return e.alpha=0,_t.transform(e)}},nT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iT(t){return isNaN(t)&&typeof t=="string"&&(t.match(ep)?.length||0)+(t.match(nT)?.length||0)>0}const u1="number",d1="color",rT="var",sT="var(",hy="${}",oT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ta(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const c=e.replace(oT,u=>(_t.test(u)?(i.color.push(o),r.push(d1),n.push(_t.parse(u))):u.startsWith(sT)?(i.var.push(o),r.push(rT),n.push(u)):(i.number.push(o),r.push(u1),n.push(parseFloat(u))),++o,hy)).split(hy);return{values:n,split:c,indexes:i,types:r}}function h1(t){return Ta(t).values}function f1(t){const{split:e,types:n}=Ta(t),i=e.length;return r=>{let o="";for(let a=0;a<i;a++)if(o+=e[a],r[a]!==void 0){const c=n[a];c===u1?o+=fa(r[a]):c===d1?o+=_t.transform(r[a]):o+=r[a]}return o}}const aT=t=>typeof t=="number"?0:_t.test(t)?_t.getAnimatableNone(t):t;function lT(t){const e=h1(t);return f1(t)(e.map(aT))}const Ar={test:iT,parse:h1,createTransformer:f1,getAnimatableNone:lT};function fh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function cT({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,a=0;if(!e)r=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;r=fh(u,c,t+1/3),o=fh(u,c,t),a=fh(u,c,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:i}}function Fc(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,ph=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},uT=[Zh,cs,Qs],dT=t=>uT.find(e=>e.test(t));function fy(t){const e=dT(t);if(!e)return!1;let n=e.parse(t);return e===Qs&&(n=cT(n)),n}const py=(t,e)=>{const n=fy(t),i=fy(e);if(!n||!i)return Fc(t,e);const r={...n};return o=>(r.red=ph(n.red,i.red,o),r.green=ph(n.green,i.green,o),r.blue=ph(n.blue,i.blue,o),r.alpha=mt(n.alpha,i.alpha,o),cs.transform(r))},ef=new Set(["none","hidden"]);function hT(t,e){return ef.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fT(t,e){return n=>mt(t,e,n)}function np(t){return typeof t=="number"?fT:typeof t=="string"?Zf(t)?Fc:_t.test(t)?py:gT:Array.isArray(t)?p1:typeof t=="object"?_t.test(t)?py:pT:Fc}function p1(t,e){const n=[...t],i=n.length,r=t.map((o,a)=>np(o)(o,e[a]));return o=>{for(let a=0;a<i;a++)n[a]=r[a](o);return n}}function pT(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=np(t[r])(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function mT(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],a=t.indexes[o][i[o]],c=t.values[a]??0;n[r]=c,i[o]++}return n}const gT=(t,e)=>{const n=Ar.createTransformer(e),i=Ta(t),r=Ta(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?ef.has(t)&&!r.values.length||ef.has(e)&&!i.values.length?hT(t,e):Ha(p1(mT(i,r),r.values),n):Fc(t,e)};function m1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):np(t)(t,e)}const yT=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>st.update(e,n),stop:()=>wi(e),now:()=>zt.isProcessing?zt.timestamp:nn.now()}},g1=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)i+=Math.round(t(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ic=2e4;function ip(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ic;)e+=n,i=t.next(e);return e>=Ic?1/0:e}function vT(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(ip(i),Ic);return{type:"keyframes",ease:o=>i.next(r*o).value/e,duration:Un(r)}}const xT=5;function y1(t,e,n){const i=Math.max(e-xT,0);return Xb(n-t(i),e-i)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mh=.001;function bT({duration:t=xt.duration,bounce:e=xt.bounce,velocity:n=xt.velocity,mass:i=xt.mass}){let r,o,a=1-e;a=bi(xt.minDamping,xt.maxDamping,a),t=bi(xt.minDuration,xt.maxDuration,Un(t)),a<1?(r=h=>{const f=h*a,m=f*t,g=f-n,v=tf(h,a),b=Math.exp(-m);return mh-g/v*b},o=h=>{const m=h*a*t,g=m*n+n,v=Math.pow(a,2)*Math.pow(h,2)*t,b=Math.exp(-m),S=tf(Math.pow(h,2),a);return(-r(h)+mh>0?-1:1)*((g-v)*b)/S}):(r=h=>{const f=Math.exp(-h*t),m=(h-n)*t+1;return-mh+f*m},o=h=>{const f=Math.exp(-h*t),m=(n-h)*(t*t);return f*m});const c=5/t,u=ST(r,o,c);if(t=Ki(t),isNaN(u))return{stiffness:xt.stiffness,damping:xt.damping,duration:t};{const h=Math.pow(u,2)*i;return{stiffness:h,damping:a*2*Math.sqrt(i*h),duration:t}}}const wT=12;function ST(t,e,n){let i=n;for(let r=1;r<wT;r++)i=i-t(i)/e(i);return i}function tf(t,e){return t*Math.sqrt(1-e*e)}const CT=["duration","bounce"],kT=["stiffness","damping","mass"];function my(t,e){return e.some(n=>t[n]!==void 0)}function _T(t){let e={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...t};if(!my(t,kT)&&my(t,CT))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*bi(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:xt.mass,stiffness:r,damping:o}}else{const n=bT(t);e={...e,...n,mass:xt.mass},e.isResolvedFromDuration=!0}return e}function zc(t=xt.visualDuration,e=xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:u,damping:h,mass:f,duration:m,velocity:g,isResolvedFromDuration:v}=_T({...n,velocity:-Un(n.velocity||0)}),b=g||0,S=h/(2*Math.sqrt(u*f)),C=a-o,k=Un(Math.sqrt(u/f)),P=Math.abs(C)<5;i||(i=P?xt.restSpeed.granular:xt.restSpeed.default),r||(r=P?xt.restDelta.granular:xt.restDelta.default);let E;if(S<1){const D=tf(k,S);E=j=>{const T=Math.exp(-S*k*j);return a-T*((b+S*k*C)/D*Math.sin(D*j)+C*Math.cos(D*j))}}else if(S===1)E=D=>a-Math.exp(-k*D)*(C+(b+k*C)*D);else{const D=k*Math.sqrt(S*S-1);E=j=>{const T=Math.exp(-S*k*j),A=Math.min(D*j,300);return a-T*((b+S*k*C)*Math.sinh(A)+D*C*Math.cosh(A))/D}}const N={calculatedDuration:v&&m||null,next:D=>{const j=E(D);if(v)c.done=D>=m;else{let T=D===0?b:0;S<1&&(T=D===0?Ki(b):y1(E,D,j));const A=Math.abs(T)<=i,V=Math.abs(a-j)<=r;c.done=A&&V}return c.value=c.done?a:j,c},toString:()=>{const D=Math.min(ip(N),Ic),j=g1(T=>N.next(D*T).value,D,30);return D+"ms "+j},toTransition:()=>{}};return N}zc.applyToOptions=t=>{const e=vT(t,100,zc);return t.ease=e.ease,t.duration=Ki(e.duration),t.type="keyframes",t};function nf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:u,restDelta:h=.5,restSpeed:f}){const m=t[0],g={done:!1,value:m},v=A=>c!==void 0&&A<c||u!==void 0&&A>u,b=A=>c===void 0?u:u===void 0||Math.abs(c-A)<Math.abs(u-A)?c:u;let S=n*e;const C=m+S,k=a===void 0?C:a(C);k!==C&&(S=k-m);const P=A=>-S*Math.exp(-A/i),E=A=>k+P(A),N=A=>{const V=P(A),G=E(A);g.done=Math.abs(V)<=h,g.value=g.done?k:G};let D,j;const T=A=>{v(g.value)&&(D=A,j=zc({keyframes:[g.value,b(g.value)],velocity:y1(E,A,g.value),damping:r,stiffness:o,restDelta:h,restSpeed:f}))};return T(0),{calculatedDuration:null,next:A=>{let V=!1;return!j&&D===void 0&&(V=!0,N(A),T(A)),D!==void 0&&A>=D?j.next(A-D):(!V&&N(A),g)}}}function MT(t,e,n){const i=[],r=n||qi.mix||m1,o=t.length-1;for(let a=0;a<o;a++){let c=r(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||$n:e;c=Ha(u,c)}i.push(c)}return i}function v1(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(Kf(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=MT(e,i,r),u=c.length,h=f=>{if(a&&f<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const g=Ma(t[m],t[m+1],f);return c[m](g)};return n?f=>h(bi(t[0],t[o-1],f)):h}function ET(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Ma(0,e,i);t.push(mt(n,1,r))}}function TT(t){const e=[0];return ET(e,t.length-1),e}function PT(t,e){return t.map(n=>n*e)}function DT(t,e){return t.map(()=>e||r1).splice(0,t.length-1)}function pa({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=UE(i)?i.map(cy):cy(i),o={done:!1,value:e[0]},a=PT(n&&n.length===e.length?n:TT(e),t),c=v1(a,e,{ease:Array.isArray(r)?r:DT(e,r)});return{calculatedDuration:t,next:u=>(o.value=c(u),o.done=u>=t,o)}}const RT=t=>t!==null;function rp(t,{repeat:e,repeatType:n="loop"},i,r=1){const o=t.filter(RT),c=r<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const AT={decay:nf,inertia:nf,tween:pa,keyframes:pa,spring:zc};function x1(t){typeof t.type=="string"&&(t.type=AT[t.type])}class sp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const NT=t=>t/100;class op extends sp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==nn.now()&&this.tick(nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;x1(e);const{type:n=pa,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=e;let{keyframes:c}=e;const u=n||pa;u!==pa&&typeof c[0]!="number"&&(this.mixKeyframes=Ha(NT,m1(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=ip(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:v,type:b,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?k<0:k>r;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let E=this.currentTime,N=i;if(m){const A=Math.min(this.currentTime,r)/c;let V=Math.floor(A),G=A%1;!G&&A>=1&&(G=1),G===1&&V--,V=Math.min(V,m+1),V%2&&(g==="reverse"?(G=1-G,v&&(G-=v/c)):g==="mirror"&&(N=a)),E=bi(0,1,G)*c}const D=P?{done:!1,value:f[0]}:N.next(E);o&&(D.value=o(D.value));let{done:j}=D;!P&&u!==null&&(j=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&b!==nf&&(D.value=rp(f,this.options,C,this.speed)),S&&S(D.value),T&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Un(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Un(e)}get time(){return Un(this.currentTime)}set time(e){e=Ki(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Un(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=yT,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function LT(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const us=t=>t*180/Math.PI,rf=t=>{const e=us(Math.atan2(t[1],t[0]));return sf(e)},jT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rf,rotateZ:rf,skewX:t=>us(Math.atan(t[1])),skewY:t=>us(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sf=t=>(t=t%360,t<0&&(t+=360),t),gy=rf,yy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),vy=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),OT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yy,scaleY:vy,scale:t=>(yy(t)+vy(t))/2,rotateX:t=>sf(us(Math.atan2(t[6],t[5]))),rotateY:t=>sf(us(Math.atan2(-t[2],t[0]))),rotateZ:gy,rotate:gy,skewX:t=>us(Math.atan(t[4])),skewY:t=>us(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function of(t){return t.includes("scale")?1:0}function af(t,e){if(!t||t==="none")return of(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=OT,r=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=jT,r=c}if(!r)return of(e);const o=i[e],a=r[1].split(",").map(IT);return typeof o=="function"?o(a):a[o]}const FT=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return af(n,e)};function IT(t){return parseFloat(t.trim())}const co=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uo=new Set(co),xy=t=>t===lo||t===me,zT=new Set(["x","y","z"]),BT=co.filter(t=>!zT.has(t));function VT(t){const e=[];return BT.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const _r={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>af(e,"x"),y:(t,{transform:e})=>af(e,"y")};_r.translateX=_r.x;_r.translateY=_r.y;const hs=new Set;let lf=!1,cf=!1,uf=!1;function b1(){if(cf){const t=Array.from(hs).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=VT(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,a])=>{i.getValue(o)?.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}cf=!1,lf=!1,hs.forEach(t=>t.complete(uf)),hs.clear()}function w1(){hs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cf=!0)})}function UT(){uf=!0,w1(),b1(),uf=!1}class ap{constructor(e,n,i,r,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(hs.add(this),lf||(lf=!0,st.read(w1),st.resolveKeyframes(b1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const o=r?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const c=i.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}LT(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hs.delete(this)}cancel(){this.state==="scheduled"&&(hs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $T=t=>t.startsWith("--");function HT(t,e,n){$T(e)?t.style.setProperty(e,n):t.style[e]=n}const WT=Xf(()=>window.ScrollTimeline!==void 0),GT={};function YT(t,e){const n=Xf(t);return()=>GT[e]??n()}const S1=YT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sa=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,by={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sa([0,.65,.55,1]),circOut:sa([.55,0,1,.45]),backIn:sa([.31,.01,.66,-.59]),backOut:sa([.33,1.53,.69,.99])};function C1(t,e){if(t)return typeof t=="function"?S1()?g1(t,e):"ease-out":s1(t)?sa(t):Array.isArray(t)?t.map(n=>C1(n,e)||by.easeOut):by[t]}function KT(t,e,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:a="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[e]:n};u&&(f.offset=u);const m=C1(c,r);Array.isArray(m)&&(f.easing=m);const g={delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(f,g)}function k1(t){return typeof t=="function"&&"applyToOptions"in t}function XT({type:t,...e}){return k1(t)&&S1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qT extends sp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,Kf(typeof e.type!="string");const h=XT(e);this.animation=KT(n,i,r,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=rp(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):HT(n,i,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Un(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Un(e)}get time(){return Un(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ki(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&WT()?(this.animation.timeline=e,$n):n(this)}}const _1={anticipate:t1,backInOut:e1,circInOut:i1};function QT(t){return t in _1}function JT(t){typeof t.ease=="string"&&QT(t.ease)&&(t.ease=_1[t.ease])}const gh=10;class ZT extends qT{constructor(e){JT(e),x1(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new op({...a,autoplay:!1}),u=Math.max(gh,nn.now()-this.startTime),h=bi(0,gh,u-gh);n.setWithVelocity(c.sample(Math.max(0,u-h)).value,c.sample(u).value,h),c.stop()}}const wy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ar.test(t)||t==="0")&&!t.startsWith("url("));function eP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tP(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=wy(r,e),c=wy(o,e);return!a||!c?!1:eP(t)||(n==="spring"||k1(n))&&i}function df(t){t.duration=0,t.type="keyframes"}const nP=new Set(["opacity","clipPath","filter","transform"]),iP=Xf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rP(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:o,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return iP()&&n&&nP.has(n)&&(n!=="transform"||!h)&&!u&&!i&&r!=="mirror"&&o!==0&&a!=="inertia"}const sP=40;class oP extends sp{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",keyframes:c,name:u,motionValue:h,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=nn.now();const g={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:a,name:u,motionValue:h,element:f,...m},v=f?.KeyframeResolver||ap;this.keyframeResolver=new v(c,(b,S,C)=>this.onKeyframesResolved(b,S,g,!C),u,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:o,type:a,velocity:c,delay:u,isHandoff:h,onUpdate:f}=i;this.resolvedAt=nn.now(),tP(e,o,a,c)||((qi.instantAnimations||!u)&&f?.(rp(e,i,n)),e[0]=e[e.length-1],df(i),i.repeat=0);const g={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>sP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},v=!h&&rP(g)?new ZT({...g,element:g.motionValue.owner.current}):new op(g);v.finished.then(()=>this.notifyFinished()).catch($n),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),UT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const aP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lP(t){const e=aP.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function M1(t,e,n=1){const[i,r]=lP(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const a=o.trim();return Gb(a)?parseFloat(a):a}return Zf(r)?M1(r,e,n+1):r}function lp(t,e){return t?.[e]??t?.default??t}const cP={type:"spring",stiffness:500,damping:25,restSpeed:10},uP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dP={type:"keyframes",duration:.8},hP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fP=(t,{keyframes:e})=>e.length>2?dP:uo.has(t)?t.startsWith("scale")?uP(e[1]):cP:hP;function pP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:a,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const mP=t=>t!==null;function gP(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(mP),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[o]}function E1(t,e,n,i=0,r=1){const o=Array.from(t).sort((h,f)=>h.sortNodePosition(f)).indexOf(e),a=t.size,c=(a-1)*i;return typeof n=="function"?n(o,a):r===1?o*i:c-o*i}const cp=(t,e,n,i={},r,o)=>a=>{const c=lp(i,t)||{},u=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Ki(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:r};pP(c)||Object.assign(f,fP(t,f)),f.duration&&(f.duration=Ki(f.duration)),f.repeatDelay&&(f.repeatDelay=Ki(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(df(f),f.delay===0&&(m=!0)),(qi.instantAnimations||qi.skipAnimations)&&(m=!0,df(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,m&&!o&&e.get()!==void 0){const g=gP(f.keyframes,c);if(g!==void 0){st.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new op(f):new oP(f)},T1=new Set(["width","height","top","left","right","bottom",...co]),Sy=30,yP=t=>!isNaN(parseFloat(t)),ma={current:void 0};class vP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=nn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qf);const i=this.events[e].add(n);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ma.current&&ma.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sy)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sy);return Xb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ms(t,e){return new vP(t,e)}function Cy(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function up(t,e,n,i){if(typeof e=="function"){const[r,o]=Cy(i);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=Cy(i);e=e(n!==void 0?n:t.custom,r,o)}return e}function no(t,e,n){const i=t.getProps();return up(i,e,n!==void 0?n:i.custom,t)}const hf=t=>Array.isArray(t);function xP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ms(n))}function bP(t){return hf(t)?t[t.length-1]||0:t}function wP(t,e){const n=no(t,e);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const a in o){const c=bP(o[a]);xP(t,a,c)}}const Yt=t=>!!(t&&t.getVelocity);function SP(t){return!!(Yt(t)&&t.add)}function ff(t,e){const n=t.getValue("willChange");if(SP(n))return n.add(e);if(!n&&qi.WillChange){const i=new qi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function dp(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const CP="framerAppearId",P1="data-"+dp(CP);function D1(t){return t.props[P1]}function kP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function R1(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;i&&(o=i);const u=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const f in c){const m=t.getValue(f,t.latestValues[f]??null),g=c[f];if(g===void 0||h&&kP(h,f))continue;const v={delay:n,...lp(o||{},f)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===b&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const k=D1(t);if(k){const P=window.MotionHandoffAnimation(k,f,st);P!==null&&(v.startTime=P,S=!0)}}ff(t,f),m.start(cp(f,m,g,t.shouldReduceMotion&&T1.has(f)?{type:!1}:v,t,S));const C=m.animation;C&&u.push(C)}return a&&Promise.all(u).then(()=>{st.update(()=>{a&&wP(t,a)})}),u}function pf(t,e,n={}){const i=no(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(R1(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=r;return _P(t,e,u,h,f,m,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[u,h]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function _P(t,e,n=0,i=0,r=0,o=1,a){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(pf(u,e,{...a,delay:n+(typeof i=="function"?0:i)+E1(t.variantChildren,u,i,r,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function MP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>pf(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=pf(t,e,n);else{const r=typeof e=="function"?no(t,e,n.custom):e;i=Promise.all(R1(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const EP={test:t=>t==="auto",parse:t=>t},A1=t=>e=>e.test(t),N1=[lo,me,yi,br,tT,eT,EP],ky=t=>N1.find(A1(t));function TP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Kb(t):!0}const PP=new Set(["brightness","contrast","saturate","opacity"]);function DP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(ep)||[];if(!i)return t;const r=n.replace(i,"");let o=PP.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const RP=/\b([a-z-]*)\(.*?\)/gu,mf={...Ar,getAnimatableNone:t=>{const e=t.match(RP);return e?e.map(DP).join(" "):t}},_y={...lo,transform:Math.round},AP={rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:ic,scaleX:ic,scaleY:ic,scaleZ:ic,skew:br,skewX:br,skewY:br,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Ea,originX:dy,originY:dy,originZ:me},hp={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,inset:me,insetBlock:me,insetBlockStart:me,insetBlockEnd:me,insetInline:me,insetInlineStart:me,insetInlineEnd:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,paddingBlock:me,paddingBlockStart:me,paddingBlockEnd:me,paddingInline:me,paddingInlineStart:me,paddingInlineEnd:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,marginBlock:me,marginBlockStart:me,marginBlockEnd:me,marginInline:me,marginInlineStart:me,marginInlineEnd:me,backgroundPositionX:me,backgroundPositionY:me,...AP,zIndex:_y,fillOpacity:Ea,strokeOpacity:Ea,numOctaves:_y},NP={...hp,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:mf,WebkitFilter:mf},L1=t=>NP[t];function j1(t,e){let n=L1(t);return n!==mf&&(n=Ar),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const LP=new Set(["auto","none","0"]);function jP(t,e,n){let i=0,r;for(;i<t.length&&!r;){const o=t[i];typeof o=="string"&&!LP.has(o)&&Ta(o).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=j1(n,r)}class OP extends ap{constructor(e,n,i,r,o){super(e,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Zf(m))){const g=M1(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!T1.has(i)||e.length!==2)return;const[r,o]=e,a=ky(r),c=ky(o),u=uy(r),h=uy(o);if(u!==h&&_r[i]){this.needsMeasurement=!0;return}if(a!==c)if(xy(a)&&xy(c))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else _r[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||TP(e[r]))&&i.push(r);i.length&&jP(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_r[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=_r[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function FP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const O1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function F1(t){return Yb(t)&&"offsetHeight"in t}const{schedule:fp}=o1(queueMicrotask,!1),ni={x:!1,y:!1};function I1(){return ni.x||ni.y}function IP(t){return t==="x"||t==="y"?ni[t]?null:(ni[t]=!0,()=>{ni[t]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}function z1(t,e){const n=FP(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function My(t){return!(t.pointerType==="touch"||I1())}function zP(t,e,n={}){const[i,r,o]=z1(t,n),a=c=>{if(!My(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const f=m=>{My(m)&&(h(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,r)};return i.forEach(c=>{c.addEventListener("pointerenter",a,r)}),o}const B1=(t,e)=>e?t===e?!0:B1(t,e.parentElement):!1,pp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,BP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function V1(t){return BP.has(t.tagName)||t.isContentEditable===!0}const Pc=new WeakSet;function Ey(t){return e=>{e.key==="Enter"&&t(e)}}function yh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VP=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Ey(()=>{if(Pc.has(n))return;yh(n,"down");const r=Ey(()=>{yh(n,"up")}),o=()=>yh(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Ty(t){return pp(t)&&!I1()}function UP(t,e,n={}){const[i,r,o]=z1(t,n),a=c=>{const u=c.currentTarget;if(!Ty(c))return;Pc.add(u);const h=e(u,c),f=(v,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),Pc.has(u)&&Pc.delete(u),Ty(v)&&typeof h=="function"&&h(v,{success:b})},m=v=>{f(v,u===window||u===document||n.useGlobalTarget||B1(u,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",g,r)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,r),F1(c)&&(c.addEventListener("focus",h=>VP(h,r)),!V1(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function U1(t){return Yb(t)&&"ownerSVGElement"in t}function $P(t){return U1(t)&&t.tagName==="svg"}function HP(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],r=t[1+n],o=t[2+n],a=t[3+n],c=v1(r,o,a);return e?c(i):c}const WP=[...N1,_t,Ar],GP=t=>WP.find(A1(t)),Py=()=>({translate:0,scale:1,origin:0,originPoint:0}),Js=()=>({x:Py(),y:Py()}),Dy=()=>({min:0,max:0}),Rt=()=>({x:Dy(),y:Dy()}),gf={current:null},$1={current:!1},YP=typeof window<"u";function KP(){if($1.current=!0,!!YP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gf.current=t.matches;t.addEventListener("change",e),e()}else gf.current=!1}const XP=new WeakMap;function ru(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pa(t){return typeof t=="string"||Array.isArray(t)}const mp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gp=["initial",...mp];function su(t){return ru(t.animate)||gp.some(e=>Pa(t[e]))}function H1(t){return!!(su(t)||t.variants)}function qP(t,e,n){for(const i in e){const r=e[i],o=n[i];if(Yt(r))t.addValue(i,r);else if(Yt(o))t.addValue(i,ms(r,{owner:t}));else if(o!==r)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(i);t.addValue(i,ms(a!==void 0?a:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Ry=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Bc={};function W1(t){Bc=t}function QP(){return Bc}class JP{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ap,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=nn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,st.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=su(n),this.isVariantNode=H1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const v=m[g];u[g]!==void 0&&Yt(v)&&v.set(u[g])}}mount(e){this.current=e,XP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:($1.current||KP(),this.shouldReduceMotion=gf.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=uo.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&st.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bc){const n=Bc[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ry.length;i++){const r=Ry[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,a=e[o];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=qP(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ms(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Gb(i)||Kb(i))?i=parseFloat(i):!GP(i)&&Ar.test(n)&&(i=j1(e,n)),this.setBaseTarget(e,Yt(i)?i.get():i)),Yt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=up(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Yt(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){fp.render(this.render)}}class Lr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class G1 extends JP{constructor(){super(...arguments),this.KeyframeResolver=OP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Y1({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function ZP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function vh(t){return t===void 0||t===1}function yf({scale:t,scaleX:e,scaleY:n}){return!vh(t)||!vh(e)||!vh(n)}function ss(t){return yf(t)||K1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function K1(t){return Ay(t.x)||Ay(t.y)}function Ay(t){return t&&t!=="0%"}function Vc(t,e,n){const i=t-n,r=e*i;return n+r}function Ny(t,e,n,i,r){return r!==void 0&&(t=Vc(t,r,i)),Vc(t,n,i)+e}function vf(t,e=0,n=1,i,r){t.min=Ny(t.min,e,n,i,r),t.max=Ny(t.max,e,n,i,r)}function X1(t,{x:e,y:n}){vf(t.x,e.translate,e.scale,e.originPoint),vf(t.y,n.translate,n.scale,n.originPoint)}const Ly=.999999999999,jy=1.0000000000001;function tD(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,a;for(let c=0;c<r;c++){o=n[c],a=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&eo(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,X1(t,a)),i&&ss(o.latestValues)&&eo(t,o.latestValues))}e.x<jy&&e.x>Ly&&(e.x=1),e.y<jy&&e.y>Ly&&(e.y=1)}function Zs(t,e){t.min=t.min+e,t.max=t.max+e}function Oy(t,e,n,i,r=.5){const o=mt(t.min,t.max,r);vf(t,e,n,o,i)}function eo(t,e){Oy(t.x,e.x,e.scaleX,e.scale,e.originX),Oy(t.y,e.y,e.scaleY,e.scale,e.originY)}function q1(t,e){return Y1(eD(t.getBoundingClientRect(),e))}function nD(t,e,n){const i=q1(t,n),{scroll:r}=e;return r&&(Zs(i.x,r.offset.x),Zs(i.y,r.offset.y)),i}const iD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rD=co.length;function sD(t,e,n){let i="",r=!0;for(let o=0;o<rD;o++){const a=co[o],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=O1(c,hp[a]);if(!u){r=!1;const f=iD[a]||a;i+=`${f}(${h}) `}n&&(e[a]=h)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function yp(t,e,n){const{style:i,vars:r,transformOrigin:o}=t;let a=!1,c=!1;for(const u in e){const h=e[u];if(uo.has(u)){a=!0;continue}else if(l1(u)){r[u]=h;continue}else{const f=O1(h,hp[u]);u.startsWith("origin")?(c=!0,o[u]=f):i[u]=f}}if(e.transform||(a||n?i.transform=sD(e,t.transform,n):i.transform&&(i.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=o;i.transformOrigin=`${u} ${h} ${f}`}}function Q1(t,{style:e,vars:n},i,r){const o=t.style;let a;for(a in e)o[a]=e[a];r?.applyProjectionStyles(o,i);for(a in n)o.setProperty(a,n[a])}function Fy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=Fy(t,e.target.x),i=Fy(t,e.target.y);return`${n}% ${i}%`}},oD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Ar.parse(t);if(r.length>5)return i;const o=Ar.createTransformer(t),a=typeof r[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;r[0+a]/=c,r[1+a]/=u;const h=mt(c,u,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),o(r)}},xf={borderRadius:{...Qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qo,borderTopRightRadius:Qo,borderBottomLeftRadius:Qo,borderBottomRightRadius:Qo,boxShadow:oD};function J1(t,{layout:e,layoutId:n}){return uo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xf[t]||t==="opacity")}function vp(t,e,n){const i=t.style,r=e?.style,o={};if(!i)return o;for(const a in i)(Yt(i[a])||r&&Yt(r[a])||J1(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(o[a]=i[a]);return o}function aD(t){return window.getComputedStyle(t)}class lD extends G1{constructor(){super(...arguments),this.type="html",this.renderInstance=Q1}readValueFromInstance(e,n){if(uo.has(n))return this.projection?.isProjecting?of(n):FT(e,n);{const i=aD(e),r=(l1(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return q1(e,n)}build(e,n,i){yp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return vp(e,n,i)}}const cD={offset:"stroke-dashoffset",array:"stroke-dasharray"},uD={offset:"strokeDashoffset",array:"strokeDasharray"};function dD(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?cD:uD;t[o.offset]=me.transform(-i);const a=me.transform(e),c=me.transform(n);t[o.array]=`${a} ${c}`}const hD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Z1(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:a=0,...c},u,h,f){if(yp(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete m.transformBox);for(const v of hD)m[v]!==void 0&&(g[v]=m[v],delete m[v]);e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),r!==void 0&&dD(m,r,o,a,!1)}const ew=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),tw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fD(t,e,n,i){Q1(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(ew.has(r)?r:dp(r),e.attrs[r])}function nw(t,e,n){const i=vp(t,e,n);for(const r in t)if(Yt(t[r])||Yt(e[r])){const o=co.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=t[r]}return i}class pD extends G1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(uo.has(n)){const i=L1(n);return i&&i.default||0}return n=ew.has(n)?n:dp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return nw(e,n,i)}build(e,n,i){Z1(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){fD(e,n,i,r)}mount(e){this.isSVGTag=tw(e.tagName),super.mount(e)}}const mD=gp.length;function iw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mD;n++){const i=gp[n],r=t.props[i];(Pa(r)||r===!1)&&(e[i]=r)}return e}function rw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const gD=[...mp].reverse(),yD=mp.length;function vD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>MP(t,n,i)))}function xD(t){let e=vD(t),n=Iy(),i=!0;const r=u=>(h,f)=>{const m=no(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:g,transitionEnd:v,...b}=m;h={...h,...b,...v}}return h};function o(u){e=u(t)}function a(u){const{props:h}=t,f=iw(t.parent)||{},m=[],g=new Set;let v={},b=1/0;for(let C=0;C<yD;C++){const k=gD[C],P=n[k],E=h[k]!==void 0?h[k]:f[k],N=Pa(E),D=k===u?P.isActive:null;D===!1&&(b=C);let j=E===f[k]&&E!==h[k]&&N;if(j&&i&&t.manuallyAnimateOnMount&&(j=!1),P.protectedKeys={...v},!P.isActive&&D===null||!E&&!P.prevProp||ru(E)||typeof E=="boolean")continue;const T=bD(P.prevProp,E);let A=T||k===u&&P.isActive&&!j&&N||C>b&&N,V=!1;const G=Array.isArray(E)?E:[E];let q=G.reduce(r(k),{});D===!1&&(q={});const{prevResolvedValues:B={}}=P,ee={...B,...q},Q=te=>{A=!0,g.has(te)&&(V=!0,g.delete(te)),P.needsAnimating[te]=!0;const H=t.getValue(te);H&&(H.liveStyle=!1)};for(const te in ee){const H=q[te],Z=B[te];if(v.hasOwnProperty(te))continue;let J=!1;hf(H)&&hf(Z)?J=!rw(H,Z):J=H!==Z,J?H!=null?Q(te):g.add(te):H!==void 0&&g.has(te)?Q(te):P.protectedKeys[te]=!0}P.prevProp=E,P.prevResolvedValues=q,P.isActive&&(v={...v,...q}),i&&t.blockInitialAnimation&&(A=!1);const ne=j&&T;A&&(!ne||V)&&m.push(...G.map(te=>{const H={type:k};if(typeof te=="string"&&i&&!ne&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,J=no(Z,te);if(Z.enteringChildren&&J){const{delayChildren:O}=J.transition||{};H.delay=E1(Z.enteringChildren,t,O)}}return{animation:te,options:H}}))}if(g.size){const C={};if(typeof h.initial!="boolean"){const k=no(t,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(C.transition=k.transition)}g.forEach(k=>{const P=t.getBaseTarget(k),E=t.getValue(k);E&&(E.liveStyle=!0),C[k]=P??null}),m.push({animation:C})}let S=!!m.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),i=!1,S?e(m):Promise.resolve()}function c(u,h){if(n[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(u,h)),n[u].isActive=h;const f=a(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Iy()}}}function bD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!rw(e,t):!1}function ts(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Iy(){return{animate:ts(!0),whileInView:ts(),whileHover:ts(),whileTap:ts(),whileDrag:ts(),whileFocus:ts(),exit:ts()}}const sw=1e-4,wD=1-sw,SD=1+sw,ow=.01,CD=0-ow,kD=0+ow;function rn(t){return t.max-t.min}function _D(t,e,n){return Math.abs(t-e)<=n}function zy(t,e,n,i=.5){t.origin=i,t.originPoint=mt(e.min,e.max,t.origin),t.scale=rn(n)/rn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wD&&t.scale<=SD||isNaN(t.scale))&&(t.scale=1),(t.translate>=CD&&t.translate<=kD||isNaN(t.translate))&&(t.translate=0)}function ga(t,e,n,i){zy(t.x,e.x,n.x,i?i.originX:void 0),zy(t.y,e.y,n.y,i?i.originY:void 0)}function By(t,e,n){t.min=n.min+e.min,t.max=t.min+rn(e)}function MD(t,e,n){By(t.x,e.x,n.x),By(t.y,e.y,n.y)}function Vy(t,e,n){t.min=e.min-n.min,t.max=t.min+rn(e)}function Uc(t,e,n){Vy(t.x,e.x,n.x),Vy(t.y,e.y,n.y)}function Uy(t,e,n,i,r){return t-=e,t=Vc(t,1/n,i),r!==void 0&&(t=Vc(t,1/r,i)),t}function ED(t,e=0,n=1,i=.5,r,o=t,a=t){if(yi.test(e)&&(e=parseFloat(e),e=mt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=mt(o.min,o.max,i);t===o&&(c-=e),t.min=Uy(t.min,e,n,c,r),t.max=Uy(t.max,e,n,c,r)}function $y(t,e,[n,i,r],o,a){ED(t,e[n],e[i],e[r],e.scale,o,a)}const TD=["x","scaleX","originX"],PD=["y","scaleY","originY"];function Hy(t,e,n,i){$y(t.x,e,TD,n?n.x:void 0,i?i.x:void 0),$y(t.y,e,PD,n?n.y:void 0,i?i.y:void 0)}function Wy(t,e){t.min=e.min,t.max=e.max}function ti(t,e){Wy(t.x,e.x),Wy(t.y,e.y)}function Gy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yy(t){return t.translate===0&&t.scale===1}function aw(t){return Yy(t.x)&&Yy(t.y)}function Ky(t,e){return t.min===e.min&&t.max===e.max}function DD(t,e){return Ky(t.x,e.x)&&Ky(t.y,e.y)}function Xy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lw(t,e){return Xy(t.x,e.x)&&Xy(t.y,e.y)}function qy(t){return rn(t.x)/rn(t.y)}function Qy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function zn(t){return[t("x"),t("y")]}function RD(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y,a=n?.z||0;if((r||o||a)&&(i=`translate3d(${r}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:g,skewX:v,skewY:b}=n;h&&(i=`perspective(${h}px) ${i}`),f&&(i+=`rotate(${f}deg) `),m&&(i+=`rotateX(${m}deg) `),g&&(i+=`rotateY(${g}deg) `),v&&(i+=`skewX(${v}deg) `),b&&(i+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(i+=`scale(${c}, ${u})`),i||"none"}const cw=["TopLeft","TopRight","BottomLeft","BottomRight"],AD=cw.length,Jy=t=>typeof t=="string"?parseFloat(t):t,Zy=t=>typeof t=="number"||me.test(t);function ND(t,e,n,i,r,o){r?(t.opacity=mt(0,n.opacity??1,LD(i)),t.opacityExit=mt(e.opacity??1,0,jD(i))):o&&(t.opacity=mt(e.opacity??1,n.opacity??1,i));for(let a=0;a<AD;a++){const c=`border${cw[a]}Radius`;let u=ev(e,c),h=ev(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Zy(u)===Zy(h)?(t[c]=Math.max(mt(Jy(u),Jy(h),i),0),(yi.test(h)||yi.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,i))}function ev(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const LD=uw(0,.5,n1),jD=uw(.5,.95,$n);function uw(t,e,n){return i=>i<t?0:i>e?1:n(Ma(t,e,i))}function OD(t,e){const n=nn.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(wi(i),t(o-e))};return st.setup(i,!0),()=>wi(i)}function Da(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Dc(t){return Yt(t)?t.get():t}function FD(t,e,n){const i=Yt(t)?t:ms(t);return i.start(cp("",i,e,n)),i.animation}const ID=(t,e)=>t.depth-e.depth;class zD{constructor(){this.children=[],this.isDirty=!1}add(e){Gf(this.children,e),this.isDirty=!0}remove(e){Yf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ID),this.isDirty=!1,this.children.forEach(e)}}class BD{constructor(){this.members=[]}add(e){Gf(this.members,e),e.scheduleRender()}remove(e){if(Yf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Rc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},xh=["","X","Y","Z"],VD=1e3;let UD=0;function bh(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function dw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=D1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(r||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&dw(i)}function hw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},c=e?.()){this.id=UD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WD),this.nodes.forEach(XD),this.nodes.forEach(qD),this.nodes.forEach(GD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new zD)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new qf),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=U1(a)&&!$P(a),this.instance=a;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;st.read(()=>{m=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,f&&f(),f=OD(g,250),Rc.hasAnimatedSinceResize&&(Rc.hasAnimatedSinceResize=!1,this.nodes.forEach(iv)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||tR,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=h.getProps(),k=!this.targetLayout||!lw(this.targetLayout,v),P=!m&&g;if(this.options.layoutRoot||this.resumeFrom||P||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...lp(b,"layout"),onPlay:S,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,P)}else m||iv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QD),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KD),this.nodes.forEach($D),this.nodes.forEach(HD)):this.nodes.forEach(nv),this.clearAllSnapshots();const c=nn.now();zt.delta=bi(0,1e3/60,c-zt.timestamp),zt.timestamp=c,zt.isProcessing=!0,dh.update.process(zt),dh.preRender.process(zt),dh.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YD),this.sharedNodes.forEach(JD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!aw(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;a&&this.instance&&(c||ss(this.latestValues)||f)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),nR(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Rt();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(iR))){const{scroll:h}=this.root;h&&(Zs(c.x,h.offset.x),Zs(c.y,h.offset.y))}return c}removeElementScroll(a){const c=Rt();if(ti(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&ti(c,a),Zs(c.x,f.offset.x),Zs(c.y,f.offset.y))}return c}applyTransform(a,c=!1){const u=Rt();ti(u,a);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&eo(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ss(f.latestValues)&&eo(u,f.latestValues)}return ss(this.latestValues)&&eo(u,this.latestValues),u}removeTransform(a){const c=Rt();ti(c,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!ss(h.latestValues))continue;yf(h.latestValues)&&h.updateSnapshot();const f=Rt(),m=h.measurePageBox();ti(f,m),Hy(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return ss(this.latestValues)&&Hy(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=zt.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),X1(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||yf(this.parent.latestValues)||K1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,c,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Uc(this.relativeTargetOrigin,c,u),ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;ti(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;tD(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Rt());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gy(this.prevProjectionDelta.x,this.projectionDelta.x),Gy(this.prevProjectionDelta.y,this.projectionDelta.y)),ga(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!Qy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Js(),this.projectionDelta=Js(),this.projectionDeltaWithTransform=Js()}setAnimationOrigin(a,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},m=Js();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Rt(),v=u?u.source:void 0,b=this.layout?this.layout.source:void 0,S=v!==b,C=this.getStack(),k=!C||C.members.length<=1,P=!!(S&&!k&&this.options.crossfade===!0&&!this.path.some(eR));this.animationProgress=0;let E;this.mixTargetDelta=N=>{const D=N/1e3;rv(m.x,a.x,D),rv(m.y,a.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZD(this.relativeTarget,this.relativeTargetOrigin,g,D),E&&DD(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Rt()),ti(E,this.relativeTarget)),S&&(this.animationValues=f,ND(f,h,this.latestValues,D,P,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Rc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ms(0)),this.currentAnimation=FD(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=a;if(!(!c||!u||!h)){if(this!==a&&this.layout&&h&&fw(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Rt();const m=rn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const g=rn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}ti(c,u),eo(c,f),ga(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new BD),this.sharedNodes.get(a).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&bh("z",a,h,this.animationValues);for(let f=0;f<xh.length;f++)bh(`rotate${xh[f]}`,a,h,this.animationValues),bh(`skew${xh[f]}`,a,h,this.animationValues);a.render();for(const f in h)a.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Dc(c?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Dc(c?.pointerEvents)||""),this.hasProjected&&!ss(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=RD(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),a.transform=m;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?a.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in xf){if(f[b]===void 0)continue;const{correct:S,applyTo:C,isCSSVariable:k}=xf[b],P=m==="none"?f[b]:S(f[b],h);if(C){const E=C.length;for(let N=0;N<E;N++)a[C[N]]=P}else k?this.options.visualElement.renderState.vars[b]=P:a[b]=P}this.options.layoutId&&(a.pointerEvents=h===this?Dc(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(tv),this.root.sharedNodes.clear()}}}function $D(t){t.updateLayout()}function HD(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,o=e.source!==t.layout.source;r==="size"?zn(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],g=rn(m);m.min=n[f].min,m.max=m.min+g}):fw(r,e.layoutBox,n)&&zn(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],g=rn(n[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Js();ga(a,n,e.layoutBox);const c=Js();o?ga(c,t.applyTransform(i,!0),e.measuredBox):ga(c,n,e.layoutBox);const u=!aw(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const v=Rt();Uc(v,e.layoutBox,m.layoutBox);const b=Rt();Uc(b,n,g.layoutBox),lw(v,b)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function WD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YD(t){t.clearSnapshot()}function tv(t){t.clearMeasurements()}function nv(t){t.isLayoutDirty=!1}function KD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function iv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XD(t){t.resolveTargetDelta()}function qD(t){t.calcProjection()}function QD(t){t.resetSkewAndRotation()}function JD(t){t.removeLeadSnapshot()}function rv(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sv(t,e,n,i){t.min=mt(e.min,n.min,i),t.max=mt(e.max,n.max,i)}function ZD(t,e,n,i){sv(t.x,e.x,n.x,i),sv(t.y,e.y,n.y,i)}function eR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tR={duration:.45,ease:[.4,0,.1,1]},ov=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),av=ov("applewebkit/")&&!ov("chrome/")?Math.round:$n;function lv(t){t.min=av(t.min),t.max=av(t.max)}function nR(t){lv(t.x),lv(t.y)}function fw(t,e,n){return t==="position"||t==="preserve-aspect"&&!_D(qy(e),qy(n),.2)}function iR(t){return t!==t.root&&t.scroll?.wasRoot}const rR=hw({attachResizeListener:(t,e)=>Da(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wh={current:void 0},pw=hw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wh.current){const t=new rR({});t.mount(window),t.setOptions({layoutScroll:!0}),wh.current=t}return wh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ya=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function cv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sR(...t){return e=>{let n=!1;const i=t.map(r=>{const o=cv(r,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let r=0;r<i.length;r++){const o=i[r];typeof o=="function"?o():cv(t[r],null)}}}}function oR(...t){return M.useCallback(sR(...t),t)}class aR extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=F1(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lR({children:t,isPresent:e,anchorX:n,root:i}){const r=M.useId(),o=M.useRef(null),a=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=M.useContext(Ya),u=t.props?.ref??t?.ref,h=oR(o,u);return M.useInsertionEffect(()=>{const{width:f,height:m,top:g,left:v,right:b}=a.current;if(e||!o.current||!f||!m)return;const S=n==="left"?`left: ${v}`:`right: ${b}`;o.current.dataset.motionPopId=r;const C=document.createElement("style");c&&(C.nonce=c);const k=i??document.head;return k.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{k.contains(C)&&k.removeChild(C)}},[e]),w.jsx(aR,{isPresent:e,childRef:o,sizeRef:a,children:M.cloneElement(t,{ref:h})})}const cR=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:a,anchorX:c,root:u})=>{const h=$a(uR),f=M.useId();let m=!0,g=M.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:r,onExitComplete:v=>{h.set(v,!0);for(const b of h.values())if(!b)return;i&&i()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,i]);return o&&m&&(g={...g}),M.useMemo(()=>{h.forEach((v,b)=>h.set(b,!1))},[n]),M.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),a==="popLayout"&&(t=w.jsx(lR,{isPresent:n,anchorX:c,root:u,children:t})),w.jsx(iu.Provider,{value:g,children:t})};function uR(){return new Map}function mw(t=!0){const e=M.useContext(iu);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,o=M.useId();M.useEffect(()=>{if(t)return r(o)},[t]);const a=M.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,a]:[!0]}const rc=t=>t.key||"";function uv(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const dR=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:a=!1,anchorX:c="left",root:u})=>{const[h,f]=mw(a),m=M.useMemo(()=>uv(t),[t]),g=a&&!h?[]:m.map(rc),v=M.useRef(!0),b=M.useRef(m),S=$a(()=>new Map),C=M.useRef(new Set),[k,P]=M.useState(m),[E,N]=M.useState(m);Wf(()=>{v.current=!1,b.current=m;for(let T=0;T<E.length;T++){const A=rc(E[T]);g.includes(A)?(S.delete(A),C.current.delete(A)):S.get(A)!==!0&&S.set(A,!1)}},[E,g.length,g.join("-")]);const D=[];if(m!==k){let T=[...m];for(let A=0;A<E.length;A++){const V=E[A],G=rc(V);g.includes(G)||(T.splice(A,0,V),D.push(V))}return o==="wait"&&D.length&&(T=D),N(uv(T)),P(m),null}const{forceRender:j}=M.useContext(Hf);return w.jsx(w.Fragment,{children:E.map(T=>{const A=rc(T),V=a&&!h?!1:m===E||g.includes(A),G=()=>{if(C.current.has(A))return;if(C.current.add(A),S.has(A))S.set(A,!0);else return;let q=!0;S.forEach(B=>{B||(q=!1)}),q&&(j?.(),N(b.current),a&&f?.(),i&&i())};return w.jsx(cR,{isPresent:V,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:o,root:u,onExitComplete:V?void 0:G,anchorX:c,children:T},A)})})},gw=M.createContext({strict:!1}),dv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let hv=!1;function hR(){if(hv)return;const t={};for(const e in dv)t[e]={isEnabled:n=>dv[e].some(i=>!!n[i])};W1(t),hv=!0}function yw(){return hR(),QP()}function fR(t){const e=yw();for(const n in t)e[n]={...e[n],...t[n]};W1(e)}const pR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $c(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pR.has(t)}let vw=t=>!$c(t);function mR(t){typeof t=="function"&&(vw=e=>e.startsWith("on")?!$c(e):t(e))}try{mR(require("@emotion/is-prop-valid").default)}catch{}function gR(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(vw(r)||n===!0&&$c(r)||!e&&!$c(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const ou=M.createContext({});function yR(t,e){if(su(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Pa(n)?n:void 0,animate:Pa(i)?i:void 0}}return t.inherit!==!1?e:{}}function vR(t){const{initial:e,animate:n}=yR(t,M.useContext(ou));return M.useMemo(()=>({initial:e,animate:n}),[fv(e),fv(n)])}function fv(t){return Array.isArray(t)?t.join(" "):t}const xp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xw(t,e,n){for(const i in e)!Yt(e[i])&&!J1(i,n)&&(t[i]=e[i])}function xR({transformTemplate:t},e){return M.useMemo(()=>{const n=xp();return yp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bR(t,e){const n=t.style||{},i={};return xw(i,n,t),Object.assign(i,xR(t,e)),i}function wR(t,e){const n={},i=bR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const bw=()=>({...xp(),attrs:{}});function SR(t,e,n,i){const r=M.useMemo(()=>{const o=bw();return Z1(o,e,tw(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};xw(o,t.style,t),r.style={...o,...r.style}}return r}const CR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bp(t){return typeof t!="string"||t.includes("-")?!1:!!(CR.indexOf(t)>-1||/[A-Z]/u.test(t))}function kR(t,e,n,{latestValues:i},r,o=!1,a){const u=(a??bp(t)?SR:wR)(e,i,r,t),h=gR(e,typeof t=="string",o),f=t!==M.Fragment?{...h,...u,ref:n}:{},{children:m}=e,g=M.useMemo(()=>Yt(m)?m.get():m,[m]);return M.createElement(t,{...f,children:g})}function _R({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:MR(n,i,r,t),renderState:e()}}function MR(t,e,n,i){const r={},o=i(t,{});for(const g in o)r[g]=Dc(o[g]);let{initial:a,animate:c}=t;const u=su(t),h=H1(t);e&&h&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?c:a;if(m&&typeof m!="boolean"&&!ru(m)){const g=Array.isArray(m)?m:[m];for(let v=0;v<g.length;v++){const b=up(t,g[v]);if(b){const{transitionEnd:S,transition:C,...k}=b;for(const P in k){let E=k[P];if(Array.isArray(E)){const N=f?E.length-1:0;E=E[N]}E!==null&&(r[P]=E)}for(const P in S)r[P]=S[P]}}}return r}const ww=t=>(e,n)=>{const i=M.useContext(ou),r=M.useContext(iu),o=()=>_R(t,e,i,r);return n?o():$a(o)},ER=ww({scrapeMotionValuesFromProps:vp,createRenderState:xp}),TR=ww({scrapeMotionValuesFromProps:nw,createRenderState:bw}),PR=Symbol.for("motionComponentSymbol");function DR(t,e,n){const i=M.useRef(n);M.useInsertionEffect(()=>{i.current=n});const r=M.useRef(null);return M.useCallback(o=>{o&&t.onMount?.(o),e&&(o?e.mount(o):e.unmount());const a=i.current;if(typeof a=="function")if(o){const c=a(o);typeof c=="function"&&(r.current=c)}else r.current?(r.current(),r.current=null):a(o);else a&&(a.current=o)},[e])}const Sw=M.createContext({});function oa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RR(t,e,n,i,r,o){const{visualElement:a}=M.useContext(ou),c=M.useContext(gw),u=M.useContext(iu),h=M.useContext(Ya).reducedMotion,f=M.useRef(null);i=i||c.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h,isSVG:o}));const m=f.current,g=M.useContext(Sw);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&AR(f.current,n,r,g);const v=M.useRef(!1);M.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const b=n[P1],S=M.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return Wf(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),M.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),m.enteringChildren=void 0)}),m}function AR(t,e,n,i){const{layoutId:r,layout:o,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Cw(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!a||c&&oa(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:u,layoutRoot:h})}function Cw(t){if(t)return t.options.allowProjection!==!1?t.projection:Cw(t.parent)}function Sh(t,{forwardMotionProps:e=!1,type:n}={},i,r){i&&fR(i);const o=n?n==="svg":bp(t),a=o?TR:ER;function c(h,f){let m;const g={...M.useContext(Ya),...h,layoutId:NR(h)},{isStatic:v}=g,b=vR(h),S=a(h,v);if(!v&&Wb){LR();const C=jR(g);m=C.MeasureLayout,b.visualElement=RR(t,S,g,r,C.ProjectionNode,o)}return w.jsxs(ou.Provider,{value:b,children:[m&&b.visualElement?w.jsx(m,{visualElement:b.visualElement,...g}):null,kR(t,h,DR(S,b.visualElement,f),S,v,e,o)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=M.forwardRef(c);return u[PR]=t,u}function NR({layoutId:t}){const e=M.useContext(Hf).id;return e&&t!==void 0?e+"-"+t:t}function LR(t,e){M.useContext(gw).strict}function jR(t){const e=yw(),{drag:n,layout:i}=e;if(!n&&!i)return{};const r={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function OR(t,e){if(typeof Proxy>"u")return Sh;const n=new Map,i=(o,a)=>Sh(o,a,t,e),r=(o,a)=>i(o,a);return new Proxy(r,{get:(o,a)=>a==="create"?i:(n.has(a)||n.set(a,Sh(a,void 0,t,e)),n.get(a))})}const FR=(t,e)=>e.isSVG??bp(t)?new pD(e):new lD(e,{allowProjection:t!==M.Fragment});class IR extends Lr{constructor(e){super(e),e.animationState||(e.animationState=xD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ru(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zR=0;class BR extends Lr{constructor(){super(...arguments),this.id=zR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const VR={animation:{Feature:IR},exit:{Feature:BR}};function Ka(t){return{point:{x:t.pageX,y:t.pageY}}}const UR=t=>e=>pp(e)&&t(e,Ka(e));function ya(t,e,n,i){return Da(t,e,UR(n),i)}const kw=({current:t})=>t?t.ownerDocument.defaultView:null,pv=(t,e)=>Math.abs(t-e);function $R(t,e){const n=pv(t.x,e.x),i=pv(t.y,e.y);return Math.sqrt(n**2+i**2)}const mv=new Set(["auto","scroll"]);class _w{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=v=>{this.handleScroll(v.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=kh(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=$R(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:C}=v,{timestamp:k}=zt;this.history.push({...C,timestamp:k});const{onStart:P,onMove:E}=this.handlers;b||(P&&P(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ch(b,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:S,onSessionEnd:C,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=kh(v.type==="pointercancel"?this.lastMoveEventInfo:Ch(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,P),C&&C(v,P)},!pp(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=r||window;const u=Ka(e),h=Ch(u,this.transformPagePoint),{point:f}=h,{timestamp:m}=zt;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,kh(h,this.history)),this.removeListeners=Ha(ya(this.contextWindow,"pointermove",this.handlePointerMove),ya(this.contextWindow,"pointerup",this.handlePointerUp),ya(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(mv.has(i.overflowX)||mv.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:r.x-n.x,y:r.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,r),st.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),wi(this.updatePoint)}}function Ch(t,e){return e?{point:e(t.point)}:t}function gv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kh({point:t},e){return{point:t,delta:gv(t,Mw(e)),offset:gv(t,HR(e)),velocity:WR(e,.1)}}function HR(t){return t[0]}function Mw(t){return t[t.length-1]}function WR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=Mw(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Ki(e)));)n--;if(!i)return{x:0,y:0};const o=Un(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const a={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function GR(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?mt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?mt(n,t,i.max):Math.min(t,n)),t}function yv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YR(t,{top:e,left:n,bottom:i,right:r}){return{x:yv(t.x,n,r),y:yv(t.y,e,i)}}function vv(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function KR(t,e){return{x:vv(t.x,e.x),y:vv(t.y,e.y)}}function XR(t,e){let n=.5;const i=rn(t),r=rn(e);return r>i?n=Ma(e.min,e.max-i,t.min):i>r&&(n=Ma(t.min,t.max-r,e.min)),bi(0,1,n)}function qR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bf=.35;function QR(t=bf){return t===!1?t=0:t===!0&&(t=bf),{x:xv(t,"left","right"),y:xv(t,"top","bottom")}}function xv(t,e,n){return{min:bv(t,e),max:bv(t,n)}}function bv(t,e){return typeof t=="number"?t:t[e]||0}const JR=new WeakMap;class ZR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{n?(this.stopAnimation(),this.snapToCursor(Ka(m).point)):this.pauseAnimation()},a=(m,g)=>{this.stopAnimation();const{drag:v,dragPropagation:b,onDragStart:S}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IP(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(k=>{let P=this.getAxisMotionValue(k).get()||0;if(yi.test(P)){const{projection:E}=this.visualElement;if(E&&E.layout){const N=E.layout.layoutBox[k];N&&(P=rn(N)*(parseFloat(P)/100))}}this.originPoint[k]=P}),S&&st.postRender(()=>S(m,g)),ff(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:S,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:k}=g;if(b&&this.currentDirection===null){this.currentDirection=eA(k),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),C&&C(m,g)},u=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>zn(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new _w(e,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:kw(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&st.postRender(()=>c(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!sc(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=GR(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&oa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=YR(i.layoutBox,e):this.constraints=!1,this.elastic=QR(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qR(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!oa(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=nD(i,r.root,this.visualElement.getTransformPagePoint());let a=KR(r.layout.layoutBox,o);if(n){const c=n(ZP(a));this.hasMutatedConstraints=!!c,c&&(a=Y1(c))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=zn(f=>{if(!sc(f,n,this.currentDirection))return;let m=u&&u[f]||{};a&&(m={min:0,max:0});const g=r?200:1e6,v=r?40:1e7,b={type:"inertia",velocity:i?e[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(f,b)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ff(this.visualElement,e),i.start(cp(e,i,0,n,this.visualElement,!1))}stopAnimation(){zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){zn(n=>{const{drag:i}=this.getProps();if(!sc(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:c}=r.layout.layoutBox[n],u=o.get()||0;o.set(e[n]-mt(a,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!oa(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};zn(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();r[a]=XR({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),zn(a=>{if(!sc(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:h}=this.constraints[a];c.set(mt(u,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;JR.set(this.visualElement,this);const e=this.visualElement.current,n=ya(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&!V1(u.target)&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();oa(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),st.read(i);const a=Da(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(zn(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{a(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=bf,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function sc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function eA(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tA extends Lr{constructor(e){super(e),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new ZR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const wv=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class nA extends Lr{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(e){this.session=new _w(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:wv(e),onStart:wv(n),onMove:i,onEnd:(o,a)=>{delete this.session,r&&st.postRender(()=>r(o,a))}}}mount(){this.removePointerDownListener=ya(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let _h=!1;class iA extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),_h&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Rc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,{projection:a}=i;return a&&(a.isPresent=o,_h=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||st.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;_h=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ew(t){const[e,n]=mw(),i=M.useContext(Hf);return w.jsx(iA,{...t,layoutGroup:i,switchLayoutGroup:M.useContext(Sw),isPresent:e,safeToRemove:n})}const rA={pan:{Feature:nA},drag:{Feature:tA,ProjectionNode:pw,MeasureLayout:Ew}};function Sv(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&st.postRender(()=>o(e,Ka(e)))}class sA extends Lr{mount(){const{current:e}=this.node;e&&(this.unmount=zP(e,(n,i)=>(Sv(this.node,i,"Start"),r=>Sv(this.node,r,"End"))))}unmount(){}}class oA extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ha(Da(this.node.current,"focus",()=>this.onFocus()),Da(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Cv(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&st.postRender(()=>o(e,Ka(e)))}class aA extends Lr{mount(){const{current:e}=this.node;e&&(this.unmount=UP(e,(n,i)=>(Cv(this.node,i,"Start"),(r,{success:o})=>Cv(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wf=new WeakMap,Mh=new WeakMap,lA=t=>{const e=wf.get(t.target);e&&e(t)},cA=t=>{t.forEach(lA)};function uA({root:t,...e}){const n=t||document;Mh.has(n)||Mh.set(n,{});const i=Mh.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(cA,{root:t,...e})),i[r]}function dA(t,e,n){const i=uA(e);return wf.set(t,n),i.observe(t),()=>{wf.delete(t),i.unobserve(t)}}const hA={some:0,all:1};class fA extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:hA[r]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=h?f:m;g&&g(u)};return dA(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pA(e,n))&&this.startObserver()}unmount(){}}function pA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mA={inView:{Feature:fA},tap:{Feature:aA},focus:{Feature:oA},hover:{Feature:sA}},gA={layout:{ProjectionNode:pw,MeasureLayout:Ew}},yA={...VR,...mA,...rA,...gA},Xi=OR(yA,FR);function Tw(t){const e=$a(()=>ms(t)),{isStatic:n}=M.useContext(Ya);if(n){const[,i]=M.useState(t);M.useEffect(()=>e.on("change",i),[])}return e}function Pw(t,e){const n=Tw(e()),i=()=>n.set(e());return i(),Wf(()=>{const r=()=>st.preRender(i,!1,!0),o=t.map(a=>a.on("change",r));return()=>{o.forEach(a=>a()),wi(i)}}),n}function vA(t){ma.current=[],t();const e=Pw(ma.current,t);return ma.current=void 0,e}function xA(t,e,n,i){if(typeof t=="function")return vA(t);const o=typeof e=="function"?e:HP(e,n,i);return Array.isArray(t)?kv(t,o):kv([t],([a])=>o(a))}function kv(t,e){const n=$a(()=>[]);return Pw(t,()=>{n.length=0;const i=t.length;for(let r=0;r<i;r++)n[r]=t[r].get();return e(n)})}function bA(t){const e=M.useRef(0),{isStatic:n}=M.useContext(Ya);M.useEffect(()=>{if(n)return;const i=({timestamp:r,delta:o})=>{e.current||(e.current=r),t(r-e.current,o)};return st.update(i,!0),()=>wi(i)},[t])}function wA({children:t,initialStep:e=1,onStepChange:n=()=>{},onFinalStepCompleted:i=()=>{},className:r="",stepCircleContainerClassName:o="",stepContainerClassName:a="",contentClassName:c="",footerClassName:u="",backButtonProps:h={},nextButtonProps:f={},backButtonText:m="Back",nextButtonText:g="Continue",disableStepIndicators:v=!1,renderStepIndicator:b,isOpen:S=!0,onRequestClose:C,useModalLayout:k=!1,overlayClassName:P="",modalContainerClassName:E="",modalTitle:N="",modalDescription:D="",...j}){if(!S)return null;M.useEffect(()=>{if(!k||typeof document>"u")return;const he=document.body.style.overflow,ge=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=he,document.documentElement.style.overflow=ge}},[k]);const[T,A]=M.useState(e),[V,G]=M.useState(0),q=M.Children.toArray(t),B=q.length,ee=T>B,Q=T===B,ne=he=>{A(he),he>B?i():n(he)},le=()=>{T>1&&(G(-1),ne(T-1))},te=()=>{Q||(G(1),ne(T+1))},H=()=>{G(1),ne(B+1)},Z=["outer-container",r].filter(Boolean).join(" "),J=(N||D)&&k,O=w.jsxs("div",{className:Z,...j,children:[J&&w.jsxs("div",{className:"stepper-modal-header",children:[N&&w.jsx("h3",{className:"stepper-modal-title",children:N}),D&&w.jsx("p",{className:"stepper-modal-description",children:D})]}),w.jsxs("div",{className:`step-circle-container ${o}`.trim(),children:[w.jsx("div",{className:`step-indicator-row ${a}`.trim(),children:q.map((he,ge)=>{const Le=ge+1,Ne=ge<B-1;return w.jsxs(Af.Fragment,{children:[b?b({step:Le,currentStep:T,onStepClick:Oe=>{G(Oe>T?1:-1),ne(Oe)}}):w.jsx(_A,{step:Le,disableStepIndicators:v,currentStep:T,onClickStep:Oe=>{G(Oe>T?1:-1),ne(Oe)}}),Ne&&w.jsx(MA,{isComplete:T>Le})]},Le)})}),w.jsx(SA,{isCompleted:ee,currentStep:T,direction:V,className:`step-content-default ${c}`.trim(),children:q[T-1]}),!ee&&w.jsx("div",{className:`footer-container ${u}`.trim(),children:w.jsxs("div",{className:`footer-nav ${T!==1?"spread":"end"}`.trim(),children:[T!==1&&w.jsx("button",{onClick:le,className:`back-button ${T===1?"inactive":""}`.trim(),...h,children:m}),w.jsx("button",{onClick:Q?H:te,className:"next-button",...f,children:Q?"Complete":g})]})})]})]});if(!k)return O;const K=["stepper-overlay",P].filter(Boolean).join(" "),de=["stepper-modal-container",E].filter(Boolean).join(" "),ae=typeof C=="function"?C:void 0;return w.jsxs("div",{className:K,children:[w.jsxs("div",{className:de,children:[ae&&w.jsx("button",{type:"button",className:"stepper-close",onClick:ae,"aria-label":"Cerrar",children:""}),O]}),ae&&w.jsx("button",{type:"button",className:"stepper-overlay-dismiss",onClick:ae,"aria-label":"Cerrar"})]})}function SA({isCompleted:t,currentStep:e,direction:n,children:i,className:r}){const[o,a]=M.useState(0);return w.jsx(Xi.div,{className:r,style:{position:"relative",overflow:"hidden"},animate:{height:t?0:o},transition:{type:"spring",duration:.4},children:w.jsx(dR,{initial:!1,mode:"sync",custom:n,children:!t&&w.jsx(CA,{direction:n,onHeightReady:c=>a(c),children:i},e)})})}function CA({children:t,direction:e,onHeightReady:n}){const i=M.useRef(null);return M.useLayoutEffect(()=>{i.current&&n(i.current.offsetHeight)},[t,n]),w.jsx(Xi.div,{ref:i,custom:e,variants:kA,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4},style:{position:"absolute",left:0,right:0,top:0},children:t})}const kA={enter:t=>({x:t>=0?"-100%":"100%",opacity:0}),center:{x:"0%",opacity:1},exit:t=>({x:t>=0?"50%":"-50%",opacity:0})};function Eh({children:t}){return w.jsx("div",{className:"step-default",children:t})}function _A({step:t,currentStep:e,onClickStep:n,disableStepIndicators:i}){const r=e===t?"active":e<t?"inactive":"complete",o=()=>{t!==e&&!i&&n(t)};return w.jsx(Xi.div,{onClick:o,className:"step-indicator",animate:r,initial:!1,children:w.jsx(Xi.div,{variants:{inactive:{scale:1,backgroundColor:"#222",color:"#a3a3a3"},active:{scale:1,backgroundColor:"#5227FF",color:"#5227FF"},complete:{scale:1,backgroundColor:"#5227FF",color:"#3b82f6"}},transition:{duration:.3},className:"step-indicator-inner",children:r==="complete"?w.jsx(EA,{className:"check-icon"}):r==="active"?w.jsx("div",{className:"active-dot"}):w.jsx("span",{className:"step-number",children:t})})})}function MA({isComplete:t}){const e={incomplete:{width:0,backgroundColor:"rgba(82, 39, 255, 0)"},complete:{width:"100%",backgroundColor:"#5227FF"}};return w.jsx("div",{className:"step-connector",children:w.jsx(Xi.div,{className:"step-connector-inner",variants:e,initial:!1,animate:t?"complete":"incomplete",transition:{duration:.4}})})}function EA(t){return w.jsx("svg",{...t,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:w.jsx(Xi.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.1,type:"tween",ease:"easeOut",duration:.3},strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}const va="subly:state",wr={language:"es",currencyDisplayMode:"original",baseCurrency:"USD",calendarAutoSyncAll:!1,calendarUseDedicatedCalendar:!1,calendarFloatingButtonEnabled:!0,calendarReminderDaysBefore:1,calendarReminderMethod:"popup",onboardingCompleted:!1,driveBackupFileId:void 0,driveLastBackupAt:void 0};function aa(t){const e=Array.isArray(t?.subscriptions)?t.subscriptions:[],n=t?.settings,i=n?.language==="en"?"en":"es",r=n?.currencyDisplayMode==="convertToBase"?"convertToBase":"original",o=String(n?.baseCurrency??wr.baseCurrency).trim().toUpperCase()||wr.baseCurrency,a=!!(n?.calendarAutoSyncAll??wr.calendarAutoSyncAll),c=!!(n?.calendarUseDedicatedCalendar??wr.calendarUseDedicatedCalendar),u=n?.calendarFloatingButtonEnabled!==!1,f=((C,k,P,E)=>{const N=typeof C=="number"?C:Number(C);if(!Number.isFinite(N))return k;const D=Math.trunc(N);return D<P?P:D>E?E:D})(n?.calendarReminderDaysBefore,wr.calendarReminderDaysBefore??1,0,365),m=n?.calendarReminderMethod==="email"?"email":"popup",g=!!(n?.onboardingCompleted??wr.onboardingCompleted),v=String(n?.calendarSubscriptionsCalendarId??"").trim()||void 0,b=String(n?.driveBackupFileId??"").trim()||void 0,S=String(n?.driveLastBackupAt??"").trim()||void 0;return{subscriptions:e,settings:{language:i,currencyDisplayMode:r,baseCurrency:o,calendarAutoSyncAll:a,calendarUseDedicatedCalendar:c,calendarFloatingButtonEnabled:u,calendarReminderDaysBefore:f,calendarReminderMethod:m,onboardingCompleted:g,calendarSubscriptionsCalendarId:v,driveBackupFileId:b,driveLastBackupAt:S}}}function Dw(){return typeof chrome<"u"&&!!chrome.storage?.local}async function TA(){if(Dw()){const e=await chrome.storage.local.get([va]);return aa(e?.[va]??null)}const t=typeof localStorage<"u"?localStorage.getItem(va):null;if(!t)return aa(null);try{return aa(JSON.parse(t))}catch{return aa(null)}}async function PA(t){if(Dw()){await chrome.storage.local.set({[va]:t});return}typeof localStorage<"u"&&localStorage.setItem(va,JSON.stringify(t))}function Rw(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function Hc(t,e,n=new Date){const[i,r,o]=t.split("-").map(Number),a=new Date(i,(r??1)-1,o??1);if(Number.isNaN(a.getTime()))return n;const c=(f,m)=>{const g=new Date(f);return g.setMonth(g.getMonth()+m),g},u=e==="monthly"?1:e==="quarterly"?3:e==="semiannual"?6:12;let h=new Date(a);for(;h.getTime()<n.getTime();)h=c(h,u);return h}const Aw=M.createContext(null);function DA({children:t}){const[e,n]=M.useState({subscriptions:[],settings:wr}),[i,r]=M.useState(!1);M.useEffect(()=>{let a=!0;return(async()=>{const c=await TA();a&&(n(c),r(!0))})(),()=>{a=!1}},[]),M.useEffect(()=>{i&&PA(e)},[i,e]);const o=M.useMemo(()=>({state:e,setSubscriptions:a=>n(c=>({...c,subscriptions:a})),setSettings:a=>n(c=>({...c,settings:a})),ready:i}),[i,e]);return w.jsx(Aw.Provider,{value:o,children:t})}function Xa(){const t=M.useContext(Aw);if(!t)throw new Error("useStore must be used within StoreProvider");return t}const Ac={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},RA=t=>typeof t=="number"?`${t}px`:t??void 0,AA=(t,e,n)=>{M.useEffect(()=>{if(!window.ResizeObserver){const r=()=>t();return window.addEventListener("resize",r),t(),()=>window.removeEventListener("resize",r)}const i=e.map(r=>{if(!r.current)return null;const o=new window.ResizeObserver(t);return o.observe(r.current),o});return t(),()=>{i.forEach(r=>r?.disconnect())}},n)},NA=(t,e,n)=>{M.useEffect(()=>{const i=t.current?.querySelectorAll("img")??[];if(!i||i.length===0){e();return}let r=i.length;const o=()=>{r-=1,r===0&&e()};return i.forEach(a=>{const c=a;c.complete?o():(c.addEventListener("load",o,{once:!0}),c.addEventListener("error",o,{once:!0}))}),()=>{i.forEach(a=>{a.removeEventListener("load",o),a.removeEventListener("error",o)})}},n)},LA=(t,e,n,i,r)=>{const o=M.useRef(null),a=M.useRef(null),c=M.useRef(0),u=M.useRef(0),[h,f]=M.useState(!0);M.useEffect(()=>{const m=t.current;if(!m)return;n>0&&(c.current=(c.current%n+n)%n,m.style.transform=`translate3d(${-c.current}px, 0, 0)`);const g=v=>{if(!h){o.current=requestAnimationFrame(g);return}a.current===null&&(a.current=v);const b=Math.max(0,v-a.current)/1e3;a.current=v;const S=r&&i?0:e,C=1-Math.exp(-b/Ac.SMOOTH_TAU);if(u.current+=(S-u.current)*C,n>0){let k=c.current+u.current*b;k=(k%n+n)%n,c.current=k;const P=-c.current;m.style.transform=`translate3d(${P}px, 0, 0)`}else m.style.transform="translate3d(0, 0, 0)";o.current=requestAnimationFrame(g)};return o.current=requestAnimationFrame(g),()=>{o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),a.current=null}},[e,n,i,r,t,h]),M.useEffect(()=>{const m=t.current?.parentElement?.parentElement;if(!m||!window.IntersectionObserver)return;const g=new IntersectionObserver(v=>{for(const b of v)b.target===m&&f(b.isIntersecting)},{root:null,threshold:0});return g.observe(m),()=>g.disconnect()},[t])},Nw=M.memo(({logos:t,speed:e=120,direction:n="left",width:i="100%",logoHeight:r=28,gap:o=32,pauseOnHover:a=!0,fadeOut:c=!1,fadeOutColor:u,scaleOnHover:h=!1,ariaLabel:f="Partner logos",className:m,style:g})=>{const v=M.useRef(null),b=M.useRef(null),S=M.useRef(null),[C,k]=M.useState(0),[P,E]=M.useState(Ac.MIN_COPIES),[N,D]=M.useState(!1),[j,T]=M.useState({}),A=M.useMemo(()=>{const te=Math.abs(e),H=n==="left"?1:-1,Z=e<0?-1:1;return te*H*Z},[e,n]),V=M.useCallback(()=>{const te=v.current?.clientWidth??0,H=(S.current?.scrollWidth??0)||(S.current?.getBoundingClientRect?.()?.width??0);if(H>0&&te>0){const Z=Math.ceil(H);k(Z);let J=Math.ceil(te/Z)+Ac.COPY_HEADROOM;J=Math.max(Ac.MIN_COPIES,J),E(J),requestAnimationFrame(()=>{const O=b.current?.scrollWidth??0;if(O>0&&O<te*2){const K=Math.ceil((te*2-O)/Z);K>0&&E(de=>de+K)}})}},[]);AA(V,[v,S],[t,o,r]),NA(S,V,[t,o,r]),LA(b,A,C,N,a);const G=M.useMemo(()=>({"--logoloop-gap":`${o}px`,"--logoloop-logoHeight":`${r}px`,...u?{"--logoloop-fadeColor":u}:{}}),[o,r,u]),q=M.useMemo(()=>["logoloop",c&&"logoloop--fade",h&&"logoloop--scale-hover",m].filter(Boolean).join(" "),[c,h,m]),B=M.useCallback(()=>{a&&D(!0)},[a]),ee=M.useCallback(()=>{a&&D(!1)},[a]),Q=M.useCallback((te,H,Z,J,O)=>{const K=te.node!==void 0,de=Number(te.scale??1)||1,ae=de!==1?{transform:`scale(${de})`,transformOrigin:"center"}:void 0,he=K?w.jsx("span",{className:"logoloop__node",style:ae,"aria-hidden":!!te.href&&!te.ariaLabel,children:te.node}):J||j[Z]?w.jsx("span",{className:"logoloop__node",style:ae,"aria-hidden":!0,children:te.alt||te.title||"Logo"}):w.jsx("img",{src:te.src,srcSet:te.srcSet,sizes:te.sizes,width:te.width,height:te.height,alt:te.alt??"",title:te.title,loading:O?"eager":"lazy",decoding:"async",draggable:!1,style:ae,onError:()=>T(Oe=>({...Oe,[Z]:!0}))}),ge=K?te.ariaLabel??te.title:te.alt??te.title,Le=te.href,Ne=Le?w.jsx("a",{className:"logoloop__link",href:Le,"aria-label":ge||"logo link",target:"_blank",rel:"noreferrer noopener",children:he}):he;return w.jsx("li",{className:"logoloop__item",role:"listitem",children:Ne},H)},[j]),ne=M.useMemo(()=>Array.from({length:P},(te,H)=>w.jsx("ul",{className:"logoloop__list",role:"list","aria-hidden":H>0,ref:H===0?S:void 0,children:t.map((Z,J)=>Q(Z,`${H}-${J}`,J,H>0?j[J]:!1,H===0))},`copy-${H}`)),[j,P,t,Q]),le=M.useMemo(()=>({width:RA(i)??"100%",...G,...g}),[i,G,g]);return w.jsxs("div",{ref:v,className:q,style:le,role:"region","aria-label":f,onMouseEnter:B,onMouseLeave:ee,children:[w.jsx("div",{className:"logoloop__track",ref:b,children:ne}),w.jsx("div",{style:{height:1}})]})});Nw.displayName="LogoLoop";function jA(){const{state:t,setSettings:e,ready:n}=Xa(),i=Rb(),r=n&&t.settings.onboardingCompleted!==!0,o=M.useMemo(()=>"Configura lo bsico en 1 minuto y empieza a registrar tus suscripciones.",[]),a=M.useMemo(()=>[{src:"/logos/netflix.svg",label:"Netflix"},{src:"/logos/spotify.svg",label:"Spotify"},{src:"/logos/youtube-premium.svg",label:"YouTube Premium"},{src:"/logos/disney-plus.svg",label:"Disney+",scale:1},{src:"/logos/amazon-prime-video.png",label:"Prime Video",scale:.9},{src:"/logos/apple-music.png",label:"Apple Music",scale:1.36},{src:"/logos/apple-tv-plus.svg",label:"Apple TV+"},{src:"/logos/icloud.svg",label:"iCloud+"},{src:"/logos/google-one.png",label:"Google One"},{src:"/logos/dropbox.svg",label:"Dropbox"},{src:"/logos/max.svg",label:"Max",scale:1.05},{src:"/logos/crunchyroll.svg",label:"Crunchyroll"},{src:"/logos/microsoft-365.svg",label:"Microsoft 365"},{src:"/logos/xbox-game-pass.svg",label:"Xbox Game Pass",scale:1},{src:"/logos/playstation-plus.svg",label:"PlayStation Plus"},{src:"/logos/nintendo-switch-online.svg",label:"Nintendo Switch Online",scale:1.04},{src:"/logos/chatgpt.svg",label:"ChatGPT"},{src:"/logos/claude.svg",label:"Claude"},{src:"/logos/perplexity.svg",label:"Perplexity"},{src:"/logos/microsoft-copilot.svg",label:"Microsoft Copilot"},{src:"/logos/google-gemini.svg",label:"Google Gemini"},{src:"/logos/canva.png",label:"Canva"},{src:"/logos/tidal.png",label:"TIDAL"}].map(({src:u,label:h,scale:f})=>({src:u,alt:h,title:h,scale:f})),[]),c=()=>{e({...t.settings,onboardingCompleted:!0})};return r?w.jsxs(wA,{useModalLayout:!0,isOpen:r,onRequestClose:c,onFinalStepCompleted:c,initialStep:1,modalTitle:"Bienvenido a Subly",modalDescription:o,backButtonText:"Atrs",nextButtonText:"Continuar",disableStepIndicators:!1,className:"text-slate-900 dark:text-white",stepCircleContainerClassName:"bg-white/95 dark:bg-slate-950/95 border border-slate-200 dark:border-slate-800",children:[w.jsx(Eh,{children:w.jsxs("div",{className:"space-y-3",children:[w.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:"Subly te ayuda a visualizar gastos, prximas renovaciones y sincronizar recordatorios con Google Calendar."}),w.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700 dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-200",children:"Tip: puedes cerrar este asistente () y volver luego desde Ajustes."})]})}),w.jsx(Eh,{children:w.jsxs("div",{className:"space-y-3",children:[w.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:"Primero, aade tus suscripciones para que el dashboard tenga datos."}),w.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200 bg-white/70 p-3 dark:border-slate-800 dark:bg-slate-900/40",children:w.jsx("div",{className:"mt-2",children:w.jsx(Nw,{logos:a,speed:80,direction:"left",gap:36,logoHeight:44,pauseOnHover:!0,fadeOut:!0,fadeOutColor:"rgba(2, 6, 23, 0)",scaleOnHover:!0,ariaLabel:"Ejemplos de suscripciones"})})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-semibold text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",onClick:()=>i("/subscriptions"),children:"Ir a Suscripciones"}),w.jsx("button",{type:"button",className:"rounded-md border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100 dark:border-slate-800 dark:text-slate-200 dark:hover:bg-slate-900",onClick:()=>i("/dashboard"),children:"Ver dashboard"})]})]})}),w.jsx(Eh,{children:w.jsxs("div",{className:"space-y-3",children:[w.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:"Luego puedes configurar moneda base, idioma e integraciones (Calendar / Drive)."}),w.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-semibold text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",onClick:()=>i("/settings"),children:"Ir a Ajustes"})]})})]}):null}const _v={es:{common:{loading:"Cargando",language:{es:"Espaol",en:"English"},cancel:"Cancelar",clear:"Limpiar",save:"Guardar",add:"Aadir",edit:"Editar",delete:"Eliminar",on:"ON",off:"OFF",importJson:"Importar JSON",exportJson:"Exportar JSON",exported:"Exportado.",importedCount:"Importadas: {{count}}",importFailed:"Importacin fallida (JSON invlido o estructura incorrecta).",none:"",uncategorized:"Sin categora",other:"Otros"},nav:{dashboard:"Dashboard",subscriptions:"Suscripciones",settings:"Ajustes"},settings:{groupGeneral:"General",groupIntegrations:"Integraciones",groupData:"Datos y mantenimiento",groupHelp:"Ayuda",languageTitle:"Idioma",languageDescription:"Selecciona el idioma de la app.",alertsTitle:"Alertas",alertsHint:"Las alertas se muestran como notificaciones del navegador (si estn permitidas).",currencyTitle:"Moneda",displayAmounts:"Mostrar importes",displayOriginal:"Con sus monedas originales",displayConvert:"Convertir a una moneda nica",baseCurrency:"Moneda base",currencyHint:"Al convertir a una sola moneda, los totales y grficos se muestran en la moneda base.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Se abre en una pestaa nueva.",calendarSyncTitle:"Sincronizacin",calendarDedicatedLabel:"Usar calendario dedicado para suscripciones",calendarDedicatedHint:"Al activarlo, se crea un calendario dedicado para tus suscripciones.",calendarAutoSyncAllLabel:"Auto-sync de suscripciones",calendarAutoSyncAllHint:"Al guardar cambios en Suscripciones, se intentar sincronizar automticamente (si ya diste permiso).",calendarReminderTitle:"Notificacin por defecto",calendarReminderHint:"Se aplica al sincronizar (crear/actualizar) eventos de suscripciones. 0 das desactiva recordatorios.",calendarReminderDaysLabel:"Das antes",calendarReminderMethodLabel:"Tipo",calendarReminderMethodPopup:"Notificacin",calendarReminderMethodEmail:"Email",openGoogleCalendar:"Abrir Google Calendar",extensionTitle:"Extensin",floatingButtonLabel:"Mostrar botn flotante en Google Calendar",floatingButtonHint:"Si lo desactivas, podrs abrir Subly solo desde el icono de la extensin (o el panel lateral si ya est abierto).",dataTitle:"Datos",resetLocalLabel:"Borrar datos locales",resetLocalHint:"Elimina suscripciones y restablece ajustes de este dispositivo. No borra tu copia en Drive ni eventos ya creados en Calendar.",resetLocalConfirm:"Esto borrar tus datos locales (suscripciones y ajustes) en este dispositivo. Continuar?",resetLocalDone:"Datos locales borrados.",privacyTitle:"Permisos",privacyBody:"Subly guarda tus datos localmente. Si activas sincronizacin/backup, usa Google OAuth para crear/actualizar eventos en Google Calendar y guardar una copia JSON en Drive (appDataFolder).",permissionsHint:"Permisos: identity (OAuth), storage (guardar estado), sidePanel (UI), y acceso a Google APIs + proveedor de tipos de cambio.",googleDisconnectLabel:"Desconectar Google",googleDisconnectHint:"Revoca el token OAuth y fuerza a pedir permisos de nuevo la prxima vez. No borra eventos de Calendar ni tu backup en Drive.",googleDisconnectConfirm:"Esto desconectar Subly de tu cuenta de Google en este navegador. Continuar?",googleDisconnectDone:"Desconectado. La prxima vez se pedirn permisos de nuevo.",googleDisconnectNoToken:"No hay sesin activa que desconectar.",helpTitle:"Ayuda",helpFaqTitle:"FAQ",helpFaqDescription:"Respuestas rpidas y solucin de problemas.",helpContactTitle:"Ponte en contacto con nosotros",helpContactDescription:"Incluye el diagnstico para resolver incidencias ms rpido.",helpContactLastBackup:"ltima copia en Drive",helpFeedbackTitle:"Enviar comentarios",helpFeedbackDescription:"Ideas, mejoras, bugs o sugerencias.",helpFeedbackPlaceholder:"Cuntanos qu mejoraras, qu esperabas que pasase y cmo reproducirlo",helpCopyFeedback:"Copiar comentario",helpFeedbackCopied:"Comentario copiado.",helpFeedbackEmpty:"Escribe un comentario antes de copiar.",helpFeedbackHint:"Pega el comentario en el email de soporte o en el formulario de la tienda.",helpOpenPanelQ:"Cmo abro el panel?",helpOpenPanelA:"En Google Calendar puedes usar el botn flotante (si est activado) o hacer clic en el icono de la extensin para abrir el Side Panel.",helpDriveQ:"Qu se guarda en Drive?",helpDriveA:"Un nico archivo JSON en la carpeta oculta appDataFolder (por defecto: subly-state.json).",helpCalendarQ:"Qu crea en Google Calendar?",helpCalendarA:"Eventos recurrentes (todo el da) para cada suscripcin, si sincronizas.",helpTroubleshootingQ:"Solucin de problemas",helpTroubleshootingA:"Si algo no funciona, prueba estos pasos:",helpTs1:"Recarga Google Calendar y vuelve a abrir el panel.",helpTs2:"Revisa los toggles de sincronizacin y el botn flotante en Integraciones.",helpTs3:"Si Drive/Calendar falla, desconecta Google y vuelve a autorizar desde la accin que lo requiera.",helpStatusQ:"Estado",helpStatusAutoSync:"Auto-sync",helpStatusDedicated:"Calendario dedicado",helpStatusFloating:"Botn flotante",helpStatusDrive:"Backup en Drive",helpStatusLinked:"Vinculado",helpStatusNotLinked:"No vinculado",helpStatusHint:"Los cambios se gestionan en Integraciones y Datos y mantenimiento.",helpDiagnosticsQ:"Diagnstico",helpDiagnosticsA:"Copia un resumen del estado de la app para adjuntarlo en un reporte (no incluye tokens OAuth).",helpCopyDiagnostics:"Copiar diagnstico",helpCopied:"Diagnstico copiado.",helpCopyFailed:"No se pudo copiar automticamente. Copia el texto:",helpContactQ:"Contacto",helpContactA:"Para soporte, usa el email de soporte indicado en la ficha de Chrome Web Store. Si vas a reportar un problema, adjunta tambin el Diagnstico.",helpPrivacyQ:"Privacidad",helpPrivacyA:"Tus datos se guardan localmente. Solo si activas integraciones, Subly usa Google OAuth para Calendar y/o guardar un backup JSON en Drive (appDataFolder).",helpPrivacyOpen:"Abrir poltica de privacidad",onboardingTitle:"Primeros pasos",onboardingDescription:"Puedes volver a ver el onboarding cuando quieras.",openOnboarding:"Ver onboarding de nuevo",onboardingOpened:"Onboarding abierto."},drive:{title:"Copia de seguridad",body:"Guarda una copia en tu Google Drive y restaura una copia anterior cuando lo necesites.",lastBackup:"ltima copia",save:"Guardar copia",restore:"Restaurar copia",saving:"Guardando",restoring:"Restaurando",restoreConfirm:"Esto reemplazar los datos guardados en este dispositivo por la copia de Drive. Quieres continuar?",backupSaved:"Copia guardada en Google Drive.",backupSaveFailed:"No se pudo guardar la copia en Google Drive.",backupRestored:"Datos restaurados desde Google Drive.",backupRestoreFailed:"No se pudo restaurar desde Google Drive."},subscriptions:{listTitle:"Listado",subtitle:"Aade, edita y revisa tus suscripciones.",addSubscription:"Aadir suscripcin",noSubscriptions:"No hay suscripciones an.",addToCalendar:"Aadir a Calendar",syncAll:"Sync todas",syncing:"Sincronizando",syncToCalendar:"Sync con Calendar",syncCreate:"Crear en Calendar",syncUpdate:"Actualizar en Calendar",syncOk:"Sincronizado con Google Calendar.",syncFailed:"Error al sincronizar.",reminderInfo:"La notificacin se configura al sincronizar con Google Calendar.",remindersTitle:"Avisos de renovacin",reminderUseCustom:"Usar recordatorio personalizado",reminderDaysBefore:"Das antes",reminderMethodLabel:"Tipo",reminderMethodPopup:"Notificacin",reminderMethodEmail:"Email",reminderSummaryNone:"No recibirs notificaciones antes de la renovacin.",reminderSummaryNotificationOne:"Recibirs una notificacin 1 da antes de la renovacin.",reminderSummaryNotificationMany:"Recibirs una notificacin {{days}} das antes de la renovacin.",reminderSummaryEmailOne:"Recibirs un email 1 da antes de la renovacin.",reminderSummaryEmailMany:"Recibirs un email {{days}} das antes de la renovacin.",syncAllDone:"Sincronizacin terminada: {{ok}} ok, {{fail}} fallo(s).",autoSyncAllOn:"Auto-sync: Activado",autoSyncAllOff:"Auto-sync: Desactivado",autoSyncAllHint:"Si est activo, los cambios se sincronizan (si ya hay autorizacin).",autoSyncConfirm:"Quieres sincronizar todas ahora?",editSubscription:"Editar suscripcin",addSubscriptionTitle:"Aadir suscripcin",searchPlaceholder:"Buscar",filtersToggle:"Filtros",resultsCount:"Resultados: {{count}}",filterCategory:"Categora",filterCurrency:"Moneda",filterPeriod:"Periodo",filterMinPrice:"Precio mn.",filterMaxPrice:"Precio mx.",emptyFiltered:"Sin resultados con los filtros actuales.",dueSoon:"Pronto",columnName:"Suscripcin",columnPrice:"Importe",columnPeriod:"Periodo",columnStart:"Inicio",columnNext:"Prximo",columnCategory:"Categora",columnActions:"Acciones",insightsTitle:"Resumen",insightsHint:"Importes equivalentes en {{currency}}.",insightsDueWindow:"Ventana: {{days}}d",insightsCount:"Suscripciones",insightsAvgMonthly:"Media mensual",insightsAvgMonthlyHelper:"Equivalente en {{currency}}.",insightsUpcoming:"Prximas",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Ms prxima: {{date}}",insightsTopCategory:"Top categora",insightsTopCategoryHelper:"{{percent}}% del total",name:"Nombre",category:"Categora",categoryPlaceholder:"Ej: Streaming",amount:"Importe",currency:"Moneda",period:"Periodo",startDate:"Fecha inicio",helpIncomplete:"Completa nombre, importe y fecha.",startLabel:"Inicio",nextLabel:"Prximo",renewal:"Renovacin",detailsAmount:"Importe",detailsPeriod:"Periodo",periodMonthly:"Mensual",periodQuarterly:"Trimestral",periodSemiannual:"Semestral",periodAnnual:"Anual",toastCreated:"Suscripcin creada.",toastUpdated:"Suscripcin actualizada.",toastDeleted:"Suscripcin eliminada.",deleteConfirm:"Eliminar {{name}}? Tambin se borrar su evento en Google Calendar si existe.",calendarEventDeleted:"Evento eliminado de Google Calendar.",calendarDeleteFailed:"No se pudo borrar el evento en Google Calendar."},dashboard:{monthlySpendTitle:"Gasto mensual (equivalente)",noSubscriptionsYet:"Sin suscripciones an.",fxRatesLabel:"FX rates",fxUpdating:"actualizando",fxReady:"reales (cacheadas)",fxUnavailable:"no disponibles (fallback)",fxIdle:"",upcomingRenewalsTitle:"Prximas renovaciones",noDataYet:"No hay datos todava.",chartsTitle:"Grficos",addSubsToSeeCharts:"Aade suscripciones para ver grficos.",currencyLabel:"Moneda: {{cur}}",kpiSubscriptions:"Suscripciones",kpiAvgMonthly:"Media mensual",kpiDueSoon:"Vencen ( {{days}}d)",kpiTopCategory:"Top categora",projectionTitle:"Proyeccin mensual (ltimos 12 meses)",annualTopTitle:"Top gasto anual (estimado)",monthlyByCategoryTitle:"Gasto mensual por categora (equivalente)",distributionTitle:"Distribucin (gasto mensual equivalente)",noData:"Sin datos.",csvMonth:"Mes",csvAmount:"Importe",csvCurrency:"Moneda",csvName:"Nombre",csvAnnualAmount:"Importe anual",csvCategory:"Categora",csvMonthlyEquivalent:"Equivalente mensual"}},en:{common:{loading:"Loading",language:{es:"Espaol",en:"English"},cancel:"Cancel",clear:"Clear",save:"Save",add:"Add",edit:"Edit",delete:"Delete",on:"ON",off:"OFF",importJson:"Import JSON",exportJson:"Export JSON",exported:"Exported.",importedCount:"Imported: {{count}}",importFailed:"Import failed (invalid JSON or wrong structure).",none:"",uncategorized:"Uncategorized",other:"Other"},nav:{dashboard:"Dashboard",subscriptions:"Subscriptions",settings:"Settings"},settings:{groupGeneral:"General",groupIntegrations:"Integrations",groupData:"Data & maintenance",groupHelp:"Help",languageTitle:"Language",languageDescription:"Select the app language.",alertsTitle:"Alerts",alertsHint:"Alerts appear as browser notifications (if allowed).",currencyTitle:"Currency",displayAmounts:"Show amounts",displayOriginal:"In original currencies",displayConvert:"Convert to a single currency",baseCurrency:"Base currency",currencyHint:"When converting to a single currency, totals and charts use the base currency.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Opens in a new tab.",calendarSyncTitle:"Sync",calendarDedicatedLabel:"Use a dedicated calendar for subscriptions",calendarDedicatedHint:"When enabled, a dedicated calendar for your subscriptions is created.",calendarAutoSyncAllLabel:"Auto-sync subscriptions",calendarAutoSyncAllHint:"When you save changes in Subscriptions, the app will try to sync automatically (if permission is already granted).",calendarReminderTitle:"Default notification",calendarReminderHint:"Applied when syncing (create/update) subscription events. Set 0 days to disable reminders.",calendarReminderDaysLabel:"Days before",calendarReminderMethodLabel:"Type",calendarReminderMethodPopup:"Notification",calendarReminderMethodEmail:"Email",openGoogleCalendar:"Open Google Calendar",extensionTitle:"Extension",floatingButtonLabel:"Show floating button on Google Calendar",floatingButtonHint:"If disabled, you can open Subly from the extension icon (or the side panel if already open).",dataTitle:"Data",resetLocalLabel:"Clear local data",resetLocalHint:"Clears subscriptions and resets settings on this device. It does not delete your Drive backup nor existing Calendar events.",resetLocalConfirm:"This will clear your local data (subscriptions and settings) on this device. Continue?",resetLocalDone:"Local data cleared.",privacyTitle:"Permissions",privacyBody:"Subly stores your data locally. If you enable sync/backup, it uses Google OAuth to create/update events in Google Calendar and save a JSON backup to Drive (appDataFolder).",permissionsHint:"Permissions: identity (OAuth), storage (save state), sidePanel (UI), plus access to Google APIs and FX rate providers.",googleDisconnectLabel:"Disconnect Google",googleDisconnectHint:"Revokes the OAuth token and forces consent again next time. It does not delete Calendar events nor your Drive backup.",googleDisconnectConfirm:"This will disconnect Subly from your Google account in this browser. Continue?",googleDisconnectDone:"Disconnected. Next time it will ask for permissions again.",googleDisconnectNoToken:"No active session to disconnect.",helpTitle:"Help",helpFaqTitle:"FAQ",helpFaqDescription:"Quick answers and troubleshooting.",helpContactTitle:"Contact us",helpContactDescription:"Include diagnostics to resolve issues faster.",helpContactLastBackup:"Last Drive backup",helpFeedbackTitle:"Send feedback",helpFeedbackDescription:"Ideas, improvements, bugs, or suggestions.",helpFeedbackPlaceholder:"Tell us what you would improve, what you expected, and how to reproduce it",helpCopyFeedback:"Copy feedback",helpFeedbackCopied:"Feedback copied.",helpFeedbackEmpty:"Write some feedback before copying.",helpFeedbackHint:"Paste it into the support email or the store form.",helpOpenPanelQ:"How do I open the panel?",helpOpenPanelA:"On Google Calendar you can use the floating button (if enabled) or click the extension icon to open the Side Panel.",helpDriveQ:"What is stored in Drive?",helpDriveA:"A single JSON file in the hidden appDataFolder (default: subly-state.json).",helpCalendarQ:"What does it create in Google Calendar?",helpCalendarA:"Recurring all-day events for each subscription, when you sync.",helpTroubleshootingQ:"Troubleshooting",helpTroubleshootingA:"If something is not working, try these quick steps:",helpTs1:"Reload Google Calendar and reopen the panel.",helpTs2:"Check sync toggles and the floating button in Integrations.",helpTs3:"If Drive/Calendar fails, disconnect Google and re-authorize from the action that requires it.",helpStatusQ:"Status",helpStatusAutoSync:"Auto-sync",helpStatusDedicated:"Dedicated calendar",helpStatusFloating:"Floating button",helpStatusDrive:"Drive backup",helpStatusLinked:"Linked",helpStatusNotLinked:"Not linked",helpStatusHint:"Manage these settings in Integrations and Data & maintenance.",helpDiagnosticsQ:"Diagnostics",helpDiagnosticsA:"Copies a small app status summary you can attach to a bug report (does not include OAuth tokens).",helpCopyDiagnostics:"Copy diagnostics",helpCopied:"Diagnostics copied.",helpCopyFailed:"Could not copy automatically. Please copy the text:",helpContactQ:"Contact",helpContactA:"For support, use the support email listed on the Chrome Web Store page. If you are reporting an issue, include the Diagnostics output too.",helpPrivacyQ:"Privacy",helpPrivacyA:"Your data is stored locally. Only if you enable integrations, Subly uses Google OAuth for Calendar and/or to store a JSON backup in Drive (appDataFolder).",helpPrivacyOpen:"Open privacy policy",onboardingTitle:"Getting started",onboardingDescription:"You can replay the onboarding anytime.",openOnboarding:"Replay onboarding",onboardingOpened:"Onboarding opened."},drive:{title:"Backup",body:"Save a backup to your Google Drive and restore a previous backup when needed.",lastBackup:"Last backup",save:"Save backup",restore:"Restore backup",saving:"Saving",restoring:"Restoring",restoreConfirm:"This will replace the data on this device with the Drive backup. Continue?",backupSaved:"Backup saved to Google Drive.",backupSaveFailed:"Could not save the backup to Google Drive.",backupRestored:"Data restored from Google Drive.",backupRestoreFailed:"Could not restore from Google Drive."},subscriptions:{listTitle:"List",subtitle:"Add, edit and review your subscriptions.",addSubscription:"Add subscription",noSubscriptions:"No subscriptions yet.",addToCalendar:"Add to Calendar",syncAll:"Sync all",syncing:"Syncing",syncToCalendar:"Sync to Calendar",syncCreate:"Create in Calendar",syncUpdate:"Update in Calendar",syncOk:"Synced with Google Calendar.",syncFailed:"Sync failed.",reminderInfo:"The notification is configured when syncing with Google Calendar.",remindersTitle:"Renewal alerts",reminderUseCustom:"Use custom reminder",reminderDaysBefore:"Days before",reminderMethodLabel:"Type",reminderMethodPopup:"Notification",reminderMethodEmail:"Email",reminderSummaryNone:"You will not receive notifications before renewal.",reminderSummaryNotificationOne:"You will receive a notification 1 day before renewal.",reminderSummaryNotificationMany:"You will receive a notification {{days}} days before renewal.",reminderSummaryEmailOne:"You will receive an email 1 day before renewal.",reminderSummaryEmailMany:"You will receive an email {{days}} days before renewal.",syncAllDone:"Sync finished: {{ok}} ok, {{fail}} failed.",autoSyncAllOn:"Auto-sync: ON",autoSyncAllOff:"Auto-sync: OFF",autoSyncAllHint:"When enabled, changes will sync (if already authorized).",autoSyncConfirm:"Do you want to sync all now?",editSubscription:"Edit subscription",addSubscriptionTitle:"Add subscription",searchPlaceholder:"Search",filtersToggle:"Filters",resultsCount:"Results: {{count}}",filterCategory:"Category",filterCurrency:"Currency",filterPeriod:"Period",filterMinPrice:"Min price",filterMaxPrice:"Max price",emptyFiltered:"No results for the current filters.",dueSoon:"Soon",columnName:"Subscription",columnPrice:"Amount",columnPeriod:"Period",columnStart:"Start",columnNext:"Next",columnCategory:"Category",columnActions:"Actions",insightsTitle:"Summary",insightsHint:"Amounts in {{currency}} equivalent.",insightsDueWindow:"Window: {{days}}d",insightsCount:"Subscriptions",insightsAvgMonthly:"Avg monthly",insightsAvgMonthlyHelper:"Equivalent in {{currency}}.",insightsUpcoming:"Upcoming",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Next: {{date}}",insightsTopCategory:"Top category",insightsTopCategoryHelper:"{{percent}}% of total",name:"Name",category:"Category",categoryPlaceholder:"e.g. Streaming",amount:"Amount",currency:"Currency",period:"Period",startDate:"Start date",helpIncomplete:"Fill name, amount and date.",startLabel:"Start",nextLabel:"Next",renewal:"Renewal",detailsAmount:"Amount",detailsPeriod:"Period",periodMonthly:"Monthly",periodQuarterly:"Quarterly",periodSemiannual:"Semiannual",periodAnnual:"Annual",toastCreated:"Subscription created.",toastUpdated:"Subscription updated.",toastDeleted:"Subscription deleted.",deleteConfirm:"Delete {{name}}? Its Google Calendar event will also be deleted if it exists.",calendarEventDeleted:"Google Calendar event deleted.",calendarDeleteFailed:"Could not delete the Google Calendar event."},dashboard:{monthlySpendTitle:"Monthly spend (equivalent)",noSubscriptionsYet:"No subscriptions yet.",fxRatesLabel:"FX rates",fxUpdating:"updating",fxReady:"real (cached)",fxUnavailable:"unavailable (fallback)",fxIdle:"",upcomingRenewalsTitle:"Upcoming renewals",noDataYet:"No data yet.",chartsTitle:"Charts",addSubsToSeeCharts:"Add subscriptions to see charts.",currencyLabel:"Currency: {{cur}}",kpiSubscriptions:"Subscriptions",kpiAvgMonthly:"Avg monthly",kpiDueSoon:"Due ( {{days}}d)",kpiTopCategory:"Top category",projectionTitle:"Monthly projection (last 12 months)",annualTopTitle:"Top annual spend (estimated)",monthlyByCategoryTitle:"Monthly spend by category (equivalent)",distributionTitle:"Distribution (monthly equivalent spend)",noData:"No data.",csvMonth:"Month",csvAmount:"Amount",csvCurrency:"Currency",csvName:"Name",csvAnnualAmount:"Annual amount",csvCategory:"Category",csvMonthlyEquivalent:"Monthly equivalent"}}};function OA(t,e){const n=e.split(".");let i=t;for(const r of n)if(typeof i!="object"||i===null||(i=i[r],i===void 0))return;return i}function FA(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(n,i)=>String(e[i]??"")):t}function IA(t,e,n){const i=_v[t]??_v.es,r=OA(i,e);if(typeof r=="string")return FA(r,n)}function ho(){const{state:t}=Xa(),e=t.settings.language==="en"?"en":"es",n=M.useCallback((i,r)=>IA(e,i,r),[e]);return{language:e,t:n}}function Th({to:t,label:e}){return w.jsx(Ib,{to:t,className:({isActive:n})=>`rounded-md px-3 py-2 text-sm font-semibold ${n?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-200 dark:text-slate-200 dark:hover:bg-slate-800"}`,children:e})}function zA(){const{t}=ho();return w.jsxs("div",{className:"relative min-h-screen text-slate-900 dark:text-white",children:[w.jsx(jA,{}),w.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10",children:w.jsx(jE,{className:"h-full w-full",scale:1,gridMul:[3,2],digitSize:1.5,brightness:1.8,scanlineIntensity:.45,noiseAmp:1,clearColor:"#000000",baseColor:"#020617"})}),w.jsxs("div",{className:"min-h-screen bg-slate-50/65 dark:bg-slate-950/65",children:[w.jsx("header",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white/90 backdrop-blur dark:border-slate-800 dark:bg-slate-950/90",children:w.jsxs("div",{className:"mx-auto flex max-w-3xl items-center justify-between gap-3 px-4 py-3",children:[w.jsx("div",{className:"text-sm font-black tracking-wide",children:"Subly"}),w.jsxs("nav",{className:"flex items-center gap-2",children:[w.jsx(Th,{to:"/dashboard",label:t("nav.dashboard")??"Dashboard"}),w.jsx(Th,{to:"/subscriptions",label:t("nav.subscriptions")??"Suscripciones"}),w.jsx(Th,{to:"/settings",label:t("nav.settings")??"Ajustes"})]})]})}),w.jsx("main",{className:"mx-auto max-w-3xl px-4 py-4",children:w.jsx(C2,{})})]})]})}function qa(t){return t+.5|0}const Mr=(t,e,n)=>Math.max(Math.min(t,n),e);function la(t){return Mr(qa(t*2.55),0,255)}function Dr(t){return Mr(qa(t*255),0,255)}function Hi(t){return Mr(qa(t/2.55)/100,0,1)}function Mv(t){return Mr(qa(t*100),0,100)}const Fn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Sf=[..."0123456789ABCDEF"],BA=t=>Sf[t&15],VA=t=>Sf[(t&240)>>4]+Sf[t&15],oc=t=>(t&240)>>4===(t&15),UA=t=>oc(t.r)&&oc(t.g)&&oc(t.b)&&oc(t.a);function $A(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Fn[t[1]]*17,g:255&Fn[t[2]]*17,b:255&Fn[t[3]]*17,a:e===5?Fn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Fn[t[1]]<<4|Fn[t[2]],g:Fn[t[3]]<<4|Fn[t[4]],b:Fn[t[5]]<<4|Fn[t[6]],a:e===9?Fn[t[7]]<<4|Fn[t[8]]:255})),n}const HA=(t,e)=>t<255?e(t):"";function WA(t){var e=UA(t)?BA:VA;return t?"#"+e(t.r)+e(t.g)+e(t.b)+HA(t.a,e):void 0}const GA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lw(t,e,n){const i=e*Math.min(n,1-n),r=(o,a=(o+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function YA(t,e,n){const i=(r,o=(r+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function KA(t,e,n){const i=Lw(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function XA(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function wp(t){const n=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(n,i,r),a=Math.min(n,i,r),c=(o+a)/2;let u,h,f;return o!==a&&(f=o-a,h=c>.5?f/(2-o-a):f/(o+a),u=XA(n,i,r,f,o),u=u*60+.5),[u|0,h||0,c]}function Sp(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Dr)}function Cp(t,e,n){return Sp(Lw,t,e,n)}function qA(t,e,n){return Sp(KA,t,e,n)}function QA(t,e,n){return Sp(YA,t,e,n)}function jw(t){return(t%360+360)%360}function JA(t){const e=GA.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?la(+e[5]):Dr(+e[5]));const r=jw(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=qA(r,o,a):e[1]==="hsv"?i=QA(r,o,a):i=Cp(r,o,a),{r:i[0],g:i[1],b:i[2],a:n}}function ZA(t,e){var n=wp(t);n[0]=jw(n[0]+e),n=Cp(n),t.r=n[0],t.g=n[1],t.b=n[2]}function eN(t){if(!t)return;const e=wp(t),n=e[0],i=Mv(e[1]),r=Mv(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Hi(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const Ev={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Tv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tN(){const t={},e=Object.keys(Tv),n=Object.keys(Ev);let i,r,o,a,c;for(i=0;i<e.length;i++){for(a=c=e[i],r=0;r<n.length;r++)o=n[r],c=c.replace(o,Ev[o]);o=parseInt(Tv[a],16),t[c]=[o>>16&255,o>>8&255,o&255]}return t}let ac;function nN(t){ac||(ac=tN(),ac.transparent=[0,0,0,0]);const e=ac[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const iN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rN(t){const e=iN.exec(t);let n=255,i,r,o;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?la(a):Mr(a*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?la(i):Mr(i,0,255)),r=255&(e[4]?la(r):Mr(r,0,255)),o=255&(e[6]?la(o):Mr(o,0,255)),{r:i,g:r,b:o,a:n}}}function sN(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Hi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ph=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Gs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function oN(t,e,n){const i=Gs(Hi(t.r)),r=Gs(Hi(t.g)),o=Gs(Hi(t.b));return{r:Dr(Ph(i+n*(Gs(Hi(e.r))-i))),g:Dr(Ph(r+n*(Gs(Hi(e.g))-r))),b:Dr(Ph(o+n*(Gs(Hi(e.b))-o))),a:t.a+n*(e.a-t.a)}}function lc(t,e,n){if(t){let i=wp(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Cp(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Ow(t,e){return t&&Object.assign(e||{},t)}function Pv(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Dr(t[3]))):(e=Ow(t,{r:0,g:0,b:0,a:1}),e.a=Dr(e.a)),e}function aN(t){return t.charAt(0)==="r"?rN(t):JA(t)}class Ra{constructor(e){if(e instanceof Ra)return e;const n=typeof e;let i;n==="object"?i=Pv(e):n==="string"&&(i=$A(e)||nN(e)||aN(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Ow(this._rgb);return e&&(e.a=Hi(e.a)),e}set rgb(e){this._rgb=Pv(e)}rgbString(){return this._valid?sN(this._rgb):void 0}hexString(){return this._valid?WA(this._rgb):void 0}hslString(){return this._valid?eN(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let o;const a=n===o?.5:n,c=2*a-1,u=i.a-r.a,h=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;o=1-h,i.r=255&h*i.r+o*r.r+.5,i.g=255&h*i.g+o*r.g+.5,i.b=255&h*i.b+o*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=oN(this._rgb,e._rgb,n)),this}clone(){return new Ra(this.rgb)}alpha(e){return this._rgb.a=Dr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=qa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return lc(this._rgb,2,e),this}darken(e){return lc(this._rgb,2,-e),this}saturate(e){return lc(this._rgb,1,e),this}desaturate(e){return lc(this._rgb,1,-e),this}rotate(e){return ZA(this._rgb,e),this}}function Bi(){}const lN=(()=>{let t=0;return()=>t++})();function Ze(t){return t==null}function At(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function We(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Xt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function hi(t,e){return Xt(t)?t:e}function Ie(t,e){return typeof t>"u"?e:t}const cN=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Fw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ct(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function tt(t,e,n,i){let r,o,a;if(At(t))for(o=t.length,r=0;r<o;r++)e.call(n,t[r],r);else if(We(t))for(a=Object.keys(t),o=a.length,r=0;r<o;r++)e.call(n,t[a[r]],a[r])}function Wc(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Gc(t){if(At(t))return t.map(Gc);if(We(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Gc(t[n[r]]);return e}return t}function Iw(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function uN(t,e,n,i){if(!Iw(t))return;const r=e[t],o=n[t];We(r)&&We(o)?Aa(r,o,i):e[t]=Gc(o)}function Aa(t,e,n){const i=At(e)?e:[e],r=i.length;if(!We(t))return t;n=n||{};const o=n.merger||uN;let a;for(let c=0;c<r;++c){if(a=i[c],!We(a))continue;const u=Object.keys(a);for(let h=0,f=u.length;h<f;++h)o(u[h],t,a,n)}return t}function xa(t,e){return Aa(t,e,{merger:dN})}function dN(t,e,n){if(!Iw(t))return;const i=e[t],r=n[t];We(i)&&We(r)?xa(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Gc(r))}const Dv={"":t=>t,x:t=>t.x,y:t=>t.y};function hN(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function fN(t){const e=hN(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function gs(t,e){return(Dv[e]||(Dv[e]=fN(e)))(t)}function kp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Na=t=>typeof t<"u",Nr=t=>typeof t=="function",Rv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function pN(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const rt=Math.PI,gt=2*rt,mN=gt+rt,Yc=Number.POSITIVE_INFINITY,gN=rt/180,Nt=rt/2,ns=rt/4,Av=rt*2/3,zw=Math.log10,vi=Math.sign;function ba(t,e,n){return Math.abs(t-e)<n}function Nv(t){const e=Math.round(t);t=ba(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(zw(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function yN(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,o)=>r-o).pop(),e}function vN(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function La(t){return!vN(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function xN(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function bN(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Gi(t){return t*(rt/180)}function wN(t){return t*(180/rt)}function Lv(t){if(!Xt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Bw(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*rt&&(o+=gt),{angle:o,distance:r}}function Cf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function SN(t,e){return(t-e+mN)%gt-rt}function wn(t){return(t%gt+gt)%gt}function ja(t,e,n,i){const r=wn(t),o=wn(e),a=wn(n),c=wn(o-r),u=wn(a-r),h=wn(r-o),f=wn(r-a);return r===o||r===a||i&&o===a||c>u&&h<f}function Kt(t,e,n){return Math.max(e,Math.min(n,t))}function CN(t){return Kt(t,-32768,32767)}function Yi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function _p(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,n(o)?r=o:i=o;return{lo:r,hi:i}}const ds=(t,e,n,i)=>_p(t,n,i?r=>{const o=t[r][e];return o<n||o===n&&t[r+1][e]===n}:r=>t[r][e]<n),kN=(t,e,n)=>_p(t,n,i=>t[i][e]>=n);function _N(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const Vw=["push","pop","shift","splice","unshift"];function MN(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Vw.forEach(n=>{const i="_onData"+kp(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const a=r.apply(this,o);return t._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...o)}),a}})})}function jv(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(Vw.forEach(o=>{delete t[o]}),delete t._chartjs)}function Uw(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const $w=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Hw(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,$w.call(window,()=>{i=!1,t.apply(e,n)}))}}function EN(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Ww=t=>t==="start"?"left":t==="end"?"right":"center",xn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,TN=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function PN(t,e,n){const i=e.length;let r=0,o=i;if(t._sorted){const{iScale:a,vScale:c,_parsed:u}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,f=a.axis,{min:m,max:g,minDefined:v,maxDefined:b}=a.getUserBounds();if(v){if(r=Math.min(ds(u,f,m).lo,n?i:ds(e,f,a.getPixelForValue(m)).lo),h){const S=u.slice(0,r+1).reverse().findIndex(C=>!Ze(C[c.axis]));r-=Math.max(0,S)}r=Kt(r,0,i-1)}if(b){let S=Math.max(ds(u,a.axis,g,!0).hi+1,n?0:ds(e,f,a.getPixelForValue(g),!0).hi+1);if(h){const C=u.slice(S-1).findIndex(k=>!Ze(k[c.axis]));S+=Math.max(0,C)}o=Kt(S,r,i)-r}else o=i-r}return{start:r,count:o}}function DN(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}const cc=t=>t===0||t===1,Ov=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*gt/n)),Fv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*gt/n)+1,wa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Nt)+1,easeOutSine:t=>Math.sin(t*Nt),easeInOutSine:t=>-.5*(Math.cos(rt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>cc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>cc(t)?t:Ov(t,.075,.3),easeOutElastic:t=>cc(t)?t:Fv(t,.075,.3),easeInOutElastic(t){return cc(t)?t:t<.5?.5*Ov(t*2,.1125,.45):.5+.5*Fv(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-wa.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?wa.easeInBounce(t*2)*.5:wa.easeOutBounce(t*2-1)*.5+.5};function Mp(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Iv(t){return Mp(t)?t:new Ra(t)}function Dh(t){return Mp(t)?t:new Ra(t).saturate(.5).darken(.1).hexString()}const RN=["x","y","borderWidth","radius","tension"],AN=["color","borderColor","backgroundColor"];function NN(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:AN},numbers:{type:"number",properties:RN}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function LN(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zv=new Map;function jN(t,e){e=e||{};const n=t+JSON.stringify(e);let i=zv.get(n);return i||(i=new Intl.NumberFormat(t,e),zv.set(n,i)),i}function Ep(t,e,n){return jN(e,n).format(t)}const ON={values(t){return At(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,o=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),o=FN(t,n)}const a=zw(Math.abs(o)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Ep(t,i,u)}};function FN(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Gw={formatters:ON};function IN(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Gw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ys=Object.create(null),kf=Object.create(null);function Sa(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function Rh(t,e,n){return typeof e=="string"?Aa(Sa(t,e),n):Aa(Sa(t,""),e)}class zN{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Dh(r.backgroundColor),this.hoverBorderColor=(i,r)=>Dh(r.borderColor),this.hoverColor=(i,r)=>Dh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Rh(this,e,n)}get(e){return Sa(this,e)}describe(e,n){return Rh(kf,e,n)}override(e,n){return Rh(ys,e,n)}route(e,n,i,r){const o=Sa(this,e),a=Sa(this,i),c="_"+n;Object.defineProperties(o,{[c]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],h=a[r];return We(u)?Object.assign({},h,u):Ie(u,h)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var Ct=new zN({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[NN,LN,IN]);function BN(t){return!t||Ze(t.size)||Ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Bv(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function is(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Vv(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function _f(t,e,n,i){Yw(t,e,n,i,null)}function Yw(t,e,n,i,r){let o,a,c,u,h,f,m,g;const v=e.pointStyle,b=e.rotation,S=e.radius;let C=(b||0)*gN;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(C),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:r?t.ellipse(n,i,r/2,S,0,0,gt):t.arc(n,i,S,0,gt),t.closePath();break;case"triangle":f=r?r/2:S,t.moveTo(n+Math.sin(C)*f,i-Math.cos(C)*S),C+=Av,t.lineTo(n+Math.sin(C)*f,i-Math.cos(C)*S),C+=Av,t.lineTo(n+Math.sin(C)*f,i-Math.cos(C)*S),t.closePath();break;case"rectRounded":h=S*.516,u=S-h,a=Math.cos(C+ns)*u,m=Math.cos(C+ns)*(r?r/2-h:u),c=Math.sin(C+ns)*u,g=Math.sin(C+ns)*(r?r/2-h:u),t.arc(n-m,i-c,h,C-rt,C-Nt),t.arc(n+g,i-a,h,C-Nt,C),t.arc(n+m,i+c,h,C,C+Nt),t.arc(n-g,i+a,h,C+Nt,C+rt),t.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*S,f=r?r/2:u,t.rect(n-f,i-u,2*f,2*u);break}C+=ns;case"rectRot":m=Math.cos(C)*(r?r/2:S),a=Math.cos(C)*S,c=Math.sin(C)*S,g=Math.sin(C)*(r?r/2:S),t.moveTo(n-m,i-c),t.lineTo(n+g,i-a),t.lineTo(n+m,i+c),t.lineTo(n-g,i+a),t.closePath();break;case"crossRot":C+=ns;case"cross":m=Math.cos(C)*(r?r/2:S),a=Math.cos(C)*S,c=Math.sin(C)*S,g=Math.sin(C)*(r?r/2:S),t.moveTo(n-m,i-c),t.lineTo(n+m,i+c),t.moveTo(n+g,i-a),t.lineTo(n-g,i+a);break;case"star":m=Math.cos(C)*(r?r/2:S),a=Math.cos(C)*S,c=Math.sin(C)*S,g=Math.sin(C)*(r?r/2:S),t.moveTo(n-m,i-c),t.lineTo(n+m,i+c),t.moveTo(n+g,i-a),t.lineTo(n-g,i+a),C+=ns,m=Math.cos(C)*(r?r/2:S),a=Math.cos(C)*S,c=Math.sin(C)*S,g=Math.sin(C)*(r?r/2:S),t.moveTo(n-m,i-c),t.lineTo(n+m,i+c),t.moveTo(n+g,i-a),t.lineTo(n-g,i+a);break;case"line":a=r?r/2:Math.cos(C)*S,c=Math.sin(C)*S,t.moveTo(n-a,i-c),t.lineTo(n+a,i+c);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(C)*(r?r/2:S),i+Math.sin(C)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Oa(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function au(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function lu(t){t.restore()}function VN(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function UN(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function $N(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function HN(t,e,n,i,r){if(r.strikethrough||r.underline){const o=t.measureText(i),a=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,f=r.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,f),t.lineTo(c,f),t.stroke()}}function WN(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Kc(t,e,n,i,r,o={}){const a=At(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let u,h;for(t.save(),t.font=r.string,$N(t,o),u=0;u<a.length;++u)h=a[u],o.backdrop&&WN(t,o.backdrop),c&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Ze(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(h,n,i,o.maxWidth)),t.fillText(h,n,i,o.maxWidth),HN(t,n,i,h,o),i+=Number(r.lineHeight);t.restore()}function Xc(t,e){const{x:n,y:i,w:r,h:o,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*rt,rt,!0),t.lineTo(n,i+o-a.bottomLeft),t.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,rt,Nt,!0),t.lineTo(n+r-a.bottomRight,i+o),t.arc(n+r-a.bottomRight,i+o-a.bottomRight,a.bottomRight,Nt,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-Nt,!0),t.lineTo(n+a.topLeft,i)}const GN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function KN(t,e){const n=(""+t).match(GN);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const XN=t=>+t||0;function Tp(t,e){const n={},i=We(e),r=i?Object.keys(e):e,o=We(t)?i?a=>Ie(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=XN(o(a));return n}function Kw(t){return Tp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function io(t){return Tp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ri(t){const e=Kw(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function fn(t,e){t=t||{},e=e||Ct.font;let n=Ie(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ie(t.style,e.style);i&&!(""+i).match(YN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ie(t.family,e.family),lineHeight:KN(Ie(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ie(t.weight,e.weight),string:""};return r.string=BN(r),r}function uc(t,e,n,i){let r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function qN(t,e,n){const{min:i,max:r}=t,o=Fw(e,(r-i)/2),a=(c,u)=>n&&c===0?0:c+u;return{min:a(i,-Math.abs(o)),max:a(r,o)}}function ws(t,e){return Object.assign(Object.create(t),e)}function Pp(t,e=[""],n,i,r=()=>t[0]){const o=n||t;typeof i>"u"&&(i=Jw("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:r,override:c=>Pp([c,...t],e,o,i)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return qw(c,u,()=>rL(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return $v(c).includes(u)},ownKeys(c){return $v(c)},set(c,u,h){const f=c._storage||(c._storage=r());return c[u]=f[u]=h,delete c._keys,!0}})}function oo(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Xw(t,i),setContext:o=>oo(t,o,n,i),override:o=>oo(t.override(o),e,n,i)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete t[a],!0},get(o,a,c){return qw(o,a,()=>JN(o,a,c))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(o,a,c){return t[a]=c,delete o[a],!0}})}function Xw(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Nr(n)?n:()=>n,isIndexable:Nr(i)?i:()=>i}}const QN=(t,e)=>t?t+kp(e):e,Dp=(t,e)=>We(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qw(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function JN(t,e,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=t;let c=i[e];return Nr(c)&&a.isScriptable(e)&&(c=ZN(e,c,t,n)),At(c)&&c.length&&(c=eL(e,c,t,a.isIndexable)),Dp(e,c)&&(c=oo(c,r,o&&o[e],a)),c}function ZN(t,e,n,i){const{_proxy:r,_context:o,_subProxy:a,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(o,a||i);return c.delete(t),Dp(t,u)&&(u=Rp(r._scopes,r,t,u)),u}function eL(t,e,n,i){const{_proxy:r,_context:o,_subProxy:a,_descriptors:c}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(We(e[0])){const u=e,h=r._scopes.filter(f=>f!==u);e=[];for(const f of u){const m=Rp(h,r,t,f);e.push(oo(m,o,a&&a[t],c))}}return e}function Qw(t,e,n){return Nr(t)?t(e,n):t}const tL=(t,e)=>t===!0?e:typeof t=="string"?gs(e,t):void 0;function nL(t,e,n,i,r){for(const o of e){const a=tL(n,o);if(a){t.add(a);const c=Qw(a._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function Rp(t,e,n,i){const r=e._rootScopes,o=Qw(e._fallback,n,i),a=[...t,...r],c=new Set;c.add(i);let u=Uv(c,a,n,o||n,i);return u===null||typeof o<"u"&&o!==n&&(u=Uv(c,a,o,u,i),u===null)?!1:Pp(Array.from(c),[""],r,o,()=>iL(e,n,i))}function Uv(t,e,n,i,r){for(;n;)n=nL(t,e,n,i,r);return n}function iL(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return At(r)&&We(n)?n:r||{}}function rL(t,e,n,i){let r;for(const o of e)if(r=Jw(QN(o,t),n),typeof r<"u")return Dp(t,r)?Rp(n,i,t,r):r}function Jw(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function $v(t){let e=t._keys;return e||(e=t._keys=sL(t._scopes)),e}function sL(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const oL=Number.EPSILON||1e-14,ao=(t,e)=>e<t.length&&!t[e].skip&&t[e],Zw=t=>t==="x"?"y":"x";function aL(t,e,n,i){const r=t.skip?e:t,o=e,a=n.skip?e:n,c=Cf(o,r),u=Cf(a,o);let h=c/(c+u),f=u/(c+u);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const m=i*h,g=i*f;return{previous:{x:o.x-m*(a.x-r.x),y:o.y-m*(a.y-r.y)},next:{x:o.x+g*(a.x-r.x),y:o.y+g*(a.y-r.y)}}}function lL(t,e,n){const i=t.length;let r,o,a,c,u,h=ao(t,0);for(let f=0;f<i-1;++f)if(u=h,h=ao(t,f+1),!(!u||!h)){if(ba(e[f],0,oL)){n[f]=n[f+1]=0;continue}r=n[f]/e[f],o=n[f+1]/e[f],c=Math.pow(r,2)+Math.pow(o,2),!(c<=9)&&(a=3/Math.sqrt(c),n[f]=r*a*e[f],n[f+1]=o*a*e[f])}}function cL(t,e,n="x"){const i=Zw(n),r=t.length;let o,a,c,u=ao(t,0);for(let h=0;h<r;++h){if(a=c,c=u,u=ao(t,h+1),!c)continue;const f=c[n],m=c[i];a&&(o=(f-a[n])/3,c[`cp1${n}`]=f-o,c[`cp1${i}`]=m-o*e[h]),u&&(o=(u[n]-f)/3,c[`cp2${n}`]=f+o,c[`cp2${i}`]=m+o*e[h])}}function uL(t,e="x"){const n=Zw(e),i=t.length,r=Array(i).fill(0),o=Array(i);let a,c,u,h=ao(t,0);for(a=0;a<i;++a)if(c=u,u=h,h=ao(t,a+1),!!u){if(h){const f=h[e]-u[e];r[a]=f!==0?(h[n]-u[n])/f:0}o[a]=c?h?vi(r[a-1])!==vi(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}lL(t,r,o),cL(t,o,e)}function dc(t,e,n){return Math.max(Math.min(t,n),e)}function dL(t,e){let n,i,r,o,a,c=Oa(t[0],e);for(n=0,i=t.length;n<i;++n)a=o,o=c,c=n<i-1&&Oa(t[n+1],e),o&&(r=t[n],a&&(r.cp1x=dc(r.cp1x,e.left,e.right),r.cp1y=dc(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=dc(r.cp2x,e.left,e.right),r.cp2y=dc(r.cp2y,e.top,e.bottom)))}function hL(t,e,n,i,r){let o,a,c,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")uL(t,r);else{let h=i?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)c=t[o],u=aL(h,c,t[Math.min(o+1,a-(i?0:1))%a],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,h=c}e.capBezierPoints&&dL(t,n)}function Ap(){return typeof window<"u"&&typeof document<"u"}function Np(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function qc(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const cu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function fL(t,e){return cu(t).getPropertyValue(e)}const pL=["top","right","bottom","left"];function fs(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=pL[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const mL=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function gL(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=i;let a=!1,c,u;if(mL(r,o,t.target))c=r,u=o;else{const h=e.getBoundingClientRect();c=i.clientX-h.left,u=i.clientY-h.top,a=!0}return{x:c,y:u,box:a}}function os(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=cu(n),o=r.boxSizing==="border-box",a=fs(r,"padding"),c=fs(r,"border","width"),{x:u,y:h,box:f}=gL(t,n),m=a.left+(f&&c.left),g=a.top+(f&&c.top);let{width:v,height:b}=e;return o&&(v-=a.width+c.width,b-=a.height+c.height),{x:Math.round((u-m)/v*n.width/i),y:Math.round((h-g)/b*n.height/i)}}function yL(t,e,n){let i,r;if(e===void 0||n===void 0){const o=t&&Np(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const a=o.getBoundingClientRect(),c=cu(o),u=fs(c,"border","width"),h=fs(c,"padding");e=a.width-h.width-u.width,n=a.height-h.height-u.height,i=qc(c.maxWidth,o,"clientWidth"),r=qc(c.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||Yc,maxHeight:r||Yc}}const Er=t=>Math.round(t*10)/10;function vL(t,e,n,i){const r=cu(t),o=fs(r,"margin"),a=qc(r.maxWidth,t,"clientWidth")||Yc,c=qc(r.maxHeight,t,"clientHeight")||Yc,u=yL(t,e,n);let{width:h,height:f}=u;if(r.boxSizing==="content-box"){const g=fs(r,"border","width"),v=fs(r,"padding");h-=v.width+g.width,f-=v.height+g.height}return h=Math.max(0,h-o.width),f=Math.max(0,i?h/i:f-o.height),h=Er(Math.min(h,a,u.maxWidth)),f=Er(Math.min(f,c,u.maxHeight)),h&&!f&&(f=Er(h/2)),(e!==void 0||n!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,h=Er(Math.floor(f*i))),{width:h,height:f}}function Hv(t,e,n){const i=e||1,r=Er(t.height*i),o=Er(t.width*i);t.height=Er(t.height),t.width=Er(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==r||a.width!==o?(t.currentDevicePixelRatio=i,a.height=r,a.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const xL=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ap()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Wv(t,e){const n=fL(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function as(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function bL(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function wL(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=as(t,r,n),c=as(r,o,n),u=as(o,e,n),h=as(a,c,n),f=as(c,u,n);return as(h,f,n)}const SL=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},CL=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ro(t,e,n){return t?SL(e,n):CL()}function eS(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function tS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function nS(t){return t==="angle"?{between:ja,compare:SN,normalize:wn}:{between:Yi,compare:(e,n)=>e-n,normalize:e=>e}}function Gv({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function kL(t,e,n){const{property:i,start:r,end:o}=n,{between:a,normalize:c}=nS(i),u=e.length;let{start:h,end:f,loop:m}=t,g,v;if(m){for(h+=u,f+=u,g=0,v=u;g<v&&a(c(e[h%u][i]),r,o);++g)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:m,style:t.style}}function iS(t,e,n){if(!n)return[t];const{property:i,start:r,end:o}=n,a=e.length,{compare:c,between:u,normalize:h}=nS(i),{start:f,end:m,loop:g,style:v}=kL(t,e,n),b=[];let S=!1,C=null,k,P,E;const N=()=>u(r,E,k)&&c(r,E)!==0,D=()=>c(o,k)===0||u(o,E,k),j=()=>S||N(),T=()=>!S||D();for(let A=f,V=f;A<=m;++A)P=e[A%a],!P.skip&&(k=h(P[i]),k!==E&&(S=u(k,r,o),C===null&&j()&&(C=c(k,r)===0?A:V),C!==null&&T()&&(b.push(Gv({start:C,end:A,loop:g,count:a,style:v})),C=null),V=A,E=k));return C!==null&&b.push(Gv({start:C,end:m,loop:g,count:a,style:v})),b}function rS(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const o=iS(i[r],t.points,e);o.length&&n.push(...o)}return n}function _L(t,e,n,i){let r=0,o=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function ML(t,e,n,i){const r=t.length,o=[];let a=e,c=t[e],u;for(u=e+1;u<=n;++u){const h=t[u%r];h.skip||h.stop?c.skip||(i=!1,o.push({start:e%r,end:(u-1)%r,loop:i}),e=a=h.stop?u:null):(a=u,c.skip&&(e=u)),c=h}return a!==null&&o.push({start:e%r,end:a%r,loop:i}),o}function EL(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const o=!!t._loop,{start:a,end:c}=_L(n,r,o,i);if(i===!0)return Yv(t,[{start:a,end:c,loop:o}],n,e);const u=c<a?c+r:c,h=!!t._fullLoop&&a===0&&c===r-1;return Yv(t,ML(n,a,u,h),n,e)}function Yv(t,e,n,i){return!i||!i.setContext||!n?e:TL(t,e,n,i)}function TL(t,e,n,i){const r=t._chart.getContext(),o=Kv(t.options),{_datasetIndex:a,options:{spanGaps:c}}=t,u=n.length,h=[];let f=o,m=e[0].start,g=m;function v(b,S,C,k){const P=c?-1:1;if(b!==S){for(b+=u;n[b%u].skip;)b-=P;for(;n[S%u].skip;)S+=P;b%u!==S%u&&(h.push({start:b%u,end:S%u,loop:C,style:k}),f=k,m=S%u)}}for(const b of e){m=c?m:b.start;let S=n[m%u],C;for(g=m+1;g<=b.end;g++){const k=n[g%u];C=Kv(i.setContext(ws(r,{type:"segment",p0:S,p1:k,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:a}))),PL(C,f)&&v(m,g-1,b.loop,f),S=k,f=C}m<g-1&&v(m,g-1,b.loop,f)}return h}function Kv(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function PL(t,e){if(!e)return!1;const n=[],i=function(r,o){return Mp(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function hc(t,e,n){return t.options.clip?t[n]:e[n]}function DL(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:hc(n,e,"left"),right:hc(n,e,"right"),top:hc(i,e,"top"),bottom:hc(i,e,"bottom")}:e}function sS(t,e){const n=e._clip;if(n.disabled)return!1;const i=DL(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}class RL{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const o=n.listeners[r],a=n.duration;o.forEach(c=>c({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=$w.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,c=!1,u;for(;a>=0;--a)u=o[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(o[a]=o[o.length-1],o.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ui=new RL;const Xv="transparent",AL={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Iv(t||Xv),r=i.valid&&Iv(e||Xv);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class NL{constructor(e,n,i,r){const o=n[i];r=uc([e.to,r,o,e.from]);const a=uc([e.from,o,r]);this._active=!0,this._fn=e.fn||AL[e.type||typeof a],this._easing=wa[e.easing]||wa.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=uc([e.to,n,r,e.from]),this._from=uc([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,o=this._from,a=this._loop,c=this._to;let u;if(this._active=o!==c&&(a||n<i),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=o;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(o,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class oS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!We(e))return;const n=Object.keys(Ct.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!We(o))return;const a={};for(const c of n)a[c]=o[c];(At(o.properties)&&o.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,a)})})}_animateOptions(e,n){const i=n.options,r=jL(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&LL(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),a=Object.keys(n),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const h=a[u];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,n));continue}const f=n[h];let m=o[h];const g=i.get(h);if(m)if(g&&m.active()){m.update(g,f,c);continue}else m.cancel();if(!g||!g.duration){e[h]=f;continue}o[h]=m=new NL(g,e,h,f),r.push(m)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Ui.add(this._chart,i),!0}}function LL(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=t[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function jL(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function qv(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function OL(t,e,n){if(n===!1)return!1;const i=qv(t,n),r=qv(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function FL(t){let e,n,i,r;return We(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function aS(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function Qv(t,e,n,i={}){const r=t.keys,o=i.mode==="single";let a,c,u,h;if(e===null)return;let f=!1;for(a=0,c=r.length;a<c;++a){if(u=+r[a],u===n){if(f=!0,i.all)continue;break}h=t.values[u],Xt(h)&&(o||e===0||vi(e)===vi(h))&&(e+=h)}return!f&&!i.all?0:e}function IL(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",a=Object.keys(t),c=new Array(a.length);let u,h,f;for(u=0,h=a.length;u<h;++u)f=a[u],c[u]={[r]:f,[o]:t[f]};return c}function Ah(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function zL(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function BL(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function VL(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Jv(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=t[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function Zv(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:c}=i,u=o.axis,h=a.axis,f=zL(o,a,i),m=e.length;let g;for(let v=0;v<m;++v){const b=e[v],{[u]:S,[h]:C}=b,k=b._stacks||(b._stacks={});g=k[h]=VL(r,f,S),g[c]=C,g._top=Jv(g,a,!0,i.type),g._bottom=Jv(g,a,!1,i.type);const P=g._visualValues||(g._visualValues={});P[c]=C}}function Nh(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function UL(t,e){return ws(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function $L(t,e,n){return ws(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Jo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Lh=t=>t==="reset"||t==="none",ex=(t,e)=>e?t:Object.assign({},t),HL=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:aS(n,!0),values:null};class uu{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ah(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(m,g,v,b)=>m==="x"?g:m==="r"?b:v,o=n.xAxisID=Ie(i.xAxisID,Nh(e,"x")),a=n.yAxisID=Ie(i.yAxisID,Nh(e,"y")),c=n.rAxisID=Ie(i.rAxisID,Nh(e,"r")),u=n.indexAxis,h=n.iAxisID=r(u,o,a,c),f=n.vAxisID=r(u,a,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&jv(this._data,this),e._stacked&&Jo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(We(n)){const r=this._cachedMeta;this._data=IL(n,r)}else if(i!==n){if(i){jv(i,this);const r=this._cachedMeta;Jo(r),r._parsed=[]}n&&Object.isExtensible(n)&&MN(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=n._stacked;n._stacked=Ah(n.vScale,n),n.stack!==i.stack&&(r=!0,Jo(n),n.stack=i.stack),this._resyncElements(e),(r||o!==n._stacked)&&(Zv(this,n._parsed),n._stacked=Ah(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:a}=i,c=o.axis;let u=e===0&&n===r.length?!0:i._sorted,h=e>0&&i._parsed[e-1],f,m,g;if(this._parsing===!1)i._parsed=r,i._sorted=!0,g=r;else{At(r[e])?g=this.parseArrayData(i,r,e,n):We(r[e])?g=this.parseObjectData(i,r,e,n):g=this.parsePrimitiveData(i,r,e,n);const v=()=>m[c]===null||h&&m[c]<h[c];for(f=0;f<n;++f)i._parsed[f+e]=m=g[f],u&&(v()&&(u=!1),h=m);i._sorted=u}a&&Zv(this,g)}parsePrimitiveData(e,n,i,r){const{iScale:o,vScale:a}=e,c=o.axis,u=a.axis,h=o.getLabels(),f=o===a,m=new Array(r);let g,v,b;for(g=0,v=r;g<v;++g)b=g+i,m[g]={[c]:f||o.parse(h[b],b),[u]:a.parse(n[b],b)};return m}parseArrayData(e,n,i,r){const{xScale:o,yScale:a}=e,c=new Array(r);let u,h,f,m;for(u=0,h=r;u<h;++u)f=u+i,m=n[f],c[u]={x:o.parse(m[0],f),y:a.parse(m[1],f)};return c}parseObjectData(e,n,i,r){const{xScale:o,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(r);let f,m,g,v;for(f=0,m=r;f<m;++f)g=f+i,v=n[g],h[f]={x:o.parse(gs(v,c),g),y:a.parse(gs(v,u),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,o=this._cachedMeta,a=n[e.axis],c={keys:aS(r,!0),values:n._stacks[e.axis]._visualValues};return Qv(c,a,o.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const o=i[n.axis];let a=o===null?NaN:o;const c=r&&i._stacks[n.axis];r&&c&&(r.values=c,a=Qv(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,a=r.length,c=this._getOtherScale(e),u=HL(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:m}=BL(c);let g,v;function b(){v=r[g];const S=v[c.axis];return!Xt(v[e.axis])||f>S||m<S}for(g=0;g<a&&!(!b()&&(this.updateRangeFromParsed(h,e,v,u),o));++g);if(o){for(g=a-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(h,e,v,u);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,o,a;for(r=0,o=n.length;r<o;++r)a=n[r][e.axis],Xt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=FL(Ie(this.options.clip,OL(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],o=n.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||r.length-c,h=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,o,c,u),f=c;f<c+u;++f){const m=r[f];m.hidden||(m.active&&h?a.push(m):m.draw(e,o))}for(f=0;f<a.length;++f)a[f].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=$L(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=UL(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",o=this._cachedDataOpts,a=e+"-"+n,c=o[a],u=this.enableOptionSharing&&Na(i);if(c)return ex(c,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),m=r?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),f),v=Object.keys(Ct.elements[e]),b=()=>this.getContext(i,r,n),S=h.resolveNamedOptions(g,v,b,m);return S.$shared&&(S.$shared=u,o[a]=Object.freeze(ex(S,u))),S}_resolveAnimations(e,n,i){const r=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,c=o[a];if(c)return c;let u;if(r.options.animation!==!1){const f=this.chart.config,m=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),m);u=f.createResolver(g,this.getContext(e,i,n))}const h=new oS(r,u&&u.animations);return u&&u._cacheable&&(o[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Lh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(n,o)||o!==r;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:a}}updateElement(e,n,i,r){Lh(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Lh(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const o=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];const r=i.length,o=n.length,a=Math.min(o,r);a&&this.parse(0,a),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,n,i=!0){const r=this._cachedMeta,o=r.data,a=e+n;let c;const u=h=>{for(h.length+=n,c=h.length-1;c>=a;c--)h[c]=h[c-n]};for(u(o),c=e;c<a;++c)o[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Jo(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function WL(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=Uw(i.sort((r,o)=>r-o))}return t._cache.$bar}function GL(t){const e=t.iScale,n=WL(e,t.type);let i=e._length,r,o,a,c;const u=()=>{a===32767||a===-32768||(Na(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(r=0,o=n.length;r<o;++r)a=e.getPixelForValue(n[r]),u();for(c=void 0,r=0,o=e.ticks.length;r<o;++r)a=e.getPixelForTick(r),u();return i}function YL(t,e,n,i){const r=n.barThickness;let o,a;return Ze(r)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=r*i,a=1),{chunk:o/i,ratio:a,start:e.pixels[t]-o/2}}function KL(t,e,n,i){const r=e.pixels,o=r[t];let a=t>0?r[t-1]:null,c=t<r.length-1?r[t+1]:null;const u=n.categoryPercentage;a===null&&(a=o-(c===null?e.end-e.start:c-o)),c===null&&(c=o+o-a);const h=o-(o-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/i,ratio:n.barPercentage,start:h}}function XL(t,e,n,i){const r=n.parse(t[0],i),o=n.parse(t[1],i),a=Math.min(r,o),c=Math.max(r,o);let u=a,h=c;Math.abs(a)>Math.abs(c)&&(u=c,h=a),e[n.axis]=h,e._custom={barStart:u,barEnd:h,start:r,end:o,min:a,max:c}}function lS(t,e,n,i){return At(t)?XL(t,e,n,i):e[n.axis]=n.parse(t,i),e}function tx(t,e,n,i){const r=t.iScale,o=t.vScale,a=r.getLabels(),c=r===o,u=[];let h,f,m,g;for(h=n,f=n+i;h<f;++h)g=e[h],m={},m[r.axis]=c||r.parse(a[h],h),u.push(lS(g,m,o,h));return u}function jh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function qL(t,e,n){return t!==0?vi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function QL(t){let e,n,i,r,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:e,top:r,bottom:o}}function JL(t,e,n,i){let r=e.borderSkipped;const o={};if(!r){t.borderSkipped=o;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:h,bottom:f}=QL(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=h:(n._bottom||0)===i?r=f:(o[nx(f,a,c,u)]=!0,r=h)),o[nx(r,a,c,u)]=!0,t.borderSkipped=o}function nx(t,e,n,i){return i?(t=ZL(t,e,n),t=ix(t,n,e)):t=ix(t,e,n),t}function ZL(t,e,n){return t===e?n:t===n?e:t}function ix(t,e,n){return t==="start"?e:t==="end"?n:t}function ej(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class tj extends uu{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,r){return tx(e,n,i,r)}parseArrayData(e,n,i,r){return tx(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:o,vScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=o.axis==="x"?c:u,f=a.axis==="x"?c:u,m=[];let g,v,b,S;for(g=i,v=i+r;g<v;++g)S=n[g],b={},b[o.axis]=o.parse(gs(S,h),g),m.push(lS(gs(S,f),b,a,g));return m}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const o=i._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,o=this.getParsed(e),a=o._custom,c=jh(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const o=r==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),h=c.isHorizontal(),f=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,r);for(let v=n;v<n+i;v++){const b=this.getParsed(v),S=o||Ze(b[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),C=this._calculateBarIndexPixels(v,f),k=(b._stacks||{})[c.axis],P={horizontal:h,base:S.base,enableBorderRadius:!k||jh(b._custom)||a===k._top||a===k._bottom,x:h?S.head:C.center,y:h?C.center:S.head,height:h?C.size:Math.abs(S.size),width:h?Math.abs(S.size):C.size};g&&(P.options=m||this.resolveDataElementOptions(v,e[v].active?"active":r));const E=P.options||e[v].options;JL(P,E,k,a),ej(P,E,f.ratio),this.updateElement(e[v],v,P,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),u=c&&c[i.axis],h=f=>{const m=f._parsed.find(v=>v[i.axis]===u),g=m&&m[f.vScale.axis];if(Ze(g)||isNaN(g))return!0};for(const f of r)if(!(n!==void 0&&h(f))&&((o===!1||a.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Ie(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const r=this._getStacks(e,i),o=n!==void 0?r.indexOf(n):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let o,a;for(o=0,a=n.data.length;o<a;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const c=e.barThickness;return{min:c||GL(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:o,minBarLength:a}}=this,c=o||0,u=this.getParsed(e),h=u._custom,f=jh(h);let m=u[n.axis],g=0,v=i?this.applyStack(n,u,i):m,b,S;v!==m&&(g=v-m,v=m),f&&(m=h.barStart,v=h.barEnd-h.barStart,m!==0&&vi(m)!==vi(h.barEnd)&&(g=0),g+=m);const C=!Ze(o)&&!f?o:g;let k=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(g+v):b=k,S=b-k,Math.abs(S)<a){S=qL(S,n,c)*a,m===c&&(k-=S/2);const P=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),N=Math.min(P,E),D=Math.max(P,E);k=Math.max(Math.min(k,D),N),b=k+S,i&&!f&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(b)-n.getValueForPixel(k))}if(k===n.getPixelForValue(c)){const P=vi(S)*n.getLineWidthForValue(c)/2;k+=P,S-=P}return{size:S,base:k,head:b,center:b+S/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,o=r.skipNull,a=Ie(r.maxBarThickness,1/0);let c,u;const h=this._getAxisCount();if(n.grouped){const f=o?this._getStackCount(e):n.stackCount,m=r.barThickness==="flex"?KL(e,n,r,f*h):YL(e,n,r,f*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Ie(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;c=m.start+m.chunk*b+m.chunk/2,u=Math.min(a,m.chunk*m.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(a,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function nj(t,e,n){let i=1,r=1,o=0,a=0;if(e<gt){const c=t,u=c+e,h=Math.cos(c),f=Math.sin(c),m=Math.cos(u),g=Math.sin(u),v=(E,N,D)=>ja(E,c,u,!0)?1:Math.max(N,N*n,D,D*n),b=(E,N,D)=>ja(E,c,u,!0)?-1:Math.min(N,N*n,D,D*n),S=v(0,h,m),C=v(Nt,f,g),k=b(rt,h,m),P=b(rt+Nt,f,g);i=(S-k)/2,r=(C-P)/2,o=-(S+k)/2,a=-(C+P)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:a}}class ij extends uu{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:a,borderRadius:c}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,h)=>{const m=e.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:m.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(h),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:r,pointStyle:i,borderRadius:a&&(c||m.borderRadius),index:h}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=u=>+i[u];if(We(i[e])){const{key:u="value"}=this._parsing;o=h=>+gs(i[h],u)}let a,c;for(a=e,c=e+n;a<c;++a)r._parsed[a]=o(a)}}_getRotation(){return Gi(this.options.rotation-90)}_getCircumference(){return Gi(this.options.circumference)}_getRotationExtents(){let e=gt,n=-gt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),a=r._getCircumference();e=Math.min(e,o),n=Math.max(n,o+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,o=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(cN(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:f,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:b,offsetY:S}=nj(m,f,u),C=(i.width-a)/g,k=(i.height-a)/v,P=Math.max(Math.min(C,k)/2,0),E=Fw(this.options.radius,P),N=Math.max(E*u,0),D=(E-N)/this._getVisibleDatasetWeightTotal();this.offsetX=b*E,this.offsetY=S*E,r.total=this.calculateTotal(),this.outerRadius=E-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*h,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/gt)}updateElements(e,n,i,r){const o=r==="reset",a=this.chart,c=a.chartArea,h=a.options.animation,f=(c.left+c.right)/2,m=(c.top+c.bottom)/2,g=o&&h.animateScale,v=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:S,includeOptions:C}=this._getSharedOptions(n,r);let k=this._getRotation(),P;for(P=0;P<n;++P)k+=this._circumference(P,o);for(P=n;P<n+i;++P){const E=this._circumference(P,o),N=e[P],D={x:f+this.offsetX,y:m+this.offsetY,startAngle:k,endAngle:k+E,circumference:E,outerRadius:b,innerRadius:v};C&&(D.options=S||this.resolveDataElementOptions(P,N.active?"active":r)),k+=E,this.updateElement(N,P,D,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?gt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=Ep(n._parsed[e],i.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,o,a,c,u;if(!e){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,c=a.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class rj extends uu{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=n,a=this.chart._animationsDisabled;let{start:c,count:u}=PN(n,r,a);this._drawStart=c,this._drawCount=u,DN(n)&&(c=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:h},e),this.updateElements(r,c,u,e)}updateElements(e,n,i,r){const o=r==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,r),g=a.axis,v=c.axis,{spanGaps:b,segment:S}=this.options,C=La(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||r==="none",P=n+i,E=e.length;let N=n>0&&this.getParsed(n-1);for(let D=0;D<E;++D){const j=e[D],T=k?j:{};if(D<n||D>=P){T.skip=!0;continue}const A=this.getParsed(D),V=Ze(A[v]),G=T[g]=a.getPixelForValue(A[g],D),q=T[v]=o||V?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,A,u):A[v],D);T.skip=isNaN(G)||isNaN(q)||V,T.stop=D>0&&Math.abs(A[g]-N[g])>C,S&&(T.parsed=A,T.raw=h.data[D]),m&&(T.options=f||this.resolveDataElementOptions(D,j.active?"active":r)),k||this.updateElement(j,D,T,r),N=A}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function rs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lp{static override(e){Object.assign(Lp.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return rs()}parse(){return rs()}format(){return rs()}add(){return rs()}diff(){return rs()}startOf(){return rs()}endOf(){return rs()}}var sj={_date:Lp};function oj(t,e,n,i){const{controller:r,data:o,_sorted:a}=t,c=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&a&&o.length){const h=c._reversePixels?kN:ds;if(i){if(r._sharedOptions){const f=o[0],m=typeof f.getRange=="function"&&f.getRange(e);if(m){const g=h(o,e,n-m),v=h(o,e,n+m);return{lo:g.lo,hi:v.hi}}}}else{const f=h(o,e,n);if(u){const{vScale:m}=r._cachedMeta,{_parsed:g}=t,v=g.slice(0,f.lo+1).reverse().findIndex(S=>!Ze(S[m.axis]));f.lo-=Math.max(0,v);const b=g.slice(f.hi).findIndex(S=>!Ze(S[m.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:o.length-1}}function du(t,e,n,i,r){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let c=0,u=o.length;c<u;++c){const{index:h,data:f}=o[c],{lo:m,hi:g}=oj(o[c],e,a,r);for(let v=m;v<=g;++v){const b=f[v];b.skip||i(b,h,v)}}}function aj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Oh(t,e,n,i,r){const o=[];return!r&&!t.isPointInArea(e)||du(t,n,e,function(c,u,h){!r&&!Oa(c,t.chartArea,0)||c.inRange(e.x,e.y,i)&&o.push({element:c,datasetIndex:u,index:h})},!0),o}function lj(t,e,n,i){let r=[];function o(a,c,u){const{startAngle:h,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:m}=Bw(a,{x:e.x,y:e.y});ja(m,h,f)&&r.push({element:a,datasetIndex:c,index:u})}return du(t,n,e,o),r}function cj(t,e,n,i,r,o){let a=[];const c=aj(n);let u=Number.POSITIVE_INFINITY;function h(f,m,g){const v=f.inRange(e.x,e.y,r);if(i&&!v)return;const b=f.getCenterPoint(r);if(!(!!o||t.isPointInArea(b))&&!v)return;const C=c(e,b);C<u?(a=[{element:f,datasetIndex:m,index:g}],u=C):C===u&&a.push({element:f,datasetIndex:m,index:g})}return du(t,n,e,h),a}function Fh(t,e,n,i,r,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?lj(t,e,n,r):cj(t,e,n,i,r,o)}function rx(t,e,n,i,r){const o=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return du(t,n,e,(u,h,f)=>{u[a]&&u[a](e[n],r)&&(o.push({element:u,datasetIndex:h,index:f}),c=c||u.inRange(e.x,e.y,r))}),i&&!c?[]:o}var uj={modes:{index(t,e,n,i){const r=os(e,t),o=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?Oh(t,r,o,i,a):Fh(t,r,o,!1,i,a),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const f=c[0].index,m=h.data[f];m&&!m.skip&&u.push({element:m,datasetIndex:h.index,index:f})}),u):[]},dataset(t,e,n,i){const r=os(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?Oh(t,r,o,i,a):Fh(t,r,o,!1,i,a);if(c.length>0){const u=c[0].datasetIndex,h=t.getDatasetMeta(u).data;c=[];for(let f=0;f<h.length;++f)c.push({element:h[f],datasetIndex:u,index:f})}return c},point(t,e,n,i){const r=os(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return Oh(t,r,o,i,a)},nearest(t,e,n,i){const r=os(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return Fh(t,r,o,n.intersect,i,a)},x(t,e,n,i){const r=os(e,t);return rx(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=os(e,t);return rx(t,r,"y",n.intersect,i)}}};const cS=["left","top","right","bottom"];function Zo(t,e){return t.filter(n=>n.pos===e)}function sx(t,e){return t.filter(n=>cS.indexOf(n.pos)===-1&&n.box.axis===e)}function ea(t,e){return t.sort((n,i)=>{const r=e?i:n,o=e?n:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function dj(t){const e=[];let n,i,r,o,a,c;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:o,options:{stack:a,stackWeight:c=1}}=r,e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&o+a,stackWeight:c});return e}function hj(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:o}=n;if(!i||!cS.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function fj(t,e){const n=hj(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,a,c;for(o=0,a=t.length;o<a;++o){c=t[o];const{fullSize:u}=c.box,h=n[c.stack],f=h&&c.stackWeight/h.weight;c.horizontal?(c.width=f?f*i:u&&e.availableWidth,c.height=r):(c.width=i,c.height=f?f*r:u&&e.availableHeight)}return n}function pj(t){const e=dj(t),n=ea(e.filter(h=>h.box.fullSize),!0),i=ea(Zo(e,"left"),!0),r=ea(Zo(e,"right")),o=ea(Zo(e,"top"),!0),a=ea(Zo(e,"bottom")),c=sx(e,"x"),u=sx(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(u).concat(a).concat(c),chartArea:Zo(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:o.concat(a).concat(c)}}function ox(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function uS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mj(t,e,n,i){const{pos:r,box:o}=n,a=t.maxPadding;if(!We(r)){n.size&&(t[r]-=n.size);const m=i[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?o.height:o.width),n.size=m.size/m.count,t[r]+=n.size}o.getPadding&&uS(a,o.getPadding());const c=Math.max(0,e.outerWidth-ox(a,t,"left","right")),u=Math.max(0,e.outerHeight-ox(a,t,"top","bottom")),h=c!==t.w,f=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:h,other:f}:{same:f,other:h}}function gj(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function yj(t,e){const n=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{o[a]=Math.max(e[a],n[a])}),o}return i(t?["left","right"]:["top","bottom"])}function ca(t,e,n,i){const r=[];let o,a,c,u,h,f;for(o=0,a=t.length,h=0;o<a;++o){c=t[o],u=c.box,u.update(c.width||e.w,c.height||e.h,yj(c.horizontal,e));const{same:m,other:g}=mj(e,n,c,i);h|=m&&r.length,f=f||g,u.fullSize||r.push(c)}return h&&ca(r,e,n,i)||f}function fc(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function ax(t,e,n,i){const r=n.padding;let{x:o,y:a}=e;for(const c of t){const u=c.box,h=i[c.stack]||{placed:0,weight:1},f=c.stackWeight/h.weight||1;if(c.horizontal){const m=e.w*f,g=h.size||u.height;Na(h.start)&&(a=h.start),u.fullSize?fc(u,r.left,a,n.outerWidth-r.right-r.left,g):fc(u,e.left+h.placed,a,m,g),h.start=a,h.placed+=m,a=u.bottom}else{const m=e.h*f,g=h.size||u.width;Na(h.start)&&(o=h.start),u.fullSize?fc(u,o,r.top,g,n.outerHeight-r.bottom-r.top):fc(u,o,e.top+h.placed,g,m),h.start=o,h.placed+=m,o=u.right}}e.x=o,e.y=a}var Tr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=ri(t.options.layout.padding),o=Math.max(e-r.width,0),a=Math.max(n-r.height,0),c=pj(t.boxes),u=c.vertical,h=c.horizontal;tt(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const f=u.reduce((S,C)=>C.box.options&&C.box.options.display===!1?S:S+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/f,hBoxMaxHeight:a/2}),g=Object.assign({},r);uS(g,ri(i));const v=Object.assign({maxPadding:g,w:o,h:a,x:r.left,y:r.top},r),b=fj(u.concat(h),m);ca(c.fullSize,v,m,b),ca(u,v,m,b),ca(h,v,m,b)&&ca(u,v,m,b),gj(v),ax(c.leftAndTop,v,m,b),v.x+=v.w,v.y+=v.h,ax(c.rightAndBottom,v,m,b),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},tt(c.chartArea,S=>{const C=S.box;Object.assign(C,t.chartArea),C.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class dS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class vj extends dS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Nc="$chartjs",xj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lx=t=>t===null||t==="";function bj(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Nc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",lx(r)){const o=Wv(t,"width");o!==void 0&&(t.width=o)}if(lx(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=Wv(t,"height");o!==void 0&&(t.height=o)}return t}const hS=xL?{passive:!0}:!1;function wj(t,e,n){t&&t.addEventListener(e,n,hS)}function Sj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,hS)}function Cj(t,e){const n=xj[t.type]||t.type,{x:i,y:r}=os(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Qc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function kj(t,e,n){const i=t.canvas,r=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Qc(c.addedNodes,i),a=a&&!Qc(c.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function _j(t,e,n){const i=t.canvas,r=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Qc(c.removedNodes,i),a=a&&!Qc(c.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Fa=new Map;let cx=0;function fS(){const t=window.devicePixelRatio;t!==cx&&(cx=t,Fa.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Mj(t,e){Fa.size||window.addEventListener("resize",fS),Fa.set(t,e)}function Ej(t){Fa.delete(t),Fa.size||window.removeEventListener("resize",fS)}function Tj(t,e,n){const i=t.canvas,r=i&&Np(i);if(!r)return;const o=Hw((c,u)=>{const h=r.clientWidth;n(c,u),h<r.clientWidth&&n()},window),a=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,f=u.contentRect.height;h===0&&f===0||o(h,f)});return a.observe(r),Mj(t,o),a}function Ih(t,e,n){n&&n.disconnect(),e==="resize"&&Ej(t)}function Pj(t,e,n){const i=t.canvas,r=Hw(o=>{t.ctx!==null&&n(Cj(o,t))},t);return wj(i,e,r),r}class Dj extends dS{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(bj(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Nc])return!1;const i=n[Nc].initial;["height","width"].forEach(o=>{const a=i[o];Ze(a)?n.removeAttribute(o):n.setAttribute(o,a)});const r=i.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[Nc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:kj,detach:_j,resize:Tj}[n]||Pj;r[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Ih,detach:Ih,resize:Ih}[n]||Sj)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return vL(e,n,i,r)}isAttached(e){const n=e&&Np(e);return!!(n&&n.isConnected)}}function Rj(t){return!Ap()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?vj:Dj}let jr=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return La(this.x)&&La(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function Aj(t,e){const n=t.options.ticks,i=Nj(t),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?jj(e):[],a=o.length,c=o[0],u=o[a-1],h=[];if(a>r)return Oj(e,h,o,a/r),h;const f=Lj(o,e,r);if(a>0){let m,g;const v=a>1?Math.round((u-c)/(a-1)):null;for(pc(e,h,f,Ze(v)?0:c-v,c),m=0,g=a-1;m<g;m++)pc(e,h,f,o[m],o[m+1]);return pc(e,h,f,u,Ze(v)?e.length:u+v),h}return pc(e,h,f),h}function Nj(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function Lj(t,e,n){const i=Fj(t),r=e.length/n;if(!i)return Math.max(r,1);const o=yN(i);for(let a=0,c=o.length-1;a<c;a++){const u=o[a];if(u>r)return u}return Math.max(r,1)}function jj(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Oj(t,e,n,i){let r=0,o=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===o&&(e.push(t[a]),r++,o=n[r*i])}function pc(t,e,n,i,r){const o=Ie(i,0),a=Math.min(Ie(r,t.length),t.length);let c=0,u,h,f;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),f=o;f<0;)c++,f=Math.round(o+c*n);for(h=Math.max(o,0);h<a;h++)h===f&&(e.push(t[h]),c++,f=Math.round(o+c*n))}function Fj(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Ij=t=>t==="left"?"right":t==="right"?"left":t,ux=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,dx=(t,e)=>Math.min(e||t,t);function hx(t,e){const n=[],i=t.length/e,r=t.length;let o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function zj(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,a=t._endPixel,c=1e-6;let u=t.getPixelForTick(r),h;if(!(n&&(i===1?h=Math.max(u-o,a-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(r-1))/2,u+=r<e?h:-h,u<o-c||u>a+c)))return u}function Bj(t,e){tt(t,n=>{const i=n.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete n.data[i[o]];i.splice(0,r)}})}function ta(t){return t.drawTicks?t.tickLength:0}function fx(t,e){if(!t.display)return 0;const n=fn(t.font,e),i=ri(t.padding);return(At(t.text)?t.text.length:1)*n.lineHeight+i.height}function Vj(t,e){return ws(t,{scale:e,type:"scale"})}function Uj(t,e,n){return ws(t,{tick:n,index:e,type:"tick"})}function $j(t,e,n){let i=Ww(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Ij(i)),i}function Hj(t,e,n,i){const{top:r,left:o,bottom:a,right:c,chart:u}=t,{chartArea:h,scales:f}=u;let m=0,g,v,b;const S=a-r,C=c-o;if(t.isHorizontal()){if(v=xn(i,o,c),We(n)){const k=Object.keys(n)[0],P=n[k];b=f[k].getPixelForValue(P)+S-e}else n==="center"?b=(h.bottom+h.top)/2+S-e:b=ux(t,n,e);g=c-o}else{if(We(n)){const k=Object.keys(n)[0],P=n[k];v=f[k].getPixelForValue(P)-C+e}else n==="center"?v=(h.left+h.right)/2-C+e:v=ux(t,n,e);b=xn(i,a,r),m=n==="left"?-Nt:Nt}return{titleX:v,titleY:b,maxWidth:g,rotation:m}}class fo extends jr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=hi(e,Number.POSITIVE_INFINITY),n=hi(n,Number.NEGATIVE_INFINITY),i=hi(i,Number.POSITIVE_INFINITY),r=hi(r,Number.NEGATIVE_INFINITY),{min:hi(e,i),max:hi(n,r),minDefined:Xt(e),maxDefined:Xt(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),a;if(r&&o)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)a=c[u].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),o||(i=Math.max(i,a.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:hi(n,hi(i,n)),max:hi(i,hi(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ct(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:o,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qN(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?hx(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Aj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ct(this.options.afterUpdate,[this])}beforeSetDimensions(){ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=ct(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=dx(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,o=n.maxRotation;let a=r,c,u,h;if(!this._isVisible()||!n.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const f=this._getLabelSizes(),m=f.widest.width,g=f.highest.height,v=Kt(this.chart.width-m,0,this.maxWidth);c=e.offset?this.maxWidth/i:v/(i-1),m+6>c&&(c=v/(i-(e.offset?.5:1)),u=this.maxHeight-ta(e.grid)-n.padding-fx(e.title,this.chart.options.font),h=Math.sqrt(m*m+g*g),a=wN(Math.min(Math.asin(Kt((f.highest.height+6)/c,-1,1)),Math.asin(Kt(u/h,-1,1))-Math.asin(Kt(g/h,-1,1)))),a=Math.max(r,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=fx(r,n.options.font);if(c?(e.width=this.maxWidth,e.height=ta(o)+u):(e.height=this.maxHeight,e.width=ta(o)+u),i.display&&this.ticks.length){const{first:h,last:f,widest:m,highest:g}=this._getLabelSizes(),v=i.padding*2,b=Gi(this.labelRotation),S=Math.cos(b),C=Math.sin(b);if(c){const k=i.mirror?0:C*m.width+S*g.height;e.height=Math.min(this.maxHeight,e.height+k+v)}else{const k=i.mirror?0:S*m.width+C*g.height;e.width=Math.min(this.maxWidth,e.width+k+v)}this._calculatePadding(h,f,C,S)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:o,padding:a},position:c}=this.options,u=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;u?h?(g=r*e.width,v=i*n.height):(g=i*e.height,v=r*n.width):o==="start"?v=n.width:o==="end"?g=e.width:o!=="inner"&&(g=e.width/2,v=n.width/2),this.paddingLeft=Math.max((g-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-m+a)*this.width/(this.width-m),0)}else{let f=n.height/2,m=e.height/2;o==="start"?(f=0,m=e.height):o==="end"&&(f=n.height,m=0),this.paddingTop=f+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Ze(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=hx(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:o}=this,a=[],c=[],u=Math.floor(n/dx(n,i));let h=0,f=0,m,g,v,b,S,C,k,P,E,N,D;for(m=0;m<n;m+=u){if(b=e[m].label,S=this._resolveTickFontOptions(m),r.font=C=S.string,k=o[C]=o[C]||{data:{},gc:[]},P=S.lineHeight,E=N=0,!Ze(b)&&!At(b))E=Bv(r,k.data,k.gc,E,b),N=P;else if(At(b))for(g=0,v=b.length;g<v;++g)D=b[g],!Ze(D)&&!At(D)&&(E=Bv(r,k.data,k.gc,E,D),N+=P);a.push(E),c.push(N),h=Math.max(E,h),f=Math.max(N,f)}Bj(o,n);const j=a.indexOf(h),T=c.indexOf(f),A=V=>({width:a[V]||0,height:c[V]||0});return{first:A(0),last:A(n-1),widest:A(j),highest:A(T),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return CN(this._alignToPixels?is(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Uj(this.getContext(),e,i))}return this.$context||(this.$context=Vj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Gi(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,c=o?o.widest.width+a:0,u=o?o.highest.height+a:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:o,position:a,border:c}=r,u=o.offset,h=this.isHorizontal(),m=this.ticks.length+(u?1:0),g=ta(o),v=[],b=c.setContext(this.getContext()),S=b.display?b.width:0,C=S/2,k=function(le){return is(i,le,S)};let P,E,N,D,j,T,A,V,G,q,B,ee;if(a==="top")P=k(this.bottom),T=this.bottom-g,V=P-C,q=k(e.top)+C,ee=e.bottom;else if(a==="bottom")P=k(this.top),q=e.top,ee=k(e.bottom)-C,T=P+C,V=this.top+g;else if(a==="left")P=k(this.right),j=this.right-g,A=P-C,G=k(e.left)+C,B=e.right;else if(a==="right")P=k(this.left),G=e.left,B=k(e.right)-C,j=P+C,A=this.left+g;else if(n==="x"){if(a==="center")P=k((e.top+e.bottom)/2+.5);else if(We(a)){const le=Object.keys(a)[0],te=a[le];P=k(this.chart.scales[le].getPixelForValue(te))}q=e.top,ee=e.bottom,T=P+C,V=T+g}else if(n==="y"){if(a==="center")P=k((e.left+e.right)/2);else if(We(a)){const le=Object.keys(a)[0],te=a[le];P=k(this.chart.scales[le].getPixelForValue(te))}j=P-C,A=j-g,G=e.left,B=e.right}const Q=Ie(r.ticks.maxTicksLimit,m),ne=Math.max(1,Math.ceil(m/Q));for(E=0;E<m;E+=ne){const le=this.getContext(E),te=o.setContext(le),H=c.setContext(le),Z=te.lineWidth,J=te.color,O=H.dash||[],K=H.dashOffset,de=te.tickWidth,ae=te.tickColor,he=te.tickBorderDash||[],ge=te.tickBorderDashOffset;N=zj(this,E,u),N!==void 0&&(D=is(i,N,Z),h?j=A=G=B=D:T=V=q=ee=D,v.push({tx1:j,ty1:T,tx2:A,ty2:V,x1:G,y1:q,x2:B,y2:ee,width:Z,color:J,borderDash:O,borderDashOffset:K,tickWidth:de,tickColor:ae,tickBorderDash:he,tickBorderDashOffset:ge}))}return this._ticksLength=m,this._borderValue=P,v}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:o}=i,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:f,mirror:m}=o,g=ta(i.grid),v=g+f,b=m?-f:v,S=-Gi(this.labelRotation),C=[];let k,P,E,N,D,j,T,A,V,G,q,B,ee="middle";if(r==="top")j=this.bottom-b,T=this._getXAxisLabelAlignment();else if(r==="bottom")j=this.top+b,T=this._getXAxisLabelAlignment();else if(r==="left"){const ne=this._getYAxisLabelAlignment(g);T=ne.textAlign,D=ne.x}else if(r==="right"){const ne=this._getYAxisLabelAlignment(g);T=ne.textAlign,D=ne.x}else if(n==="x"){if(r==="center")j=(e.top+e.bottom)/2+v;else if(We(r)){const ne=Object.keys(r)[0],le=r[ne];j=this.chart.scales[ne].getPixelForValue(le)+v}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")D=(e.left+e.right)/2-v;else if(We(r)){const ne=Object.keys(r)[0],le=r[ne];D=this.chart.scales[ne].getPixelForValue(le)}T=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?ee="top":u==="end"&&(ee="bottom"));const Q=this._getLabelSizes();for(k=0,P=c.length;k<P;++k){E=c[k],N=E.label;const ne=o.setContext(this.getContext(k));A=this.getPixelForTick(k)+o.labelOffset,V=this._resolveTickFontOptions(k),G=V.lineHeight,q=At(N)?N.length:1;const le=q/2,te=ne.color,H=ne.textStrokeColor,Z=ne.textStrokeWidth;let J=T;a?(D=A,T==="inner"&&(k===P-1?J=this.options.reverse?"left":"right":k===0?J=this.options.reverse?"right":"left":J="center"),r==="top"?h==="near"||S!==0?B=-q*G+G/2:h==="center"?B=-Q.highest.height/2-le*G+G:B=-Q.highest.height+G/2:h==="near"||S!==0?B=G/2:h==="center"?B=Q.highest.height/2-le*G:B=Q.highest.height-q*G,m&&(B*=-1),S!==0&&!ne.showLabelBackdrop&&(D+=G/2*Math.sin(S))):(j=A,B=(1-q)*G/2);let O;if(ne.showLabelBackdrop){const K=ri(ne.backdropPadding),de=Q.heights[k],ae=Q.widths[k];let he=B-K.top,ge=0-K.left;switch(ee){case"middle":he-=de/2;break;case"bottom":he-=de;break}switch(T){case"center":ge-=ae/2;break;case"right":ge-=ae;break;case"inner":k===P-1?ge-=ae:k>0&&(ge-=ae/2);break}O={left:ge,top:he,width:ae+K.width,height:de+K.height,color:ne.backdropColor}}C.push({label:N,font:V,textOffset:B,options:{rotation:S,color:te,strokeColor:H,strokeWidth:Z,textAlign:J,textBaseline:ee,translation:[D,j],backdrop:O}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Gi(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,a=this._getLabelSizes(),c=e+o,u=a.widest.width;let h,f;return n==="left"?r?(f=this.right+o,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-c,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f=this.left)):n==="right"?r?(f=this.left+o,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+c,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:o,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,o,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const c=(u,h,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(o=0,a=r.length;o<a;++o){const u=r[o];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,m,g;this.isHorizontal()?(h=is(e,this.left,a)-a/2,f=is(e,this.right,c)+c/2,m=g=u):(m=is(e,this.top,a)-a/2,g=is(e,this.bottom,c)+c/2,h=f=u),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,m),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&au(i,r);const o=this.getLabelItems(e);for(const a of o){const c=a.options,u=a.font,h=a.label,f=a.textOffset;Kc(i,h,0,f,u,c)}r&&lu(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const o=fn(i.font),a=ri(i.padding),c=i.align;let u=o.lineHeight/2;n==="bottom"||n==="center"||We(n)?(u+=a.bottom,At(i.text)&&(u+=o.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:h,titleY:f,maxWidth:m,rotation:g}=Hj(this,u,n,c);Kc(e,i.text,0,0,o,{color:i.color,maxWidth:m,rotation:g,textAlign:$j(c,n,r),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ie(e.grid&&e.grid.z,-1),r=Ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==fo.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,a;for(o=0,a=n.length;o<a;++o){const c=n[o];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return fn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class mc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Yj(n)&&(i=this.register(n));const r=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,Wj(e,a,i),this.override&&Ct.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ct[r]&&(delete Ct[r][i],this.override&&delete ys[i])}}function Wj(t,e,n){const i=Aa(Object.create(null),[n?Ct.get(n):{},Ct.get(e),t.defaults]);Ct.set(e,i),t.defaultRoutes&&Gj(e,t.defaultRoutes),t.descriptors&&Ct.describe(e,t.descriptors)}function Gj(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),o=[t].concat(i).join("."),a=e[n].split("."),c=a.pop(),u=a.join(".");Ct.route(o,r,u,c)})}function Yj(t){return"id"in t&&"defaults"in t}class Kj{constructor(){this.controllers=new mc(uu,"datasets",!0),this.elements=new mc(jr,"elements"),this.plugins=new mc(Object,"plugins"),this.scales=new mc(fo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):tt(r,a=>{const c=i||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,n,i){const r=kp(e);ct(i["before"+r],[],i),n[e](i),ct(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var pi=new Kj;class Xj{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,i,r){r=r||{};for(const o of e){const a=o.plugin,c=a[i],u=[n,r,o.options];if(ct(c,u,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=Ie(i.options&&i.options.plugins,{}),o=qj(i);return r===!1&&!n?[]:Jj(e,o,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(o,a)=>o.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function qj(t){const e={},n=[],i=Object.keys(pi.plugins.items);for(let o=0;o<i.length;o++)n.push(pi.getPlugin(i[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const a=r[o];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Qj(t,e){return!e&&t===!1?null:t===!0?{}:t}function Jj(t,{plugins:e,localIds:n},i,r){const o=[],a=t.getContext();for(const c of e){const u=c.id,h=Qj(i[u],r);h!==null&&o.push({plugin:c,options:Zj(t.config,{plugin:c,local:n[u]},h,a)})}return o}function Zj(t,{plugin:e,local:n},i,r){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(i,o);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mf(t,e){const n=Ct.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function eO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function tO(t,e){return t===e?"_index_":"_value_"}function px(t){if(t==="x"||t==="y"||t==="r")return t}function nO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ef(t,...e){if(px(t))return t;for(const n of e){const i=n.axis||nO(n.position)||t.length>1&&px(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function mx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function iO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return mx(t,"x",n[0])||mx(t,"y",n[0])}return{}}function rO(t,e){const n=ys[t.type]||{scales:{}},i=e.scales||{},r=Mf(t.type,e),o=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!We(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Ef(a,c,iO(a,t),Ct.scales[c.type]),h=tO(u,r),f=n.scales||{};o[a]=xa(Object.create(null),[{axis:u},c,f[u],f[h]])}),t.data.datasets.forEach(a=>{const c=a.type||t.type,u=a.indexAxis||Mf(c,e),f=(ys[c]||{}).scales||{};Object.keys(f).forEach(m=>{const g=eO(m,u),v=a[g+"AxisID"]||g;o[v]=o[v]||Object.create(null),xa(o[v],[{axis:g},i[v],f[m]])})}),Object.keys(o).forEach(a=>{const c=o[a];xa(c,[Ct.scales[c.type],Ct.scale])}),o}function pS(t){const e=t.options||(t.options={});e.plugins=Ie(e.plugins,{}),e.scales=rO(t,e)}function mS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function sO(t){return t=t||{},t.data=mS(t.data),pS(t),t}const gx=new Map,gS=new Set;function gc(t,e){let n=gx.get(t);return n||(n=e(),gx.set(t,n),gS.add(n)),n}const na=(t,e,n)=>{const i=gs(e,n);i!==void 0&&t.add(i)};class oO{constructor(e){this._config=sO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=mS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),pS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return gc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return gc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return gc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:o}=this,a=this._cachedScopes(e,i),c=a.get(n);if(c)return c;const u=new Set;n.forEach(f=>{e&&(u.add(e),f.forEach(m=>na(u,e,m))),f.forEach(m=>na(u,r,m)),f.forEach(m=>na(u,ys[o]||{},m)),f.forEach(m=>na(u,Ct,m)),f.forEach(m=>na(u,kf,m))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),gS.has(n)&&a.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,ys[n]||{},Ct.datasets[n]||{},{type:n},Ct,kf]}resolveNamedOptions(e,n,i,r=[""]){const o={$shared:!0},{resolver:a,subPrefixes:c}=yx(this._resolverCache,e,r);let u=a;if(lO(a,n)){o.$shared=!1,i=Nr(i)?i():i;const h=this.createResolver(e,i,c);u=oo(a,i,h)}for(const h of n)o[h]=u[h];return o}createResolver(e,n,i=[""],r){const{resolver:o}=yx(this._resolverCache,e,i);return We(n)?oo(o,n,void 0,r):o}}function yx(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let o=i.get(r);return o||(o={resolver:Pp(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,o)),o}const aO=t=>We(t)&&Object.getOwnPropertyNames(t).some(e=>Nr(t[e]));function lO(t,e){const{isScriptable:n,isIndexable:i}=Xw(t);for(const r of e){const o=n(r),a=i(r),c=(a||o)&&t[r];if(o&&(Nr(c)||aO(c))||a&&At(c))return!0}return!1}var cO="4.5.1";const uO=["top","bottom","left","right","chartArea"];function vx(t,e){return t==="top"||t==="bottom"||uO.indexOf(t)===-1&&e==="x"}function xx(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function bx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ct(n&&n.onComplete,[t],e)}function dO(t){const e=t.chart,n=e.options.animation;ct(n&&n.onProgress,[t],e)}function yS(t){return Ap()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Lc={},wx=t=>{const e=yS(t);return Object.values(Lc).filter(n=>n.canvas===e).pop()};function hO(t,e,n){const i=Object.keys(t);for(const r of i){const o=+r;if(o>=e){const a=t[r];delete t[r],(n>0||o>e)&&(t[o+n]=a)}}}function fO(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let hu=class{static defaults=Ct;static instances=Lc;static overrides=ys;static registry=pi;static version=cO;static getChart=wx;static register(...e){pi.add(...e),Sx()}static unregister(...e){pi.remove(...e),Sx()}constructor(e,n){const i=this.config=new oO(n),r=yS(e),o=wx(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Rj(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,a.aspectRatio),u=c&&c.canvas,h=u&&u.height,f=u&&u.width;if(this.id=lN(),this.ctx=c,this.canvas=u,this.width=f,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Xj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=EN(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],Lc[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ui.listen(this,"complete",bx),Ui.listen(this,"progress",dO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:o}=this;return Ze(e)?n&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return pi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vv(this.canvas,this.ctx),this}stop(){return Ui.stop(this),this}resize(e,n){Ui.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Hv(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),ct(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};tt(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let o=[];n&&(o=o.concat(Object.keys(n).map(a=>{const c=n[a],u=Ef(a,c),h=u==="r",f=u==="x";return{options:c,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),tt(o,a=>{const c=a.options,u=c.id,h=Ef(u,c),f=Ie(c.type,a.dtype);(c.position===void 0||vx(c.position,h)!==vx(a.dposition))&&(c.position=a.dposition),r[u]=!0;let m=null;if(u in i&&i[u].type===f)m=i[u];else{const g=pi.getScale(f);m=new g({id:u,type:f,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(c,e)}),tt(r,(a,c)=>{a||delete i[c]}),tt(i,a=>{Tr.configure(this,a,a.options),Tr.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(xx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const o=n[i];let a=this.getDatasetMeta(i);const c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||Mf(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=pi.getController(c),{datasetElementType:h,dataElementType:f}=Ct.datasets[c];Object.assign(u,{dataElementType:pi.getElement(f),datasetElementType:h&&pi.getElement(h)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){tt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:m}=this.getDatasetMeta(h),g=!r&&o.indexOf(m)===-1;m.buildOrUpdateElements(g),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||tt(o,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xx("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){tt(this.scales,e=>{Tr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Rv(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of n){const a=i==="_removeElements"?-o:o;hO(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),r=i(0);for(let o=1;o<n;o++)if(!Rv(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Tr.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],tt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Nr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ui.has(this)?this.attached&&!Ui.running(this)&&Ui.start(this):(this.draw(),bx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=sS(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&au(n,r),e.controller.draw(),r&&lu(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Oa(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const o=uj.modes[n];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ws(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,r);Na(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ui.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Vv(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Lc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,a)=>{n.addEventListener(this,o,a),e[o]=a},r=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};tt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},o=(u,h)=>{this.canvas&&this.resize(u,h)};let a;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){tt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},tt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let o,a,c,u;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:a})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!Wc(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,o=(u,h)=>u.filter(f=>!h.some(m=>f.datasetIndex===m.datasetIndex&&f.index===m.index)),a=o(n,e),c=i?e:o(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:o}=this,a=n,c=this._getActiveElements(e,r,i,a),u=pN(e),h=fO(e,this._lastEvent,i,u);i&&(this._lastEvent=null,ct(o.onHover,[e,c,this],this),u&&ct(o.onClick,[e,c,this],this));const f=!Wc(c,r);return(f||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=h,f}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}};function Sx(){return tt(hu.instances,t=>t._plugins.invalidate())}function pO(t,e,n){const{startAngle:i,x:r,y:o,outerRadius:a,innerRadius:c,options:u}=e,{borderWidth:h,borderJoinStyle:f}=u,m=Math.min(h/a,wn(i-n));if(t.beginPath(),t.arc(r,o,a-h/2,i+m/2,n-m/2),c>0){const g=Math.min(h/c,wn(i-n));t.arc(r,o,c+h/2,n-g/2,i+g/2,!0)}else{const g=Math.min(h/2,a*wn(i-n));if(f==="round")t.arc(r,o,g,n-rt/2,i+rt/2,!0);else if(f==="bevel"){const v=2*g*g,b=-v*Math.cos(n+rt/2)+r,S=-v*Math.sin(n+rt/2)+o,C=v*Math.cos(i+rt/2)+r,k=v*Math.sin(i+rt/2)+o;t.lineTo(b,S),t.lineTo(C,k)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function mO(t,e,n){const{startAngle:i,pixelMargin:r,x:o,y:a,outerRadius:c,innerRadius:u}=e;let h=r/c;t.beginPath(),t.arc(o,a,c,i-h,n+h),u>r?(h=r/u,t.arc(o,a,u,n+h,i-h,!0)):t.arc(o,a,r,n+Nt,i-Nt),t.closePath(),t.clip()}function gO(t){return Tp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function yO(t,e,n,i){const r=gO(t.options.borderRadius),o=(n-e)/2,a=Math.min(o,i*e/2),c=u=>{const h=(n-Math.min(o,u))*i/2;return Kt(u,0,Math.min(o,h))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Kt(r.innerStart,0,a),innerEnd:Kt(r.innerEnd,0,a)}}function Ys(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Jc(t,e,n,i,r,o){const{x:a,y:c,startAngle:u,pixelMargin:h,innerRadius:f}=e,m=Math.max(e.outerRadius+i+n-h,0),g=f>0?f+i+n+h:0;let v=0;const b=r-u;if(i){const ne=f>0?f-i:0,le=m>0?m-i:0,te=(ne+le)/2,H=te!==0?b*te/(te+i):b;v=(b-H)/2}const S=Math.max(.001,b*m-n/rt)/m,C=(b-S)/2,k=u+C+v,P=r-C-v,{outerStart:E,outerEnd:N,innerStart:D,innerEnd:j}=yO(e,g,m,P-k),T=m-E,A=m-N,V=k+E/T,G=P-N/A,q=g+D,B=g+j,ee=k+D/q,Q=P-j/B;if(t.beginPath(),o){const ne=(V+G)/2;if(t.arc(a,c,m,V,ne),t.arc(a,c,m,ne,G),N>0){const Z=Ys(A,G,a,c);t.arc(Z.x,Z.y,N,G,P+Nt)}const le=Ys(B,P,a,c);if(t.lineTo(le.x,le.y),j>0){const Z=Ys(B,Q,a,c);t.arc(Z.x,Z.y,j,P+Nt,Q+Math.PI)}const te=(P-j/g+(k+D/g))/2;if(t.arc(a,c,g,P-j/g,te,!0),t.arc(a,c,g,te,k+D/g,!0),D>0){const Z=Ys(q,ee,a,c);t.arc(Z.x,Z.y,D,ee+Math.PI,k-Nt)}const H=Ys(T,k,a,c);if(t.lineTo(H.x,H.y),E>0){const Z=Ys(T,V,a,c);t.arc(Z.x,Z.y,E,k-Nt,V)}}else{t.moveTo(a,c);const ne=Math.cos(V)*m+a,le=Math.sin(V)*m+c;t.lineTo(ne,le);const te=Math.cos(G)*m+a,H=Math.sin(G)*m+c;t.lineTo(te,H)}t.closePath()}function vO(t,e,n,i,r){const{fullCircles:o,startAngle:a,circumference:c}=e;let u=e.endAngle;if(o){Jc(t,e,n,i,u,r);for(let h=0;h<o;++h)t.fill();isNaN(c)||(u=a+(c%gt||gt))}return Jc(t,e,n,i,u,r),t.fill(),u}function xO(t,e,n,i,r){const{fullCircles:o,startAngle:a,circumference:c,options:u}=e,{borderWidth:h,borderJoinStyle:f,borderDash:m,borderDashOffset:g,borderRadius:v}=u,b=u.borderAlign==="inner";if(!h)return;t.setLineDash(m||[]),t.lineDashOffset=g,b?(t.lineWidth=h*2,t.lineJoin=f||"round"):(t.lineWidth=h,t.lineJoin=f||"bevel");let S=e.endAngle;if(o){Jc(t,e,n,i,S,r);for(let C=0;C<o;++C)t.stroke();isNaN(c)||(S=a+(c%gt||gt))}b&&mO(t,e,S),u.selfJoin&&S-a>=rt&&v===0&&f!=="miter"&&pO(t,e,S),o||(Jc(t,e,n,i,S,r),t.stroke())}class bO extends jr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Bw(r,{x:e,y:n}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,v=Ie(m,u-c),b=ja(o,c,u)&&c!==u,S=v>=gt||b,C=Yi(a,h+g,f+g);return S&&C}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:h}=this.options,f=(r+o)/2,m=(a+c+h+u)/2;return{x:n+Math.cos(f)*m,y:i+Math.sin(f)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>gt?Math.floor(i/gt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(rt,i||0)),h=r*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,vO(e,this,h,o,a),xO(e,this,h,o,a),e.restore()}}function vS(t,e,n=e){t.lineCap=Ie(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ie(n.borderDash,e.borderDash)),t.lineDashOffset=Ie(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ie(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ie(n.borderWidth,e.borderWidth),t.strokeStyle=Ie(n.borderColor,e.borderColor)}function wO(t,e,n){t.lineTo(n.x,n.y)}function SO(t){return t.stepped?VN:t.tension||t.cubicInterpolationMode==="monotone"?UN:wO}function xS(t,e,n={}){const i=t.length,{start:r=0,end:o=i-1}=n,{start:a,end:c}=e,u=Math.max(r,a),h=Math.min(o,c),f=r<a&&o<a||r>c&&o>c;return{count:i,start:u,loop:e.loop,ilen:h<u&&!f?i+h-u:h-u}}function CO(t,e,n,i){const{points:r,options:o}=e,{count:a,start:c,loop:u,ilen:h}=xS(r,n,i),f=SO(o);let{move:m=!0,reverse:g}=i||{},v,b,S;for(v=0;v<=h;++v)b=r[(c+(g?h-v:v))%a],!b.skip&&(m?(t.moveTo(b.x,b.y),m=!1):f(t,S,b,g,o.stepped),S=b);return u&&(b=r[(c+(g?h:0))%a],f(t,S,b,g,o.stepped)),!!u}function kO(t,e,n,i){const r=e.points,{count:o,start:a,ilen:c}=xS(r,n,i),{move:u=!0,reverse:h}=i||{};let f=0,m=0,g,v,b,S,C,k;const P=N=>(a+(h?c-N:N))%o,E=()=>{S!==C&&(t.lineTo(f,C),t.lineTo(f,S),t.lineTo(f,k))};for(u&&(v=r[P(0)],t.moveTo(v.x,v.y)),g=0;g<=c;++g){if(v=r[P(g)],v.skip)continue;const N=v.x,D=v.y,j=N|0;j===b?(D<S?S=D:D>C&&(C=D),f=(m*f+N)/++m):(E(),t.lineTo(N,D),b=j,m=0,S=C=D),k=D}E()}function Tf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?kO:CO}function _O(t){return t.stepped?bL:t.tension||t.cubicInterpolationMode==="monotone"?wL:as}function MO(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),vS(t,e.options),t.stroke(r)}function EO(t,e,n,i){const{segments:r,options:o}=e,a=Tf(e);for(const c of r)vS(t,o,c.style),t.beginPath(),a(t,e,c,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const TO=typeof Path2D=="function";function PO(t,e,n,i){TO&&!e.options.segment?MO(t,e,n,i):EO(t,e,n,i)}class fu extends jr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;hL(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=EL(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],o=this.points,a=rS(this,{property:n,start:r,end:r});if(!a.length)return;const c=[],u=_O(i);let h,f;for(h=0,f=a.length;h<f;++h){const{start:m,end:g}=a[h],v=o[m],b=o[g];if(v===b){c.push(v);continue}const S=Math.abs((r-v[n])/(b[n]-v[n])),C=u(v,b,S,i.stepped);C[n]=e[n],c.push(C)}return c.length===1?c[0]:c}pathSegment(e,n,i){return Tf(this)(e,this,n,i)}path(e,n,i){const r=this.segments,o=Tf(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const c of r)a&=o(e,this,c,{start:n,end:n+i-1});return!!a}draw(e,n,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),PO(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Cx(t,e,n,i){const r=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<r.radius+r.hitRadius}class DO extends jr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(e-o,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return Cx(this,e,"x",n)}inYRange(e,n){return Cx(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!Oa(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,_f(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function bS(t,e){const{x:n,y:i,base:r,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let c,u,h,f,m;return t.horizontal?(m=a/2,c=Math.min(n,r),u=Math.max(n,r),h=i-m,f=i+m):(m=o/2,c=n-m,u=n+m,h=Math.min(i,r),f=Math.max(i,r)),{left:c,top:h,right:u,bottom:f}}function Pr(t,e,n,i){return t?0:Kt(e,n,i)}function RO(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,o=Kw(i);return{t:Pr(r.top,o.top,0,n),r:Pr(r.right,o.right,0,e),b:Pr(r.bottom,o.bottom,0,n),l:Pr(r.left,o.left,0,e)}}function AO(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=io(r),a=Math.min(e,n),c=t.borderSkipped,u=i||We(r);return{topLeft:Pr(!u||c.top||c.left,o.topLeft,0,a),topRight:Pr(!u||c.top||c.right,o.topRight,0,a),bottomLeft:Pr(!u||c.bottom||c.left,o.bottomLeft,0,a),bottomRight:Pr(!u||c.bottom||c.right,o.bottomRight,0,a)}}function NO(t){const e=bS(t),n=e.right-e.left,i=e.bottom-e.top,r=RO(t,n/2,i/2),o=AO(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function zh(t,e,n,i){const r=e===null,o=n===null,c=t&&!(r&&o)&&bS(t,i);return c&&(r||Yi(e,c.left,c.right))&&(o||Yi(n,c.top,c.bottom))}function LO(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function jO(t,e){t.rect(e.x,e.y,e.w,e.h)}function Bh(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+o,h:t.h+a,radius:t.radius}}class OO extends jr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:a}=NO(this),c=LO(a.radius)?Xc:jO;e.save(),(a.w!==o.w||a.h!==o.h)&&(e.beginPath(),c(e,Bh(a,n,o)),e.clip(),c(e,Bh(o,-n,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,Bh(o,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return zh(this,e,n,i)}inXRange(e,n){return zh(this,e,null,n)}inYRange(e,n){return zh(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function FO(t,e,n){const i=t.segments,r=t.points,o=e.points,a=[];for(const c of i){let{start:u,end:h}=c;h=pu(u,h,r);const f=Pf(n,r[u],r[h],c.loop);if(!e.segments){a.push({source:c,target:f,start:r[u],end:r[h]});continue}const m=rS(e,f);for(const g of m){const v=Pf(n,o[g.start],o[g.end],g.loop),b=iS(c,r,v);for(const S of b)a.push({source:S,target:g,start:{[n]:kx(f,v,"start",Math.max)},end:{[n]:kx(f,v,"end",Math.min)}})}}return a}function Pf(t,e,n,i){if(i)return;let r=e[t],o=n[t];return t==="angle"&&(r=wn(r),o=wn(o)),{property:t,start:r,end:o}}function IO(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,o=[];return e.segments.forEach(({start:a,end:c})=>{c=pu(a,c,r);const u=r[a],h=r[c];i!==null?(o.push({x:u.x,y:i}),o.push({x:h.x,y:i})):n!==null&&(o.push({x:n,y:u.y}),o.push({x:n,y:h.y}))}),o}function pu(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function kx(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function wS(t,e){let n=[],i=!1;return At(t)?(i=!0,n=t):n=IO(t,e),n.length?new fu({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function _x(t){return t&&t.fill!==!1}function zO(t,e,n){let r=t[e].fill;const o=[e];let a;if(!n)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Xt(r))return r;if(a=t[r],!a)return!1;if(a.visible)return r;o.push(r),r=a.fill}return!1}function BO(t,e,n){const i=HO(t);if(We(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Xt(r)&&Math.floor(r)===r?VO(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function VO(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function UO(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:We(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function $O(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:We(t)?i=t.value:i=e.getBaseValue(),i}function HO(t){const e=t.options,n=e.fill;let i=Ie(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function WO(t){const{scale:e,index:n,line:i}=t,r=[],o=i.segments,a=i.points,c=GO(e,n);c.push(wS({x:null,y:e.bottom},i));for(let u=0;u<o.length;u++){const h=o[u];for(let f=h.start;f<=h.end;f++)YO(r,a[f],c)}return new fu({points:r,options:{}})}function GO(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function YO(t,e,n){const i=[];for(let r=0;r<n.length;r++){const o=n[r],{first:a,last:c,point:u}=KO(o,e,"x");if(!(!u||a&&c)){if(a)i.unshift(u);else if(t.push(u),!c)break}}t.push(...i)}function KO(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],o=t.segments,a=t.points;let c=!1,u=!1;for(let h=0;h<o.length;h++){const f=o[h],m=a[f.start][n],g=a[f.end][n];if(Yi(r,m,g)){c=r===m,u=r===g;break}}return{first:c,last:u,point:i}}class SS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:o,radius:a}=this;return n=n||{start:0,end:gt},e.arc(r,o,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,o=e.angle;return{x:n+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function XO(t){const{chart:e,fill:n,line:i}=t;if(Xt(n))return qO(e,n);if(n==="stack")return WO(t);if(n==="shape")return!0;const r=QO(t);return r instanceof SS?r:wS(r,i)}function qO(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function QO(t){return(t.scale||{}).getPointPositionForValue?ZO(t):JO(t)}function JO(t){const{scale:e={},fill:n}=t,i=UO(n,e);if(Xt(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function ZO(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,a=$O(n,e,o),c=[];if(i.grid.circular){const u=e.getPointPositionForValue(0,o);return new SS({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<r;++u)c.push(e.getPointPositionForValue(u,a));return c}function Vh(t,e,n){const i=XO(e),{chart:r,index:o,line:a,scale:c,axis:u}=e,h=a.options,f=h.fill,m=h.backgroundColor,{above:g=m,below:v=m}=f||{},b=r.getDatasetMeta(o),S=sS(r,b);i&&a.points.length&&(au(t,n),eF(t,{line:a,target:i,above:g,below:v,area:n,scale:c,axis:u,clip:S}),lu(t))}function eF(t,e){const{line:n,target:i,above:r,below:o,area:a,scale:c,clip:u}=e,h=n._loop?"angle":e.axis;t.save();let f=o;o!==r&&(h==="x"?(Mx(t,i,a.top),Uh(t,{line:n,target:i,color:r,scale:c,property:h,clip:u}),t.restore(),t.save(),Mx(t,i,a.bottom)):h==="y"&&(Ex(t,i,a.left),Uh(t,{line:n,target:i,color:o,scale:c,property:h,clip:u}),t.restore(),t.save(),Ex(t,i,a.right),f=r)),Uh(t,{line:n,target:i,color:f,scale:c,property:h,clip:u}),t.restore()}function Mx(t,e,n){const{segments:i,points:r}=e;let o=!0,a=!1;t.beginPath();for(const c of i){const{start:u,end:h}=c,f=r[u],m=r[pu(u,h,r)];o?(t.moveTo(f.x,f.y),o=!1):(t.lineTo(f.x,n),t.lineTo(f.x,f.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(m.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Ex(t,e,n){const{segments:i,points:r}=e;let o=!0,a=!1;t.beginPath();for(const c of i){const{start:u,end:h}=c,f=r[u],m=r[pu(u,h,r)];o?(t.moveTo(f.x,f.y),o=!1):(t.lineTo(n,f.y),t.lineTo(f.x,f.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(n,m.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Uh(t,e){const{line:n,target:i,property:r,color:o,scale:a,clip:c}=e,u=FO(n,i,r);for(const{source:h,target:f,start:m,end:g}of u){const{style:{backgroundColor:v=o}={}}=h,b=i!==!0;t.save(),t.fillStyle=v,tF(t,a,c,b&&Pf(r,m,g)),t.beginPath();const S=!!n.pathSegment(t,h);let C;if(b){S?t.closePath():Tx(t,i,g,r);const k=!!i.pathSegment(t,f,{move:S,reverse:!0});C=S&&k,C||Tx(t,i,m,r)}t.closePath(),t.fill(C?"evenodd":"nonzero"),t.restore()}}function tF(t,e,n,i){const r=e.chart.chartArea,{property:o,start:a,end:c}=i||{};if(o==="x"||o==="y"){let u,h,f,m;o==="x"?(u=a,h=r.top,f=c,m=r.bottom):(u=r.left,h=a,f=r.right,m=c),t.beginPath(),n&&(u=Math.max(u,n.left),f=Math.min(f,n.right),h=Math.max(h,n.top),m=Math.min(m,n.bottom)),t.rect(u,h,f-u,m-h),t.clip()}}function Tx(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var nF={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let o,a,c,u;for(a=0;a<i;++a)o=t.getDatasetMeta(a),c=o.dataset,u=null,c&&c.options&&c instanceof fu&&(u={visible:t.isDatasetVisible(a),index:a,fill:BO(c,a,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:c}),o.$filler=u,r.push(u);for(a=0;a<i;++a)u=r[a],!(!u||u.fill===!1)&&(u.fill=zO(r,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let a=r.length-1;a>=0;--a){const c=r[a].$filler;c&&(c.line.updateControlPoints(o,c.axis),i&&c.fill&&Vh(t.ctx,c,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;_x(o)&&Vh(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!_x(i)||n.drawTime!=="beforeDatasetDraw"||Vh(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Px=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},iF=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Dx extends jr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ct(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=fn(i.font),o=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=Px(i,o);let h,f;n.font=r.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(a,o,c,u)+10):(f=this.maxHeight,h=this._fitCols(a,r,c,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:o,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=r+c;let m=e;o.textAlign="left",o.textBaseline="middle";let g=-1,v=-f;return this.legendItems.forEach((b,S)=>{const C=i+n/2+o.measureText(b.text).width;(S===0||h[h.length-1]+C+2*c>a)&&(m+=f,h[h.length-(S>0?0:1)]=0,v+=f,g++),u[S]={left:0,top:v,row:g,width:C,height:r},h[h.length-1]+=C+c}),m}_fitCols(e,n,i,r){const{ctx:o,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=a-e;let m=c,g=0,v=0,b=0,S=0;return this.legendItems.forEach((C,k)=>{const{itemWidth:P,itemHeight:E}=rF(i,n,o,C,r);k>0&&v+E+2*c>f&&(m+=g+c,h.push({width:g,height:v}),b+=g+c,S++,g=v=0),u[k]={left:b,top:v,col:S,width:P,height:E},g=Math.max(g,P),v+=E+c}),m+=g,h.push({width:g,height:v}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:o}}=this,a=ro(o,this.left,this.width);if(this.isHorizontal()){let c=0,u=xn(i,this.left+r,this.right-this.lineWidths[c]);for(const h of n)c!==h.row&&(c=h.row,u=xn(i,this.left+r,this.right-this.lineWidths[c])),h.top+=this.top+e+r,h.left=a.leftForLtr(a.x(u),h.width),u+=h.width+r}else{let c=0,u=xn(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const h of n)h.col!==c&&(c=h.col,u=xn(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+r,h.left=a.leftForLtr(a.x(h.left),h.width),u+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;au(e,this),this._draw(),lu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:o,labels:a}=e,c=Ct.color,u=ro(e.rtl,this.left,this.width),h=fn(a.font),{padding:f}=a,m=h.size,g=m/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:b,boxHeight:S,itemHeight:C}=Px(a,m),k=function(j,T,A){if(isNaN(b)||b<=0||isNaN(S)||S<0)return;r.save();const V=Ie(A.lineWidth,1);if(r.fillStyle=Ie(A.fillStyle,c),r.lineCap=Ie(A.lineCap,"butt"),r.lineDashOffset=Ie(A.lineDashOffset,0),r.lineJoin=Ie(A.lineJoin,"miter"),r.lineWidth=V,r.strokeStyle=Ie(A.strokeStyle,c),r.setLineDash(Ie(A.lineDash,[])),a.usePointStyle){const G={radius:S*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:V},q=u.xPlus(j,b/2),B=T+g;Yw(r,G,q,B,a.pointStyleWidth&&b)}else{const G=T+Math.max((m-S)/2,0),q=u.leftForLtr(j,b),B=io(A.borderRadius);r.beginPath(),Object.values(B).some(ee=>ee!==0)?Xc(r,{x:q,y:G,w:b,h:S,radius:B}):r.rect(q,G,b,S),r.fill(),V!==0&&r.stroke()}r.restore()},P=function(j,T,A){Kc(r,A.text,j,T+C/2,h,{strikethrough:A.hidden,textAlign:u.textAlign(A.textAlign)})},E=this.isHorizontal(),N=this._computeTitleHeight();E?v={x:xn(o,this.left+f,this.right-i[0]),y:this.top+f+N,line:0}:v={x:this.left+f,y:xn(o,this.top+N+f,this.bottom-n[0].height),line:0},eS(this.ctx,e.textDirection);const D=C+f;this.legendItems.forEach((j,T)=>{r.strokeStyle=j.fontColor,r.fillStyle=j.fontColor;const A=r.measureText(j.text).width,V=u.textAlign(j.textAlign||(j.textAlign=a.textAlign)),G=b+g+A;let q=v.x,B=v.y;u.setWidth(this.width),E?T>0&&q+G+f>this.right&&(B=v.y+=D,v.line++,q=v.x=xn(o,this.left+f,this.right-i[v.line])):T>0&&B+D>this.bottom&&(q=v.x=q+n[v.line].width+f,v.line++,B=v.y=xn(o,this.top+N+f,this.bottom-n[v.line].height));const ee=u.x(q);if(k(ee,B,j),q=TN(V,q+b+g,E?q+G:this.right,e.rtl),P(u.x(q),B,j),E)v.x+=G+f;else if(typeof j.text!="string"){const Q=h.lineHeight;v.y+=CS(j,Q)+f}else v.y+=D}),tS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=fn(n.font),r=ri(n.padding);if(!n.display)return;const o=ro(e.rtl,this.left,this.width),a=this.ctx,c=n.position,u=i.size/2,h=r.top+u;let f,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+h,m=xn(e.align,m,this.right-g);else{const b=this.columnSizes.reduce((S,C)=>Math.max(S,C.height),0);f=h+xn(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const v=xn(c,m,m+g);a.textAlign=o.textAlign(Ww(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Kc(a,n.text,v,f,i)}_computeTitleHeight(){const e=this.options.title,n=fn(e.font),i=ri(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,o;if(Yi(e,this.left,this.right)&&Yi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Yi(e,r.left,r.left+r.width)&&Yi(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!aF(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=iF(r,i);r&&!o&&ct(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&ct(n.onHover,[e,i,this],this)}else i&&ct(n.onClick,[e,i,this],this)}}function rF(t,e,n,i,r){const o=sF(i,t,e,n),a=oF(r,i,e.lineHeight);return{itemWidth:o,itemHeight:a}}function sF(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((o,a)=>o.length>a.length?o:a)),e+n.size/2+i.measureText(r).width}function oF(t,e,n){let i=t;return typeof e.text!="string"&&(i=CS(e,n)),i}function CS(t,e){const n=t.text?t.text.length:0;return e*n}function aF(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var lF={id:"legend",_element:Dx,start(t,e,n){const i=t.legend=new Dx({ctx:t.ctx,options:n,chart:t});Tr.configure(t,i,n),Tr.addBox(t,i)},stop(t){Tr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Tr.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:a,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),f=ri(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:a&&(c||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const ua={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,o=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,a,c;for(o=0,a=t.length;o<a;++o){const u=t[o].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),f=Cf(e,h);f<r&&(r=f,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function fi(t,e){return e&&(At(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $i(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function cF(t,e){const{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:a,value:c}=o.getLabelAndValue(r);return{chart:t,label:a,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:c,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Rx(t,e){const n=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:a,boxHeight:c}=e,u=fn(e.bodyFont),h=fn(e.titleFont),f=fn(e.footerFont),m=o.length,g=r.length,v=i.length,b=ri(e.padding);let S=b.height,C=0,k=i.reduce((N,D)=>N+D.before.length+D.lines.length+D.after.length,0);if(k+=t.beforeBody.length+t.afterBody.length,m&&(S+=m*h.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),k){const N=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;S+=v*N+(k-v)*u.lineHeight+(k-1)*e.bodySpacing}g&&(S+=e.footerMarginTop+g*f.lineHeight+(g-1)*e.footerSpacing);let P=0;const E=function(N){C=Math.max(C,n.measureText(N).width+P)};return n.save(),n.font=h.string,tt(t.title,E),n.font=u.string,tt(t.beforeBody.concat(t.afterBody),E),P=e.displayColors?a+2+e.boxPadding:0,tt(i,N=>{tt(N.before,E),tt(N.lines,E),tt(N.after,E)}),P=0,n.font=f.string,tt(t.footer,E),n.restore(),C+=b.width,{width:C,height:S}}function uF(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function dF(t,e,n,i){const{x:r,width:o}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&r+o+a>e.width||t==="right"&&r-o-a<0)return!0}function hF(t,e,n,i){const{x:r,width:o}=n,{width:a,chartArea:{left:c,right:u}}=t;let h="center";return i==="center"?h=r<=(c+u)/2?"left":"right":r<=o/2?h="left":r>=a-o/2&&(h="right"),dF(h,t,e,n)&&(h="center"),h}function Ax(t,e,n){const i=n.yAlign||e.yAlign||uF(t,n);return{xAlign:n.xAlign||e.xAlign||hF(t,e,n,i),yAlign:i}}function fF(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function pF(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Nx(t,e,n,i){const{caretSize:r,caretPadding:o,cornerRadius:a}=t,{xAlign:c,yAlign:u}=n,h=r+o,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:v}=io(a);let b=fF(e,c);const S=pF(e,u,h);return u==="center"?c==="left"?b+=h:c==="right"&&(b-=h):c==="left"?b-=Math.max(f,g)+r:c==="right"&&(b+=Math.max(m,v)+r),{x:Kt(b,0,i.width-e.width),y:Kt(S,0,i.height-e.height)}}function yc(t,e,n){const i=ri(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Lx(t){return fi([],$i(t))}function mF(t,e,n){return ws(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function jx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const kS={beforeTitle:Bi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Bi,beforeBody:Bi,beforeLabel:Bi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ze(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bi,afterBody:Bi,beforeFooter:Bi,footer:Bi,afterFooter:Bi};function dn(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?kS[e].call(n,i):r}class Ox extends jr{static positioners=ua;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,o=new oS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=mF(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=dn(i,"beforeTitle",this,e),o=dn(i,"title",this,e),a=dn(i,"afterTitle",this,e);let c=[];return c=fi(c,$i(r)),c=fi(c,$i(o)),c=fi(c,$i(a)),c}getBeforeBody(e,n){return Lx(dn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return tt(e,o=>{const a={before:[],lines:[],after:[]},c=jx(i,o);fi(a.before,$i(dn(c,"beforeLabel",this,o))),fi(a.lines,dn(c,"label",this,o)),fi(a.after,$i(dn(c,"afterLabel",this,o))),r.push(a)}),r}getAfterBody(e,n){return Lx(dn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=dn(i,"beforeFooter",this,e),o=dn(i,"footer",this,e),a=dn(i,"afterFooter",this,e);let c=[];return c=fi(c,$i(r)),c=fi(c,$i(o)),c=fi(c,$i(a)),c}_createItems(e){const n=this._active,i=this.chart.data,r=[],o=[],a=[];let c=[],u,h;for(u=0,h=n.length;u<h;++u)c.push(cF(this.chart,n[u]));return e.filter&&(c=c.filter((f,m,g)=>e.filter(f,m,g,i))),e.itemSort&&(c=c.sort((f,m)=>e.itemSort(f,m,i))),tt(c,f=>{const m=jx(e.callbacks,f);r.push(dn(m,"labelColor",this,f)),o.push(dn(m,"labelPointStyle",this,f)),a.push(dn(m,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let o,a=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const c=ua[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=Rx(this,i),h=Object.assign({},c,u),f=Ax(this.chart,i,h),m=Nx(i,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const o=this.getCaretPosition(e,i,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=io(c),{x:g,y:v}=e,{width:b,height:S}=n;let C,k,P,E,N,D;return o==="center"?(N=v+S/2,r==="left"?(C=g,k=C-a,E=N+a,D=N-a):(C=g+b,k=C+a,E=N-a,D=N+a),P=C):(r==="left"?k=g+Math.max(u,f)+a:r==="right"?k=g+b-Math.max(h,m)-a:k=this.caretX,o==="top"?(E=v,N=E-a,C=k-a,P=k+a):(E=v+S,N=E+a,C=k+a,P=k-a),D=E),{x1:C,x2:k,x3:P,y1:E,y2:N,y3:D}}drawTitle(e,n,i){const r=this.title,o=r.length;let a,c,u;if(o){const h=ro(i.rtl,this.x,this.width);for(e.x=yc(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",a=fn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<o;++u)n.fillText(r[u],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===o&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,n,i,r,o){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:h}=o,f=fn(o.bodyFont),m=yc(this,"left",o),g=r.x(m),v=u<f.lineHeight?(f.lineHeight-u)/2:0,b=n.y+v;if(o.usePointStyle){const S={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=r.leftForLtr(g,h)+h/2,k=b+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,_f(e,S,C,k),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,_f(e,S,C,k)}else{e.lineWidth=We(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const S=r.leftForLtr(g,h),C=r.leftForLtr(r.xPlus(g,1),h-2),k=io(a.borderRadius);Object.values(k).some(P=>P!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Xc(e,{x:S,y:b,w:h,h:u,radius:k}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Xc(e,{x:C,y:b+1,w:h-2,h:u-2,radius:k}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,b,h,u),e.strokeRect(S,b,h,u),e.fillStyle=a.backgroundColor,e.fillRect(C,b+1,h-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:f}=i,m=fn(i.bodyFont);let g=m.lineHeight,v=0;const b=ro(i.rtl,this.x,this.width),S=function(A){n.fillText(A,b.x(e.x+v),e.y+g/2),e.y+=g+o},C=b.textAlign(a);let k,P,E,N,D,j,T;for(n.textAlign=a,n.textBaseline="middle",n.font=m.string,e.x=yc(this,C,i),n.fillStyle=i.bodyColor,tt(this.beforeBody,S),v=c&&C!=="right"?a==="center"?h/2+f:h+2+f:0,N=0,j=r.length;N<j;++N){for(k=r[N],P=this.labelTextColors[N],n.fillStyle=P,tt(k.before,S),E=k.lines,c&&E.length&&(this._drawColorBox(n,e,N,b,i),g=Math.max(m.lineHeight,u)),D=0,T=E.length;D<T;++D)S(E[D]),g=m.lineHeight;tt(k.after,S)}v=0,g=m.lineHeight,tt(this.afterBody,S),e.y-=o}drawFooter(e,n,i){const r=this.footer,o=r.length;let a,c;if(o){const u=ro(i.rtl,this.x,this.width);for(e.x=yc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=fn(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,c=0;c<o;++c)n.fillText(r[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:o,yAlign:a}=this,{x:c,y:u}=e,{width:h,height:f}=i,{topLeft:m,topRight:g,bottomLeft:v,bottomRight:b}=io(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+m,u),a==="top"&&this.drawCaret(e,n,i,r),n.lineTo(c+h-g,u),n.quadraticCurveTo(c+h,u,c+h,u+g),a==="center"&&o==="right"&&this.drawCaret(e,n,i,r),n.lineTo(c+h,u+f-b),n.quadraticCurveTo(c+h,u+f,c+h-b,u+f),a==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(c+v,u+f),n.quadraticCurveTo(c,u+f,c,u+f-v),a==="center"&&o==="left"&&this.drawCaret(e,n,i,r),n.lineTo(c,u+m),n.quadraticCurveTo(c,u,c+m,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const a=ua[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=Rx(this,e),u=Object.assign({},a,this._size),h=Ax(n,e,u),f=Nx(e,u,h,n);(r._to!==f.x||o._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=ri(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,n),eS(e,n.textDirection),o.y+=a.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),tS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:c,index:u})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),o=!Wc(i,r),a=this._positionChanged(r,n);(o||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],a=this._getActiveElements(e,o,n,i),c=this._positionChanged(a,e),u=n||!Wc(a,o)||c;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:r,options:o}=this,a=ua[o.position].call(this,e,n);return a!==!1&&(i!==a.x||r!==a.y)}}var gF={id:"tooltip",_element:Ox,positioners:ua,afterInit(t,e,n){n&&(t.tooltip=new Ox({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const yF=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function vF(t,e,n,i){const r=t.indexOf(e);if(r===-1)return yF(t,e,n,i);const o=t.lastIndexOf(e);return r!==o?n:r}const xF=(t,e)=>t===null?null:Kt(Math.round(t),0,e);function Fx(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class bF extends fo{static id="category";static defaults={ticks:{callback:Fx}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:o}of n)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Ze(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:vF(i,e,Ie(n,e),this._addedLabels),xF(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return Fx.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function wF(t,e){const n=[],{bounds:r,step:o,min:a,max:c,precision:u,count:h,maxTicks:f,maxDigits:m,includeBounds:g}=t,v=o||1,b=f-1,{min:S,max:C}=e,k=!Ze(a),P=!Ze(c),E=!Ze(h),N=(C-S)/(m+1);let D=Nv((C-S)/b/v)*v,j,T,A,V;if(D<1e-14&&!k&&!P)return[{value:S},{value:C}];V=Math.ceil(C/D)-Math.floor(S/D),V>b&&(D=Nv(V*D/b/v)*v),Ze(u)||(j=Math.pow(10,u),D=Math.ceil(D*j)/j),r==="ticks"?(T=Math.floor(S/D)*D,A=Math.ceil(C/D)*D):(T=S,A=C),k&&P&&o&&xN((c-a)/o,D/1e3)?(V=Math.round(Math.min((c-a)/D,f)),D=(c-a)/V,T=a,A=c):E?(T=k?a:T,A=P?c:A,V=h-1,D=(A-T)/V):(V=(A-T)/D,ba(V,Math.round(V),D/1e3)?V=Math.round(V):V=Math.ceil(V));const G=Math.max(Lv(D),Lv(T));j=Math.pow(10,Ze(u)?G:u),T=Math.round(T*j)/j,A=Math.round(A*j)/j;let q=0;for(k&&(g&&T!==a?(n.push({value:a}),T<a&&q++,ba(Math.round((T+q*D)*j)/j,a,Ix(a,N,t))&&q++):T<a&&q++);q<V;++q){const B=Math.round((T+q*D)*j)/j;if(P&&B>c)break;n.push({value:B})}return P&&g&&A!==c?n.length&&ba(n[n.length-1].value,c,Ix(c,N,t))?n[n.length-1].value=c:n.push({value:c}):(!P||A===c)&&n.push({value:A}),n}function Ix(t,e,{horizontal:n,minRotation:i}){const r=Gi(i),o=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class SF extends fo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const a=u=>r=n?r:u,c=u=>o=i?o:u;if(e){const u=vi(r),h=vi(o);u<0&&h<0?c(0):u>0&&h>0&&a(0)}if(r===o){let u=o===0?1:Math.abs(o*.05);c(o+u),e||a(r-u)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,a=wF(r,o);return e.bounds==="ticks"&&bN(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Ep(e,this.chart.options.locale,this.options.ticks.format)}}class CF extends SF{static id="linear";static defaults={ticks:{callback:Gw.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Xt(e)?e:0,this.max=Xt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Gi(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const mu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},hn=Object.keys(mu);function zx(t,e){return t-e}function Bx(t,e){if(Ze(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Xt(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(La(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,r)),+a)}function Vx(t,e,n,i){const r=hn.length;for(let o=hn.indexOf(t);o<r-1;++o){const a=mu[hn[o]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(c*a.size))<=i)return hn[o]}return hn[r-1]}function kF(t,e,n,i,r){for(let o=hn.length-1;o>=hn.indexOf(n);o--){const a=hn[o];if(mu[a].common&&t._adapter.diff(r,i,a)>=e-1)return a}return hn[n?hn.indexOf(n):0]}function _F(t){for(let e=hn.indexOf(t)+1,n=hn.length;e<n;++e)if(mu[hn[e]].common)return hn[e]}function Ux(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=_p(n,e),o=n[i]>=e?n[i]:n[r];t[o]=!0}}function MF(t,e,n,i){const r=t._adapter,o=+r.startOf(e[0].value,i),a=e[e.length-1].value;let c,u;for(c=o;c<=a;c=+r.add(c,1,i))u=n[c],u>=0&&(e[u].major=!0);return e}function $x(t,e,n){const i=[],r={},o=e.length;let a,c;for(a=0;a<o;++a)c=e[a],r[c]=a,i.push({value:c,major:!1});return o===0||!n?i:MF(t,i,r,n)}class Hx extends fo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new sj._date(e.adapters.date);r.init(n),xa(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Bx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function u(h){!a&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!c&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Xt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),o=Xt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,a=this.max,c=_N(r,o,a);return this._unit=n.unit||(i.autoSkip?Vx(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):kF(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:_F(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),$x(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Kt(n,0,a),i=Kt(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,o=r.time,a=o.unit||Vx(o.minUnit,n,i,this._getLabelCapacity(n)),c=Ie(r.ticks.stepSize,1),u=a==="week"?o.isoWeekday:!1,h=La(u)||u===!0,f={};let m=n,g,v;if(h&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,h?"day":a),e.diff(i,n,a)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+a);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(g=m,v=0;g<i;g=+e.add(g,c,a),v++)Ux(f,g,b);return(g===i||r.bounds==="ticks"||v===1)&&Ux(f,g,b),Object.keys(f).sort(zx).map(S=>+S)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,o=this._unit,a=n||r[o];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,r){const o=this.options,a=o.ticks.callback;if(a)return ct(a,[e,n,i],this);const c=o.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&c[u],m=h&&c[h],g=i[n],v=h&&m&&g&&g.major;return this._adapter.format(e,r||(v?m:f))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Gi(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),a=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,$x(this,[e],this._majorUnit),r),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Bx(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Uw(e.sort(zx))}}function vc(t,e,n){let i=0,r=t.length-1,o,a,c,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=ds(t,"pos",e)),{pos:o,time:c}=t[i],{pos:a,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=ds(t,"time",e)),{time:o,pos:c}=t[i],{time:a,pos:u}=t[r]);const h=a-o;return h?c+(u-c)*(e-o)/h:c}class M3 extends Hx{static id="timeseries";static defaults=Hx.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=vc(n,this.min),this._tableRange=vc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],o=[];let a,c,u,h,f;for(a=0,c=e.length;a<c;++a)h=e[a],h>=n&&h<=i&&r.push(h);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,c=r.length;a<c;++a)f=r[a+1],u=r[a-1],h=r[a],Math.round((f+u)/2)!==h&&o.push({time:h,pos:a/(c-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(vc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return vc(this._table,i*this._tableRange+this._minPos,!0)}}const _S="label";function Wx(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function EF(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function MS(t,e){t.labels=e}function ES(t,e,n=_S){const i=[];t.datasets=e.map(r=>{const o=t.datasets.find(a=>a[n]===r[n]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function TF(t,e=_S){const n={labels:[],datasets:[]};return MS(n,t.labels),ES(n,t.datasets,e),n}function PF(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:a,data:c,options:u,plugins:h=[],fallbackContent:f,updateMode:m,...g}=t,v=M.useRef(null),b=M.useRef(null),S=()=>{v.current&&(b.current=new hu(v.current,{type:a,data:TF(c,o),options:u&&{...u},plugins:h}),Wx(e,b.current))},C=()=>{Wx(e,null),b.current&&(b.current.destroy(),b.current=null)};return M.useEffect(()=>{!r&&b.current&&u&&EF(b.current,u)},[r,u]),M.useEffect(()=>{!r&&b.current&&MS(b.current.config.data,c.labels)},[r,c.labels]),M.useEffect(()=>{!r&&b.current&&c.datasets&&ES(b.current.config.data,c.datasets,o)},[r,c.datasets]),M.useEffect(()=>{b.current&&(r?(C(),setTimeout(S)):b.current.update(m))},[r,u,c.labels,c.datasets,m]),M.useEffect(()=>{b.current&&(C(),setTimeout(S))},[a]),M.useEffect(()=>(S(),()=>C()),[]),w.jsx("canvas",{ref:v,role:"img",height:n,width:i,...g,children:f})}const DF=M.forwardRef(PF);function jp(t,e){return hu.register(e),M.forwardRef((n,i)=>w.jsx(DF,{...n,ref:i,type:t}))}const RF=jp("line",rj),AF=jp("bar",tj),NF=jp("doughnut",ij);hu.register(bF,CF,DO,fu,OO,bO,gF,lF,nF);const $h=new Map;function Rr(t){if($h.has(t))return $h.get(t)??null;if(typeof document>"u")return null;const e=document.createElement("span");e.className=`${t} pointer-events-none fixed -left-[9999px] -top-[9999px]`,e.textContent=".",document.body.appendChild(e);const n=getComputedStyle(e).color;return e.remove(),$h.set(t,n),n}function ps(t,e){if(!t)return`rgba(99, 102, 241, ${e})`;const n=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9.]+))?\)/i);if(!n)return t;const i=Number(n[1]),r=Number(n[2]),o=Number(n[3]);return`rgba(${i}, ${r}, ${o}, ${e})`}function Gx(t,e,n){return Math.max(e,Math.min(n,t))}function LF(t){if(!t)return null;const e=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)/i);return e?{r:Number(e[1]),g:Number(e[2]),b:Number(e[3])}:null}function jF(t,e,n){t/=255,e/=255,n/=255;const i=Math.max(t,e,n),r=Math.min(t,e,n);let o=0,a=0;const c=(i+r)/2;if(i!==r){const u=i-r;switch(a=c>.5?u/(2-i-r):u/(i+r),i){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;default:o=(t-e)/u+4}o/=6}return{h:o,s:a,l:c}}function OF(t,e,n){const i=(c,u,h)=>(h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?c+(u-c)*6*h:h<.5?u:h<.6666666666666666?c+(u-c)*(.6666666666666666-h)*6:c);let r,o,a;if(e===0)r=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;r=i(u,c,t+1/3),o=i(u,c,t),a=i(u,c,t-1/3)}return{r:Math.round(r*255),g:Math.round(o*255),b:Math.round(a*255)}}function Yx(t,e,n,i){const r=LF(t);if(!r||n<=1)return ps(t,i);const{h:o,s:a,l:c}=jF(r.r,r.g,r.b),u=n<=1?0:e/(n-1),h=Gx(c-.18+u*.3,.16,.82),f=Gx(a*(.92+u*.1),.18,1),m=OF(o,f,h);return`rgba(${m.r}, ${m.g}, ${m.b}, ${i})`}function FF({labels:t,values:e,height:n=224,formatValue:i,ariaLabel:r="Line chart"}){const o=Rr("text-indigo-500"),a=Rr("text-slate-200 dark:text-slate-700"),c=Rr("text-slate-500 dark:text-slate-400"),u=M.useMemo(()=>({labels:t,datasets:[{label:r,data:e,borderColor:o??"rgb(99, 102, 241)",backgroundColor:ps(o,.16),fill:!0,tension:.35,pointRadius:f=>f.dataIndex===e.length-1?4:3,pointHoverRadius:6,pointBackgroundColor:o??"rgb(99, 102, 241)",pointBorderWidth:0}]}),[r,o,t,e]),h=M.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>{const m=typeof f.parsed?.y=="number"?f.parsed.y:Number(f.raw);return i?i(m):String(m)}}}},scales:{x:{grid:{color:ps(a,.35)},ticks:{color:c??void 0,maxTicksLimit:6}},y:{grid:{color:ps(a,.65)},ticks:{color:c??void 0,maxTicksLimit:6,callback:f=>{const m=typeof f=="number"?f:Number(f);return i?i(m):String(f)}}}}}),[i,a,c]);return w.jsx("div",{className:"w-full",style:{height:n},children:w.jsx(RF,{"aria-label":r,role:"img",data:u,options:h})})}function Kx({items:t,formatValue:e,colorClassName:n="text-emerald-500"}){const i=Rr(n),r=Rr("text-slate-200 dark:text-slate-700"),o=Rr("text-slate-500 dark:text-slate-400"),a=Math.max(220,t.length*34),c=M.useMemo(()=>{const h=t.map((m,g)=>Yx(i,g,t.length,.92)),f=t.map((m,g)=>Yx(i,g,t.length,1));return{labels:t.map(m=>m.label),datasets:[{label:"Value",data:t.map(m=>m.value),borderRadius:8,backgroundColor:h,hoverBackgroundColor:f}]}},[i,t]),u=M.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{callbacks:{label:h=>{const f=typeof h.parsed?.x=="number"?h.parsed.x:Number(h.raw);return e?e(f):String(f)}}}},scales:{x:{grid:{color:ps(r,.55)},ticks:{color:o??void 0,callback:h=>{const f=typeof h=="number"?h:Number(h);return e?e(f):String(h)}}},y:{grid:{display:!1},ticks:{color:o??void 0}}}}),[e,r,o]);return w.jsx("div",{className:"w-full",style:{height:a},children:w.jsx(AF,{role:"img",data:c,options:u})})}const xc=["text-indigo-500","text-emerald-500","text-rose-500","text-amber-500","text-sky-500","text-violet-500"];function IF({segments:t,formatValue:e,ariaLabel:n="Pie chart"}){const i=t.reduce((h,f)=>h+(Number.isFinite(f.value)?f.value:0),0);if(i<=0)return w.jsx("div",{className:"text-sm text-slate-500",children:"No hay datos para graficar."});const r=t.filter(h=>Number.isFinite(h.value)&&h.value>0),o=r.map((h,f)=>{const m=h.className??xc[f%xc.length];return Rr(m)??void 0}),a=Rr("text-slate-500 dark:text-slate-400"),c=M.useMemo(()=>({labels:r.map(h=>h.label),datasets:[{data:r.map(h=>h.value),backgroundColor:o.map(h=>ps(h??null,.9)),borderColor:o.map(h=>ps(h??null,1)),borderWidth:0,hoverOffset:6,cutout:"62%"}]}),[o,r]),u=M.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:h=>{const f=typeof h.parsed=="number"?h.parsed:Number(h.raw);return`${h.label?`${h.label}: `:""}${e?e(f):String(f)}`}}}}}),[e]);return w.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-6",children:[w.jsx("div",{className:"h-56 w-56",children:w.jsx(NF,{"aria-label":n,role:"img",data:c,options:u})}),w.jsx("div",{className:"w-full space-y-2",children:r.map((h,f)=>{const m=Math.round(h.value/i*100),g=h.className??xc[f%xc.length];return w.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[w.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[w.jsx("span",{className:`h-2 w-2 flex-none rounded-full ${g} bg-current`}),w.jsx("span",{className:"truncate font-semibold",children:h.label})]}),w.jsxs("div",{className:"flex-none text-right text-slate-700 dark:text-slate-200",children:[w.jsx("div",{className:"text-sm font-semibold",children:e?e(h.value):h.value.toFixed(2)}),w.jsxs("div",{className:"text-xs",style:{color:a??void 0},children:[m,"%"]})]})]},`${h.label}-legend`)})})]})}const zF="modulepreload",BF=function(t,e){return new URL(t,e).href},Xx={},VF=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let h=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");r=h(n.map(f=>{if(f=BF(f,i),f in Xx)return;Xx[f]=!0;const m=f.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(i)for(let b=a.length-1;b>=0;b--){const S=a[b];if(S.href===f&&(!m||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":zF,m||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),m)return new Promise((b,S)=>{v.addEventListener("load",b),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return r.then(a=>{for(const c of a||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function UF(t,e){const n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),n.remove()}async function bc(t,e){const{default:n}=await VF(async()=>{const{default:c}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:c}},[],import.meta.url),i=Math.max(1,window.devicePixelRatio||1),o=typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)")?.matches?"#020617":"#ffffff",a=await n(t,{backgroundColor:o,scale:i,useCORS:!0});UF(a.toDataURL("image/png"),e)}function wc(t,e){const n=t.map(a=>a.map(c=>`"${String(c).replace(/"/g,'""')}"`).join(",")).join(`
`),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(r)}const vs=[{code:"USD",symbol:"$",names:{es:"Dlar estadounidense",en:"US Dollar"}},{code:"EUR",symbol:"",names:{es:"Euro",en:"Euro"}},{code:"GBP",symbol:"",names:{es:"Libra esterlina",en:"Pound Sterling"}},{code:"JPY",symbol:"",names:{es:"Yen japons",en:"Japanese Yen"}},{code:"AUD",symbol:"A$",names:{es:"Dlar australiano",en:"Australian Dollar"}},{code:"CAD",symbol:"C$",names:{es:"Dlar canadiense",en:"Canadian Dollar"}},{code:"CHF",symbol:"CHF",names:{es:"Franco suizo",en:"Swiss Franc"}},{code:"CNY",symbol:"",names:{es:"Yuan chino",en:"Chinese Yuan"}},{code:"MXN",symbol:"MX$",names:{es:"Peso mexicano",en:"Mexican Peso"}},{code:"BRL",symbol:"R$",names:{es:"Real brasileo",en:"Brazilian Real"}}],qx={},po=t=>(t||"").toString().trim().toUpperCase();function Qx(t){const e=po(t);if(e.length===3&&/^[A-Z]{3}$/.test(e))return e;const n=String(t||"").trim(),i=vs.find(r=>r.symbol===n);return i?i.code:e}function mi(t,e){const n=String(e||"").trim(),i=po(n),r=vs.find(c=>c.code===i);return r?`${r.symbol}${t.toFixed(2)}`:`${/[^A-Z]/i.test(n)||n.length<=2?n:`${n} `}${t.toFixed(2)}`}const TS="fx_rates_",$F=1e3*60*60*12,Sc={};function PS(t){try{const e=localStorage.getItem(TS+po(t));return e?JSON.parse(e):null}catch{return null}}function HF(t,e){try{const n={ts:Date.now(),rates:e};localStorage.setItem(TS+po(t),JSON.stringify(n))}catch{}}async function WF(t){const e=po(t),n=typeof import.meta<"u"?qx?.VITE_EXCHANGE_API_URL:void 0,i=typeof import.meta<"u"?qx?.VITE_EXCHANGE_API_KEY:void 0,r=typeof window<"u"?localStorage.getItem("exchange_api_key"):void 0,o=i??r??void 0,a=3,c=500,u=async(m,g)=>{for(let v=1;v<=a;v++)try{const b=await fetch(m,{headers:g});if(!b.ok){if(v===a)return null;await new Promise(S=>setTimeout(S,c*v));continue}return await b.json()}catch{if(v===a)return null;await new Promise(b=>setTimeout(b,c*v))}return null},h=m=>{const g=m.includes("?")?"&":"?";let v=m;const b=/exchangerate\.host\/live/.test(m),S=/exchangerate\.host\/latest/.test(m);if(/open\.er-api\.com\/v6\/latest\//.test(m))return v=`https://open.er-api.com/v6/latest/${encodeURIComponent(e)}`,{url:v,headers:void 0,isLive:!1};const k={};if(b){v+=`${g}source=${encodeURIComponent(e)}`;const P=vs.map(E=>E.code).filter(E=>E!==e);v+=`&currencies=${encodeURIComponent(P.join(","))}`,v+="&format=1"}else v+=`${g}base=${encodeURIComponent(e)}`;if(o){const P=m.includes("exchangerate.host");P&&S||(P&&b?v+=`&access_key=${encodeURIComponent(o)}`:m.includes("apilayer")?(v+=`&access_key=${encodeURIComponent(o)}`,k.apikey=o):m.includes("openexchangerates")?v+=`&app_id=${encodeURIComponent(o)}`:v+=`&access_key=${encodeURIComponent(o)}`)}return{url:v,headers:k,isLive:b}},f=n&&n.length>0?[n]:["https://api.exchangerate.host/latest","https://open.er-api.com/v6/latest/"];for(const m of f){const{url:g,headers:v,isLive:b}=h(m),S=await u(g,v);if(S){if(b&&S&&typeof S.quotes=="object"){const C={};for(const k of Object.keys(S.quotes))if(k.startsWith(e)){const P=k.slice(e.length);C[P]=Number(S.quotes[k])}if(Object.keys(C).length>0)return C}if(S&&S.rates&&typeof S.rates=="object")return S.rates}}return null}async function GF(t,e){if(typeof window>"u")return null;const n=po(t),i=PS(n);if(i&&Date.now()-i.ts<$F)return i.rates;if(Sc[n])return Sc[n];const r=(async()=>{try{const o=await WF(n);return o?(HF(n,o),o):i?i.rates:null}finally{delete Sc[n]}})();return Sc[n]=r,r}function Wi(t,e,n){const i=Qx(e),r=Qx(n);if(!i||i===r)return t;if(typeof window<"u")try{const h=PS(r);if(h&&h.rates&&h.rates[i])return t/h.rates[i]}catch{}const o={EUR:1,USD:1.05,GBP:.88,CAD:1.42},a=o[i]??1,c=o[r]??1;return t/a*c}function Vn({children:t,className:e="",colors:n=["#5227FF","#FF9FFC","#B19EEF"],animationSpeed:i=8,showBorder:r=!1,direction:o="horizontal",pauseOnHover:a=!1,yoyo:c=!0}){const[u,h]=M.useState(!1),f=Tw(0),m=M.useRef(0),g=M.useRef(null),v=i*1e3;bA(N=>{if(u){g.current=null;return}if(g.current===null){g.current=N;return}const D=N-g.current;if(g.current=N,m.current+=D,c){const j=v*2,T=m.current%j;T<v?f.set(T/v*100):f.set(100-(T-v)/v*100)}else f.set(m.current/v*100)}),M.useEffect(()=>{m.current=0,f.set(0),g.current=null},[i,f,c]);const b=xA(f,N=>o==="horizontal"?`${N}% 50%`:o==="vertical"?`50% ${N}%`:`${N}% 50%`),S=M.useCallback(()=>{a&&h(!0)},[a]),C=M.useCallback(()=>{a&&h(!1)},[a]),k=o==="horizontal"?"to right":o==="vertical"?"to bottom":"to bottom right",P=[...n,n[0]].join(", "),E={backgroundImage:`linear-gradient(${k}, ${P})`,backgroundSize:o==="horizontal"?"300% 100%":o==="vertical"?"100% 300%":"300% 300%",backgroundRepeat:"repeat"};return w.jsxs(Xi.span,{className:`animated-gradient-text ${r?"with-border":""} ${e}`,onMouseEnter:S,onMouseLeave:C,children:[r&&w.jsx(Xi.span,{className:"gradient-overlay",style:{...E,backgroundPosition:b}}),w.jsx(Xi.span,{className:"text-content",style:{...E,backgroundPosition:b},children:t})]})}function Ks(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function DS(t){return t.period==="monthly"?1:t.period==="quarterly"?3:t.period==="semiannual"?6:12}function YF(t){const e=DS(t);return Number.isFinite(t.price)?t.price*12/e:0}function KF(t){const[e,n,i]=String(t).split("-").map(Number),r=new Date(e,(n??1)-1,i??1);return Number.isNaN(r.getTime())?null:r}function Jx(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function XF(t,e,n,i){const r=KF(t);if(!r)return[];let o=new Date(r);for(;o.getTime()<n.getTime();)o=Jx(o,e);const a=[];for(;o.getTime()<=i.getTime();)a.push(new Date(o)),o=Jx(o,e);return a}function Zx(){const{state:t}=Xa(),{t:e,language:n}=ho(),i=t.settings.currencyDisplayMode??"original",r=(t.settings.baseCurrency||"USD").toUpperCase(),[o,a]=M.useState(0),[c,u]=M.useState("idle");M.useEffect(()=>{if(i!=="convertToBase")return;let E=!1;return u("loading"),(async()=>{const N=await GF(r);E||(N?(u("ready"),a(D=>D+1)):u("unavailable"))})(),()=>{E=!0}},[r,i]),M.useEffect(()=>{i!=="convertToBase"&&u("idle")},[i]);const h=M.useRef(new Map),f=E=>N=>{N?h.current.set(E,N):h.current.delete(E)},m=M.useMemo(()=>i==="convertToBase"?[r]:Array.from(new Set(t.subscriptions.map(E=>(E.currency||"USD").toUpperCase()))).sort((E,N)=>E.localeCompare(N)),[r,i,t.subscriptions]),g=M.useMemo(()=>{const E=new Map;for(const N of t.subscriptions){const D=(N.currency||"USD").toUpperCase(),j=i==="convertToBase"?r:D,T=i==="convertToBase"?Wi(Ks(N),D,r):Ks(N),A=E.get(j)??0;E.set(j,A+T)}return Array.from(E.entries()).sort((N,D)=>N[0].localeCompare(D[0]))},[r,i,o,t.subscriptions]),v=M.useMemo(()=>{const E=new Date,N=7,D=new Date(E);D.setDate(D.getDate()+N);const j=new Map,T=new Map,A=new Map,V=new Map,G=new Map;for(const ee of t.subscriptions){const Q=(ee.currency||"USD").toUpperCase(),ne=i==="convertToBase"?r:Q,le=i==="convertToBase"?Wi(Ks(ee),Q,r):Ks(ee);j.set(ne,(j.get(ne)??0)+le),T.set(ne,(T.get(ne)??0)+1),Hc(ee.startDate,ee.period,E).getTime()<=D.getTime()&&A.set(ne,(A.get(ne)??0)+1);const H=V.get(ne);(!H||le>H.value)&&V.set(ne,{name:ee.name,value:le});const Z=(ee.category||"").trim()||(e("common.uncategorized")??"Sin categora");G.has(ne)||G.set(ne,new Map);const J=G.get(ne);J.set(Z,(J.get(Z)??0)+le)}const q=new Map,B=new Set([...j.keys(),...T.keys()]);for(const ee of B){const Q=T.get(ee)??0,ne=j.get(ee)??0,le=Q>0?ne/Q:0,te=A.get(ee)??0,H=V.get(ee)??null,Z=G.get(ee);let J=null;if(Z&&ne>0){let O=null;for(const[K,de]of Z.entries())(!O||de>O.value)&&(O={label:K,value:de});O&&(J={label:O.label,value:O.value,pct:Math.round(O.value/ne*100)})}q.set(ee,{count:Q,monthlyTotal:ne,avgMonthly:le,dueSoonCount:te,highest:H,topCategory:J,windowDays:N})}return q},[r,i,o,t.subscriptions,e]),b=M.useMemo(()=>{const E=new Date;return t.subscriptions.map(D=>({s:D,next:Hc(D.startDate,D.period,E)})).sort((D,j)=>D.next.getTime()-j.next.getTime()).slice(0,5)},[t.subscriptions]),S=M.useMemo(()=>{const E=new Date,N=Array.from({length:12},(T,A)=>new Date(E.getFullYear(),E.getMonth()-(11-A),1)),D=N.map(T=>T.toLocaleString(n==="es"?"es-ES":"en-US",{month:"short"})),j=new Map;for(const T of m)j.set(T,Array.from({length:12},()=>0));for(const T of t.subscriptions){const A=(T.currency||"USD").toUpperCase(),V=i==="convertToBase"?r:A;j.has(V)||j.set(V,Array.from({length:12},()=>0));const G=DS(T);for(let q=0;q<N.length;q++){const B=N[q],ee=new Date(B.getFullYear(),B.getMonth()+1,0,23,59,59,999),Q=XF(T.startDate,G,B,ee);if(!Q.length)continue;const ne=j.get(V),le=T.price*Q.length;ne[q]+=i==="convertToBase"?Wi(le,A,r):le}}return{labels:D,byCurrency:j}},[r,m,i,o,t.subscriptions]),C=M.useMemo(()=>{const E=new Map;for(const N of t.subscriptions){const D=(N.currency||"USD").toUpperCase(),j=i==="convertToBase"?r:D,T=E.get(j)??[],A=YF(N);T.push({label:N.name,value:i==="convertToBase"?Wi(A,D,r):A}),E.set(j,T)}for(const[N,D]of E.entries())E.set(N,D.sort((j,T)=>T.value-j.value).slice(0,6));return E},[r,i,o,t.subscriptions]),k=M.useMemo(()=>{const E=new Map;for(const N of t.subscriptions){const D=(N.currency||"USD").toUpperCase(),j=i==="convertToBase"?r:D,T=E.get(j)??[],A=Ks(N);T.push({label:N.name,value:i==="convertToBase"?Wi(A,D,r):A}),E.set(j,T)}for(const[N,D]of E.entries()){const j=D.sort((q,B)=>B.value-q.value),T=j.slice(0,5),V=j.slice(5).reduce((q,B)=>q+B.value,0),G=V>0?[...T,{label:e("common.other")??"Otros",value:V}]:T;E.set(N,G)}return E},[r,i,o,t.subscriptions,e]),P=M.useMemo(()=>{const E=new Map;for(const D of t.subscriptions){const j=(D.currency||"USD").toUpperCase(),T=i==="convertToBase"?r:j,A=(D.category||"").trim()||(e("common.uncategorized")??"Sin categora");E.has(T)||E.set(T,new Map);const V=E.get(T),G=Ks(D),q=i==="convertToBase"?Wi(G,j,r):G;V.set(A,(V.get(A)??0)+q)}const N=new Map;for(const[D,j]of E.entries()){const A=Array.from(j.entries()).map(([V,G])=>({label:V,value:G})).sort((V,G)=>G.value-V.value).slice(0,7);N.set(D,A)}return N},[r,i,o,t.subscriptions,e]);return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[w.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:w.jsx(Vn,{children:e("dashboard.monthlySpendTitle")??"Gasto mensual (equivalente)"})}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.length===0?w.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noSubscriptionsYet")??"Sin suscripciones an."}):g.map(([E,N])=>w.jsx("div",{className:"rounded-lg bg-slate-100 px-3 py-2 text-sm font-semibold dark:bg-slate-800",children:mi(N,E)},E))}),i==="convertToBase"?w.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:[e("dashboard.fxRatesLabel")??"FX rates",": ",c==="loading"?e("dashboard.fxUpdating")??"actualizando":c==="ready"?e("dashboard.fxReady")??"reales (cacheadas)":c==="unavailable"?e("dashboard.fxUnavailable")??"no disponibles (fallback)":e("dashboard.fxIdle")??""]}):null]}),w.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[w.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:w.jsx(Vn,{children:e("dashboard.upcomingRenewalsTitle")??"Prximas renovaciones"})}),w.jsx("div",{className:"mt-2 space-y-2",children:b.length===0?w.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noDataYet")??"No hay datos todava."}):b.map(({s:E,next:N})=>w.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg bg-slate-50 px-3 py-2 text-sm dark:bg-slate-800/60",children:[w.jsx("div",{className:"font-semibold",children:E.name}),w.jsx("div",{className:"text-slate-600 dark:text-slate-300",children:N.toLocaleDateString(n==="es"?"es-ES":"en-US")})]},E.id))})]}),w.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[w.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:w.jsx(Vn,{children:e("dashboard.chartsTitle")??"Grficos"})}),t.subscriptions.length===0?w.jsx("div",{className:"mt-2 text-sm text-slate-500",children:e("dashboard.addSubsToSeeCharts")??"Aade suscripciones para ver grficos."}):w.jsx("div",{className:"mt-3 space-y-4",children:m.map(E=>{const N=S.byCurrency.get(E)??[],D=C.get(E)??[],j=P.get(E)??[],T=k.get(E)??[];return w.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 dark:bg-slate-800/60",children:[w.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:e("dashboard.currencyLabel",{cur:E})??`Moneda: ${E}`}),(()=>{const A=v.get(E);return A?w.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-4",children:[w.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[w.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiSubscriptions")??"Suscripciones"}),w.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.count})]}),w.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[w.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiAvgMonthly")??"Media mensual"}),w.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:mi(A.avgMonthly,E)})]}),w.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[w.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiDueSoon",{days:A.windowDays})??`Vencen ( ${A.windowDays}d)`}),w.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.dueSoonCount})]}),w.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[w.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiTopCategory")??"Top categora"}),w.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.topCategory?`${A.topCategory.label}  ${A.topCategory.pct}%`:e("common.none")??""})]})]}):null})(),w.jsxs("div",{className:"mt-3 space-y-3",children:[w.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[w.jsxs("div",{className:"flex items-center justify-between gap-3",children:[w.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:w.jsx(Vn,{children:e("dashboard.projectionTitle")??"Proyeccin mensual (ltimos 12 meses)"})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=h.current.get(`${E}:line`);A&&bc(A,`monthly-${E}.png`)},children:"PNG"}),w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvMonth")??"Month",e("dashboard.csvAmount")??"Amount",e("dashboard.csvCurrency")??"Currency"]];for(let V=0;V<S.labels.length;V++)A.push([S.labels[V],N[V]??0,E]);wc(A,`monthly-${E}.csv`)},children:"CSV"})]})]}),w.jsx("div",{ref:f(`${E}:line`),className:"mt-2",children:w.jsx(FF,{ariaLabel:`Proyeccin mensual ${E}`,labels:S.labels,values:N,formatValue:A=>mi(A,E)})})]}),w.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[w.jsxs("div",{className:"flex items-center justify-between gap-3",children:[w.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:w.jsx(Vn,{children:e("dashboard.annualTopTitle")??"Top gasto anual (estimado)"})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=h.current.get(`${E}:bar`);A&&bc(A,`annual-top-${E}.png`)},children:"PNG"}),w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvName")??"Name",e("dashboard.csvAnnualAmount")??"AnnualAmount",e("dashboard.csvCurrency")??"Currency"]];for(const V of D)A.push([V.label,V.value,E]);wc(A,`annual-top-${E}.csv`)},children:"CSV"})]})]}),w.jsx("div",{ref:f(`${E}:bar`),className:"mt-3",children:D.length===0?w.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):w.jsx(Kx,{items:D,colorClassName:"text-indigo-500",formatValue:A=>mi(A,E)})})]}),w.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[w.jsxs("div",{className:"flex items-center justify-between gap-3",children:[w.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:w.jsx(Vn,{children:e("dashboard.monthlyByCategoryTitle")??"Gasto mensual por categora (equivalente)"})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=h.current.get(`${E}:cat`);A&&bc(A,`categories-${E}.png`)},children:"PNG"}),w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvCategory")??"Category",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const V of j)A.push([V.label,V.value,E]);wc(A,`categories-${E}.csv`)},children:"CSV"})]})]}),w.jsx("div",{ref:f(`${E}:cat`),className:"mt-3",children:j.length===0?w.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):w.jsx(Kx,{items:j,colorClassName:"text-sky-500",formatValue:A=>mi(A,E)})})]}),w.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[w.jsxs("div",{className:"flex items-center justify-between gap-3",children:[w.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:w.jsx(Vn,{children:e("dashboard.distributionTitle")??"Distribucin (gasto mensual equivalente)"})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=h.current.get(`${E}:pie`);A&&bc(A,`distribution-${E}.png`)},children:"PNG"}),w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvName")??"Name",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const V of T)A.push([V.label,V.value,E]);wc(A,`distribution-${E}.csv`)},children:"CSV"})]})]}),w.jsx("div",{ref:f(`${E}:pie`),className:"mt-2",children:w.jsx(IF,{segments:T,formatValue:A=>mi(A,E)})})]})]})]},E)})})]})]})}function eb(t){return String(t).padStart(2,"0")}function RS(t){const e=t.getFullYear(),n=eb(t.getMonth()+1),i=eb(t.getDate());return`${e}-${n}-${i}`}function qF(t){switch(t){case"monthly":return"RRULE:FREQ=MONTHLY";case"quarterly":return"RRULE:FREQ=MONTHLY;INTERVAL=3";case"semiannual":return"RRULE:FREQ=MONTHLY;INTERVAL=6";case"annual":return"RRULE:FREQ=YEARLY"}}function AS(){return typeof chrome<"u"&&!!chrome.identity}async function Op(t){if(!AS())throw new Error("Google Calendar sync requires Chrome Extension environment.");return await new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},i=>{const r=chrome.runtime.lastError;if(r){n(new Error(r.message||"OAuth token error"));return}if(!i){n(new Error("No OAuth token received"));return}e(i)})})}async function Fp(t){AS()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function so(t){const e=`https://www.googleapis.com/calendar/v3${t.path}`,n=await fetch(e,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.body?{"Content-Type":"application/json"}:{}},body:t.body?JSON.stringify(t.body):void 0});if(n.status===204)return;const i=await n.text();if(!n.ok){const r=i||`${n.status} ${n.statusText}`,o=new Error(r);throw o.status=n.status,o.body=i,o}return i?JSON.parse(i):void 0}function Df(t){if(!t||typeof t!="object")return;const e=t.status;return typeof e=="number"?e:void 0}function NS(t){return t===401||t===403}function QF(t){if(!Number.isFinite(t))return 0;const n=Math.trunc(t);return n<0?0:n>40320?40320:n}async function Hh(t){const e=t.calendarId??"primary",n=t.interactive??!0;let i=t.token;i||(i=await Op(n));const[r,o,a]=t.startDateYmd.split("-").map(Number),c=new Date(r,(o??1)-1,a??1),u=new Date(c);u.setDate(u.getDate()+1);const h=typeof t.reminderMinutes=="number"?QF(t.reminderMinutes):void 0,f=t.reminderMethod==="email"?"email":"popup",m={summary:t.summary,description:t.description,start:{date:t.startDateYmd},end:{date:RS(u)},recurrence:[qF(t.period)],...h===void 0?{}:{reminders:h>0?{useDefault:!1,overrides:[{method:f,minutes:h}]}:{useDefault:!1,overrides:[]}}};try{if(t.eventId)try{const v=await so({token:i,method:"PATCH",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`,body:m});return{calendarId:e,eventId:v.id,syncedAt:new Date().toISOString()}}catch(v){if(Df(v)!==404)throw v}const g=await so({token:i,method:"POST",path:`/calendars/${encodeURIComponent(e)}/events`,body:m});return{calendarId:e,eventId:g.id,syncedAt:new Date().toISOString()}}catch(g){const v=Df(g);throw NS(v)&&await Fp(i),g}}async function tb(t){const e=t.calendarId??"primary",n=t.interactive??!0,i=t.token??await Op(n);try{await so({token:i,method:"DELETE",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`})}catch(r){const o=Df(r);if(o===404)return;throw NS(o)&&await Fp(i),r}}const nb="Subly Subscriptions";async function ib(t){const e=t?.interactive??!0,n=String(t?.summary||nb).trim()||nb;let i=t?.token;i||(i=await Op(e));try{const o=((await so({token:i,method:"GET",path:"/users/me/calendarList?minAccessRole=writer"})).items??[]).find(c=>String(c.summary||"").trim().toLowerCase()===n.toLowerCase());if(o?.id)return o.id;const a=await so({token:i,method:"POST",path:"/calendars",body:{summary:n}});try{await so({token:i,method:"POST",path:"/users/me/calendarList",body:{id:a.id}})}catch{}return a.id}catch(r){throw await Fp(i),r}}const LS=M.createContext(null);function JF(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function ZF(t){switch(t){case"success":return"bg-emerald-600/60 text-white";case"error":return"bg-rose-600/60 text-white";default:return"bg-slate-900/60 text-white dark:bg-slate-950/60"}}function e3({children:t}){const[e,n]=M.useState([]),i=M.useRef({}),r=M.useCallback(c=>{n(h=>h.filter(f=>f.id!==c));const u=i.current[c];u&&(window.clearTimeout(u),delete i.current[c])},[]),o=M.useCallback((c,u="info",h)=>{const f=JF(),m={id:f,type:u,message:c};n(v=>[...v.slice(-2),m]);const g=h?.durationMs??3200;i.current[f]=window.setTimeout(()=>r(f),g)},[r]),a=M.useMemo(()=>({show:o,success:(c,u)=>o(c,"success",u),error:(c,u)=>o(c,"error",u),info:(c,u)=>o(c,"info",u)}),[o]);return w.jsxs(LS.Provider,{value:a,children:[t,w.jsx("div",{className:"pointer-events-none fixed bottom-3 right-3 z-50 flex w-[min(22rem,calc(100vw-1.5rem))] flex-col gap-2",role:"status","aria-live":"polite","aria-atomic":"true",children:e.map(c=>w.jsx("div",{className:`pointer-events-auto rounded-lg px-3 py-2 text-sm font-semibold shadow-sm backdrop-blur ${ZF(c.type)}`,children:c.message},c.id))})]})}function Ip(){const t=M.useContext(LS);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function t3(t,e){const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(i)}function n3(t){return t==="monthly"||t==="quarterly"||t==="semiannual"||t==="annual"}function i3(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)}function r3(t){const e=typeof t=="string"?t.trim().toUpperCase():"";return e&&vs.some(i=>i.code===e)?e:"USD"}function s3(t){const e=typeof t?.name=="string"?t.name.trim():"";if(!e)return null;const n=Number(t?.price);if(!Number.isFinite(n))return null;const i=t?.period;if(!n3(i))return null;const r=t?.startDate;if(!i3(r))return null;const o=r3(t?.currency),a=typeof t?.category=="string"?t.category.trim():"";return{id:typeof t?.id=="string"&&t.id.trim()?t.id.trim():Rw(),name:e,category:a||void 0,price:n,currency:o,period:i,startDate:r}}function o3({items:t,onImport:e}){const{t:n}=ho(),[i,r]=M.useState(null),o=Ip(),a=M.useMemo(()=>{const h=new Date,f=h.getFullYear(),m=String(h.getMonth()+1).padStart(2,"0"),g=String(h.getDate()).padStart(2,"0");return`subly-subscriptions-${f}${m}${g}.json`},[]);function c(){t3(a,t),o.success(n("common.exported")??"Exportado.")}function u(h){r(null);const f=new FileReader;f.onload=()=>{try{const m=JSON.parse(String(f.result??"null"));if(!Array.isArray(m))throw new Error("Invalid structure");const g=[];for(const b of m){const S=s3(b);S&&g.push(S)}if(g.length===0)throw new Error("No valid items");const v=new Map;for(const b of t)v.set(b.id,b);for(const b of g)v.set(b.id,b);e(Array.from(v.values())),r({type:"success",message:n("common.importedCount",{count:g.length})??`Importadas: ${g.length}`})}catch{r({type:"error",message:n("common.importFailed")??"Importacin fallida (JSON invlido o estructura incorrecta)."})}},f.readAsText(h)}return w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{type:"button",onClick:c,className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:n("common.exportJson")??"Exportar JSON"}),w.jsxs("label",{className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:[n("common.importJson")??"Importar JSON",w.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:h=>{const f=h.target.files?.[0];h.target.value="",f&&u(f)}})]}),i?w.jsx("div",{className:i.type==="error"?"text-sm text-rose-600 dark:text-rose-300":"text-sm text-emerald-700 dark:text-emerald-300",children:i.message}):null]})}function jS(){return typeof chrome<"u"&&!!chrome.identity}async function OS(t){if(!jS())throw new Error("Google Drive backup requires Chrome Extension environment.");return await new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},i=>{const r=chrome.runtime.lastError;if(r){n(new Error(r.message||"OAuth token error"));return}if(!i){n(new Error("No OAuth token received"));return}e(i)})})}async function FS(t){jS()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function IS(t){const e=await fetch(t.url,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.body?{"Content-Type":"application/json"}:{},...t.headers??{}},body:t.body?JSON.stringify(t.body):void 0}),n=await e.text();if(!e.ok){const i=n||`${e.status} ${e.statusText}`;throw new Error(i)}return n?JSON.parse(n):void 0}async function zS(t){const e=await fetch(t.url,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.method==="PATCH"?{"Content-Type":t.contentType??"application/octet-stream"}:{}},body:t.body}),n=await e.text();if(!e.ok){const i=n||`${e.status} ${e.statusText}`;throw new Error(i)}return{text:n,headers:e.headers}}const Zc="subly-state.json";async function BS(t,e){const n=[`name='${e.replace(/'/g,"\\'")}'`,"trashed=false"].join(" and "),i=new URL("https://www.googleapis.com/drive/v3/files");i.searchParams.set("spaces","appDataFolder"),i.searchParams.set("q",n),i.searchParams.set("pageSize","5"),i.searchParams.set("fields","files(id,name,modifiedTime)");const o=((await IS({token:t,method:"GET",url:i.toString()})).files??[])[0];return o?.id?{fileId:o.id,modifiedTime:o.modifiedTime}:null}async function a3(t,e){return{fileId:(await IS({token:t,method:"POST",url:"https://www.googleapis.com/drive/v3/files",body:{name:e,parents:["appDataFolder"],mimeType:"application/json"}})).id}}async function l3(t,e,n){const i=new URL(`https://www.googleapis.com/upload/drive/v3/files/${encodeURIComponent(e)}`);i.searchParams.set("uploadType","media"),i.searchParams.set("fields","id,modifiedTime");const r=await zS({token:t,method:"PATCH",url:i.toString(),body:n,contentType:"application/json; charset=utf-8"}),o=r.text?JSON.parse(r.text):{id:e};return{fileId:o.id||e,modifiedTime:o.modifiedTime}}async function c3(t,e){const n=new URL(`https://www.googleapis.com/drive/v3/files/${encodeURIComponent(e)}`);return n.searchParams.set("alt","media"),{jsonText:(await zS({token:t,method:"GET",url:n.toString()})).text}}async function VS(t){const e=t.interactive??!0,n=String(t.fileName||Zc).trim()||Zc;let i;try{i=await OS(e);let r=t.fileId,o;if(!r){const c=await BS(i,n);c&&(r=c.fileId,o=c.modifiedTime)}r||(r=(await a3(i,n)).fileId);const a=await l3(i,r,t.json);return{fileId:a.fileId,modifiedTime:a.modifiedTime??o}}catch(r){throw i&&await FS(i),r}}async function u3(t){const e=t.interactive??!0,n=String(t.fileName||Zc).trim()||Zc;let i;try{i=await OS(e);let r=t.fileId,o;if(!r){const c=await BS(i,n);if(!c)throw new Error("No backup file found in Drive app data.");r=c.fileId,o=c.modifiedTime}const{jsonText:a}=await c3(i,r);return{fileId:r,modifiedTime:o,jsonText:a}}catch(r){throw i&&await FS(i),r}}const Cc=["#22C55E","#06B6D4","#3B82F6"];function Wh(t){return t==="es"?"es-ES":"en-US"}function d3(t){const e=Number(t);return Number.isFinite(e)?e:0}function h3(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function rb(t){return/^\d{4}-\d{2}-\d{2}$/.test(String(t||"").trim())}function Gh(t){return JSON.stringify(t.map(e=>({id:e.id,name:e.name,category:e.category,price:e.price,currency:e.currency,period:e.period,startDate:e.startDate,reminder:e.reminder??null})))}function f3(){const{state:t,setSubscriptions:e,setSettings:n}=Xa(),{t:i,language:r}=ho(),o=Ip(),a=t.settings.currencyDisplayMode??"original",c=(t.settings.baseCurrency||"USD").toUpperCase(),u=!!t.settings.calendarAutoSyncAll,h=!!t.settings.calendarUseDedicatedCalendar,f=M.useRef(t.settings);M.useEffect(()=>{f.current=t.settings},[t.settings]);const m=M.useRef(!1),g=M.useCallback(async X=>{const ve=String(f.current.driveBackupFileId||"").trim();if(ve)try{const Me={...t,subscriptions:X,settings:f.current},Ee=JSON.stringify({version:1,savedAt:new Date().toISOString(),state:Me},null,2),Fe=await VS({json:Ee,fileId:ve,interactive:!1});n({...f.current,driveBackupFileId:Fe.fileId,driveLastBackupAt:Fe.modifiedTime??new Date().toISOString()})}catch(Me){if(m.current)return;m.current=!0;const Ee=Me instanceof Error?Me.message:String(Me);o.error((i("drive.backupSaveFailed")??"No se pudo guardar la copia en Google Drive.")+(Ee?` ${Ee}`:""))}},[n,t,i,o]),v=M.useRef(t.settings.calendarSubscriptionsCalendarId??null);M.useEffect(()=>{v.current=t.settings.calendarSubscriptionsCalendarId??null},[t.settings.calendarSubscriptionsCalendarId]);const b=M.useRef(t.subscriptions);M.useEffect(()=>{b.current=t.subscriptions},[t.subscriptions]);const[S,C]=M.useState(!1),[k,P]=M.useState(null),[E,N]=M.useState(!1),D=M.useRef(null),[j,T]=M.useState(""),[A,V]=M.useState(!1),[G,q]=M.useState(""),[B,ee]=M.useState(""),[Q,ne]=M.useState(""),[le,te]=M.useState(""),[H,Z]=M.useState(""),[J,O]=M.useState({column:"nextRenewal",direction:"asc"}),K=M.useMemo(()=>t.subscriptions.find(X=>X.id===k)??null,[k,t.subscriptions]),[de,ae]=M.useState(""),[he,ge]=M.useState(""),[Le,Ne]=M.useState(""),[Oe,yt]=M.useState("USD"),[qt,Ge]=M.useState("monthly"),[Be,Qt]=M.useState(()=>new Date().toISOString().slice(0,10)),[Mt,Et]=M.useState(!1),[Sn,Ci]=M.useState(1),[si,Cn]=M.useState("popup"),kn=M.useMemo(()=>{const X=de.trim(),ve=Le.trim();return!(!X||!ve||!Number.isFinite(Number(ve))||!Oe.trim()||!qt||!rb(Be))},[Oe,de,qt,Le,Be]);function ki(){P(null),ae(""),ge(""),Ne(""),yt("USD"),Ge("monthly"),Qt(new Date().toISOString().slice(0,10)),Et(!1),Ci(Math.max(0,Math.trunc(Number(f.current.calendarReminderDaysBefore??1)))),Cn(f.current.calendarReminderMethod==="email"?"email":"popup")}function _i(){N(!1),ki()}function _n(){ki(),N(!0)}function oi(X){P(X.id),ae(X.name),ge(X.category??""),Ne(String(X.price));const ve=String(X.currency??"").trim().toUpperCase(),Me=vs.some(Fe=>Fe.code===ve);yt(Me?ve:"USD"),Ge(X.period),Qt(X.startDate);const Ee=!!X.reminder?.enabled;Et(Ee),Ee?(Ci(Math.max(0,Math.min(365,Math.trunc(Number(X.reminder?.daysBefore??1))))),Cn(X.reminder?.method==="email"?"email":"popup")):(Ci(Math.max(0,Math.trunc(Number(f.current.calendarReminderDaysBefore??1)))),Cn(f.current.calendarReminderMethod==="email"?"email":"popup")),N(!0)}function Or(){const X=de.trim(),ve=Le.trim();if(!X||!ve||!Number.isFinite(Number(ve))||!Oe.trim()||!qt||!rb(Be))return;const Me=he.trim(),Ee=!!k,Fe=k?t.subscriptions.find(U=>U.id===k):void 0,Pe=Mt?{enabled:!0,daysBefore:Math.max(0,Math.min(365,Math.trunc(Number(Sn)))),method:si==="email"?"email":"popup"}:void 0,Xe={...Fe,id:k??Rw(),name:X,category:Me||void 0,price:d3(Le),currency:Oe,period:qt,startDate:Be,reminder:Pe},R=t.subscriptions.slice(),z=R.findIndex(U=>U.id===Xe.id);z>=0?R[z]=Xe:R.unshift(Xe),b.current=R,u&&(Tt.current=Gh(R)),e(R),_i(),o.success(Ee?i("subscriptions.toastUpdated")??"Suscripcin actualizada.":i("subscriptions.toastCreated")??"Suscripcin creada."),u&&(async()=>{const U=await Mn(Xe.id,!0,{quiet:!0});U.ok||o.error((i("subscriptions.syncFailed")??"Error al sincronizar.")+(U.error?` ${U.error}`:""))})(),g(R)}function Mi(X){const ve=b.current,Me=ve.find(R=>R.id===X);if(!Me)return;const Ee=i("subscriptions.deleteConfirm",{name:Me.name})??`Eliminar ${Me.name}? Tambin se borrar su evento en Google Calendar si existe.`;if(!window.confirm(Ee))return;const Fe=Me.calendar?.eventId,Pe=Me.calendar?.calendarId??"primary",Xe=ve.filter(R=>R.id!==X);b.current=Xe,u&&(Tt.current=Gh(Xe)),e(Xe),k===X&&ki(),o.success(i("subscriptions.toastDeleted")??"Suscripcin eliminada."),g(Xe),Fe&&(async()=>{try{await tb({calendarId:Pe,eventId:Fe,interactive:!0}),o.success(i("subscriptions.calendarEventDeleted")??"Evento eliminado de Google Calendar.")}catch(R){const z=R instanceof Error?R.message:String(R);o.error((i("subscriptions.calendarDeleteFailed")??"No se pudo borrar el evento en Google Calendar.")+(z?` ${z}`:""))}})()}const wt=M.useMemo(()=>Gh(t.subscriptions),[t.subscriptions]),Tt=M.useRef(wt);M.useEffect(()=>{Tt.current=wt},[]);const Mn=M.useCallback(async(X,ve,Me)=>{try{const Ee=b.current,Fe=Ee.findIndex(He=>He.id===X);if(Fe<0)return{ok:!1,error:"Subscription not found"};const Pe=Ee[Fe];let Xe=Pe.calendar?.calendarId??"primary";if(h){let He=v.current;He||(He=await ib({interactive:ve}),v.current=He,n({...f.current,calendarSubscriptionsCalendarId:He})),Xe=He}const R=Hc(Pe.startDate,Pe.period,new Date),z=RS(R),U=(Pe.currency||"USD").toUpperCase(),re=a==="convertToBase"?c:U,ce=a==="convertToBase"?Wi(Pe.price,U,c):Pe.price,Se=[`${i("subscriptions.detailsAmount")??"Importe"}: ${mi(ce,re)}`,`${i("subscriptions.detailsPeriod")??"Periodo"}: ${Pe.period}`],pe=String(Pe.category||"").trim();pe&&Se.push(`${i("subscriptions.filterCategory")??"Categora"}: ${pe}`);const xe=Pe.calendar?.eventId,Ce=Pe.calendar?.calendarId,be=!!(xe&&Ce&&Ce!==Xe);if(be)try{await tb({calendarId:Ce,eventId:xe,interactive:ve})}catch{}const De=He=>{if(!He||typeof He!="object")return;const it=He.status;return typeof it=="number"?it:void 0},ke=(He,it)=>{const ut=Pe.reminder?.enabled?Pe.reminder?.method==="email"?"email":"popup":f.current.calendarReminderMethod==="email"?"email":"popup",qe=(!!Pe.reminder?.enabled?Math.max(0,Math.trunc(Number(Pe.reminder?.daysBefore??1))):Math.max(0,Math.trunc(Number(f.current.calendarReminderDaysBefore??1))))*24*60;return{calendarId:He,eventId:it,summary:`${Pe.name}  ${i("subscriptions.renewal")??"Renovacin"}`,description:Se.join(`
`),startDateYmd:z,period:Pe.period,reminderMinutes:qe,reminderMethod:ut,interactive:ve}};let ze;try{ze=await Hh(ke(Xe,be?void 0:Pe.calendar?.eventId))}catch(He){if(De(He)!==404)throw He;if(h){const ut=await ib({interactive:ve});v.current=ut,n({...f.current,calendarSubscriptionsCalendarId:ut}),ze=await Hh(ke(ut,void 0))}else ze=await Hh(ke("primary",void 0))}const Ve=Ee.slice();return Ve[Fe]={...Pe,calendar:{...ze,lastError:void 0}},e(Ve),{ok:!0}}catch(Ee){const Fe=Ee instanceof Error?Ee.message:String(Ee),Pe=b.current,Xe=Pe.findIndex(R=>R.id===X);if(Xe>=0){const R=Pe[Xe],z=Pe.slice();z[Xe]={...R,calendar:{...R.calendar??{calendarId:"primary"},lastError:Fe,syncedAt:R.calendar?.syncedAt}},e(z)}return{ok:!1,error:Fe}}},[c,h,a,n,e,i]),Gn=M.useCallback(async X=>{if(!S){C(!0);try{const ve=b.current;let Me=0,Ee=0,Fe=null;for(const Xe of ve){const R=await Mn(Xe.id,X,{quiet:!0});R.ok?Me+=1:(Ee+=1,!Fe&&R.error&&(Fe=R.error))}const Pe=i("subscriptions.syncAllDone",{ok:Me,fail:Ee})??`Sync: ${Me} ok, ${Ee} fail`;Ee>0?o.error(Ee>0&&Fe?`${Pe} (${Fe})`:Pe):o.success(Pe)}finally{C(!1)}}},[S,Mn,i,o]);M.useEffect(()=>{if(!u){Tt.current=wt;return}S||Tt.current!==wt&&(Tt.current=wt,Gn(!1))},[u,Gn,S,wt]);const Fr=M.useMemo(()=>r==="es"?["Streaming","Software","Msica","Juegos","Productividad","Educacin","Salud","Otros"]:["Streaming","Software","Music","Games","Productivity","Education","Health","Other"],[r]),Ir=M.useMemo(()=>[{value:"monthly",label:i("subscriptions.periodMonthly")??"Mensual"},{value:"quarterly",label:i("subscriptions.periodQuarterly")??"Trimestral"},{value:"semiannual",label:i("subscriptions.periodSemiannual")??"Semestral"},{value:"annual",label:i("subscriptions.periodAnnual")??"Anual"}],[i]),Bt=M.useMemo(()=>({monthly:i("subscriptions.periodMonthly")??"Mensual",quarterly:i("subscriptions.periodQuarterly")??"Trimestral",semiannual:i("subscriptions.periodSemiannual")??"Semestral",annual:i("subscriptions.periodAnnual")??"Anual"}),[i]),Ss=M.useMemo(()=>{const X=new Set;for(const ve of t.subscriptions){const Me=String(ve.currency||"").trim().toUpperCase();Me&&X.add(Me)}return X.add(c),Array.from(X).sort((ve,Me)=>ve.localeCompare(Me))},[c,t.subscriptions]),Ei=2,En=M.useMemo(()=>{const X=new Date,ve=new Date(X);return ve.setDate(ve.getDate()+Ei),t.subscriptions.map(Me=>{const Ee=Hc(Me.startDate,Me.period,X),Fe=(Me.currency||"USD").toUpperCase(),Pe=Wi(h3(Me),Fe,c),Xe=Ee.getTime()<=ve.getTime();return{...Me,rawCurrency:Fe,nextRenewal:Ee,dueSoon:Xe,monthlyEqBase:Pe}})},[c,t.subscriptions]),Vt=M.useMemo(()=>{const X=t.subscriptions.length;if(X===0)return{count:X,avgMonthlyBase:0,highest:null,dueSoonCount:0,nextDueDate:null,topCategory:null};const ve=new Map;let Me=0,Ee=null,Fe=0,Pe=null;for(const R of En){Me+=R.monthlyEqBase,(!Ee||R.monthlyEqBase>Ee.valueBase)&&(Ee={name:R.name,valueBase:R.monthlyEqBase}),R.dueSoon&&(Fe+=1),(!Pe||R.nextRenewal.getTime()<Pe.getTime())&&(Pe=R.nextRenewal);const z=String(R.category||"").trim()||(i("common.uncategorized")??"Sin categora");ve.set(z,(ve.get(z)??0)+R.monthlyEqBase)}let Xe=null;if(Me>0&&ve.size>0){let R=null;for(const[z,U]of ve.entries())(!R||U>R.value)&&(R={label:z,value:U});R&&(Xe={label:R.label,percent:Math.round(R.value/Me*100)})}return{count:X,avgMonthlyBase:Me/X,highest:Ee,dueSoonCount:Fe,nextDueDate:Pe,topCategory:Xe}},[En,t.subscriptions.length,i]),Ji=M.useCallback(()=>{q(""),ee(""),ne(""),te(""),Z(""),T("")},[]),Yn=M.useMemo(()=>!!(j.trim()||G.trim()||B.trim()||Q||le.trim()||H.trim()),[G,B,H,le,Q,j]),Tn=M.useMemo(()=>{const X=j.trim().toLowerCase(),ve=le.trim()?Number(le):null,Me=H.trim()?Number(H):null;return En.filter(Ee=>G.trim()&&String(Ee.category||"").trim().toLowerCase()!==G.trim().toLowerCase()||B.trim()&&Ee.rawCurrency!==B.trim().toUpperCase()||Q&&Ee.period!==Q||ve!==null&&Number.isFinite(ve)&&Ee.price<ve||Me!==null&&Number.isFinite(Me)&&Ee.price>Me?!1:X?[Ee.name,Ee.category,Ee.rawCurrency,Ee.period,Bt[Ee.period],String(Ee.price),mi(Ee.price,Ee.rawCurrency)].some(Pe=>String(Pe||"").toLowerCase().includes(X)):!0)},[En,G,B,H,le,Q,Bt,j]),Pn=M.useCallback(X=>{O(ve=>ve.column===X?{column:X,direction:ve.direction==="asc"?"desc":"asc"}:{column:X,direction:"asc"})},[]),Ti=M.useMemo(()=>{const X=new Intl.Collator(void 0,{sensitivity:"base"}),ve=J.direction==="asc"?1:-1,Me=Fe=>{const Pe=Date.parse(`${String(Fe||"").slice(0,10)}T00:00:00`);return Number.isFinite(Pe)?Pe:0},Ee=(Fe,Pe)=>{switch(J.column){case"name":return X.compare(Fe.name,Pe.name)*ve;case"price":return(Fe.price-Pe.price)*ve;case"startDate":return(Me(Fe.startDate)-Me(Pe.startDate))*ve;case"category":{const Xe=String(Fe.category||"").trim()||(i("common.uncategorized")??"Sin categora"),R=String(Pe.category||"").trim()||(i("common.uncategorized")??"Sin categora");return X.compare(Xe,R)*ve}default:return(Fe.nextRenewal.getTime()-Pe.nextRenewal.getTime())*ve}};return[...Tn].sort(Ee)},[Tn,J.column,J.direction]),Kn=({column:X,label:ve})=>{const Me=J.column===X;return w.jsxs("button",{type:"button",onClick:()=>Pn(X),"aria-pressed":Me,className:"group inline-flex w-full items-center justify-center gap-1.5 rounded-md px-2 py-1 text-center text-xs font-bold uppercase tracking-wide hover:bg-slate-100 dark:hover:bg-slate-800 "+(Me?"bg-indigo-50 text-indigo-950 ring-1 ring-inset ring-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-100 dark:ring-indigo-700":"text-slate-700 dark:text-slate-200"),children:[w.jsx("span",{className:"truncate",children:ve}),w.jsx("svg",{className:`h-3.5 w-3.5 flex-none transition-transform ${Me?"opacity-100":"opacity-40 group-hover:opacity-70"} ${Me&&J.direction==="desc"?"rotate-180":""}`,viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:w.jsx("path",{d:"M3 10l3-5 3 5"})})]})};return M.useEffect(()=>{if(!E)return;const X=window.setTimeout(()=>{D.current?.focus()},0),ve=Me=>{Me.key==="Escape"&&_i()};return window.addEventListener("keydown",ve),()=>{window.clearTimeout(X),window.removeEventListener("keydown",ve)}},[E]),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:w.jsx(Vn,{colors:Cc,children:i("subscriptions.listTitle")??"Listado"})}),w.jsx("div",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:i("subscriptions.subtitle")??""})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(o3,{items:t.subscriptions,onImport:e}),w.jsxs("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:opacity-60",disabled:t.subscriptions.length===0||S,onClick:()=>Gn(!0),title:i("subscriptions.syncAll")??"Sincronizar todas","aria-label":i("subscriptions.syncAll")??"Sincronizar todas","aria-busy":S,children:[S?w.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 opacity-70",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[w.jsx("path",{d:"M12 2v4"}),w.jsx("path",{d:"M12 18v4"}),w.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),w.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),w.jsx("path",{d:"M2 12h4"}),w.jsx("path",{d:"M18 12h4"}),w.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),w.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]}):w.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[w.jsx("path",{d:"M21 12a9 9 0 0 0-15.5-6.36"}),w.jsx("path",{d:"M3 4v6h6"}),w.jsx("path",{d:"M3 12a9 9 0 0 0 15.5 6.36"}),w.jsx("path",{d:"M21 20v-6h-6"})]}),w.jsx("span",{className:"sr-only",children:S?i("subscriptions.syncing")??"Sincronizando":i("subscriptions.syncAll")??"Sincronizar todas"})]}),w.jsx("button",{type:"button",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500",onClick:_n,children:i("subscriptions.addSubscription")??"Aadir suscripcin"})]})]}),w.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[w.jsxs("div",{className:"flex items-end justify-between gap-3",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:w.jsx(Vn,{colors:Cc,children:i("subscriptions.insightsTitle")??"Resumen"})}),w.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:i("subscriptions.insightsHint",{currency:c})??""})]}),w.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:i("subscriptions.insightsDueWindow",{days:Ei})??""})]}),t.subscriptions.length===0?w.jsx("div",{className:"mt-3 text-sm text-slate-500",children:i("subscriptions.noSubscriptions")??"No hay suscripciones an."}):w.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[w.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[w.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:i("subscriptions.insightsCount")??"Suscripciones"}),w.jsx("div",{className:"mt-1 text-2xl font-black text-slate-900 dark:text-white",children:Vt.count})]}),w.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[w.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:i("subscriptions.insightsAvgMonthly")??"Media mensual"}),w.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:mi(Vt.avgMonthlyBase,c)}),w.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:i("subscriptions.insightsAvgMonthlyHelper",{currency:c})??""})]}),w.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[w.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:i("subscriptions.insightsUpcoming")??"Prximas"}),w.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:i("subscriptions.insightsUpcomingValue",{count:Vt.dueSoonCount})??String(Vt.dueSoonCount)}),w.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:Vt.nextDueDate?i("subscriptions.insightsUpcomingHelper",{date:Vt.nextDueDate.toLocaleDateString(Wh(r))})??"":i("common.none")??""})]}),w.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[w.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:i("subscriptions.insightsTopCategory")??"Top categora"}),w.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:Vt.topCategory?Vt.topCategory.label:i("common.none")??""}),w.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:Vt.topCategory?i("subscriptions.insightsTopCategoryHelper",{percent:Vt.topCategory.percent})??"":""})]})]})]}),w.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[w.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[w.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[w.jsxs("div",{className:"relative w-full",children:[w.jsx("svg",{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",children:w.jsx("path",{d:"M8.5 3a5.5 5.5 0 014.33 9.02l3.58 3.58-1.06 1.06-3.58-3.58A5.5 5.5 0 118.5 3zm0 1.5a4 4 0 100 8 4 4 0 000-8z",fill:"currentColor"})}),w.jsx("input",{type:"search",value:j,onChange:X=>T(X.target.value),placeholder:i("subscriptions.searchPlaceholder")??"Buscar","aria-label":i("subscriptions.searchPlaceholder")??"Buscar",className:"w-full rounded-md border border-slate-300 bg-white py-2 pl-9 pr-3 text-sm dark:border-slate-700 dark:bg-slate-950",autoComplete:"off"})]}),w.jsx("button",{type:"button",className:`rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800 ${A?"bg-slate-100 dark:bg-slate-800":""}`,onClick:()=>V(X=>!X),"aria-pressed":A,children:i("subscriptions.filtersToggle")??"Filtros"}),Yn?w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:Ji,children:i("common.clear")??"Limpiar"}):null]}),w.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:i("subscriptions.resultsCount",{count:Ti.length})??`${Ti.length}`})]}),A?w.jsx("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:w.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterCategory")??"Categora"}),w.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:G,onChange:X=>q(X.target.value),children:[w.jsx("option",{value:"",children:i("common.none")??""}),Array.from(new Set(En.map(X=>String(X.category||"").trim()).filter(Boolean))).sort((X,ve)=>X.localeCompare(ve)).map(X=>w.jsx("option",{value:X,children:X},X))]})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterCurrency")??"Moneda"}),w.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:B,onChange:X=>ee(X.target.value),children:[w.jsx("option",{value:"",children:i("common.none")??""}),Ss.map(X=>w.jsx("option",{value:X,children:X},X))]})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterPeriod")??"Periodo"}),w.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Q,onChange:X=>ne(X.target.value),children:[w.jsx("option",{value:"",children:i("common.none")??""}),Ir.map(X=>w.jsx("option",{value:X.value,children:X.label},X.value))]})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterMinPrice")??"Precio mn."}),w.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:le,onChange:X=>te(X.target.value)})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterMaxPrice")??"Precio mx."}),w.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:H,onChange:X=>Z(X.target.value)})]})]})}):null,w.jsx("div",{className:"mt-3 overflow-x-auto",children:w.jsxs("table",{className:"w-full min-w-[700px] table-fixed border-separate border-spacing-0 text-xs",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"text-center",children:[w.jsx("th",{className:"sticky top-0 z-10 w-32 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:w.jsx(Kn,{column:"name",label:i("subscriptions.columnName")??"Nombre"})}),w.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:w.jsx(Kn,{column:"price",label:i("subscriptions.columnPrice")??"Importe"})}),w.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:w.jsx(Kn,{column:"startDate",label:i("subscriptions.columnStart")??"Inicio"})}),w.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:w.jsx(Kn,{column:"nextRenewal",label:i("subscriptions.columnNext")??"Prximo"})}),w.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:w.jsx(Kn,{column:"category",label:i("subscriptions.columnCategory")??"Categora"})}),w.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:w.jsx("span",{className:"block w-full text-center text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-200",children:i("subscriptions.columnActions")??"Acciones"})})]})}),w.jsx("tbody",{children:Ti.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:6,className:"py-6 text-center text-sm text-slate-500",children:Yn?i("subscriptions.emptyFiltered")??"Sin resultados con los filtros actuales.":i("subscriptions.noSubscriptions")??"No hay suscripciones an."})}):Ti.map(X=>{const ve=a==="convertToBase"?c:X.rawCurrency,Me=a==="convertToBase"?Wi(X.price,X.rawCurrency,c):X.price,Ee=String(X.category||"").trim();return w.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 dark:border-slate-800/60 dark:hover:bg-slate-800/30",children:[w.jsxs("td",{className:"px-2 py-1.5 text-center",children:[w.jsxs("div",{className:"flex items-center justify-center gap-2",children:[w.jsx("div",{className:"min-w-0 truncate font-semibold text-slate-900 dark:text-white",children:X.name}),X.dueSoon?w.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:i("subscriptions.dueSoon")??"Pronto"}):null]}),w.jsx("div",{className:"mt-0.5 whitespace-nowrap text-center text-[11px] text-slate-500 dark:text-slate-400",children:Bt[X.period]})]}),w.jsx("td",{className:"px-2 py-1.5 text-center font-semibold text-slate-900 dark:text-white",children:mi(Me,ve)}),w.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:new Date(X.startDate).toLocaleDateString(Wh(r))}),w.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:X.nextRenewal.toLocaleDateString(Wh(r))}),w.jsx("td",{className:"px-2 py-1.5 truncate text-center text-slate-600 dark:text-slate-300",children:Ee||(i("common.uncategorized")??"Sin categora")}),w.jsx("td",{className:"py-1.5",children:w.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[w.jsxs("button",{type:"button","aria-label":i("common.edit")??"Editar",title:i("common.edit")??"Editar",className:"inline-flex items-center justify-center rounded-md bg-amber-600/80 px-2 py-1 text-[11px] font-semibold text-white hover:bg-amber-500/80",onClick:()=>oi(X),children:[w.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[w.jsx("path",{d:"M12 20h9"}),w.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L8 18l-4 1 1-4 11.5-11.5z"})]}),w.jsx("span",{className:"sr-only",children:i("common.edit")??"Editar"})]}),w.jsxs("button",{type:"button","aria-label":i("common.delete")??"Eliminar",title:i("common.delete")??"Eliminar",className:"inline-flex items-center justify-center rounded-md bg-rose-600 px-2 py-1 text-[11px] font-semibold text-white hover:bg-rose-500",onClick:()=>Mi(X.id),children:[w.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[w.jsx("path",{d:"M3 6h18"}),w.jsx("path",{d:"M8 6V4h8v2"}),w.jsx("path",{d:"M6 6l1 14h10l1-14"}),w.jsx("path",{d:"M10 11v6"}),w.jsx("path",{d:"M14 11v6"})]}),w.jsx("span",{className:"sr-only",children:i("common.delete")??"Eliminar"})]})]})})]},X.id)})})]})})]}),E?w.jsxs("div",{className:"fixed inset-0 z-50",children:[w.jsx("div",{className:"absolute inset-0 bg-slate-950/50",onClick:_i}),w.jsx("div",{className:"relative mx-auto w-full max-w-3xl px-4 py-6",children:w.jsxs("div",{role:"dialog","aria-modal":"true",className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[w.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:w.jsx(Vn,{colors:Cc,children:K?i("subscriptions.editSubscription")??"Editar suscripcin":i("subscriptions.addSubscriptionTitle")??"Aadir suscripcin"})}),w.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.name")??"Nombre"}),w.jsx("input",{ref:D,className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:de,onChange:X=>ae(X.target.value)})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.category")??"Categora"}),w.jsx("input",{list:"subly-categories",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:he,onChange:X=>ge(X.target.value),placeholder:i("subscriptions.categoryPlaceholder")??"Ej: Streaming"}),w.jsx("datalist",{id:"subly-categories",children:Fr.map(X=>w.jsx("option",{value:X},X))})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.amount")??"Importe"}),w.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Le,onChange:X=>Ne(X.target.value)})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.currency")??"Moneda"}),w.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Oe,onChange:X=>yt(X.target.value),children:vs.map(X=>w.jsxs("option",{value:X.code,children:[X.code," (",X.symbol,")  ",X.names[r]]},X.code))})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.period")??"Periodo"}),w.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:qt,onChange:X=>Ge(X.target.value),children:Ir.map(X=>w.jsx("option",{value:X.value,children:X.label},X.value))})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.startDate")??"Fecha inicio"}),w.jsx("input",{type:"date",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Be,onChange:X=>Qt(X.target.value)})]})]}),w.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[w.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:w.jsx(Vn,{colors:Cc,children:i("subscriptions.remindersTitle")??"Avisos de renovacin"})}),w.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:(()=>{const X=Mt?Math.max(0,Math.min(365,Math.trunc(Number(Sn)))):Math.max(0,Math.trunc(Number(t.settings.calendarReminderDaysBefore??1))),ve=Mt?si==="email"?"email":"popup":t.settings.calendarReminderMethod==="email"?"email":"popup";return X<=0?i("subscriptions.reminderSummaryNone")??"No recibirs notificaciones antes de la renovacin.":ve==="email"?(X===1?i("subscriptions.reminderSummaryEmailOne"):i("subscriptions.reminderSummaryEmailMany",{days:X}))??`Recibirs un email ${X} das antes de la renovacin.`:(X===1?i("subscriptions.reminderSummaryNotificationOne"):i("subscriptions.reminderSummaryNotificationMany",{days:X}))??`Recibirs una notificacin ${X} das antes de la renovacin.`})()}),w.jsxs("label",{className:"mt-3 flex items-start gap-3 text-sm",children:[w.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4",checked:Mt,onChange:X=>Et(X.target.checked)}),w.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:i("subscriptions.reminderUseCustom")??"Usar recordatorio personalizado"})]}),Mt?w.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[w.jsxs("label",{className:"text-xs text-slate-600 dark:text-slate-300",children:[w.jsx("div",{className:"mb-1 font-semibold text-slate-700 dark:text-slate-200",children:i("subscriptions.reminderDaysBefore")??"Das antes"}),w.jsx("input",{type:"number",min:0,max:365,value:Sn,onChange:X=>Ci(Math.max(0,Math.min(365,Math.trunc(Number(X.target.value))))),className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-950"})]}),w.jsxs("label",{className:"text-xs text-slate-600 dark:text-slate-300",children:[w.jsx("div",{className:"mb-1 font-semibold text-slate-700 dark:text-slate-200",children:i("subscriptions.reminderMethodLabel")??"Tipo"}),w.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-950",value:si,onChange:X=>Cn(X.target.value==="email"?"email":"popup"),children:[w.jsx("option",{value:"popup",children:i("subscriptions.reminderMethodPopup")??"Notificacin"}),w.jsx("option",{value:"email",children:i("subscriptions.reminderMethodEmail")??"Email"})]})]})]}):null]}),w.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[w.jsx("button",{type:"button",disabled:!kn,"aria-disabled":!kn,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500 disabled:cursor-not-allowed disabled:opacity-60",onClick:Or,children:K?i("common.save")??"Guardar":i("common.add")??"Aadir"}),w.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:_i,children:i("common.cancel")??"Cancelar"}),kn?null:w.jsx("div",{className:"flex items-center text-sm text-slate-600 dark:text-slate-300",children:i("subscriptions.helpIncomplete")??"Completa nombre, importe y fecha."})]})]})})]}):null]})}function US(){return typeof chrome<"u"&&!!chrome.identity}function p3(t){if(!US())throw new Error("Google auth requires Chrome Extension environment.");return new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},i=>{const r=chrome.runtime.lastError;if(r){n(new Error(r.message||"OAuth token error"));return}if(!i){n(new Error("No OAuth token received"));return}e(i)})})}async function m3(t){US()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function g3(t){const e=new URLSearchParams({token:t});await fetch("https://oauth2.googleapis.com/revoke",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).catch(()=>{})}async function y3(t){const e=t?.interactive;let n;try{n=await p3(e)}catch{return{hadToken:!1}}return await g3(n),await m3(n),{hadToken:!0}}function In({title:t,description:e,tone:n="neutral",hideHeader:i=!1,children:r}){const o={neutral:"bg-gradient-to-br from-slate-900 via-slate-950/60 to-slate-950",blue:"bg-gradient-to-br from-sky-950/80 via-slate-900 to-sky-950/30",blueGradient:"bg-slate-950 bg-[radial-gradient(circle_at_top_left,rgba(56,189,248,0.28),transparent_55%),radial-gradient(circle_at_bottom_right,rgba(167,139,250,0.22),transparent_55%)]",teal:"bg-gradient-to-br from-teal-950/80 via-slate-900 to-teal-950/30",amber:"bg-gradient-to-br from-amber-950/95 via-slate-800/80 to-amber-950/15",violet:"bg-gradient-to-br from-violet-950/80 via-slate-900 to-violet-950/30",fuchsia:"bg-gradient-to-br from-fuchsia-950/70 via-slate-900 to-fuchsia-950/30",indigo:"bg-gradient-to-br from-indigo-950/80 via-slate-900 to-indigo-950/30",slate:"bg-gradient-to-br from-slate-950/70 via-slate-900 to-slate-950/30",emerald:"bg-gradient-to-br from-emerald-950/80 via-slate-900 to-emerald-950/30",cyan:"bg-gradient-to-br from-cyan-950/80 via-slate-900 to-cyan-950/30",rose:"bg-gradient-to-br from-rose-950/80 via-slate-900 to-rose-950/30"};return w.jsx("div",{className:`rounded-xl border border-white/60 ${o[n]}`,children:w.jsxs("div",{className:"p-4",children:[!i&&(t||e)&&w.jsxs("div",{className:"min-w-0",children:[t&&w.jsx("div",{className:"text-sm font-semibold text-slate-200",children:t}),e&&w.jsx("div",{className:"mt-2 text-xs text-slate-400",children:e})]}),w.jsx("div",{className:!i&&(t||e)?"mt-3":"",children:r})]})})}function kc({title:t,description:e,defaultOpen:n=!1,gradientColors:i=["#38BDF8","#A78BFA","#FB7185"],titleShowBorder:r=!1,titleUppercase:o=!0,children:a}){const c=M.useId(),[u,h]=M.useState(n);return w.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900",children:[w.jsxs("button",{type:"button",className:"flex w-full items-start justify-between gap-3 p-4 text-left",onClick:()=>h(f=>!f),"aria-expanded":u,"aria-controls":c,children:[w.jsxs("div",{className:"min-w-0",children:[w.jsx(Vn,{className:o?"text-base font-extrabold uppercase tracking-wide sm:text-lg":"text-base font-extrabold sm:text-lg",colors:i,animationSpeed:10,showBorder:r,direction:"horizontal",pauseOnHover:!0,yoyo:!0,children:t}),e&&w.jsx("div",{className:"mt-2 text-xs text-slate-400",children:e})]}),w.jsx("div",{className:"mt-0.5 shrink-0 text-slate-400",children:w.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:u?"rotate-180 transition-transform":"transition-transform","aria-hidden":"true",children:w.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),w.jsx("div",{id:c,className:u?"space-y-3 px-4 pb-4":"hidden space-y-3 px-4 pb-4",children:a})]})}function v3(){const{state:t,setSettings:e,setSubscriptions:n}=Xa(),{t:i,language:r}=ho(),o=Ip(),[a,c]=M.useState(null),[u,h]=M.useState(""),f=M.useMemo(()=>{const B=String(t.settings.driveLastBackupAt||"").trim();if(!B)return i("common.none")??"";const ee=new Date(B);return Number.isNaN(ee.getTime())?B:ee.toLocaleString(r==="es"?"es-ES":"en-US")},[r,t.settings.driveLastBackupAt,i]);function m(B){e({...t.settings,language:B})}function g(B){e({...t.settings,currencyDisplayMode:B})}function v(B){e({...t.settings,baseCurrency:String(B||"USD").trim().toUpperCase()})}function b(B){e({...t.settings,calendarAutoSyncAll:B})}function S(B){e({...t.settings,calendarUseDedicatedCalendar:B})}function C(B){e({...t.settings,calendarFloatingButtonEnabled:B})}function k(B){const ee=Number.isFinite(B)?Math.trunc(B):0;e({...t.settings,calendarReminderDaysBefore:Math.max(0,Math.min(365,ee))})}function P(B){e({...t.settings,calendarReminderMethod:B==="email"?"email":"popup"})}function E(){e({...t.settings,onboardingCompleted:!1}),o.info(i("settings.onboardingOpened")??"Onboarding abierto.")}async function N(){const B={generatedAt:new Date().toISOString(),language:r,settings:{currencyDisplayMode:t.settings.currencyDisplayMode,baseCurrency:t.settings.baseCurrency,calendarAutoSyncAll:!!t.settings.calendarAutoSyncAll,calendarUseDedicatedCalendar:!!t.settings.calendarUseDedicatedCalendar,calendarFloatingButtonEnabled:t.settings.calendarFloatingButtonEnabled!==!1,calendarReminderDaysBefore:Math.max(0,Math.trunc(Number(t.settings.calendarReminderDaysBefore??1))),calendarReminderMethod:t.settings.calendarReminderMethod==="email"?"email":"popup",driveBackupLinked:!!t.settings.driveBackupFileId,driveLastBackupAt:t.settings.driveLastBackupAt||null},subscriptionsCount:t.subscriptions.length},ee=JSON.stringify(B,null,2);try{await navigator.clipboard.writeText(ee),o.success(i("settings.helpCopied")??"Diagnstico copiado.")}catch{try{window.prompt(i("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto:",ee)}catch{o.error(i("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto manualmente.")}}}async function D(){const B=u.trim();if(!B){o.info(i("settings.helpFeedbackEmpty")??"Escribe un comentario antes de copiar.");return}try{await navigator.clipboard.writeText(B),o.success(i("settings.helpFeedbackCopied")??"Comentario copiado.")}catch{try{window.prompt(i("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto:",B)}catch{o.error(i("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto manualmente.")}}}const j=M.useMemo(()=>{const B=globalThis?.chrome?.runtime?.getURL;return typeof B=="function"?B("PRIVACY.md"):"/PRIVACY.md"},[]),T="https://calendar.google.com/calendar/u/0/r";async function A(){if(!a){c("save");try{const B=JSON.stringify({version:1,savedAt:new Date().toISOString(),state:t},null,2),ee=await VS({json:B,fileId:t.settings.driveBackupFileId,interactive:!0});e({...t.settings,driveBackupFileId:ee.fileId,driveLastBackupAt:ee.modifiedTime??new Date().toISOString()}),o.success(i("drive.backupSaved")??"Copia guardada en Google Drive.")}catch(B){const ee=B instanceof Error?B.message:String(B);o.error((i("drive.backupSaveFailed")??"No se pudo guardar la copia en Google Drive.")+(ee?` ${ee}`:""))}finally{c(null)}}}async function V(){if(a)return;const B=i("drive.restoreConfirm")??"Esto reemplazar tus datos locales con los de Drive. Continuar?";if(window.confirm(B)){c("restore");try{const ee=await u3({fileId:t.settings.driveBackupFileId,interactive:!0});let Q;try{Q=JSON.parse(ee.jsonText)}catch{throw new Error("Invalid JSON in Drive backup file.")}const ne=Q&&typeof Q=="object"&&"state"in Q?Q.state:Q,le=aa(ne);n(le.subscriptions),e({...le.settings,driveBackupFileId:ee.fileId,driveLastBackupAt:ee.modifiedTime??new Date().toISOString()}),o.success(i("drive.backupRestored")??"Datos restaurados desde Google Drive.")}catch(ee){const Q=ee instanceof Error?ee.message:String(ee);o.error((i("drive.backupRestoreFailed")??"No se pudo restaurar desde Google Drive.")+(Q?` ${Q}`:""))}finally{c(null)}}}async function G(){const B=i("settings.googleDisconnectConfirm")??"Esto desconectar Subly de tu cuenta de Google en este navegador. Continuar?";if(window.confirm(B))try{if(!(await y3({interactive:!1})).hadToken){o.info(i("settings.googleDisconnectNoToken")??"No hay sesin activa que desconectar.");return}o.success(i("settings.googleDisconnectDone")??"Desconectado. La prxima vez se pedirn permisos de nuevo.")}catch(ee){const Q=ee instanceof Error?ee.message:String(ee);o.error(Q||"Disconnect failed")}}function q(){const B=i("settings.resetLocalConfirm")??"Esto borrar tus datos locales (suscripciones y ajustes) en este dispositivo. Continuar?";window.confirm(B)&&(n([]),e({...wr,language:t.settings.language}),o.success(i("settings.resetLocalDone")??"Datos locales borrados."))}return w.jsxs("div",{className:"space-y-4",children:[w.jsxs(kc,{title:i("settings.groupGeneral")??"General",gradientColors:["#E2E8F0","#94A3B8","#A78BFA"],defaultOpen:!0,children:[w.jsx(In,{title:i("settings.languageTitle")??"Idioma",description:i("settings.languageDescription")??"Selecciona el idioma de la app.",tone:"blue",children:w.jsxs("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:t.settings.language,onChange:B=>m(B.target.value),children:[w.jsx("option",{value:"es",children:i("common.language.es")??"Espaol"}),w.jsx("option",{value:"en",children:i("common.language.en")??"English"})]})}),w.jsx(In,{title:i("settings.currencyTitle")??"Moneda",description:i("settings.currencyHint")??"Al convertir a una sola moneda, los totales y grficos se muestran en la moneda base.",tone:"blue",children:w.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:i("settings.displayAmounts")??"Mostrar importes"}),w.jsxs("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:t.settings.currencyDisplayMode,onChange:B=>g(B.target.value),children:[w.jsx("option",{value:"original",children:i("settings.displayOriginal")??"Con sus monedas originales"}),w.jsx("option",{value:"convertToBase",children:i("settings.displayConvert")??"Convertir a una moneda nica"})]})]}),w.jsxs("label",{className:"text-sm",children:[w.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:i("settings.baseCurrency")??"Moneda base"}),w.jsx("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 disabled:opacity-60",value:t.settings.baseCurrency,onChange:B=>v(B.target.value),disabled:t.settings.currencyDisplayMode!=="convertToBase",children:vs.map(B=>w.jsxs("option",{value:B.code,children:[B.code,"  ",B.names[t.settings.language]]},B.code))})]})]})}),w.jsx(In,{title:i("settings.onboardingTitle")??"Primeros pasos",description:i("settings.onboardingDescription")??"Puedes volver a ver el onboarding cuando quieras.",tone:"blue",children:w.jsx("button",{type:"button",className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",onClick:E,children:i("settings.openOnboarding")??"Ver onboarding de nuevo"})})]}),w.jsxs(kc,{title:i("settings.groupIntegrations")??"Integraciones",gradientColors:["#38BDF8","#A78BFA","#FB7185"],children:[w.jsx(In,{tone:"fuchsia",hideHeader:!0,children:w.jsxs("div",{className:"space-y-3",children:[w.jsxs("label",{className:"flex items-start gap-3",children:[w.jsx("input",{type:"checkbox",checked:!!t.settings.calendarUseDedicatedCalendar,onChange:B=>S(B.target.checked),className:"mt-1 h-4 w-4"}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("div",{className:"text-sm font-semibold text-slate-200",children:i("settings.calendarDedicatedLabel")??"Usar calendario dedicado"}),w.jsx("div",{className:"mt-1 text-xs text-slate-400",children:i("settings.calendarDedicatedHint")??"Al activarlo, se crea un calendario dedicado para tus suscripciones."})]})]}),w.jsxs("label",{className:"flex items-start gap-3",children:[w.jsx("input",{type:"checkbox",checked:!!t.settings.calendarAutoSyncAll,onChange:B=>b(B.target.checked),className:"mt-1 h-4 w-4"}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("div",{className:"text-sm font-semibold text-slate-200",children:i("settings.calendarAutoSyncAllLabel")??"Auto-sync de suscripciones"}),w.jsx("div",{className:"mt-1 text-xs text-slate-400",children:i("settings.calendarAutoSyncAllHint")??"Al guardar cambios en Suscripciones, se intentar sincronizar automticamente (si ya diste permiso)."})]})]}),w.jsxs("div",{className:"rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[w.jsx("div",{className:"text-sm font-semibold text-slate-200",children:i("settings.calendarReminderTitle")??"Notificacin por defecto"}),w.jsx("div",{className:"mt-1 text-xs text-slate-400",children:i("settings.calendarReminderHint")??"Se aplica al sincronizar (crear/actualizar) eventos de suscripciones. 0 das desactiva recordatorios."}),w.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[w.jsxs("label",{className:"text-xs text-slate-300",children:[w.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:i("settings.calendarReminderDaysLabel")??"Das antes"}),w.jsx("input",{type:"number",min:0,max:365,value:Math.max(0,Math.trunc(Number(t.settings.calendarReminderDaysBefore??1))),onChange:B=>k(Number(B.target.value)),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100"})]}),w.jsxs("label",{className:"text-xs text-slate-300",children:[w.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:i("settings.calendarReminderMethodLabel")??"Tipo"}),w.jsxs("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:t.settings.calendarReminderMethod==="email"?"email":"popup",onChange:B=>P(B.target.value==="email"?"email":"popup"),children:[w.jsx("option",{value:"popup",children:i("settings.calendarReminderMethodPopup")??"Notificacin"}),w.jsx("option",{value:"email",children:i("settings.calendarReminderMethodEmail")??"Email"})]})]})]})]}),w.jsx("a",{className:"inline-flex rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500",href:T,target:"_blank",rel:"noreferrer",children:i("settings.openGoogleCalendar")??"Abrir Google Calendar"})]})}),w.jsx(In,{title:i("settings.extensionTitle")??"Extensin",description:i("settings.floatingButtonHint")??"Si lo desactivas, podrs abrir Subly solo desde el icono de la extensin (o el panel lateral si ya est abierto).",tone:"fuchsia",children:w.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[w.jsx("input",{type:"checkbox",checked:t.settings.calendarFloatingButtonEnabled!==!1,onChange:B=>C(B.target.checked),className:"h-4 w-4"}),w.jsx("span",{className:"font-semibold text-slate-200",children:i("settings.floatingButtonLabel")??"Mostrar botn flotante en Google Calendar"})]})}),w.jsxs(In,{title:i("settings.privacyTitle")??"Permisos",tone:"fuchsia",children:[w.jsx("p",{className:"text-sm text-slate-300",children:i("settings.privacyBody")??"Subly guarda tus datos localmente. Si activas sincronizacin/backup, usa Google OAuth para crear/actualizar eventos en Google Calendar y guardar una copia JSON en Drive (appDataFolder)."}),w.jsx("p",{className:"mt-2 text-xs text-slate-400",children:i("settings.permissionsHint")??"Permisos: identity (OAuth), storage (guardar estado), sidePanel (UI), y acceso a Google APIs + proveedor de tipos de cambio."}),w.jsxs("div",{className:"mt-4",children:[w.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-amber-800/60 bg-amber-950/30 px-4 py-2 text-sm font-semibold text-amber-200 shadow-sm backdrop-blur ring-1 ring-white/10 hover:bg-amber-950/45",onClick:G,children:i("settings.googleDisconnectLabel")??"Desconectar Google"}),w.jsx("div",{className:"mt-2 text-xs text-slate-400",children:i("settings.googleDisconnectHint")??"Revoca el token OAuth y fuerza a pedir permisos de nuevo la prxima vez. No borra eventos de Calendar ni tu backup en Drive."})]})]})]}),w.jsxs(kc,{title:i("settings.groupData")??"Datos y mantenimiento",gradientColors:["#34D399","#A3E635","#60A5FA"],children:[w.jsxs(In,{title:i("drive.title")??"Copia de seguridad",description:i("drive.body")??"Guarda una copia en tu Google Drive y restaura una copia anterior cuando lo necesites.",tone:"emerald",children:[w.jsxs("div",{className:"text-xs font-semibold text-slate-400",children:[i("drive.lastBackup")??"ltima copia",": ",f]}),w.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[w.jsx("button",{type:"button",className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-500 disabled:opacity-60",onClick:A,disabled:a!==null,children:a==="save"?i("drive.saving")??"Guardando":i("drive.save")??"Guardar copia"}),w.jsx("button",{type:"button",className:"rounded-md bg-slate-100 px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-slate-200 disabled:opacity-60",onClick:V,disabled:a!==null,children:a==="restore"?i("drive.restoring")??"Restaurando":i("drive.restore")??"Restaurar copia"})]})]}),w.jsx(In,{title:i("settings.helpPrivacyQ")??"Privacidad",description:i("settings.helpPrivacyA")??"Tus datos se guardan localmente. Solo si activas integraciones, Subly usa Google OAuth para Calendar y/o guardar un backup JSON en Drive (appDataFolder).",tone:"cyan",children:w.jsx("a",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",href:j,target:"_blank",rel:"noreferrer",children:i("settings.helpPrivacyOpen")??"Abrir poltica de privacidad"})}),w.jsx(In,{title:i("settings.dataTitle")??"Datos",description:i("settings.resetLocalHint")??"Elimina suscripciones y restablece ajustes de este dispositivo. No borra tu copia en Drive ni eventos ya creados en Calendar.",tone:"rose",children:w.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-500",onClick:q,children:i("settings.resetLocalLabel")??"Borrar datos locales"})})]}),w.jsxs(kc,{title:i("settings.groupHelp")??"Ayuda",gradientColors:["#94A3B8","#E2E8F0","#A78BFA"],children:[w.jsx(In,{title:i("settings.helpFaqTitle")??"FAQ",description:i("settings.helpFaqDescription")??"Respuestas rpidas y solucin de problemas.",tone:"amber",children:w.jsxs("div",{className:"space-y-2 text-sm",children:[w.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[w.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[w.jsx("span",{children:i("settings.helpOpenPanelQ")??"Cmo abro el panel?"}),w.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:w.jsx("path",{d:"M6 9l6 6 6-6"})})]}),w.jsx("div",{className:"mt-2 text-slate-300",children:i("settings.helpOpenPanelA")??"En Google Calendar puedes usar el botn flotante (si est activado) o hacer clic en el icono de la extensin para abrir el Side Panel."})]}),w.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[w.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[w.jsx("span",{children:i("settings.helpDriveQ")??"Qu se guarda en Drive?"}),w.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:w.jsx("path",{d:"M6 9l6 6 6-6"})})]}),w.jsx("div",{className:"mt-2 text-slate-300",children:i("settings.helpDriveA")??"Un nico archivo JSON en la carpeta oculta appDataFolder (por defecto: subly-state.json)."})]}),w.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[w.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[w.jsx("span",{children:i("settings.helpCalendarQ")??"Qu crea en Google Calendar?"}),w.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:w.jsx("path",{d:"M6 9l6 6 6-6"})})]}),w.jsx("div",{className:"mt-2 text-slate-300",children:i("settings.helpCalendarA")??"Eventos recurrentes (todo el da) para cada suscripcin, si sincronizas."})]}),w.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[w.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[w.jsx("span",{children:i("settings.helpTroubleshootingQ")??"Solucin de problemas"}),w.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:w.jsx("path",{d:"M6 9l6 6 6-6"})})]}),w.jsxs("div",{className:"mt-2 text-slate-300",children:[w.jsx("div",{children:i("settings.helpTroubleshootingA")??"Si algo no funciona, prueba estos pasos:"}),w.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[w.jsx("li",{children:i("settings.helpTs1")??"Recarga Google Calendar y vuelve a abrir el panel."}),w.jsx("li",{children:i("settings.helpTs2")??"Revisa los toggles de sincronizacin y el botn flotante en Integraciones."}),w.jsx("li",{children:i("settings.helpTs3")??"Si Drive/Calendar falla, desconecta Google y vuelve a autorizar desde la accin que lo requiera."})]})]})]})]})}),w.jsxs(In,{title:i("settings.helpContactTitle")??"Ponte en contacto con nosotros",description:i("settings.helpContactDescription")??"Incluye el diagnstico para resolver incidencias ms rpido.",tone:"amber",children:[w.jsx("div",{className:"text-sm text-slate-300",children:i("settings.helpContactA")??"Para soporte, usa el email de soporte indicado en la ficha de Chrome Web Store. Si vas a reportar un problema, adjunta tambin el Diagnstico."}),w.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[w.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[w.jsx("div",{className:"text-xs font-semibold text-slate-200",children:i("settings.helpStatusAutoSync")??"Auto-sync"}),w.jsx("div",{className:t.settings.calendarAutoSyncAll?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.calendarAutoSyncAll?i("common.on")??"ON":i("common.off")??"OFF"})]}),w.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[w.jsx("div",{className:"text-xs font-semibold text-slate-200",children:i("settings.helpStatusDedicated")??"Calendario dedicado"}),w.jsx("div",{className:t.settings.calendarUseDedicatedCalendar?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.calendarUseDedicatedCalendar?i("common.on")??"ON":i("common.off")??"OFF"})]}),w.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[w.jsx("div",{className:"text-xs font-semibold text-slate-200",children:i("settings.helpStatusFloating")??"Botn flotante"}),w.jsx("div",{className:t.settings.calendarFloatingButtonEnabled!==!1?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.calendarFloatingButtonEnabled!==!1?i("common.on")??"ON":i("common.off")??"OFF"})]}),w.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[w.jsx("div",{className:"text-xs font-semibold text-slate-200",children:i("settings.helpStatusDrive")??"Backup en Drive"}),w.jsx("div",{className:t.settings.driveBackupFileId?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.driveBackupFileId?i("settings.helpStatusLinked")??"Vinculado":i("settings.helpStatusNotLinked")??"No vinculado"})]})]}),w.jsxs("div",{className:"mt-2 text-xs text-slate-400",children:[i("settings.helpContactLastBackup")??"ltima copia en Drive",": ",f]}),w.jsx("div",{className:"mt-3 text-xs text-slate-400",children:i("settings.helpDiagnosticsA")??"Copia un resumen del estado de la app para adjuntarlo en un reporte (no incluye tokens OAuth)."}),w.jsx("div",{className:"mt-2",children:w.jsx("button",{type:"button",onClick:N,className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",children:i("settings.helpCopyDiagnostics")??"Copiar diagnstico"})})]}),w.jsxs(In,{title:i("settings.helpFeedbackTitle")??"Enviar comentarios",description:i("settings.helpFeedbackDescription")??"Ideas, mejoras, bugs o sugerencias.",tone:"amber",children:[w.jsx("textarea",{className:"min-h-[96px] w-full resize-y rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:i("settings.helpFeedbackPlaceholder")??"Cuntanos qu mejoraras, qu esperabas que pasase y cmo reproducirlo",value:u,onChange:B=>h(B.target.value)}),w.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[w.jsx("button",{type:"button",onClick:D,className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",children:i("settings.helpCopyFeedback")??"Copiar comentario"}),w.jsx("div",{className:"text-xs text-slate-400",children:i("settings.helpFeedbackHint")??"Pega el comentario en el email de soporte o en el formulario de la tienda."})]})]})]})]})}const x3=[{path:"/",element:w.jsx(zA,{}),children:[{path:"/",element:w.jsx(Zx,{})},{path:"/dashboard",element:w.jsx(Zx,{})},{path:"/subscriptions",element:w.jsx(f3,{})},{path:"/settings",element:w.jsx(v3,{})}]}],b3=K2(x3);function w3(){const{t}=ho();return w.jsx("div",{className:"p-4 text-sm",children:t("common.loading")??"Loading"})}Lk.createRoot(document.getElementById("root")).render(w.jsx(Af.StrictMode,{children:w.jsx(DA,{children:w.jsx(e3,{children:w.jsx(M.Suspense,{fallback:w.jsx(w3,{}),children:w.jsx(oM,{router:b3})})})})}));
