function Dx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Jg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wu={exports:{}},io={},Su={exports:{}},Ie={};var yp;function Tx(){if(yp)return Ie;yp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function _(F,V,de){this.props=F,this.context=V,this.refs=w,this.updater=de||x}_.prototype.isReactComponent={},_.prototype.setState=function(F,V){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,V,"setState")},_.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=_.prototype;function R(F,V,de){this.props=F,this.context=V,this.refs=w,this.updater=de||x}var M=R.prototype=new k;M.constructor=R,b(M,_.prototype),M.isPureReactComponent=!0;var A=Array.isArray,N=Object.prototype.hasOwnProperty,z={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function L(F,V,de){var le,ke={},Me=null,Oe=null;if(V!=null)for(le in V.ref!==void 0&&(Oe=V.ref),V.key!==void 0&&(Me=""+V.key),V)N.call(V,le)&&!E.hasOwnProperty(le)&&(ke[le]=V[le]);var Le=arguments.length-2;if(Le===1)ke.children=de;else if(1<Le){for(var $e=Array(Le),ht=0;ht<Le;ht++)$e[ht]=arguments[ht+2];ke.children=$e}if(F&&F.defaultProps)for(le in Le=F.defaultProps,Le)ke[le]===void 0&&(ke[le]=Le[le]);return{$$typeof:t,type:F,key:Me,ref:Oe,props:ke,_owner:z.current}}function W(F,V){return{$$typeof:t,type:F.type,key:V,ref:F.ref,props:F.props,_owner:F._owner}}function X(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function q(F){var V={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(de){return V[de]})}var J=/\/+/g;function ae(F,V){return typeof F=="object"&&F!==null&&F.key!=null?q(""+F.key):V.toString(36)}function Q(F,V,de,le,ke){var Me=typeof F;(Me==="undefined"||Me==="boolean")&&(F=null);var Oe=!1;if(F===null)Oe=!0;else switch(Me){case"string":case"number":Oe=!0;break;case"object":switch(F.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=F,ke=ke(Oe),F=le===""?"."+ae(Oe,0):le,A(ke)?(de="",F!=null&&(de=F.replace(J,"$&/")+"/"),Q(ke,V,de,"",function(ht){return ht})):ke!=null&&(X(ke)&&(ke=W(ke,de+(!ke.key||Oe&&Oe.key===ke.key?"":(""+ke.key).replace(J,"$&/")+"/")+F)),V.push(ke)),1;if(Oe=0,le=le===""?".":le+":",A(F))for(var Le=0;Le<F.length;Le++){Me=F[Le];var $e=le+ae(Me,Le);Oe+=Q(Me,V,de,$e,ke)}else if($e=v(F),typeof $e=="function")for(F=$e.call(F),Le=0;!(Me=F.next()).done;)Me=Me.value,$e=le+ae(Me,Le++),Oe+=Q(Me,V,de,$e,ke);else if(Me==="object")throw V=String(F),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Oe}function re(F,V,de){if(F==null)return F;var le=[],ke=0;return Q(F,le,"","",function(Me){return V.call(de,Me,ke++)}),le}function ce(F){if(F._status===-1){var V=F._result;V=V(),V.then(function(de){(F._status===0||F._status===-1)&&(F._status=1,F._result=de)},function(de){(F._status===0||F._status===-1)&&(F._status=2,F._result=de)}),F._status===-1&&(F._status=0,F._result=V)}if(F._status===1)return F._result.default;throw F._result}var fe={current:null},Y={transition:null},ne={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:Y,ReactCurrentOwner:z};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:re,forEach:function(F,V,de){re(F,function(){V.apply(this,arguments)},de)},count:function(F){var V=0;return re(F,function(){V++}),V},toArray:function(F){return re(F,function(V){return V})||[]},only:function(F){if(!X(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ie.Component=_,Ie.Fragment=n,Ie.Profiler=s,Ie.PureComponent=R,Ie.StrictMode=r,Ie.Suspense=d,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ie.act=K,Ie.cloneElement=function(F,V,de){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var le=b({},F.props),ke=F.key,Me=F.ref,Oe=F._owner;if(V!=null){if(V.ref!==void 0&&(Me=V.ref,Oe=z.current),V.key!==void 0&&(ke=""+V.key),F.type&&F.type.defaultProps)var Le=F.type.defaultProps;for($e in V)N.call(V,$e)&&!E.hasOwnProperty($e)&&(le[$e]=V[$e]===void 0&&Le!==void 0?Le[$e]:V[$e])}var $e=arguments.length-2;if($e===1)le.children=de;else if(1<$e){Le=Array($e);for(var ht=0;ht<$e;ht++)Le[ht]=arguments[ht+2];le.children=Le}return{$$typeof:t,type:F.type,key:ke,ref:Me,props:le,_owner:Oe}},Ie.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Ie.createElement=L,Ie.createFactory=function(F){var V=L.bind(null,F);return V.type=F,V},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(F){return{$$typeof:c,render:F}},Ie.isValidElement=X,Ie.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ce}},Ie.memo=function(F,V){return{$$typeof:f,type:F,compare:V===void 0?null:V}},Ie.startTransition=function(F){var V=Y.transition;Y.transition={};try{F()}finally{Y.transition=V}},Ie.unstable_act=K,Ie.useCallback=function(F,V){return fe.current.useCallback(F,V)},Ie.useContext=function(F){return fe.current.useContext(F)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(F){return fe.current.useDeferredValue(F)},Ie.useEffect=function(F,V){return fe.current.useEffect(F,V)},Ie.useId=function(){return fe.current.useId()},Ie.useImperativeHandle=function(F,V,de){return fe.current.useImperativeHandle(F,V,de)},Ie.useInsertionEffect=function(F,V){return fe.current.useInsertionEffect(F,V)},Ie.useLayoutEffect=function(F,V){return fe.current.useLayoutEffect(F,V)},Ie.useMemo=function(F,V){return fe.current.useMemo(F,V)},Ie.useReducer=function(F,V,de){return fe.current.useReducer(F,V,de)},Ie.useRef=function(F){return fe.current.useRef(F)},Ie.useState=function(F){return fe.current.useState(F)},Ie.useSyncExternalStore=function(F,V,de){return fe.current.useSyncExternalStore(F,V,de)},Ie.useTransition=function(){return fe.current.useTransition()},Ie.version="18.3.1",Ie}var vp;function yd(){return vp||(vp=1,Su.exports=Tx()),Su.exports}var xp;function Nx(){if(xp)return io;xp=1;var t=yd(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var p,g={},v=null,x=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)r.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:c,key:v,ref:x,props:g,_owner:s.current}}return io.Fragment=n,io.jsx=l,io.jsxs=l,io}var bp;function Ax(){return bp||(bp=1,wu.exports=Nx()),wu.exports}var C=Ax(),P=yd();const Zg=Jg(P),Lx=Dx({__proto__:null,default:Zg},[P]);var Va={},_u={exports:{}},rn={},ku={exports:{}},Cu={};var wp;function Ox(){return wp||(wp=1,(function(t){function e(Y,ne){var K=Y.length;Y.push(ne);e:for(;0<K;){var F=K-1>>>1,V=Y[F];if(0<s(V,ne))Y[F]=ne,Y[K]=V,K=F;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ne=Y[0],K=Y.pop();if(K!==ne){Y[0]=K;e:for(var F=0,V=Y.length,de=V>>>1;F<de;){var le=2*(F+1)-1,ke=Y[le],Me=le+1,Oe=Y[Me];if(0>s(ke,K))Me<V&&0>s(Oe,ke)?(Y[F]=Oe,Y[Me]=K,F=Me):(Y[F]=ke,Y[le]=K,F=le);else if(Me<V&&0>s(Oe,K))Y[F]=Oe,Y[Me]=K,F=Me;else break e}}return ne}function s(Y,ne){var K=Y.sortIndex-ne.sortIndex;return K!==0?K:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,g=null,v=3,x=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Y){for(var ne=n(f);ne!==null;){if(ne.callback===null)r(f);else if(ne.startTime<=Y)r(f),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=n(f)}}function A(Y){if(w=!1,M(Y),!b)if(n(d)!==null)b=!0,ce(N);else{var ne=n(f);ne!==null&&fe(A,ne.startTime-Y)}}function N(Y,ne){b=!1,w&&(w=!1,k(L),L=-1),x=!0;var K=v;try{for(M(ne),g=n(d);g!==null&&(!(g.expirationTime>ne)||Y&&!q());){var F=g.callback;if(typeof F=="function"){g.callback=null,v=g.priorityLevel;var V=F(g.expirationTime<=ne);ne=t.unstable_now(),typeof V=="function"?g.callback=V:g===n(d)&&r(d),M(ne)}else r(d);g=n(d)}if(g!==null)var de=!0;else{var le=n(f);le!==null&&fe(A,le.startTime-ne),de=!1}return de}finally{g=null,v=K,x=!1}}var z=!1,E=null,L=-1,W=5,X=-1;function q(){return!(t.unstable_now()-X<W)}function J(){if(E!==null){var Y=t.unstable_now();X=Y;var ne=!0;try{ne=E(!0,Y)}finally{ne?ae():(z=!1,E=null)}}else z=!1}var ae;if(typeof R=="function")ae=function(){R(J)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=J,ae=function(){re.postMessage(null)}}else ae=function(){_(J,0)};function ce(Y){E=Y,z||(z=!0,ae())}function fe(Y,ne){L=_(function(){Y(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,ce(N))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var K=v;v=ne;try{return Y()}finally{v=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var K=v;v=Y;try{return ne()}finally{v=K}},t.unstable_scheduleCallback=function(Y,ne,K){var F=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?F+K:F):K=F,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,Y={id:p++,callback:ne,priorityLevel:Y,startTime:K,expirationTime:V,sortIndex:-1},K>F?(Y.sortIndex=K,e(f,Y),n(d)===null&&Y===n(f)&&(w?(k(L),L=-1):w=!0,fe(A,K-F))):(Y.sortIndex=V,e(d,Y),b||x||(b=!0,ce(N))),Y},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(Y){var ne=v;return function(){var K=v;v=ne;try{return Y.apply(this,arguments)}finally{v=K}}}})(Cu)),Cu}var Sp;function Fx(){return Sp||(Sp=1,ku.exports=Ox()),ku.exports}var _p;function jx(){if(_p)return rn;_p=1;var t=yd(),e=Fx();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(i){return d.call(g,i)?!0:d.call(p,i)?!1:f.test(i)?g[i]=!0:(p[i]=!0,!1)}function x(i,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,u,h){if(o===null||typeof o>"u"||x(i,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function w(i,o,u,h,m,y,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=S}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];_[o]=new w(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(k,R);_[o]=new w(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(k,R);_[o]=new w(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(k,R);_[o]=new w(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,o,u,h){var m=_.hasOwnProperty(o)?_[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,u,m,h)&&(u=null),h||m===null?v(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?i.setAttributeNS(h,o,u):i.setAttribute(o,u))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),z=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var K=Object.assign,F;function V(i){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+i}var de=!1;function le(i,o){if(!i||de)return"";de=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var h=H}Reflect.construct(i,[],o)}else{try{o.call()}catch(H){h=H}i.call(o.prototype)}else{try{throw Error()}catch(H){h=H}i()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),y=h.stack.split(`
`),S=m.length-1,D=y.length-1;1<=S&&0<=D&&m[S]!==y[D];)D--;for(;1<=S&&0<=D;S--,D--)if(m[S]!==y[D]){if(S!==1||D!==1)do if(S--,D--,0>D||m[S]!==y[D]){var O=`
`+m[S].replace(" at new "," at ");return i.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",i.displayName)),O}while(1<=S&&0<=D);break}}}finally{de=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?V(i):""}function ke(i){switch(i.tag){case 5:return V(i.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return i=le(i.type,!1),i;case 11:return i=le(i.type.render,!1),i;case 1:return i=le(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case z:return"Portal";case W:return"Profiler";case L:return"StrictMode";case ae:return"Suspense";case Q:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case q:return(i.displayName||"Context")+".Consumer";case X:return(i._context.displayName||"Context")+".Provider";case J:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case re:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case ce:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function Oe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Le(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $e(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ht(i){var o=$e(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function $t(i){i._valueTracker||(i._valueTracker=ht(i))}function He(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=$e(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function je(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ht(i,o){var u=o.checked;return K({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Tt(i,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Le(o.value!=null?o.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function wt(i,o){o=o.checked,o!=null&&M(i,"checked",o,!1)}function ln(i,o){wt(i,o);var u=Le(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Mr(i,o.type,u):o.hasOwnProperty("defaultValue")&&Mr(i,o.type,Le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ui(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Mr(i,o,u){(o!=="number"||je(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var ir=Array.isArray;function Hn(i,o,u,h){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Le(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function vn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Tn(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(ir(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Le(u)}}function Xt(i,o){var u=Le(o.value),h=Le(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function xn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ai(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wn(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ai(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Mt,qt=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,h,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Mt=Mt||document.createElement("div"),Mt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Mt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Nn(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lt=["Webkit","ms","Moz","O"];Object.keys(cn).forEach(function(i){Lt.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),cn[o]=cn[i]})});function $i(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||cn.hasOwnProperty(i)&&cn[i]?(""+o).trim():o+"px"}function Wt(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=$i(u,o[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,m):i[u]=m}}var li=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Er(i,o){if(o){if(li[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function An(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ln=null;function G(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ye=null,we=null,_e=null;function ze(i){if(i=Hs(i)){if(typeof ye!="function")throw Error(n(280));var o=i.stateNode;o&&(o=oa(o),ye(i.stateNode,i.type,o))}}function Pe(i){we?_e?_e.push(i):_e=[i]:we=i}function Ye(){if(we){var i=we,o=_e;if(_e=we=null,ze(i),o)for(i=0;i<o.length;i++)ze(o[i])}}function Ne(i,o){return i(o)}function tt(){}var Kt=!1;function ci(i,o,u){if(Kt)return i(o,u);Kt=!0;try{return Ne(i,o,u)}finally{Kt=!1,(we!==null||_e!==null)&&(tt(),Ye())}}function sr(i,o){var u=i.stateNode;if(u===null)return null;var h=oa(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Rr=!1;if(c)try{var T={};Object.defineProperty(T,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",T,T),window.removeEventListener("test",T,T)}catch{Rr=!1}function I(i,o,u,h,m,y,S,D,O){var H=Array.prototype.slice.call(arguments,3);try{o.apply(u,H)}catch(te){this.onError(te)}}var $=!1,Z=null,se=!1,ve=null,he={onError:function(i){$=!0,Z=i}};function xe(i,o,u,h,m,y,S,D,O){$=!1,Z=null,I.apply(he,arguments)}function ue(i,o,u,h,m,y,S,D,O){if(xe.apply(this,arguments),$){if($){var H=Z;$=!1,Z=null}else throw Error(n(198));se||(se=!0,ve=H)}}function me(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Re(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Ee(i){if(me(i)!==i)throw Error(n(188))}function Ge(i){var o=i.alternate;if(!o){if(o=me(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,h=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return Ee(m),i;if(y===h)return Ee(m),o;y=y.sibling}throw Error(n(188))}if(u.return!==h.return)u=m,h=y;else{for(var S=!1,D=m.child;D;){if(D===u){S=!0,u=m,h=y;break}if(D===h){S=!0,h=m,u=y;break}D=D.sibling}if(!S){for(D=y.child;D;){if(D===u){S=!0,u=y,h=m;break}if(D===h){S=!0,h=y,u=m;break}D=D.sibling}if(!S)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function We(i){return i=Ge(i),i!==null?xt(i):null}function xt(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=xt(i);if(o!==null)return o;i=i.sibling}return null}var gt=e.unstable_scheduleCallback,Et=e.unstable_cancelCallback,Ke=e.unstable_shouldYield,Qt=e.unstable_requestPaint,Je=e.unstable_now,ui=e.unstable_getCurrentPriorityLevel,bn=e.unstable_ImmediatePriority,un=e.unstable_UserBlockingPriority,Pr=e.unstable_NormalPriority,di=e.unstable_LowPriority,Vn=e.unstable_IdlePriority,or=null,Vt=null;function Ve(i){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(or,i,void 0,(i.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:lt,Dr=Math.log,ar=Math.LN2;function lt(i){return i>>>=0,i===0?32:31-(Dr(i)/ar|0)|0}var lr=64,fi=4194304;function hi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Wo(i,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,S=u&268435455;if(S!==0){var D=S&~m;D!==0?h=hi(D):(y&=S,y!==0&&(h=hi(y)))}else S=u&~m,S!==0?h=hi(S):y!==0&&(h=hi(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)u=31-nt(o),m=1<<u,h|=i[u],o&=~m;return h}function qy(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ky(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var S=31-nt(y),D=1<<S,O=m[S];O===-1?((D&u)===0||(D&h)!==0)&&(m[S]=qy(D,o)):O<=o&&(i.expiredLanes|=D),y&=~D}}function $l(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Gd(){var i=lr;return lr<<=1,(lr&4194240)===0&&(lr=64),i}function Hl(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ms(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-nt(o),i[o]=u}function Qy(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-nt(u),y=1<<m;o[m]=0,h[m]=-1,i[m]=-1,u&=~y}}function Wl(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-nt(u),m=1<<h;m&o|i[h]&o&&(i[h]|=o),u&=~m}}var Ze=0;function Xd(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var qd,Vl,Kd,Qd,Jd,Yl=!1,Vo=[],Tr=null,Nr=null,Ar=null,Es=new Map,Rs=new Map,Lr=[],Jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zd(i,o){switch(i){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Es.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(o.pointerId)}}function Ps(i,o,u,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Hs(o),o!==null&&Vl(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Zy(i,o,u,h,m){switch(o){case"focusin":return Tr=Ps(Tr,i,o,u,h,m),!0;case"dragenter":return Nr=Ps(Nr,i,o,u,h,m),!0;case"mouseover":return Ar=Ps(Ar,i,o,u,h,m),!0;case"pointerover":var y=m.pointerId;return Es.set(y,Ps(Es.get(y)||null,i,o,u,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Rs.set(y,Ps(Rs.get(y)||null,i,o,u,h,m)),!0}return!1}function ef(i){var o=pi(i.target);if(o!==null){var u=me(o);if(u!==null){if(o=u.tag,o===13){if(o=Re(u),o!==null){i.blockedOn=o,Jd(i.priority,function(){Kd(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yo(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Xl(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Ln=h,u.target.dispatchEvent(h),Ln=null}else return o=Hs(u),o!==null&&Vl(o),i.blockedOn=u,!1;o.shift()}return!0}function tf(i,o,u){Yo(i)&&u.delete(o)}function ev(){Yl=!1,Tr!==null&&Yo(Tr)&&(Tr=null),Nr!==null&&Yo(Nr)&&(Nr=null),Ar!==null&&Yo(Ar)&&(Ar=null),Es.forEach(tf),Rs.forEach(tf)}function Ds(i,o){i.blockedOn===o&&(i.blockedOn=null,Yl||(Yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ev)))}function Ts(i){function o(m){return Ds(m,i)}if(0<Vo.length){Ds(Vo[0],i);for(var u=1;u<Vo.length;u++){var h=Vo[u];h.blockedOn===i&&(h.blockedOn=null)}}for(Tr!==null&&Ds(Tr,i),Nr!==null&&Ds(Nr,i),Ar!==null&&Ds(Ar,i),Es.forEach(o),Rs.forEach(o),u=0;u<Lr.length;u++)h=Lr[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<Lr.length&&(u=Lr[0],u.blockedOn===null);)ef(u),u.blockedOn===null&&Lr.shift()}var Hi=A.ReactCurrentBatchConfig,Go=!0;function tv(i,o,u,h){var m=Ze,y=Hi.transition;Hi.transition=null;try{Ze=1,Gl(i,o,u,h)}finally{Ze=m,Hi.transition=y}}function nv(i,o,u,h){var m=Ze,y=Hi.transition;Hi.transition=null;try{Ze=4,Gl(i,o,u,h)}finally{Ze=m,Hi.transition=y}}function Gl(i,o,u,h){if(Go){var m=Xl(i,o,u,h);if(m===null)dc(i,o,h,Xo,u),Zd(i,h);else if(Zy(m,i,o,u,h))h.stopPropagation();else if(Zd(i,h),o&4&&-1<Jy.indexOf(i)){for(;m!==null;){var y=Hs(m);if(y!==null&&qd(y),y=Xl(i,o,u,h),y===null&&dc(i,o,h,Xo,u),y===m)break;m=y}m!==null&&h.stopPropagation()}else dc(i,o,h,null,u)}}var Xo=null;function Xl(i,o,u,h){if(Xo=null,i=G(h),i=pi(i),i!==null)if(o=me(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Re(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Xo=i,null}function nf(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ui()){case bn:return 1;case un:return 4;case Pr:case di:return 16;case Vn:return 536870912;default:return 16}default:return 16}}var Or=null,ql=null,qo=null;function rf(){if(qo)return qo;var i,o=ql,u=o.length,h,m="value"in Or?Or.value:Or.textContent,y=m.length;for(i=0;i<u&&o[i]===m[i];i++);var S=u-i;for(h=1;h<=S&&o[u-h]===m[y-h];h++);return qo=m.slice(i,1<h?1-h:void 0)}function Ko(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Qo(){return!0}function sf(){return!1}function dn(i){function o(u,h,m,y,S){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Qo:sf,this.isPropagationStopped=sf,this}return K(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),o}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=dn(Wi),Ns=K({},Wi,{view:0,detail:0}),rv=dn(Ns),Ql,Jl,As,Jo=K({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==As&&(As&&i.type==="mousemove"?(Ql=i.screenX-As.screenX,Jl=i.screenY-As.screenY):Jl=Ql=0,As=i),Ql)},movementY:function(i){return"movementY"in i?i.movementY:Jl}}),of=dn(Jo),iv=K({},Jo,{dataTransfer:0}),sv=dn(iv),ov=K({},Ns,{relatedTarget:0}),Zl=dn(ov),av=K({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),lv=dn(av),cv=K({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),uv=dn(cv),dv=K({},Wi,{data:0}),af=dn(dv),fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mv(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=pv[i])?!!o[i]:!1}function ec(){return mv}var gv=K({},Ns,{key:function(i){if(i.key){var o=fv[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ko(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hv[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(i){return i.type==="keypress"?Ko(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ko(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yv=dn(gv),vv=K({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=dn(vv),xv=K({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),bv=dn(xv),wv=K({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sv=dn(wv),_v=K({},Jo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),kv=dn(_v),Cv=[9,13,27,32],tc=c&&"CompositionEvent"in window,Ls=null;c&&"documentMode"in document&&(Ls=document.documentMode);var Mv=c&&"TextEvent"in window&&!Ls,cf=c&&(!tc||Ls&&8<Ls&&11>=Ls),uf=" ",df=!1;function ff(i,o){switch(i){case"keyup":return Cv.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hf(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vi=!1;function Ev(i,o){switch(i){case"compositionend":return hf(o);case"keypress":return o.which!==32?null:(df=!0,uf);case"textInput":return i=o.data,i===uf&&df?null:i;default:return null}}function Rv(i,o){if(Vi)return i==="compositionend"||!tc&&ff(i,o)?(i=rf(),qo=ql=Or=null,Vi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return cf&&o.locale!=="ko"?null:o.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Pv[i.type]:o==="textarea"}function mf(i,o,u,h){Pe(h),o=ra(o,"onChange"),0<o.length&&(u=new Kl("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var Os=null,Fs=null;function Dv(i){Af(i,0)}function Zo(i){var o=Ki(i);if(He(o))return i}function Tv(i,o){if(i==="change")return o}var gf=!1;if(c){var nc;if(c){var rc="oninput"in document;if(!rc){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),rc=typeof yf.oninput=="function"}nc=rc}else nc=!1;gf=nc&&(!document.documentMode||9<document.documentMode)}function vf(){Os&&(Os.detachEvent("onpropertychange",xf),Fs=Os=null)}function xf(i){if(i.propertyName==="value"&&Zo(Fs)){var o=[];mf(o,Fs,i,G(i)),ci(Dv,o)}}function Nv(i,o,u){i==="focusin"?(vf(),Os=o,Fs=u,Os.attachEvent("onpropertychange",xf)):i==="focusout"&&vf()}function Av(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Zo(Fs)}function Lv(i,o){if(i==="click")return Zo(o)}function Ov(i,o){if(i==="input"||i==="change")return Zo(o)}function Fv(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var On=typeof Object.is=="function"?Object.is:Fv;function js(i,o){if(On(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!d.call(o,m)||!On(i[m],o[m]))return!1}return!0}function bf(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wf(i,o){var u=bf(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=bf(u)}}function Sf(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Sf(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function _f(){for(var i=window,o=je();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=je(i.document)}return o}function ic(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function jv(i){var o=_f(),u=i.focusedElem,h=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Sf(u.ownerDocument.documentElement,u)){if(h!==null&&ic(u)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=wf(u,y);var S=wf(u,h);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var zv=c&&"documentMode"in document&&11>=document.documentMode,Yi=null,sc=null,zs=null,oc=!1;function kf(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;oc||Yi==null||Yi!==je(h)||(h=Yi,"selectionStart"in h&&ic(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),zs&&js(zs,h)||(zs=h,h=ra(sc,"onSelect"),0<h.length&&(o=new Kl("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=Yi)))}function ea(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Gi={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},ac={},Cf={};c&&(Cf=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function ta(i){if(ac[i])return ac[i];if(!Gi[i])return i;var o=Gi[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Cf)return ac[i]=o[u];return i}var Mf=ta("animationend"),Ef=ta("animationiteration"),Rf=ta("animationstart"),Pf=ta("transitionend"),Df=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(i,o){Df.set(i,o),a(o,[i])}for(var lc=0;lc<Tf.length;lc++){var cc=Tf[lc],Iv=cc.toLowerCase(),Bv=cc[0].toUpperCase()+cc.slice(1);Fr(Iv,"on"+Bv)}Fr(Mf,"onAnimationEnd"),Fr(Ef,"onAnimationIteration"),Fr(Rf,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Pf,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Nf(i,o,u){var h=i.type||"unknown-event";i.currentTarget=u,ue(h,o,void 0,i),i.currentTarget=null}function Af(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var S=h.length-1;0<=S;S--){var D=h[S],O=D.instance,H=D.currentTarget;if(D=D.listener,O!==y&&m.isPropagationStopped())break e;Nf(m,D,H),y=O}else for(S=0;S<h.length;S++){if(D=h[S],O=D.instance,H=D.currentTarget,D=D.listener,O!==y&&m.isPropagationStopped())break e;Nf(m,D,H),y=O}}}if(se)throw i=ve,se=!1,ve=null,i}function st(i,o){var u=o[yc];u===void 0&&(u=o[yc]=new Set);var h=i+"__bubble";u.has(h)||(Lf(o,i,2,!1),u.add(h))}function uc(i,o,u){var h=0;o&&(h|=4),Lf(u,i,h,o)}var na="_reactListening"+Math.random().toString(36).slice(2);function Bs(i){if(!i[na]){i[na]=!0,r.forEach(function(u){u!=="selectionchange"&&(Uv.has(u)||uc(u,!1,i),uc(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[na]||(o[na]=!0,uc("selectionchange",!1,o))}}function Lf(i,o,u,h){switch(nf(o)){case 1:var m=tv;break;case 4:m=nv;break;default:m=Gl}u=m.bind(null,o,u,i),m=void 0,!Rr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function dc(i,o,u,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var D=h.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var O=S.tag;if((O===3||O===4)&&(O=S.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;S=S.return}for(;D!==null;){if(S=pi(D),S===null)return;if(O=S.tag,O===5||O===6){h=y=S;continue e}D=D.parentNode}}h=h.return}ci(function(){var H=y,te=G(u),ie=[];e:{var ee=Df.get(i);if(ee!==void 0){var pe=Kl,be=i;switch(i){case"keypress":if(Ko(u)===0)break e;case"keydown":case"keyup":pe=yv;break;case"focusin":be="focus",pe=Zl;break;case"focusout":be="blur",pe=Zl;break;case"beforeblur":case"afterblur":pe=Zl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=bv;break;case Mf:case Ef:case Rf:pe=lv;break;case Pf:pe=Sv;break;case"scroll":pe=rv;break;case"wheel":pe=kv;break;case"copy":case"cut":case"paste":pe=uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=lf}var Se=(o&4)!==0,yt=!Se&&i==="scroll",B=Se?ee!==null?ee+"Capture":null:ee;Se=[];for(var j=H,U;j!==null;){U=j;var oe=U.stateNode;if(U.tag===5&&oe!==null&&(U=oe,B!==null&&(oe=sr(j,B),oe!=null&&Se.push(Us(j,oe,U)))),yt)break;j=j.return}0<Se.length&&(ee=new pe(ee,be,null,u,te),ie.push({event:ee,listeners:Se}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",ee&&u!==Ln&&(be=u.relatedTarget||u.fromElement)&&(pi(be)||be[cr]))break e;if((pe||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,pe?(be=u.relatedTarget||u.toElement,pe=H,be=be?pi(be):null,be!==null&&(yt=me(be),be!==yt||be.tag!==5&&be.tag!==6)&&(be=null)):(pe=null,be=H),pe!==be)){if(Se=of,oe="onMouseLeave",B="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Se=lf,oe="onPointerLeave",B="onPointerEnter",j="pointer"),yt=pe==null?ee:Ki(pe),U=be==null?ee:Ki(be),ee=new Se(oe,j+"leave",pe,u,te),ee.target=yt,ee.relatedTarget=U,oe=null,pi(te)===H&&(Se=new Se(B,j+"enter",be,u,te),Se.target=U,Se.relatedTarget=yt,oe=Se),yt=oe,pe&&be)t:{for(Se=pe,B=be,j=0,U=Se;U;U=Xi(U))j++;for(U=0,oe=B;oe;oe=Xi(oe))U++;for(;0<j-U;)Se=Xi(Se),j--;for(;0<U-j;)B=Xi(B),U--;for(;j--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=Xi(Se),B=Xi(B)}Se=null}else Se=null;pe!==null&&Of(ie,ee,pe,Se,!1),be!==null&&yt!==null&&Of(ie,yt,be,Se,!0)}}e:{if(ee=H?Ki(H):window,pe=ee.nodeName&&ee.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ee.type==="file")var Ce=Tv;else if(pf(ee))if(gf)Ce=Ov;else{Ce=Av;var De=Nv}else(pe=ee.nodeName)&&pe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ce=Lv);if(Ce&&(Ce=Ce(i,H))){mf(ie,Ce,u,te);break e}De&&De(i,ee,H),i==="focusout"&&(De=ee._wrapperState)&&De.controlled&&ee.type==="number"&&Mr(ee,"number",ee.value)}switch(De=H?Ki(H):window,i){case"focusin":(pf(De)||De.contentEditable==="true")&&(Yi=De,sc=H,zs=null);break;case"focusout":zs=sc=Yi=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,kf(ie,u,te);break;case"selectionchange":if(zv)break;case"keydown":case"keyup":kf(ie,u,te)}var Te;if(tc)e:{switch(i){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Vi?ff(i,u)&&(Ae="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ae="onCompositionStart");Ae&&(cf&&u.locale!=="ko"&&(Vi||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Vi&&(Te=rf()):(Or=te,ql="value"in Or?Or.value:Or.textContent,Vi=!0)),De=ra(H,Ae),0<De.length&&(Ae=new af(Ae,i,null,u,te),ie.push({event:Ae,listeners:De}),Te?Ae.data=Te:(Te=hf(u),Te!==null&&(Ae.data=Te)))),(Te=Mv?Ev(i,u):Rv(i,u))&&(H=ra(H,"onBeforeInput"),0<H.length&&(te=new af("onBeforeInput","beforeinput",null,u,te),ie.push({event:te,listeners:H}),te.data=Te))}Af(ie,o)})}function Us(i,o,u){return{instance:i,listener:o,currentTarget:u}}function ra(i,o){for(var u=o+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=sr(i,u),y!=null&&h.unshift(Us(i,y,m)),y=sr(i,o),y!=null&&h.push(Us(i,y,m))),i=i.return}return h}function Xi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Of(i,o,u,h,m){for(var y=o._reactName,S=[];u!==null&&u!==h;){var D=u,O=D.alternate,H=D.stateNode;if(O!==null&&O===h)break;D.tag===5&&H!==null&&(D=H,m?(O=sr(u,y),O!=null&&S.unshift(Us(u,O,D))):m||(O=sr(u,y),O!=null&&S.push(Us(u,O,D)))),u=u.return}S.length!==0&&i.push({event:o,listeners:S})}var $v=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function Ff(i){return(typeof i=="string"?i:""+i).replace($v,`
`).replace(Hv,"")}function ia(i,o,u){if(o=Ff(o),Ff(i)!==o&&u)throw Error(n(425))}function sa(){}var fc=null,hc=null;function pc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var mc=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,Vv=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(i){return jf.resolve(null).then(i).catch(Yv)}:mc;function Yv(i){setTimeout(function(){throw i})}function gc(i,o){var u=o,h=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){i.removeChild(m),Ts(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);Ts(o)}function jr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function zf(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Yn="__reactFiber$"+qi,$s="__reactProps$"+qi,cr="__reactContainer$"+qi,yc="__reactEvents$"+qi,Gv="__reactListeners$"+qi,Xv="__reactHandles$"+qi;function pi(i){var o=i[Yn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[cr]||u[Yn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=zf(i);i!==null;){if(u=i[Yn])return u;i=zf(i)}return o}i=u,u=i.parentNode}return null}function Hs(i){return i=i[Yn]||i[cr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ki(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function oa(i){return i[$s]||null}var vc=[],Qi=-1;function zr(i){return{current:i}}function ot(i){0>Qi||(i.current=vc[Qi],vc[Qi]=null,Qi--)}function it(i,o){Qi++,vc[Qi]=i.current,i.current=o}var Ir={},Ot=zr(Ir),Jt=zr(!1),mi=Ir;function Ji(i,o){var u=i.type.contextTypes;if(!u)return Ir;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in u)m[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Zt(i){return i=i.childContextTypes,i!=null}function aa(){ot(Jt),ot(Ot)}function If(i,o,u){if(Ot.current!==Ir)throw Error(n(168));it(Ot,o),it(Jt,u)}function Bf(i,o,u){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(n(108,Oe(i)||"Unknown",m));return K({},u,h)}function la(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ir,mi=Ot.current,it(Ot,i),it(Jt,Jt.current),!0}function Uf(i,o,u){var h=i.stateNode;if(!h)throw Error(n(169));u?(i=Bf(i,o,mi),h.__reactInternalMemoizedMergedChildContext=i,ot(Jt),ot(Ot),it(Ot,i)):ot(Jt),it(Jt,u)}var ur=null,ca=!1,xc=!1;function $f(i){ur===null?ur=[i]:ur.push(i)}function qv(i){ca=!0,$f(i)}function Br(){if(!xc&&ur!==null){xc=!0;var i=0,o=Ze;try{var u=ur;for(Ze=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}ur=null,ca=!1}catch(m){throw ur!==null&&(ur=ur.slice(i+1)),gt(bn,Br),m}finally{Ze=o,xc=!1}}return null}var Zi=[],es=0,ua=null,da=0,wn=[],Sn=0,gi=null,dr=1,fr="";function yi(i,o){Zi[es++]=da,Zi[es++]=ua,ua=i,da=o}function Hf(i,o,u){wn[Sn++]=dr,wn[Sn++]=fr,wn[Sn++]=gi,gi=i;var h=dr;i=fr;var m=32-nt(h)-1;h&=~(1<<m),u+=1;var y=32-nt(o)+m;if(30<y){var S=m-m%5;y=(h&(1<<S)-1).toString(32),h>>=S,m-=S,dr=1<<32-nt(o)+m|u<<m|h,fr=y+i}else dr=1<<y|u<<m|h,fr=i}function bc(i){i.return!==null&&(yi(i,1),Hf(i,1,0))}function wc(i){for(;i===ua;)ua=Zi[--es],Zi[es]=null,da=Zi[--es],Zi[es]=null;for(;i===gi;)gi=wn[--Sn],wn[Sn]=null,fr=wn[--Sn],wn[Sn]=null,dr=wn[--Sn],wn[Sn]=null}var fn=null,hn=null,ct=!1,Fn=null;function Wf(i,o){var u=Mn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Vf(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,fn=i,hn=jr(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,fn=i,hn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=gi!==null?{id:dr,overflow:fr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Mn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,fn=i,hn=null,!0):!1;default:return!1}}function Sc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function _c(i){if(ct){var o=hn;if(o){var u=o;if(!Vf(i,o)){if(Sc(i))throw Error(n(418));o=jr(u.nextSibling);var h=fn;o&&Vf(i,o)?Wf(h,u):(i.flags=i.flags&-4097|2,ct=!1,fn=i)}}else{if(Sc(i))throw Error(n(418));i.flags=i.flags&-4097|2,ct=!1,fn=i}}}function Yf(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;fn=i}function fa(i){if(i!==fn)return!1;if(!ct)return Yf(i),ct=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!pc(i.type,i.memoizedProps)),o&&(o=hn)){if(Sc(i))throw Gf(),Error(n(418));for(;o;)Wf(i,o),o=jr(o.nextSibling)}if(Yf(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){hn=jr(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}hn=null}}else hn=fn?jr(i.stateNode.nextSibling):null;return!0}function Gf(){for(var i=hn;i;)i=jr(i.nextSibling)}function ts(){hn=fn=null,ct=!1}function kc(i){Fn===null?Fn=[i]:Fn.push(i)}var Kv=A.ReactCurrentBatchConfig;function Ws(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,i));var m=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(S){var D=m.refs;S===null?delete D[y]:D[y]=S},o._stringRef=y,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function ha(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Xf(i){var o=i._init;return o(i._payload)}function qf(i){function o(B,j){if(i){var U=B.deletions;U===null?(B.deletions=[j],B.flags|=16):U.push(j)}}function u(B,j){if(!i)return null;for(;j!==null;)o(B,j),j=j.sibling;return null}function h(B,j){for(B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function m(B,j){return B=Xr(B,j),B.index=0,B.sibling=null,B}function y(B,j,U){return B.index=U,i?(U=B.alternate,U!==null?(U=U.index,U<j?(B.flags|=2,j):U):(B.flags|=2,j)):(B.flags|=1048576,j)}function S(B){return i&&B.alternate===null&&(B.flags|=2),B}function D(B,j,U,oe){return j===null||j.tag!==6?(j=mu(U,B.mode,oe),j.return=B,j):(j=m(j,U),j.return=B,j)}function O(B,j,U,oe){var Ce=U.type;return Ce===E?te(B,j,U.props.children,oe,U.key):j!==null&&(j.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ce&&Xf(Ce)===j.type)?(oe=m(j,U.props),oe.ref=Ws(B,j,U),oe.return=B,oe):(oe=ja(U.type,U.key,U.props,null,B.mode,oe),oe.ref=Ws(B,j,U),oe.return=B,oe)}function H(B,j,U,oe){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=gu(U,B.mode,oe),j.return=B,j):(j=m(j,U.children||[]),j.return=B,j)}function te(B,j,U,oe,Ce){return j===null||j.tag!==7?(j=Ci(U,B.mode,oe,Ce),j.return=B,j):(j=m(j,U),j.return=B,j)}function ie(B,j,U){if(typeof j=="string"&&j!==""||typeof j=="number")return j=mu(""+j,B.mode,U),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return U=ja(j.type,j.key,j.props,null,B.mode,U),U.ref=Ws(B,null,j),U.return=B,U;case z:return j=gu(j,B.mode,U),j.return=B,j;case ce:var oe=j._init;return ie(B,oe(j._payload),U)}if(ir(j)||ne(j))return j=Ci(j,B.mode,U,null),j.return=B,j;ha(B,j)}return null}function ee(B,j,U,oe){var Ce=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return Ce!==null?null:D(B,j,""+U,oe);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case N:return U.key===Ce?O(B,j,U,oe):null;case z:return U.key===Ce?H(B,j,U,oe):null;case ce:return Ce=U._init,ee(B,j,Ce(U._payload),oe)}if(ir(U)||ne(U))return Ce!==null?null:te(B,j,U,oe,null);ha(B,U)}return null}function pe(B,j,U,oe,Ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get(U)||null,D(j,B,""+oe,Ce);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:return B=B.get(oe.key===null?U:oe.key)||null,O(j,B,oe,Ce);case z:return B=B.get(oe.key===null?U:oe.key)||null,H(j,B,oe,Ce);case ce:var De=oe._init;return pe(B,j,U,De(oe._payload),Ce)}if(ir(oe)||ne(oe))return B=B.get(U)||null,te(j,B,oe,Ce,null);ha(j,oe)}return null}function be(B,j,U,oe){for(var Ce=null,De=null,Te=j,Ae=j=0,Dt=null;Te!==null&&Ae<U.length;Ae++){Te.index>Ae?(Dt=Te,Te=null):Dt=Te.sibling;var qe=ee(B,Te,U[Ae],oe);if(qe===null){Te===null&&(Te=Dt);break}i&&Te&&qe.alternate===null&&o(B,Te),j=y(qe,j,Ae),De===null?Ce=qe:De.sibling=qe,De=qe,Te=Dt}if(Ae===U.length)return u(B,Te),ct&&yi(B,Ae),Ce;if(Te===null){for(;Ae<U.length;Ae++)Te=ie(B,U[Ae],oe),Te!==null&&(j=y(Te,j,Ae),De===null?Ce=Te:De.sibling=Te,De=Te);return ct&&yi(B,Ae),Ce}for(Te=h(B,Te);Ae<U.length;Ae++)Dt=pe(Te,B,Ae,U[Ae],oe),Dt!==null&&(i&&Dt.alternate!==null&&Te.delete(Dt.key===null?Ae:Dt.key),j=y(Dt,j,Ae),De===null?Ce=Dt:De.sibling=Dt,De=Dt);return i&&Te.forEach(function(qr){return o(B,qr)}),ct&&yi(B,Ae),Ce}function Se(B,j,U,oe){var Ce=ne(U);if(typeof Ce!="function")throw Error(n(150));if(U=Ce.call(U),U==null)throw Error(n(151));for(var De=Ce=null,Te=j,Ae=j=0,Dt=null,qe=U.next();Te!==null&&!qe.done;Ae++,qe=U.next()){Te.index>Ae?(Dt=Te,Te=null):Dt=Te.sibling;var qr=ee(B,Te,qe.value,oe);if(qr===null){Te===null&&(Te=Dt);break}i&&Te&&qr.alternate===null&&o(B,Te),j=y(qr,j,Ae),De===null?Ce=qr:De.sibling=qr,De=qr,Te=Dt}if(qe.done)return u(B,Te),ct&&yi(B,Ae),Ce;if(Te===null){for(;!qe.done;Ae++,qe=U.next())qe=ie(B,qe.value,oe),qe!==null&&(j=y(qe,j,Ae),De===null?Ce=qe:De.sibling=qe,De=qe);return ct&&yi(B,Ae),Ce}for(Te=h(B,Te);!qe.done;Ae++,qe=U.next())qe=pe(Te,B,Ae,qe.value,oe),qe!==null&&(i&&qe.alternate!==null&&Te.delete(qe.key===null?Ae:qe.key),j=y(qe,j,Ae),De===null?Ce=qe:De.sibling=qe,De=qe);return i&&Te.forEach(function(Px){return o(B,Px)}),ct&&yi(B,Ae),Ce}function yt(B,j,U,oe){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case N:e:{for(var Ce=U.key,De=j;De!==null;){if(De.key===Ce){if(Ce=U.type,Ce===E){if(De.tag===7){u(B,De.sibling),j=m(De,U.props.children),j.return=B,B=j;break e}}else if(De.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ce&&Xf(Ce)===De.type){u(B,De.sibling),j=m(De,U.props),j.ref=Ws(B,De,U),j.return=B,B=j;break e}u(B,De);break}else o(B,De);De=De.sibling}U.type===E?(j=Ci(U.props.children,B.mode,oe,U.key),j.return=B,B=j):(oe=ja(U.type,U.key,U.props,null,B.mode,oe),oe.ref=Ws(B,j,U),oe.return=B,B=oe)}return S(B);case z:e:{for(De=U.key;j!==null;){if(j.key===De)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){u(B,j.sibling),j=m(j,U.children||[]),j.return=B,B=j;break e}else{u(B,j);break}else o(B,j);j=j.sibling}j=gu(U,B.mode,oe),j.return=B,B=j}return S(B);case ce:return De=U._init,yt(B,j,De(U._payload),oe)}if(ir(U))return be(B,j,U,oe);if(ne(U))return Se(B,j,U,oe);ha(B,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,j!==null&&j.tag===6?(u(B,j.sibling),j=m(j,U),j.return=B,B=j):(u(B,j),j=mu(U,B.mode,oe),j.return=B,B=j),S(B)):u(B,j)}return yt}var ns=qf(!0),Kf=qf(!1),pa=zr(null),ma=null,rs=null,Cc=null;function Mc(){Cc=rs=ma=null}function Ec(i){var o=pa.current;ot(pa),i._currentValue=o}function Rc(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function is(i,o){ma=i,Cc=rs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(en=!0),i.firstContext=null)}function _n(i){var o=i._currentValue;if(Cc!==i)if(i={context:i,memoizedValue:o,next:null},rs===null){if(ma===null)throw Error(n(308));rs=i,ma.dependencies={lanes:0,firstContext:i}}else rs=rs.next=i;return o}var vi=null;function Pc(i){vi===null?vi=[i]:vi.push(i)}function Qf(i,o,u,h){var m=o.interleaved;return m===null?(u.next=u,Pc(o)):(u.next=m.next,m.next=u),o.interleaved=u,hr(i,h)}function hr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ur=!1;function Dc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jf(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function pr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $r(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Xe&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,hr(i,u)}return m=h.interleaved,m===null?(o.next=o,Pc(h)):(o.next=m.next,m.next=o),h.interleaved=o,hr(i,u)}function ga(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Wl(i,u)}}function Zf(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?m=y=S:y=y.next=S,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function ya(i,o,u,h){var m=i.updateQueue;Ur=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var O=D,H=O.next;O.next=null,S===null?y=H:S.next=H,S=O;var te=i.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==S&&(D===null?te.firstBaseUpdate=H:D.next=H,te.lastBaseUpdate=O))}if(y!==null){var ie=m.baseState;S=0,te=H=O=null,D=y;do{var ee=D.lane,pe=D.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:pe,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var be=i,Se=D;switch(ee=o,pe=u,Se.tag){case 1:if(be=Se.payload,typeof be=="function"){ie=be.call(pe,ie,ee);break e}ie=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Se.payload,ee=typeof be=="function"?be.call(pe,ie,ee):be,ee==null)break e;ie=K({},ie,ee);break e;case 2:Ur=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[D]:ee.push(D))}else pe={eventTime:pe,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(H=te=pe,O=ie):te=te.next=pe,S|=ee;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(O=ie),m.baseState=O,m.firstBaseUpdate=H,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);wi|=S,i.lanes=S,i.memoizedState=ie}}function eh(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Vs={},Gn=zr(Vs),Ys=zr(Vs),Gs=zr(Vs);function xi(i){if(i===Vs)throw Error(n(174));return i}function Tc(i,o){switch(it(Gs,o),it(Ys,i),it(Gn,Vs),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Wn(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Wn(o,i)}ot(Gn),it(Gn,o)}function ss(){ot(Gn),ot(Ys),ot(Gs)}function th(i){xi(Gs.current);var o=xi(Gn.current),u=Wn(o,i.type);o!==u&&(it(Ys,i),it(Gn,u))}function Nc(i){Ys.current===i&&(ot(Gn),ot(Ys))}var ut=zr(0);function va(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ac=[];function Lc(){for(var i=0;i<Ac.length;i++)Ac[i]._workInProgressVersionPrimary=null;Ac.length=0}var xa=A.ReactCurrentDispatcher,Oc=A.ReactCurrentBatchConfig,bi=0,dt=null,St=null,Rt=null,ba=!1,Xs=!1,qs=0,Qv=0;function Ft(){throw Error(n(321))}function Fc(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!On(i[u],o[u]))return!1;return!0}function jc(i,o,u,h,m,y){if(bi=y,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,xa.current=i===null||i.memoizedState===null?tx:nx,i=u(h,m),Xs){y=0;do{if(Xs=!1,qs=0,25<=y)throw Error(n(301));y+=1,Rt=St=null,o.updateQueue=null,xa.current=rx,i=u(h,m)}while(Xs)}if(xa.current=_a,o=St!==null&&St.next!==null,bi=0,Rt=St=dt=null,ba=!1,o)throw Error(n(300));return i}function zc(){var i=qs!==0;return qs=0,i}function Xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?dt.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function kn(){if(St===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var o=Rt===null?dt.memoizedState:Rt.next;if(o!==null)Rt=o,St=i;else{if(i===null)throw Error(n(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Rt===null?dt.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function Ks(i,o){return typeof o=="function"?o(i):o}function Ic(i){var o=kn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=St,m=h.baseQueue,y=u.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}h.baseQueue=m=y,u.pending=null}if(m!==null){y=m.next,h=h.baseState;var D=S=null,O=null,H=y;do{var te=H.lane;if((bi&te)===te)O!==null&&(O=O.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:i(h,H.action);else{var ie={lane:te,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};O===null?(D=O=ie,S=h):O=O.next=ie,dt.lanes|=te,wi|=te}H=H.next}while(H!==null&&H!==y);O===null?S=h:O.next=D,On(h,o.memoizedState)||(en=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=O,u.lastRenderedState=h}if(i=u.interleaved,i!==null){m=i;do y=m.lane,dt.lanes|=y,wi|=y,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Bc(i){var o=kn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do y=i(y,S.action),S=S.next;while(S!==m);On(y,o.memoizedState)||(en=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,h]}function nh(){}function rh(i,o){var u=dt,h=kn(),m=o(),y=!On(h.memoizedState,m);if(y&&(h.memoizedState=m,en=!0),h=h.queue,Uc(oh.bind(null,u,h,i),[i]),h.getSnapshot!==o||y||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,Qs(9,sh.bind(null,u,h,m,o),void 0,null),Pt===null)throw Error(n(349));(bi&30)!==0||ih(u,o,m)}return m}function ih(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function sh(i,o,u,h){o.value=u,o.getSnapshot=h,ah(o)&&lh(i)}function oh(i,o,u){return u(function(){ah(o)&&lh(i)})}function ah(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!On(i,u)}catch{return!0}}function lh(i){var o=hr(i,1);o!==null&&Bn(o,i,1,-1)}function ch(i){var o=Xn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:i},o.queue=i,i=i.dispatch=ex.bind(null,dt,i),[o.memoizedState,i]}function Qs(i,o,u,h){return i={tag:i,create:o,destroy:u,deps:h,next:null},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i)),i}function uh(){return kn().memoizedState}function wa(i,o,u,h){var m=Xn();dt.flags|=i,m.memoizedState=Qs(1|o,u,void 0,h===void 0?null:h)}function Sa(i,o,u,h){var m=kn();h=h===void 0?null:h;var y=void 0;if(St!==null){var S=St.memoizedState;if(y=S.destroy,h!==null&&Fc(h,S.deps)){m.memoizedState=Qs(o,u,y,h);return}}dt.flags|=i,m.memoizedState=Qs(1|o,u,y,h)}function dh(i,o){return wa(8390656,8,i,o)}function Uc(i,o){return Sa(2048,8,i,o)}function fh(i,o){return Sa(4,2,i,o)}function hh(i,o){return Sa(4,4,i,o)}function ph(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function mh(i,o,u){return u=u!=null?u.concat([i]):null,Sa(4,4,ph.bind(null,o,i),u)}function $c(){}function gh(i,o){var u=kn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Fc(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function yh(i,o){var u=kn();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Fc(o,h[1])?h[0]:(i=i(),u.memoizedState=[i,o],i)}function vh(i,o,u){return(bi&21)===0?(i.baseState&&(i.baseState=!1,en=!0),i.memoizedState=u):(On(u,o)||(u=Gd(),dt.lanes|=u,wi|=u,i.baseState=!0),o)}function Jv(i,o){var u=Ze;Ze=u!==0&&4>u?u:4,i(!0);var h=Oc.transition;Oc.transition={};try{i(!1),o()}finally{Ze=u,Oc.transition=h}}function xh(){return kn().memoizedState}function Zv(i,o,u){var h=Yr(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},bh(i))wh(o,u);else if(u=Qf(i,o,u,h),u!==null){var m=Gt();Bn(u,i,h,m),Sh(u,o,h)}}function ex(i,o,u){var h=Yr(i),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(bh(i))wh(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,D=y(S,u);if(m.hasEagerState=!0,m.eagerState=D,On(D,S)){var O=o.interleaved;O===null?(m.next=m,Pc(o)):(m.next=O.next,O.next=m),o.interleaved=m;return}}catch{}u=Qf(i,o,m,h),u!==null&&(m=Gt(),Bn(u,i,h,m),Sh(u,o,h))}}function bh(i){var o=i.alternate;return i===dt||o!==null&&o===dt}function wh(i,o){Xs=ba=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Sh(i,o,u){if((u&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,Wl(i,u)}}var _a={readContext:_n,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},tx={readContext:_n,useCallback:function(i,o){return Xn().memoizedState=[i,o===void 0?null:o],i},useContext:_n,useEffect:dh,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,wa(4194308,4,ph.bind(null,o,i),u)},useLayoutEffect:function(i,o){return wa(4194308,4,i,o)},useInsertionEffect:function(i,o){return wa(4,2,i,o)},useMemo:function(i,o){var u=Xn();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var h=Xn();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=Zv.bind(null,dt,i),[h.memoizedState,i]},useRef:function(i){var o=Xn();return i={current:i},o.memoizedState=i},useState:ch,useDebugValue:$c,useDeferredValue:function(i){return Xn().memoizedState=i},useTransition:function(){var i=ch(!1),o=i[0];return i=Jv.bind(null,i[1]),Xn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var h=dt,m=Xn();if(ct){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Pt===null)throw Error(n(349));(bi&30)!==0||ih(h,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,dh(oh.bind(null,h,y,i),[i]),h.flags|=2048,Qs(9,sh.bind(null,h,y,u,o),void 0,null),u},useId:function(){var i=Xn(),o=Pt.identifierPrefix;if(ct){var u=fr,h=dr;u=(h&~(1<<32-nt(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=qs++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Qv++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},nx={readContext:_n,useCallback:gh,useContext:_n,useEffect:Uc,useImperativeHandle:mh,useInsertionEffect:fh,useLayoutEffect:hh,useMemo:yh,useReducer:Ic,useRef:uh,useState:function(){return Ic(Ks)},useDebugValue:$c,useDeferredValue:function(i){var o=kn();return vh(o,St.memoizedState,i)},useTransition:function(){var i=Ic(Ks)[0],o=kn().memoizedState;return[i,o]},useMutableSource:nh,useSyncExternalStore:rh,useId:xh,unstable_isNewReconciler:!1},rx={readContext:_n,useCallback:gh,useContext:_n,useEffect:Uc,useImperativeHandle:mh,useInsertionEffect:fh,useLayoutEffect:hh,useMemo:yh,useReducer:Bc,useRef:uh,useState:function(){return Bc(Ks)},useDebugValue:$c,useDeferredValue:function(i){var o=kn();return St===null?o.memoizedState=i:vh(o,St.memoizedState,i)},useTransition:function(){var i=Bc(Ks)[0],o=kn().memoizedState;return[i,o]},useMutableSource:nh,useSyncExternalStore:rh,useId:xh,unstable_isNewReconciler:!1};function jn(i,o){if(i&&i.defaultProps){o=K({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Hc(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:K({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ka={isMounted:function(i){return(i=i._reactInternals)?me(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var h=Gt(),m=Yr(i),y=pr(h,m);y.payload=o,u!=null&&(y.callback=u),o=$r(i,y,m),o!==null&&(Bn(o,i,m,h),ga(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=Gt(),m=Yr(i),y=pr(h,m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=$r(i,y,m),o!==null&&(Bn(o,i,m,h),ga(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Gt(),h=Yr(i),m=pr(u,h);m.tag=2,o!=null&&(m.callback=o),o=$r(i,m,h),o!==null&&(Bn(o,i,h,u),ga(o,i,h))}};function _h(i,o,u,h,m,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,S):o.prototype&&o.prototype.isPureReactComponent?!js(u,h)||!js(m,y):!0}function kh(i,o,u){var h=!1,m=Ir,y=o.contextType;return typeof y=="object"&&y!==null?y=_n(y):(m=Zt(o)?mi:Ot.current,h=o.contextTypes,y=(h=h!=null)?Ji(i,m):Ir),o=new o(u,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ka,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function Ch(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&ka.enqueueReplaceState(o,o.state,null)}function Wc(i,o,u,h){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Dc(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=_n(y):(y=Zt(o)?mi:Ot.current,m.context=Ji(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Hc(i,o,y,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&ka.enqueueReplaceState(m,m.state,null),ya(i,u,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function os(i,o){try{var u="",h=o;do u+=ke(h),h=h.return;while(h);var m=u}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function Vc(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Yc(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var ix=typeof WeakMap=="function"?WeakMap:Map;function Mh(i,o,u){u=pr(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){Ta||(Ta=!0,au=h),Yc(i,o)},u}function Eh(i,o,u){u=pr(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){Yc(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Yc(i,o),typeof h!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),u}function Rh(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new ix;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),i=vx.bind(null,i,o,u),o.then(i,i))}function Ph(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Dh(i,o,u,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=pr(-1,1),o.tag=2,$r(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var sx=A.ReactCurrentOwner,en=!1;function Yt(i,o,u,h){o.child=i===null?Kf(o,null,u,h):ns(o,i.child,u,h)}function Th(i,o,u,h,m){u=u.render;var y=o.ref;return is(o,m),h=jc(i,o,u,h,y,m),u=zc(),i!==null&&!en?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,mr(i,o,m)):(ct&&u&&bc(o),o.flags|=1,Yt(i,o,h,m),o.child)}function Nh(i,o,u,h,m){if(i===null){var y=u.type;return typeof y=="function"&&!pu(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,Ah(i,o,y,h,m)):(i=ja(u.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var S=y.memoizedProps;if(u=u.compare,u=u!==null?u:js,u(S,h)&&i.ref===o.ref)return mr(i,o,m)}return o.flags|=1,i=Xr(y,h),i.ref=o.ref,i.return=o,o.child=i}function Ah(i,o,u,h,m){if(i!==null){var y=i.memoizedProps;if(js(y,h)&&i.ref===o.ref)if(en=!1,o.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(en=!0);else return o.lanes=i.lanes,mr(i,o,m)}return Gc(i,o,u,h,m)}function Lh(i,o,u){var h=o.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ls,pn),pn|=u;else{if((u&1073741824)===0)return i=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,it(ls,pn),pn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,it(ls,pn),pn|=h}else y!==null?(h=y.baseLanes|u,o.memoizedState=null):h=u,it(ls,pn),pn|=h;return Yt(i,o,m,u),o.child}function Oh(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Gc(i,o,u,h,m){var y=Zt(u)?mi:Ot.current;return y=Ji(o,y),is(o,m),u=jc(i,o,u,h,y,m),h=zc(),i!==null&&!en?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,mr(i,o,m)):(ct&&h&&bc(o),o.flags|=1,Yt(i,o,u,m),o.child)}function Fh(i,o,u,h,m){if(Zt(u)){var y=!0;la(o)}else y=!1;if(is(o,m),o.stateNode===null)Ma(i,o),kh(o,u,h),Wc(o,u,h,m),h=!0;else if(i===null){var S=o.stateNode,D=o.memoizedProps;S.props=D;var O=S.context,H=u.contextType;typeof H=="object"&&H!==null?H=_n(H):(H=Zt(u)?mi:Ot.current,H=Ji(o,H));var te=u.getDerivedStateFromProps,ie=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==h||O!==H)&&Ch(o,S,h,H),Ur=!1;var ee=o.memoizedState;S.state=ee,ya(o,h,S,m),O=o.memoizedState,D!==h||ee!==O||Jt.current||Ur?(typeof te=="function"&&(Hc(o,u,te,h),O=o.memoizedState),(D=Ur||_h(o,u,D,h,ee,O,H))?(ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=O),S.props=h,S.state=O,S.context=H,h=D):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,Jf(i,o),D=o.memoizedProps,H=o.type===o.elementType?D:jn(o.type,D),S.props=H,ie=o.pendingProps,ee=S.context,O=u.contextType,typeof O=="object"&&O!==null?O=_n(O):(O=Zt(u)?mi:Ot.current,O=Ji(o,O));var pe=u.getDerivedStateFromProps;(te=typeof pe=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==ie||ee!==O)&&Ch(o,S,h,O),Ur=!1,ee=o.memoizedState,S.state=ee,ya(o,h,S,m);var be=o.memoizedState;D!==ie||ee!==be||Jt.current||Ur?(typeof pe=="function"&&(Hc(o,u,pe,h),be=o.memoizedState),(H=Ur||_h(o,u,H,h,ee,be,O)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,be,O),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,be,O)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=be),S.props=h,S.state=be,S.context=O,h=H):(typeof S.componentDidUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),h=!1)}return Xc(i,o,u,h,y,m)}function Xc(i,o,u,h,m,y){Oh(i,o);var S=(o.flags&128)!==0;if(!h&&!S)return m&&Uf(o,u,!1),mr(i,o,y);h=o.stateNode,sx.current=o;var D=S&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&S?(o.child=ns(o,i.child,null,y),o.child=ns(o,null,D,y)):Yt(i,o,D,y),o.memoizedState=h.state,m&&Uf(o,u,!0),o.child}function jh(i){var o=i.stateNode;o.pendingContext?If(i,o.pendingContext,o.pendingContext!==o.context):o.context&&If(i,o.context,!1),Tc(i,o.containerInfo)}function zh(i,o,u,h,m){return ts(),kc(m),o.flags|=256,Yt(i,o,u,h),o.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Kc(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ih(i,o,u){var h=o.pendingProps,m=ut.current,y=!1,S=(o.flags&128)!==0,D;if((D=S)||(D=i!==null&&i.memoizedState===null?!1:(m&2)!==0),D?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),it(ut,m&1),i===null)return _c(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,i=h.fallback,y?(h=o.mode,y=o.child,S={mode:"hidden",children:S},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=za(S,h,0,null),i=Ci(i,h,u,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=Kc(u),o.memoizedState=qc,i):Qc(o,S));if(m=i.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return ox(i,o,S,h,D,m,u);if(y){y=h.fallback,S=o.mode,m=i.child,D=m.sibling;var O={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=O,o.deletions=null):(h=Xr(m,O),h.subtreeFlags=m.subtreeFlags&14680064),D!==null?y=Xr(D,y):(y=Ci(y,S,u,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,S=i.child.memoizedState,S=S===null?Kc(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=i.childLanes&~u,o.memoizedState=qc,h}return y=i.child,i=y.sibling,h=Xr(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=h,o.memoizedState=null,h}function Qc(i,o){return o=za({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Ca(i,o,u,h){return h!==null&&kc(h),ns(o,i.child,null,u),i=Qc(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function ox(i,o,u,h,m,y,S){if(u)return o.flags&256?(o.flags&=-257,h=Vc(Error(n(422))),Ca(i,o,S,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=za({mode:"visible",children:h.children},m,0,null),y=Ci(y,m,S,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&ns(o,i.child,null,S),o.child.memoizedState=Kc(S),o.memoizedState=qc,y);if((o.mode&1)===0)return Ca(i,o,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var D=h.dgst;return h=D,y=Error(n(419)),h=Vc(y,h,void 0),Ca(i,o,S,h)}if(D=(S&i.childLanes)!==0,en||D){if(h=Pt,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|S))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,hr(i,m),Bn(h,i,m,-1))}return hu(),h=Vc(Error(n(421))),Ca(i,o,S,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=xx.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,hn=jr(m.nextSibling),fn=o,ct=!0,Fn=null,i!==null&&(wn[Sn++]=dr,wn[Sn++]=fr,wn[Sn++]=gi,dr=i.id,fr=i.overflow,gi=o),o=Qc(o,h.children),o.flags|=4096,o)}function Bh(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Rc(i.return,o,u)}function Jc(i,o,u,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=m)}function Uh(i,o,u){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Yt(i,o,h.children,u),h=ut.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bh(i,u,o);else if(i.tag===19)Bh(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(it(ut,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&va(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Jc(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&va(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Jc(o,!0,u,null,y);break;case"together":Jc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ma(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function mr(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),wi|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Xr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Xr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function ax(i,o,u){switch(o.tag){case 3:jh(o),ts();break;case 5:th(o);break;case 1:Zt(o.type)&&la(o);break;case 4:Tc(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;it(pa,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(it(ut,ut.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Ih(i,o,u):(it(ut,ut.current&1),i=mr(i,o,u),i!==null?i.sibling:null);it(ut,ut.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Uh(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),it(ut,ut.current),h)break;return null;case 22:case 23:return o.lanes=0,Lh(i,o,u)}return mr(i,o,u)}var $h,Zc,Hh,Wh;$h=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Zc=function(){},Hh=function(i,o,u,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,xi(Gn.current);var y=null;switch(u){case"input":m=Ht(i,m),h=Ht(i,h),y=[];break;case"select":m=K({},m,{value:void 0}),h=K({},h,{value:void 0}),y=[];break;case"textarea":m=vn(i,m),h=vn(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=sa)}Er(u,h);var S;u=null;for(H in m)if(!h.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var D=m[H];for(S in D)D.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in h){var O=h[H];if(D=m?.[H],h.hasOwnProperty(H)&&O!==D&&(O!=null||D!=null))if(H==="style")if(D){for(S in D)!D.hasOwnProperty(S)||O&&O.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in O)O.hasOwnProperty(S)&&D[S]!==O[S]&&(u||(u={}),u[S]=O[S])}else u||(y||(y=[]),y.push(H,u)),u=O;else H==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,D=D?D.__html:void 0,O!=null&&D!==O&&(y=y||[]).push(H,O)):H==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(H,""+O):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(O!=null&&H==="onScroll"&&st("scroll",i),y||D===O||(y=[])):(y=y||[]).push(H,O))}u&&(y=y||[]).push("style",u);var H=y;(o.updateQueue=H)&&(o.flags|=4)}},Wh=function(i,o,u,h){u!==h&&(o.flags|=4)};function Js(i,o){if(!ct)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function jt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function lx(i,o,u){var h=o.pendingProps;switch(wc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(o),null;case 1:return Zt(o.type)&&aa(),jt(o),null;case 3:return h=o.stateNode,ss(),ot(Jt),ot(Ot),Lc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(fa(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Fn!==null&&(uu(Fn),Fn=null))),Zc(i,o),jt(o),null;case 5:Nc(o);var m=xi(Gs.current);if(u=o.type,i!==null&&o.stateNode!=null)Hh(i,o,u,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return jt(o),null}if(i=xi(Gn.current),fa(o)){h=o.stateNode,u=o.type;var y=o.memoizedProps;switch(h[Yn]=o,h[$s]=y,i=(o.mode&1)!==0,u){case"dialog":st("cancel",h),st("close",h);break;case"iframe":case"object":case"embed":st("load",h);break;case"video":case"audio":for(m=0;m<Is.length;m++)st(Is[m],h);break;case"source":st("error",h);break;case"img":case"image":case"link":st("error",h),st("load",h);break;case"details":st("toggle",h);break;case"input":Tt(h,y),st("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},st("invalid",h);break;case"textarea":Tn(h,y),st("invalid",h)}Er(u,y),m=null;for(var S in y)if(y.hasOwnProperty(S)){var D=y[S];S==="children"?typeof D=="string"?h.textContent!==D&&(y.suppressHydrationWarning!==!0&&ia(h.textContent,D,i),m=["children",D]):typeof D=="number"&&h.textContent!==""+D&&(y.suppressHydrationWarning!==!0&&ia(h.textContent,D,i),m=["children",""+D]):s.hasOwnProperty(S)&&D!=null&&S==="onScroll"&&st("scroll",h)}switch(u){case"input":$t(h),Ui(h,y,!0);break;case"textarea":$t(h),xn(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=sa)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ai(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(u,{is:h.is}):(i=S.createElement(u),u==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,u),i[Yn]=o,i[$s]=h,$h(i,o,!1,!1),o.stateNode=i;e:{switch(S=An(u,h),u){case"dialog":st("cancel",i),st("close",i),m=h;break;case"iframe":case"object":case"embed":st("load",i),m=h;break;case"video":case"audio":for(m=0;m<Is.length;m++)st(Is[m],i);m=h;break;case"source":st("error",i),m=h;break;case"img":case"image":case"link":st("error",i),st("load",i),m=h;break;case"details":st("toggle",i),m=h;break;case"input":Tt(i,h),m=Ht(i,h),st("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=K({},h,{value:void 0}),st("invalid",i);break;case"textarea":Tn(i,h),m=vn(i,h),st("invalid",i);break;default:m=h}Er(u,m),D=m;for(y in D)if(D.hasOwnProperty(y)){var O=D[y];y==="style"?Wt(i,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&qt(i,O)):y==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&Nn(i,O):typeof O=="number"&&Nn(i,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?O!=null&&y==="onScroll"&&st("scroll",i):O!=null&&M(i,y,O,S))}switch(u){case"input":$t(i),Ui(i,h,!1);break;case"textarea":$t(i),xn(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Le(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Hn(i,!!h.multiple,y,!1):h.defaultValue!=null&&Hn(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=sa)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return jt(o),null;case 6:if(i&&o.stateNode!=null)Wh(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(u=xi(Gs.current),xi(Gn.current),fa(o)){if(h=o.stateNode,u=o.memoizedProps,h[Yn]=o,(y=h.nodeValue!==u)&&(i=fn,i!==null))switch(i.tag){case 3:ia(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ia(h.nodeValue,u,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Yn]=o,o.stateNode=h}return jt(o),null;case 13:if(ot(ut),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ct&&hn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Gf(),ts(),o.flags|=98560,y=!1;else if(y=fa(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Yn]=o}else ts(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;jt(o),y=!1}else Fn!==null&&(uu(Fn),Fn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?_t===0&&(_t=3):hu())),o.updateQueue!==null&&(o.flags|=4),jt(o),null);case 4:return ss(),Zc(i,o),i===null&&Bs(o.stateNode.containerInfo),jt(o),null;case 10:return Ec(o.type._context),jt(o),null;case 17:return Zt(o.type)&&aa(),jt(o),null;case 19:if(ot(ut),y=o.memoizedState,y===null)return jt(o),null;if(h=(o.flags&128)!==0,S=y.rendering,S===null)if(h)Js(y,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=va(i),S!==null){for(o.flags|=128,Js(y,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)y=u,i=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,i=S.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return it(ut,ut.current&1|2),o.child}i=i.sibling}y.tail!==null&&Je()>cs&&(o.flags|=128,h=!0,Js(y,!1),o.lanes=4194304)}else{if(!h)if(i=va(S),i!==null){if(o.flags|=128,h=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Js(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!ct)return jt(o),null}else 2*Je()-y.renderingStartTime>cs&&u!==1073741824&&(o.flags|=128,h=!0,Js(y,!1),o.lanes=4194304);y.isBackwards?(S.sibling=o.child,o.child=S):(u=y.last,u!==null?u.sibling=S:o.child=S,y.last=S)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Je(),o.sibling=null,u=ut.current,it(ut,h?u&1|2:u&1),o):(jt(o),null);case 22:case 23:return fu(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(pn&1073741824)!==0&&(jt(o),o.subtreeFlags&6&&(o.flags|=8192)):jt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function cx(i,o){switch(wc(o),o.tag){case 1:return Zt(o.type)&&aa(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ss(),ot(Jt),ot(Ot),Lc(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Nc(o),null;case 13:if(ot(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ts()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ot(ut),null;case 4:return ss(),null;case 10:return Ec(o.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var Ea=!1,zt=!1,ux=typeof WeakSet=="function"?WeakSet:Set,ge=null;function as(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){pt(i,o,h)}else u.current=null}function eu(i,o,u){try{u()}catch(h){pt(i,o,h)}}var Vh=!1;function dx(i,o){if(fc=Go,i=_f(),ic(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var S=0,D=-1,O=-1,H=0,te=0,ie=i,ee=null;t:for(;;){for(var pe;ie!==u||m!==0&&ie.nodeType!==3||(D=S+m),ie!==y||h!==0&&ie.nodeType!==3||(O=S+h),ie.nodeType===3&&(S+=ie.nodeValue.length),(pe=ie.firstChild)!==null;)ee=ie,ie=pe;for(;;){if(ie===i)break t;if(ee===u&&++H===m&&(D=S),ee===y&&++te===h&&(O=S),(pe=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=pe}u=D===-1||O===-1?null:{start:D,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(hc={focusedElem:i,selectionRange:u},Go=!1,ge=o;ge!==null;)if(o=ge,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ge=i;else for(;ge!==null;){o=ge;try{var be=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Se=be.memoizedProps,yt=be.memoizedState,B=o.stateNode,j=B.getSnapshotBeforeUpdate(o.elementType===o.type?Se:jn(o.type,Se),yt);B.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var U=o.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){pt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,ge=i;break}ge=o.return}return be=Vh,Vh=!1,be}function Zs(i,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&eu(o,u,y)}m=m.next}while(m!==h)}}function Ra(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function tu(i){var o=i.ref;if(o!==null){var u=i.stateNode;i.tag,i=u,typeof o=="function"?o(i):o.current=i}}function Yh(i){var o=i.alternate;o!==null&&(i.alternate=null,Yh(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Yn],delete o[$s],delete o[yc],delete o[Gv],delete o[Xv])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Gh(i){return i.tag===5||i.tag===3||i.tag===4}function Xh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Gh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function nu(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=sa));else if(h!==4&&(i=i.child,i!==null))for(nu(i,o,u),i=i.sibling;i!==null;)nu(i,o,u),i=i.sibling}function ru(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(ru(i,o,u),i=i.sibling;i!==null;)ru(i,o,u),i=i.sibling}var Nt=null,zn=!1;function Hr(i,o,u){for(u=u.child;u!==null;)qh(i,o,u),u=u.sibling}function qh(i,o,u){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(or,u)}catch{}switch(u.tag){case 5:zt||as(u,o);case 6:var h=Nt,m=zn;Nt=null,Hr(i,o,u),Nt=h,zn=m,Nt!==null&&(zn?(i=Nt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Nt.removeChild(u.stateNode));break;case 18:Nt!==null&&(zn?(i=Nt,u=u.stateNode,i.nodeType===8?gc(i.parentNode,u):i.nodeType===1&&gc(i,u),Ts(i)):gc(Nt,u.stateNode));break;case 4:h=Nt,m=zn,Nt=u.stateNode.containerInfo,zn=!0,Hr(i,o,u),Nt=h,zn=m;break;case 0:case 11:case 14:case 15:if(!zt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&eu(u,o,S),m=m.next}while(m!==h)}Hr(i,o,u);break;case 1:if(!zt&&(as(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(D){pt(u,o,D)}Hr(i,o,u);break;case 21:Hr(i,o,u);break;case 22:u.mode&1?(zt=(h=zt)||u.memoizedState!==null,Hr(i,o,u),zt=h):Hr(i,o,u);break;default:Hr(i,o,u)}}function Kh(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new ux),o.forEach(function(h){var m=bx.bind(null,i,h);u.has(h)||(u.add(h),h.then(m,m))})}}function In(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var y=i,S=o,D=S;e:for(;D!==null;){switch(D.tag){case 5:Nt=D.stateNode,zn=!1;break e;case 3:Nt=D.stateNode.containerInfo,zn=!0;break e;case 4:Nt=D.stateNode.containerInfo,zn=!0;break e}D=D.return}if(Nt===null)throw Error(n(160));qh(y,S,m),Nt=null,zn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(H){pt(m,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Qh(o,i),o=o.sibling}function Qh(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(In(o,i),qn(i),h&4){try{Zs(3,i,i.return),Ra(3,i)}catch(Se){pt(i,i.return,Se)}try{Zs(5,i,i.return)}catch(Se){pt(i,i.return,Se)}}break;case 1:In(o,i),qn(i),h&512&&u!==null&&as(u,u.return);break;case 5:if(In(o,i),qn(i),h&512&&u!==null&&as(u,u.return),i.flags&32){var m=i.stateNode;try{Nn(m,"")}catch(Se){pt(i,i.return,Se)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,S=u!==null?u.memoizedProps:y,D=i.type,O=i.updateQueue;if(i.updateQueue=null,O!==null)try{D==="input"&&y.type==="radio"&&y.name!=null&&wt(m,y),An(D,S);var H=An(D,y);for(S=0;S<O.length;S+=2){var te=O[S],ie=O[S+1];te==="style"?Wt(m,ie):te==="dangerouslySetInnerHTML"?qt(m,ie):te==="children"?Nn(m,ie):M(m,te,ie,H)}switch(D){case"input":ln(m,y);break;case"textarea":Xt(m,y);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?Hn(m,!!y.multiple,pe,!1):ee!==!!y.multiple&&(y.defaultValue!=null?Hn(m,!!y.multiple,y.defaultValue,!0):Hn(m,!!y.multiple,y.multiple?[]:"",!1))}m[$s]=y}catch(Se){pt(i,i.return,Se)}}break;case 6:if(In(o,i),qn(i),h&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(Se){pt(i,i.return,Se)}}break;case 3:if(In(o,i),qn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Ts(o.containerInfo)}catch(Se){pt(i,i.return,Se)}break;case 4:In(o,i),qn(i);break;case 13:In(o,i),qn(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(ou=Je())),h&4&&Kh(i);break;case 22:if(te=u!==null&&u.memoizedState!==null,i.mode&1?(zt=(H=zt)||te,In(o,i),zt=H):In(o,i),qn(i),h&8192){if(H=i.memoizedState!==null,(i.stateNode.isHidden=H)&&!te&&(i.mode&1)!==0)for(ge=i,te=i.child;te!==null;){for(ie=ge=te;ge!==null;){switch(ee=ge,pe=ee.child,ee.tag){case 0:case 11:case 14:case 15:Zs(4,ee,ee.return);break;case 1:as(ee,ee.return);var be=ee.stateNode;if(typeof be.componentWillUnmount=="function"){h=ee,u=ee.return;try{o=h,be.props=o.memoizedProps,be.state=o.memoizedState,be.componentWillUnmount()}catch(Se){pt(h,u,Se)}}break;case 5:as(ee,ee.return);break;case 22:if(ee.memoizedState!==null){ep(ie);continue}}pe!==null?(pe.return=ee,ge=pe):ep(ie)}te=te.sibling}e:for(te=null,ie=i;;){if(ie.tag===5){if(te===null){te=ie;try{m=ie.stateNode,H?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(D=ie.stateNode,O=ie.memoizedProps.style,S=O!=null&&O.hasOwnProperty("display")?O.display:null,D.style.display=$i("display",S))}catch(Se){pt(i,i.return,Se)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=H?"":ie.memoizedProps}catch(Se){pt(i,i.return,Se)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:In(o,i),qn(i),h&4&&Kh(i);break;case 21:break;default:In(o,i),qn(i)}}function qn(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Gh(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Nn(m,""),h.flags&=-33);var y=Xh(i);ru(i,y,m);break;case 3:case 4:var S=h.stateNode.containerInfo,D=Xh(i);nu(i,D,S);break;default:throw Error(n(161))}}catch(O){pt(i,i.return,O)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function fx(i,o,u){ge=i,Jh(i)}function Jh(i,o,u){for(var h=(i.mode&1)!==0;ge!==null;){var m=ge,y=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||Ea;if(!S){var D=m.alternate,O=D!==null&&D.memoizedState!==null||zt;D=Ea;var H=zt;if(Ea=S,(zt=O)&&!H)for(ge=m;ge!==null;)S=ge,O=S.child,S.tag===22&&S.memoizedState!==null?tp(m):O!==null?(O.return=S,ge=O):tp(m);for(;y!==null;)ge=y,Jh(y),y=y.sibling;ge=m,Ea=D,zt=H}Zh(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ge=y):Zh(i)}}function Zh(i){for(;ge!==null;){var o=ge;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:zt||Ra(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!zt)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:jn(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&eh(o,y,h);break;case 3:var S=o.updateQueue;if(S!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}eh(o,S,u)}break;case 5:var D=o.stateNode;if(u===null&&o.flags&4){u=D;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var te=H.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&Ts(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zt||o.flags&512&&tu(o)}catch(ee){pt(o,o.return,ee)}}if(o===i){ge=null;break}if(u=o.sibling,u!==null){u.return=o.return,ge=u;break}ge=o.return}}function ep(i){for(;ge!==null;){var o=ge;if(o===i){ge=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ge=u;break}ge=o.return}}function tp(i){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ra(4,o)}catch(O){pt(o,u,O)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(O){pt(o,m,O)}}var y=o.return;try{tu(o)}catch(O){pt(o,y,O)}break;case 5:var S=o.return;try{tu(o)}catch(O){pt(o,S,O)}}}catch(O){pt(o,o.return,O)}if(o===i){ge=null;break}var D=o.sibling;if(D!==null){D.return=o.return,ge=D;break}ge=o.return}}var hx=Math.ceil,Pa=A.ReactCurrentDispatcher,iu=A.ReactCurrentOwner,Cn=A.ReactCurrentBatchConfig,Xe=0,Pt=null,bt=null,At=0,pn=0,ls=zr(0),_t=0,eo=null,wi=0,Da=0,su=0,to=null,tn=null,ou=0,cs=1/0,gr=null,Ta=!1,au=null,Wr=null,Na=!1,Vr=null,Aa=0,no=0,lu=null,La=-1,Oa=0;function Gt(){return(Xe&6)!==0?Je():La!==-1?La:La=Je()}function Yr(i){return(i.mode&1)===0?1:(Xe&2)!==0&&At!==0?At&-At:Kv.transition!==null?(Oa===0&&(Oa=Gd()),Oa):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:nf(i.type)),i)}function Bn(i,o,u,h){if(50<no)throw no=0,lu=null,Error(n(185));Ms(i,u,h),((Xe&2)===0||i!==Pt)&&(i===Pt&&((Xe&2)===0&&(Da|=u),_t===4&&Gr(i,At)),nn(i,h),u===1&&Xe===0&&(o.mode&1)===0&&(cs=Je()+500,ca&&Br()))}function nn(i,o){var u=i.callbackNode;Ky(i,o);var h=Wo(i,i===Pt?At:0);if(h===0)u!==null&&Et(u),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(u!=null&&Et(u),o===1)i.tag===0?qv(rp.bind(null,i)):$f(rp.bind(null,i)),Vv(function(){(Xe&6)===0&&Br()}),u=null;else{switch(Xd(h)){case 1:u=bn;break;case 4:u=un;break;case 16:u=Pr;break;case 536870912:u=Vn;break;default:u=Pr}u=dp(u,np.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function np(i,o){if(La=-1,Oa=0,(Xe&6)!==0)throw Error(n(327));var u=i.callbackNode;if(us()&&i.callbackNode!==u)return null;var h=Wo(i,i===Pt?At:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Fa(i,h);else{o=h;var m=Xe;Xe|=2;var y=sp();(Pt!==i||At!==o)&&(gr=null,cs=Je()+500,_i(i,o));do try{gx();break}catch(D){ip(i,D)}while(!0);Mc(),Pa.current=y,Xe=m,bt!==null?o=0:(Pt=null,At=0,o=_t)}if(o!==0){if(o===2&&(m=$l(i),m!==0&&(h=m,o=cu(i,m))),o===1)throw u=eo,_i(i,0),Gr(i,h),nn(i,Je()),u;if(o===6)Gr(i,h);else{if(m=i.current.alternate,(h&30)===0&&!px(m)&&(o=Fa(i,h),o===2&&(y=$l(i),y!==0&&(h=y,o=cu(i,y))),o===1))throw u=eo,_i(i,0),Gr(i,h),nn(i,Je()),u;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:ki(i,tn,gr);break;case 3:if(Gr(i,h),(h&130023424)===h&&(o=ou+500-Je(),10<o)){if(Wo(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){Gt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=mc(ki.bind(null,i,tn,gr),o);break}ki(i,tn,gr);break;case 4:if(Gr(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var S=31-nt(h);y=1<<S,S=o[S],S>m&&(m=S),h&=~y}if(h=m,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*hx(h/1960))-h,10<h){i.timeoutHandle=mc(ki.bind(null,i,tn,gr),h);break}ki(i,tn,gr);break;case 5:ki(i,tn,gr);break;default:throw Error(n(329))}}}return nn(i,Je()),i.callbackNode===u?np.bind(null,i):null}function cu(i,o){var u=to;return i.current.memoizedState.isDehydrated&&(_i(i,o).flags|=256),i=Fa(i,o),i!==2&&(o=tn,tn=u,o!==null&&uu(o)),i}function uu(i){tn===null?tn=i:tn.push.apply(tn,i)}function px(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],y=m.getSnapshot;m=m.value;try{if(!On(y(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Gr(i,o){for(o&=~su,o&=~Da,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-nt(o),h=1<<u;i[u]=-1,o&=~h}}function rp(i){if((Xe&6)!==0)throw Error(n(327));us();var o=Wo(i,0);if((o&1)===0)return nn(i,Je()),null;var u=Fa(i,o);if(i.tag!==0&&u===2){var h=$l(i);h!==0&&(o=h,u=cu(i,h))}if(u===1)throw u=eo,_i(i,0),Gr(i,o),nn(i,Je()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ki(i,tn,gr),nn(i,Je()),null}function du(i,o){var u=Xe;Xe|=1;try{return i(o)}finally{Xe=u,Xe===0&&(cs=Je()+500,ca&&Br())}}function Si(i){Vr!==null&&Vr.tag===0&&(Xe&6)===0&&us();var o=Xe;Xe|=1;var u=Cn.transition,h=Ze;try{if(Cn.transition=null,Ze=1,i)return i()}finally{Ze=h,Cn.transition=u,Xe=o,(Xe&6)===0&&Br()}}function fu(){pn=ls.current,ot(ls)}function _i(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Wv(u)),bt!==null)for(u=bt.return;u!==null;){var h=u;switch(wc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&aa();break;case 3:ss(),ot(Jt),ot(Ot),Lc();break;case 5:Nc(h);break;case 4:ss();break;case 13:ot(ut);break;case 19:ot(ut);break;case 10:Ec(h.type._context);break;case 22:case 23:fu()}u=u.return}if(Pt=i,bt=i=Xr(i.current,null),At=pn=o,_t=0,eo=null,su=Da=wi=0,tn=to=null,vi!==null){for(o=0;o<vi.length;o++)if(u=vi[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,y=u.pending;if(y!==null){var S=y.next;y.next=m,h.next=S}u.pending=h}vi=null}return i}function ip(i,o){do{var u=bt;try{if(Mc(),xa.current=_a,ba){for(var h=dt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}ba=!1}if(bi=0,Rt=St=dt=null,Xs=!1,qs=0,iu.current=null,u===null||u.return===null){_t=1,eo=o,bt=null;break}e:{var y=i,S=u.return,D=u,O=o;if(o=At,D.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var H=O,te=D,ie=te.tag;if((te.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var pe=Ph(S);if(pe!==null){pe.flags&=-257,Dh(pe,S,D,y,o),pe.mode&1&&Rh(y,H,o),o=pe,O=H;var be=o.updateQueue;if(be===null){var Se=new Set;Se.add(O),o.updateQueue=Se}else be.add(O);break e}else{if((o&1)===0){Rh(y,H,o),hu();break e}O=Error(n(426))}}else if(ct&&D.mode&1){var yt=Ph(S);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Dh(yt,S,D,y,o),kc(os(O,D));break e}}y=O=os(O,D),_t!==4&&(_t=2),to===null?to=[y]:to.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var B=Mh(y,O,o);Zf(y,B);break e;case 1:D=O;var j=y.type,U=y.stateNode;if((y.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Wr===null||!Wr.has(U)))){y.flags|=65536,o&=-o,y.lanes|=o;var oe=Eh(y,D,o);Zf(y,oe);break e}}y=y.return}while(y!==null)}ap(u)}catch(Ce){o=Ce,bt===u&&u!==null&&(bt=u=u.return);continue}break}while(!0)}function sp(){var i=Pa.current;return Pa.current=_a,i===null?_a:i}function hu(){(_t===0||_t===3||_t===2)&&(_t=4),Pt===null||(wi&268435455)===0&&(Da&268435455)===0||Gr(Pt,At)}function Fa(i,o){var u=Xe;Xe|=2;var h=sp();(Pt!==i||At!==o)&&(gr=null,_i(i,o));do try{mx();break}catch(m){ip(i,m)}while(!0);if(Mc(),Xe=u,Pa.current=h,bt!==null)throw Error(n(261));return Pt=null,At=0,_t}function mx(){for(;bt!==null;)op(bt)}function gx(){for(;bt!==null&&!Ke();)op(bt)}function op(i){var o=up(i.alternate,i,pn);i.memoizedProps=i.pendingProps,o===null?ap(i):bt=o,iu.current=null}function ap(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=lx(u,o,pn),u!==null){bt=u;return}}else{if(u=cx(u,o),u!==null){u.flags&=32767,bt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{_t=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=i}while(o!==null);_t===0&&(_t=5)}function ki(i,o,u){var h=Ze,m=Cn.transition;try{Cn.transition=null,Ze=1,yx(i,o,u,h)}finally{Cn.transition=m,Ze=h}return null}function yx(i,o,u,h){do us();while(Vr!==null);if((Xe&6)!==0)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(Qy(i,y),i===Pt&&(bt=Pt=null,At=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Na||(Na=!0,dp(Pr,function(){return us(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Cn.transition,Cn.transition=null;var S=Ze;Ze=1;var D=Xe;Xe|=4,iu.current=null,dx(i,u),Qh(u,i),jv(hc),Go=!!fc,hc=fc=null,i.current=u,fx(u),Qt(),Xe=D,Ze=S,Cn.transition=y}else i.current=u;if(Na&&(Na=!1,Vr=i,Aa=m),y=i.pendingLanes,y===0&&(Wr=null),Ve(u.stateNode),nn(i,Je()),o!==null)for(h=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(Ta)throw Ta=!1,i=au,au=null,i;return(Aa&1)!==0&&i.tag!==0&&us(),y=i.pendingLanes,(y&1)!==0?i===lu?no++:(no=0,lu=i):no=0,Br(),null}function us(){if(Vr!==null){var i=Xd(Aa),o=Cn.transition,u=Ze;try{if(Cn.transition=null,Ze=16>i?16:i,Vr===null)var h=!1;else{if(i=Vr,Vr=null,Aa=0,(Xe&6)!==0)throw Error(n(331));var m=Xe;for(Xe|=4,ge=i.current;ge!==null;){var y=ge,S=y.child;if((ge.flags&16)!==0){var D=y.deletions;if(D!==null){for(var O=0;O<D.length;O++){var H=D[O];for(ge=H;ge!==null;){var te=ge;switch(te.tag){case 0:case 11:case 15:Zs(8,te,y)}var ie=te.child;if(ie!==null)ie.return=te,ge=ie;else for(;ge!==null;){te=ge;var ee=te.sibling,pe=te.return;if(Yh(te),te===H){ge=null;break}if(ee!==null){ee.return=pe,ge=ee;break}ge=pe}}}var be=y.alternate;if(be!==null){var Se=be.child;if(Se!==null){be.child=null;do{var yt=Se.sibling;Se.sibling=null,Se=yt}while(Se!==null)}}ge=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,ge=S;else e:for(;ge!==null;){if(y=ge,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Zs(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,ge=B;break e}ge=y.return}}var j=i.current;for(ge=j;ge!==null;){S=ge;var U=S.child;if((S.subtreeFlags&2064)!==0&&U!==null)U.return=S,ge=U;else e:for(S=j;ge!==null;){if(D=ge,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Ra(9,D)}}catch(Ce){pt(D,D.return,Ce)}if(D===S){ge=null;break e}var oe=D.sibling;if(oe!==null){oe.return=D.return,ge=oe;break e}ge=D.return}}if(Xe=m,Br(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(or,i)}catch{}h=!0}return h}finally{Ze=u,Cn.transition=o}}return!1}function lp(i,o,u){o=os(u,o),o=Mh(i,o,1),i=$r(i,o,1),o=Gt(),i!==null&&(Ms(i,1,o),nn(i,o))}function pt(i,o,u){if(i.tag===3)lp(i,i,u);else for(;o!==null;){if(o.tag===3){lp(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Wr===null||!Wr.has(h))){i=os(u,i),i=Eh(o,i,1),o=$r(o,i,1),i=Gt(),o!==null&&(Ms(o,1,i),nn(o,i));break}}o=o.return}}function vx(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),o=Gt(),i.pingedLanes|=i.suspendedLanes&u,Pt===i&&(At&u)===u&&(_t===4||_t===3&&(At&130023424)===At&&500>Je()-ou?_i(i,0):su|=u),nn(i,o)}function cp(i,o){o===0&&((i.mode&1)===0?o=1:(o=fi,fi<<=1,(fi&130023424)===0&&(fi=4194304)));var u=Gt();i=hr(i,o),i!==null&&(Ms(i,o,u),nn(i,u))}function xx(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),cp(i,u)}function bx(i,o){var u=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),cp(i,u)}var up;up=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Jt.current)en=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return en=!1,ax(i,o,u);en=(i.flags&131072)!==0}else en=!1,ct&&(o.flags&1048576)!==0&&Hf(o,da,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Ma(i,o),i=o.pendingProps;var m=Ji(o,Ot.current);is(o,u),m=jc(null,o,h,i,m,u);var y=zc();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zt(h)?(y=!0,la(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Dc(o),m.updater=ka,o.stateNode=m,m._reactInternals=o,Wc(o,h,i,u),o=Xc(null,o,h,!0,y,u)):(o.tag=0,ct&&y&&bc(o),Yt(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Ma(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=Sx(h),i=jn(h,i),m){case 0:o=Gc(null,o,h,i,u);break e;case 1:o=Fh(null,o,h,i,u);break e;case 11:o=Th(null,o,h,i,u);break e;case 14:o=Nh(null,o,h,jn(h.type,i),u);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:jn(h,m),Gc(i,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:jn(h,m),Fh(i,o,h,m,u);case 3:e:{if(jh(o),i===null)throw Error(n(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Jf(i,o),ya(o,h,null,u);var S=o.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=os(Error(n(423)),o),o=zh(i,o,h,u,m);break e}else if(h!==m){m=os(Error(n(424)),o),o=zh(i,o,h,u,m);break e}else for(hn=jr(o.stateNode.containerInfo.firstChild),fn=o,ct=!0,Fn=null,u=Kf(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ts(),h===m){o=mr(i,o,u);break e}Yt(i,o,h,u)}o=o.child}return o;case 5:return th(o),i===null&&_c(o),h=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,S=m.children,pc(h,m)?S=null:y!==null&&pc(h,y)&&(o.flags|=32),Oh(i,o),Yt(i,o,S,u),o.child;case 6:return i===null&&_c(o),null;case 13:return Ih(i,o,u);case 4:return Tc(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ns(o,null,h,u):Yt(i,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:jn(h,m),Th(i,o,h,m,u);case 7:return Yt(i,o,o.pendingProps,u),o.child;case 8:return Yt(i,o,o.pendingProps.children,u),o.child;case 12:return Yt(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,S=m.value,it(pa,h._currentValue),h._currentValue=S,y!==null)if(On(y.value,S)){if(y.children===m.children&&!Jt.current){o=mr(i,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var D=y.dependencies;if(D!==null){S=y.child;for(var O=D.firstContext;O!==null;){if(O.context===h){if(y.tag===1){O=pr(-1,u&-u),O.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var te=H.pending;te===null?O.next=O:(O.next=te.next,te.next=O),H.pending=O}}y.lanes|=u,O=y.alternate,O!==null&&(O.lanes|=u),Rc(y.return,u,o),D.lanes|=u;break}O=O.next}}else if(y.tag===10)S=y.type===o.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(n(341));S.lanes|=u,D=S.alternate,D!==null&&(D.lanes|=u),Rc(S,u,o),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===o){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Yt(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,is(o,u),m=_n(m),h=h(m),o.flags|=1,Yt(i,o,h,u),o.child;case 14:return h=o.type,m=jn(h,o.pendingProps),m=jn(h.type,m),Nh(i,o,h,m,u);case 15:return Ah(i,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:jn(h,m),Ma(i,o),o.tag=1,Zt(h)?(i=!0,la(o)):i=!1,is(o,u),kh(o,h,m),Wc(o,h,m,u),Xc(null,o,h,!0,i,u);case 19:return Uh(i,o,u);case 22:return Lh(i,o,u)}throw Error(n(156,o.tag))};function dp(i,o){return gt(i,o)}function wx(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,o,u,h){return new wx(i,o,u,h)}function pu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Sx(i){if(typeof i=="function")return pu(i)?1:0;if(i!=null){if(i=i.$$typeof,i===J)return 11;if(i===re)return 14}return 2}function Xr(i,o){var u=i.alternate;return u===null?(u=Mn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function ja(i,o,u,h,m,y){var S=2;if(h=i,typeof i=="function")pu(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case E:return Ci(u.children,m,y,o);case L:S=8,m|=8;break;case W:return i=Mn(12,u,o,m|2),i.elementType=W,i.lanes=y,i;case ae:return i=Mn(13,u,o,m),i.elementType=ae,i.lanes=y,i;case Q:return i=Mn(19,u,o,m),i.elementType=Q,i.lanes=y,i;case fe:return za(u,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:S=10;break e;case q:S=9;break e;case J:S=11;break e;case re:S=14;break e;case ce:S=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Mn(S,u,o,m),o.elementType=i,o.type=h,o.lanes=y,o}function Ci(i,o,u,h){return i=Mn(7,i,h,o),i.lanes=u,i}function za(i,o,u,h){return i=Mn(22,i,h,o),i.elementType=fe,i.lanes=u,i.stateNode={isHidden:!1},i}function mu(i,o,u){return i=Mn(6,i,null,o),i.lanes=u,i}function gu(i,o,u){return o=Mn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function _x(i,o,u,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function yu(i,o,u,h,m,y,S,D,O){return i=new _x(i,o,u,D,O),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Mn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dc(y),i}function kx(i,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:h==null?null:""+h,children:i,containerInfo:o,implementation:u}}function fp(i){if(!i)return Ir;i=i._reactInternals;e:{if(me(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Zt(u))return Bf(i,u,o)}return o}function hp(i,o,u,h,m,y,S,D,O){return i=yu(u,h,!0,i,m,y,S,D,O),i.context=fp(null),u=i.current,h=Gt(),m=Yr(u),y=pr(h,m),y.callback=o??null,$r(u,y,m),i.current.lanes=m,Ms(i,m,h),nn(i,h),i}function Ia(i,o,u,h){var m=o.current,y=Gt(),S=Yr(m);return u=fp(u),o.context===null?o.context=u:o.pendingContext=u,o=pr(y,S),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=$r(m,o,S),i!==null&&(Bn(i,m,S,y),ga(i,m,S)),S}function Ba(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function pp(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function vu(i,o){pp(i,o),(i=i.alternate)&&pp(i,o)}function Cx(){return null}var mp=typeof reportError=="function"?reportError:function(i){console.error(i)};function xu(i){this._internalRoot=i}Ua.prototype.render=xu.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Ia(i,o,null,null)},Ua.prototype.unmount=xu.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Si(function(){Ia(null,i,null,null)}),o[cr]=null}};function Ua(i){this._internalRoot=i}Ua.prototype.unstable_scheduleHydration=function(i){if(i){var o=Qd();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Lr.length&&o!==0&&o<Lr[u].priority;u++);Lr.splice(u,0,i),u===0&&ef(i)}};function bu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function $a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function gp(){}function Mx(i,o,u,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var H=Ba(S);y.call(H)}}var S=hp(o,h,i,0,null,!1,!1,"",gp);return i._reactRootContainer=S,i[cr]=S.current,Bs(i.nodeType===8?i.parentNode:i),Si(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var D=h;h=function(){var H=Ba(O);D.call(H)}}var O=yu(i,0,!1,null,null,!1,!1,"",gp);return i._reactRootContainer=O,i[cr]=O.current,Bs(i.nodeType===8?i.parentNode:i),Si(function(){Ia(o,O,u,h)}),O}function Ha(i,o,u,h,m){var y=u._reactRootContainer;if(y){var S=y;if(typeof m=="function"){var D=m;m=function(){var O=Ba(S);D.call(O)}}Ia(o,S,i,m)}else S=Mx(u,o,i,m,h);return Ba(S)}qd=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=hi(o.pendingLanes);u!==0&&(Wl(o,u|1),nn(o,Je()),(Xe&6)===0&&(cs=Je()+500,Br()))}break;case 13:Si(function(){var h=hr(i,1);if(h!==null){var m=Gt();Bn(h,i,1,m)}}),vu(i,1)}},Vl=function(i){if(i.tag===13){var o=hr(i,134217728);if(o!==null){var u=Gt();Bn(o,i,134217728,u)}vu(i,134217728)}},Kd=function(i){if(i.tag===13){var o=Yr(i),u=hr(i,o);if(u!==null){var h=Gt();Bn(u,i,o,h)}vu(i,o)}},Qd=function(){return Ze},Jd=function(i,o){var u=Ze;try{return Ze=i,o()}finally{Ze=u}},ye=function(i,o,u){switch(o){case"input":if(ln(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var m=oa(h);if(!m)throw Error(n(90));He(h),ln(h,m)}}}break;case"textarea":Xt(i,u);break;case"select":o=u.value,o!=null&&Hn(i,!!u.multiple,o,!1)}},Ne=du,tt=Si;var Ex={usingClientEntryPoint:!1,Events:[Hs,Ki,oa,Pe,Ye,du]},ro={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rx={bundleType:ro.bundleType,version:ro.version,rendererPackageName:ro.rendererPackageName,rendererConfig:ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=We(i),i===null?null:i.stateNode},findFiberByHostInstance:ro.findFiberByHostInstance||Cx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{or=Wa.inject(Rx),Vt=Wa}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ex,rn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(o))throw Error(n(200));return kx(i,o,null,u)},rn.createRoot=function(i,o){if(!bu(i))throw Error(n(299));var u=!1,h="",m=mp;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=yu(i,1,!1,null,null,u,!1,h,m),i[cr]=o.current,Bs(i.nodeType===8?i.parentNode:i),new xu(o)},rn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=We(o),i=i===null?null:i.stateNode,i},rn.flushSync=function(i){return Si(i)},rn.hydrate=function(i,o,u){if(!$a(o))throw Error(n(200));return Ha(null,i,o,!0,u)},rn.hydrateRoot=function(i,o,u){if(!bu(i))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,m=!1,y="",S=mp;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),o=hp(o,null,i,1,u??null,m,!1,y,S),i[cr]=o.current,Bs(i),h)for(i=0;i<h.length;i++)u=h[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Ua(o)},rn.render=function(i,o,u){if(!$a(o))throw Error(n(200));return Ha(null,i,o,!1,u)},rn.unmountComponentAtNode=function(i){if(!$a(i))throw Error(n(40));return i._reactRootContainer?(Si(function(){Ha(null,null,i,!1,function(){i._reactRootContainer=null,i[cr]=null})}),!0):!1},rn.unstable_batchedUpdates=du,rn.unstable_renderSubtreeIntoContainer=function(i,o,u,h){if(!$a(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Ha(i,o,u,!1,h)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var kp;function e0(){if(kp)return _u.exports;kp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_u.exports=jx(),_u.exports}var Cp;function zx(){if(Cp)return Va;Cp=1;var t=e0();return Va.createRoot=t.createRoot,Va.hydrateRoot=t.hydrateRoot,Va}var Ix=zx();const Bx=Jg(Ix);var t0=t=>{throw TypeError(t)},Ux=(t,e,n)=>e.has(t)||t0("Cannot "+n),Mu=(t,e,n)=>(Ux(t,e,"read from private field"),n?n.call(t):e.get(t)),$x=(t,e,n)=>e.has(t)?t0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Mp="popstate";function Hx(t={}){function e(s,a){let{pathname:l="/",search:c="",hash:d=""}=Cr(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ro("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");c=f===-1?d:d.slice(0,f)}return c+"#"+(typeof a=="string"?a:nr(a))}function r(s,a){mt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Vx(e,n,r,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wx(){return Math.random().toString(36).substring(2,10)}function Ep(t,e){return{usr:t.state,key:t.key,idx:e}}function Ro(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cr(e):e,state:n,key:e&&e.key||r||Wx()}}function nr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Vx(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let _=p(),k=_==null?null:_-f;f=_,d&&d({action:c,location:w.location,delta:k})}function v(_,k){c="PUSH";let R=Ro(w.location,_,k);n&&n(R,_),f=p()+1;let M=Ep(R,f),A=w.createHref(R);try{l.pushState(M,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(A)}a&&d&&d({action:c,location:w.location,delta:1})}function x(_,k){c="REPLACE";let R=Ro(w.location,_,k);n&&n(R,_),f=p();let M=Ep(R,f),A=w.createHref(R);l.replaceState(M,"",A),a&&d&&d({action:c,location:w.location,delta:0})}function b(_){return n0(_)}let w={get action(){return c},get location(){return t(s,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Mp,g),d=_,()=>{s.removeEventListener(Mp,g),d=null}},createHref(_){return e(s,_)},createURL:b,encodeLocation(_){let k=b(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:x,go(_){return l.go(_)}};return w}function n0(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Be(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:nr(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var po,Rp=class{constructor(t){if($x(this,po,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Mu(this,po).has(t))return Mu(this,po).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Mu(this,po).set(t,e)}};po=new WeakMap;var Yx=new Set(["lazy","caseSensitive","path","id","index","children"]);function Gx(t){return Yx.has(t)}var Xx=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function qx(t){return Xx.has(t)}function Kx(t){return t.index===!0}function Po(t,e,n=[],r={},s=!1){return t.map((a,l)=>{let c=[...n,String(l)],d=typeof a.id=="string"?a.id:c.join("-");if(Be(a.index!==!0||!a.children,"Cannot specify children on an index route"),Be(s||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),Kx(a)){let f={...a,id:d};return r[d]=Pp(f,e(f)),f}else{let f={...a,id:d,children:void 0};return r[d]=Pp(f,e(f)),a.children&&(f.children=Po(a.children,e,c,r,s)),f}})}function Pp(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function Kr(t,e,n="/"){return mo(t,e,n,!1)}function mo(t,e,n,r){let s=typeof e=="string"?Cr(e):e,a=Pn(s.pathname||"/",n);if(a==null)return null;let l=r0(t);Jx(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=cb(a);c=ab(l[d],f,r)}return c}function Qx(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function r0(t,e=[],n=[],r="",s=!1){let a=(l,c,d=s,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Be(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=er([r,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Be(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),r0(l.children,e,v,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:sb(g,l.index),routesMeta:v})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of i0(l.path))a(l,c,!0,d)}),e}function i0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=i0(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function Jx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ob(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Zx=/^:[\w-]+$/,eb=3,tb=2,nb=1,rb=10,ib=-2,Dp=t=>t==="*";function sb(t,e){let n=t.split("/"),r=n.length;return n.some(Dp)&&(r+=ib),e&&(r+=tb),n.filter(s=>!Dp(s)).reduce((s,a)=>s+(Zx.test(a)?eb:a===""?nb:rb),r)}function ob(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function ab(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=yl({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=yl({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:er([a,g.pathname]),pathnameBase:fb(er([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=er([a,g.pathnameBase]))}return l}function yl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lb(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let b=c[v]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[v];return g&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function lb(t,e=!1,n=!0){mt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Pn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ub({basename:t,pathname:e}){return e==="/"?t:er([t,e])}var s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pl=t=>s0.test(t);function db(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Cr(t):t,a;if(n)if(Pl(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),mt(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=Tp(n.substring(1),"/"):a=Tp(n,e)}else a=e;return{pathname:a,search:hb(r),hash:pb(s)}}function Tp(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Eu(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vd(t){let e=o0(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xd(t,e,n,r=!1){let s;typeof t=="string"?s=Cr(t):(s={...t},Be(!s.pathname||!s.pathname.includes("?"),Eu("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),Eu("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),Eu("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}c=g>=0?e[g]:"/"}let d=db(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var er=t=>t.join("/").replace(/\/\/+/g,"/"),fb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,zo=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Do(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Io(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var a0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function l0(t,e){let n=t;if(typeof n!="string"||!s0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(a0)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),c=Pn(l.pathname,e);l.origin===a.origin&&c!=null?n=c+l.search+l.hash:s=!0}catch{mt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}var Jr=Symbol("Uninstrumented");function mb(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(a){let l=Object.keys(n);for(let c of l)a[c]&&n[c].push(a[c])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let s=gs(n.lazy,e.lazy,()=>{});s&&(r.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(a=>{let l=s[a],c=n[`lazy.${a}`];if(typeof l=="function"&&c.length>0){let d=gs(c,l,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[a]:d}))}})}return["loader","action"].forEach(s=>{let a=e[s];if(typeof a=="function"&&n[s].length>0){let l=a[Jr]??a,c=gs(n[s],l,(...d)=>Np(d[0]));c&&(s==="loader"&&l.hydrate===!0&&(c.hydrate=!0),c[Jr]=l,r[s]=c)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(s=>{let a=s[Jr]??s,l=gs(n.middleware,a,(...c)=>Np(c[0]));return l?(l[Jr]=a,l):s})),r}function gb(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(s){let a=Object.keys(s);for(let l of a)s[l]&&n[l].push(s[l])}})),n.navigate.length>0){let r=t.navigate[Jr]??t.navigate,s=gs(n.navigate,r,(...a)=>{let[l,c]=a;return{to:typeof l=="number"||typeof l=="string"?l:l?nr(l):".",...Ap(t,c??{})}});s&&(s[Jr]=r,t.navigate=s)}if(n.fetch.length>0){let r=t.fetch[Jr]??t.fetch,s=gs(n.fetch,r,(...a)=>{let[l,,c,d]=a;return{href:c??".",fetcherKey:l,...Ap(t,d??{})}});s&&(s[Jr]=r,t.fetch=s)}return t}function gs(t,e,n){return t.length===0?null:async(...r)=>{let s=await c0(t,n(...r),()=>e(...r),t.length-1);if(s.type==="error")throw s.value;return s.value}}async function c0(t,e,n,r){let s=t[r],a;if(s){let l,c=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=c0(t,e,n,r-1),a=await l,Be(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await s(c,e)}catch(d){console.error("An instrumentation function threw an error:",d)}l||await c(),await l}else try{a={type:"success",value:await n()}}catch(l){a={type:"error",value:l}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Np(t){let{request:e,context:n,params:r,unstable_pattern:s}=t;return{request:yb(e),params:{...r},unstable_pattern:s,context:vb(n)}}function Ap(t,e){return{currentUrl:nr(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function yb(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function vb(t){if(bb(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var xb=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bb(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===xb}var u0=["POST","PUT","PATCH","DELETE"],wb=new Set(u0),Sb=["GET",...u0],_b=new Set(Sb),d0=new Set([301,302,303,307,308]),kb=new Set([307,308]),Ru={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Cb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},so={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mb=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),f0="remix-router-transitions",h0=Symbol("ResetLoaderData");function Eb(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||Mb,a=s;if(t.unstable_instrumentations){let T=t.unstable_instrumentations;a=I=>({...s(I),...mb(T.map($=>$.route).filter(Boolean),I)})}let l={},c=Po(t.routes,a,void 0,l),d,f=t.basename||"/";f.startsWith("/")||(f=`/${f}`);let p=t.dataStrategy||Nb,g={...t.future},v=null,x=new Set,b=null,w=null,_=null,k=t.hydrationData!=null,R=Kr(c,t.history.location,f),M=!1,A=null,N;if(R==null&&!t.patchRoutesOnNavigation){let T=Rn(404,{pathname:t.history.location.pathname}),{matches:I,route:$}=Ya(c);N=!0,R=I,A={[$.id]:T}}else if(R&&!t.hydrationData&&tt(R,c,t.history.location.pathname).active&&(R=null),R)if(R.some(T=>T.route.lazy))N=!1;else if(!R.some(T=>bd(T.route)))N=!0;else{let T=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null;if(I){let $=R.findIndex(Z=>I[Z.route.id]!==void 0);N=R.slice(0,$+1).every(Z=>!rd(Z.route,T,I))}else N=R.every($=>!rd($.route,T,I))}else{N=!1,R=[];let T=tt(null,c,t.history.location.pathname);T.active&&T.matches&&(M=!0,R=T.matches)}let z,E={historyAction:t.history.action,location:t.history.location,matches:R,initialized:N,navigation:Ru,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},L="POP",W=null,X=!1,q,J=!1,ae=new Map,Q=null,re=!1,ce=!1,fe=new Set,Y=new Map,ne=0,K=-1,F=new Map,V=new Set,de=new Map,le=new Map,ke=new Set,Me=new Map,Oe,Le=null;function $e(){if(v=t.history.listen(({action:T,location:I,delta:$})=>{if(Oe){Oe(),Oe=void 0;return}mt(Me.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Z=we({currentLocation:E.location,nextLocation:I,historyAction:T});if(Z&&$!=null){let se=new Promise(ve=>{Oe=ve});t.history.go($*-1),ye(Z,{state:"blocked",location:I,proceed(){ye(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),se.then(()=>t.history.go($))},reset(){let ve=new Map(E.blockers);ve.set(Z,so),He({blockers:ve})}}),W?.resolve(),W=null;return}return wt(T,I)}),n){Kb(e,ae);let T=()=>Qb(e,ae);e.addEventListener("pagehide",T),Q=()=>e.removeEventListener("pagehide",T)}return E.initialized||wt("POP",E.location,{initialHydration:!0}),z}function ht(){v&&v(),Q&&Q(),x.clear(),q&&q.abort(),E.fetchers.forEach((T,I)=>Lt(I)),E.blockers.forEach((T,I)=>G(I))}function $t(T){return x.add(T),()=>x.delete(T)}function He(T,I={}){T.matches&&(T.matches=T.matches.map(se=>{let ve=l[se.route.id],he=se.route;return he.element!==ve.element||he.errorElement!==ve.errorElement||he.hydrateFallbackElement!==ve.hydrateFallbackElement?{...se,route:ve}:se})),E={...E,...T};let $=[],Z=[];E.fetchers.forEach((se,ve)=>{se.state==="idle"&&(ke.has(ve)?$.push(ve):Z.push(ve))}),ke.forEach(se=>{!E.fetchers.has(se)&&!Y.has(se)&&$.push(se)}),[...x].forEach(se=>se(E,{deletedFetchers:$,newErrors:T.errors??null,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),$.forEach(se=>Lt(se)),Z.forEach(se=>E.fetchers.delete(se))}function je(T,I,{flushSync:$}={}){let Z=E.actionData!=null&&E.navigation.formMethod!=null&&It(E.navigation.formMethod)&&E.navigation.state==="loading"&&T.state?._isRedirect!==!0,se;I.actionData?Object.keys(I.actionData).length>0?se=I.actionData:se=null:Z?se=E.actionData:se=null;let ve=I.loaderData?Hp(E.loaderData,I.loaderData,I.matches||[],I.errors):E.loaderData,he=E.blockers;he.size>0&&(he=new Map(he),he.forEach((Re,Ee)=>he.set(Ee,so)));let xe=re?!1:Ne(T,I.matches||E.matches),ue=X===!0||E.navigation.formMethod!=null&&It(E.navigation.formMethod)&&T.state?._isRedirect!==!0;d&&(c=d,d=void 0),re||L==="POP"||(L==="PUSH"?t.history.push(T,T.state):L==="REPLACE"&&t.history.replace(T,T.state));let me;if(L==="POP"){let Re=ae.get(E.location.pathname);Re&&Re.has(T.pathname)?me={currentLocation:E.location,nextLocation:T}:ae.has(T.pathname)&&(me={currentLocation:T,nextLocation:E.location})}else if(J){let Re=ae.get(E.location.pathname);Re?Re.add(T.pathname):(Re=new Set([T.pathname]),ae.set(E.location.pathname,Re)),me={currentLocation:E.location,nextLocation:T}}He({...I,actionData:se,loaderData:ve,historyAction:L,location:T,initialized:!0,navigation:Ru,revalidation:"idle",restoreScrollPosition:xe,preventScrollReset:ue,blockers:he},{viewTransitionOpts:me,flushSync:$===!0}),L="POP",X=!1,J=!1,re=!1,ce=!1,W?.resolve(),W=null,Le?.resolve(),Le=null}async function Ht(T,I){if(W?.resolve(),W=null,typeof T=="number"){W||(W=Gp());let We=W.promise;return t.history.go(T),We}let $=nd(E.location,E.matches,f,T,I?.fromRouteId,I?.relative),{path:Z,submission:se,error:ve}=Lp(!1,$,I),he=E.location,xe=Ro(E.location,Z,I&&I.state);xe={...xe,...t.history.encodeLocation(xe)};let ue=I&&I.replace!=null?I.replace:void 0,me="PUSH";ue===!0?me="REPLACE":ue===!1||se!=null&&It(se.formMethod)&&se.formAction===E.location.pathname+E.location.search&&(me="REPLACE");let Re=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,Ee=(I&&I.flushSync)===!0,Ge=we({currentLocation:he,nextLocation:xe,historyAction:me});if(Ge){ye(Ge,{state:"blocked",location:xe,proceed(){ye(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),Ht(T,I)},reset(){let We=new Map(E.blockers);We.set(Ge,so),He({blockers:We})}});return}await wt(me,xe,{submission:se,pendingError:ve,preventScrollReset:Re,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:Ee,callSiteDefaultShouldRevalidate:I&&I.unstable_defaultShouldRevalidate})}function Tt(){Le||(Le=Gp()),Wn(),He({revalidation:"loading"});let T=Le.promise;return E.navigation.state==="submitting"?T:E.navigation.state==="idle"?(wt(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),T):(wt(L||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:J===!0}),T)}async function wt(T,I,$){q&&q.abort(),q=null,L=T,re=($&&$.startUninterruptedRevalidation)===!0,Ye(E.location,E.matches),X=($&&$.preventScrollReset)===!0,J=($&&$.enableViewTransition)===!0;let Z=d||c,se=$&&$.overrideNavigation,ve=$?.initialHydration&&E.matches&&E.matches.length>0&&!M?E.matches:Kr(Z,I,f),he=($&&$.flushSync)===!0;if(ve&&E.initialized&&!ce&&Bb(E.location,I)&&!($&&$.submission&&It($.submission.formMethod))){je(I,{matches:ve},{flushSync:he});return}let xe=tt(ve,Z,I.pathname);if(xe.active&&xe.matches&&(ve=xe.matches),!ve){let{error:gt,notFoundMatches:Et,route:Ke}=_e(I.pathname);je(I,{matches:Et,loaderData:{},errors:{[Ke.id]:gt}},{flushSync:he});return}q=new AbortController;let ue=ms(t.history,I,q.signal,$&&$.submission),me=t.getContext?await t.getContext():new Rp,Re;if($&&$.pendingError)Re=[Qr(ve).route.id,{type:"error",error:$.pendingError}];else if($&&$.submission&&It($.submission.formMethod)){let gt=await ln(ue,I,$.submission,ve,me,xe.active,$&&$.initialHydration===!0,{replace:$.replace,flushSync:he});if(gt.shortCircuited)return;if(gt.pendingActionResult){let[Et,Ke]=gt.pendingActionResult;if(gn(Ke)&&Do(Ke.error)&&Ke.error.status===404){q=null,je(I,{matches:gt.matches,loaderData:{},errors:{[Et]:Ke.error}});return}}ve=gt.matches||ve,Re=gt.pendingActionResult,se=Pu(I,$.submission),he=!1,xe.active=!1,ue=ms(t.history,ue.url,ue.signal)}let{shortCircuited:Ee,matches:Ge,loaderData:We,errors:xt}=await Ui(ue,I,ve,me,xe.active,se,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,he,Re,$&&$.callSiteDefaultShouldRevalidate);Ee||(q=null,je(I,{matches:Ge||ve,...Wp(Re),loaderData:We,errors:xt}))}async function ln(T,I,$,Z,se,ve,he,xe={}){Wn();let ue=Xb(I,$);if(He({navigation:ue},{flushSync:xe.flushSync===!0}),ve){let Ee=await Kt(Z,I.pathname,T.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){if(Ee.partialMatches.length===0){let{matches:We,route:xt}=Ya(c);return{matches:We,pendingActionResult:[xt.id,{type:"error",error:Ee.error}]}}let Ge=Qr(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,pendingActionResult:[Ge,{type:"error",error:Ee.error}]}}else if(Ee.matches)Z=Ee.matches;else{let{notFoundMatches:Ge,error:We,route:xt}=_e(I.pathname);return{matches:Ge,pendingActionResult:[xt.id,{type:"error",error:We}]}}}let me,Re=fl(Z,I);if(!Re.route.action&&!Re.route.lazy)me={type:"error",error:Rn(405,{method:T.method,pathname:I.pathname,routeId:Re.route.id})};else{let Ee=ys(a,l,T,Z,Re,he?[]:r,se),Ge=await xn(T,Ee,se,null);if(me=Ge[Re.route.id],!me){for(let We of Z)if(Ge[We.route.id]){me=Ge[We.route.id];break}}if(T.signal.aborted)return{shortCircuited:!0}}if(Ti(me)){let Ee;return xe&&xe.replace!=null?Ee=xe.replace:Ee=Bp(me.response.headers.get("Location"),new URL(T.url),f,t.history)===E.location.pathname+E.location.search,await Xt(T,me,!0,{submission:$,replace:Ee}),{shortCircuited:!0}}if(gn(me)){let Ee=Qr(Z,Re.route.id);return(xe&&xe.replace)!==!0&&(L="PUSH"),{matches:Z,pendingActionResult:[Ee.route.id,me,Re.route.id]}}return{matches:Z,pendingActionResult:[Re.route.id,me]}}async function Ui(T,I,$,Z,se,ve,he,xe,ue,me,Re,Ee,Ge){let We=ve||Pu(I,he),xt=he||xe||Yp(We),gt=!re&&!me;if(se){if(gt){let nt=Mr(Ee);He({navigation:We,...nt!==void 0?{actionData:nt}:{}},{flushSync:Re})}let Ve=await Kt($,I.pathname,T.signal);if(Ve.type==="aborted")return{shortCircuited:!0};if(Ve.type==="error"){if(Ve.partialMatches.length===0){let{matches:Dr,route:ar}=Ya(c);return{matches:Dr,loaderData:{},errors:{[ar.id]:Ve.error}}}let nt=Qr(Ve.partialMatches).route.id;return{matches:Ve.partialMatches,loaderData:{},errors:{[nt]:Ve.error}}}else if(Ve.matches)$=Ve.matches;else{let{error:nt,notFoundMatches:Dr,route:ar}=_e(I.pathname);return{matches:Dr,loaderData:{},errors:{[ar.id]:nt}}}}let Et=d||c,{dsMatches:Ke,revalidatingFetchers:Qt}=Op(T,Z,a,l,t.history,E,$,xt,I,me?[]:r,me===!0,ce,fe,ke,de,V,Et,f,t.patchRoutesOnNavigation!=null,Ee,Ge);if(K=++ne,!t.dataStrategy&&!Ke.some(Ve=>Ve.shouldLoad)&&!Ke.some(Ve=>Ve.route.middleware&&Ve.route.middleware.length>0)&&Qt.length===0){let Ve=Er();return je(I,{matches:$,loaderData:{},errors:Ee&&gn(Ee[1])?{[Ee[0]]:Ee[1].error}:null,...Wp(Ee),...Ve?{fetchers:new Map(E.fetchers)}:{}},{flushSync:Re}),{shortCircuited:!0}}if(gt){let Ve={};if(!se){Ve.navigation=We;let nt=Mr(Ee);nt!==void 0&&(Ve.actionData=nt)}Qt.length>0&&(Ve.fetchers=ir(Qt)),He(Ve,{flushSync:Re})}Qt.forEach(Ve=>{Wt(Ve.key),Ve.controller&&Y.set(Ve.key,Ve.controller)});let Je=()=>Qt.forEach(Ve=>Wt(Ve.key));q&&q.signal.addEventListener("abort",Je);let{loaderResults:ui,fetcherResults:bn}=await ai(Ke,Qt,T,Z);if(T.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Je),Qt.forEach(Ve=>Y.delete(Ve.key));let un=Ga(ui);if(un)return await Xt(T,un.result,!0,{replace:ue}),{shortCircuited:!0};if(un=Ga(bn),un)return V.add(un.key),await Xt(T,un.result,!0,{replace:ue}),{shortCircuited:!0};let{loaderData:Pr,errors:di}=$p(E,$,ui,Ee,Qt,bn);me&&E.errors&&(di={...E.errors,...di});let Vn=Er(),or=An(K),Vt=Vn||or||Qt.length>0;return{matches:$,loaderData:Pr,errors:di,...Vt?{fetchers:new Map(E.fetchers)}:{}}}function Mr(T){if(T&&!gn(T[1]))return{[T[0]]:T[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function ir(T){return T.forEach(I=>{let $=E.fetchers.get(I.key),Z=oo(void 0,$?$.data:void 0);E.fetchers.set(I.key,Z)}),new Map(E.fetchers)}async function Hn(T,I,$,Z){Wt(T);let se=(Z&&Z.flushSync)===!0,ve=d||c,he=nd(E.location,E.matches,f,$,I,Z?.relative),xe=Kr(ve,he,f),ue=tt(xe,ve,he);if(ue.active&&ue.matches&&(xe=ue.matches),!xe){qt(T,I,Rn(404,{pathname:he}),{flushSync:se});return}let{path:me,submission:Re,error:Ee}=Lp(!0,he,Z);if(Ee){qt(T,I,Ee,{flushSync:se});return}let Ge=t.getContext?await t.getContext():new Rp,We=(Z&&Z.preventScrollReset)===!0;if(Re&&It(Re.formMethod)){await vn(T,I,me,xe,Ge,ue.active,se,We,Re,Z&&Z.unstable_defaultShouldRevalidate);return}de.set(T,{routeId:I,path:me}),await Tn(T,I,me,xe,Ge,ue.active,se,We,Re)}async function vn(T,I,$,Z,se,ve,he,xe,ue,me){Wn(),de.delete(T);let Re=E.fetchers.get(T);Mt(T,qb(ue,Re),{flushSync:he});let Ee=new AbortController,Ge=ms(t.history,$,Ee.signal,ue);if(ve){let lt=await Kt(Z,new URL(Ge.url).pathname,Ge.signal,T);if(lt.type==="aborted")return;if(lt.type==="error"){qt(T,I,lt.error,{flushSync:he});return}else if(lt.matches)Z=lt.matches;else{qt(T,I,Rn(404,{pathname:$}),{flushSync:he});return}}let We=fl(Z,$);if(!We.route.action&&!We.route.lazy){let lt=Rn(405,{method:ue.formMethod,pathname:$,routeId:I});qt(T,I,lt,{flushSync:he});return}Y.set(T,Ee);let xt=ne,gt=ys(a,l,Ge,Z,We,r,se),Et=await xn(Ge,gt,se,T),Ke=Et[We.route.id];if(!Ke){for(let lt of gt)if(Et[lt.route.id]){Ke=Et[lt.route.id];break}}if(Ge.signal.aborted){Y.get(T)===Ee&&Y.delete(T);return}if(ke.has(T)){if(Ti(Ke)||gn(Ke)){Mt(T,vr(void 0));return}}else{if(Ti(Ke))if(Y.delete(T),K>xt){Mt(T,vr(void 0));return}else return V.add(T),Mt(T,oo(ue)),Xt(Ge,Ke,!1,{fetcherSubmission:ue,preventScrollReset:xe});if(gn(Ke)){qt(T,I,Ke.error);return}}let Qt=E.navigation.location||E.location,Je=ms(t.history,Qt,Ee.signal),ui=d||c,bn=E.navigation.state!=="idle"?Kr(ui,E.navigation.location,f):E.matches;Be(bn,"Didn't find any matches after fetcher action");let un=++ne;F.set(T,un);let Pr=oo(ue,Ke.data);E.fetchers.set(T,Pr);let{dsMatches:di,revalidatingFetchers:Vn}=Op(Je,se,a,l,t.history,E,bn,ue,Qt,r,!1,ce,fe,ke,de,V,ui,f,t.patchRoutesOnNavigation!=null,[We.route.id,Ke],me);Vn.filter(lt=>lt.key!==T).forEach(lt=>{let lr=lt.key,fi=E.fetchers.get(lr),hi=oo(void 0,fi?fi.data:void 0);E.fetchers.set(lr,hi),Wt(lr),lt.controller&&Y.set(lr,lt.controller)}),He({fetchers:new Map(E.fetchers)});let or=()=>Vn.forEach(lt=>Wt(lt.key));Ee.signal.addEventListener("abort",or);let{loaderResults:Vt,fetcherResults:Ve}=await ai(di,Vn,Je,se);if(Ee.signal.aborted)return;if(Ee.signal.removeEventListener("abort",or),F.delete(T),Y.delete(T),Vn.forEach(lt=>Y.delete(lt.key)),E.fetchers.has(T)){let lt=vr(Ke.data);E.fetchers.set(T,lt)}let nt=Ga(Vt);if(nt)return Xt(Je,nt.result,!1,{preventScrollReset:xe});if(nt=Ga(Ve),nt)return V.add(nt.key),Xt(Je,nt.result,!1,{preventScrollReset:xe});let{loaderData:Dr,errors:ar}=$p(E,bn,Vt,void 0,Vn,Ve);An(un),E.navigation.state==="loading"&&un>K?(Be(L,"Expected pending action"),q&&q.abort(),je(E.navigation.location,{matches:bn,loaderData:Dr,errors:ar,fetchers:new Map(E.fetchers)})):(He({errors:ar,loaderData:Hp(E.loaderData,Dr,bn,ar),fetchers:new Map(E.fetchers)}),ce=!1)}async function Tn(T,I,$,Z,se,ve,he,xe,ue){let me=E.fetchers.get(T);Mt(T,oo(ue,me?me.data:void 0),{flushSync:he});let Re=new AbortController,Ee=ms(t.history,$,Re.signal);if(ve){let Ke=await Kt(Z,new URL(Ee.url).pathname,Ee.signal,T);if(Ke.type==="aborted")return;if(Ke.type==="error"){qt(T,I,Ke.error,{flushSync:he});return}else if(Ke.matches)Z=Ke.matches;else{qt(T,I,Rn(404,{pathname:$}),{flushSync:he});return}}let Ge=fl(Z,$);Y.set(T,Re);let We=ne,xt=ys(a,l,Ee,Z,Ge,r,se),Et=(await xn(Ee,xt,se,T))[Ge.route.id];if(Y.get(T)===Re&&Y.delete(T),!Ee.signal.aborted){if(ke.has(T)){Mt(T,vr(void 0));return}if(Ti(Et))if(K>We){Mt(T,vr(void 0));return}else{V.add(T),await Xt(Ee,Et,!1,{preventScrollReset:xe});return}if(gn(Et)){qt(T,I,Et.error);return}Mt(T,vr(Et.data))}}async function Xt(T,I,$,{submission:Z,fetcherSubmission:se,preventScrollReset:ve,replace:he}={}){$||(W?.resolve(),W=null),I.response.headers.has("X-Remix-Revalidate")&&(ce=!0);let xe=I.response.headers.get("Location");Be(xe,"Expected a Location header on the redirect Response"),xe=Bp(xe,new URL(T.url),f,t.history);let ue=Ro(E.location,xe,{_isRedirect:!0});if(n){let xt=!1;if(I.response.headers.has("X-Remix-Reload-Document"))xt=!0;else if(Pl(xe)){const gt=n0(xe,!0);xt=gt.origin!==e.location.origin||Pn(gt.pathname,f)==null}if(xt){he?e.location.replace(xe):e.location.assign(xe);return}}q=null;let me=he===!0||I.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Re,formAction:Ee,formEncType:Ge}=E.navigation;!Z&&!se&&Re&&Ee&&Ge&&(Z=Yp(E.navigation));let We=Z||se;if(kb.has(I.response.status)&&We&&It(We.formMethod))await wt(me,ue,{submission:{...We,formAction:xe},preventScrollReset:ve||X,enableViewTransition:$?J:void 0});else{let xt=Pu(ue,Z);await wt(me,ue,{overrideNavigation:xt,fetcherSubmission:se,preventScrollReset:ve||X,enableViewTransition:$?J:void 0})}}async function xn(T,I,$,Z){let se,ve={};try{se=await Lb(p,T,I,Z,$,!1)}catch(he){return I.filter(xe=>xe.shouldLoad).forEach(xe=>{ve[xe.route.id]={type:"error",error:he}}),ve}if(T.signal.aborted)return ve;if(!It(T.method))for(let he of I){if(se[he.route.id]?.type==="error")break;!se.hasOwnProperty(he.route.id)&&!E.loaderData.hasOwnProperty(he.route.id)&&(!E.errors||!E.errors.hasOwnProperty(he.route.id))&&he.shouldCallHandler()&&(se[he.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${he.route.id}`)})}for(let[he,xe]of Object.entries(se))if(Wb(xe)){let ue=xe.result;ve[he]={type:"redirect",response:zb(ue,T,he,I,f)}}else ve[he]=await jb(xe);return ve}async function ai(T,I,$,Z){let se=xn($,T,Z,null),ve=Promise.all(I.map(async ue=>{if(ue.matches&&ue.match&&ue.request&&ue.controller){let Re=(await xn(ue.request,ue.matches,Z,ue.key))[ue.match.route.id];return{[ue.key]:Re}}else return Promise.resolve({[ue.key]:{type:"error",error:Rn(404,{pathname:ue.path})}})})),he=await se,xe=(await ve).reduce((ue,me)=>Object.assign(ue,me),{});return{loaderResults:he,fetcherResults:xe}}function Wn(){ce=!0,de.forEach((T,I)=>{Y.has(I)&&fe.add(I),Wt(I)})}function Mt(T,I,$={}){E.fetchers.set(T,I),He({fetchers:new Map(E.fetchers)},{flushSync:($&&$.flushSync)===!0})}function qt(T,I,$,Z={}){let se=Qr(E.matches,I);Lt(T),He({errors:{[se.route.id]:$},fetchers:new Map(E.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Nn(T){return le.set(T,(le.get(T)||0)+1),ke.has(T)&&ke.delete(T),E.fetchers.get(T)||Cb}function cn(T,I){Wt(T,I?.reason),Mt(T,vr(null))}function Lt(T){let I=E.fetchers.get(T);Y.has(T)&&!(I&&I.state==="loading"&&F.has(T))&&Wt(T),de.delete(T),F.delete(T),V.delete(T),ke.delete(T),fe.delete(T),E.fetchers.delete(T)}function $i(T){let I=(le.get(T)||0)-1;I<=0?(le.delete(T),ke.add(T)):le.set(T,I),He({fetchers:new Map(E.fetchers)})}function Wt(T,I){let $=Y.get(T);$&&($.abort(I),Y.delete(T))}function li(T){for(let I of T){let $=Nn(I),Z=vr($.data);E.fetchers.set(I,Z)}}function Er(){let T=[],I=!1;for(let $ of V){let Z=E.fetchers.get($);Be(Z,`Expected fetcher: ${$}`),Z.state==="loading"&&(V.delete($),T.push($),I=!0)}return li(T),I}function An(T){let I=[];for(let[$,Z]of F)if(Z<T){let se=E.fetchers.get($);Be(se,`Expected fetcher: ${$}`),se.state==="loading"&&(Wt($),F.delete($),I.push($))}return li(I),I.length>0}function Ln(T,I){let $=E.blockers.get(T)||so;return Me.get(T)!==I&&Me.set(T,I),$}function G(T){E.blockers.delete(T),Me.delete(T)}function ye(T,I){let $=E.blockers.get(T)||so;Be($.state==="unblocked"&&I.state==="blocked"||$.state==="blocked"&&I.state==="blocked"||$.state==="blocked"&&I.state==="proceeding"||$.state==="blocked"&&I.state==="unblocked"||$.state==="proceeding"&&I.state==="unblocked",`Invalid blocker state transition: ${$.state} -> ${I.state}`);let Z=new Map(E.blockers);Z.set(T,I),He({blockers:Z})}function we({currentLocation:T,nextLocation:I,historyAction:$}){if(Me.size===0)return;Me.size>1&&mt(!1,"A router only supports one blocker at a time");let Z=Array.from(Me.entries()),[se,ve]=Z[Z.length-1],he=E.blockers.get(se);if(!(he&&he.state==="proceeding")&&ve({currentLocation:T,nextLocation:I,historyAction:$}))return se}function _e(T){let I=Rn(404,{pathname:T}),$=d||c,{matches:Z,route:se}=Ya($);return{notFoundMatches:Z,route:se,error:I}}function ze(T,I,$){if(b=T,_=I,w=$||null,!k&&E.navigation===Ru){k=!0;let Z=Ne(E.location,E.matches);Z!=null&&He({restoreScrollPosition:Z})}return()=>{b=null,_=null,w=null}}function Pe(T,I){return w&&w(T,I.map(Z=>Qx(Z,E.loaderData)))||T.key}function Ye(T,I){if(b&&_){let $=Pe(T,I);b[$]=_()}}function Ne(T,I){if(b){let $=Pe(T,I),Z=b[$];if(typeof Z=="number")return Z}return null}function tt(T,I,$){if(t.patchRoutesOnNavigation)if(T){if(Object.keys(T[0].params).length>0)return{active:!0,matches:mo(I,$,f,!0)}}else return{active:!0,matches:mo(I,$,f,!0)||[]};return{active:!1,matches:null}}async function Kt(T,I,$,Z){if(!t.patchRoutesOnNavigation)return{type:"success",matches:T};let se=T;for(;;){let ve=d==null,he=d||c,xe=l;try{await t.patchRoutesOnNavigation({signal:$,path:I,matches:se,fetcherKey:Z,patch:(Re,Ee)=>{$.aborted||Fp(Re,Ee,he,xe,a,!1)}})}catch(Re){return{type:"error",error:Re,partialMatches:se}}finally{ve&&!$.aborted&&(c=[...c])}if($.aborted)return{type:"aborted"};let ue=Kr(he,I,f),me=null;if(ue){if(Object.keys(ue[0].params).length===0)return{type:"success",matches:ue};if(me=mo(he,I,f,!0),!(me&&se.length<me.length&&ci(se,me.slice(0,se.length))))return{type:"success",matches:ue}}if(me||(me=mo(he,I,f,!0)),!me||ci(se,me))return{type:"success",matches:null};se=me}}function ci(T,I){return T.length===I.length&&T.every(($,Z)=>$.route.id===I[Z].route.id)}function sr(T){l={},d=Po(T,a,void 0,l)}function Rr(T,I,$=!1){let Z=d==null;Fp(T,I,d||c,l,a,$),Z&&(c=[...c],He({}))}return z={get basename(){return f},get future(){return g},get state(){return E},get routes(){return c},get window(){return e},initialize:$e,subscribe:$t,enableScrollRestoration:ze,navigate:Ht,fetch:Hn,revalidate:Tt,createHref:T=>t.history.createHref(T),encodeLocation:T=>t.history.encodeLocation(T),getFetcher:Nn,resetFetcher:cn,deleteFetcher:$i,dispose:ht,getBlocker:Ln,deleteBlocker:G,patchRoutes:Rr,_internalFetchControllers:Y,_internalSetRoutes:sr,_internalSetStateDoNotUseOrYouWillBreakYourApp(T){He(T)}},t.unstable_instrumentations&&(z=gb(z,t.unstable_instrumentations.map(T=>T.router).filter(Boolean))),z}function Rb(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function nd(t,e,n,r,s,a){let l,c;if(s){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let d=xd(r||".",vd(l),Pn(t.pathname,n)||t.pathname,a==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let f=Sd(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(d.search),g=p.getAll("index");p.delete("index"),g.filter(x=>x).forEach(x=>p.append("index",x));let v=p.toString();d.search=v?`?${v}`:""}}return n!=="/"&&(d.pathname=ub({basename:n,pathname:d.pathname})),nr(d)}function Lp(t,e,n){if(!n||!Rb(n))return{path:e};if(n.formMethod&&!Gb(n.formMethod))return{path:e,error:Rn(405,{method:n.formMethod})};let r=()=>({path:e,error:Rn(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),l=x0(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!It(a))return r();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[x,b])=>`${v}${x}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!It(a))return r();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}Be(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=sd(n.formData),d=n.formData;else if(n.body instanceof FormData)c=sd(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=Up(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=Up(c)}catch{return r()}let f={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(It(f.formMethod))return{path:e,submission:f};let p=Cr(e);return t&&p.search&&Sd(p.search)&&c.append("index",""),p.search=`?${c}`,{path:nr(p),submission:f}}function Op(t,e,n,r,s,a,l,c,d,f,p,g,v,x,b,w,_,k,R,M,A){let N=M?gn(M[1])?M[1].error:M[1].data:void 0,z=s.createURL(a.location),E=s.createURL(d),L;if(p&&a.errors){let re=Object.keys(a.errors)[0];L=l.findIndex(ce=>ce.route.id===re)}else if(M&&gn(M[1])){let re=M[0];L=l.findIndex(ce=>ce.route.id===re)-1}let W=M?M[1].statusCode:void 0,X=W&&W>=400,q={currentUrl:z,currentParams:a.matches[0]?.params||{},nextUrl:E,nextParams:l[0].params,...c,actionResult:N,actionStatus:W},J=Io(l),ae=l.map((re,ce)=>{let{route:fe}=re,Y=null;if(L!=null&&ce>L?Y=!1:fe.lazy?Y=!0:bd(fe)?p?Y=rd(fe,a.loaderData,a.errors):Pb(a.loaderData,a.matches[ce],re)&&(Y=!0):Y=!1,Y!==null)return id(n,r,t,J,re,f,e,Y);let ne=!1;typeof A=="boolean"?ne=A:X?ne=!1:(g||z.pathname+z.search===E.pathname+E.search||z.search!==E.search||Db(a.matches[ce],re))&&(ne=!0);let K={...q,defaultShouldRevalidate:ne},F=wo(re,K);return id(n,r,t,J,re,f,e,F,K,A)}),Q=[];return b.forEach((re,ce)=>{if(p||!l.some(le=>le.route.id===re.routeId)||x.has(ce))return;let fe=a.fetchers.get(ce),Y=fe&&fe.state!=="idle"&&fe.data===void 0,ne=Kr(_,re.path,k);if(!ne){if(R&&Y)return;Q.push({key:ce,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(w.has(ce))return;let K=fl(ne,re.path),F=new AbortController,V=ms(s,re.path,F.signal),de=null;if(v.has(ce))v.delete(ce),de=ys(n,r,V,ne,K,f,e);else if(Y)g&&(de=ys(n,r,V,ne,K,f,e));else{let le;typeof A=="boolean"?le=A:X?le=!1:le=g;let ke={...q,defaultShouldRevalidate:le};wo(K,ke)&&(de=ys(n,r,V,ne,K,f,e,ke))}de&&Q.push({key:ce,routeId:re.routeId,path:re.path,matches:de,match:K,request:V,controller:F})}),{dsMatches:ae,revalidatingFetchers:Q}}function bd(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function rd(t,e,n){if(t.lazy)return!0;if(!bd(t))return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function Pb(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function Db(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function wo(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Fp(t,e,n,r,s,a){let l;if(t){let f=r[t];Be(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),l=f.children}else l=n;let c=[],d=[];if(e.forEach(f=>{let p=l.find(g=>p0(f,g));p?d.push({existingRoute:p,newRoute:f}):c.push(f)}),c.length>0){let f=Po(c,s,[t||"_","patch",String(l?.length||"0")],r);l.push(...f)}if(a&&d.length>0)for(let f=0;f<d.length;f++){let{existingRoute:p,newRoute:g}=d[f],v=p,[x]=Po([g],s,[],{},!0);Object.assign(v,{element:x.element?x.element:v.element,errorElement:x.errorElement?x.errorElement:v.errorElement,hydrateFallbackElement:x.hydrateFallbackElement?x.hydrateFallbackElement:v.hydrateFallbackElement})}}function p0(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(s=>p0(n,s))):!1}var jp=new WeakMap,m0=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(Be(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[t];if(!a)return;let l=jp.get(s);l||(l={},jp.set(s,l));let c=l[t];if(c)return c;let d=(async()=>{let f=Gx(t),g=s[t]!==void 0&&t!=="hasErrorBoundary";if(f)mt(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(g)mt(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await a();v!=null&&(Object.assign(s,{[t]:v}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(v=>v===void 0)&&(s.lazy=void 0))})();return l[t]=d,d},zp=new WeakMap;function Tb(t,e,n,r,s){let a=n[t.id];if(Be(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=zp.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=(async()=>{Be(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),x={};for(let b in v){let w=v[b];if(w===void 0)continue;let _=qx(b),R=a[b]!==void 0&&b!=="hasErrorBoundary";_?mt(!_,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?mt(!R,`Route "${a.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):x[b]=w}Object.assign(a,x),Object.assign(a,{...r(a),lazy:void 0})})();return zp.set(a,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(t.lazy),c=[],d;for(let p of l){if(s&&s.includes(p))continue;let g=m0({key:p,route:t,manifest:n,mapRouteProperties:r});g&&(c.push(g),p===e&&(d=g))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function Ip(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{n[e[a].route.id]=s}),n}async function Nb(t){return t.matches.some(e=>e.route.middleware)?g0(t,()=>Ip(t)):Ip(t)}function g0(t,e){return Ab(t,e,r=>{if(Yb(r))throw r;return r},$b,n);function n(r,s,a){if(a)return Promise.resolve(Object.assign(a.value,{[s]:{type:"error",result:r}}));{let{matches:l}=t,c=Math.min(Math.max(l.findIndex(f=>f.route.id===s),0),Math.max(l.findIndex(f=>f.shouldCallHandler()),0)),d=Qr(l,l[c].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function Ab(t,e,n,r,s){let{matches:a,request:l,params:c,context:d,unstable_pattern:f}=t,p=a.flatMap(v=>v.route.middleware?v.route.middleware.map(x=>[v.route.id,x]):[]);return await y0({request:l,params:c,context:d,unstable_pattern:f},p,e,n,r,s)}async function y0(t,e,n,r,s,a,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let d=e[l];if(!d)return await n();let[f,p]=d,g,v=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await y0(t,e,n,r,s,a,l+1)},g.value}catch(x){return g={value:await a(x,f,g)},g.value}};try{let x=await p(t,v),b=x!=null?r(x):void 0;return s(b)?b:g?b??g.value:(g={value:await v()},g.value)}catch(x){return await a(x,f,g)}}function v0(t,e,n,r,s){let a=m0({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=Tb(r.route,It(n.method)?"action":"loader",e,t,s);return{middleware:a,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function id(t,e,n,r,s,a,l,c,d=null,f){let p=!1,g=v0(t,e,n,s,a);return{...s,_lazyPromises:g,shouldLoad:c,shouldRevalidateArgs:d,shouldCallHandler(v){return p=!0,d?typeof f=="boolean"?wo(s,{...d,defaultShouldRevalidate:f}):typeof v=="boolean"?wo(s,{...d,defaultShouldRevalidate:v}):wo(s,d):c},resolve(v){let{lazy:x,loader:b,middleware:w}=s.route,_=p||c||v&&!It(n.method)&&(x||b),k=w&&w.length>0&&!b&&!x;return _&&(It(n.method)||!k)?Ob({request:n,unstable_pattern:r,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function ys(t,e,n,r,s,a,l,c=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:v0(t,e,n,d,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:id(t,e,n,Io(r),d,a,l,!0,c))}async function Lb(t,e,n,r,s,a){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let l={request:e,unstable_pattern:Io(n),params:n[0].params,context:s,matches:n},d=await t({...l,fetcherKey:r,runClientMiddleware:f=>{let p=l;return g0(p,()=>f({...p,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function Ob({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let c,d,f=It(t.method),p=f?"action":"loader",g=v=>{let x,b=new Promise((k,R)=>x=R);d=()=>x(),t.signal.addEventListener("abort",d);let w=k=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):v({request:t,unstable_pattern:e,params:n.params,context:l},...k!==void 0?[k]:[]),_=(async()=>{try{return{type:"data",result:await(a?a(R=>w(R)):w())}}catch(k){return{type:"error",result:k}}})();return Promise.race([_,b])};try{let v=f?n.route.action:n.route.loader;if(r||s)if(v){let x,[b]=await Promise.all([g(v).catch(w=>{x=w}),r,s]);if(x!==void 0)throw x;c=b}else{await r;let x=f?n.route.action:n.route.loader;if(x)[c]=await Promise.all([g(x),s]);else if(p==="action"){let b=new URL(t.url),w=b.pathname+b.search;throw Rn(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(v)c=await g(v);else{let x=new URL(t.url),b=x.pathname+x.search;throw Rn(404,{pathname:b})}}catch(v){return{type:"error",result:v}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function Fb(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function jb(t){let{result:e,type:n}=t;if(wd(e)){let r;try{r=await Fb(e)}catch(s){return{type:"error",error:s}}return n==="error"?{type:"error",error:new zo(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?Vp(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:Ub(e),statusCode:Do(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Do(e)?e.status:void 0}:Vp(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function zb(t,e,n,r,s){let a=t.headers.get("Location");if(Be(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Pl(a)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);a=nd(new URL(e.url),l,s,a),t.headers.set("Location",a)}return t}function Bp(t,e,n,r){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Pl(t)){let a=t,l=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(s.includes(l.protocol))throw new Error("Invalid redirect location");let c=Pn(l.pathname,n)!=null;if(l.origin===e.origin&&c)return l.pathname+l.search+l.hash}try{let a=r.createURL(t);if(s.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return t}function ms(t,e,n,r){let s=t.createURL(x0(e)).toString(),a={signal:n};if(r&&It(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=sd(r.formData):a.body=r.formData}return new Request(s,a)}function sd(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Up(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Ib(t,e,n,r=!1,s=!1){let a={},l=null,c,d=!1,f={},p=n&&gn(n[1])?n[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let v=g.route.id,x=e[v];if(Be(!Ti(x),"Cannot handle redirect results in processLoaderData"),gn(x)){let b=x.error;if(p!==void 0&&(b=p,p=void 0),l=l||{},s)l[v]=b;else{let w=Qr(t,v);l[w.route.id]==null&&(l[w.route.id]=b)}r||(a[v]=h0),d||(d=!0,c=Do(x.error)?x.error.status:500),x.headers&&(f[v]=x.headers)}else a[v]=x.data,x.statusCode&&x.statusCode!==200&&!d&&(c=x.statusCode),x.headers&&(f[v]=x.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:f}}function $p(t,e,n,r,s,a){let{loaderData:l,errors:c}=Ib(e,n,r);return s.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:g}=d;if(g&&g.signal.aborted)return;let v=a[f];if(Be(v,"Did not find corresponding fetcher result"),gn(v)){let x=Qr(t.matches,p?.route.id);c&&c[x.route.id]||(c={...c,[x.route.id]:v.error}),t.fetchers.delete(f)}else if(Ti(v))Be(!1,"Unhandled fetcher revalidation redirect");else{let x=vr(v.data);t.fetchers.set(f,x)}}),{loaderData:l,errors:c}}function Hp(t,e,n,r){let s=Object.entries(e).filter(([,a])=>a!==h0).reduce((a,[l,c])=>(a[l]=c,a),{});for(let a of n){let l=a.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&a.route.loader&&(s[l]=t[l]),r&&r.hasOwnProperty(l))break}return s}function Wp(t){return t?gn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Qr(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ya(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rn(t,{pathname:e,routeId:n,method:r,type:s,message:a}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new zo(t||500,l,new Error(c),!0)}function Ga(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Ti(s))return{key:r,result:s}}}function x0(t){let e=typeof t=="string"?Cr(t):t;return nr({...e,hash:""})}function Bb(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ub(t){return new zo(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function $b(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&Hb(n))}function Hb(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function Wb(t){return wd(t.result)&&d0.has(t.result.status)}function gn(t){return t.type==="error"}function Ti(t){return(t&&t.type)==="redirect"}function Vp(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function wd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Vb(t){return d0.has(t)}function Yb(t){return wd(t)&&Vb(t.status)&&t.headers.has("Location")}function Gb(t){return _b.has(t.toUpperCase())}function It(t){return wb.has(t.toUpperCase())}function Sd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function fl(t,e){let n=typeof e=="string"?Cr(e).search:e.search;if(t[t.length-1].route.index&&Sd(n||""))return t[t.length-1];let r=o0(t);return r[r.length-1]}function Yp(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:a,json:l}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Pu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Xb(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function oo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qb(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function vr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Kb(t,e){try{let n=t.sessionStorage.getItem(f0);if(n){let r=JSON.parse(n);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function Qb(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(f0,JSON.stringify(n))}catch(r){mt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Gp(){let t,e,n=new Promise((r,s)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{s(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var zi=P.createContext(null);zi.displayName="DataRouter";var Bo=P.createContext(null);Bo.displayName="DataRouterState";var b0=P.createContext(!1);function Jb(){return P.useContext(b0)}var _d=P.createContext({isTransitioning:!1});_d.displayName="ViewTransition";var w0=P.createContext(new Map);w0.displayName="Fetchers";var Zb=P.createContext(null);Zb.displayName="Await";var Dn=P.createContext(null);Dn.displayName="Navigation";var Dl=P.createContext(null);Dl.displayName="Location";var rr=P.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var kd=P.createContext(null);kd.displayName="RouteError";var S0="REACT_ROUTER_ERROR",e1="REDIRECT",t1="ROUTE_ERROR_RESPONSE";function n1(t){if(t.startsWith(`${S0}:${e1}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function r1(t){if(t.startsWith(`${S0}:${t1}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new zo(e.status,e.statusText,e.data)}catch{}}function i1(t,{relative:e}={}){Be(Uo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Dn),{hash:s,pathname:a,search:l}=$o(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:er([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Uo(){return P.useContext(Dl)!=null}function Ii(){return Be(Uo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Dl).location}var _0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k0(t){P.useContext(Dn).static||P.useLayoutEffect(t)}function s1(){let{isDataRoute:t}=P.useContext(rr);return t?b1():o1()}function o1(){Be(Uo(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(zi),{basename:e,navigator:n}=P.useContext(Dn),{matches:r}=P.useContext(rr),{pathname:s}=Ii(),a=JSON.stringify(vd(r)),l=P.useRef(!1);return k0(()=>{l.current=!0}),P.useCallback((d,f={})=>{if(mt(l.current,_0),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=xd(d,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:er([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,a,s,t])}var a1=P.createContext(null);function l1(t){let e=P.useContext(rr).outlet;return P.useMemo(()=>e&&P.createElement(a1.Provider,{value:t},e),[e,t])}function $o(t,{relative:e}={}){let{matches:n}=P.useContext(rr),{pathname:r}=Ii(),s=JSON.stringify(vd(n));return P.useMemo(()=>xd(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function c1(t,e,n,r,s){Be(Uo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(Dn),{matches:l}=P.useContext(rr),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let R=g&&g.path||"";M0(f,!g||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=Ii(),x;x=v;let b=x.pathname||"/",w=b;if(p!=="/"){let R=p.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let _=Kr(t,{pathname:w});return mt(g||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),mt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),p1(_&&_.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:er([p,a.encodeLocation?a.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:er([p,a.encodeLocation?a.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),l,n,r,s)}function u1(){let t=x1(),e=Do(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,l)}var d1=P.createElement(u1,null),C0=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=r1(t.digest);n&&(t=n)}let e=t!==void 0?P.createElement(rr.Provider,{value:this.props.routeContext},P.createElement(kd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?P.createElement(f1,{error:t},e):e}};C0.contextType=b0;var Du=new WeakMap;function f1({children:t,error:e}){let{basename:n}=P.useContext(Dn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=n1(e.digest);if(r){let s=Du.get(e);if(s)throw s;let a=l0(r.location,n);if(a0&&!Du.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Du.set(e,l),l}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function h1({routeContext:t,match:e,children:n}){let r=P.useContext(zi);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(rr.Provider,{value:t},n)}function p1(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Be(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:x}=n,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Io(n.matches),errorInfo:g})}:void 0;return a.reduceRight((p,g,v)=>{let x,b=!1,w=null,_=null;n&&(x=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||d1,c&&(d<0&&v===0?(M0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):d===v&&(b=!0,_=g.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,v+1)),R=()=>{let M;return x?M=w:b?M=_:g.route.Component?M=P.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,P.createElement(h1,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?P.createElement(C0,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):R()},null)}function Cd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(t){let e=P.useContext(zi);return Be(e,Cd(t)),e}function g1(t){let e=P.useContext(Bo);return Be(e,Cd(t)),e}function y1(t){let e=P.useContext(rr);return Be(e,Cd(t)),e}function Md(t){let e=y1(t),n=e.matches[e.matches.length-1];return Be(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function v1(){return Md("useRouteId")}function x1(){let t=P.useContext(kd),e=g1("useRouteError"),n=Md("useRouteError");return t!==void 0?t:e.errors?.[n]}function b1(){let{router:t}=m1("useNavigate"),e=Md("useNavigate"),n=P.useRef(!1);return k0(()=>{n.current=!0}),P.useCallback(async(s,a={})=>{mt(n.current,_0),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Xp={};function M0(t,e,n){!e&&!Xp[t]&&(Xp[t]=!0,mt(!1,n))}var qp={};function Kp(t,e){!t&&!qp[e]&&(qp[e]=!0,console.warn(e))}var w1="useOptimistic",Qp=Lx[w1],S1=()=>{};function _1(t){return Qp?Qp(t):[t,S1]}function k1(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&mt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:P.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&mt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&mt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var C1=["HydrateFallback","hydrateFallbackElement"],M1=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function E1({router:t,flushSync:e,onError:n,unstable_useTransitions:r}){r=Jb()||r;let[a,l]=P.useState(t.state),[c,d]=_1(a),[f,p]=P.useState(),[g,v]=P.useState({isTransitioning:!1}),[x,b]=P.useState(),[w,_]=P.useState(),[k,R]=P.useState(),M=P.useRef(new Map),A=P.useCallback((L,{deletedFetchers:W,newErrors:X,flushSync:q,viewTransitionOpts:J})=>{X&&n&&Object.values(X).forEach(Q=>n(Q,{location:L.location,params:L.matches[0]?.params??{},unstable_pattern:Io(L.matches)})),L.fetchers.forEach((Q,re)=>{Q.data!==void 0&&M.current.set(re,Q.data)}),W.forEach(Q=>M.current.delete(Q)),Kp(q===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ae=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Kp(J==null||ae,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!J||!ae){e&&q?e(()=>l(L)):r===!1?l(L):P.startTransition(()=>{r===!0&&d(Q=>Jp(Q,L)),l(L)});return}if(e&&q){e(()=>{w&&(x?.resolve(),w.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let Q=t.window.document.startViewTransition(()=>{e(()=>l(L))});Q.finished.finally(()=>{e(()=>{b(void 0),_(void 0),p(void 0),v({isTransitioning:!1})})}),e(()=>_(Q));return}w?(x?.resolve(),w.skipTransition(),R({state:L,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(p(L),v({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[t.window,e,w,x,r,d,n]);P.useLayoutEffect(()=>t.subscribe(A),[t,A]),P.useEffect(()=>{g.isTransitioning&&!g.flushSync&&b(new M1)},[g]),P.useEffect(()=>{if(x&&f&&t.window){let L=f,W=x.promise,X=t.window.document.startViewTransition(async()=>{r===!1?l(L):P.startTransition(()=>{r===!0&&d(q=>Jp(q,L)),l(L)}),await W});X.finished.finally(()=>{b(void 0),_(void 0),p(void 0),v({isTransitioning:!1})}),_(X)}},[f,x,t.window,r,d]),P.useEffect(()=>{x&&f&&c.location.key===f.location.key&&x.resolve()},[x,w,c.location,f]),P.useEffect(()=>{!g.isTransitioning&&k&&(p(k.state),v({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),R(void 0))},[g.isTransitioning,k]);let N=P.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:L=>t.navigate(L),push:(L,W,X)=>t.navigate(L,{state:W,preventScrollReset:X?.preventScrollReset}),replace:(L,W,X)=>t.navigate(L,{replace:!0,state:W,preventScrollReset:X?.preventScrollReset})}),[t]),z=t.basename||"/",E=P.useMemo(()=>({router:t,navigator:N,static:!1,basename:z,onError:n}),[t,N,z,n]);return P.createElement(P.Fragment,null,P.createElement(zi.Provider,{value:E},P.createElement(Bo.Provider,{value:c},P.createElement(w0.Provider,{value:M.current},P.createElement(_d.Provider,{value:g},P.createElement(T1,{basename:z,location:c.location,navigationType:c.historyAction,navigator:N,unstable_useTransitions:r},P.createElement(R1,{routes:t.routes,future:t.future,state:c,onError:n})))))),null)}function Jp(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var R1=P.memo(P1);function P1({routes:t,future:e,state:n,onError:r}){return c1(t,void 0,n,r,e)}function D1(t){return l1(t.context)}function T1({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){Be(!Uo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[c,s,a,l]);typeof n=="string"&&(n=Cr(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:x="default"}=n,b=P.useMemo(()=>{let w=Pn(f,c);return w==null?null:{location:{pathname:w,search:p,hash:g,state:v,key:x},navigationType:r}},[c,f,p,g,v,x,r]);return mt(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Dn.Provider,{value:d},P.createElement(Dl.Provider,{children:e,value:b}))}var hl="get",pl="application/x-www-form-urlencoded";function Tl(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function N1(t){return Tl(t)&&t.tagName.toLowerCase()==="button"}function A1(t){return Tl(t)&&t.tagName.toLowerCase()==="form"}function L1(t){return Tl(t)&&t.tagName.toLowerCase()==="input"}function O1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function F1(t,e){return t.button===0&&(!e||e==="_self")&&!O1(t)}var Xa=null;function j1(){if(Xa===null)try{new FormData(document.createElement("form"),0),Xa=!1}catch{Xa=!0}return Xa}var z1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(t){return t!=null&&!z1.has(t)?(mt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pl}"`),null):t}function I1(t,e){let n,r,s,a,l;if(A1(t)){let c=t.getAttribute("action");r=c?Pn(c,e):null,n=t.getAttribute("method")||hl,s=Tu(t.getAttribute("enctype"))||pl,a=new FormData(t)}else if(N1(t)||L1(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Pn(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||hl,s=Tu(t.getAttribute("formenctype"))||Tu(c.getAttribute("enctype"))||pl,a=new FormData(c,t),!j1()){let{name:f,type:p,value:g}=t;if(p==="image"){let v=f?`${f}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else f&&a.append(f,g)}}else{if(Tl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hl,r=null,s=pl,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ed(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B1(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&Pn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function U1(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $1(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function H1(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await U1(a,n);return l.links?l.links():[]}return[]}));return G1(r.flat(1).filter($1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Zp(t,e,n,r,s,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function W1(t,e,{includeHydrateFallback:n}={}){return V1(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function V1(t){return[...new Set(t)]}function Y1(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function G1(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(Y1(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function E0(){let t=P.useContext(zi);return Ed(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function X1(){let t=P.useContext(Bo);return Ed(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rd=P.createContext(void 0);Rd.displayName="FrameworkContext";function R0(){let t=P.useContext(Rd);return Ed(t,"You must render this element inside a <HydratedRouter> element"),t}function q1(t,e){let n=P.useContext(Rd),[r,s]=P.useState(!1),[a,l]=P.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,v=P.useRef(null);P.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=k=>{k.forEach(R=>{l(R.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[t]),P.useEffect(()=>{if(r){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{s(!0)},b=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:ao(c,x),onBlur:ao(d,b),onMouseEnter:ao(f,x),onMouseLeave:ao(p,b),onTouchStart:ao(g,x)}]:[!1,v,{}]}function ao(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function K1({page:t,...e}){let{router:n}=E0(),r=P.useMemo(()=>Kr(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(J1,{page:t,matches:r,...e}):null}function Q1(t){let{manifest:e,routeModules:n}=R0(),[r,s]=P.useState([]);return P.useEffect(()=>{let a=!1;return H1(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function J1({page:t,matches:e,...n}){let r=Ii(),{future:s,manifest:a,routeModules:l}=R0(),{basename:c}=E0(),{loaderData:d,matches:f}=X1(),p=P.useMemo(()=>Zp(t,e,f,a,r,"data"),[t,e,f,a,r]),g=P.useMemo(()=>Zp(t,e,f,a,r,"assets"),[t,e,f,a,r]),v=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,_=!1;if(e.forEach(R=>{let M=a.routes[R.route.id];!M||!M.hasLoader||(!p.some(A=>A.route.id===R.route.id)&&R.route.id in d&&l[R.route.id]?.shouldRevalidate||M.hasClientLoader?_=!0:w.add(R.route.id))}),w.size===0)return[];let k=B1(t,c,s.unstable_trailingSlashAwareDataRequests,"data");return _&&w.size>0&&k.searchParams.set("_routes",e.filter(R=>w.has(R.route.id)).map(R=>R.route.id).join(",")),[k.pathname+k.search]},[c,s.unstable_trailingSlashAwareDataRequests,d,r,a,p,e,t,l]),x=P.useMemo(()=>W1(g,a),[g,a]),b=Q1(g);return P.createElement(P.Fragment,null,v.map(w=>P.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>P.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:_})=>P.createElement("link",{key:w,nonce:n.nonce,..._})))}function Z1(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ew=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ew&&(window.__reactRouterVersion="7.12.0")}catch{}function tw(t,e){return Eb({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:Hx({window:e?.window}),hydrationData:nw(),routes:t,mapRouteProperties:k1,hydrationRouteProperties:C1,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function nw(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:rw(t.errors)}),t}function rw(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new zo(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let l=new a(s.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(s.message);a.stack="",n[r]=a}}else n[r]=s;return n}var P0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D0=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v,...x},b){let{basename:w,unstable_useTransitions:_}=P.useContext(Dn),k=typeof f=="string"&&P0.test(f),R=l0(f,w);f=R.to;let M=i1(f,{relative:s}),[A,N,z]=q1(r,x),E=ow(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:_});function L(X){e&&e(X),X.defaultPrevented||E(X)}let W=P.createElement("a",{...x,...z,href:R.absoluteURL||M,onClick:R.isExternal||a?e:L,ref:Z1(b,N),target:d,"data-discover":!k&&n==="render"?"true":void 0});return A&&!k?P.createElement(P.Fragment,null,W,P.createElement(K1,{page:M})):W});D0.displayName="Link";var T0=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...f},p){let g=$o(l,{relative:f.relative}),v=Ii(),x=P.useContext(Bo),{navigator:b,basename:w}=P.useContext(Dn),_=x!=null&&dw(g)&&c===!0,k=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,R=v.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(R=R.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&w&&(M=Pn(M,w)||M);const A=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let N=R===k||!s&&R.startsWith(k)&&R.charAt(A)==="/",z=M!=null&&(M===k||!s&&M.startsWith(k)&&M.charAt(k.length)==="/"),E={isActive:N,isPending:z,isTransitioning:_},L=N?e:void 0,W;typeof r=="function"?W=r(E):W=[r,N?"active":null,z?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(E):a;return P.createElement(D0,{...f,"aria-current":L,className:W,ref:p,style:X,to:l,viewTransition:c},typeof d=="function"?d(E):d)});T0.displayName="NavLink";var iw=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=hl,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v,...x},b)=>{let{unstable_useTransitions:w}=P.useContext(Dn),_=cw(),k=uw(c,{relative:f}),R=l.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&P0.test(c),A=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let z=N.nativeEvent.submitter,E=z?.getAttribute("formmethod")||l,L=()=>_(z||N.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:s,state:a,relative:f,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:v});w&&n!==!1?P.startTransition(()=>L()):L()};return P.createElement("form",{ref:b,method:R,action:k,onSubmit:r?d:A,...x,"data-discover":!M&&t==="render"?"true":void 0})});iw.displayName="Form";function sw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N0(t){let e=P.useContext(zi);return Be(e,sw(t)),e}function ow(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=s1(),p=Ii(),g=$o(t,{relative:a});return P.useCallback(v=>{if(F1(v,e)){v.preventDefault();let x=n!==void 0?n:nr(p)===nr(g),b=()=>f(t,{replace:x,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});d?P.startTransition(()=>b()):b()}},[p,f,g,n,r,e,t,s,a,l,c,d])}var aw=0,lw=()=>`__${String(++aw)}__`;function cw(){let{router:t}=N0("useSubmit"),{basename:e}=P.useContext(Dn),n=v1(),r=t.fetch,s=t.navigate;return P.useCallback(async(a,l={})=>{let{action:c,method:d,encType:f,formData:p,body:g}=I1(a,e);if(l.navigate===!1){let v=l.fetcherKey||lw();await r(v,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await s(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,s,e,n])}function uw(t,{relative:e}={}){let{basename:n}=P.useContext(Dn),r=P.useContext(rr);Be(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...$o(t||".",{relative:e})},l=Ii();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:er([n,a.pathname])),nr(a)}function dw(t,{relative:e}={}){let n=P.useContext(_d);Be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=N0("useViewTransitionState"),s=$o(t,{relative:e});if(!n.isTransitioning)return!1;let a=Pn(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Pn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yl(s.pathname,l)!=null||yl(s.pathname,a)!=null}var fw=e0();function hw(t){return P.createElement(E1,{flushSync:fw.flushSync,...t})}function A0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=A0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pw(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=A0(t))&&(r&&(r+=" "),r+=e);return r}function So(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function od(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function mw(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function em(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function tm(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function gw(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function yw(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Nu(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function vw(t,e){let n=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(n*n+r*r+s*s)}function xw(t,e){let n=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return n*n+r*r+s*s}function nm(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function bw(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function ww(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function ad(t,e){let n=e[0],r=e[1],s=e[2],a=n*n+r*r+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function L0(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function rm(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[0],c=n[1],d=n[2];return t[0]=s*d-a*c,t[1]=a*l-r*d,t[2]=r*c-s*l,t}function Sw(t,e,n,r){let s=e[0],a=e[1],l=e[2];return t[0]=s+r*(n[0]-s),t[1]=a+r*(n[1]-a),t[2]=l+r*(n[2]-l),t}function _w(t,e,n,r,s){const a=Math.exp(-r*s);let l=e[0],c=e[1],d=e[2];return t[0]=n[0]+(l-n[0])*a,t[1]=n[1]+(c-n[1])*a,t[2]=n[2]+(d-n[2])*a,t}function kw(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[3]*r+n[7]*s+n[11]*a+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*s+n[8]*a+n[12])/l,t[1]=(n[1]*r+n[5]*s+n[9]*a+n[13])/l,t[2]=(n[2]*r+n[6]*s+n[10]*a+n[14])/l,t}function Cw(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[3]*r+n[7]*s+n[11]*a+n[15];return l=l||1,t[0]=(n[0]*r+n[4]*s+n[8]*a)/l,t[1]=(n[1]*r+n[5]*s+n[9]*a)/l,t[2]=(n[2]*r+n[6]*s+n[10]*a)/l,t}function Mw(t,e,n){let r=e[0],s=e[1],a=e[2];return t[0]=r*n[0]+s*n[3]+a*n[6],t[1]=r*n[1]+s*n[4]+a*n[7],t[2]=r*n[2]+s*n[5]+a*n[8],t}function Ew(t,e,n){let r=e[0],s=e[1],a=e[2],l=n[0],c=n[1],d=n[2],f=n[3],p=c*a-d*s,g=d*r-l*a,v=l*s-c*r,x=c*v-d*g,b=d*p-l*v,w=l*g-c*p,_=f*2;return p*=_,g*=_,v*=_,x*=2,b*=2,w*=2,t[0]=r+p+x,t[1]=s+g+b,t[2]=a+v+w,t}const Rw=(function(){const t=[0,0,0],e=[0,0,0];return function(n,r){od(t,n),od(e,r),ad(t,t),ad(e,e);let s=L0(t,e);return s>1?0:s<-1?Math.PI:Math.acos(s)}})();function Pw(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Un extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(mw(this,e,n,r),this)}copy(e){return od(this,e),this}add(e,n){return n?em(this,e,n):em(this,this,e),this}sub(e,n){return n?tm(this,e,n):tm(this,this,e),this}multiply(e){return e.length?gw(this,this,e):Nu(this,this,e),this}divide(e){return e.length?yw(this,this,e):Nu(this,this,1/e),this}inverse(e=this){return ww(this,e),this}len(){return So(this)}distance(e){return e?vw(this,e):So(this)}squaredLen(){return nm(this)}squaredDistance(e){return e?xw(this,e):nm(this)}negate(e=this){return bw(this,e),this}cross(e,n){return n?rm(this,e,n):rm(this,this,e),this}scale(e){return Nu(this,this,e),this}normalize(){return ad(this,this),this}dot(e){return L0(this,e)}equals(e){return Pw(this,e)}applyMatrix3(e){return Mw(this,this,e),this}applyMatrix4(e){return kw(this,this,e),this}scaleRotateMatrix4(e){return Cw(this,this,e),this}applyQuaternion(e){return Ew(this,this,e),this}angle(e){return Rw(this,e)}lerp(e,n){return Sw(this,this,e,n),this}smoothLerp(e,n,r){return _w(this,this,e,n,r),this}clone(){return new Un(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],s=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*s,this[1]=e[1]*n+e[5]*r+e[9]*s,this[2]=e[2]*n+e[6]*r+e[10]*s,this.normalize()}}const im=new Un;let Dw=1,Tw=1,sm=!1;class Nw{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=Dw++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=Tw++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:s})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const a=this.attributes[r];this.gl.bindBuffer(a.target,a.buffer),this.glState.boundBuffer=a.buffer;let l=1;s===35674&&(l=2),s===35675&&(l=3),s===35676&&(l=4);const c=a.size/l,d=l===1?0:l*l*4,f=l===1?0:l*4;for(let p=0;p<l;p++)this.gl.vertexAttribPointer(n+p,c,a.type,a.normalized,a.stride+d,a.offset+p*f),this.gl.enableVertexAttribArray(n+p),this.gl.renderer.vertexAttribDivisor(n+p,a.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((s,{name:a})=>{const l=this.attributes[a];l.needsUpdate&&this.updateAttribute(l)});let r=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!sm)return console.warn("No position buffer data found to compute bounds"),sm=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new Un,max:new Un,center:new Un,scale:new Un,radius:1/0});const s=this.bounds.min,a=this.bounds.max,l=this.bounds.center,c=this.bounds.scale;s.set(1/0),a.set(-1/0);for(let d=0,f=n.length;d<f;d+=r){const p=n[d],g=n[d+1],v=n[d+2];s.x=Math.min(p,s.x),s.y=Math.min(g,s.y),s.z=Math.min(v,s.z),a.x=Math.max(p,a.x),a.y=Math.max(g,a.y),a.z=Math.max(v,a.z)}c.sub(a,s),l.add(s,a).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let s=0;for(let a=0,l=n.length;a<l;a+=r)im.fromArray(n,a),s=Math.max(s,this.bounds.center.squaredDistance(im));this.bounds.radius=Math.sqrt(s)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let Aw=1;const om={};class Lw{constructor(e,{vertex:n,fragment:r,uniforms:s={},transparent:a=!1,cullFace:l=e.BACK,frontFace:c=e.CCW,depthTest:d=!0,depthWrite:f=!0,depthFunc:p=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=s,this.id=Aw++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=a,this.cullFace=l,this.frontFace=c,this.depthTest=d,this.depthWrite=f,this.depthFunc=p,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${am(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${am(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let l=0;l<r;l++){let c=this.gl.getActiveUniform(this.program,l);this.uniformLocations.set(c,this.gl.getUniformLocation(this.program,c.name));const d=c.name.match(/(\w+)/g);c.uniformName=d[0],c.nameComponents=d.slice(1)}this.attributeLocations=new Map;const s=[],a=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let l=0;l<a;l++){const c=this.gl.getActiveAttrib(this.program,l),d=this.gl.getAttribLocation(this.program,c.name);d!==-1&&(s[d]=c.name,this.attributeLocations.set(c,d))}this.attributeOrder=s.join("")}setBlendFunc(e,n,r,s){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=s,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((s,a)=>{let l=this.uniforms[a.uniformName];for(const c of a.nameComponents){if(!l)break;if(c in l)l=l[c];else{if(Array.isArray(l.value))break;l=void 0;break}}if(!l)return lm(`Active uniform ${a.name} has not been supplied`);if(l&&l.value===void 0)return lm(`${a.name} uniform is missing a value parameter`);if(l.value.texture)return n=n+1,l.value.update(n),Au(this.gl,a.type,s,n);if(l.value.length&&l.value[0].texture){const c=[];return l.value.forEach(d=>{n=n+1,d.update(n),c.push(n)}),Au(this.gl,a.type,s,c)}Au(this.gl,a.type,s,l.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function Au(t,e,n,r){r=r.length?Ow(r):r;const s=t.renderer.state.uniformLocations.get(n);if(r.length)if(s===void 0||s.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(Fw(s,r))return;s.set?s.set(r):jw(s,r),t.renderer.state.uniformLocations.set(n,s)}else{if(s===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function am(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function Ow(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let s=om[r];s||(om[r]=s=new Float32Array(r));for(let a=0;a<e;a++)s.set(t[a],a*n);return s}function Fw(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function jw(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let Lu=0;function lm(t){Lu>100||(console.warn(t),Lu++,Lu>100&&console.warn("More than 100 program warnings - stopping logs."))}const Ou=new Un;let zw=1;class Iw{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:s=1,alpha:a=!1,depth:l=!0,stencil:c=!1,antialias:d=!1,premultipliedAlpha:f=!1,preserveDrawingBuffer:p=!1,powerPreference:g="default",autoClear:v=!0,webgl:x=2}={}){const b={alpha:a,depth:l,stencil:c,antialias:d,premultipliedAlpha:f,preserveDrawingBuffer:p,powerPreference:g};this.dpr=s,this.alpha=a,this.color=!0,this.depth=l,this.stencil=c,this.premultipliedAlpha=f,this.autoClear=v,this.id=zw++,x===2&&(this.gl=e.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,s=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=s,this.gl.viewport(r,s,e,n))}setScissor(e,n,r=0,s=0){this.gl.scissor(r,s,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,s){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=s,r!==void 0?this.gl.blendFuncSeparate(e,n,r,s):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:s}){let a=[];if(n&&r&&n.updateFrustum(),e.traverse(l=>{if(!l.visible)return!0;l.draw&&(r&&l.frustumCulled&&n&&!n.frustumIntersectsMesh(l)||a.push(l))}),s){const l=[],c=[],d=[];a.forEach(f=>{f.program.transparent?f.program.depthTest?c.push(f):d.push(f):l.push(f),f.zDepth=0,!(f.renderOrder!==0||!f.program.depthTest||!n)&&(f.worldMatrix.getTranslation(Ou),Ou.applyMatrix4(n.projectionViewMatrix),f.zDepth=Ou.z)}),l.sort(this.sortOpaque),c.sort(this.sortTransparent),d.sort(this.sortUI),a=l.concat(c,d)}return a}render({scene:e,camera:n,target:r=null,update:s=!0,sort:a=!0,frustumCull:l=!0,clear:c}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(c||this.autoClear&&c!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),s&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:l,sort:a}).forEach(f=>{f.draw({camera:n})})}}function Bw(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Uw(t,e,n,r,s){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t}function $w(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n*n+r*r+s*s+a*a;return l>0&&(l=1/Math.sqrt(l)),t[0]=n*l,t[1]=r*l,t[2]=s*l,t[3]=a*l,t}function Hw(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ww(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Vw(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function cm(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=n[0],d=n[1],f=n[2],p=n[3];return t[0]=r*p+l*c+s*f-a*d,t[1]=s*p+l*d+a*c-r*f,t[2]=a*p+l*f+r*d-s*c,t[3]=l*p-r*c-s*d-a*f,t}function Yw(t,e,n){n*=.5;let r=e[0],s=e[1],a=e[2],l=e[3],c=Math.sin(n),d=Math.cos(n);return t[0]=r*d+l*c,t[1]=s*d+a*c,t[2]=a*d-s*c,t[3]=l*d-r*c,t}function Gw(t,e,n){n*=.5;let r=e[0],s=e[1],a=e[2],l=e[3],c=Math.sin(n),d=Math.cos(n);return t[0]=r*d-a*c,t[1]=s*d+l*c,t[2]=a*d+r*c,t[3]=l*d-s*c,t}function Xw(t,e,n){n*=.5;let r=e[0],s=e[1],a=e[2],l=e[3],c=Math.sin(n),d=Math.cos(n);return t[0]=r*d+s*c,t[1]=s*d-r*c,t[2]=a*d+l*c,t[3]=l*d-a*c,t}function qw(t,e,n,r){let s=e[0],a=e[1],l=e[2],c=e[3],d=n[0],f=n[1],p=n[2],g=n[3],v,x,b,w,_;return x=s*d+a*f+l*p+c*g,x<0&&(x=-x,d=-d,f=-f,p=-p,g=-g),1-x>1e-6?(v=Math.acos(x),b=Math.sin(v),w=Math.sin((1-r)*v)/b,_=Math.sin(r*v)/b):(w=1-r,_=r),t[0]=w*s+_*d,t[1]=w*a+_*f,t[2]=w*l+_*p,t[3]=w*c+_*g,t}function Kw(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n*n+r*r+s*s+a*a,c=l?1/l:0;return t[0]=-n*c,t[1]=-r*c,t[2]=-s*c,t[3]=a*c,t}function Qw(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Jw(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let s=0;e[4]>e[0]&&(s=1),e[8]>e[s*3+s]&&(s=2);let a=(s+1)%3,l=(s+2)%3;r=Math.sqrt(e[s*3+s]-e[a*3+a]-e[l*3+l]+1),t[s]=.5*r,r=.5/r,t[3]=(e[a*3+l]-e[l*3+a])*r,t[a]=(e[a*3+s]+e[s*3+a])*r,t[l]=(e[l*3+s]+e[s*3+l])*r}return t}function Zw(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),s=Math.cos(e[0]*.5),a=Math.sin(e[1]*.5),l=Math.cos(e[1]*.5),c=Math.sin(e[2]*.5),d=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*l*d+s*a*c,t[1]=s*a*d-r*l*c,t[2]=s*l*c+r*a*d,t[3]=s*l*d-r*a*c):n==="YXZ"?(t[0]=r*l*d+s*a*c,t[1]=s*a*d-r*l*c,t[2]=s*l*c-r*a*d,t[3]=s*l*d+r*a*c):n==="ZXY"?(t[0]=r*l*d-s*a*c,t[1]=s*a*d+r*l*c,t[2]=s*l*c+r*a*d,t[3]=s*l*d-r*a*c):n==="ZYX"?(t[0]=r*l*d-s*a*c,t[1]=s*a*d+r*l*c,t[2]=s*l*c-r*a*d,t[3]=s*l*d+r*a*c):n==="YZX"?(t[0]=r*l*d+s*a*c,t[1]=s*a*d+r*l*c,t[2]=s*l*c-r*a*d,t[3]=s*l*d-r*a*c):n==="XZY"&&(t[0]=r*l*d-s*a*c,t[1]=s*a*d-r*l*c,t[2]=s*l*c+r*a*d,t[3]=s*l*d+r*a*c),t}const eS=Bw,tS=Uw,nS=Hw,rS=$w;class iS extends Array{constructor(e=0,n=0,r=0,s=1){super(e,n,r,s),this.onChange=()=>{},this._target=this;const a=["0","1","2","3"];return new Proxy(this,{set(l,c){const d=Reflect.set(...arguments);return d&&a.includes(c)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Ww(this._target),this.onChange(),this}set(e,n,r,s){return e.length?this.copy(e):(tS(this._target,e,n,r,s),this.onChange(),this)}rotateX(e){return Yw(this._target,this._target,e),this.onChange(),this}rotateY(e){return Gw(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Xw(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return Kw(this._target,e),this.onChange(),this}conjugate(e=this._target){return Qw(this._target,e),this.onChange(),this}copy(e){return eS(this._target,e),this.onChange(),this}normalize(e=this._target){return rS(this._target,e),this.onChange(),this}multiply(e,n){return n?cm(this._target,e,n):cm(this._target,this._target,e),this.onChange(),this}dot(e){return nS(this._target,e)}fromMatrix3(e){return Jw(this._target,e),this.onChange(),this}fromEuler(e,n){return Zw(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return Vw(this._target,e,n),this.onChange(),this}slerp(e,n){return qw(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const sS=1e-6;function oS(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function aS(t,e,n,r,s,a,l,c,d,f,p,g,v,x,b,w,_){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=a,t[5]=l,t[6]=c,t[7]=d,t[8]=f,t[9]=p,t[10]=g,t[11]=v,t[12]=x,t[13]=b,t[14]=w,t[15]=_,t}function lS(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cS(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=e[4],c=e[5],d=e[6],f=e[7],p=e[8],g=e[9],v=e[10],x=e[11],b=e[12],w=e[13],_=e[14],k=e[15],R=n*c-r*l,M=n*d-s*l,A=n*f-a*l,N=r*d-s*c,z=r*f-a*c,E=s*f-a*d,L=p*w-g*b,W=p*_-v*b,X=p*k-x*b,q=g*_-v*w,J=g*k-x*w,ae=v*k-x*_,Q=R*ae-M*J+A*q+N*X-z*W+E*L;return Q?(Q=1/Q,t[0]=(c*ae-d*J+f*q)*Q,t[1]=(s*J-r*ae-a*q)*Q,t[2]=(w*E-_*z+k*N)*Q,t[3]=(v*z-g*E-x*N)*Q,t[4]=(d*X-l*ae-f*W)*Q,t[5]=(n*ae-s*X+a*W)*Q,t[6]=(_*A-b*E-k*M)*Q,t[7]=(p*E-v*A+x*M)*Q,t[8]=(l*J-c*X+f*L)*Q,t[9]=(r*X-n*J-a*L)*Q,t[10]=(b*z-w*A+k*R)*Q,t[11]=(g*A-p*z-x*R)*Q,t[12]=(c*W-l*q-d*L)*Q,t[13]=(n*q-r*W+s*L)*Q,t[14]=(w*M-b*N-_*R)*Q,t[15]=(p*N-g*M+v*R)*Q,t):null}function O0(t){let e=t[0],n=t[1],r=t[2],s=t[3],a=t[4],l=t[5],c=t[6],d=t[7],f=t[8],p=t[9],g=t[10],v=t[11],x=t[12],b=t[13],w=t[14],_=t[15],k=e*l-n*a,R=e*c-r*a,M=e*d-s*a,A=n*c-r*l,N=n*d-s*l,z=r*d-s*c,E=f*b-p*x,L=f*w-g*x,W=f*_-v*x,X=p*w-g*b,q=p*_-v*b,J=g*_-v*w;return k*J-R*q+M*X+A*W-N*L+z*E}function um(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=e[4],d=e[5],f=e[6],p=e[7],g=e[8],v=e[9],x=e[10],b=e[11],w=e[12],_=e[13],k=e[14],R=e[15],M=n[0],A=n[1],N=n[2],z=n[3];return t[0]=M*r+A*c+N*g+z*w,t[1]=M*s+A*d+N*v+z*_,t[2]=M*a+A*f+N*x+z*k,t[3]=M*l+A*p+N*b+z*R,M=n[4],A=n[5],N=n[6],z=n[7],t[4]=M*r+A*c+N*g+z*w,t[5]=M*s+A*d+N*v+z*_,t[6]=M*a+A*f+N*x+z*k,t[7]=M*l+A*p+N*b+z*R,M=n[8],A=n[9],N=n[10],z=n[11],t[8]=M*r+A*c+N*g+z*w,t[9]=M*s+A*d+N*v+z*_,t[10]=M*a+A*f+N*x+z*k,t[11]=M*l+A*p+N*b+z*R,M=n[12],A=n[13],N=n[14],z=n[15],t[12]=M*r+A*c+N*g+z*w,t[13]=M*s+A*d+N*v+z*_,t[14]=M*a+A*f+N*x+z*k,t[15]=M*l+A*p+N*b+z*R,t}function uS(t,e,n){let r=n[0],s=n[1],a=n[2],l,c,d,f,p,g,v,x,b,w,_,k;return e===t?(t[12]=e[0]*r+e[4]*s+e[8]*a+e[12],t[13]=e[1]*r+e[5]*s+e[9]*a+e[13],t[14]=e[2]*r+e[6]*s+e[10]*a+e[14],t[15]=e[3]*r+e[7]*s+e[11]*a+e[15]):(l=e[0],c=e[1],d=e[2],f=e[3],p=e[4],g=e[5],v=e[6],x=e[7],b=e[8],w=e[9],_=e[10],k=e[11],t[0]=l,t[1]=c,t[2]=d,t[3]=f,t[4]=p,t[5]=g,t[6]=v,t[7]=x,t[8]=b,t[9]=w,t[10]=_,t[11]=k,t[12]=l*r+p*s+b*a+e[12],t[13]=c*r+g*s+w*a+e[13],t[14]=d*r+v*s+_*a+e[14],t[15]=f*r+x*s+k*a+e[15]),t}function dS(t,e,n){let r=n[0],s=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function fS(t,e,n,r){let s=r[0],a=r[1],l=r[2],c=Math.hypot(s,a,l),d,f,p,g,v,x,b,w,_,k,R,M,A,N,z,E,L,W,X,q,J,ae,Q,re;return Math.abs(c)<sS?null:(c=1/c,s*=c,a*=c,l*=c,d=Math.sin(n),f=Math.cos(n),p=1-f,g=e[0],v=e[1],x=e[2],b=e[3],w=e[4],_=e[5],k=e[6],R=e[7],M=e[8],A=e[9],N=e[10],z=e[11],E=s*s*p+f,L=a*s*p+l*d,W=l*s*p-a*d,X=s*a*p-l*d,q=a*a*p+f,J=l*a*p+s*d,ae=s*l*p+a*d,Q=a*l*p-s*d,re=l*l*p+f,t[0]=g*E+w*L+M*W,t[1]=v*E+_*L+A*W,t[2]=x*E+k*L+N*W,t[3]=b*E+R*L+z*W,t[4]=g*X+w*q+M*J,t[5]=v*X+_*q+A*J,t[6]=x*X+k*q+N*J,t[7]=b*X+R*q+z*J,t[8]=g*ae+w*Q+M*re,t[9]=v*ae+_*Q+A*re,t[10]=x*ae+k*Q+N*re,t[11]=b*ae+R*Q+z*re,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function hS(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function F0(t,e){let n=e[0],r=e[1],s=e[2],a=e[4],l=e[5],c=e[6],d=e[8],f=e[9],p=e[10];return t[0]=Math.hypot(n,r,s),t[1]=Math.hypot(a,l,c),t[2]=Math.hypot(d,f,p),t}function pS(t){let e=t[0],n=t[1],r=t[2],s=t[4],a=t[5],l=t[6],c=t[8],d=t[9],f=t[10];const p=e*e+n*n+r*r,g=s*s+a*a+l*l,v=c*c+d*d+f*f;return Math.sqrt(Math.max(p,g,v))}const j0=(function(){const t=[1,1,1];return function(e,n){let r=t;F0(r,n);let s=1/r[0],a=1/r[1],l=1/r[2],c=n[0]*s,d=n[1]*a,f=n[2]*l,p=n[4]*s,g=n[5]*a,v=n[6]*l,x=n[8]*s,b=n[9]*a,w=n[10]*l,_=c+g+w,k=0;return _>0?(k=Math.sqrt(_+1)*2,e[3]=.25*k,e[0]=(v-b)/k,e[1]=(x-f)/k,e[2]=(d-p)/k):c>g&&c>w?(k=Math.sqrt(1+c-g-w)*2,e[3]=(v-b)/k,e[0]=.25*k,e[1]=(d+p)/k,e[2]=(x+f)/k):g>w?(k=Math.sqrt(1+g-c-w)*2,e[3]=(x-f)/k,e[0]=(d+p)/k,e[1]=.25*k,e[2]=(v+b)/k):(k=Math.sqrt(1+w-c-g)*2,e[3]=(d-p)/k,e[0]=(x+f)/k,e[1]=(v+b)/k,e[2]=.25*k),e}})();function mS(t,e,n,r){let s=So([t[0],t[1],t[2]]);const a=So([t[4],t[5],t[6]]),l=So([t[8],t[9],t[10]]);O0(t)<0&&(s=-s),n[0]=t[12],n[1]=t[13],n[2]=t[14];const d=t.slice(),f=1/s,p=1/a,g=1/l;d[0]*=f,d[1]*=f,d[2]*=f,d[4]*=p,d[5]*=p,d[6]*=p,d[8]*=g,d[9]*=g,d[10]*=g,j0(e,d),r[0]=s,r[1]=a,r[2]=l}function gS(t,e,n,r){const s=t,a=e[0],l=e[1],c=e[2],d=e[3],f=a+a,p=l+l,g=c+c,v=a*f,x=a*p,b=a*g,w=l*p,_=l*g,k=c*g,R=d*f,M=d*p,A=d*g,N=r[0],z=r[1],E=r[2];return s[0]=(1-(w+k))*N,s[1]=(x+A)*N,s[2]=(b-M)*N,s[3]=0,s[4]=(x-A)*z,s[5]=(1-(v+k))*z,s[6]=(_+R)*z,s[7]=0,s[8]=(b+M)*E,s[9]=(_-R)*E,s[10]=(1-(v+w))*E,s[11]=0,s[12]=n[0],s[13]=n[1],s[14]=n[2],s[15]=1,s}function yS(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n+n,c=r+r,d=s+s,f=n*l,p=r*l,g=r*c,v=s*l,x=s*c,b=s*d,w=a*l,_=a*c,k=a*d;return t[0]=1-g-b,t[1]=p+k,t[2]=v-_,t[3]=0,t[4]=p-k,t[5]=1-f-b,t[6]=x+w,t[7]=0,t[8]=v+_,t[9]=x-w,t[10]=1-f-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function vS(t,e,n,r,s){let a=1/Math.tan(e/2),l=1/(r-s);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+r)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*r*l,t[15]=0,t}function xS(t,e,n,r,s,a,l){let c=1/(e-n),d=1/(r-s),f=1/(a-l);return t[0]=-2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*d,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*f,t[11]=0,t[12]=(e+n)*c,t[13]=(s+r)*d,t[14]=(l+a)*f,t[15]=1,t}function bS(t,e,n,r){let s=e[0],a=e[1],l=e[2],c=r[0],d=r[1],f=r[2],p=s-n[0],g=a-n[1],v=l-n[2],x=p*p+g*g+v*v;x===0?v=1:(x=1/Math.sqrt(x),p*=x,g*=x,v*=x);let b=d*v-f*g,w=f*p-c*v,_=c*g-d*p;return x=b*b+w*w+_*_,x===0&&(f?c+=1e-6:d?f+=1e-6:d+=1e-6,b=d*v-f*g,w=f*p-c*v,_=c*g-d*p,x=b*b+w*w+_*_),x=1/Math.sqrt(x),b*=x,w*=x,_*=x,t[0]=b,t[1]=w,t[2]=_,t[3]=0,t[4]=g*_-v*w,t[5]=v*b-p*_,t[6]=p*w-g*b,t[7]=0,t[8]=p,t[9]=g,t[10]=v,t[11]=0,t[12]=s,t[13]=a,t[14]=l,t[15]=1,t}function dm(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function fm(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function wS(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class vl extends Array{constructor(e=1,n=0,r=0,s=0,a=0,l=1,c=0,d=0,f=0,p=0,g=1,v=0,x=0,b=0,w=0,_=1){return super(e,n,r,s,a,l,c,d,f,p,g,v,x,b,w,_),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,s,a,l,c,d,f,p,g,v,x,b,w,_){return e.length?this.copy(e):(aS(this,e,n,r,s,a,l,c,d,f,p,g,v,x,b,w,_),this)}translate(e,n=this){return uS(this,n,e),this}rotate(e,n,r=this){return fS(this,r,e,n),this}scale(e,n=this){return dS(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?dm(this,e,n):dm(this,this,e),this}sub(e,n){return n?fm(this,e,n):fm(this,this,e),this}multiply(e,n){return e.length?n?um(this,e,n):um(this,this,e):wS(this,this,e),this}identity(){return lS(this),this}copy(e){return oS(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:s}={}){return vS(this,e,n,r,s),this}fromOrthogonal({left:e,right:n,bottom:r,top:s,near:a,far:l}){return xS(this,e,n,r,s,a,l),this}fromQuaternion(e){return yS(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return cS(this,e),this}compose(e,n,r){return gS(this,e,n,r),this}decompose(e,n,r){return mS(this,e,n,r),this}getRotation(e){return j0(e,this),this}getTranslation(e){return hS(e,this),this}getScaling(e){return F0(e,this),this}getMaxScaleOnAxis(){return pS(this)}lookAt(e,n,r){return bS(this,e,n,r),this}determinant(){return O0(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function SS(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const hm=new vl;class _S extends Array{constructor(e=0,n=e,r=e,s="YXZ"){super(e,n,r),this.order=s,this.onChange=()=>{},this._target=this;const a=["0","1","2"];return new Proxy(this,{set(l,c){const d=Reflect.set(...arguments);return d&&a.includes(c)&&l.onChange(),d}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return SS(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return hm.fromQuaternion(e),this._target.fromRotationMatrix(hm,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class kS{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new vl,this.worldMatrix=new vl,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Un,this.quaternion=new iS,this.scale=new Un(1),this.rotation=new _S,this.up=new Un(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function CS(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function MS(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=n+n,c=r+r,d=s+s,f=n*l,p=r*l,g=r*c,v=s*l,x=s*c,b=s*d,w=a*l,_=a*c,k=a*d;return t[0]=1-g-b,t[3]=p-k,t[6]=v+_,t[1]=p+k,t[4]=1-f-b,t[7]=x-w,t[2]=v-_,t[5]=x+w,t[8]=1-f-g,t}function ES(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function RS(t,e,n,r,s,a,l,c,d,f){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=a,t[5]=l,t[6]=c,t[7]=d,t[8]=f,t}function PS(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function DS(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=e[4],c=e[5],d=e[6],f=e[7],p=e[8],g=p*l-c*f,v=-p*a+c*d,x=f*a-l*d,b=n*g+r*v+s*x;return b?(b=1/b,t[0]=g*b,t[1]=(-p*r+s*f)*b,t[2]=(c*r-s*l)*b,t[3]=v*b,t[4]=(p*n-s*d)*b,t[5]=(-c*n+s*a)*b,t[6]=x*b,t[7]=(-f*n+r*d)*b,t[8]=(l*n-r*a)*b,t):null}function pm(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=e[4],d=e[5],f=e[6],p=e[7],g=e[8],v=n[0],x=n[1],b=n[2],w=n[3],_=n[4],k=n[5],R=n[6],M=n[7],A=n[8];return t[0]=v*r+x*l+b*f,t[1]=v*s+x*c+b*p,t[2]=v*a+x*d+b*g,t[3]=w*r+_*l+k*f,t[4]=w*s+_*c+k*p,t[5]=w*a+_*d+k*g,t[6]=R*r+M*l+A*f,t[7]=R*s+M*c+A*p,t[8]=R*a+M*d+A*g,t}function TS(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=e[4],d=e[5],f=e[6],p=e[7],g=e[8],v=n[0],x=n[1];return t[0]=r,t[1]=s,t[2]=a,t[3]=l,t[4]=c,t[5]=d,t[6]=v*r+x*l+f,t[7]=v*s+x*c+p,t[8]=v*a+x*d+g,t}function NS(t,e,n){let r=e[0],s=e[1],a=e[2],l=e[3],c=e[4],d=e[5],f=e[6],p=e[7],g=e[8],v=Math.sin(n),x=Math.cos(n);return t[0]=x*r+v*l,t[1]=x*s+v*c,t[2]=x*a+v*d,t[3]=x*l-v*r,t[4]=x*c-v*s,t[5]=x*d-v*a,t[6]=f,t[7]=p,t[8]=g,t}function AS(t,e,n){let r=n[0],s=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function LS(t,e){let n=e[0],r=e[1],s=e[2],a=e[3],l=e[4],c=e[5],d=e[6],f=e[7],p=e[8],g=e[9],v=e[10],x=e[11],b=e[12],w=e[13],_=e[14],k=e[15],R=n*c-r*l,M=n*d-s*l,A=n*f-a*l,N=r*d-s*c,z=r*f-a*c,E=s*f-a*d,L=p*w-g*b,W=p*_-v*b,X=p*k-x*b,q=g*_-v*w,J=g*k-x*w,ae=v*k-x*_,Q=R*ae-M*J+A*q+N*X-z*W+E*L;return Q?(Q=1/Q,t[0]=(c*ae-d*J+f*q)*Q,t[1]=(d*X-l*ae-f*W)*Q,t[2]=(l*J-c*X+f*L)*Q,t[3]=(s*J-r*ae-a*q)*Q,t[4]=(n*ae-s*X+a*W)*Q,t[5]=(r*X-n*J-a*L)*Q,t[6]=(w*E-_*z+k*N)*Q,t[7]=(_*A-b*E-k*M)*Q,t[8]=(b*z-w*A+k*R)*Q,t):null}class OS extends Array{constructor(e=1,n=0,r=0,s=0,a=1,l=0,c=0,d=0,f=1){return super(e,n,r,s,a,l,c,d,f),this}set(e,n,r,s,a,l,c,d,f){return e.length?this.copy(e):(RS(this,e,n,r,s,a,l,c,d,f),this)}translate(e,n=this){return TS(this,n,e),this}rotate(e,n=this){return NS(this,n,e),this}scale(e,n=this){return AS(this,n,e),this}multiply(e,n){return n?pm(this,e,n):pm(this,this,e),this}identity(){return PS(this),this}copy(e){return ES(this,e),this}fromMatrix4(e){return CS(this,e),this}fromQuaternion(e){return MS(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return DS(this,e),this}getNormalMatrix(e){return LS(this,e),this}}let FS=0;class jS extends kS{constructor(e,{geometry:n,program:r,mode:s=e.TRIANGLES,frustumCulled:a=!0,renderOrder:l=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=FS++,this.geometry=n,this.program=r,this.mode=s,this.frustumCulled=a,this.renderOrder=l,this.modelViewMatrix=new vl,this.normalMatrix=new OS,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}const mm={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function gm(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function zS(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function ym(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?gm(t):mm[t.toLowerCase()]?gm(mm[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):zS(t)}let ds=class extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...ym(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(ym(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}};class IS extends Nw{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const BS=`
attribute vec2 position;
attribute vec2 uv;
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 0.0, 1.0);
}
`,US=`
precision mediump float;

varying vec2 vUv;

uniform float iTime;
uniform vec3  iResolution;
uniform float uScale;

uniform vec2  uGridMul;
uniform float uDigitSize;
uniform float uScanlineIntensity;
uniform float uGlitchAmount;
uniform float uFlickerAmount;
uniform float uNoiseAmp;
uniform float uChromaticAberration;
uniform float uDither;
uniform float uCurvature;
uniform vec3  uTint;
uniform vec2  uMouse;
uniform float uMouseStrength;
uniform float uUseMouse;
uniform float uPageLoadProgress;
uniform float uUsePageLoadAnimation;
uniform float uBrightness;
uniform vec3 uBaseColor;

float time;

float hash21(vec2 p){
  p = fract(p * 234.56);
  p += dot(p, p + 34.56);
  return fract(p.x * p.y);
}

float noise(vec2 p)
{
  return sin(p.x * 10.0) * sin(p.y * (3.0 + sin(time * 0.090909))) + 0.2; 
}

mat2 rotate(float angle)
{
  float c = cos(angle);
  float s = sin(angle);
  return mat2(c, -s, s, c);
}

float fbm(vec2 p)
{
  p *= 1.1;
  float f = 0.0;
  float amp = 0.5 * uNoiseAmp;
  
  mat2 modify0 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify0 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify1 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify1 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify2 = rotate(time * 0.08);
  f += amp * noise(p);
  
  return f;
}

float pattern(vec2 p, out vec2 q, out vec2 r) {
  vec2 offset1 = vec2(1.0);
  vec2 offset0 = vec2(0.0);
  mat2 rot01 = rotate(0.1 * time);
  mat2 rot1 = rotate(0.1);
  
  q = vec2(fbm(p + offset1), fbm(rot01 * p + offset1));
  r = vec2(fbm(rot1 * q + offset0), fbm(q + offset0));
  return fbm(p + r);
}

float digit(vec2 p){
    vec2 grid = uGridMul * 15.0;
    vec2 s = floor(p * grid) / grid;
    p = p * grid;
    vec2 q, r;
    float intensity = pattern(s * 0.1, q, r) * 1.3 - 0.03;
    
    if(uUseMouse > 0.5){
        vec2 mouseWorld = uMouse * uScale;
        float distToMouse = distance(s, mouseWorld);
        float mouseInfluence = exp(-distToMouse * 8.0) * uMouseStrength * 10.0;
        intensity += mouseInfluence;
        
        float ripple = sin(distToMouse * 20.0 - iTime * 5.0) * 0.1 * mouseInfluence;
        intensity += ripple;
    }
    
    if(uUsePageLoadAnimation > 0.5){
        float cellRandom = fract(sin(dot(s, vec2(12.9898, 78.233))) * 43758.5453);
        float cellDelay = cellRandom * 0.8;
        float cellProgress = clamp((uPageLoadProgress - cellDelay) / 0.2, 0.0, 1.0);
        
        float fadeAlpha = smoothstep(0.0, 1.0, cellProgress);
        intensity *= fadeAlpha;
    }
    
    p = fract(p);
    p *= uDigitSize;
    
    float px5 = p.x * 5.0;
    float py5 = (1.0 - p.y) * 5.0;
    float x = fract(px5);
    float y = fract(py5);
    
    float i = floor(py5) - 2.0;
    float j = floor(px5) - 2.0;
    float n = i * i + j * j;
    float f = n * 0.0625;
    
    float isOn = step(0.1, intensity - f);
    float brightness = isOn * (0.2 + y * 0.8) * (0.75 + x * 0.25);
    
    return step(0.0, p.x) * step(p.x, 1.0) * step(0.0, p.y) * step(p.y, 1.0) * brightness;
}

float onOff(float a, float b, float c)
{
  return step(c, sin(iTime + a * cos(iTime * b))) * uFlickerAmount;
}

float displace(vec2 look)
{
    float y = look.y - mod(iTime * 0.25, 1.0);
    float window = 1.0 / (1.0 + 50.0 * y * y);
    return sin(look.y * 20.0 + iTime) * 0.0125 * onOff(4.0, 2.0, 0.8) * (1.0 + cos(iTime * 60.0)) * window;
}

vec3 getColor(vec2 p){
    
    float bar = step(mod(p.y + time * 20.0, 1.0), 0.2) * 0.4 + 1.0;
    bar *= uScanlineIntensity;
    
    float displacement = displace(p);
    p.x += displacement;

    if (uGlitchAmount != 1.0) {
      float extra = displacement * (uGlitchAmount - 1.0);
      p.x += extra;
    }

    float middle = digit(p);
    
    const float off = 0.002;
    float sum = digit(p + vec2(-off, -off)) + digit(p + vec2(0.0, -off)) + digit(p + vec2(off, -off)) +
                digit(p + vec2(-off, 0.0)) + digit(p + vec2(0.0, 0.0)) + digit(p + vec2(off, 0.0)) +
                digit(p + vec2(-off, off)) + digit(p + vec2(0.0, off)) + digit(p + vec2(off, off));
    
    vec3 baseColor = vec3(0.9) * middle + sum * 0.1 * vec3(1.0) * bar;
    return baseColor;
}

vec2 barrel(vec2 uv){
  vec2 c = uv * 2.0 - 1.0;
  float r2 = dot(c, c);
  c *= 1.0 + uCurvature * r2;
  return c * 0.5 + 0.5;
}

void main() {
    time = iTime * 0.333333;
    vec2 uv = vUv;

    if(uCurvature != 0.0){
      uv = barrel(uv);
    }
    
    vec2 p = uv * uScale;
    vec3 col = getColor(p);

    if(uChromaticAberration != 0.0){
      vec2 ca = vec2(uChromaticAberration) / iResolution.xy;
      col.r = getColor(p + ca).r;
      col.b = getColor(p - ca).b;
    }

    col *= uTint;
    col *= uBrightness;

    if(uDither > 0.0){
      float rnd = hash21(gl_FragCoord.xy);
      col += (rnd - 0.5) * (uDither * 0.003922);
    }

    col = mix(uBaseColor, col, 0.75);

    gl_FragColor = vec4(col, 1.0);
}
`;function Fu(t){let e=t.replace("#","").trim();e.length===3&&(e=e.split("").map(r=>r+r).join(""));const n=parseInt(e,16);return[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function $S({scale:t=1,gridMul:e=[2,1],digitSize:n=1.5,timeScale:r=.3,pause:s=!1,scanlineIntensity:a=.3,glitchAmount:l=1,flickerAmount:c=1,noiseAmp:d=.8,chromaticAberration:f=0,dither:p=0,curvature:g=.2,tint:v="#ffffff",mouseReact:x=!0,mouseStrength:b=.2,dpr:w,pageLoadAnimation:_=!0,brightness:k=1,clearColor:R="#000000",baseColor:M="#0b1220",className:A,style:N,...z}){const E=P.useRef(null),L=P.useRef(null),W=P.useRef(null),X=P.useRef({x:.5,y:.5}),q=P.useRef({x:.5,y:.5}),J=P.useRef(0),ae=P.useRef(0),Q=P.useRef(0),re=P.useRef(Math.random()*100),ce=P.useMemo(()=>w??(typeof window<"u"?Math.min(window.devicePixelRatio||1,2):1),[w]),fe=P.useMemo(()=>Fu(v),[v]),Y=P.useMemo(()=>typeof p=="boolean"?p?1:0:p,[p]),ne=P.useMemo(()=>Fu(R),[R]),K=P.useMemo(()=>Fu(M),[M]),F=P.useCallback(V=>{const de=E.current;if(!de)return;const le=de.getBoundingClientRect(),ke=Le=>Math.max(0,Math.min(1,Le)),Me=ke((V.clientX-le.left)/le.width),Oe=ke(1-(V.clientY-le.top)/le.height);X.current={x:Me,y:Oe}},[]);return P.useEffect(()=>{const V=E.current;if(!V)return;const de=new Iw({dpr:ce});W.current=de;const le=de.gl;le.clearColor(ne[0],ne[1],ne[2],1);const ke=new IS(le),Me=new Lw(le,{vertex:BS,fragment:US,uniforms:{iTime:{value:0},iResolution:{value:new ds(le.canvas.width,le.canvas.height,le.canvas.width/le.canvas.height)},uScale:{value:t},uGridMul:{value:new Float32Array(e)},uDigitSize:{value:n},uScanlineIntensity:{value:a},uGlitchAmount:{value:l},uFlickerAmount:{value:c},uNoiseAmp:{value:d},uChromaticAberration:{value:f},uDither:{value:Y},uCurvature:{value:g},uTint:{value:new ds(fe[0],fe[1],fe[2])},uMouse:{value:new Float32Array([q.current.x,q.current.y])},uMouseStrength:{value:b},uUseMouse:{value:x?1:0},uPageLoadProgress:{value:_?0:1},uUsePageLoadAnimation:{value:_?1:0},uBrightness:{value:k},uBaseColor:{value:new ds(K[0],K[1],K[2])}}});L.current=Me;const Oe=new jS(le,{geometry:ke,program:Me}),Le=x?window:null;function $e(){const He=E.current;if(!He)return;de.setSize(He.offsetWidth,He.offsetHeight);const je=Me.uniforms;je.iResolution.value=new ds(le.canvas.width,le.canvas.height,le.canvas.width/le.canvas.height)}const ht=new ResizeObserver(()=>$e());ht.observe(V),$e();const $t=He=>{ae.current=requestAnimationFrame($t);const je=Me.uniforms;if(_&&Q.current===0&&(Q.current=He),s)je.iTime.value=J.current;else{const Ht=(He*.001+re.current)*r;je.iTime.value=Ht,J.current=Ht}if(_&&Q.current>0){const Tt=He-Q.current,wt=Math.min(Tt/2e3,1);je.uPageLoadProgress.value=wt}if(x){const Tt=q.current,wt=X.current;Tt.x+=(wt.x-Tt.x)*.08,Tt.y+=(wt.y-Tt.y)*.08;const ln=je.uMouse.value;ln[0]=Tt.x,ln[1]=Tt.y}je.uMouseStrength.value=b,je.uScale.value=t,je.uDigitSize.value=n,je.uScanlineIntensity.value=a,je.uGlitchAmount.value=l,je.uFlickerAmount.value=c,je.uNoiseAmp.value=d,je.uChromaticAberration.value=f,je.uDither.value=Y,je.uCurvature.value=g,je.uTint.value=new ds(fe[0],fe[1],fe[2]),je.uUseMouse.value=x?1:0,je.uBrightness.value=k,je.uBaseColor.value=new ds(K[0],K[1],K[2]),de.render({scene:Oe})};return ae.current=requestAnimationFrame($t),V.appendChild(le.canvas),x&&Le&&Le.addEventListener("mousemove",F),()=>{cancelAnimationFrame(ae.current),ht.disconnect(),x&&Le&&Le.removeEventListener("mousemove",F);const He=E.current;He&&le.canvas.parentElement===He&&He.removeChild(le.canvas),le.getExtension("WEBGL_lose_context")?.loseContext(),Q.current=0,re.current=Math.random()*100,L.current=null,W.current=null}},[ce,s,r,t,e,n,a,l,c,d,f,Y,g,fe,x,b,_,k,ne,K,F]),C.jsx("div",{ref:E,className:pw("faulty-terminal-container",A),style:N,...z})}const _o="subly:state",go={language:"es",currencyDisplayMode:"original",baseCurrency:"USD",calendarAutoSyncAll:!1,calendarUseDedicatedCalendar:!1,driveBackupFileId:void 0,driveLastBackupAt:void 0};function yo(t){const e=Array.isArray(t?.subscriptions)?t.subscriptions:[],n=t?.settings,r=n?.language==="en"?"en":"es",s=n?.currencyDisplayMode==="convertToBase"?"convertToBase":"original",a=String(n?.baseCurrency??go.baseCurrency).trim().toUpperCase()||go.baseCurrency,l=!!(n?.calendarAutoSyncAll??go.calendarAutoSyncAll),c=!!(n?.calendarUseDedicatedCalendar??go.calendarUseDedicatedCalendar),d=String(n?.calendarSubscriptionsCalendarId??"").trim()||void 0,f=String(n?.driveBackupFileId??"").trim()||void 0,p=String(n?.driveLastBackupAt??"").trim()||void 0;return{subscriptions:e,settings:{language:r,currencyDisplayMode:s,baseCurrency:a,calendarAutoSyncAll:l,calendarUseDedicatedCalendar:c,calendarSubscriptionsCalendarId:d,driveBackupFileId:f,driveLastBackupAt:p}}}function z0(){return typeof chrome<"u"&&!!chrome.storage?.local}async function HS(){if(z0()){const e=await chrome.storage.local.get([_o]);return yo(e?.[_o]??null)}const t=typeof localStorage<"u"?localStorage.getItem(_o):null;if(!t)return yo(null);try{return yo(JSON.parse(t))}catch{return yo(null)}}async function WS(t){if(z0()){await chrome.storage.local.set({[_o]:t});return}typeof localStorage<"u"&&localStorage.setItem(_o,JSON.stringify(t))}function I0(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function xl(t,e,n=new Date){const[r,s,a]=t.split("-").map(Number),l=new Date(r,(s??1)-1,a??1);if(Number.isNaN(l.getTime()))return n;const c=(p,g)=>{const v=new Date(p);return v.setMonth(v.getMonth()+g),v},d=e==="monthly"?1:e==="quarterly"?3:e==="semiannual"?6:12;let f=new Date(l);for(;f.getTime()<n.getTime();)f=c(f,d);return f}const B0=P.createContext(null);function VS({children:t}){const[e,n]=P.useState({subscriptions:[],settings:go}),[r,s]=P.useState(!1);P.useEffect(()=>{let l=!0;return(async()=>{const c=await HS();l&&(n(c),s(!0))})(),()=>{l=!1}},[]),P.useEffect(()=>{r&&WS(e)},[r,e]);const a=P.useMemo(()=>({state:e,setSubscriptions:l=>n(c=>({...c,subscriptions:l})),setSettings:l=>n(c=>({...c,settings:l}))}),[e]);return C.jsx(B0.Provider,{value:a,children:t})}function Nl(){const t=P.useContext(B0);if(!t)throw new Error("useStore must be used within StoreProvider");return t}const vm={es:{common:{loading:"Cargando",language:{es:"Espaol",en:"English"},cancel:"Cancelar",clear:"Limpiar",save:"Guardar",add:"Aadir",edit:"Editar",delete:"Eliminar",importJson:"Importar JSON",exportJson:"Exportar JSON",exported:"Exportado.",importedCount:"Importadas: {{count}}",importFailed:"Importacin fallida (JSON invlido o estructura incorrecta).",none:"",uncategorized:"Sin categora",other:"Otros"},nav:{dashboard:"Dashboard",subscriptions:"Suscripciones",settings:"Ajustes"},settings:{languageTitle:"Idioma",languageDescription:"Selecciona el idioma de la app.",alertsTitle:"Alertas",alertsHint:"Las alertas se muestran como notificaciones del navegador (si estn permitidas).",currencyTitle:"Moneda",displayAmounts:"Mostrar importes",displayOriginal:"Con sus monedas originales",displayConvert:"Convertir a una moneda nica",baseCurrency:"Moneda base",currencyHint:"Al convertir a una sola moneda, los totales y grficos se muestran en la moneda base.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Se abre en una pestaa nueva.",calendarSyncTitle:"Sincronizacin",calendarDedicatedLabel:"Usar calendario dedicado para suscripciones",calendarDedicatedHint:"Al activarlo, se crea un calendario dedicado para tus suscripciones.",calendarAutoSyncAllLabel:"Auto-sync de suscripciones",calendarAutoSyncAllHint:"Al guardar cambios en Suscripciones, se intentar sincronizar automticamente (si ya diste permiso).",openGoogleCalendar:"Abrir Google Calendar"},drive:{title:"Copia de seguridad",body:"Guarda una copia en tu Google Drive y restaura una copia anterior cuando lo necesites.",lastBackup:"ltima copia",save:"Guardar copia",restore:"Restaurar copia",saving:"Guardando",restoring:"Restaurando",restoreConfirm:"Esto reemplazar los datos guardados en este dispositivo por la copia de Drive. Quieres continuar?",backupSaved:"Copia guardada en Google Drive.",backupSaveFailed:"No se pudo guardar la copia en Google Drive.",backupRestored:"Datos restaurados desde Google Drive.",backupRestoreFailed:"No se pudo restaurar desde Google Drive."},subscriptions:{listTitle:"Listado",subtitle:"Aade, edita y revisa tus suscripciones.",addSubscription:"Aadir suscripcin",noSubscriptions:"No hay suscripciones an.",addToCalendar:"Aadir a Calendar",syncAll:"Sync todas",syncing:"Sincronizando",syncToCalendar:"Sync con Calendar",syncCreate:"Crear en Calendar",syncUpdate:"Actualizar en Calendar",syncOk:"Sincronizado con Google Calendar.",syncFailed:"Error al sincronizar.",syncAllDone:"Sincronizacin terminada: {{ok}} ok, {{fail}} fallo(s).",autoSyncAllOn:"Auto-sync: Activado",autoSyncAllOff:"Auto-sync: Desactivado",autoSyncAllHint:"Si est activo, los cambios se sincronizan (si ya hay autorizacin).",autoSyncConfirm:"Quieres sincronizar todas ahora?",editSubscription:"Editar suscripcin",addSubscriptionTitle:"Aadir suscripcin",searchPlaceholder:"Buscar",filtersToggle:"Filtros",resultsCount:"Resultados: {{count}}",filterCategory:"Categora",filterCurrency:"Moneda",filterPeriod:"Periodo",filterMinPrice:"Precio mn.",filterMaxPrice:"Precio mx.",emptyFiltered:"Sin resultados con los filtros actuales.",dueSoon:"Pronto",columnName:"Suscripcin",columnPrice:"Importe",columnPeriod:"Periodo",columnStart:"Inicio",columnNext:"Prximo",columnCategory:"Categora",columnActions:"Acciones",insightsTitle:"Resumen",insightsHint:"Importes equivalentes en {{currency}}.",insightsDueWindow:"Ventana: {{days}}d",insightsCount:"Suscripciones",insightsAvgMonthly:"Media mensual",insightsAvgMonthlyHelper:"Equivalente en {{currency}}.",insightsUpcoming:"Prximas",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Ms prxima: {{date}}",insightsTopCategory:"Top categora",insightsTopCategoryHelper:"{{percent}}% del total",name:"Nombre",category:"Categora",categoryPlaceholder:"Ej: Streaming",amount:"Importe",currency:"Moneda",period:"Periodo",startDate:"Fecha inicio",helpIncomplete:"Completa nombre, importe y fecha.",startLabel:"Inicio",nextLabel:"Prximo",renewal:"Renovacin",detailsAmount:"Importe",detailsPeriod:"Periodo",periodMonthly:"Mensual",periodQuarterly:"Trimestral",periodSemiannual:"Semestral",periodAnnual:"Anual",toastCreated:"Suscripcin creada.",toastUpdated:"Suscripcin actualizada.",toastDeleted:"Suscripcin eliminada.",deleteConfirm:"Eliminar {{name}}? Tambin se borrar su evento en Google Calendar si existe.",calendarEventDeleted:"Evento eliminado de Google Calendar.",calendarDeleteFailed:"No se pudo borrar el evento en Google Calendar."},dashboard:{monthlySpendTitle:"Gasto mensual (equivalente)",noSubscriptionsYet:"Sin suscripciones an.",fxRatesLabel:"FX rates",fxUpdating:"actualizando",fxReady:"reales (cacheadas)",fxUnavailable:"no disponibles (fallback)",fxIdle:"",upcomingRenewalsTitle:"Prximas renovaciones",noDataYet:"No hay datos todava.",chartsTitle:"Grficos",addSubsToSeeCharts:"Aade suscripciones para ver grficos.",currencyLabel:"Moneda: {{cur}}",kpiSubscriptions:"Suscripciones",kpiAvgMonthly:"Media mensual",kpiDueSoon:"Vencen ( {{days}}d)",kpiTopCategory:"Top categora",projectionTitle:"Proyeccin mensual (ltimos 12 meses)",annualTopTitle:"Top gasto anual (estimado)",monthlyByCategoryTitle:"Gasto mensual por categora (equivalente)",distributionTitle:"Distribucin (gasto mensual equivalente)",noData:"Sin datos.",csvMonth:"Mes",csvAmount:"Importe",csvCurrency:"Moneda",csvName:"Nombre",csvAnnualAmount:"Importe anual",csvCategory:"Categora",csvMonthlyEquivalent:"Equivalente mensual"}},en:{common:{loading:"Loading",language:{es:"Espaol",en:"English"},cancel:"Cancel",clear:"Clear",save:"Save",add:"Add",edit:"Edit",delete:"Delete",importJson:"Import JSON",exportJson:"Export JSON",exported:"Exported.",importedCount:"Imported: {{count}}",importFailed:"Import failed (invalid JSON or wrong structure).",none:"",uncategorized:"Uncategorized",other:"Other"},nav:{dashboard:"Dashboard",subscriptions:"Subscriptions",settings:"Settings"},settings:{languageTitle:"Language",languageDescription:"Select the app language.",alertsTitle:"Alerts",alertsHint:"Alerts appear as browser notifications (if allowed).",currencyTitle:"Currency",displayAmounts:"Show amounts",displayOriginal:"In original currencies",displayConvert:"Convert to a single currency",baseCurrency:"Base currency",currencyHint:"When converting to a single currency, totals and charts use the base currency.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Opens in a new tab.",calendarSyncTitle:"Sync",calendarDedicatedLabel:"Use a dedicated calendar for subscriptions",calendarDedicatedHint:"When enabled, a dedicated calendar for your subscriptions is created.",calendarAutoSyncAllLabel:"Auto-sync subscriptions",calendarAutoSyncAllHint:"When you save changes in Subscriptions, the app will try to sync automatically (if permission is already granted).",openGoogleCalendar:"Open Google Calendar"},drive:{title:"Backup",body:"Save a backup to your Google Drive and restore a previous backup when needed.",lastBackup:"Last backup",save:"Save backup",restore:"Restore backup",saving:"Saving",restoring:"Restoring",restoreConfirm:"This will replace the data on this device with the Drive backup. Continue?",backupSaved:"Backup saved to Google Drive.",backupSaveFailed:"Could not save the backup to Google Drive.",backupRestored:"Data restored from Google Drive.",backupRestoreFailed:"Could not restore from Google Drive."},subscriptions:{listTitle:"List",subtitle:"Add, edit and review your subscriptions.",addSubscription:"Add subscription",noSubscriptions:"No subscriptions yet.",addToCalendar:"Add to Calendar",syncAll:"Sync all",syncing:"Syncing",syncToCalendar:"Sync to Calendar",syncCreate:"Create in Calendar",syncUpdate:"Update in Calendar",syncOk:"Synced with Google Calendar.",syncFailed:"Sync failed.",syncAllDone:"Sync finished: {{ok}} ok, {{fail}} failed.",autoSyncAllOn:"Auto-sync: ON",autoSyncAllOff:"Auto-sync: OFF",autoSyncAllHint:"When enabled, changes will sync (if already authorized).",autoSyncConfirm:"Do you want to sync all now?",editSubscription:"Edit subscription",addSubscriptionTitle:"Add subscription",searchPlaceholder:"Search",filtersToggle:"Filters",resultsCount:"Results: {{count}}",filterCategory:"Category",filterCurrency:"Currency",filterPeriod:"Period",filterMinPrice:"Min price",filterMaxPrice:"Max price",emptyFiltered:"No results for the current filters.",dueSoon:"Soon",columnName:"Subscription",columnPrice:"Amount",columnPeriod:"Period",columnStart:"Start",columnNext:"Next",columnCategory:"Category",columnActions:"Actions",insightsTitle:"Summary",insightsHint:"Amounts in {{currency}} equivalent.",insightsDueWindow:"Window: {{days}}d",insightsCount:"Subscriptions",insightsAvgMonthly:"Avg monthly",insightsAvgMonthlyHelper:"Equivalent in {{currency}}.",insightsUpcoming:"Upcoming",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Next: {{date}}",insightsTopCategory:"Top category",insightsTopCategoryHelper:"{{percent}}% of total",name:"Name",category:"Category",categoryPlaceholder:"e.g. Streaming",amount:"Amount",currency:"Currency",period:"Period",startDate:"Start date",helpIncomplete:"Fill name, amount and date.",startLabel:"Start",nextLabel:"Next",renewal:"Renewal",detailsAmount:"Amount",detailsPeriod:"Period",periodMonthly:"Monthly",periodQuarterly:"Quarterly",periodSemiannual:"Semiannual",periodAnnual:"Annual",toastCreated:"Subscription created.",toastUpdated:"Subscription updated.",toastDeleted:"Subscription deleted.",deleteConfirm:"Delete {{name}}? Its Google Calendar event will also be deleted if it exists.",calendarEventDeleted:"Google Calendar event deleted.",calendarDeleteFailed:"Could not delete the Google Calendar event."},dashboard:{monthlySpendTitle:"Monthly spend (equivalent)",noSubscriptionsYet:"No subscriptions yet.",fxRatesLabel:"FX rates",fxUpdating:"updating",fxReady:"real (cached)",fxUnavailable:"unavailable (fallback)",fxIdle:"",upcomingRenewalsTitle:"Upcoming renewals",noDataYet:"No data yet.",chartsTitle:"Charts",addSubsToSeeCharts:"Add subscriptions to see charts.",currencyLabel:"Currency: {{cur}}",kpiSubscriptions:"Subscriptions",kpiAvgMonthly:"Avg monthly",kpiDueSoon:"Due ( {{days}}d)",kpiTopCategory:"Top category",projectionTitle:"Monthly projection (last 12 months)",annualTopTitle:"Top annual spend (estimated)",monthlyByCategoryTitle:"Monthly spend by category (equivalent)",distributionTitle:"Distribution (monthly equivalent spend)",noData:"No data.",csvMonth:"Month",csvAmount:"Amount",csvCurrency:"Currency",csvName:"Name",csvAnnualAmount:"Annual amount",csvCategory:"Category",csvMonthlyEquivalent:"Monthly equivalent"}}};function YS(t,e){const n=e.split(".");let r=t;for(const s of n)if(typeof r!="object"||r===null||(r=r[s],r===void 0))return;return r}function GS(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(n,r)=>String(e[r]??"")):t}function XS(t,e,n){const r=vm[t]??vm.es,s=YS(r,e);if(typeof s=="string")return GS(s,n)}function _s(){const{state:t}=Nl(),e=t.settings.language==="en"?"en":"es",n=P.useCallback((r,s)=>XS(e,r,s),[e]);return{language:e,t:n}}function ju({to:t,label:e}){return C.jsx(T0,{to:t,className:({isActive:n})=>`rounded-md px-3 py-2 text-sm font-semibold ${n?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-200 dark:text-slate-200 dark:hover:bg-slate-800"}`,children:e})}function qS(){const{t}=_s();return C.jsxs("div",{className:"relative min-h-screen text-slate-900 dark:text-white",children:[C.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10",children:C.jsx($S,{className:"h-full w-full",scale:1,gridMul:[3,2],digitSize:1.5,brightness:1.8,scanlineIntensity:.45,noiseAmp:1,clearColor:"#000000",baseColor:"#020617"})}),C.jsxs("div",{className:"min-h-screen bg-slate-50/65 dark:bg-slate-950/65",children:[C.jsx("header",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white/90 backdrop-blur dark:border-slate-800 dark:bg-slate-950/90",children:C.jsxs("div",{className:"mx-auto flex max-w-3xl items-center justify-between gap-3 px-4 py-3",children:[C.jsx("div",{className:"text-sm font-black tracking-wide",children:"Subly"}),C.jsxs("nav",{className:"flex items-center gap-2",children:[C.jsx(ju,{to:"/dashboard",label:t("nav.dashboard")??"Dashboard"}),C.jsx(ju,{to:"/subscriptions",label:t("nav.subscriptions")??"Suscripciones"}),C.jsx(ju,{to:"/settings",label:t("nav.settings")??"Ajustes"})]})]})}),C.jsx("main",{className:"mx-auto max-w-3xl px-4 py-4",children:C.jsx(D1,{})})]})]})}function Ho(t){return t+.5|0}const Zr=(t,e,n)=>Math.max(Math.min(t,n),e);function vo(t){return Zr(Ho(t*2.55),0,255)}function ri(t){return Zr(Ho(t*255),0,255)}function wr(t){return Zr(Ho(t/2.55)/100,0,1)}function xm(t){return Zr(Ho(t*100),0,100)}const En={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ld=[..."0123456789ABCDEF"],KS=t=>ld[t&15],QS=t=>ld[(t&240)>>4]+ld[t&15],qa=t=>(t&240)>>4===(t&15),JS=t=>qa(t.r)&&qa(t.g)&&qa(t.b)&&qa(t.a);function ZS(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&En[t[1]]*17,g:255&En[t[2]]*17,b:255&En[t[3]]*17,a:e===5?En[t[4]]*17:255}:(e===7||e===9)&&(n={r:En[t[1]]<<4|En[t[2]],g:En[t[3]]<<4|En[t[4]],b:En[t[5]]<<4|En[t[6]],a:e===9?En[t[7]]<<4|En[t[8]]:255})),n}const e_=(t,e)=>t<255?e(t):"";function t_(t){var e=JS(t)?KS:QS;return t?"#"+e(t.r)+e(t.g)+e(t.b)+e_(t.a,e):void 0}const n_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function U0(t,e,n){const r=e*Math.min(n,1-n),s=(a,l=(a+t/30)%12)=>n-r*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function r_(t,e,n){const r=(s,a=(s+t/60)%6)=>n-n*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function i_(t,e,n){const r=U0(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function s_(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Pd(t){const n=t.r/255,r=t.g/255,s=t.b/255,a=Math.max(n,r,s),l=Math.min(n,r,s),c=(a+l)/2;let d,f,p;return a!==l&&(p=a-l,f=c>.5?p/(2-a-l):p/(a+l),d=s_(n,r,s,p,a),d=d*60+.5),[d|0,f||0,c]}function Dd(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ri)}function Td(t,e,n){return Dd(U0,t,e,n)}function o_(t,e,n){return Dd(i_,t,e,n)}function a_(t,e,n){return Dd(r_,t,e,n)}function $0(t){return(t%360+360)%360}function l_(t){const e=n_.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?vo(+e[5]):ri(+e[5]));const s=$0(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=o_(s,a,l):e[1]==="hsv"?r=a_(s,a,l):r=Td(s,a,l),{r:r[0],g:r[1],b:r[2],a:n}}function c_(t,e){var n=Pd(t);n[0]=$0(n[0]+e),n=Td(n),t.r=n[0],t.g=n[1],t.b=n[2]}function u_(t){if(!t)return;const e=Pd(t),n=e[0],r=xm(e[1]),s=xm(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${wr(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const bm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},wm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function d_(){const t={},e=Object.keys(wm),n=Object.keys(bm);let r,s,a,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],s=0;s<n.length;s++)a=n[s],c=c.replace(a,bm[a]);a=parseInt(wm[l],16),t[c]=[a>>16&255,a>>8&255,a&255]}return t}let Ka;function f_(t){Ka||(Ka=d_(),Ka.transparent=[0,0,0,0]);const e=Ka[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const h_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function p_(t){const e=h_.exec(t);let n=255,r,s,a;if(e){if(e[7]!==r){const l=+e[7];n=e[8]?vo(l):Zr(l*255,0,255)}return r=+e[1],s=+e[3],a=+e[5],r=255&(e[2]?vo(r):Zr(r,0,255)),s=255&(e[4]?vo(s):Zr(s,0,255)),a=255&(e[6]?vo(a):Zr(a,0,255)),{r,g:s,b:a,a:n}}}function m_(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${wr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const zu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,fs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function g_(t,e,n){const r=fs(wr(t.r)),s=fs(wr(t.g)),a=fs(wr(t.b));return{r:ri(zu(r+n*(fs(wr(e.r))-r))),g:ri(zu(s+n*(fs(wr(e.g))-s))),b:ri(zu(a+n*(fs(wr(e.b))-a))),a:t.a+n*(e.a-t.a)}}function Qa(t,e,n){if(t){let r=Pd(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Td(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function H0(t,e){return t&&Object.assign(e||{},t)}function Sm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ri(t[3]))):(e=H0(t,{r:0,g:0,b:0,a:1}),e.a=ri(e.a)),e}function y_(t){return t.charAt(0)==="r"?p_(t):l_(t)}class To{constructor(e){if(e instanceof To)return e;const n=typeof e;let r;n==="object"?r=Sm(e):n==="string"&&(r=ZS(e)||f_(e)||y_(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=H0(this._rgb);return e&&(e.a=wr(e.a)),e}set rgb(e){this._rgb=Sm(e)}rgbString(){return this._valid?m_(this._rgb):void 0}hexString(){return this._valid?t_(this._rgb):void 0}hslString(){return this._valid?u_(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let a;const l=n===a?.5:n,c=2*l-1,d=r.a-s.a,f=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;a=1-f,r.r=255&f*r.r+a*s.r+.5,r.g=255&f*r.g+a*s.g+.5,r.b=255&f*r.b+a*s.b+.5,r.a=l*r.a+(1-l)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=g_(this._rgb,e._rgb,n)),this}clone(){return new To(this.rgb)}alpha(e){return this._rgb.a=ri(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ho(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qa(this._rgb,2,e),this}darken(e){return Qa(this._rgb,2,-e),this}saturate(e){return Qa(this._rgb,1,e),this}desaturate(e){return Qa(this._rgb,1,-e),this}rotate(e){return c_(this._rgb,e),this}}function yr(){}const v_=(()=>{let t=0;return()=>t++})();function Qe(t){return t==null}function kt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ue(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ut(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Kn(t,e){return Ut(t)?t:e}function Fe(t,e){return typeof t>"u"?e:t}const x_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,W0=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function at(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function et(t,e,n,r){let s,a,l;if(kt(t))for(a=t.length,s=0;s<a;s++)e.call(n,t[s],s);else if(Ue(t))for(l=Object.keys(t),a=l.length,s=0;s<a;s++)e.call(n,t[l[s]],l[s])}function bl(t,e){let n,r,s,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],a=e[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function wl(t){if(kt(t))return t.map(wl);if(Ue(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=wl(t[n[s]]);return e}return t}function V0(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function b_(t,e,n,r){if(!V0(t))return;const s=e[t],a=n[t];Ue(s)&&Ue(a)?No(s,a,r):e[t]=wl(a)}function No(t,e,n){const r=kt(e)?e:[e],s=r.length;if(!Ue(t))return t;n=n||{};const a=n.merger||b_;let l;for(let c=0;c<s;++c){if(l=r[c],!Ue(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)a(d[f],t,l,n)}return t}function ko(t,e){return No(t,e,{merger:w_})}function w_(t,e,n){if(!V0(t))return;const r=e[t],s=n[t];Ue(r)&&Ue(s)?ko(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=wl(s))}const _m={"":t=>t,x:t=>t.x,y:t=>t.y};function S_(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function __(t){const e=S_(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Oi(t,e){return(_m[e]||(_m[e]=__(e)))(t)}function Nd(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ao=t=>typeof t<"u",si=t=>typeof t=="function",km=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function k_(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const rt=Math.PI,ft=2*rt,C_=ft+rt,Sl=Number.POSITIVE_INFINITY,M_=rt/180,Ct=rt/2,Mi=rt/4,Cm=rt*2/3,Y0=Math.log10,tr=Math.sign;function Co(t,e,n){return Math.abs(t-e)<n}function Mm(t){const e=Math.round(t);t=Co(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Y0(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function E_(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,a)=>s-a).pop(),e}function R_(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Lo(t){return!R_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function P_(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function D_(t,e,n){let r,s,a;for(r=0,s=t.length;r<s;r++)a=t[r][n],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function _r(t){return t*(rt/180)}function T_(t){return t*(180/rt)}function Em(t){if(!Ut(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function G0(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*rt&&(a+=ft),{angle:a,distance:s}}function cd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function N_(t,e){return(t-e+C_)%ft-rt}function yn(t){return(t%ft+ft)%ft}function Oo(t,e,n,r){const s=yn(t),a=yn(e),l=yn(n),c=yn(a-s),d=yn(l-s),f=yn(s-a),p=yn(s-l);return s===a||s===l||r&&a===l||c>d&&f<p}function Bt(t,e,n){return Math.max(e,Math.min(n,t))}function A_(t){return Bt(t,-32768,32767)}function kr(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Ad(t,e,n){n=n||(l=>t[l]<e);let r=t.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,n(a)?s=a:r=a;return{lo:s,hi:r}}const Ni=(t,e,n,r)=>Ad(t,n,r?s=>{const a=t[s][e];return a<n||a===n&&t[s+1][e]===n}:s=>t[s][e]<n),L_=(t,e,n)=>Ad(t,n,r=>t[r][e]>=n);function O_(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const X0=["push","pop","shift","splice","unshift"];function F_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),X0.forEach(n=>{const r="_onData"+Nd(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...a){const l=s.apply(this,a);return t._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...a)}),l}})})}function Rm(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(X0.forEach(a=>{delete t[a]}),delete t._chartjs)}function q0(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const K0=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Q0(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,K0.call(window,()=>{r=!1,t.apply(e,n)}))}}function j_(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const J0=t=>t==="start"?"left":t==="end"?"right":"center",mn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,z_=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function I_(t,e,n){const r=e.length;let s=0,a=r;if(t._sorted){const{iScale:l,vScale:c,_parsed:d}=t,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:g,max:v,minDefined:x,maxDefined:b}=l.getUserBounds();if(x){if(s=Math.min(Ni(d,p,g).lo,n?r:Ni(e,p,l.getPixelForValue(g)).lo),f){const w=d.slice(0,s+1).reverse().findIndex(_=>!Qe(_[c.axis]));s-=Math.max(0,w)}s=Bt(s,0,r-1)}if(b){let w=Math.max(Ni(d,l.axis,v,!0).hi+1,n?0:Ni(e,p,l.getPixelForValue(v),!0).hi+1);if(f){const _=d.slice(w-1).findIndex(k=>!Qe(k[c.axis]));w+=Math.max(0,_)}a=Bt(w,s,r)-s}else a=r-s}return{start:s,count:a}}function B_(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),a}const Ja=t=>t===0||t===1,Pm=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ft/n)),Dm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ft/n)+1,Mo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ct)+1,easeOutSine:t=>Math.sin(t*Ct),easeInOutSine:t=>-.5*(Math.cos(rt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ja(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ja(t)?t:Pm(t,.075,.3),easeOutElastic:t=>Ja(t)?t:Dm(t,.075,.3),easeInOutElastic(t){return Ja(t)?t:t<.5?.5*Pm(t*2,.1125,.45):.5+.5*Dm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Mo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mo.easeInBounce(t*2)*.5:Mo.easeOutBounce(t*2-1)*.5+.5};function Ld(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Tm(t){return Ld(t)?t:new To(t)}function Iu(t){return Ld(t)?t:new To(t).saturate(.5).darken(.1).hexString()}const U_=["x","y","borderWidth","radius","tension"],$_=["color","borderColor","backgroundColor"];function H_(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:$_},numbers:{type:"number",properties:U_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function W_(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Nm=new Map;function V_(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Nm.get(n);return r||(r=new Intl.NumberFormat(t,e),Nm.set(n,r)),r}function Od(t,e,n){return V_(e,n).format(t)}const Y_={values(t){return kt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,a=t;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),a=G_(t,n)}const l=Y0(Math.abs(a)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),Od(t,r,d)}};function G_(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Z0={formatters:Y_};function X_(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Z0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Fi=Object.create(null),ud=Object.create(null);function Eo(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const a=n[r];t=t[a]||(t[a]=Object.create(null))}return t}function Bu(t,e,n){return typeof e=="string"?No(Eo(t,e),n):No(Eo(t,""),e)}class q_{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Iu(s.backgroundColor),this.hoverBorderColor=(r,s)=>Iu(s.borderColor),this.hoverColor=(r,s)=>Iu(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Bu(this,e,n)}get(e){return Eo(this,e)}describe(e,n){return Bu(ud,e,n)}override(e,n){return Bu(Fi,e,n)}route(e,n,r,s){const a=Eo(this,e),l=Eo(this,r),c="_"+n;Object.defineProperties(a,{[c]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const d=this[c],f=l[s];return Ue(d)?Object.assign({},f,d):Fe(d,f)},set(d){this[c]=d}}})}apply(e){e.forEach(n=>n(this))}}var vt=new q_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[H_,W_,X_]);function K_(t){return!t||Qe(t.size)||Qe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Am(t,e,n,r,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,n.push(s)),a>r&&(r=a),r}function Ei(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Lm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function dd(t,e,n,r){ey(t,e,n,r,null)}function ey(t,e,n,r,s){let a,l,c,d,f,p,g,v;const x=e.pointStyle,b=e.rotation,w=e.radius;let _=(b||0)*M_;if(x&&typeof x=="object"&&(a=x.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),x){default:s?t.ellipse(n,r,s/2,w,0,0,ft):t.arc(n,r,w,0,ft),t.closePath();break;case"triangle":p=s?s/2:w,t.moveTo(n+Math.sin(_)*p,r-Math.cos(_)*w),_+=Cm,t.lineTo(n+Math.sin(_)*p,r-Math.cos(_)*w),_+=Cm,t.lineTo(n+Math.sin(_)*p,r-Math.cos(_)*w),t.closePath();break;case"rectRounded":f=w*.516,d=w-f,l=Math.cos(_+Mi)*d,g=Math.cos(_+Mi)*(s?s/2-f:d),c=Math.sin(_+Mi)*d,v=Math.sin(_+Mi)*(s?s/2-f:d),t.arc(n-g,r-c,f,_-rt,_-Ct),t.arc(n+v,r-l,f,_-Ct,_),t.arc(n+g,r+c,f,_,_+Ct),t.arc(n-v,r+l,f,_+Ct,_+rt),t.closePath();break;case"rect":if(!b){d=Math.SQRT1_2*w,p=s?s/2:d,t.rect(n-p,r-d,2*p,2*d);break}_+=Mi;case"rectRot":g=Math.cos(_)*(s?s/2:w),l=Math.cos(_)*w,c=Math.sin(_)*w,v=Math.sin(_)*(s?s/2:w),t.moveTo(n-g,r-c),t.lineTo(n+v,r-l),t.lineTo(n+g,r+c),t.lineTo(n-v,r+l),t.closePath();break;case"crossRot":_+=Mi;case"cross":g=Math.cos(_)*(s?s/2:w),l=Math.cos(_)*w,c=Math.sin(_)*w,v=Math.sin(_)*(s?s/2:w),t.moveTo(n-g,r-c),t.lineTo(n+g,r+c),t.moveTo(n+v,r-l),t.lineTo(n-v,r+l);break;case"star":g=Math.cos(_)*(s?s/2:w),l=Math.cos(_)*w,c=Math.sin(_)*w,v=Math.sin(_)*(s?s/2:w),t.moveTo(n-g,r-c),t.lineTo(n+g,r+c),t.moveTo(n+v,r-l),t.lineTo(n-v,r+l),_+=Mi,g=Math.cos(_)*(s?s/2:w),l=Math.cos(_)*w,c=Math.sin(_)*w,v=Math.sin(_)*(s?s/2:w),t.moveTo(n-g,r-c),t.lineTo(n+g,r+c),t.moveTo(n+v,r-l),t.lineTo(n-v,r+l);break;case"line":l=s?s/2:Math.cos(_)*w,c=Math.sin(_)*w,t.moveTo(n-l,r-c),t.lineTo(n+l,r+c);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(s?s/2:w),r+Math.sin(_)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Fo(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Al(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ll(t){t.restore()}function Q_(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const a=(e.x+n.x)/2;t.lineTo(a,e.y),t.lineTo(a,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function J_(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Z_(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Qe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function ek(t,e,n,r,s){if(s.strikethrough||s.underline){const a=t.measureText(r),l=e-a.actualBoundingBoxLeft,c=e+a.actualBoundingBoxRight,d=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,p=s.strikethrough?(d+f)/2:f;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(l,p),t.lineTo(c,p),t.stroke()}}function tk(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function _l(t,e,n,r,s,a={}){const l=kt(e)?e:[e],c=a.strokeWidth>0&&a.strokeColor!=="";let d,f;for(t.save(),t.font=s.string,Z_(t,a),d=0;d<l.length;++d)f=l[d],a.backdrop&&tk(t,a.backdrop),c&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),Qe(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(f,n,r,a.maxWidth)),t.fillText(f,n,r,a.maxWidth),ek(t,n,r,f,a),r+=Number(s.lineHeight);t.restore()}function kl(t,e){const{x:n,y:r,w:s,h:a,radius:l}=e;t.arc(n+l.topLeft,r+l.topLeft,l.topLeft,1.5*rt,rt,!0),t.lineTo(n,r+a-l.bottomLeft),t.arc(n+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,rt,Ct,!0),t.lineTo(n+s-l.bottomRight,r+a),t.arc(n+s-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Ct,0,!0),t.lineTo(n+s,r+l.topRight),t.arc(n+s-l.topRight,r+l.topRight,l.topRight,0,-Ct,!0),t.lineTo(n+l.topLeft,r)}const nk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,rk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ik(t,e){const n=(""+t).match(nk);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const sk=t=>+t||0;function Fd(t,e){const n={},r=Ue(e),s=r?Object.keys(e):e,a=Ue(t)?r?l=>Fe(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of s)n[l]=sk(a(l));return n}function ty(t){return Fd(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vs(t){return Fd(t,["topLeft","topRight","bottomLeft","bottomRight"])}function $n(t){const e=ty(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function an(t,e){t=t||{},e=e||vt.font;let n=Fe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Fe(t.style,e.style);r&&!(""+r).match(rk)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Fe(t.family,e.family),lineHeight:ik(Fe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Fe(t.weight,e.weight),string:""};return s.string=K_(s),s}function Za(t,e,n,r){let s,a,l;for(s=0,a=t.length;s<a;++s)if(l=t[s],l!==void 0&&l!==void 0)return l}function ok(t,e,n){const{min:r,max:s}=t,a=W0(e,(s-r)/2),l=(c,d)=>n&&c===0?0:c+d;return{min:l(r,-Math.abs(a)),max:l(s,a)}}function Bi(t,e){return Object.assign(Object.create(t),e)}function jd(t,e=[""],n,r,s=()=>t[0]){const a=n||t;typeof r>"u"&&(r=sy("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:a,_fallback:r,_getTarget:s,override:c=>jd([c,...t],e,a,r)};return new Proxy(l,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return ry(c,d,()=>pk(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return Fm(c).includes(d)},ownKeys(c){return Fm(c)},set(c,d,f){const p=c._storage||(c._storage=s());return c[d]=p[d]=f,delete c._keys,!0}})}function ws(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ny(t,r),setContext:a=>ws(t,a,n,r),override:a=>ws(t.override(a),e,n,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete t[l],!0},get(a,l,c){return ry(a,l,()=>lk(a,l,c))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(a,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(a,l,c){return t[l]=c,delete a[l],!0}})}function ny(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:si(n)?n:()=>n,isIndexable:si(r)?r:()=>r}}const ak=(t,e)=>t?t+Nd(e):e,zd=(t,e)=>Ue(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function ry(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function lk(t,e,n){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=t;let c=r[e];return si(c)&&l.isScriptable(e)&&(c=ck(e,c,t,n)),kt(c)&&c.length&&(c=uk(e,c,t,l.isIndexable)),zd(e,c)&&(c=ws(c,s,a&&a[e],l)),c}function ck(t,e,n,r){const{_proxy:s,_context:a,_subProxy:l,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(a,l||r);return c.delete(t),zd(t,d)&&(d=Id(s._scopes,s,t,d)),d}function uk(t,e,n,r){const{_proxy:s,_context:a,_subProxy:l,_descriptors:c}=n;if(typeof a.index<"u"&&r(t))return e[a.index%e.length];if(Ue(e[0])){const d=e,f=s._scopes.filter(p=>p!==d);e=[];for(const p of d){const g=Id(f,s,t,p);e.push(ws(g,a,l&&l[t],c))}}return e}function iy(t,e,n){return si(t)?t(e,n):t}const dk=(t,e)=>t===!0?e:typeof t=="string"?Oi(e,t):void 0;function fk(t,e,n,r,s){for(const a of e){const l=dk(n,a);if(l){t.add(l);const c=iy(l._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==r)return c}else if(l===!1&&typeof r<"u"&&n!==r)return null}return!1}function Id(t,e,n,r){const s=e._rootScopes,a=iy(e._fallback,n,r),l=[...t,...s],c=new Set;c.add(r);let d=Om(c,l,n,a||n,r);return d===null||typeof a<"u"&&a!==n&&(d=Om(c,l,a,d,r),d===null)?!1:jd(Array.from(c),[""],s,a,()=>hk(e,n,r))}function Om(t,e,n,r,s){for(;n;)n=fk(t,e,n,r,s);return n}function hk(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return kt(s)&&Ue(n)?n:s||{}}function pk(t,e,n,r){let s;for(const a of e)if(s=sy(ak(a,t),n),typeof s<"u")return zd(t,s)?Id(n,r,t,s):s}function sy(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Fm(t){let e=t._keys;return e||(e=t._keys=mk(t._scopes)),e}function mk(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const gk=Number.EPSILON||1e-14,Ss=(t,e)=>e<t.length&&!t[e].skip&&t[e],oy=t=>t==="x"?"y":"x";function yk(t,e,n,r){const s=t.skip?e:t,a=e,l=n.skip?e:n,c=cd(a,s),d=cd(l,a);let f=c/(c+d),p=d/(c+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const g=r*f,v=r*p;return{previous:{x:a.x-g*(l.x-s.x),y:a.y-g*(l.y-s.y)},next:{x:a.x+v*(l.x-s.x),y:a.y+v*(l.y-s.y)}}}function vk(t,e,n){const r=t.length;let s,a,l,c,d,f=Ss(t,0);for(let p=0;p<r-1;++p)if(d=f,f=Ss(t,p+1),!(!d||!f)){if(Co(e[p],0,gk)){n[p]=n[p+1]=0;continue}s=n[p]/e[p],a=n[p+1]/e[p],c=Math.pow(s,2)+Math.pow(a,2),!(c<=9)&&(l=3/Math.sqrt(c),n[p]=s*l*e[p],n[p+1]=a*l*e[p])}}function xk(t,e,n="x"){const r=oy(n),s=t.length;let a,l,c,d=Ss(t,0);for(let f=0;f<s;++f){if(l=c,c=d,d=Ss(t,f+1),!c)continue;const p=c[n],g=c[r];l&&(a=(p-l[n])/3,c[`cp1${n}`]=p-a,c[`cp1${r}`]=g-a*e[f]),d&&(a=(d[n]-p)/3,c[`cp2${n}`]=p+a,c[`cp2${r}`]=g+a*e[f])}}function bk(t,e="x"){const n=oy(e),r=t.length,s=Array(r).fill(0),a=Array(r);let l,c,d,f=Ss(t,0);for(l=0;l<r;++l)if(c=d,d=f,f=Ss(t,l+1),!!d){if(f){const p=f[e]-d[e];s[l]=p!==0?(f[n]-d[n])/p:0}a[l]=c?f?tr(s[l-1])!==tr(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}vk(t,s,a),xk(t,a,e)}function el(t,e,n){return Math.max(Math.min(t,n),e)}function wk(t,e){let n,r,s,a,l,c=Fo(t[0],e);for(n=0,r=t.length;n<r;++n)l=a,a=c,c=n<r-1&&Fo(t[n+1],e),a&&(s=t[n],l&&(s.cp1x=el(s.cp1x,e.left,e.right),s.cp1y=el(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=el(s.cp2x,e.left,e.right),s.cp2y=el(s.cp2y,e.top,e.bottom)))}function Sk(t,e,n,r,s){let a,l,c,d;if(e.spanGaps&&(t=t.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")bk(t,s);else{let f=r?t[t.length-1]:t[0];for(a=0,l=t.length;a<l;++a)c=t[a],d=yk(f,c,t[Math.min(a+1,l-(r?0:1))%l],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,f=c}e.capBezierPoints&&wk(t,n)}function Bd(){return typeof window<"u"&&typeof document<"u"}function Ud(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Cl(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Ol=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function _k(t,e){return Ol(t).getPropertyValue(e)}const kk=["top","right","bottom","left"];function Ai(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=kk[s];r[a]=parseFloat(t[e+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Ck=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Mk(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:a}=r;let l=!1,c,d;if(Ck(s,a,t.target))c=s,d=a;else{const f=e.getBoundingClientRect();c=r.clientX-f.left,d=r.clientY-f.top,l=!0}return{x:c,y:d,box:l}}function Pi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Ol(n),a=s.boxSizing==="border-box",l=Ai(s,"padding"),c=Ai(s,"border","width"),{x:d,y:f,box:p}=Mk(t,n),g=l.left+(p&&c.left),v=l.top+(p&&c.top);let{width:x,height:b}=e;return a&&(x-=l.width+c.width,b-=l.height+c.height),{x:Math.round((d-g)/x*n.width/r),y:Math.round((f-v)/b*n.height/r)}}function Ek(t,e,n){let r,s;if(e===void 0||n===void 0){const a=t&&Ud(t);if(!a)e=t.clientWidth,n=t.clientHeight;else{const l=a.getBoundingClientRect(),c=Ol(a),d=Ai(c,"border","width"),f=Ai(c,"padding");e=l.width-f.width-d.width,n=l.height-f.height-d.height,r=Cl(c.maxWidth,a,"clientWidth"),s=Cl(c.maxHeight,a,"clientHeight")}}return{width:e,height:n,maxWidth:r||Sl,maxHeight:s||Sl}}const ei=t=>Math.round(t*10)/10;function Rk(t,e,n,r){const s=Ol(t),a=Ai(s,"margin"),l=Cl(s.maxWidth,t,"clientWidth")||Sl,c=Cl(s.maxHeight,t,"clientHeight")||Sl,d=Ek(t,e,n);let{width:f,height:p}=d;if(s.boxSizing==="content-box"){const v=Ai(s,"border","width"),x=Ai(s,"padding");f-=x.width+v.width,p-=x.height+v.height}return f=Math.max(0,f-a.width),p=Math.max(0,r?f/r:p-a.height),f=ei(Math.min(f,l,d.maxWidth)),p=ei(Math.min(p,c,d.maxHeight)),f&&!p&&(p=ei(f/2)),(e!==void 0||n!==void 0)&&r&&d.height&&p>d.height&&(p=d.height,f=ei(Math.floor(p*r))),{width:f,height:p}}function jm(t,e,n){const r=e||1,s=ei(t.height*r),a=ei(t.width*r);t.height=ei(t.height),t.width=ei(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||l.height!==s||l.width!==a?(t.currentDevicePixelRatio=r,l.height=s,l.width=a,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Pk=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Bd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function zm(t,e){const n=_k(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Di(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Dk(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Tk(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},l=Di(t,s,n),c=Di(s,a,n),d=Di(a,e,n),f=Di(l,c,n),p=Di(c,d,n);return Di(f,p,n)}const Nk=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Ak=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function xs(t,e,n){return t?Nk(e,n):Ak()}function ay(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function ly(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function cy(t){return t==="angle"?{between:Oo,compare:N_,normalize:yn}:{between:kr,compare:(e,n)=>e-n,normalize:e=>e}}function Im({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function Lk(t,e,n){const{property:r,start:s,end:a}=n,{between:l,normalize:c}=cy(r),d=e.length;let{start:f,end:p,loop:g}=t,v,x;if(g){for(f+=d,p+=d,v=0,x=d;v<x&&l(c(e[f%d][r]),s,a);++v)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:g,style:t.style}}function uy(t,e,n){if(!n)return[t];const{property:r,start:s,end:a}=n,l=e.length,{compare:c,between:d,normalize:f}=cy(r),{start:p,end:g,loop:v,style:x}=Lk(t,e,n),b=[];let w=!1,_=null,k,R,M;const A=()=>d(s,M,k)&&c(s,M)!==0,N=()=>c(a,k)===0||d(a,M,k),z=()=>w||A(),E=()=>!w||N();for(let L=p,W=p;L<=g;++L)R=e[L%l],!R.skip&&(k=f(R[r]),k!==M&&(w=d(k,s,a),_===null&&z()&&(_=c(k,s)===0?L:W),_!==null&&E()&&(b.push(Im({start:_,end:L,loop:v,count:l,style:x})),_=null),W=L,M=k));return _!==null&&b.push(Im({start:_,end:g,loop:v,count:l,style:x})),b}function dy(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const a=uy(r[s],t.points,e);a.length&&n.push(...a)}return n}function Ok(t,e,n,r){let s=0,a=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(a+=s);a>s&&t[a%e].skip;)a--;return a%=e,{start:s,end:a}}function Fk(t,e,n,r){const s=t.length,a=[];let l=e,c=t[e],d;for(d=e+1;d<=n;++d){const f=t[d%s];f.skip||f.stop?c.skip||(r=!1,a.push({start:e%s,end:(d-1)%s,loop:r}),e=l=f.stop?d:null):(l=d,c.skip&&(e=d)),c=f}return l!==null&&a.push({start:e%s,end:l%s,loop:r}),a}function jk(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const a=!!t._loop,{start:l,end:c}=Ok(n,s,a,r);if(r===!0)return Bm(t,[{start:l,end:c,loop:a}],n,e);const d=c<l?c+s:c,f=!!t._fullLoop&&l===0&&c===s-1;return Bm(t,Fk(n,l,d,f),n,e)}function Bm(t,e,n,r){return!r||!r.setContext||!n?e:zk(t,e,n,r)}function zk(t,e,n,r){const s=t._chart.getContext(),a=Um(t.options),{_datasetIndex:l,options:{spanGaps:c}}=t,d=n.length,f=[];let p=a,g=e[0].start,v=g;function x(b,w,_,k){const R=c?-1:1;if(b!==w){for(b+=d;n[b%d].skip;)b-=R;for(;n[w%d].skip;)w+=R;b%d!==w%d&&(f.push({start:b%d,end:w%d,loop:_,style:k}),p=k,g=w%d)}}for(const b of e){g=c?g:b.start;let w=n[g%d],_;for(v=g+1;v<=b.end;v++){const k=n[v%d];_=Um(r.setContext(Bi(s,{type:"segment",p0:w,p1:k,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:l}))),Ik(_,p)&&x(g,v-1,b.loop,p),w=k,p=_}g<v-1&&x(g,v-1,b.loop,p)}return f}function Um(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ik(t,e){if(!e)return!1;const n=[],r=function(s,a){return Ld(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function tl(t,e,n){return t.options.clip?t[n]:e[n]}function Bk(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:tl(n,e,"left"),right:tl(n,e,"right"),top:tl(r,e,"top"),bottom:tl(r,e,"bottom")}:e}function fy(t,e){const n=e._clip;if(n.disabled)return!1;const r=Bk(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}class Uk{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const a=n.listeners[s],l=n.duration;a.forEach(c=>c({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(r-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=K0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,c=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),c=!0):(a[l]=a[a.length-1],a.pop());c&&(s.draw(),this._notify(s,r,e,"progress")),a.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=a.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xr=new Uk;const $m="transparent",$k={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Tm(t||$m),s=r.valid&&Tm(e||$m);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Hk{constructor(e,n,r,s){const a=n[r];s=Za([e.to,s,a,e.from]);const l=Za([e.from,a,s]);this._active=!0,this._fn=e.fn||$k[e.type||typeof l],this._easing=Mo[e.easing]||Mo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Za([e.to,n,s,e.from]),this._from=Za([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,a=this._from,l=this._loop,c=this._to;let d;if(this._active=a!==c&&(l||n<r),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=a;return}d=n/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(a,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class hy{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ue(e))return;const n=Object.keys(vt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!Ue(a))return;const l={};for(const c of n)l[c]=a[c];(kt(a.properties)&&a.properties||[s]).forEach(c=>{(c===s||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,n){const r=n.options,s=Vk(e,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&Wk(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,n){const r=this._properties,s=[],a=e.$animations||(e.$animations={}),l=Object.keys(n),c=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,n));continue}const p=n[f];let g=a[f];const v=r.get(f);if(g)if(v&&g.active()){g.update(v,p,c);continue}else g.cancel();if(!v||!v.duration){e[f]=p;continue}a[f]=g=new Hk(v,e,f,p),s.push(g)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return xr.add(this._chart,r),!0}}function Wk(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const a=t[r[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function Vk(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Hm(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,a=n.max===void 0?e:0;return{start:r?a:s,end:r?s:a}}function Yk(t,e,n){if(n===!1)return!1;const r=Hm(t,n),s=Hm(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function Gk(t){let e,n,r,s;return Ue(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function py(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=r.length;s<a;++s)n.push(r[s].index);return n}function Wm(t,e,n,r={}){const s=t.keys,a=r.mode==="single";let l,c,d,f;if(e===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(d=+s[l],d===n){if(p=!0,r.all)continue;break}f=t.values[d],Ut(f)&&(a||e===0||tr(e)===tr(f))&&(e+=f)}return!p&&!r.all?0:e}function Xk(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(t),c=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],c[d]={[s]:p,[a]:t[p]};return c}function Uu(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function qk(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Kk(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function Qk(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Vm(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const a=t[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function Ym(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:a,vScale:l,index:c}=r,d=a.axis,f=l.axis,p=qk(a,l,r),g=e.length;let v;for(let x=0;x<g;++x){const b=e[x],{[d]:w,[f]:_}=b,k=b._stacks||(b._stacks={});v=k[f]=Qk(s,p,w),v[c]=_,v._top=Vm(v,l,!0,r.type),v._bottom=Vm(v,l,!1,r.type);const R=v._visualValues||(v._visualValues={});R[c]=_}}function $u(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Jk(t,e){return Bi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Zk(t,e,n){return Bi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function lo(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const a=s._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const Hu=t=>t==="reset"||t==="none",Gm=(t,e)=>e?t:Object.assign({},t),e2=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:py(n,!0),values:null};class Fl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Uu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&lo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(g,v,x,b)=>g==="x"?v:g==="r"?b:x,a=n.xAxisID=Fe(r.xAxisID,$u(e,"x")),l=n.yAxisID=Fe(r.yAxisID,$u(e,"y")),c=n.rAxisID=Fe(r.rAxisID,$u(e,"r")),d=n.indexAxis,f=n.iAxisID=s(d,a,l,c),p=n.vAxisID=s(d,l,a,c);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Rm(this._data,this),e._stacked&&lo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ue(n)){const s=this._cachedMeta;this._data=Xk(n,s)}else if(r!==n){if(r){Rm(r,this);const s=this._cachedMeta;lo(s),s._parsed=[]}n&&Object.isExtensible(n)&&F_(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Uu(n.vScale,n),n.stack!==r.stack&&(s=!0,lo(n),n.stack=r.stack),this._resyncElements(e),(s||a!==n._stacked)&&(Ym(this,n._parsed),n._stacked=Uu(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:l}=r,c=a.axis;let d=e===0&&n===s.length?!0:r._sorted,f=e>0&&r._parsed[e-1],p,g,v;if(this._parsing===!1)r._parsed=s,r._sorted=!0,v=s;else{kt(s[e])?v=this.parseArrayData(r,s,e,n):Ue(s[e])?v=this.parseObjectData(r,s,e,n):v=this.parsePrimitiveData(r,s,e,n);const x=()=>g[c]===null||f&&g[c]<f[c];for(p=0;p<n;++p)r._parsed[p+e]=g=v[p],d&&(x()&&(d=!1),f=g);r._sorted=d}l&&Ym(this,v)}parsePrimitiveData(e,n,r,s){const{iScale:a,vScale:l}=e,c=a.axis,d=l.axis,f=a.getLabels(),p=a===l,g=new Array(s);let v,x,b;for(v=0,x=s;v<x;++v)b=v+r,g[v]={[c]:p||a.parse(f[b],b),[d]:l.parse(n[b],b)};return g}parseArrayData(e,n,r,s){const{xScale:a,yScale:l}=e,c=new Array(s);let d,f,p,g;for(d=0,f=s;d<f;++d)p=d+r,g=n[p],c[d]={x:a.parse(g[0],p),y:l.parse(g[1],p)};return c}parseObjectData(e,n,r,s){const{xScale:a,yScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,f=new Array(s);let p,g,v,x;for(p=0,g=s;p<g;++p)v=p+r,x=n[v],f[p]={x:a.parse(Oi(x,c),v),y:l.parse(Oi(x,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,a=this._cachedMeta,l=n[e.axis],c={keys:py(s,!0),values:n._stacks[e.axis]._visualValues};return Wm(c,l,a.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const a=r[n.axis];let l=a===null?NaN:a;const c=s&&r._stacks[n.axis];s&&c&&(s.values=c,l=Wm(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,l=s.length,c=this._getOtherScale(e),d=e2(n,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=Kk(c);let v,x;function b(){x=s[v];const w=x[c.axis];return!Ut(x[e.axis])||p>w||g<w}for(v=0;v<l&&!(!b()&&(this.updateRangeFromParsed(f,e,x,d),a));++v);if(a){for(v=l-1;v>=0;--v)if(!b()){this.updateRangeFromParsed(f,e,x,d);break}}return f}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,a,l;for(s=0,a=n.length;s<a;++s)l=n[s][e.axis],Ut(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Gk(Fe(this.options.clip,Yk(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],a=n.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(r.dataset&&r.dataset.draw(e,a,c,d),p=c;p<c+d;++p){const g=s[p];g.hidden||(g.active&&f?l.push(g):g.draw(e,a))}for(p=0;p<l.length;++p)l[p].draw(e,a)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=Zk(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=Jk(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",a=this._cachedDataOpts,l=e+"-"+n,c=a[l],d=this.enableOptionSharing&&Ao(r);if(c)return Gm(c,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),g=s?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),p),x=Object.keys(vt.elements[e]),b=()=>this.getContext(r,s,n),w=f.resolveNamedOptions(v,x,b,g);return w.$shared&&(w.$shared=d,a[l]=Object.freeze(Gm(w,d))),w}_resolveAnimations(e,n,r){const s=this.chart,a=this._cachedDataOpts,l=`animation-${n}`,c=a[l];if(c)return c;let d;if(s.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),v=p.getOptionScopes(this.getDataset(),g);d=p.createResolver(v,this.getContext(e,r,n))}const f=new hy(s,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Hu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:l}}updateElement(e,n,r,s){Hu(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Hu(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[c,d,f]of this._syncList)this[c](d,f);this._syncList=[];const s=r.length,a=n.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,n,r=!0){const s=this._cachedMeta,a=s.data,l=e+n;let c;const d=f=>{for(f.length+=n,c=f.length-1;c>=l;c--)f[c]=f[c-n]};for(d(a),c=e;c<l;++c)a[c]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(e,n),r&&this.updateElements(a,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&lo(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function t2(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,a=n.length;s<a;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=q0(r.sort((s,a)=>s-a))}return t._cache.$bar}function n2(t){const e=t.iScale,n=t2(e,t.type);let r=e._length,s,a,l,c;const d=()=>{l===32767||l===-32768||(Ao(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(s=0,a=n.length;s<a;++s)l=e.getPixelForValue(n[s]),d();for(c=void 0,s=0,a=e.ticks.length;s<a;++s)l=e.getPixelForTick(s),d();return r}function r2(t,e,n,r){const s=n.barThickness;let a,l;return Qe(s)?(a=e.min*n.categoryPercentage,l=n.barPercentage):(a=s*r,l=1),{chunk:a/r,ratio:l,start:e.pixels[t]-a/2}}function i2(t,e,n,r){const s=e.pixels,a=s[t];let l=t>0?s[t-1]:null,c=t<s.length-1?s[t+1]:null;const d=n.categoryPercentage;l===null&&(l=a-(c===null?e.end-e.start:c-a)),c===null&&(c=a+a-l);const f=a-(a-Math.min(l,c))/2*d;return{chunk:Math.abs(c-l)/2*d/r,ratio:n.barPercentage,start:f}}function s2(t,e,n,r){const s=n.parse(t[0],r),a=n.parse(t[1],r),l=Math.min(s,a),c=Math.max(s,a);let d=l,f=c;Math.abs(l)>Math.abs(c)&&(d=c,f=l),e[n.axis]=f,e._custom={barStart:d,barEnd:f,start:s,end:a,min:l,max:c}}function my(t,e,n,r){return kt(t)?s2(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Xm(t,e,n,r){const s=t.iScale,a=t.vScale,l=s.getLabels(),c=s===a,d=[];let f,p,g,v;for(f=n,p=n+r;f<p;++f)v=e[f],g={},g[s.axis]=c||s.parse(l[f],f),d.push(my(v,g,a,f));return d}function Wu(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function o2(t,e,n){return t!==0?tr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function a2(t){let e,n,r,s,a;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",a="start"):(s="start",a="end"),{start:n,end:r,reverse:e,top:s,bottom:a}}function l2(t,e,n,r){let s=e.borderSkipped;const a={};if(!s){t.borderSkipped=a;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:d,top:f,bottom:p}=a2(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=f:(n._bottom||0)===r?s=p:(a[qm(p,l,c,d)]=!0,s=f)),a[qm(s,l,c,d)]=!0,t.borderSkipped=a}function qm(t,e,n,r){return r?(t=c2(t,e,n),t=Km(t,n,e)):t=Km(t,e,n),t}function c2(t,e,n){return t===e?n:t===n?e:t}function Km(t,e,n){return t==="start"?e:t==="end"?n:t}function u2(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class d2 extends Fl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,s){return Xm(e,n,r,s)}parseArrayData(e,n,r,s){return Xm(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:a,vScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,f=a.axis==="x"?c:d,p=l.axis==="x"?c:d,g=[];let v,x,b,w;for(v=r,x=r+s;v<x;++v)w=n[v],b={},b[a.axis]=a.parse(Oi(w,f),v),g.push(my(Oi(w,p),b,l,v));return g}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const a=r._custom;a&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,a=this.getParsed(e),l=a._custom,c=Wu(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const a=s==="reset",{index:l,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),f=c.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:v}=this._getSharedOptions(n,s);for(let x=n;x<n+r;x++){const b=this.getParsed(x),w=a||Qe(b[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(x),_=this._calculateBarIndexPixels(x,p),k=(b._stacks||{})[c.axis],R={horizontal:f,base:w.base,enableBorderRadius:!k||Wu(b._custom)||l===k._top||l===k._bottom,x:f?w.head:_.center,y:f?_.center:w.head,height:f?_.size:Math.abs(w.size),width:f?Math.abs(w.size):_.size};v&&(R.options=g||this.resolveDataElementOptions(x,e[x].active?"active":s));const M=R.options||e[x].options;l2(R,M,k,l),u2(R,M,p.ratio),this.updateElement(e[x],x,R,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(n),d=c&&c[r.axis],f=p=>{const g=p._parsed.find(x=>x[r.axis]===d),v=g&&g[p.vScale.axis];if(Qe(v)||isNaN(v))return!0};for(const p of s)if(!(n!==void 0&&f(p))&&((a===!1||l.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Fe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),a=n!==void 0?s.indexOf(n):-1;return a===-1?s.length-1:a}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let a,l;for(a=0,l=n.data.length;a<l;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const c=e.barThickness;return{min:c||n2(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:a,minBarLength:l}}=this,c=a||0,d=this.getParsed(e),f=d._custom,p=Wu(f);let g=d[n.axis],v=0,x=r?this.applyStack(n,d,r):g,b,w;x!==g&&(v=x-g,x=g),p&&(g=f.barStart,x=f.barEnd-f.barStart,g!==0&&tr(g)!==tr(f.barEnd)&&(v=0),v+=g);const _=!Qe(a)&&!p?a:v;let k=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(v+x):b=k,w=b-k,Math.abs(w)<l){w=o2(w,n,c)*l,g===c&&(k-=w/2);const R=n.getPixelForDecimal(0),M=n.getPixelForDecimal(1),A=Math.min(R,M),N=Math.max(R,M);k=Math.max(Math.min(k,N),A),b=k+w,r&&!p&&(d._stacks[n.axis]._visualValues[s]=n.getValueForPixel(b)-n.getValueForPixel(k))}if(k===n.getPixelForValue(c)){const R=tr(w)*n.getLineWidthForValue(c)/2;k+=R,w-=R}return{size:w,base:k,head:b,center:b+w/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,a=s.skipNull,l=Fe(s.maxBarThickness,1/0);let c,d;const f=this._getAxisCount();if(n.grouped){const p=a?this._getStackCount(e):n.stackCount,g=s.barThickness==="flex"?i2(e,n,s,p*f):r2(e,n,s,p*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Fe(v,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+x;c=g.start+g.chunk*b+g.chunk/2,d=Math.min(l,g.chunk*g.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),d=Math.min(l,n.min*n.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}function f2(t,e,n){let r=1,s=1,a=0,l=0;if(e<ft){const c=t,d=c+e,f=Math.cos(c),p=Math.sin(c),g=Math.cos(d),v=Math.sin(d),x=(M,A,N)=>Oo(M,c,d,!0)?1:Math.max(A,A*n,N,N*n),b=(M,A,N)=>Oo(M,c,d,!0)?-1:Math.min(A,A*n,N,N*n),w=x(0,f,g),_=x(Ct,p,v),k=b(rt,f,g),R=b(rt+Ct,p,v);r=(w-k)/2,s=(_-R)/2,a=-(w+k)/2,l=-(_+R)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:l}}class h2 extends Fl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((d,f)=>{const g=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:g.backgroundColor,fontColor:a,hidden:!e.getDataVisibility(f),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:s,pointStyle:r,borderRadius:l&&(c||g.borderRadius),index:f}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let a=d=>+r[d];if(Ue(r[e])){const{key:d="value"}=this._parsing;a=f=>+Oi(r[f],d)}let l,c;for(l=e,c=e+n;l<c;++l)s._parsed[l]=a(l)}}_getRotation(){return _r(this.options.rotation-90)}_getCircumference(){return _r(this.options.circumference)}_getRotationExtents(){let e=ft,n=-ft;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),l=s._getCircumference();e=Math.min(e,a),n=Math.max(n,a+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),d=Math.min(x_(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:v,ratioY:x,offsetX:b,offsetY:w}=f2(g,p,d),_=(r.width-l)/v,k=(r.height-l)/x,R=Math.max(Math.min(_,k)/2,0),M=W0(this.options.radius,R),A=Math.max(M*d,0),N=(M-A)/this._getVisibleDatasetWeightTotal();this.offsetX=b*M,this.offsetY=w*M,s.total=this.calculateTotal(),this.outerRadius=M-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*f,0),this.updateElements(a,0,a.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/ft)}updateElements(e,n,r,s){const a=s==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,p=(c.left+c.right)/2,g=(c.top+c.bottom)/2,v=a&&f.animateScale,x=v?0:this.innerRadius,b=v?0:this.outerRadius,{sharedOptions:w,includeOptions:_}=this._getSharedOptions(n,s);let k=this._getRotation(),R;for(R=0;R<n;++R)k+=this._circumference(R,a);for(R=n;R<n+r;++R){const M=this._circumference(R,a),A=e[R],N={x:p+this.offsetX,y:g+this.offsetY,startAngle:k,endAngle:k+M,circumference:M,outerRadius:b,innerRadius:x};_&&(N.options=w||this.resolveDataElementOptions(R,A.active?"active":s)),k+=M,this.updateElement(A,R,N,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const a=e._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ft*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=Od(n._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,a,l,c,d;if(!e){for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),e=l.data,c=l.controller;break}}if(!e)return 0;for(s=0,a=e.length;s<a;++s)d=c.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(n=Math.max(n,d.borderWidth||0,d.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Fe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class p2 extends Fl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=n,l=this.chart._animationsDisabled;let{start:c,count:d}=I_(n,s,l);this._drawStart=c,this._drawCount=d,B_(n)&&(c=0,d=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:f},e),this.updateElements(s,c,d,e)}updateElements(e,n,r,s){const a=s==="reset",{iScale:l,vScale:c,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,s),v=l.axis,x=c.axis,{spanGaps:b,segment:w}=this.options,_=Lo(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||a||s==="none",R=n+r,M=e.length;let A=n>0&&this.getParsed(n-1);for(let N=0;N<M;++N){const z=e[N],E=k?z:{};if(N<n||N>=R){E.skip=!0;continue}const L=this.getParsed(N),W=Qe(L[x]),X=E[v]=l.getPixelForValue(L[v],N),q=E[x]=a||W?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,L,d):L[x],N);E.skip=isNaN(X)||isNaN(q)||W,E.stop=N>0&&Math.abs(L[v]-A[v])>_,w&&(E.parsed=L,E.raw=f.data[N]),g&&(E.options=p||this.resolveDataElementOptions(N,z.active?"active":s)),k||this.updateElement(z,N,E,s),A=L}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Ri(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class $d{static override(e){Object.assign($d.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ri()}parse(){return Ri()}format(){return Ri()}add(){return Ri()}diff(){return Ri()}startOf(){return Ri()}endOf(){return Ri()}}var m2={_date:$d};function g2(t,e,n,r){const{controller:s,data:a,_sorted:l}=t,c=s._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&a.length){const f=c._reversePixels?L_:Ni;if(r){if(s._sharedOptions){const p=a[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const v=f(a,e,n-g),x=f(a,e,n+g);return{lo:v.lo,hi:x.hi}}}}else{const p=f(a,e,n);if(d){const{vScale:g}=s._cachedMeta,{_parsed:v}=t,x=v.slice(0,p.lo+1).reverse().findIndex(w=>!Qe(w[g.axis]));p.lo-=Math.max(0,x);const b=v.slice(p.hi).findIndex(w=>!Qe(w[g.axis]));p.hi+=Math.max(0,b)}return p}}return{lo:0,hi:a.length-1}}function jl(t,e,n,r,s){const a=t.getSortedVisibleDatasetMetas(),l=n[e];for(let c=0,d=a.length;c<d;++c){const{index:f,data:p}=a[c],{lo:g,hi:v}=g2(a[c],e,l,s);for(let x=g;x<=v;++x){const b=p[x];b.skip||r(b,f,x)}}}function y2(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const a=e?Math.abs(r.x-s.x):0,l=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Vu(t,e,n,r,s){const a=[];return!s&&!t.isPointInArea(e)||jl(t,n,e,function(c,d,f){!s&&!Fo(c,t.chartArea,0)||c.inRange(e.x,e.y,r)&&a.push({element:c,datasetIndex:d,index:f})},!0),a}function v2(t,e,n,r){let s=[];function a(l,c,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],r),{angle:g}=G0(l,{x:e.x,y:e.y});Oo(g,f,p)&&s.push({element:l,datasetIndex:c,index:d})}return jl(t,n,e,a),s}function x2(t,e,n,r,s,a){let l=[];const c=y2(n);let d=Number.POSITIVE_INFINITY;function f(p,g,v){const x=p.inRange(e.x,e.y,s);if(r&&!x)return;const b=p.getCenterPoint(s);if(!(!!a||t.isPointInArea(b))&&!x)return;const _=c(e,b);_<d?(l=[{element:p,datasetIndex:g,index:v}],d=_):_===d&&l.push({element:p,datasetIndex:g,index:v})}return jl(t,n,e,f),l}function Yu(t,e,n,r,s,a){return!a&&!t.isPointInArea(e)?[]:n==="r"&&!r?v2(t,e,n,s):x2(t,e,n,r,s,a)}function Qm(t,e,n,r,s){const a=[],l=n==="x"?"inXRange":"inYRange";let c=!1;return jl(t,n,e,(d,f,p)=>{d[l]&&d[l](e[n],s)&&(a.push({element:d,datasetIndex:f,index:p}),c=c||d.inRange(e.x,e.y,s))}),r&&!c?[]:a}var b2={modes:{index(t,e,n,r){const s=Pi(e,t),a=n.axis||"x",l=n.includeInvisible||!1,c=n.intersect?Vu(t,s,a,r,l):Yu(t,s,a,!1,r,l),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,g=f.data[p];g&&!g.skip&&d.push({element:g,datasetIndex:f.index,index:p})}),d):[]},dataset(t,e,n,r){const s=Pi(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;let c=n.intersect?Vu(t,s,a,r,l):Yu(t,s,a,!1,r,l);if(c.length>0){const d=c[0].datasetIndex,f=t.getDatasetMeta(d).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:d,index:p})}return c},point(t,e,n,r){const s=Pi(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Vu(t,s,a,r,l)},nearest(t,e,n,r){const s=Pi(e,t),a=n.axis||"xy",l=n.includeInvisible||!1;return Yu(t,s,a,n.intersect,r,l)},x(t,e,n,r){const s=Pi(e,t);return Qm(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Pi(e,t);return Qm(t,s,"y",n.intersect,r)}}};const gy=["left","top","right","bottom"];function co(t,e){return t.filter(n=>n.pos===e)}function Jm(t,e){return t.filter(n=>gy.indexOf(n.pos)===-1&&n.box.axis===e)}function uo(t,e){return t.sort((n,r)=>{const s=e?r:n,a=e?n:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function w2(t){const e=[];let n,r,s,a,l,c;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:a,options:{stack:l,stackWeight:c=1}}=s,e.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&a+l,stackWeight:c});return e}function S2(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:a}=n;if(!r||!gy.includes(s))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function _2(t,e){const n=S2(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let a,l,c;for(a=0,l=t.length;a<l;++a){c=t[a];const{fullSize:d}=c.box,f=n[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*r:d&&e.availableWidth,c.height=s):(c.width=r,c.height=p?p*s:d&&e.availableHeight)}return n}function k2(t){const e=w2(t),n=uo(e.filter(f=>f.box.fullSize),!0),r=uo(co(e,"left"),!0),s=uo(co(e,"right")),a=uo(co(e,"top"),!0),l=uo(co(e,"bottom")),c=Jm(e,"x"),d=Jm(e,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:s.concat(d).concat(l).concat(c),chartArea:co(e,"chartArea"),vertical:r.concat(s).concat(d),horizontal:a.concat(l).concat(c)}}function Zm(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function yy(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function C2(t,e,n,r){const{pos:s,box:a}=n,l=t.maxPadding;if(!Ue(s)){n.size&&(t[s]-=n.size);const g=r[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?a.height:a.width),n.size=g.size/g.count,t[s]+=n.size}a.getPadding&&yy(l,a.getPadding());const c=Math.max(0,e.outerWidth-Zm(l,t,"left","right")),d=Math.max(0,e.outerHeight-Zm(l,t,"top","bottom")),f=c!==t.w,p=d!==t.h;return t.w=c,t.h=d,n.horizontal?{same:f,other:p}:{same:p,other:f}}function M2(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function E2(t,e){const n=e.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{a[l]=Math.max(e[l],n[l])}),a}return r(t?["left","right"]:["top","bottom"])}function xo(t,e,n,r){const s=[];let a,l,c,d,f,p;for(a=0,l=t.length,f=0;a<l;++a){c=t[a],d=c.box,d.update(c.width||e.w,c.height||e.h,E2(c.horizontal,e));const{same:g,other:v}=C2(e,n,c,r);f|=g&&s.length,p=p||v,d.fullSize||s.push(c)}return f&&xo(s,e,n,r)||p}function nl(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function eg(t,e,n,r){const s=n.padding;let{x:a,y:l}=e;for(const c of t){const d=c.box,f=r[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const g=e.w*p,v=f.size||d.height;Ao(f.start)&&(l=f.start),d.fullSize?nl(d,s.left,l,n.outerWidth-s.right-s.left,v):nl(d,e.left+f.placed,l,g,v),f.start=l,f.placed+=g,l=d.bottom}else{const g=e.h*p,v=f.size||d.width;Ao(f.start)&&(a=f.start),d.fullSize?nl(d,a,s.top,v,n.outerHeight-s.bottom-s.top):nl(d,a,e.top+f.placed,v,g),f.start=a,f.placed+=g,a=d.right}}e.x=a,e.y=l}var ti={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=$n(t.options.layout.padding),a=Math.max(e-s.width,0),l=Math.max(n-s.height,0),c=k2(t.boxes),d=c.vertical,f=c.horizontal;et(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=d.reduce((w,_)=>_.box.options&&_.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},s);yy(v,$n(r));const x=Object.assign({maxPadding:v,w:a,h:l,x:s.left,y:s.top},s),b=_2(d.concat(f),g);xo(c.fullSize,x,g,b),xo(d,x,g,b),xo(f,x,g,b)&&xo(d,x,g,b),M2(x),eg(c.leftAndTop,x,g,b),x.x+=x.w,x.y+=x.h,eg(c.rightAndBottom,x,g,b),t.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},et(c.chartArea,w=>{const _=w.box;Object.assign(_,t.chartArea),_.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class vy{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class R2 extends vy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ml="$chartjs",P2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tg=t=>t===null||t==="";function D2(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[ml]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",tg(s)){const a=zm(t,"width");a!==void 0&&(t.width=a)}if(tg(r))if(t.style.height==="")t.height=t.width/(e||2);else{const a=zm(t,"height");a!==void 0&&(t.height=a)}return t}const xy=Pk?{passive:!0}:!1;function T2(t,e,n){t&&t.addEventListener(e,n,xy)}function N2(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,xy)}function A2(t,e){const n=P2[t.type]||t.type,{x:r,y:s}=Pi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function Ml(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function L2(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ml(c.addedNodes,r),l=l&&!Ml(c.removedNodes,r);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function O2(t,e,n){const r=t.canvas,s=new MutationObserver(a=>{let l=!1;for(const c of a)l=l||Ml(c.removedNodes,r),l=l&&!Ml(c.addedNodes,r);l&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const jo=new Map;let ng=0;function by(){const t=window.devicePixelRatio;t!==ng&&(ng=t,jo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function F2(t,e){jo.size||window.addEventListener("resize",by),jo.set(t,e)}function j2(t){jo.delete(t),jo.size||window.removeEventListener("resize",by)}function z2(t,e,n){const r=t.canvas,s=r&&Ud(r);if(!s)return;const a=Q0((c,d)=>{const f=s.clientWidth;n(c,d),f<s.clientWidth&&n()},window),l=new ResizeObserver(c=>{const d=c[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||a(f,p)});return l.observe(s),F2(t,a),l}function Gu(t,e,n){n&&n.disconnect(),e==="resize"&&j2(t)}function I2(t,e,n){const r=t.canvas,s=Q0(a=>{t.ctx!==null&&n(A2(a,t))},t);return T2(r,e,s),s}class B2 extends vy{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(D2(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[ml])return!1;const r=n[ml].initial;["height","width"].forEach(a=>{const l=r[a];Qe(l)?n.removeAttribute(a):n.setAttribute(a,l)});const s=r.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[ml],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),l={attach:L2,detach:O2,resize:z2}[n]||I2;s[n]=l(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:Gu,detach:Gu,resize:Gu}[n]||N2)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return Rk(e,n,r,s)}isAttached(e){const n=e&&Ud(e);return!!(n&&n.isConnected)}}function U2(t){return!Bd()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?R2:B2}class oi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Lo(this.x)&&Lo(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}}function $2(t,e){const n=t.options.ticks,r=H2(t),s=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?V2(e):[],l=a.length,c=a[0],d=a[l-1],f=[];if(l>s)return Y2(e,f,a,l/s),f;const p=W2(a,e,s);if(l>0){let g,v;const x=l>1?Math.round((d-c)/(l-1)):null;for(rl(e,f,p,Qe(x)?0:c-x,c),g=0,v=l-1;g<v;g++)rl(e,f,p,a[g],a[g+1]);return rl(e,f,p,d,Qe(x)?e.length:d+x),f}return rl(e,f,p),f}function H2(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function W2(t,e,n){const r=G2(t),s=e.length/n;if(!r)return Math.max(s,1);const a=E_(r);for(let l=0,c=a.length-1;l<c;l++){const d=a[l];if(d>s)return d}return Math.max(s,1)}function V2(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function Y2(t,e,n,r){let s=0,a=n[0],l;for(r=Math.ceil(r),l=0;l<t.length;l++)l===a&&(e.push(t[l]),s++,a=n[s*r])}function rl(t,e,n,r,s){const a=Fe(r,0),l=Math.min(Fe(s,t.length),t.length);let c=0,d,f,p;for(n=Math.ceil(n),s&&(d=s-r,n=d/Math.floor(d/n)),p=a;p<0;)c++,p=Math.round(a+c*n);for(f=Math.max(a,0);f<l;f++)f===p&&(e.push(t[f]),c++,p=Math.round(a+c*n))}function G2(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const X2=t=>t==="left"?"right":t==="right"?"left":t,rg=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,ig=(t,e)=>Math.min(e||t,t);function sg(t,e){const n=[],r=t.length/e,s=t.length;let a=0;for(;a<s;a+=r)n.push(t[Math.floor(a)]);return n}function q2(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),a=t._startPixel,l=t._endPixel,c=1e-6;let d=t.getPixelForTick(s),f;if(!(n&&(r===1?f=Math.max(d-a,l-d):e===0?f=(t.getPixelForTick(1)-d)/2:f=(d-t.getPixelForTick(s-1))/2,d+=s<e?f:-f,d<a-c||d>l+c)))return d}function K2(t,e){et(t,n=>{const r=n.gc,s=r.length/2;let a;if(s>e){for(a=0;a<s;++a)delete n.data[r[a]];r.splice(0,s)}})}function fo(t){return t.drawTicks?t.tickLength:0}function og(t,e){if(!t.display)return 0;const n=an(t.font,e),r=$n(t.padding);return(kt(t.text)?t.text.length:1)*n.lineHeight+r.height}function Q2(t,e){return Bi(t,{scale:e,type:"scale"})}function J2(t,e,n){return Bi(t,{tick:n,index:e,type:"tick"})}function Z2(t,e,n){let r=J0(t);return(n&&e!=="right"||!n&&e==="right")&&(r=X2(r)),r}function eC(t,e,n,r){const{top:s,left:a,bottom:l,right:c,chart:d}=t,{chartArea:f,scales:p}=d;let g=0,v,x,b;const w=l-s,_=c-a;if(t.isHorizontal()){if(x=mn(r,a,c),Ue(n)){const k=Object.keys(n)[0],R=n[k];b=p[k].getPixelForValue(R)+w-e}else n==="center"?b=(f.bottom+f.top)/2+w-e:b=rg(t,n,e);v=c-a}else{if(Ue(n)){const k=Object.keys(n)[0],R=n[k];x=p[k].getPixelForValue(R)-_+e}else n==="center"?x=(f.left+f.right)/2-_+e:x=rg(t,n,e);b=mn(r,l,s),g=n==="left"?-Ct:Ct}return{titleX:x,titleY:b,maxWidth:v,rotation:g}}class ks extends oi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=Kn(e,Number.POSITIVE_INFINITY),n=Kn(n,Number.NEGATIVE_INFINITY),r=Kn(r,Number.POSITIVE_INFINITY),s=Kn(s,Number.NEGATIVE_INFINITY),{min:Kn(e,r),max:Kn(n,s),minDefined:Ut(e),maxDefined:Ut(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),l;if(s&&a)return{min:n,max:r};const c=this.getMatchingVisibleMetas();for(let d=0,f=c.length;d<f;++d)l=c[d].controller.getMinMax(this,e),s||(n=Math.min(n,l.min)),a||(r=Math.max(r,l.max));return n=a&&n>r?r:n,r=s&&n>r?n:r,{min:Kn(n,Kn(r,n)),max:Kn(r,Kn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:a,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ok(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?sg(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=$2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),at(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r],a.label=at(n.callback,[a.value,r,e],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=ig(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let l=s,c,d,f;if(!this._isVisible()||!n.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),g=p.widest.width,v=p.highest.height,x=Bt(this.chart.width-g,0,this.maxWidth);c=e.offset?this.maxWidth/r:x/(r-1),g+6>c&&(c=x/(r-(e.offset?.5:1)),d=this.maxHeight-fo(e.grid)-n.padding-og(e.title,this.chart.options.font),f=Math.sqrt(g*g+v*v),l=T_(Math.min(Math.asin(Bt((p.highest.height+6)/c,-1,1)),Math.asin(Bt(d/f,-1,1))-Math.asin(Bt(v/f,-1,1)))),l=Math.max(s,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:a}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const d=og(s,n.options.font);if(c?(e.width=this.maxWidth,e.height=fo(a)+d):(e.height=this.maxHeight,e.width=fo(a)+d),r.display&&this.ticks.length){const{first:f,last:p,widest:g,highest:v}=this._getLabelSizes(),x=r.padding*2,b=_r(this.labelRotation),w=Math.cos(b),_=Math.sin(b);if(c){const k=r.mirror?0:_*g.width+w*v.height;e.height=Math.min(this.maxHeight,e.height+k+x)}else{const k=r.mirror?0:w*g.width+_*v.height;e.width=Math.min(this.maxWidth,e.width+k+x)}this._calculatePadding(f,p,_,w)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:a,padding:l},position:c}=this.options,d=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,x=0;d?f?(v=s*e.width,x=r*n.height):(v=r*e.height,x=s*n.width):a==="start"?x=n.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,x=n.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-g+l)*this.width/(this.width-g),0)}else{let p=n.height/2,g=e.height/2;a==="start"?(p=0,g=e.height):a==="end"&&(p=n.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Qe(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=sg(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:a}=this,l=[],c=[],d=Math.floor(n/ig(n,r));let f=0,p=0,g,v,x,b,w,_,k,R,M,A,N;for(g=0;g<n;g+=d){if(b=e[g].label,w=this._resolveTickFontOptions(g),s.font=_=w.string,k=a[_]=a[_]||{data:{},gc:[]},R=w.lineHeight,M=A=0,!Qe(b)&&!kt(b))M=Am(s,k.data,k.gc,M,b),A=R;else if(kt(b))for(v=0,x=b.length;v<x;++v)N=b[v],!Qe(N)&&!kt(N)&&(M=Am(s,k.data,k.gc,M,N),A+=R);l.push(M),c.push(A),f=Math.max(M,f),p=Math.max(A,p)}K2(a,n);const z=l.indexOf(f),E=c.indexOf(p),L=W=>({width:l[W]||0,height:c[W]||0});return{first:L(0),last:L(n-1),widest:L(z),highest:L(E),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return A_(this._alignToPixels?Ei(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=J2(this.getContext(),e,r))}return this.$context||(this.$context=Q2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=_r(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,c=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>c*s?c/r:d/s:d*s<c*r?d/r:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:a,position:l,border:c}=s,d=a.offset,f=this.isHorizontal(),g=this.ticks.length+(d?1:0),v=fo(a),x=[],b=c.setContext(this.getContext()),w=b.display?b.width:0,_=w/2,k=function(ce){return Ei(r,ce,w)};let R,M,A,N,z,E,L,W,X,q,J,ae;if(l==="top")R=k(this.bottom),E=this.bottom-v,W=R-_,q=k(e.top)+_,ae=e.bottom;else if(l==="bottom")R=k(this.top),q=e.top,ae=k(e.bottom)-_,E=R+_,W=this.top+v;else if(l==="left")R=k(this.right),z=this.right-v,L=R-_,X=k(e.left)+_,J=e.right;else if(l==="right")R=k(this.left),X=e.left,J=k(e.right)-_,z=R+_,L=this.left+v;else if(n==="x"){if(l==="center")R=k((e.top+e.bottom)/2+.5);else if(Ue(l)){const ce=Object.keys(l)[0],fe=l[ce];R=k(this.chart.scales[ce].getPixelForValue(fe))}q=e.top,ae=e.bottom,E=R+_,W=E+v}else if(n==="y"){if(l==="center")R=k((e.left+e.right)/2);else if(Ue(l)){const ce=Object.keys(l)[0],fe=l[ce];R=k(this.chart.scales[ce].getPixelForValue(fe))}z=R-_,L=z-v,X=e.left,J=e.right}const Q=Fe(s.ticks.maxTicksLimit,g),re=Math.max(1,Math.ceil(g/Q));for(M=0;M<g;M+=re){const ce=this.getContext(M),fe=a.setContext(ce),Y=c.setContext(ce),ne=fe.lineWidth,K=fe.color,F=Y.dash||[],V=Y.dashOffset,de=fe.tickWidth,le=fe.tickColor,ke=fe.tickBorderDash||[],Me=fe.tickBorderDashOffset;A=q2(this,M,d),A!==void 0&&(N=Ei(r,A,ne),f?z=L=X=J=N:E=W=q=ae=N,x.push({tx1:z,ty1:E,tx2:L,ty2:W,x1:X,y1:q,x2:J,y2:ae,width:ne,color:K,borderDash:F,borderDashOffset:V,tickWidth:de,tickColor:le,tickBorderDash:ke,tickBorderDashOffset:Me}))}return this._ticksLength=g,this._borderValue=R,x}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:a}=r,l=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:f,padding:p,mirror:g}=a,v=fo(r.grid),x=v+p,b=g?-p:x,w=-_r(this.labelRotation),_=[];let k,R,M,A,N,z,E,L,W,X,q,J,ae="middle";if(s==="top")z=this.bottom-b,E=this._getXAxisLabelAlignment();else if(s==="bottom")z=this.top+b,E=this._getXAxisLabelAlignment();else if(s==="left"){const re=this._getYAxisLabelAlignment(v);E=re.textAlign,N=re.x}else if(s==="right"){const re=this._getYAxisLabelAlignment(v);E=re.textAlign,N=re.x}else if(n==="x"){if(s==="center")z=(e.top+e.bottom)/2+x;else if(Ue(s)){const re=Object.keys(s)[0],ce=s[re];z=this.chart.scales[re].getPixelForValue(ce)+x}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")N=(e.left+e.right)/2-x;else if(Ue(s)){const re=Object.keys(s)[0],ce=s[re];N=this.chart.scales[re].getPixelForValue(ce)}E=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(d==="start"?ae="top":d==="end"&&(ae="bottom"));const Q=this._getLabelSizes();for(k=0,R=c.length;k<R;++k){M=c[k],A=M.label;const re=a.setContext(this.getContext(k));L=this.getPixelForTick(k)+a.labelOffset,W=this._resolveTickFontOptions(k),X=W.lineHeight,q=kt(A)?A.length:1;const ce=q/2,fe=re.color,Y=re.textStrokeColor,ne=re.textStrokeWidth;let K=E;l?(N=L,E==="inner"&&(k===R-1?K=this.options.reverse?"left":"right":k===0?K=this.options.reverse?"right":"left":K="center"),s==="top"?f==="near"||w!==0?J=-q*X+X/2:f==="center"?J=-Q.highest.height/2-ce*X+X:J=-Q.highest.height+X/2:f==="near"||w!==0?J=X/2:f==="center"?J=Q.highest.height/2-ce*X:J=Q.highest.height-q*X,g&&(J*=-1),w!==0&&!re.showLabelBackdrop&&(N+=X/2*Math.sin(w))):(z=L,J=(1-q)*X/2);let F;if(re.showLabelBackdrop){const V=$n(re.backdropPadding),de=Q.heights[k],le=Q.widths[k];let ke=J-V.top,Me=0-V.left;switch(ae){case"middle":ke-=de/2;break;case"bottom":ke-=de;break}switch(E){case"center":Me-=le/2;break;case"right":Me-=le;break;case"inner":k===R-1?Me-=le:k>0&&(Me-=le/2);break}F={left:Me,top:ke,width:le+V.width,height:de+V.height,color:re.backdropColor}}_.push({label:A,font:W,textOffset:J,options:{rotation:w,color:fe,strokeColor:Y,strokeWidth:ne,textAlign:K,textBaseline:ae,translation:[N,z],backdrop:F}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-_r(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,l=this._getLabelSizes(),c=e+a,d=l.widest.width;let f,p;return n==="left"?s?(p=this.right+a,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-c,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p=this.left)):n==="right"?s?(p=this.left+a,r==="near"?f="right":r==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+c,r==="near"?f="left":r==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:a,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,a,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const c=(d,f,p)=>{!p.width||!p.color||(r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.setLineDash(p.borderDash||[]),r.lineDashOffset=p.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(n.display)for(a=0,l=s.length;a<l;++a){const d=s[a];n.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),n.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,g,v;this.isHorizontal()?(f=Ei(e,this.left,l)-l/2,p=Ei(e,this.right,c)+c/2,g=v=d):(g=Ei(e,this.top,l)-l/2,v=Ei(e,this.bottom,c)+c/2,f=p=d),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,g),n.lineTo(p,v),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&Al(r,s);const a=this.getLabelItems(e);for(const l of a){const c=l.options,d=l.font,f=l.label,p=l.textOffset;_l(r,f,0,p,d,c)}s&&Ll(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const a=an(r.font),l=$n(r.padding),c=r.align;let d=a.lineHeight/2;n==="bottom"||n==="center"||Ue(n)?(d+=l.bottom,kt(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:g,rotation:v}=eC(this,d,n,c);_l(e,r.text,0,0,a,{color:r.color,maxWidth:g,rotation:v,textAlign:Z2(c,n,s),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Fe(e.grid&&e.grid.z,-1),s=Fe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ks.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,l;for(a=0,l=n.length;a<l;++a){const c=n[a];c[r]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return an(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class il{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;rC(n)&&(r=this.register(n));const s=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,tC(e,l,r),this.override&&vt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in vt[s]&&(delete vt[s][r],this.override&&delete Fi[r])}}function tC(t,e,n){const r=No(Object.create(null),[n?vt.get(n):{},vt.get(e),t.defaults]);vt.set(e,r),t.defaultRoutes&&nC(e,t.defaultRoutes),t.descriptors&&vt.describe(e,t.descriptors)}function nC(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),a=[t].concat(r).join("."),l=e[n].split("."),c=l.pop(),d=l.join(".");vt.route(a,s,d,c)})}function rC(t){return"id"in t&&"defaults"in t}class iC{constructor(){this.controllers=new il(Fl,"datasets",!0),this.elements=new il(oi,"elements"),this.plugins=new il(Object,"plugins"),this.scales=new il(ks,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(e,a,s):et(s,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,n,r){const s=Nd(e);at(r["before"+s],[],r),n[e](r),at(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Jn=new iC;class sC{constructor(){this._init=void 0}notify(e,n,r,s){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(a,e,n,r);return n==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,n,r,s){s=s||{};for(const a of e){const l=a.plugin,c=l[r],d=[n,s,a.options];if(at(c,d,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Fe(r.options&&r.options.plugins,{}),a=oC(r);return s===!1&&!n?[]:lC(e,a,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(a,l)=>a.filter(c=>!l.some(d=>c.plugin.id===d.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function oC(t){const e={},n=[],r=Object.keys(Jn.plugins.items);for(let a=0;a<r.length;a++)n.push(Jn.getPlugin(r[a]));const s=t.plugins||[];for(let a=0;a<s.length;a++){const l=s[a];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function aC(t,e){return!e&&t===!1?null:t===!0?{}:t}function lC(t,{plugins:e,localIds:n},r,s){const a=[],l=t.getContext();for(const c of e){const d=c.id,f=aC(r[d],s);f!==null&&a.push({plugin:c,options:cC(t.config,{plugin:c,local:n[d]},f,l)})}return a}function cC(t,{plugin:e,local:n},r,s){const a=t.pluginScopeKeys(e),l=t.getOptionScopes(r,a);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fd(t,e){const n=vt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function uC(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function dC(t,e){return t===e?"_index_":"_value_"}function ag(t){if(t==="x"||t==="y"||t==="r")return t}function fC(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function hd(t,...e){if(ag(t))return t;for(const n of e){const r=n.axis||fC(n.position)||t.length>1&&ag(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function lg(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function hC(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return lg(t,"x",n[0])||lg(t,"y",n[0])}return{}}function pC(t,e){const n=Fi[t.type]||{scales:{}},r=e.scales||{},s=fd(t.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!Ue(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=hd(l,c,hC(l,t),vt.scales[c.type]),f=dC(d,s),p=n.scales||{};a[l]=ko(Object.create(null),[{axis:d},c,p[d],p[f]])}),t.data.datasets.forEach(l=>{const c=l.type||t.type,d=l.indexAxis||fd(c,e),p=(Fi[c]||{}).scales||{};Object.keys(p).forEach(g=>{const v=uC(g,d),x=l[v+"AxisID"]||v;a[x]=a[x]||Object.create(null),ko(a[x],[{axis:v},r[x],p[g]])})}),Object.keys(a).forEach(l=>{const c=a[l];ko(c,[vt.scales[c.type],vt.scale])}),a}function wy(t){const e=t.options||(t.options={});e.plugins=Fe(e.plugins,{}),e.scales=pC(t,e)}function Sy(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function mC(t){return t=t||{},t.data=Sy(t.data),wy(t),t}const cg=new Map,_y=new Set;function sl(t,e){let n=cg.get(t);return n||(n=e(),cg.set(t,n),_y.add(n)),n}const ho=(t,e,n)=>{const r=Oi(e,n);r!==void 0&&t.add(r)};class gC{constructor(e){this._config=mC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Sy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),wy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return sl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return sl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return sl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return sl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:a}=this,l=this._cachedScopes(e,r),c=l.get(n);if(c)return c;const d=new Set;n.forEach(p=>{e&&(d.add(e),p.forEach(g=>ho(d,e,g))),p.forEach(g=>ho(d,s,g)),p.forEach(g=>ho(d,Fi[a]||{},g)),p.forEach(g=>ho(d,vt,g)),p.forEach(g=>ho(d,ud,g))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),_y.has(n)&&l.set(n,f),f}chartOptionScopes(){const{options:e,type:n}=this;return[e,Fi[n]||{},vt.datasets[n]||{},{type:n},vt,ud]}resolveNamedOptions(e,n,r,s=[""]){const a={$shared:!0},{resolver:l,subPrefixes:c}=ug(this._resolverCache,e,s);let d=l;if(vC(l,n)){a.$shared=!1,r=si(r)?r():r;const f=this.createResolver(e,r,c);d=ws(l,r,f)}for(const f of n)a[f]=d[f];return a}createResolver(e,n,r=[""],s){const{resolver:a}=ug(this._resolverCache,e,r);return Ue(n)?ws(a,n,void 0,s):a}}function ug(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let a=r.get(s);return a||(a={resolver:jd(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},r.set(s,a)),a}const yC=t=>Ue(t)&&Object.getOwnPropertyNames(t).some(e=>si(t[e]));function vC(t,e){const{isScriptable:n,isIndexable:r}=ny(t);for(const s of e){const a=n(s),l=r(s),c=(l||a)&&t[s];if(a&&(si(c)||yC(c))||l&&kt(c))return!0}return!1}var xC="4.5.1";const bC=["top","bottom","left","right","chartArea"];function dg(t,e){return t==="top"||t==="bottom"||bC.indexOf(t)===-1&&e==="x"}function fg(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function hg(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),at(n&&n.onComplete,[t],e)}function wC(t){const e=t.chart,n=e.options.animation;at(n&&n.onProgress,[t],e)}function ky(t){return Bd()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const gl={},pg=t=>{const e=ky(t);return Object.values(gl).filter(n=>n.canvas===e).pop()};function SC(t,e,n){const r=Object.keys(t);for(const s of r){const a=+s;if(a>=e){const l=t[s];delete t[s],(n>0||a>e)&&(t[a+n]=l)}}}function _C(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let zl=class{static defaults=vt;static instances=gl;static overrides=Fi;static registry=Jn;static version=xC;static getChart=pg;static register(...e){Jn.add(...e),mg()}static unregister(...e){Jn.remove(...e),mg()}constructor(e,n){const r=this.config=new gC(n),s=ky(e),a=pg(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||U2(s)),this.platform.updateConfig(r);const c=this.platform.acquireContext(s,l.aspectRatio),d=c&&c.canvas,f=d&&d.height,p=d&&d.width;if(this.id=v_(),this.ctx=c,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=j_(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],gl[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}xr.listen(this,"complete",hg),xr.listen(this,"progress",wC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:a}=this;return Qe(e)?n&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Jn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():jm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Lm(this.canvas,this.ctx),this}stop(){return xr.stop(this),this}resize(e,n){xr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,n,a),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,jm(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),at(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};et(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let a=[];n&&(a=a.concat(Object.keys(n).map(l=>{const c=n[l],d=hd(l,c),f=d==="r",p=d==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),et(a,l=>{const c=l.options,d=c.id,f=hd(d,c),p=Fe(c.type,l.dtype);(c.position===void 0||dg(c.position,f)!==dg(l.dposition))&&(c.position=l.dposition),s[d]=!0;let g=null;if(d in r&&r[d].type===p)g=r[d];else{const v=Jn.getScale(p);g=new v({id:d,type:p,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(c,e)}),et(s,(l,c)=>{l||delete r[c]}),et(r,l=>{ti.configure(this,l,l.options),ti.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,a)=>s.index-a.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(fg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const a=n[r];let l=this.getDatasetMeta(r);const c=a.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=a.indexAxis||fd(c,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=Jn.getController(c),{datasetElementType:f,dataElementType:p}=vt.datasets[c];Object.assign(d,{dataElementType:Jn.getElement(p),datasetElementType:f&&Jn.getElement(f)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){et(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:g}=this.getDatasetMeta(f),v=!s&&a.indexOf(g)===-1;g.buildOrUpdateElements(v),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),s||et(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(fg("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){et(this.scales,e=>{ti.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!km(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of n){const l=r==="_removeElements"?-a:a;SC(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,c)=>c+","+l.splice(1).join(","))),s=r(0);for(let a=1;a<n;a++)if(!km(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ti.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],et(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,si(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xr.has(this)?this.attached&&!xr.running(this)&&xr.start(this):(this.draw(),hg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,a;for(s=0,a=n.length;s<a;++s){const l=n[s];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=fy(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Al(n,s),e.controller.draw(),s&&Ll(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Fo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const a=b2.modes[n];return typeof a=="function"?a(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Bi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,s);Ao(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),xr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Lm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete gl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(a,l)=>{n.addEventListener(this,a,l),e[a]=l},s=(a,l,c)=>{a.offsetX=l,a.offsetY=c,this._eventHandler(a)};et(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(d,f)=>{n.addEventListener(this,d,f),e[d]=f},s=(d,f)=>{e[d]&&(n.removeEventListener(this,d,f),delete e[d])},a=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",c)},n.isAttached(this.canvas)?c():l()}unbindEvents(){et(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},et(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let a,l,c,d;for(n==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){l=e[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[l],index:l}});!bl(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,a=(d,f)=>d.filter(p=>!f.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=a(n,e),c=r?e:a(e,n);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:a}=this,l=n,c=this._getActiveElements(e,s,r,l),d=k_(e),f=_C(e,this._lastEvent,r,d);r&&(this._lastEvent=null,at(a.onHover,[e,c,this],this),d&&at(a.onClick,[e,c,this],this));const p=!bl(c,s);return(p||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=f,p}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}};function mg(){return et(zl.instances,t=>t._plugins.invalidate())}function kC(t,e,n){const{startAngle:r,x:s,y:a,outerRadius:l,innerRadius:c,options:d}=e,{borderWidth:f,borderJoinStyle:p}=d,g=Math.min(f/l,yn(r-n));if(t.beginPath(),t.arc(s,a,l-f/2,r+g/2,n-g/2),c>0){const v=Math.min(f/c,yn(r-n));t.arc(s,a,c+f/2,n-v/2,r+v/2,!0)}else{const v=Math.min(f/2,l*yn(r-n));if(p==="round")t.arc(s,a,v,n-rt/2,r+rt/2,!0);else if(p==="bevel"){const x=2*v*v,b=-x*Math.cos(n+rt/2)+s,w=-x*Math.sin(n+rt/2)+a,_=x*Math.cos(r+rt/2)+s,k=x*Math.sin(r+rt/2)+a;t.lineTo(b,w),t.lineTo(_,k)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function CC(t,e,n){const{startAngle:r,pixelMargin:s,x:a,y:l,outerRadius:c,innerRadius:d}=e;let f=s/c;t.beginPath(),t.arc(a,l,c,r-f,n+f),d>s?(f=s/d,t.arc(a,l,d,n+f,r-f,!0)):t.arc(a,l,s,n+Ct,r-Ct),t.closePath(),t.clip()}function MC(t){return Fd(t,["outerStart","outerEnd","innerStart","innerEnd"])}function EC(t,e,n,r){const s=MC(t.options.borderRadius),a=(n-e)/2,l=Math.min(a,r*e/2),c=d=>{const f=(n-Math.min(a,d))*r/2;return Bt(d,0,Math.min(a,f))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Bt(s.innerStart,0,l),innerEnd:Bt(s.innerEnd,0,l)}}function hs(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function El(t,e,n,r,s,a){const{x:l,y:c,startAngle:d,pixelMargin:f,innerRadius:p}=e,g=Math.max(e.outerRadius+r+n-f,0),v=p>0?p+r+n+f:0;let x=0;const b=s-d;if(r){const re=p>0?p-r:0,ce=g>0?g-r:0,fe=(re+ce)/2,Y=fe!==0?b*fe/(fe+r):b;x=(b-Y)/2}const w=Math.max(.001,b*g-n/rt)/g,_=(b-w)/2,k=d+_+x,R=s-_-x,{outerStart:M,outerEnd:A,innerStart:N,innerEnd:z}=EC(e,v,g,R-k),E=g-M,L=g-A,W=k+M/E,X=R-A/L,q=v+N,J=v+z,ae=k+N/q,Q=R-z/J;if(t.beginPath(),a){const re=(W+X)/2;if(t.arc(l,c,g,W,re),t.arc(l,c,g,re,X),A>0){const ne=hs(L,X,l,c);t.arc(ne.x,ne.y,A,X,R+Ct)}const ce=hs(J,R,l,c);if(t.lineTo(ce.x,ce.y),z>0){const ne=hs(J,Q,l,c);t.arc(ne.x,ne.y,z,R+Ct,Q+Math.PI)}const fe=(R-z/v+(k+N/v))/2;if(t.arc(l,c,v,R-z/v,fe,!0),t.arc(l,c,v,fe,k+N/v,!0),N>0){const ne=hs(q,ae,l,c);t.arc(ne.x,ne.y,N,ae+Math.PI,k-Ct)}const Y=hs(E,k,l,c);if(t.lineTo(Y.x,Y.y),M>0){const ne=hs(E,W,l,c);t.arc(ne.x,ne.y,M,k-Ct,W)}}else{t.moveTo(l,c);const re=Math.cos(W)*g+l,ce=Math.sin(W)*g+c;t.lineTo(re,ce);const fe=Math.cos(X)*g+l,Y=Math.sin(X)*g+c;t.lineTo(fe,Y)}t.closePath()}function RC(t,e,n,r,s){const{fullCircles:a,startAngle:l,circumference:c}=e;let d=e.endAngle;if(a){El(t,e,n,r,d,s);for(let f=0;f<a;++f)t.fill();isNaN(c)||(d=l+(c%ft||ft))}return El(t,e,n,r,d,s),t.fill(),d}function PC(t,e,n,r,s){const{fullCircles:a,startAngle:l,circumference:c,options:d}=e,{borderWidth:f,borderJoinStyle:p,borderDash:g,borderDashOffset:v,borderRadius:x}=d,b=d.borderAlign==="inner";if(!f)return;t.setLineDash(g||[]),t.lineDashOffset=v,b?(t.lineWidth=f*2,t.lineJoin=p||"round"):(t.lineWidth=f,t.lineJoin=p||"bevel");let w=e.endAngle;if(a){El(t,e,n,r,w,s);for(let _=0;_<a;++_)t.stroke();isNaN(c)||(w=l+(c%ft||ft))}b&&CC(t,e,w),d.selfJoin&&w-l>=rt&&x===0&&p!=="miter"&&kC(t,e,w),a||(El(t,e,n,r,w,s),t.stroke())}class DC extends oi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.getProps(["x","y"],r),{angle:a,distance:l}=G0(s,{x:e,y:n}),{startAngle:c,endAngle:d,innerRadius:f,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,x=Fe(g,d-c),b=Oo(a,c,d)&&c!==d,w=x>=ft||b,_=kr(l,f+v,p+v);return w&&_}getCenterPoint(e){const{x:n,y:r,startAngle:s,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,p=(s+a)/2,g=(l+c+f+d)/2;return{x:n+Math.cos(p)*g,y:r+Math.sin(p)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>ft?Math.floor(r/ft):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*s,Math.sin(c)*s);const d=1-Math.sin(Math.min(rt,r||0)),f=s*d;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,RC(e,this,f,a,l),PC(e,this,f,a,l),e.restore()}}function Cy(t,e,n=e){t.lineCap=Fe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Fe(n.borderDash,e.borderDash)),t.lineDashOffset=Fe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Fe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Fe(n.borderWidth,e.borderWidth),t.strokeStyle=Fe(n.borderColor,e.borderColor)}function TC(t,e,n){t.lineTo(n.x,n.y)}function NC(t){return t.stepped?Q_:t.tension||t.cubicInterpolationMode==="monotone"?J_:TC}function My(t,e,n={}){const r=t.length,{start:s=0,end:a=r-1}=n,{start:l,end:c}=e,d=Math.max(s,l),f=Math.min(a,c),p=s<l&&a<l||s>c&&a>c;return{count:r,start:d,loop:e.loop,ilen:f<d&&!p?r+f-d:f-d}}function AC(t,e,n,r){const{points:s,options:a}=e,{count:l,start:c,loop:d,ilen:f}=My(s,n,r),p=NC(a);let{move:g=!0,reverse:v}=r||{},x,b,w;for(x=0;x<=f;++x)b=s[(c+(v?f-x:x))%l],!b.skip&&(g?(t.moveTo(b.x,b.y),g=!1):p(t,w,b,v,a.stepped),w=b);return d&&(b=s[(c+(v?f:0))%l],p(t,w,b,v,a.stepped)),!!d}function LC(t,e,n,r){const s=e.points,{count:a,start:l,ilen:c}=My(s,n,r),{move:d=!0,reverse:f}=r||{};let p=0,g=0,v,x,b,w,_,k;const R=A=>(l+(f?c-A:A))%a,M=()=>{w!==_&&(t.lineTo(p,_),t.lineTo(p,w),t.lineTo(p,k))};for(d&&(x=s[R(0)],t.moveTo(x.x,x.y)),v=0;v<=c;++v){if(x=s[R(v)],x.skip)continue;const A=x.x,N=x.y,z=A|0;z===b?(N<w?w=N:N>_&&(_=N),p=(g*p+A)/++g):(M(),t.lineTo(A,N),b=z,g=0,w=_=N),k=N}M()}function pd(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?LC:AC}function OC(t){return t.stepped?Dk:t.tension||t.cubicInterpolationMode==="monotone"?Tk:Di}function FC(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),Cy(t,e.options),t.stroke(s)}function jC(t,e,n,r){const{segments:s,options:a}=e,l=pd(e);for(const c of s)Cy(t,a,c.style),t.beginPath(),l(t,e,c,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const zC=typeof Path2D=="function";function IC(t,e,n,r){zC&&!e.options.segment?FC(t,e,n,r):jC(t,e,n,r)}class Il extends oi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;Sk(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jk(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],a=this.points,l=dy(this,{property:n,start:s,end:s});if(!l.length)return;const c=[],d=OC(r);let f,p;for(f=0,p=l.length;f<p;++f){const{start:g,end:v}=l[f],x=a[g],b=a[v];if(x===b){c.push(x);continue}const w=Math.abs((s-x[n])/(b[n]-x[n])),_=d(x,b,w,r.stepped);_[n]=e[n],c.push(_)}return c.length===1?c[0]:c}pathSegment(e,n,r){return pd(this)(e,this,n,r)}path(e,n,r){const s=this.segments,a=pd(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const c of s)l&=a(e,this,c,{start:n,end:n+r-1});return!!l}draw(e,n,r,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),IC(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function gg(t,e,n,r){const s=t.options,{[n]:a}=t.getProps([n],r);return Math.abs(e-a)<s.radius+s.hitRadius}class BC extends oi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return gg(this,e,"x",n)}inYRange(e,n){return gg(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Fo(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,dd(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ey(t,e){const{x:n,y:r,base:s,width:a,height:l}=t.getProps(["x","y","base","width","height"],e);let c,d,f,p,g;return t.horizontal?(g=l/2,c=Math.min(n,s),d=Math.max(n,s),f=r-g,p=r+g):(g=a/2,c=n-g,d=n+g,f=Math.min(r,s),p=Math.max(r,s)),{left:c,top:f,right:d,bottom:p}}function ni(t,e,n,r){return t?0:Bt(e,n,r)}function UC(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,a=ty(r);return{t:ni(s.top,a.top,0,n),r:ni(s.right,a.right,0,e),b:ni(s.bottom,a.bottom,0,n),l:ni(s.left,a.left,0,e)}}function $C(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,a=vs(s),l=Math.min(e,n),c=t.borderSkipped,d=r||Ue(s);return{topLeft:ni(!d||c.top||c.left,a.topLeft,0,l),topRight:ni(!d||c.top||c.right,a.topRight,0,l),bottomLeft:ni(!d||c.bottom||c.left,a.bottomLeft,0,l),bottomRight:ni(!d||c.bottom||c.right,a.bottomRight,0,l)}}function HC(t){const e=Ey(t),n=e.right-e.left,r=e.bottom-e.top,s=UC(t,n/2,r/2),a=$C(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:a},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Xu(t,e,n,r){const s=e===null,a=n===null,c=t&&!(s&&a)&&Ey(t,r);return c&&(s||kr(e,c.left,c.right))&&(a||kr(n,c.top,c.bottom))}function WC(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function VC(t,e){t.rect(e.x,e.y,e.w,e.h)}function qu(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,a=(t.x+t.w!==n.x+n.w?e:0)-r,l=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+a,h:t.h+l,radius:t.radius}}class YC extends oi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:a,outer:l}=HC(this),c=WC(l.radius)?kl:VC;e.save(),(l.w!==a.w||l.h!==a.h)&&(e.beginPath(),c(e,qu(l,n,a)),e.clip(),c(e,qu(a,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,qu(a,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return Xu(this,e,n,r)}inXRange(e,n){return Xu(this,e,null,n)}inYRange(e,n){return Xu(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(n+s)/2:n,y:a?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function GC(t,e,n){const r=t.segments,s=t.points,a=e.points,l=[];for(const c of r){let{start:d,end:f}=c;f=Bl(d,f,s);const p=md(n,s[d],s[f],c.loop);if(!e.segments){l.push({source:c,target:p,start:s[d],end:s[f]});continue}const g=dy(e,p);for(const v of g){const x=md(n,a[v.start],a[v.end],v.loop),b=uy(c,s,x);for(const w of b)l.push({source:w,target:v,start:{[n]:yg(p,x,"start",Math.max)},end:{[n]:yg(p,x,"end",Math.min)}})}}return l}function md(t,e,n,r){if(r)return;let s=e[t],a=n[t];return t==="angle"&&(s=yn(s),a=yn(a)),{property:t,start:s,end:a}}function XC(t,e){const{x:n=null,y:r=null}=t||{},s=e.points,a=[];return e.segments.forEach(({start:l,end:c})=>{c=Bl(l,c,s);const d=s[l],f=s[c];r!==null?(a.push({x:d.x,y:r}),a.push({x:f.x,y:r})):n!==null&&(a.push({x:n,y:d.y}),a.push({x:n,y:f.y}))}),a}function Bl(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function yg(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function Ry(t,e){let n=[],r=!1;return kt(t)?(r=!0,n=t):n=XC(t,e),n.length?new Il({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function vg(t){return t&&t.fill!==!1}function qC(t,e,n){let s=t[e].fill;const a=[e];let l;if(!n)return s;for(;s!==!1&&a.indexOf(s)===-1;){if(!Ut(s))return s;if(l=t[s],!l)return!1;if(l.visible)return s;a.push(s),s=l.fill}return!1}function KC(t,e,n){const r=eM(t);if(Ue(r))return isNaN(r.value)?!1:r;let s=parseFloat(r);return Ut(s)&&Math.floor(s)===s?QC(r[0],e,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function QC(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function JC(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ue(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function ZC(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Ue(t)?r=t.value:r=e.getBaseValue(),r}function eM(t){const e=t.options,n=e.fill;let r=Fe(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function tM(t){const{scale:e,index:n,line:r}=t,s=[],a=r.segments,l=r.points,c=nM(e,n);c.push(Ry({x:null,y:e.bottom},r));for(let d=0;d<a.length;d++){const f=a[d];for(let p=f.start;p<=f.end;p++)rM(s,l[p],c)}return new Il({points:s,options:{}})}function nM(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const a=r[s];if(a.index===e)break;a.hidden||n.unshift(a.dataset)}return n}function rM(t,e,n){const r=[];for(let s=0;s<n.length;s++){const a=n[s],{first:l,last:c,point:d}=iM(a,e,"x");if(!(!d||l&&c)){if(l)r.unshift(d);else if(t.push(d),!c)break}}t.push(...r)}function iM(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const s=r[n],a=t.segments,l=t.points;let c=!1,d=!1;for(let f=0;f<a.length;f++){const p=a[f],g=l[p.start][n],v=l[p.end][n];if(kr(s,g,v)){c=s===g,d=s===v;break}}return{first:c,last:d,point:r}}class Py{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:s,y:a,radius:l}=this;return n=n||{start:0,end:ft},e.arc(s,a,l,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:s}=this,a=e.angle;return{x:n+Math.cos(a)*s,y:r+Math.sin(a)*s,angle:a}}}function sM(t){const{chart:e,fill:n,line:r}=t;if(Ut(n))return oM(e,n);if(n==="stack")return tM(t);if(n==="shape")return!0;const s=aM(t);return s instanceof Py?s:Ry(s,r)}function oM(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function aM(t){return(t.scale||{}).getPointPositionForValue?cM(t):lM(t)}function lM(t){const{scale:e={},fill:n}=t,r=JC(n,e);if(Ut(r)){const s=e.isHorizontal();return{x:s?r:null,y:s?null:r}}return null}function cM(t){const{scale:e,fill:n}=t,r=e.options,s=e.getLabels().length,a=r.reverse?e.max:e.min,l=ZC(n,e,a),c=[];if(r.grid.circular){const d=e.getPointPositionForValue(0,a);return new Py({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(l)})}for(let d=0;d<s;++d)c.push(e.getPointPositionForValue(d,l));return c}function Ku(t,e,n){const r=sM(e),{chart:s,index:a,line:l,scale:c,axis:d}=e,f=l.options,p=f.fill,g=f.backgroundColor,{above:v=g,below:x=g}=p||{},b=s.getDatasetMeta(a),w=fy(s,b);r&&l.points.length&&(Al(t,n),uM(t,{line:l,target:r,above:v,below:x,area:n,scale:c,axis:d,clip:w}),Ll(t))}function uM(t,e){const{line:n,target:r,above:s,below:a,area:l,scale:c,clip:d}=e,f=n._loop?"angle":e.axis;t.save();let p=a;a!==s&&(f==="x"?(xg(t,r,l.top),Qu(t,{line:n,target:r,color:s,scale:c,property:f,clip:d}),t.restore(),t.save(),xg(t,r,l.bottom)):f==="y"&&(bg(t,r,l.left),Qu(t,{line:n,target:r,color:a,scale:c,property:f,clip:d}),t.restore(),t.save(),bg(t,r,l.right),p=s)),Qu(t,{line:n,target:r,color:p,scale:c,property:f,clip:d}),t.restore()}function xg(t,e,n){const{segments:r,points:s}=e;let a=!0,l=!1;t.beginPath();for(const c of r){const{start:d,end:f}=c,p=s[d],g=s[Bl(d,f,s)];a?(t.moveTo(p.x,p.y),a=!1):(t.lineTo(p.x,n),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,c,{move:l}),l?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function bg(t,e,n){const{segments:r,points:s}=e;let a=!0,l=!1;t.beginPath();for(const c of r){const{start:d,end:f}=c,p=s[d],g=s[Bl(d,f,s)];a?(t.moveTo(p.x,p.y),a=!1):(t.lineTo(n,p.y),t.lineTo(p.x,p.y)),l=!!e.pathSegment(t,c,{move:l}),l?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Qu(t,e){const{line:n,target:r,property:s,color:a,scale:l,clip:c}=e,d=GC(n,r,s);for(const{source:f,target:p,start:g,end:v}of d){const{style:{backgroundColor:x=a}={}}=f,b=r!==!0;t.save(),t.fillStyle=x,dM(t,l,c,b&&md(s,g,v)),t.beginPath();const w=!!n.pathSegment(t,f);let _;if(b){w?t.closePath():wg(t,r,v,s);const k=!!r.pathSegment(t,p,{move:w,reverse:!0});_=w&&k,_||wg(t,r,g,s)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function dM(t,e,n,r){const s=e.chart.chartArea,{property:a,start:l,end:c}=r||{};if(a==="x"||a==="y"){let d,f,p,g;a==="x"?(d=l,f=s.top,p=c,g=s.bottom):(d=s.left,f=l,p=s.right,g=c),t.beginPath(),n&&(d=Math.max(d,n.left),p=Math.min(p,n.right),f=Math.max(f,n.top),g=Math.min(g,n.bottom)),t.rect(d,f,p-d,g-f),t.clip()}}function wg(t,e,n,r){const s=e.interpolate(n,r);s&&t.lineTo(s.x,s.y)}var fM={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,s=[];let a,l,c,d;for(l=0;l<r;++l)a=t.getDatasetMeta(l),c=a.dataset,d=null,c&&c.options&&c instanceof Il&&(d={visible:t.isDatasetVisible(l),index:l,fill:KC(c,l,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=d,s.push(d);for(l=0;l<r;++l)d=s[l],!(!d||d.fill===!1)&&(d.fill=qC(s,l,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),a=t.chartArea;for(let l=s.length-1;l>=0;--l){const c=s[l].$filler;c&&(c.line.updateControlPoints(a,c.axis),r&&c.fill&&Ku(t.ctx,c,a))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const a=r[s].$filler;vg(a)&&Ku(t.ctx,a,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!vg(r)||n.drawTime!=="beforeDatasetDraw"||Ku(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Sg=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},hM=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class _g extends oi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=at(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=an(r.font),a=s.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=Sg(r,a);let f,p;n.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,a,c,d)+10):(p=this.maxHeight,f=this._fitCols(l,s,c,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:a,maxWidth:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+c;let g=e;a.textAlign="left",a.textBaseline="middle";let v=-1,x=-p;return this.legendItems.forEach((b,w)=>{const _=r+n/2+a.measureText(b.text).width;(w===0||f[f.length-1]+_+2*c>l)&&(g+=p,f[f.length-(w>0?0:1)]=0,x+=p,v++),d[w]={left:0,top:x,row:v,width:_,height:s},f[f.length-1]+=_+c}),g}_fitCols(e,n,r,s){const{ctx:a,maxHeight:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-e;let g=c,v=0,x=0,b=0,w=0;return this.legendItems.forEach((_,k)=>{const{itemWidth:R,itemHeight:M}=pM(r,n,a,_,s);k>0&&x+M+2*c>p&&(g+=v+c,f.push({width:v,height:x}),b+=v+c,w++,v=x=0),d[k]={left:b,top:x,col:w,width:R,height:M},v=Math.max(v,R),x+=M+c}),g+=v,f.push({width:v,height:x}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:a}}=this,l=xs(a,this.left,this.width);if(this.isHorizontal()){let c=0,d=mn(r,this.left+s,this.right-this.lineWidths[c]);for(const f of n)c!==f.row&&(c=f.row,d=mn(r,this.left+s,this.right-this.lineWidths[c])),f.top+=this.top+e+s,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+s}else{let c=0,d=mn(r,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const f of n)f.col!==c&&(c=f.col,d=mn(r,this.top+e+s,this.bottom-this.columnSizes[c].height)),f.top=d,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Al(e,this),this._draw(),Ll(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:a,labels:l}=e,c=vt.color,d=xs(e.rtl,this.left,this.width),f=an(l.font),{padding:p}=l,g=f.size,v=g/2;let x;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:b,boxHeight:w,itemHeight:_}=Sg(l,g),k=function(z,E,L){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;s.save();const W=Fe(L.lineWidth,1);if(s.fillStyle=Fe(L.fillStyle,c),s.lineCap=Fe(L.lineCap,"butt"),s.lineDashOffset=Fe(L.lineDashOffset,0),s.lineJoin=Fe(L.lineJoin,"miter"),s.lineWidth=W,s.strokeStyle=Fe(L.strokeStyle,c),s.setLineDash(Fe(L.lineDash,[])),l.usePointStyle){const X={radius:w*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:W},q=d.xPlus(z,b/2),J=E+v;ey(s,X,q,J,l.pointStyleWidth&&b)}else{const X=E+Math.max((g-w)/2,0),q=d.leftForLtr(z,b),J=vs(L.borderRadius);s.beginPath(),Object.values(J).some(ae=>ae!==0)?kl(s,{x:q,y:X,w:b,h:w,radius:J}):s.rect(q,X,b,w),s.fill(),W!==0&&s.stroke()}s.restore()},R=function(z,E,L){_l(s,L.text,z,E+_/2,f,{strikethrough:L.hidden,textAlign:d.textAlign(L.textAlign)})},M=this.isHorizontal(),A=this._computeTitleHeight();M?x={x:mn(a,this.left+p,this.right-r[0]),y:this.top+p+A,line:0}:x={x:this.left+p,y:mn(a,this.top+A+p,this.bottom-n[0].height),line:0},ay(this.ctx,e.textDirection);const N=_+p;this.legendItems.forEach((z,E)=>{s.strokeStyle=z.fontColor,s.fillStyle=z.fontColor;const L=s.measureText(z.text).width,W=d.textAlign(z.textAlign||(z.textAlign=l.textAlign)),X=b+v+L;let q=x.x,J=x.y;d.setWidth(this.width),M?E>0&&q+X+p>this.right&&(J=x.y+=N,x.line++,q=x.x=mn(a,this.left+p,this.right-r[x.line])):E>0&&J+N>this.bottom&&(q=x.x=q+n[x.line].width+p,x.line++,J=x.y=mn(a,this.top+A+p,this.bottom-n[x.line].height));const ae=d.x(q);if(k(ae,J,z),q=z_(W,q+b+v,M?q+X:this.right,e.rtl),R(d.x(q),J,z),M)x.x+=X+p;else if(typeof z.text!="string"){const Q=f.lineHeight;x.y+=Dy(z,Q)+p}else x.y+=N}),ly(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=an(n.font),s=$n(n.padding);if(!n.display)return;const a=xs(e.rtl,this.left,this.width),l=this.ctx,c=n.position,d=r.size/2,f=s.top+d;let p,g=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,g=mn(e.align,g,this.right-v);else{const b=this.columnSizes.reduce((w,_)=>Math.max(w,_.height),0);p=f+mn(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const x=mn(c,g,g+v);l.textAlign=a.textAlign(J0(c)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,_l(l,n.text,x,p,r)}_computeTitleHeight(){const e=this.options.title,n=an(e.font),r=$n(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,a;if(kr(e,this.left,this.right)&&kr(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],kr(e,s.left,s.left+s.width)&&kr(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!yM(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,a=hM(s,r);s&&!a&&at(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!a&&at(n.onHover,[e,r,this],this)}else r&&at(n.onClick,[e,r,this],this)}}function pM(t,e,n,r,s){const a=mM(r,t,e,n),l=gM(s,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function mM(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((a,l)=>a.length>l.length?a:l)),e+n.size/2+r.measureText(s).width}function gM(t,e,n){let r=t;return typeof e.text!="string"&&(r=Dy(e,n)),r}function Dy(t,e){const n=t.text?t.text.length:0;return e*n}function yM(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var vM={id:"legend",_element:_g,start(t,e,n){const r=t.legend=new _g({ctx:t.ctx,options:n,chart:t});ti.configure(t,r,n),ti.addBox(t,r)},stop(t){ti.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ti.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:a,useBorderRadius:l,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(n?0:void 0),p=$n(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const bo={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,a=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();r.add(d.x),s+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((c,d)=>c+d)/r.size,y:s/a}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,a,l,c;for(a=0,l=t.length;a<l;++a){const d=t[a].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=cd(e,f);p<s&&(s=p,c=d)}}if(c){const d=c.tooltipPosition();n=d.x,r=d.y}return{x:n,y:r}}};function Qn(t,e){return e&&(kt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function br(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function xM(t,e){const{element:n,datasetIndex:r,index:s}=e,a=t.getDatasetMeta(r).controller,{label:l,value:c}=a.getLabelAndValue(s);return{chart:t,label:l,parsed:a.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:c,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function kg(t,e){const n=t.chart.ctx,{body:r,footer:s,title:a}=t,{boxWidth:l,boxHeight:c}=e,d=an(e.bodyFont),f=an(e.titleFont),p=an(e.footerFont),g=a.length,v=s.length,x=r.length,b=$n(e.padding);let w=b.height,_=0,k=r.reduce((A,N)=>A+N.before.length+N.lines.length+N.after.length,0);if(k+=t.beforeBody.length+t.afterBody.length,g&&(w+=g*f.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),k){const A=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;w+=x*A+(k-x)*d.lineHeight+(k-1)*e.bodySpacing}v&&(w+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let R=0;const M=function(A){_=Math.max(_,n.measureText(A).width+R)};return n.save(),n.font=f.string,et(t.title,M),n.font=d.string,et(t.beforeBody.concat(t.afterBody),M),R=e.displayColors?l+2+e.boxPadding:0,et(r,A=>{et(A.before,M),et(A.lines,M),et(A.after,M)}),R=0,n.font=p.string,et(t.footer,M),n.restore(),_+=b.width,{width:_,height:w}}function bM(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function wM(t,e,n,r){const{x:s,width:a}=r,l=n.caretSize+n.caretPadding;if(t==="left"&&s+a+l>e.width||t==="right"&&s-a-l<0)return!0}function SM(t,e,n,r){const{x:s,width:a}=n,{width:l,chartArea:{left:c,right:d}}=t;let f="center";return r==="center"?f=s<=(c+d)/2?"left":"right":s<=a/2?f="left":s>=l-a/2&&(f="right"),wM(f,t,e,n)&&(f="center"),f}function Cg(t,e,n){const r=n.yAlign||e.yAlign||bM(t,n);return{xAlign:n.xAlign||e.xAlign||SM(t,e,n,r),yAlign:r}}function _M(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function kM(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function Mg(t,e,n,r){const{caretSize:s,caretPadding:a,cornerRadius:l}=t,{xAlign:c,yAlign:d}=n,f=s+a,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:x}=vs(l);let b=_M(e,c);const w=kM(e,d,f);return d==="center"?c==="left"?b+=f:c==="right"&&(b-=f):c==="left"?b-=Math.max(p,v)+s:c==="right"&&(b+=Math.max(g,x)+s),{x:Bt(b,0,r.width-e.width),y:Bt(w,0,r.height-e.height)}}function ol(t,e,n){const r=$n(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Eg(t){return Qn([],br(t))}function CM(t,e,n){return Bi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Rg(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Ty={beforeTitle:yr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:yr,beforeBody:yr,beforeLabel:yr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Qe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:yr,afterBody:yr,beforeFooter:yr,footer:yr,afterFooter:yr};function sn(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?Ty[e].call(n,r):s}class Pg extends oi{static positioners=bo;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,a=new hy(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=CM(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=sn(r,"beforeTitle",this,e),a=sn(r,"title",this,e),l=sn(r,"afterTitle",this,e);let c=[];return c=Qn(c,br(s)),c=Qn(c,br(a)),c=Qn(c,br(l)),c}getBeforeBody(e,n){return Eg(sn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return et(e,a=>{const l={before:[],lines:[],after:[]},c=Rg(r,a);Qn(l.before,br(sn(c,"beforeLabel",this,a))),Qn(l.lines,sn(c,"label",this,a)),Qn(l.after,br(sn(c,"afterLabel",this,a))),s.push(l)}),s}getAfterBody(e,n){return Eg(sn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=sn(r,"beforeFooter",this,e),a=sn(r,"footer",this,e),l=sn(r,"afterFooter",this,e);let c=[];return c=Qn(c,br(s)),c=Qn(c,br(a)),c=Qn(c,br(l)),c}_createItems(e){const n=this._active,r=this.chart.data,s=[],a=[],l=[];let c=[],d,f;for(d=0,f=n.length;d<f;++d)c.push(xM(this.chart,n[d]));return e.filter&&(c=c.filter((p,g,v)=>e.filter(p,g,v,r))),e.itemSort&&(c=c.sort((p,g)=>e.itemSort(p,g,r))),et(c,p=>{const g=Rg(e.callbacks,p);s.push(sn(g,"labelColor",this,p)),a.push(sn(g,"labelPointStyle",this,p)),l.push(sn(g,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=c,c}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const c=bo[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=kg(this,r),f=Object.assign({},c,d),p=Cg(this.chart,r,f),g=Mg(r,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,a={opacity:1,x:g.x,y:g.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const a=this.getCaretPosition(e,r,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=vs(c),{x:v,y:x}=e,{width:b,height:w}=n;let _,k,R,M,A,N;return a==="center"?(A=x+w/2,s==="left"?(_=v,k=_-l,M=A+l,N=A-l):(_=v+b,k=_+l,M=A-l,N=A+l),R=_):(s==="left"?k=v+Math.max(d,p)+l:s==="right"?k=v+b-Math.max(f,g)-l:k=this.caretX,a==="top"?(M=x,A=M-l,_=k-l,R=k+l):(M=x+w,A=M+l,_=k+l,R=k-l),N=M),{x1:_,x2:k,x3:R,y1:M,y2:A,y3:N}}drawTitle(e,n,r){const s=this.title,a=s.length;let l,c,d;if(a){const f=xs(r.rtl,this.x,this.width);for(e.x=ol(this,r.titleAlign,r),n.textAlign=f.textAlign(r.titleAlign),n.textBaseline="middle",l=an(r.titleFont),c=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,d=0;d<a;++d)n.fillText(s[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,d+1===a&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,n,r,s,a){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:d,boxWidth:f}=a,p=an(a.bodyFont),g=ol(this,"left",a),v=s.x(g),x=d<p.lineHeight?(p.lineHeight-d)/2:0,b=n.y+x;if(a.usePointStyle){const w={radius:Math.min(f,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},_=s.leftForLtr(v,f)+f/2,k=b+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,dd(e,w,_,k),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,dd(e,w,_,k)}else{e.lineWidth=Ue(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const w=s.leftForLtr(v,f),_=s.leftForLtr(s.xPlus(v,1),f-2),k=vs(l.borderRadius);Object.values(k).some(R=>R!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,kl(e,{x:w,y:b,w:f,h:d,radius:k}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),kl(e,{x:_,y:b+1,w:f-2,h:d-2,radius:k}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(w,b,f,d),e.strokeRect(w,b,f,d),e.fillStyle=l.backgroundColor,e.fillRect(_,b+1,f-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:f,boxPadding:p}=r,g=an(r.bodyFont);let v=g.lineHeight,x=0;const b=xs(r.rtl,this.x,this.width),w=function(L){n.fillText(L,b.x(e.x+x),e.y+v/2),e.y+=v+a},_=b.textAlign(l);let k,R,M,A,N,z,E;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,e.x=ol(this,_,r),n.fillStyle=r.bodyColor,et(this.beforeBody,w),x=c&&_!=="right"?l==="center"?f/2+p:f+2+p:0,A=0,z=s.length;A<z;++A){for(k=s[A],R=this.labelTextColors[A],n.fillStyle=R,et(k.before,w),M=k.lines,c&&M.length&&(this._drawColorBox(n,e,A,b,r),v=Math.max(g.lineHeight,d)),N=0,E=M.length;N<E;++N)w(M[N]),v=g.lineHeight;et(k.after,w)}x=0,v=g.lineHeight,et(this.afterBody,w),e.y-=a}drawFooter(e,n,r){const s=this.footer,a=s.length;let l,c;if(a){const d=xs(r.rtl,this.x,this.width);for(e.x=ol(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=d.textAlign(r.footerAlign),n.textBaseline="middle",l=an(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,c=0;c<a;++c)n.fillText(s[c],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:a,yAlign:l}=this,{x:c,y:d}=e,{width:f,height:p}=r,{topLeft:g,topRight:v,bottomLeft:x,bottomRight:b}=vs(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+g,d),l==="top"&&this.drawCaret(e,n,r,s),n.lineTo(c+f-v,d),n.quadraticCurveTo(c+f,d,c+f,d+v),l==="center"&&a==="right"&&this.drawCaret(e,n,r,s),n.lineTo(c+f,d+p-b),n.quadraticCurveTo(c+f,d+p,c+f-b,d+p),l==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(c+x,d+p),n.quadraticCurveTo(c,d+p,c,d+p-x),l==="center"&&a==="left"&&this.drawCaret(e,n,r,s),n.lineTo(c,d+g),n.quadraticCurveTo(c,d,c+g,d),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const l=bo[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=kg(this,e),d=Object.assign({},l,this._size),f=Cg(n,e,d),p=Mg(e,d,f,n);(s._to!==p.x||a._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=$n(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,n),ay(e,n.textDirection),a.y+=l.top,this.drawTitle(a,e,n),this.drawBody(a,e,n),this.drawFooter(a,e,n),ly(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:c,index:d})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[d],index:d}}),a=!bl(r,s),l=this._positionChanged(s,n);(a||l)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,n,r),c=this._positionChanged(l,e),d=n||!bl(l,a)||c;return d&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),d}_getActiveElements(e,n,r,s){const a=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:r,caretY:s,options:a}=this,l=bo[a.position].call(this,e,n);return l!==!1&&(r!==l.x||s!==l.y)}}var MM={id:"tooltip",_element:Pg,positioners:bo,afterInit(t,e,n){n&&(t.tooltip=new Pg({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ty},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const EM=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function RM(t,e,n,r){const s=t.indexOf(e);if(s===-1)return EM(t,e,n,r);const a=t.lastIndexOf(e);return s!==a?n:s}const PM=(t,e)=>t===null?null:Bt(Math.round(t),0,e);function Dg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class DM extends ks{static id="category";static defaults={ticks:{callback:Dg}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:a}of n)r[s]===a&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Qe(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:RM(r,e,Fe(n,e),this._addedLabels),PM(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=e===0&&n===a.length-1?a:a.slice(e,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=n;l++)s.push({value:l});return s}getLabelForValue(e){return Dg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function TM(t,e){const n=[],{bounds:s,step:a,min:l,max:c,precision:d,count:f,maxTicks:p,maxDigits:g,includeBounds:v}=t,x=a||1,b=p-1,{min:w,max:_}=e,k=!Qe(l),R=!Qe(c),M=!Qe(f),A=(_-w)/(g+1);let N=Mm((_-w)/b/x)*x,z,E,L,W;if(N<1e-14&&!k&&!R)return[{value:w},{value:_}];W=Math.ceil(_/N)-Math.floor(w/N),W>b&&(N=Mm(W*N/b/x)*x),Qe(d)||(z=Math.pow(10,d),N=Math.ceil(N*z)/z),s==="ticks"?(E=Math.floor(w/N)*N,L=Math.ceil(_/N)*N):(E=w,L=_),k&&R&&a&&P_((c-l)/a,N/1e3)?(W=Math.round(Math.min((c-l)/N,p)),N=(c-l)/W,E=l,L=c):M?(E=k?l:E,L=R?c:L,W=f-1,N=(L-E)/W):(W=(L-E)/N,Co(W,Math.round(W),N/1e3)?W=Math.round(W):W=Math.ceil(W));const X=Math.max(Em(N),Em(E));z=Math.pow(10,Qe(d)?X:d),E=Math.round(E*z)/z,L=Math.round(L*z)/z;let q=0;for(k&&(v&&E!==l?(n.push({value:l}),E<l&&q++,Co(Math.round((E+q*N)*z)/z,l,Tg(l,A,t))&&q++):E<l&&q++);q<W;++q){const J=Math.round((E+q*N)*z)/z;if(R&&J>c)break;n.push({value:J})}return R&&v&&L!==c?n.length&&Co(n[n.length-1].value,c,Tg(c,A,t))?n[n.length-1].value=c:n.push({value:c}):(!R||L===c)&&n.push({value:L}),n}function Tg(t,e,{horizontal:n,minRotation:r}){const s=_r(r),a=(n?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+t).length;return Math.min(e/a,l)}class NM extends ks{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this;const l=d=>s=n?s:d,c=d=>a=r?a:d;if(e){const d=tr(s),f=tr(a);d<0&&f<0?c(0):d>0&&f>0&&l(0)}if(s===a){let d=a===0?1:Math.abs(a*.05);c(a+d),e||l(s-d)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,l=TM(s,a);return e.bounds==="ticks"&&D_(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Od(e,this.chart.options.locale,this.options.ticks.format)}}class AM extends NM{static id="linear";static defaults={ticks:{callback:Z0.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ut(e)?e:0,this.max=Ut(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=_r(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Ul={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},on=Object.keys(Ul);function Ng(t,e){return t-e}function Ag(t,e){if(Qe(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:a}=t._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Ut(l)||(l=typeof r=="string"?n.parse(l,r):n.parse(l)),l===null?null:(s&&(l=s==="week"&&(Lo(a)||a===!0)?n.startOf(l,"isoWeek",a):n.startOf(l,s)),+l)}function Lg(t,e,n,r){const s=on.length;for(let a=on.indexOf(t);a<s-1;++a){const l=Ul[on[a]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(c*l.size))<=r)return on[a]}return on[s-1]}function LM(t,e,n,r,s){for(let a=on.length-1;a>=on.indexOf(n);a--){const l=on[a];if(Ul[l].common&&t._adapter.diff(s,r,l)>=e-1)return l}return on[n?on.indexOf(n):0]}function OM(t){for(let e=on.indexOf(t)+1,n=on.length;e<n;++e)if(Ul[on[e]].common)return on[e]}function Og(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Ad(n,e),a=n[r]>=e?n[r]:n[s];t[a]=!0}}function FM(t,e,n,r){const s=t._adapter,a=+s.startOf(e[0].value,r),l=e[e.length-1].value;let c,d;for(c=a;c<=l;c=+s.add(c,1,r))d=n[c],d>=0&&(e[d].major=!0);return e}function Fg(t,e,n){const r=[],s={},a=e.length;let l,c;for(l=0;l<a;++l)c=e[l],s[c]=l,r.push({value:c,major:!1});return a===0||!n?r:FM(t,r,s,n)}class jg extends ks{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new m2._date(e.adapters.date);s.init(n),ko(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Ag(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:c}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=Ut(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),a=Ut(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,l=this.max,c=O_(s,a,l);return this._unit=n.unit||(r.autoSkip?Lg(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):LM(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:OM(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),Fg(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,a;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Bt(n,0,l),r=Bt(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,a=s.time,l=a.unit||Lg(a.minUnit,n,r,this._getLabelCapacity(n)),c=Fe(s.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,f=Lo(d)||d===!0,p={};let g=n,v,x;if(f&&(g=+e.startOf(g,"isoWeek",d)),g=+e.startOf(g,f?"day":l),e.diff(r,n,l)>1e5*c)throw new Error(n+" and "+r+" are too far apart with stepSize of "+c+" "+l);const b=s.ticks.source==="data"&&this.getDataTimestamps();for(v=g,x=0;v<r;v=+e.add(v,c,l),x++)Og(p,v,b);return(v===r||s.bounds==="ticks"||x===1)&&Og(p,v,b),Object.keys(p).sort(Ng).map(w=>+w)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,a=this._unit,l=n||s[a];return this._adapter.format(e,l)}_tickFormatFunction(e,n,r,s){const a=this.options,l=a.ticks.callback;if(l)return at(l,[e,n,r],this);const c=a.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&c[d],g=f&&c[f],v=r[n],x=f&&g&&v&&v.major;return this._adapter.format(e,s||(x?g:p))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=_r(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:r*a+c*l,h:r*l+c*a}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,a=this._tickFormatFunction(e,0,Fg(this,[e],this._majorUnit),s),l=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(Ag(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return q0(e.sort(Ng))}}function al(t,e,n){let r=0,s=t.length-1,a,l,c,d;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=Ni(t,"pos",e)),{pos:a,time:c}=t[r],{pos:l,time:d}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=Ni(t,"time",e)),{time:a,pos:c}=t[r],{time:l,pos:d}=t[s]);const f=l-a;return f?c+(d-c)*(e-a)/f:c}class PE extends jg{static id="timeseries";static defaults=jg.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=al(n,this.min),this._tableRange=al(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],a=[];let l,c,d,f,p;for(l=0,c=e.length;l<c;++l)f=e[l],f>=n&&f<=r&&s.push(f);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],d=s[l-1],f=s[l],Math.round((p+d)/2)!==f&&a.push({time:f,pos:l/(c-1)});return a}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(al(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return al(this._table,r*this._tableRange+this._minPos,!0)}}const Ny="label";function zg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function jM(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Ay(t,e){t.labels=e}function Ly(t,e,n=Ny){const r=[];t.datasets=e.map(s=>{const a=t.datasets.find(l=>l[n]===s[n]);return!a||!s.data||r.includes(a)?{...s}:(r.push(a),Object.assign(a,s),a)})}function zM(t,e=Ny){const n={labels:[],datasets:[]};return Ay(n,t.labels),Ly(n,t.datasets,e),n}function IM(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:a,type:l,data:c,options:d,plugins:f=[],fallbackContent:p,updateMode:g,...v}=t,x=P.useRef(null),b=P.useRef(null),w=()=>{x.current&&(b.current=new zl(x.current,{type:l,data:zM(c,a),options:d&&{...d},plugins:f}),zg(e,b.current))},_=()=>{zg(e,null),b.current&&(b.current.destroy(),b.current=null)};return P.useEffect(()=>{!s&&b.current&&d&&jM(b.current,d)},[s,d]),P.useEffect(()=>{!s&&b.current&&Ay(b.current.config.data,c.labels)},[s,c.labels]),P.useEffect(()=>{!s&&b.current&&c.datasets&&Ly(b.current.config.data,c.datasets,a)},[s,c.datasets]),P.useEffect(()=>{b.current&&(s?(_(),setTimeout(w)):b.current.update(g))},[s,d,c.labels,c.datasets,g]),P.useEffect(()=>{b.current&&(_(),setTimeout(w))},[l]),P.useEffect(()=>(w(),()=>_()),[]),C.jsx("canvas",{ref:x,role:"img",height:n,width:r,...v,children:p})}const BM=P.forwardRef(IM);function Hd(t,e){return zl.register(e),P.forwardRef((n,r)=>C.jsx(BM,{...n,ref:r,type:t}))}const UM=Hd("line",p2),$M=Hd("bar",d2),HM=Hd("doughnut",h2);zl.register(DM,AM,BC,Il,YC,DC,MM,vM,fM);const Ju=new Map;function ii(t){if(Ju.has(t))return Ju.get(t)??null;if(typeof document>"u")return null;const e=document.createElement("span");e.className=`${t} pointer-events-none fixed -left-[9999px] -top-[9999px]`,e.textContent=".",document.body.appendChild(e);const n=getComputedStyle(e).color;return e.remove(),Ju.set(t,n),n}function Li(t,e){if(!t)return`rgba(99, 102, 241, ${e})`;const n=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9.]+))?\)/i);if(!n)return t;const r=Number(n[1]),s=Number(n[2]),a=Number(n[3]);return`rgba(${r}, ${s}, ${a}, ${e})`}function Ig(t,e,n){return Math.max(e,Math.min(n,t))}function WM(t){if(!t)return null;const e=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)/i);return e?{r:Number(e[1]),g:Number(e[2]),b:Number(e[3])}:null}function VM(t,e,n){t/=255,e/=255,n/=255;const r=Math.max(t,e,n),s=Math.min(t,e,n);let a=0,l=0;const c=(r+s)/2;if(r!==s){const d=r-s;switch(l=c>.5?d/(2-r-s):d/(r+s),r){case t:a=(e-n)/d+(e<n?6:0);break;case e:a=(n-t)/d+2;break;default:a=(t-e)/d+4}a/=6}return{h:a,s:l,l:c}}function YM(t,e,n){const r=(c,d,f)=>(f<0&&(f+=1),f>1&&(f-=1),f<.16666666666666666?c+(d-c)*6*f:f<.5?d:f<.6666666666666666?c+(d-c)*(.6666666666666666-f)*6:c);let s,a,l;if(e===0)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=r(d,c,t+1/3),a=r(d,c,t),l=r(d,c,t-1/3)}return{r:Math.round(s*255),g:Math.round(a*255),b:Math.round(l*255)}}function Bg(t,e,n,r){const s=WM(t);if(!s||n<=1)return Li(t,r);const{h:a,s:l,l:c}=VM(s.r,s.g,s.b),d=n<=1?0:e/(n-1),f=Ig(c-.18+d*.3,.16,.82),p=Ig(l*(.92+d*.1),.18,1),g=YM(a,p,f);return`rgba(${g.r}, ${g.g}, ${g.b}, ${r})`}function GM({labels:t,values:e,height:n=224,formatValue:r,ariaLabel:s="Line chart"}){const a=ii("text-indigo-500"),l=ii("text-slate-200 dark:text-slate-700"),c=ii("text-slate-500 dark:text-slate-400"),d=P.useMemo(()=>({labels:t,datasets:[{label:s,data:e,borderColor:a??"rgb(99, 102, 241)",backgroundColor:Li(a,.16),fill:!0,tension:.35,pointRadius:p=>p.dataIndex===e.length-1?4:3,pointHoverRadius:6,pointBackgroundColor:a??"rgb(99, 102, 241)",pointBorderWidth:0}]}),[s,a,t,e]),f=P.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>{const g=typeof p.parsed?.y=="number"?p.parsed.y:Number(p.raw);return r?r(g):String(g)}}}},scales:{x:{grid:{color:Li(l,.35)},ticks:{color:c??void 0,maxTicksLimit:6}},y:{grid:{color:Li(l,.65)},ticks:{color:c??void 0,maxTicksLimit:6,callback:p=>{const g=typeof p=="number"?p:Number(p);return r?r(g):String(p)}}}}}),[r,l,c]);return C.jsx("div",{className:"w-full",style:{height:n},children:C.jsx(UM,{"aria-label":s,role:"img",data:d,options:f})})}function Ug({items:t,formatValue:e,colorClassName:n="text-emerald-500"}){const r=ii(n),s=ii("text-slate-200 dark:text-slate-700"),a=ii("text-slate-500 dark:text-slate-400"),l=Math.max(220,t.length*34),c=P.useMemo(()=>{const f=t.map((g,v)=>Bg(r,v,t.length,.92)),p=t.map((g,v)=>Bg(r,v,t.length,1));return{labels:t.map(g=>g.label),datasets:[{label:"Value",data:t.map(g=>g.value),borderRadius:8,backgroundColor:f,hoverBackgroundColor:p}]}},[r,t]),d=P.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>{const p=typeof f.parsed?.x=="number"?f.parsed.x:Number(f.raw);return e?e(p):String(p)}}}},scales:{x:{grid:{color:Li(s,.55)},ticks:{color:a??void 0,callback:f=>{const p=typeof f=="number"?f:Number(f);return e?e(p):String(f)}}},y:{grid:{display:!1},ticks:{color:a??void 0}}}}),[e,s,a]);return C.jsx("div",{className:"w-full",style:{height:l},children:C.jsx($M,{role:"img",data:c,options:d})})}const ll=["text-indigo-500","text-emerald-500","text-rose-500","text-amber-500","text-sky-500","text-violet-500"];function XM({segments:t,formatValue:e,ariaLabel:n="Pie chart"}){const r=t.reduce((f,p)=>f+(Number.isFinite(p.value)?p.value:0),0);if(r<=0)return C.jsx("div",{className:"text-sm text-slate-500",children:"No hay datos para graficar."});const s=t.filter(f=>Number.isFinite(f.value)&&f.value>0),a=s.map((f,p)=>{const g=f.className??ll[p%ll.length];return ii(g)??void 0}),l=ii("text-slate-500 dark:text-slate-400"),c=P.useMemo(()=>({labels:s.map(f=>f.label),datasets:[{data:s.map(f=>f.value),backgroundColor:a.map(f=>Li(f??null,.9)),borderColor:a.map(f=>Li(f??null,1)),borderWidth:0,hoverOffset:6,cutout:"62%"}]}),[a,s]),d=P.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>{const p=typeof f.parsed=="number"?f.parsed:Number(f.raw);return`${f.label?`${f.label}: `:""}${e?e(p):String(p)}`}}}}}),[e]);return C.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-6",children:[C.jsx("div",{className:"h-56 w-56",children:C.jsx(HM,{"aria-label":n,role:"img",data:c,options:d})}),C.jsx("div",{className:"w-full space-y-2",children:s.map((f,p)=>{const g=Math.round(f.value/r*100),v=f.className??ll[p%ll.length];return C.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[C.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[C.jsx("span",{className:`h-2 w-2 flex-none rounded-full ${v} bg-current`}),C.jsx("span",{className:"truncate font-semibold",children:f.label})]}),C.jsxs("div",{className:"flex-none text-right text-slate-700 dark:text-slate-200",children:[C.jsx("div",{className:"text-sm font-semibold",children:e?e(f.value):f.value.toFixed(2)}),C.jsxs("div",{className:"text-xs",style:{color:l??void 0},children:[g,"%"]})]})]},`${f.label}-legend`)})})]})}const qM="modulepreload",KM=function(t,e){return new URL(t,e).href},$g={},QM=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");s=f(n.map(p=>{if(p=KM(p,r),p in $g)return;$g[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(r)for(let b=l.length-1;b>=0;b--){const w=l[b];if(w.href===p&&(!g||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${v}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":qM,g||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function JM(t,e){const n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),n.remove()}async function cl(t,e){const{default:n}=await QM(async()=>{const{default:c}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:c}},[],import.meta.url),r=Math.max(1,window.devicePixelRatio||1),a=typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)")?.matches?"#020617":"#ffffff",l=await n(t,{backgroundColor:a,scale:r,useCORS:!0});JM(l.toDataURL("image/png"),e)}function ul(t,e){const n=t.map(l=>l.map(c=>`"${String(c).replace(/"/g,'""')}"`).join(",")).join(`
`),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=e,document.body.appendChild(a),a.click(),a.remove(),URL.revokeObjectURL(s)}const ji=[{code:"USD",symbol:"$",names:{es:"Dlar estadounidense",en:"US Dollar"}},{code:"EUR",symbol:"",names:{es:"Euro",en:"Euro"}},{code:"GBP",symbol:"",names:{es:"Libra esterlina",en:"Pound Sterling"}},{code:"JPY",symbol:"",names:{es:"Yen japons",en:"Japanese Yen"}},{code:"AUD",symbol:"A$",names:{es:"Dlar australiano",en:"Australian Dollar"}},{code:"CAD",symbol:"C$",names:{es:"Dlar canadiense",en:"Canadian Dollar"}},{code:"CHF",symbol:"CHF",names:{es:"Franco suizo",en:"Swiss Franc"}},{code:"CNY",symbol:"",names:{es:"Yuan chino",en:"Chinese Yuan"}},{code:"MXN",symbol:"MX$",names:{es:"Peso mexicano",en:"Mexican Peso"}},{code:"BRL",symbol:"R$",names:{es:"Real brasileo",en:"Brazilian Real"}}],Hg={},Cs=t=>(t||"").toString().trim().toUpperCase();function Wg(t){const e=Cs(t);if(e.length===3&&/^[A-Z]{3}$/.test(e))return e;const n=String(t||"").trim(),r=ji.find(s=>s.symbol===n);return r?r.code:e}function Zn(t,e){const n=String(e||"").trim(),r=Cs(n),s=ji.find(c=>c.code===r);return s?`${s.symbol}${t.toFixed(2)}`:`${/[^A-Z]/i.test(n)||n.length<=2?n:`${n} `}${t.toFixed(2)}`}const Oy="fx_rates_",ZM=1e3*60*60*12,dl={};function Fy(t){try{const e=localStorage.getItem(Oy+Cs(t));return e?JSON.parse(e):null}catch{return null}}function eE(t,e){try{const n={ts:Date.now(),rates:e};localStorage.setItem(Oy+Cs(t),JSON.stringify(n))}catch{}}async function tE(t){const e=Cs(t),n=typeof import.meta<"u"?Hg?.VITE_EXCHANGE_API_URL:void 0,r=typeof import.meta<"u"?Hg?.VITE_EXCHANGE_API_KEY:void 0,s=typeof window<"u"?localStorage.getItem("exchange_api_key"):void 0,a=r??s??void 0,l=3,c=500,d=async(g,v)=>{for(let x=1;x<=l;x++)try{const b=await fetch(g,{headers:v});if(!b.ok){if(x===l)return null;await new Promise(w=>setTimeout(w,c*x));continue}return await b.json()}catch{if(x===l)return null;await new Promise(b=>setTimeout(b,c*x))}return null},f=g=>{const v=g.includes("?")?"&":"?";let x=g;const b=/exchangerate\.host\/live/.test(g),w=/exchangerate\.host\/latest/.test(g);if(/open\.er-api\.com\/v6\/latest\//.test(g))return x=`https://open.er-api.com/v6/latest/${encodeURIComponent(e)}`,{url:x,headers:void 0,isLive:!1};const k={};if(b){x+=`${v}source=${encodeURIComponent(e)}`;const R=ji.map(M=>M.code).filter(M=>M!==e);x+=`&currencies=${encodeURIComponent(R.join(","))}`,x+="&format=1"}else x+=`${v}base=${encodeURIComponent(e)}`;if(a){const R=g.includes("exchangerate.host");R&&w||(R&&b?x+=`&access_key=${encodeURIComponent(a)}`:g.includes("apilayer")?(x+=`&access_key=${encodeURIComponent(a)}`,k.apikey=a):g.includes("openexchangerates")?x+=`&app_id=${encodeURIComponent(a)}`:x+=`&access_key=${encodeURIComponent(a)}`)}return{url:x,headers:k,isLive:b}},p=n&&n.length>0?[n]:["https://api.exchangerate.host/latest","https://open.er-api.com/v6/latest/"];for(const g of p){const{url:v,headers:x,isLive:b}=f(g),w=await d(v,x);if(w){if(b&&w&&typeof w.quotes=="object"){const _={};for(const k of Object.keys(w.quotes))if(k.startsWith(e)){const R=k.slice(e.length);_[R]=Number(w.quotes[k])}if(Object.keys(_).length>0)return _}if(w&&w.rates&&typeof w.rates=="object")return w.rates}}return null}async function nE(t,e){if(typeof window>"u")return null;const n=Cs(t),r=Fy(n);if(r&&Date.now()-r.ts<ZM)return r.rates;if(dl[n])return dl[n];const s=(async()=>{try{const a=await tE(n);return a?(eE(n,a),a):r?r.rates:null}finally{delete dl[n]}})();return dl[n]=s,s}function Sr(t,e,n){const r=Wg(e),s=Wg(n);if(!r||r===s)return t;if(typeof window<"u")try{const f=Fy(s);if(f&&f.rates&&f.rates[r])return t/f.rates[r]}catch{}const a={EUR:1,USD:1.05,GBP:.88,CAD:1.42},l=a[r]??1,c=a[s]??1;return t/l*c}function ps(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function jy(t){return t.period==="monthly"?1:t.period==="quarterly"?3:t.period==="semiannual"?6:12}function rE(t){const e=jy(t);return Number.isFinite(t.price)?t.price*12/e:0}function iE(t){const[e,n,r]=String(t).split("-").map(Number),s=new Date(e,(n??1)-1,r??1);return Number.isNaN(s.getTime())?null:s}function Vg(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function sE(t,e,n,r){const s=iE(t);if(!s)return[];let a=new Date(s);for(;a.getTime()<n.getTime();)a=Vg(a,e);const l=[];for(;a.getTime()<=r.getTime();)l.push(new Date(a)),a=Vg(a,e);return l}function Yg(){const{state:t}=Nl(),{t:e,language:n}=_s(),r=t.settings.currencyDisplayMode??"original",s=(t.settings.baseCurrency||"USD").toUpperCase(),[a,l]=P.useState(0),[c,d]=P.useState("idle");P.useEffect(()=>{if(r!=="convertToBase")return;let M=!1;return d("loading"),(async()=>{const A=await nE(s);M||(A?(d("ready"),l(N=>N+1)):d("unavailable"))})(),()=>{M=!0}},[s,r]),P.useEffect(()=>{r!=="convertToBase"&&d("idle")},[r]);const f=P.useRef(new Map),p=M=>A=>{A?f.current.set(M,A):f.current.delete(M)},g=P.useMemo(()=>r==="convertToBase"?[s]:Array.from(new Set(t.subscriptions.map(M=>(M.currency||"USD").toUpperCase()))).sort((M,A)=>M.localeCompare(A)),[s,r,t.subscriptions]),v=P.useMemo(()=>{const M=new Map;for(const A of t.subscriptions){const N=(A.currency||"USD").toUpperCase(),z=r==="convertToBase"?s:N,E=r==="convertToBase"?Sr(ps(A),N,s):ps(A),L=M.get(z)??0;M.set(z,L+E)}return Array.from(M.entries()).sort((A,N)=>A[0].localeCompare(N[0]))},[s,r,a,t.subscriptions]),x=P.useMemo(()=>{const M=new Date,A=7,N=new Date(M);N.setDate(N.getDate()+A);const z=new Map,E=new Map,L=new Map,W=new Map,X=new Map;for(const ae of t.subscriptions){const Q=(ae.currency||"USD").toUpperCase(),re=r==="convertToBase"?s:Q,ce=r==="convertToBase"?Sr(ps(ae),Q,s):ps(ae);z.set(re,(z.get(re)??0)+ce),E.set(re,(E.get(re)??0)+1),xl(ae.startDate,ae.period,M).getTime()<=N.getTime()&&L.set(re,(L.get(re)??0)+1);const Y=W.get(re);(!Y||ce>Y.value)&&W.set(re,{name:ae.name,value:ce});const ne=(ae.category||"").trim()||(e("common.uncategorized")??"Sin categora");X.has(re)||X.set(re,new Map);const K=X.get(re);K.set(ne,(K.get(ne)??0)+ce)}const q=new Map,J=new Set([...z.keys(),...E.keys()]);for(const ae of J){const Q=E.get(ae)??0,re=z.get(ae)??0,ce=Q>0?re/Q:0,fe=L.get(ae)??0,Y=W.get(ae)??null,ne=X.get(ae);let K=null;if(ne&&re>0){let F=null;for(const[V,de]of ne.entries())(!F||de>F.value)&&(F={label:V,value:de});F&&(K={label:F.label,value:F.value,pct:Math.round(F.value/re*100)})}q.set(ae,{count:Q,monthlyTotal:re,avgMonthly:ce,dueSoonCount:fe,highest:Y,topCategory:K,windowDays:A})}return q},[s,r,a,t.subscriptions,e]),b=P.useMemo(()=>{const M=new Date;return t.subscriptions.map(N=>({s:N,next:xl(N.startDate,N.period,M)})).sort((N,z)=>N.next.getTime()-z.next.getTime()).slice(0,5)},[t.subscriptions]),w=P.useMemo(()=>{const M=new Date,A=Array.from({length:12},(E,L)=>new Date(M.getFullYear(),M.getMonth()-(11-L),1)),N=A.map(E=>E.toLocaleString(n==="es"?"es-ES":"en-US",{month:"short"})),z=new Map;for(const E of g)z.set(E,Array.from({length:12},()=>0));for(const E of t.subscriptions){const L=(E.currency||"USD").toUpperCase(),W=r==="convertToBase"?s:L;z.has(W)||z.set(W,Array.from({length:12},()=>0));const X=jy(E);for(let q=0;q<A.length;q++){const J=A[q],ae=new Date(J.getFullYear(),J.getMonth()+1,0,23,59,59,999),Q=sE(E.startDate,X,J,ae);if(!Q.length)continue;const re=z.get(W),ce=E.price*Q.length;re[q]+=r==="convertToBase"?Sr(ce,L,s):ce}}return{labels:N,byCurrency:z}},[s,g,r,a,t.subscriptions]),_=P.useMemo(()=>{const M=new Map;for(const A of t.subscriptions){const N=(A.currency||"USD").toUpperCase(),z=r==="convertToBase"?s:N,E=M.get(z)??[],L=rE(A);E.push({label:A.name,value:r==="convertToBase"?Sr(L,N,s):L}),M.set(z,E)}for(const[A,N]of M.entries())M.set(A,N.sort((z,E)=>E.value-z.value).slice(0,6));return M},[s,r,a,t.subscriptions]),k=P.useMemo(()=>{const M=new Map;for(const A of t.subscriptions){const N=(A.currency||"USD").toUpperCase(),z=r==="convertToBase"?s:N,E=M.get(z)??[],L=ps(A);E.push({label:A.name,value:r==="convertToBase"?Sr(L,N,s):L}),M.set(z,E)}for(const[A,N]of M.entries()){const z=N.sort((q,J)=>J.value-q.value),E=z.slice(0,5),W=z.slice(5).reduce((q,J)=>q+J.value,0),X=W>0?[...E,{label:e("common.other")??"Otros",value:W}]:E;M.set(A,X)}return M},[s,r,a,t.subscriptions,e]),R=P.useMemo(()=>{const M=new Map;for(const N of t.subscriptions){const z=(N.currency||"USD").toUpperCase(),E=r==="convertToBase"?s:z,L=(N.category||"").trim()||(e("common.uncategorized")??"Sin categora");M.has(E)||M.set(E,new Map);const W=M.get(E),X=ps(N),q=r==="convertToBase"?Sr(X,z,s):X;W.set(L,(W.get(L)??0)+q)}const A=new Map;for(const[N,z]of M.entries()){const L=Array.from(z.entries()).map(([W,X])=>({label:W,value:X})).sort((W,X)=>X.value-W.value).slice(0,7);A.set(N,L)}return A},[s,r,a,t.subscriptions,e]);return C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.monthlySpendTitle")??"Gasto mensual (equivalente)"}),C.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:v.length===0?C.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noSubscriptionsYet")??"Sin suscripciones an."}):v.map(([M,A])=>C.jsx("div",{className:"rounded-lg bg-slate-100 px-3 py-2 text-sm font-semibold dark:bg-slate-800",children:Zn(A,M)},M))}),r==="convertToBase"?C.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:[e("dashboard.fxRatesLabel")??"FX rates",": ",c==="loading"?e("dashboard.fxUpdating")??"actualizando":c==="ready"?e("dashboard.fxReady")??"reales (cacheadas)":c==="unavailable"?e("dashboard.fxUnavailable")??"no disponibles (fallback)":e("dashboard.fxIdle")??""]}):null]}),C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.upcomingRenewalsTitle")??"Prximas renovaciones"}),C.jsx("div",{className:"mt-2 space-y-2",children:b.length===0?C.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noDataYet")??"No hay datos todava."}):b.map(({s:M,next:A})=>C.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg bg-slate-50 px-3 py-2 text-sm dark:bg-slate-800/60",children:[C.jsx("div",{className:"font-semibold",children:M.name}),C.jsx("div",{className:"text-slate-600 dark:text-slate-300",children:A.toLocaleDateString(n==="es"?"es-ES":"en-US")})]},M.id))})]}),C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.chartsTitle")??"Grficos"}),t.subscriptions.length===0?C.jsx("div",{className:"mt-2 text-sm text-slate-500",children:e("dashboard.addSubsToSeeCharts")??"Aade suscripciones para ver grficos."}):C.jsx("div",{className:"mt-3 space-y-4",children:g.map(M=>{const A=w.byCurrency.get(M)??[],N=_.get(M)??[],z=R.get(M)??[],E=k.get(M)??[];return C.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 dark:bg-slate-800/60",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:e("dashboard.currencyLabel",{cur:M})??`Moneda: ${M}`}),(()=>{const L=x.get(M);return L?C.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-4",children:[C.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiSubscriptions")??"Suscripciones"}),C.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:L.count})]}),C.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiAvgMonthly")??"Media mensual"}),C.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:Zn(L.avgMonthly,M)})]}),C.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiDueSoon",{days:L.windowDays})??`Vencen ( ${L.windowDays}d)`}),C.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:L.dueSoonCount})]}),C.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiTopCategory")??"Top categora"}),C.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:L.topCategory?`${L.topCategory.label}  ${L.topCategory.pct}%`:e("common.none")??""})]})]}):null})(),C.jsxs("div",{className:"mt-3 space-y-3",children:[C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[C.jsxs("div",{className:"flex items-center justify-between gap-3",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.projectionTitle")??"Proyeccin mensual (ltimos 12 meses)"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const L=f.current.get(`${M}:line`);L&&cl(L,`monthly-${M}.png`)},children:"PNG"}),C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const L=[[e("dashboard.csvMonth")??"Month",e("dashboard.csvAmount")??"Amount",e("dashboard.csvCurrency")??"Currency"]];for(let W=0;W<w.labels.length;W++)L.push([w.labels[W],A[W]??0,M]);ul(L,`monthly-${M}.csv`)},children:"CSV"})]})]}),C.jsx("div",{ref:p(`${M}:line`),className:"mt-2",children:C.jsx(GM,{ariaLabel:`Proyeccin mensual ${M}`,labels:w.labels,values:A,formatValue:L=>Zn(L,M)})})]}),C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[C.jsxs("div",{className:"flex items-center justify-between gap-3",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.annualTopTitle")??"Top gasto anual (estimado)"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const L=f.current.get(`${M}:bar`);L&&cl(L,`annual-top-${M}.png`)},children:"PNG"}),C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const L=[[e("dashboard.csvName")??"Name",e("dashboard.csvAnnualAmount")??"AnnualAmount",e("dashboard.csvCurrency")??"Currency"]];for(const W of N)L.push([W.label,W.value,M]);ul(L,`annual-top-${M}.csv`)},children:"CSV"})]})]}),C.jsx("div",{ref:p(`${M}:bar`),className:"mt-3",children:N.length===0?C.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):C.jsx(Ug,{items:N,colorClassName:"text-indigo-500",formatValue:L=>Zn(L,M)})})]}),C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[C.jsxs("div",{className:"flex items-center justify-between gap-3",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.monthlyByCategoryTitle")??"Gasto mensual por categora (equivalente)"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const L=f.current.get(`${M}:cat`);L&&cl(L,`categories-${M}.png`)},children:"PNG"}),C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const L=[[e("dashboard.csvCategory")??"Category",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const W of z)L.push([W.label,W.value,M]);ul(L,`categories-${M}.csv`)},children:"CSV"})]})]}),C.jsx("div",{ref:p(`${M}:cat`),className:"mt-3",children:z.length===0?C.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):C.jsx(Ug,{items:z,colorClassName:"text-sky-500",formatValue:L=>Zn(L,M)})})]}),C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[C.jsxs("div",{className:"flex items-center justify-between gap-3",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.distributionTitle")??"Distribucin (gasto mensual equivalente)"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const L=f.current.get(`${M}:pie`);L&&cl(L,`distribution-${M}.png`)},children:"PNG"}),C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const L=[[e("dashboard.csvName")??"Name",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const W of E)L.push([W.label,W.value,M]);ul(L,`distribution-${M}.csv`)},children:"CSV"})]})]}),C.jsx("div",{ref:p(`${M}:pie`),className:"mt-2",children:C.jsx(XM,{segments:E,formatValue:L=>Zn(L,M)})})]})]})]},M)})})]})]})}function Gg(t){return String(t).padStart(2,"0")}function zy(t){const e=t.getFullYear(),n=Gg(t.getMonth()+1),r=Gg(t.getDate());return`${e}-${n}-${r}`}function oE(t){switch(t){case"monthly":return"RRULE:FREQ=MONTHLY";case"quarterly":return"RRULE:FREQ=MONTHLY;INTERVAL=3";case"semiannual":return"RRULE:FREQ=MONTHLY;INTERVAL=6";case"annual":return"RRULE:FREQ=YEARLY"}}function Iy(){return typeof chrome<"u"&&!!chrome.identity}async function Wd(t){if(!Iy())throw new Error("Google Calendar sync requires Chrome Extension environment.");return await new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},r=>{const s=chrome.runtime.lastError;if(s){n(new Error(s.message||"OAuth token error"));return}if(!r){n(new Error("No OAuth token received"));return}e(r)})})}async function Vd(t){Iy()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function bs(t){const e=`https://www.googleapis.com/calendar/v3${t.path}`,n=await fetch(e,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.body?{"Content-Type":"application/json"}:{}},body:t.body?JSON.stringify(t.body):void 0});if(n.status===204)return;const r=await n.text();if(!n.ok){const s=r||`${n.status} ${n.statusText}`,a=new Error(s);throw a.status=n.status,a.body=r,a}return r?JSON.parse(r):void 0}function gd(t){if(!t||typeof t!="object")return;const e=t.status;return typeof e=="number"?e:void 0}function By(t){return t===401||t===403}async function Zu(t){const e=t.calendarId??"primary",n=t.interactive??!0;let r=t.token;r||(r=await Wd(n));const[s,a,l]=t.startDateYmd.split("-").map(Number),c=new Date(s,(a??1)-1,l??1),d=new Date(c);d.setDate(d.getDate()+1);const f={summary:t.summary,description:t.description,start:{date:t.startDateYmd},end:{date:zy(d)},recurrence:[oE(t.period)]};try{if(t.eventId)try{const g=await bs({token:r,method:"PATCH",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`,body:f});return{calendarId:e,eventId:g.id,syncedAt:new Date().toISOString()}}catch(g){if(gd(g)!==404)throw g}const p=await bs({token:r,method:"POST",path:`/calendars/${encodeURIComponent(e)}/events`,body:f});return{calendarId:e,eventId:p.id,syncedAt:new Date().toISOString()}}catch(p){const g=gd(p);throw By(g)&&await Vd(r),p}}async function Xg(t){const e=t.calendarId??"primary",n=t.interactive??!0,r=t.token??await Wd(n);try{await bs({token:r,method:"DELETE",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`})}catch(s){const a=gd(s);if(a===404)return;throw By(a)&&await Vd(r),s}}const qg="Subly Subscriptions";async function Kg(t){const e=t?.interactive??!0,n=String(t?.summary||qg).trim()||qg;let r=t?.token;r||(r=await Wd(e));try{const a=((await bs({token:r,method:"GET",path:"/users/me/calendarList?minAccessRole=writer"})).items??[]).find(c=>String(c.summary||"").trim().toLowerCase()===n.toLowerCase());if(a?.id)return a.id;const l=await bs({token:r,method:"POST",path:"/calendars",body:{summary:n}});try{await bs({token:r,method:"POST",path:"/users/me/calendarList",body:{id:l.id}})}catch{}return l.id}catch(s){throw await Vd(r),s}}const Uy=P.createContext(null);function aE(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function lE(t){switch(t){case"success":return"bg-emerald-600/60 text-white";case"error":return"bg-rose-600/60 text-white";default:return"bg-slate-900/60 text-white dark:bg-slate-950/60"}}function cE({children:t}){const[e,n]=P.useState([]),r=P.useRef({}),s=P.useCallback(c=>{n(f=>f.filter(p=>p.id!==c));const d=r.current[c];d&&(window.clearTimeout(d),delete r.current[c])},[]),a=P.useCallback((c,d="info",f)=>{const p=aE(),g={id:p,type:d,message:c};n(x=>[...x.slice(-2),g]);const v=f?.durationMs??3200;r.current[p]=window.setTimeout(()=>s(p),v)},[s]),l=P.useMemo(()=>({show:a,success:(c,d)=>a(c,"success",d),error:(c,d)=>a(c,"error",d),info:(c,d)=>a(c,"info",d)}),[a]);return C.jsxs(Uy.Provider,{value:l,children:[t,C.jsx("div",{className:"pointer-events-none fixed bottom-3 right-3 z-50 flex w-[min(22rem,calc(100vw-1.5rem))] flex-col gap-2",role:"status","aria-live":"polite","aria-atomic":"true",children:e.map(c=>C.jsx("div",{className:`pointer-events-auto rounded-lg px-3 py-2 text-sm font-semibold shadow-sm backdrop-blur ${lE(c.type)}`,children:c.message},c.id))})]})}function Yd(){const t=P.useContext(Uy);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function uE(t,e){const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(r)}function dE(t){return t==="monthly"||t==="quarterly"||t==="semiannual"||t==="annual"}function fE(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)}function hE(t){const e=typeof t=="string"?t.trim().toUpperCase():"";return e&&ji.some(r=>r.code===e)?e:"USD"}function pE(t){const e=typeof t?.name=="string"?t.name.trim():"";if(!e)return null;const n=Number(t?.price);if(!Number.isFinite(n))return null;const r=t?.period;if(!dE(r))return null;const s=t?.startDate;if(!fE(s))return null;const a=hE(t?.currency),l=typeof t?.category=="string"?t.category.trim():"";return{id:typeof t?.id=="string"&&t.id.trim()?t.id.trim():I0(),name:e,category:l||void 0,price:n,currency:a,period:r,startDate:s}}function mE({items:t,onImport:e}){const{t:n}=_s(),[r,s]=P.useState(null),a=Yd(),l=P.useMemo(()=>{const f=new Date,p=f.getFullYear(),g=String(f.getMonth()+1).padStart(2,"0"),v=String(f.getDate()).padStart(2,"0");return`subly-subscriptions-${p}${g}${v}.json`},[]);function c(){uE(l,t),a.success(n("common.exported")??"Exportado.")}function d(f){s(null);const p=new FileReader;p.onload=()=>{try{const g=JSON.parse(String(p.result??"null"));if(!Array.isArray(g))throw new Error("Invalid structure");const v=[];for(const b of g){const w=pE(b);w&&v.push(w)}if(v.length===0)throw new Error("No valid items");const x=new Map;for(const b of t)x.set(b.id,b);for(const b of v)x.set(b.id,b);e(Array.from(x.values())),s({type:"success",message:n("common.importedCount",{count:v.length})??`Importadas: ${v.length}`})}catch{s({type:"error",message:n("common.importFailed")??"Importacin fallida (JSON invlido o estructura incorrecta)."})}},p.readAsText(f)}return C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{type:"button",onClick:c,className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:n("common.exportJson")??"Exportar JSON"}),C.jsxs("label",{className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:[n("common.importJson")??"Importar JSON",C.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:f=>{const p=f.target.files?.[0];f.target.value="",p&&d(p)}})]}),r?C.jsx("div",{className:r.type==="error"?"text-sm text-rose-600 dark:text-rose-300":"text-sm text-emerald-700 dark:text-emerald-300",children:r.message}):null]})}function $y(){return typeof chrome<"u"&&!!chrome.identity}async function Hy(t){if(!$y())throw new Error("Google Drive backup requires Chrome Extension environment.");return await new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},r=>{const s=chrome.runtime.lastError;if(s){n(new Error(s.message||"OAuth token error"));return}if(!r){n(new Error("No OAuth token received"));return}e(r)})})}async function Wy(t){$y()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function Vy(t){const e=await fetch(t.url,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.body?{"Content-Type":"application/json"}:{},...t.headers??{}},body:t.body?JSON.stringify(t.body):void 0}),n=await e.text();if(!e.ok){const r=n||`${e.status} ${e.statusText}`;throw new Error(r)}return n?JSON.parse(n):void 0}async function Yy(t){const e=await fetch(t.url,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.method==="PATCH"?{"Content-Type":t.contentType??"application/octet-stream"}:{}},body:t.body}),n=await e.text();if(!e.ok){const r=n||`${e.status} ${e.statusText}`;throw new Error(r)}return{text:n,headers:e.headers}}const Rl="subly-state.json";async function Gy(t,e){const n=[`name='${e.replace(/'/g,"\\'")}'`,"trashed=false"].join(" and "),r=new URL("https://www.googleapis.com/drive/v3/files");r.searchParams.set("spaces","appDataFolder"),r.searchParams.set("q",n),r.searchParams.set("pageSize","5"),r.searchParams.set("fields","files(id,name,modifiedTime)");const a=((await Vy({token:t,method:"GET",url:r.toString()})).files??[])[0];return a?.id?{fileId:a.id,modifiedTime:a.modifiedTime}:null}async function gE(t,e){return{fileId:(await Vy({token:t,method:"POST",url:"https://www.googleapis.com/drive/v3/files",body:{name:e,parents:["appDataFolder"],mimeType:"application/json"}})).id}}async function yE(t,e,n){const r=new URL(`https://www.googleapis.com/upload/drive/v3/files/${encodeURIComponent(e)}`);r.searchParams.set("uploadType","media"),r.searchParams.set("fields","id,modifiedTime");const s=await Yy({token:t,method:"PATCH",url:r.toString(),body:n,contentType:"application/json; charset=utf-8"}),a=s.text?JSON.parse(s.text):{id:e};return{fileId:a.id||e,modifiedTime:a.modifiedTime}}async function vE(t,e){const n=new URL(`https://www.googleapis.com/drive/v3/files/${encodeURIComponent(e)}`);return n.searchParams.set("alt","media"),{jsonText:(await Yy({token:t,method:"GET",url:n.toString()})).text}}async function Xy(t){const e=t.interactive??!0,n=String(t.fileName||Rl).trim()||Rl;let r;try{r=await Hy(e);let s=t.fileId,a;if(!s){const c=await Gy(r,n);c&&(s=c.fileId,a=c.modifiedTime)}s||(s=(await gE(r,n)).fileId);const l=await yE(r,s,t.json);return{fileId:l.fileId,modifiedTime:l.modifiedTime??a}}catch(s){throw r&&await Wy(r),s}}async function xE(t){const e=t.interactive??!0,n=String(t.fileName||Rl).trim()||Rl;let r;try{r=await Hy(e);let s=t.fileId,a;if(!s){const c=await Gy(r,n);if(!c)throw new Error("No backup file found in Drive app data.");s=c.fileId,a=c.modifiedTime}const{jsonText:l}=await vE(r,s);return{fileId:s,modifiedTime:a,jsonText:l}}catch(s){throw r&&await Wy(r),s}}function ed(t){return t==="es"?"es-ES":"en-US"}function bE(t){const e=Number(t);return Number.isFinite(e)?e:0}function wE(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function Qg(t){return/^\d{4}-\d{2}-\d{2}$/.test(String(t||"").trim())}function td(t){return JSON.stringify(t.map(e=>({id:e.id,name:e.name,category:e.category,price:e.price,currency:e.currency,period:e.period,startDate:e.startDate})))}function SE(){const{state:t,setSubscriptions:e,setSettings:n}=Nl(),{t:r,language:s}=_s(),a=Yd(),l=t.settings.currencyDisplayMode??"original",c=(t.settings.baseCurrency||"USD").toUpperCase(),d=!!t.settings.calendarAutoSyncAll,f=!!t.settings.calendarUseDedicatedCalendar,p=P.useRef(t.settings);P.useEffect(()=>{p.current=t.settings},[t.settings]);const g=P.useRef(!1),v=P.useCallback(async G=>{const ye=String(p.current.driveBackupFileId||"").trim();if(ye)try{const we={...t,subscriptions:G,settings:p.current},_e=JSON.stringify({version:1,savedAt:new Date().toISOString(),state:we},null,2),ze=await Xy({json:_e,fileId:ye,interactive:!1});n({...p.current,driveBackupFileId:ze.fileId,driveLastBackupAt:ze.modifiedTime??new Date().toISOString()})}catch(we){if(g.current)return;g.current=!0;const _e=we instanceof Error?we.message:String(we);a.error((r("drive.backupSaveFailed")??"No se pudo guardar la copia en Google Drive.")+(_e?` ${_e}`:""))}},[n,t,r,a]),x=P.useRef(t.settings.calendarSubscriptionsCalendarId??null);P.useEffect(()=>{x.current=t.settings.calendarSubscriptionsCalendarId??null},[t.settings.calendarSubscriptionsCalendarId]);const b=P.useRef(t.subscriptions);P.useEffect(()=>{b.current=t.subscriptions},[t.subscriptions]);const[w,_]=P.useState(!1),[k,R]=P.useState(null),[M,A]=P.useState(!1),N=P.useRef(null),[z,E]=P.useState(""),[L,W]=P.useState(!1),[X,q]=P.useState(""),[J,ae]=P.useState(""),[Q,re]=P.useState(""),[ce,fe]=P.useState(""),[Y,ne]=P.useState(""),[K,F]=P.useState({column:"nextRenewal",direction:"asc"}),V=P.useMemo(()=>t.subscriptions.find(G=>G.id===k)??null,[k,t.subscriptions]),[de,le]=P.useState(""),[ke,Me]=P.useState(""),[Oe,Le]=P.useState(""),[$e,ht]=P.useState("USD"),[$t,He]=P.useState("monthly"),[je,Ht]=P.useState(()=>new Date().toISOString().slice(0,10)),Tt=P.useMemo(()=>{const G=de.trim(),ye=Oe.trim();return!(!G||!ye||!Number.isFinite(Number(ye))||!$e.trim()||!$t||!Qg(je))},[$e,de,$t,Oe,je]);function wt(){R(null),le(""),Me(""),Le(""),ht("USD"),He("monthly"),Ht(new Date().toISOString().slice(0,10))}function ln(){A(!1),wt()}function Ui(){wt(),A(!0)}function Mr(G){R(G.id),le(G.name),Me(G.category??""),Le(String(G.price));const ye=String(G.currency??"").trim().toUpperCase(),we=ji.some(_e=>_e.code===ye);ht(we?ye:"USD"),He(G.period),Ht(G.startDate),A(!0)}function ir(){const G=de.trim(),ye=Oe.trim();if(!G||!ye||!Number.isFinite(Number(ye))||!$e.trim()||!$t||!Qg(je))return;const we=ke.trim(),_e=!!k,Pe={...k?t.subscriptions.find(tt=>tt.id===k):void 0,id:k??I0(),name:G,category:we||void 0,price:bE(Oe),currency:$e,period:$t,startDate:je},Ye=t.subscriptions.slice(),Ne=Ye.findIndex(tt=>tt.id===Pe.id);Ne>=0?Ye[Ne]=Pe:Ye.unshift(Pe),b.current=Ye,d&&(Tn.current=td(Ye)),e(Ye),ln(),a.success(_e?r("subscriptions.toastUpdated")??"Suscripcin actualizada.":r("subscriptions.toastCreated")??"Suscripcin creada."),d&&(async()=>{const tt=await Xt(Pe.id,!0,{quiet:!0});tt.ok||a.error((r("subscriptions.syncFailed")??"Error al sincronizar.")+(tt.error?` ${tt.error}`:""))})(),v(Ye)}function Hn(G){const ye=b.current,we=ye.find(Ne=>Ne.id===G);if(!we)return;const _e=r("subscriptions.deleteConfirm",{name:we.name})??`Eliminar ${we.name}? Tambin se borrar su evento en Google Calendar si existe.`;if(!window.confirm(_e))return;const ze=we.calendar?.eventId,Pe=we.calendar?.calendarId??"primary",Ye=ye.filter(Ne=>Ne.id!==G);b.current=Ye,d&&(Tn.current=td(Ye)),e(Ye),k===G&&wt(),a.success(r("subscriptions.toastDeleted")??"Suscripcin eliminada."),v(Ye),ze&&(async()=>{try{await Xg({calendarId:Pe,eventId:ze,interactive:!0}),a.success(r("subscriptions.calendarEventDeleted")??"Evento eliminado de Google Calendar.")}catch(Ne){const tt=Ne instanceof Error?Ne.message:String(Ne);a.error((r("subscriptions.calendarDeleteFailed")??"No se pudo borrar el evento en Google Calendar.")+(tt?` ${tt}`:""))}})()}const vn=P.useMemo(()=>td(t.subscriptions),[t.subscriptions]),Tn=P.useRef(vn);P.useEffect(()=>{Tn.current=vn},[]);const Xt=P.useCallback(async(G,ye,we)=>{try{const _e=b.current,ze=_e.findIndex(ue=>ue.id===G);if(ze<0)return{ok:!1,error:"Subscription not found"};const Pe=_e[ze];let Ye=Pe.calendar?.calendarId??"primary";if(f){let ue=x.current;ue||(ue=await Kg({interactive:ye}),x.current=ue,n({...p.current,calendarSubscriptionsCalendarId:ue})),Ye=ue}const Ne=xl(Pe.startDate,Pe.period,new Date),tt=zy(Ne),Kt=(Pe.currency||"USD").toUpperCase(),ci=l==="convertToBase"?c:Kt,sr=l==="convertToBase"?Sr(Pe.price,Kt,c):Pe.price,Rr=[`${r("subscriptions.detailsAmount")??"Importe"}: ${Zn(sr,ci)}`,`${r("subscriptions.detailsPeriod")??"Periodo"}: ${Pe.period}`],T=String(Pe.category||"").trim();T&&Rr.push(`${r("subscriptions.filterCategory")??"Categora"}: ${T}`);const I=Pe.calendar?.eventId,$=Pe.calendar?.calendarId,Z=!!(I&&$&&$!==Ye);if(Z)try{await Xg({calendarId:$,eventId:I,interactive:ye})}catch{}const se=ue=>{if(!ue||typeof ue!="object")return;const me=ue.status;return typeof me=="number"?me:void 0},ve=(ue,me)=>({calendarId:ue,eventId:me,summary:`${Pe.name}  ${r("subscriptions.renewal")??"Renovacin"}`,description:Rr.join(`
`),startDateYmd:tt,period:Pe.period,interactive:ye});let he;try{he=await Zu(ve(Ye,Z?void 0:Pe.calendar?.eventId))}catch(ue){if(se(ue)!==404)throw ue;if(f){const Re=await Kg({interactive:ye});x.current=Re,n({...p.current,calendarSubscriptionsCalendarId:Re}),he=await Zu(ve(Re,void 0))}else he=await Zu(ve("primary",void 0))}const xe=_e.slice();return xe[ze]={...Pe,calendar:{...he,lastError:void 0}},e(xe),{ok:!0}}catch(_e){const ze=_e instanceof Error?_e.message:String(_e),Pe=b.current,Ye=Pe.findIndex(Ne=>Ne.id===G);if(Ye>=0){const Ne=Pe[Ye],tt=Pe.slice();tt[Ye]={...Ne,calendar:{...Ne.calendar??{calendarId:"primary"},lastError:ze,syncedAt:Ne.calendar?.syncedAt}},e(tt)}return{ok:!1,error:ze}}},[c,f,l,n,e,r]),xn=P.useCallback(async G=>{if(!w){_(!0);try{const ye=b.current;let we=0,_e=0,ze=null;for(const Ye of ye){const Ne=await Xt(Ye.id,G,{quiet:!0});Ne.ok?we+=1:(_e+=1,!ze&&Ne.error&&(ze=Ne.error))}const Pe=r("subscriptions.syncAllDone",{ok:we,fail:_e})??`Sync: ${we} ok, ${_e} fail`;_e>0?a.error(_e>0&&ze?`${Pe} (${ze})`:Pe):a.success(Pe)}finally{_(!1)}}},[w,Xt,r,a]);P.useEffect(()=>{if(!d){Tn.current=vn;return}w||Tn.current!==vn&&(Tn.current=vn,xn(!1))},[d,xn,w,vn]);const ai=P.useMemo(()=>s==="es"?["Streaming","Software","Msica","Juegos","Productividad","Educacin","Salud","Otros"]:["Streaming","Software","Music","Games","Productivity","Education","Health","Other"],[s]),Wn=P.useMemo(()=>[{value:"monthly",label:r("subscriptions.periodMonthly")??"Mensual"},{value:"quarterly",label:r("subscriptions.periodQuarterly")??"Trimestral"},{value:"semiannual",label:r("subscriptions.periodSemiannual")??"Semestral"},{value:"annual",label:r("subscriptions.periodAnnual")??"Anual"}],[r]),Mt=P.useMemo(()=>({monthly:r("subscriptions.periodMonthly")??"Mensual",quarterly:r("subscriptions.periodQuarterly")??"Trimestral",semiannual:r("subscriptions.periodSemiannual")??"Semestral",annual:r("subscriptions.periodAnnual")??"Anual"}),[r]),qt=P.useMemo(()=>{const G=new Set;for(const ye of t.subscriptions){const we=String(ye.currency||"").trim().toUpperCase();we&&G.add(we)}return G.add(c),Array.from(G).sort((ye,we)=>ye.localeCompare(we))},[c,t.subscriptions]),Nn=2,cn=P.useMemo(()=>{const G=new Date,ye=new Date(G);return ye.setDate(ye.getDate()+Nn),t.subscriptions.map(we=>{const _e=xl(we.startDate,we.period,G),ze=(we.currency||"USD").toUpperCase(),Pe=Sr(wE(we),ze,c),Ye=_e.getTime()<=ye.getTime();return{...we,rawCurrency:ze,nextRenewal:_e,dueSoon:Ye,monthlyEqBase:Pe}})},[c,t.subscriptions]),Lt=P.useMemo(()=>{const G=t.subscriptions.length;if(G===0)return{count:G,avgMonthlyBase:0,highest:null,dueSoonCount:0,nextDueDate:null,topCategory:null};const ye=new Map;let we=0,_e=null,ze=0,Pe=null;for(const Ne of cn){we+=Ne.monthlyEqBase,(!_e||Ne.monthlyEqBase>_e.valueBase)&&(_e={name:Ne.name,valueBase:Ne.monthlyEqBase}),Ne.dueSoon&&(ze+=1),(!Pe||Ne.nextRenewal.getTime()<Pe.getTime())&&(Pe=Ne.nextRenewal);const tt=String(Ne.category||"").trim()||(r("common.uncategorized")??"Sin categora");ye.set(tt,(ye.get(tt)??0)+Ne.monthlyEqBase)}let Ye=null;if(we>0&&ye.size>0){let Ne=null;for(const[tt,Kt]of ye.entries())(!Ne||Kt>Ne.value)&&(Ne={label:tt,value:Kt});Ne&&(Ye={label:Ne.label,percent:Math.round(Ne.value/we*100)})}return{count:G,avgMonthlyBase:we/G,highest:_e,dueSoonCount:ze,nextDueDate:Pe,topCategory:Ye}},[cn,t.subscriptions.length,r]),$i=P.useCallback(()=>{q(""),ae(""),re(""),fe(""),ne(""),E("")},[]),Wt=P.useMemo(()=>!!(z.trim()||X.trim()||J.trim()||Q||ce.trim()||Y.trim()),[X,J,Y,ce,Q,z]),li=P.useMemo(()=>{const G=z.trim().toLowerCase(),ye=ce.trim()?Number(ce):null,we=Y.trim()?Number(Y):null;return cn.filter(_e=>X.trim()&&String(_e.category||"").trim().toLowerCase()!==X.trim().toLowerCase()||J.trim()&&_e.rawCurrency!==J.trim().toUpperCase()||Q&&_e.period!==Q||ye!==null&&Number.isFinite(ye)&&_e.price<ye||we!==null&&Number.isFinite(we)&&_e.price>we?!1:G?[_e.name,_e.category,_e.rawCurrency,_e.period,Mt[_e.period],String(_e.price),Zn(_e.price,_e.rawCurrency)].some(Pe=>String(Pe||"").toLowerCase().includes(G)):!0)},[cn,X,J,Y,ce,Q,Mt,z]),Er=P.useCallback(G=>{F(ye=>ye.column===G?{column:G,direction:ye.direction==="asc"?"desc":"asc"}:{column:G,direction:"asc"})},[]),An=P.useMemo(()=>{const G=new Intl.Collator(void 0,{sensitivity:"base"}),ye=K.direction==="asc"?1:-1,we=ze=>{const Pe=Date.parse(`${String(ze||"").slice(0,10)}T00:00:00`);return Number.isFinite(Pe)?Pe:0},_e=(ze,Pe)=>{switch(K.column){case"name":return G.compare(ze.name,Pe.name)*ye;case"price":return(ze.price-Pe.price)*ye;case"startDate":return(we(ze.startDate)-we(Pe.startDate))*ye;case"category":{const Ye=String(ze.category||"").trim()||(r("common.uncategorized")??"Sin categora"),Ne=String(Pe.category||"").trim()||(r("common.uncategorized")??"Sin categora");return G.compare(Ye,Ne)*ye}default:return(ze.nextRenewal.getTime()-Pe.nextRenewal.getTime())*ye}};return[...li].sort(_e)},[li,K.column,K.direction]),Ln=({column:G,label:ye})=>{const we=K.column===G;return C.jsxs("button",{type:"button",onClick:()=>Er(G),"aria-pressed":we,className:"group inline-flex w-full items-center justify-center gap-1.5 rounded-md px-2 py-1 text-center text-xs font-bold uppercase tracking-wide hover:bg-slate-100 dark:hover:bg-slate-800 "+(we?"bg-indigo-50 text-indigo-950 ring-1 ring-inset ring-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-100 dark:ring-indigo-700":"text-slate-700 dark:text-slate-200"),children:[C.jsx("span",{className:"truncate",children:ye}),C.jsx("svg",{className:`h-3.5 w-3.5 flex-none transition-transform ${we?"opacity-100":"opacity-40 group-hover:opacity-70"} ${we&&K.direction==="desc"?"rotate-180":""}`,viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:C.jsx("path",{d:"M3 10l3-5 3 5"})})]})};return P.useEffect(()=>{if(!M)return;const G=window.setTimeout(()=>{N.current?.focus()},0),ye=we=>{we.key==="Escape"&&ln()};return window.addEventListener("keydown",ye),()=>{window.clearTimeout(G),window.removeEventListener("keydown",ye)}},[M]),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[C.jsxs("div",{children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("subscriptions.listTitle")??"Listado"}),C.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:r("subscriptions.subtitle")??""})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(mE,{items:t.subscriptions,onImport:e}),C.jsxs("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:opacity-60",disabled:t.subscriptions.length===0||w,onClick:()=>xn(!0),title:r("subscriptions.syncAll")??"Sincronizar todas","aria-label":r("subscriptions.syncAll")??"Sincronizar todas","aria-busy":w,children:[w?C.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 opacity-70",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[C.jsx("path",{d:"M12 2v4"}),C.jsx("path",{d:"M12 18v4"}),C.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),C.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),C.jsx("path",{d:"M2 12h4"}),C.jsx("path",{d:"M18 12h4"}),C.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),C.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]}):C.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[C.jsx("path",{d:"M21 12a9 9 0 0 0-15.5-6.36"}),C.jsx("path",{d:"M3 4v6h6"}),C.jsx("path",{d:"M3 12a9 9 0 0 0 15.5 6.36"}),C.jsx("path",{d:"M21 20v-6h-6"})]}),C.jsx("span",{className:"sr-only",children:w?r("subscriptions.syncing")??"Sincronizando":r("subscriptions.syncAll")??"Sincronizar todas"})]}),C.jsx("button",{type:"button",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500",onClick:Ui,children:r("subscriptions.addSubscription")??"Aadir suscripcin"})]})]}),C.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsxs("div",{className:"flex items-end justify-between gap-3",children:[C.jsxs("div",{children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsTitle")??"Resumen"}),C.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:r("subscriptions.insightsHint",{currency:c})??""})]}),C.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:r("subscriptions.insightsDueWindow",{days:Nn})??""})]}),t.subscriptions.length===0?C.jsx("div",{className:"mt-3 text-sm text-slate-500",children:r("subscriptions.noSubscriptions")??"No hay suscripciones an."}):C.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[C.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[C.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsCount")??"Suscripciones"}),C.jsx("div",{className:"mt-1 text-2xl font-black text-slate-900 dark:text-white",children:Lt.count})]}),C.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[C.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsAvgMonthly")??"Media mensual"}),C.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:Zn(Lt.avgMonthlyBase,c)}),C.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:r("subscriptions.insightsAvgMonthlyHelper",{currency:c})??""})]}),C.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[C.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsUpcoming")??"Prximas"}),C.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:r("subscriptions.insightsUpcomingValue",{count:Lt.dueSoonCount})??String(Lt.dueSoonCount)}),C.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:Lt.nextDueDate?r("subscriptions.insightsUpcomingHelper",{date:Lt.nextDueDate.toLocaleDateString(ed(s))})??"":r("common.none")??""})]}),C.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[C.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsTopCategory")??"Top categora"}),C.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:Lt.topCategory?Lt.topCategory.label:r("common.none")??""}),C.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:Lt.topCategory?r("subscriptions.insightsTopCategoryHelper",{percent:Lt.topCategory.percent})??"":""})]})]})]}),C.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[C.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[C.jsxs("div",{className:"relative w-full",children:[C.jsx("svg",{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",children:C.jsx("path",{d:"M8.5 3a5.5 5.5 0 014.33 9.02l3.58 3.58-1.06 1.06-3.58-3.58A5.5 5.5 0 118.5 3zm0 1.5a4 4 0 100 8 4 4 0 000-8z",fill:"currentColor"})}),C.jsx("input",{type:"search",value:z,onChange:G=>E(G.target.value),placeholder:r("subscriptions.searchPlaceholder")??"Buscar","aria-label":r("subscriptions.searchPlaceholder")??"Buscar",className:"w-full rounded-md border border-slate-300 bg-white py-2 pl-9 pr-3 text-sm dark:border-slate-700 dark:bg-slate-950",autoComplete:"off"})]}),C.jsx("button",{type:"button",className:`rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800 ${L?"bg-slate-100 dark:bg-slate-800":""}`,onClick:()=>W(G=>!G),"aria-pressed":L,children:r("subscriptions.filtersToggle")??"Filtros"}),Wt?C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:$i,children:r("common.clear")??"Limpiar"}):null]}),C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("subscriptions.resultsCount",{count:An.length})??`${An.length}`})]}),L?C.jsx("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:C.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterCategory")??"Categora"}),C.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:X,onChange:G=>q(G.target.value),children:[C.jsx("option",{value:"",children:r("common.none")??""}),Array.from(new Set(cn.map(G=>String(G.category||"").trim()).filter(Boolean))).sort((G,ye)=>G.localeCompare(ye)).map(G=>C.jsx("option",{value:G,children:G},G))]})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterCurrency")??"Moneda"}),C.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:J,onChange:G=>ae(G.target.value),children:[C.jsx("option",{value:"",children:r("common.none")??""}),qt.map(G=>C.jsx("option",{value:G,children:G},G))]})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterPeriod")??"Periodo"}),C.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Q,onChange:G=>re(G.target.value),children:[C.jsx("option",{value:"",children:r("common.none")??""}),Wn.map(G=>C.jsx("option",{value:G.value,children:G.label},G.value))]})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterMinPrice")??"Precio mn."}),C.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:ce,onChange:G=>fe(G.target.value)})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterMaxPrice")??"Precio mx."}),C.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Y,onChange:G=>ne(G.target.value)})]})]})}):null,C.jsx("div",{className:"mt-3 overflow-x-auto",children:C.jsxs("table",{className:"w-full min-w-[700px] table-fixed border-separate border-spacing-0 text-xs",children:[C.jsx("thead",{children:C.jsxs("tr",{className:"text-center",children:[C.jsx("th",{className:"sticky top-0 z-10 w-32 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:C.jsx(Ln,{column:"name",label:r("subscriptions.columnName")??"Nombre"})}),C.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:C.jsx(Ln,{column:"price",label:r("subscriptions.columnPrice")??"Importe"})}),C.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:C.jsx(Ln,{column:"startDate",label:r("subscriptions.columnStart")??"Inicio"})}),C.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:C.jsx(Ln,{column:"nextRenewal",label:r("subscriptions.columnNext")??"Prximo"})}),C.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:C.jsx(Ln,{column:"category",label:r("subscriptions.columnCategory")??"Categora"})}),C.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:C.jsx("span",{className:"block w-full text-center text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-200",children:r("subscriptions.columnActions")??"Acciones"})})]})}),C.jsx("tbody",{children:An.length===0?C.jsx("tr",{children:C.jsx("td",{colSpan:6,className:"py-6 text-center text-sm text-slate-500",children:Wt?r("subscriptions.emptyFiltered")??"Sin resultados con los filtros actuales.":r("subscriptions.noSubscriptions")??"No hay suscripciones an."})}):An.map(G=>{const ye=l==="convertToBase"?c:G.rawCurrency,we=l==="convertToBase"?Sr(G.price,G.rawCurrency,c):G.price,_e=String(G.category||"").trim();return C.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 dark:border-slate-800/60 dark:hover:bg-slate-800/30",children:[C.jsxs("td",{className:"px-2 py-1.5 text-center",children:[C.jsxs("div",{className:"flex items-center justify-center gap-2",children:[C.jsx("div",{className:"min-w-0 truncate font-semibold text-slate-900 dark:text-white",children:G.name}),G.dueSoon?C.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:r("subscriptions.dueSoon")??"Pronto"}):null]}),C.jsx("div",{className:"mt-0.5 whitespace-nowrap text-center text-[11px] text-slate-500 dark:text-slate-400",children:Mt[G.period]})]}),C.jsx("td",{className:"px-2 py-1.5 text-center font-semibold text-slate-900 dark:text-white",children:Zn(we,ye)}),C.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:new Date(G.startDate).toLocaleDateString(ed(s))}),C.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:G.nextRenewal.toLocaleDateString(ed(s))}),C.jsx("td",{className:"px-2 py-1.5 truncate text-center text-slate-600 dark:text-slate-300",children:_e||(r("common.uncategorized")??"Sin categora")}),C.jsx("td",{className:"py-1.5",children:C.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[C.jsxs("button",{type:"button","aria-label":r("common.edit")??"Editar",title:r("common.edit")??"Editar",className:"inline-flex items-center justify-center rounded-md bg-amber-600/80 px-2 py-1 text-[11px] font-semibold text-white hover:bg-amber-500/80",onClick:()=>Mr(G),children:[C.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[C.jsx("path",{d:"M12 20h9"}),C.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L8 18l-4 1 1-4 11.5-11.5z"})]}),C.jsx("span",{className:"sr-only",children:r("common.edit")??"Editar"})]}),C.jsxs("button",{type:"button","aria-label":r("common.delete")??"Eliminar",title:r("common.delete")??"Eliminar",className:"inline-flex items-center justify-center rounded-md bg-rose-600 px-2 py-1 text-[11px] font-semibold text-white hover:bg-rose-500",onClick:()=>Hn(G.id),children:[C.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[C.jsx("path",{d:"M3 6h18"}),C.jsx("path",{d:"M8 6V4h8v2"}),C.jsx("path",{d:"M6 6l1 14h10l1-14"}),C.jsx("path",{d:"M10 11v6"}),C.jsx("path",{d:"M14 11v6"})]}),C.jsx("span",{className:"sr-only",children:r("common.delete")??"Eliminar"})]})]})})]},G.id)})})]})})]}),M?C.jsxs("div",{className:"fixed inset-0 z-50",children:[C.jsx("div",{className:"absolute inset-0 bg-slate-950/50",onClick:ln}),C.jsx("div",{className:"relative mx-auto w-full max-w-3xl px-4 py-6",children:C.jsxs("div",{role:"dialog","aria-modal":"true",className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:V?r("subscriptions.editSubscription")??"Editar suscripcin":r("subscriptions.addSubscriptionTitle")??"Aadir suscripcin"}),C.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.name")??"Nombre"}),C.jsx("input",{ref:N,className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:de,onChange:G=>le(G.target.value)})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.category")??"Categora"}),C.jsx("input",{list:"subly-categories",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:ke,onChange:G=>Me(G.target.value),placeholder:r("subscriptions.categoryPlaceholder")??"Ej: Streaming"}),C.jsx("datalist",{id:"subly-categories",children:ai.map(G=>C.jsx("option",{value:G},G))})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.amount")??"Importe"}),C.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Oe,onChange:G=>Le(G.target.value)})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.currency")??"Moneda"}),C.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:$e,onChange:G=>ht(G.target.value),children:ji.map(G=>C.jsxs("option",{value:G.code,children:[G.code," (",G.symbol,")  ",G.names[s]]},G.code))})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.period")??"Periodo"}),C.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:$t,onChange:G=>He(G.target.value),children:Wn.map(G=>C.jsx("option",{value:G.value,children:G.label},G.value))})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.startDate")??"Fecha inicio"}),C.jsx("input",{type:"date",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:je,onChange:G=>Ht(G.target.value)})]})]}),C.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[C.jsx("button",{type:"button",disabled:!Tt,"aria-disabled":!Tt,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500 disabled:cursor-not-allowed disabled:opacity-60",onClick:ir,children:V?r("common.save")??"Guardar":r("common.add")??"Aadir"}),C.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:ln,children:r("common.cancel")??"Cancelar"}),Tt?null:C.jsx("div",{className:"flex items-center text-sm text-slate-600 dark:text-slate-300",children:r("subscriptions.helpIncomplete")??"Completa nombre, importe y fecha."})]})]})})]}):null]})}function _E(){const{state:t,setSettings:e,setSubscriptions:n}=Nl(),{t:r,language:s}=_s(),a=Yd(),[l,c]=P.useState(null),d=P.useMemo(()=>{const k=String(t.settings.driveLastBackupAt||"").trim();if(!k)return r("common.none")??"";const R=new Date(k);return Number.isNaN(R.getTime())?k:R.toLocaleString(s==="es"?"es-ES":"en-US")},[s,t.settings.driveLastBackupAt,r]);function f(k){e({...t.settings,language:k})}function p(k){e({...t.settings,currencyDisplayMode:k})}function g(k){e({...t.settings,baseCurrency:String(k||"USD").trim().toUpperCase()})}function v(k){e({...t.settings,calendarAutoSyncAll:k})}function x(k){e({...t.settings,calendarUseDedicatedCalendar:k})}const b="https://calendar.google.com/calendar/u/0/r";async function w(){if(!l){c("save");try{const k=JSON.stringify({version:1,savedAt:new Date().toISOString(),state:t},null,2),R=await Xy({json:k,fileId:t.settings.driveBackupFileId,interactive:!0});e({...t.settings,driveBackupFileId:R.fileId,driveLastBackupAt:R.modifiedTime??new Date().toISOString()}),a.success(r("drive.backupSaved")??"Copia guardada en Google Drive.")}catch(k){const R=k instanceof Error?k.message:String(k);a.error((r("drive.backupSaveFailed")??"No se pudo guardar la copia en Google Drive.")+(R?` ${R}`:""))}finally{c(null)}}}async function _(){if(l)return;const k=r("drive.restoreConfirm")??"Esto reemplazar tus datos locales con los de Drive. Continuar?";if(window.confirm(k)){c("restore");try{const R=await xE({fileId:t.settings.driveBackupFileId,interactive:!0});let M;try{M=JSON.parse(R.jsonText)}catch{throw new Error("Invalid JSON in Drive backup file.")}const A=M&&typeof M=="object"&&"state"in M?M.state:M,N=yo(A);n(N.subscriptions),e({...N.settings,driveBackupFileId:R.fileId,driveLastBackupAt:R.modifiedTime??new Date().toISOString()}),a.success(r("drive.backupRestored")??"Datos restaurados desde Google Drive.")}catch(R){const M=R instanceof Error?R.message:String(R);a.error((r("drive.backupRestoreFailed")??"No se pudo restaurar desde Google Drive.")+(M?` ${M}`:""))}finally{c(null)}}}return C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("settings.languageTitle")??"Idioma"}),C.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:r("settings.languageDescription")??"Elige el idioma de la interfaz."}),C.jsx("div",{className:"mt-3",children:C.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:s,onChange:k=>f(k.target.value),children:[C.jsx("option",{value:"es",children:r("common.language.es")??"Espaol"}),C.jsx("option",{value:"en",children:r("common.language.en")??"English"})]})})]}),C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("settings.currencyTitle")??"Moneda"}),C.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("settings.displayAmounts")??"Mostrar importes"}),C.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:t.settings.currencyDisplayMode,onChange:k=>p(k.target.value),children:[C.jsx("option",{value:"original",children:r("settings.displayOriginal")??"Con sus monedas originales"}),C.jsx("option",{value:"convertToBase",children:r("settings.displayConvert")??"Convertir a una moneda nica"})]})]}),C.jsxs("label",{className:"text-sm",children:[C.jsx("div",{className:"mb-1 font-semibold",children:r("settings.baseCurrency")??"Moneda base"}),C.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 disabled:opacity-60 dark:border-slate-700 dark:bg-slate-950",value:t.settings.baseCurrency,onChange:k=>g(k.target.value),disabled:t.settings.currencyDisplayMode!=="convertToBase",children:ji.map(k=>C.jsxs("option",{value:k.code,children:[k.code," (",k.symbol,")  ",k.names[s]]},k.code))})]})]}),C.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:r("settings.currencyHint")??"Si eliges moneda nica, los totales y grficos se convierten a la moneda base."})]}),C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-lg font-bold",children:r("settings.googleCalendarTitle")??"Google Calendar"}),C.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:r("settings.googleCalendarBody")??"Se abre en una pestaa por seguridad (Google Calendar no se puede embeber en el panel)."}),C.jsxs("div",{className:"mt-4",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("settings.calendarSyncTitle")??"Sincronizacin"}),C.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm font-semibold",children:[C.jsx("input",{type:"checkbox",checked:!!t.settings.calendarUseDedicatedCalendar,onChange:k=>x(k.target.checked),className:"h-4 w-4"}),r("settings.calendarDedicatedLabel")??"Usar calendario dedicado para suscripciones"]}),C.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:r("settings.calendarDedicatedHint")??"Si est activo, los eventos se publican en un calendario separado para poder filtrarlos en Google Calendar."}),C.jsxs("label",{className:"mt-2 flex items-center gap-2 text-sm font-semibold",children:[C.jsx("input",{type:"checkbox",checked:!!t.settings.calendarAutoSyncAll,onChange:k=>v(k.target.checked),className:"h-4 w-4"}),r("settings.calendarAutoSyncAllLabel")??"Auto-sync de suscripciones"]}),C.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:r("settings.calendarAutoSyncAllHint")??"Si est activo, los cambios en Suscripciones intentarn sincronizarse automticamente (si ya hay autorizacin)."})]}),C.jsx("div",{className:"mt-4",children:C.jsx("a",{className:"inline-flex rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500",href:b,target:"_blank",rel:"noreferrer",children:r("settings.openGoogleCalendar")??"Abrir Google Calendar"})})]}),C.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[C.jsx("div",{className:"text-lg font-bold",children:r("drive.title")??"Google Drive (backup)"}),C.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-300",children:r("drive.body")??"Guarda y restaura tus datos usando la carpeta oculta de la app (appDataFolder)."}),C.jsxs("div",{className:"mt-3 text-xs font-semibold text-slate-500 dark:text-slate-400",children:[r("drive.lastBackup")??"ltima copia",": ",d]}),C.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[C.jsx("button",{type:"button",className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-500 disabled:opacity-60",onClick:w,disabled:l!==null,children:l==="save"?r("drive.saving")??"Guardando":r("drive.save")??"Guardar en Drive"}),C.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800 disabled:opacity-60 dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-slate-200",onClick:_,disabled:l!==null,children:l==="restore"?r("drive.restoring")??"Restaurando":r("drive.restore")??"Restaurar desde Drive"})]})]})]})}const kE=[{path:"/",element:C.jsx(qS,{}),children:[{path:"/",element:C.jsx(Yg,{})},{path:"/dashboard",element:C.jsx(Yg,{})},{path:"/subscriptions",element:C.jsx(SE,{})},{path:"/settings",element:C.jsx(_E,{})}]}],CE=tw(kE);function ME(){const{t}=_s();return C.jsx("div",{className:"p-4 text-sm",children:t("common.loading")??"Loading"})}Bx.createRoot(document.getElementById("root")).render(C.jsx(Zg.StrictMode,{children:C.jsx(VS,{children:C.jsx(cE,{children:C.jsx(P.Suspense,{fallback:C.jsx(ME,{}),children:C.jsx(hw,{router:CE})})})})}));
