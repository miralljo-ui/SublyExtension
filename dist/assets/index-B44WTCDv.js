function Sk(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function ib(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yd={exports:{}},Go={},Kd={exports:{}},Ve={};var o0;function Ck(){if(o0)return Ve;o0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function C(O,K,de){this.props=O,this.context=K,this.refs=w,this.updater=de||v}C.prototype.isReactComponent={},C.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=C.prototype;function P(O,K,de){this.props=O,this.context=K,this.refs=w,this.updater=de||v}var E=P.prototype=new _;E.constructor=P,b(E,C.prototype),E.isPureReactComponent=!0;var A=Array.isArray,D=Object.prototype.hasOwnProperty,j={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function R(O,K,de){var ae,pe={},ve=null,Ne=null;if(K!=null)for(ae in K.ref!==void 0&&(Ne=K.ref),K.key!==void 0&&(ve=""+K.key),K)D.call(K,ae)&&!T.hasOwnProperty(ae)&&(pe[ae]=K[ae]);var Le=arguments.length-2;if(Le===1)pe.children=de;else if(1<Le){for(var Fe=Array(Le),gt=0;gt<Le;gt++)Fe[gt]=arguments[gt+2];pe.children=Fe}if(O&&O.defaultProps)for(ae in Le=O.defaultProps,Le)pe[ae]===void 0&&(pe[ae]=Le[ae]);return{$$typeof:t,type:O,key:ve,ref:Ne,props:pe,_owner:j.current}}function V(O,K){return{$$typeof:t,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function G(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return K[de]})}var X=/\/+/g;function oe(O,K){return typeof O=="object"&&O!==null&&O.key!=null?G(""+O.key):K.toString(36)}function J(O,K,de,ae,pe){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var Ne=!1;if(O===null)Ne=!0;else switch(ve){case"string":case"number":Ne=!0;break;case"object":switch(O.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=O,pe=pe(Ne),O=ae===""?"."+oe(Ne,0):ae,A(pe)?(de="",O!=null&&(de=O.replace(X,"$&/")+"/"),J(pe,K,de,"",function(gt){return gt})):pe!=null&&(I(pe)&&(pe=V(pe,de+(!pe.key||Ne&&Ne.key===pe.key?"":(""+pe.key).replace(X,"$&/")+"/")+O)),K.push(pe)),1;if(Ne=0,ae=ae===""?".":ae+":",A(O))for(var Le=0;Le<O.length;Le++){ve=O[Le];var Fe=ae+oe(ve,Le);Ne+=J(ve,K,de,Fe,pe)}else if(Fe=g(O),typeof Fe=="function")for(O=Fe.call(O),Le=0;!(ve=O.next()).done;)ve=ve.value,Fe=ae+oe(ve,Le++),Ne+=J(ve,K,de,Fe,pe);else if(ve==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ne}function te(O,K,de){if(O==null)return O;var ae=[],pe=0;return J(O,ae,"","",function(ve){return K.call(de,ve,pe++)}),ae}function ue(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var ee={current:null},$={transition:null},Z={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:$,ReactCurrentOwner:j};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:te,forEach:function(O,K,de){te(O,function(){K.apply(this,arguments)},de)},count:function(O){var K=0;return te(O,function(){K++}),K},toArray:function(O){return te(O,function(K){return K})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ve.Component=C,Ve.Fragment=n,Ve.Profiler=r,Ve.PureComponent=P,Ve.StrictMode=i,Ve.Suspense=u,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ve.act=Q,Ve.cloneElement=function(O,K,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ae=b({},O.props),pe=O.key,ve=O.ref,Ne=O._owner;if(K!=null){if(K.ref!==void 0&&(ve=K.ref,Ne=j.current),K.key!==void 0&&(pe=""+K.key),O.type&&O.type.defaultProps)var Le=O.type.defaultProps;for(Fe in K)D.call(K,Fe)&&!T.hasOwnProperty(Fe)&&(ae[Fe]=K[Fe]===void 0&&Le!==void 0?Le[Fe]:K[Fe])}var Fe=arguments.length-2;if(Fe===1)ae.children=de;else if(1<Fe){Le=Array(Fe);for(var gt=0;gt<Fe;gt++)Le[gt]=arguments[gt+2];ae.children=Le}return{$$typeof:t,type:O.type,key:pe,ref:ve,props:ae,_owner:Ne}},Ve.createContext=function(O){return O={$$typeof:a,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},Ve.createElement=R,Ve.createFactory=function(O){var K=R.bind(null,O);return K.type=O,K},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(O){return{$$typeof:c,render:O}},Ve.isValidElement=I,Ve.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:ue}},Ve.memo=function(O,K){return{$$typeof:h,type:O,compare:K===void 0?null:K}},Ve.startTransition=function(O){var K=$.transition;$.transition={};try{O()}finally{$.transition=K}},Ve.unstable_act=Q,Ve.useCallback=function(O,K){return ee.current.useCallback(O,K)},Ve.useContext=function(O){return ee.current.useContext(O)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(O){return ee.current.useDeferredValue(O)},Ve.useEffect=function(O,K){return ee.current.useEffect(O,K)},Ve.useId=function(){return ee.current.useId()},Ve.useImperativeHandle=function(O,K,de){return ee.current.useImperativeHandle(O,K,de)},Ve.useInsertionEffect=function(O,K){return ee.current.useInsertionEffect(O,K)},Ve.useLayoutEffect=function(O,K){return ee.current.useLayoutEffect(O,K)},Ve.useMemo=function(O,K){return ee.current.useMemo(O,K)},Ve.useReducer=function(O,K,de){return ee.current.useReducer(O,K,de)},Ve.useRef=function(O){return ee.current.useRef(O)},Ve.useState=function(O){return ee.current.useState(O)},Ve.useSyncExternalStore=function(O,K,de){return ee.current.useSyncExternalStore(O,K,de)},Ve.useTransition=function(){return ee.current.useTransition()},Ve.version="18.3.1",Ve}var a0;function Pf(){return a0||(a0=1,Kd.exports=Ck()),Kd.exports}var l0;function kk(){if(l0)return Go;l0=1;var t=Pf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,h){var f,m={},g=null,v=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)i.call(u,f)&&!o.hasOwnProperty(f)&&(m[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:e,type:c,key:g,ref:v,props:m,_owner:r.current}}return Go.Fragment=n,Go.jsx=a,Go.jsxs=a,Go}var c0;function _k(){return c0||(c0=1,Yd.exports=kk()),Yd.exports}var S=_k(),M=Pf();const Df=ib(M),Mk=Sk({__proto__:null,default:Df},[M]);var Ql={},Xd={exports:{}},pn={},qd={exports:{}},Qd={};var u0;function Ek(){return u0||(u0=1,(function(t){function e($,Z){var Q=$.length;$.push(Z);e:for(;0<Q;){var O=Q-1>>>1,K=$[O];if(0<r(K,Z))$[O]=Z,$[Q]=K,Q=O;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Z=$[0],Q=$.pop();if(Q!==Z){$[0]=Q;e:for(var O=0,K=$.length,de=K>>>1;O<de;){var ae=2*(O+1)-1,pe=$[ae],ve=ae+1,Ne=$[ve];if(0>r(pe,Q))ve<K&&0>r(Ne,pe)?($[O]=Ne,$[ve]=Q,O=ve):($[O]=pe,$[ae]=Q,O=ae);else if(ve<K&&0>r(Ne,Q))$[O]=Ne,$[ve]=Q,O=ve;else break e}}return Z}function r($,Z){var Q=$.sortIndex-Z.sortIndex;return Q!==0?Q:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],h=[],f=1,m=null,g=3,v=!1,b=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var Z=n(h);Z!==null;){if(Z.callback===null)i(h);else if(Z.startTime<=$)i(h),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(h)}}function A($){if(w=!1,E($),!b)if(n(u)!==null)b=!0,ue(D);else{var Z=n(h);Z!==null&&ee(A,Z.startTime-$)}}function D($,Z){b=!1,w&&(w=!1,_(R),R=-1),v=!0;var Q=g;try{for(E(Z),m=n(u);m!==null&&(!(m.expirationTime>Z)||$&&!G());){var O=m.callback;if(typeof O=="function"){m.callback=null,g=m.priorityLevel;var K=O(m.expirationTime<=Z);Z=t.unstable_now(),typeof K=="function"?m.callback=K:m===n(u)&&i(u),E(Z)}else i(u);m=n(u)}if(m!==null)var de=!0;else{var ae=n(h);ae!==null&&ee(A,ae.startTime-Z),de=!1}return de}finally{m=null,g=Q,v=!1}}var j=!1,T=null,R=-1,V=5,I=-1;function G(){return!(t.unstable_now()-I<V)}function X(){if(T!==null){var $=t.unstable_now();I=$;var Z=!0;try{Z=T(!0,$)}finally{Z?oe():(j=!1,T=null)}}else j=!1}var oe;if(typeof P=="function")oe=function(){P(X)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,te=J.port2;J.port1.onmessage=X,oe=function(){te.postMessage(null)}}else oe=function(){C(X,0)};function ue($){T=$,j||(j=!0,oe())}function ee($,Z){R=C(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){b||v||(b=!0,ue(D))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var Q=g;g=Z;try{return $()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=g;g=$;try{return Z()}finally{g=Q}},t.unstable_scheduleCallback=function($,Z,Q){var O=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?O+Q:O):Q=O,$){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Q+K,$={id:f++,callback:Z,priorityLevel:$,startTime:Q,expirationTime:K,sortIndex:-1},Q>O?($.sortIndex=Q,e(h,$),n(u)===null&&$===n(h)&&(w?(_(R),R=-1):w=!0,ee(A,Q-O))):($.sortIndex=K,e(u,$),b||v||(b=!0,ue(D))),$},t.unstable_shouldYield=G,t.unstable_wrapCallback=function($){var Z=g;return function(){var Q=g;g=Z;try{return $.apply(this,arguments)}finally{g=Q}}}})(Qd)),Qd}var d0;function Tk(){return d0||(d0=1,qd.exports=Ek()),qd.exports}var h0;function Pk(){if(h0)return pn;h0=1;var t=Pf(),e=Tk();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(r[s]=l,s=0;s<l.length;s++)i.add(l[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(s){return u.call(m,s)?!0:u.call(f,s)?!1:h.test(s)?m[s]=!0:(f[s]=!0,!1)}function v(s,l,d,p){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:d!==null?!d.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,l,d,p){if(l===null||typeof l>"u"||v(s,l,d,p))return!0;if(p)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(s,l,d,p,y,x,k){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=d,this.propertyName=s,this.type=l,this.sanitizeURL=x,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];C[l]=new w(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(_,P);C[l]=new w(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(_,P);C[l]=new w(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(_,P);C[l]=new w(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,l,d,p){var y=C.hasOwnProperty(l)?C[l]:null;(y!==null?y.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,d,y,p)&&(d=null),p||y===null?g(l)&&(d===null?s.removeAttribute(l):s.setAttribute(l,""+d)):y.mustUseProperty?s[y.propertyName]=d===null?y.type===3?!1:"":d:(l=y.attributeName,p=y.attributeNamespace,d===null?s.removeAttribute(l):(y=y.type,d=y===3||y===4&&d===!0?"":""+d,p?s.setAttributeNS(p,l,d):s.setAttribute(l,d))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),j=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),G=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),$=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Object.assign,O;function K(s){if(O===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);O=l&&l[1]||""}return`
`+O+s}var de=!1;function ae(s,l){if(!s||de)return"";de=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Y){var p=Y}Reflect.construct(s,[],l)}else{try{l.call()}catch(Y){p=Y}s.call(l.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),x=p.stack.split(`
`),k=y.length-1,L=x.length-1;1<=k&&0<=L&&y[k]!==x[L];)L--;for(;1<=k&&0<=L;k--,L--)if(y[k]!==x[L]){if(k!==1||L!==1)do if(k--,L--,0>L||y[k]!==x[L]){var F=`
`+y[k].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=k&&0<=L);break}}}finally{de=!1,Error.prepareStackTrace=d}return(s=s?s.displayName||s.name:"")?K(s):""}function pe(s){switch(s.tag){case 5:return K(s.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return s=ae(s.type,!1),s;case 11:return s=ae(s.type.render,!1),s;case 1:return s=ae(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case j:return"Portal";case V:return"Profiler";case R:return"StrictMode";case oe:return"Suspense";case J:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case G:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case X:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case te:return l=s.displayName||null,l!==null?l:ve(s.type)||"Memo";case ue:l=s._payload,s=s._init;try{return ve(s(l))}catch{}}return null}function Ne(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Le(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fe(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function gt(s){var l=Fe(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),p=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,x=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return y.call(this)},set:function(k){p=""+k,x.call(this,k)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function qt(s){s._valueTracker||(s._valueTracker=gt(s))}function He(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return s&&(p=Fe(s)?s.checked?"true":"false":s.value),s=p,s!==d?(l.setValue(s),!0):!1}function ze(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Qt(s,l){var d=l.checked;return Q({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??s._wrapperState.initialChecked})}function Ft(s,l){var d=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;d=Le(l.value!=null?l.value:d),s._wrapperState={initialChecked:p,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Mt(s,l){l=l.checked,l!=null&&E(s,"checked",l,!1)}function vn(s,l){Mt(s,l);var d=Le(l.value),p=l.type;if(d!=null)p==="number"?(d===0&&s.value===""||s.value!=d)&&(s.value=""+d):s.value!==""+d&&(s.value=""+d);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?Ki(s,l.type,d):l.hasOwnProperty("defaultValue")&&Ki(s,l.type,Le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function bs(s,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,d||l===s.value||(s.value=l),s.defaultValue=l}d=s.name,d!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,d!==""&&(s.name=d)}function Ki(s,l,d){(l!=="number"||ze(s.ownerDocument)!==s)&&(d==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+d&&(s.defaultValue=""+d))}var Ci=Array.isArray;function si(s,l,d,p){if(s=s.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<s.length;d++)y=l.hasOwnProperty("$"+s[d].value),s[d].selected!==y&&(s[d].selected=y),y&&p&&(s[d].defaultSelected=!0)}else{for(d=""+Le(d),l=null,y=0;y<s.length;y++){if(s[y].value===d){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}l!==null||s[y].disabled||(l=s[y])}l!==null&&(l.selected=!0)}}function Tn(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Wn(s,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Ci(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}s._wrapperState={initialValue:Le(d)}}function sn(s,l){var d=Le(l.value),p=Le(l.defaultValue);d!=null&&(d=""+d,d!==s.value&&(s.value=d),l.defaultValue==null&&s.defaultValue!==d&&(s.defaultValue=d)),p!=null&&(s.defaultValue=""+p)}function Pn(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Lr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oi(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Lr(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var At,on=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,p,y){MSApp.execUnsafeLocalFunction(function(){return s(l,d,p,y)})}:s})(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(At=At||document.createElement("div"),At.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=At.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Gn(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vt=["Webkit","ms","Moz","O"];Object.keys(xn).forEach(function(s){Vt.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),xn[l]=xn[s]})});function ws(s,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||xn.hasOwnProperty(s)&&xn[s]?(""+l).trim():l+"px"}function Jt(s,l){s=s.style;for(var d in l)if(l.hasOwnProperty(d)){var p=d.indexOf("--")===0,y=ws(d,l[d],p);d==="float"&&(d="cssFloat"),p?s.setProperty(d,y):s[d]=y}}var Nr=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xi(s,l){if(l){if(Nr[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Yn(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=null;function q(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var be=null,ke=null,Me=null;function Be(s){if(s=Ro(s)){if(typeof be!="function")throw Error(n(280));var l=s.stateNode;l&&(l=hl(l),be(s.stateNode,s.type,l))}}function De(s){ke?Me?Me.push(s):Me=[s]:ke=s}function Ye(){if(ke){var s=ke,l=Me;if(Me=ke=null,Be(s),l)for(s=0;s<l.length;s++)Be(l[s])}}function je(s,l){return s(l)}function nt(){}var an=!1;function jr(s,l,d){if(an)return s(l,d);an=!0;try{return je(s,l,d)}finally{an=!1,(ke!==null||Me!==null)&&(nt(),Ye())}}function ki(s,l){var d=s.stateNode;if(d===null)return null;var p=hl(d);if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var qi=!1;if(c)try{var N={};Object.defineProperty(N,"passive",{get:function(){qi=!0}}),window.addEventListener("test",N,N),window.removeEventListener("test",N,N)}catch{qi=!1}function B(s,l,d,p,y,x,k,L,F){var Y=Array.prototype.slice.call(arguments,3);try{l.apply(d,Y)}catch(re){this.onError(re)}}var W=!1,ne=null,le=!1,we=null,fe={onError:function(s){W=!0,ne=s}};function Se(s,l,d,p,y,x,k,L,F){W=!1,ne=null,B.apply(fe,arguments)}function he(s,l,d,p,y,x,k,L,F){if(Se.apply(this,arguments),W){if(W){var Y=ne;W=!1,ne=null}else throw Error(n(198));le||(le=!0,we=Y)}}function ge(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function Pe(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Te(s){if(ge(s)!==s)throw Error(n(188))}function Ke(s){var l=s.alternate;if(!l){if(l=ge(s),l===null)throw Error(n(188));return l!==s?null:s}for(var d=s,p=l;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if(p=y.return,p!==null){d=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return Te(y),s;if(x===p)return Te(y),l;x=x.sibling}throw Error(n(188))}if(d.return!==p.return)d=y,p=x;else{for(var k=!1,L=y.child;L;){if(L===d){k=!0,d=y,p=x;break}if(L===p){k=!0,p=y,d=x;break}L=L.sibling}if(!k){for(L=x.child;L;){if(L===d){k=!0,d=x,p=y;break}if(L===p){k=!0,p=x,d=y;break}L=L.sibling}if(!k)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:l}function We(s){return s=Ke(s),s!==null?Ct(s):null}function Ct(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Ct(s);if(l!==null)return l;s=s.sibling}return null}var bt=e.unstable_scheduleCallback,Lt=e.unstable_cancelCallback,Qe=e.unstable_shouldYield,ln=e.unstable_requestPaint,Ze=e.unstable_now,Or=e.unstable_getCurrentPriorityLevel,Dn=e.unstable_ImmediatePriority,bn=e.unstable_UserBlockingPriority,Qi=e.unstable_NormalPriority,Fr=e.unstable_LowPriority,ai=e.unstable_IdlePriority,_i=null,Zt=null;function Ge(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(_i,s,void 0,(s.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:ut,Ji=Math.log,Mi=Math.LN2;function ut(s){return s>>>=0,s===0?32:31-(Ji(s)/Mi|0)|0}var Ei=64,Ir=4194304;function zr(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function qa(s,l){var d=s.pendingLanes;if(d===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes,k=d&268435455;if(k!==0){var L=k&~y;L!==0?p=zr(L):(x&=k,x!==0&&(p=zr(x)))}else k=d&~y,k!==0?p=zr(k):x!==0&&(p=zr(x));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)===0&&(y=p&-p,x=l&-l,y>=x||y===16&&(x&4194240)!==0))return l;if((p&4)!==0&&(p|=d&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=p;0<l;)d=31-it(l),y=1<<d,p|=s[d],l&=~y;return p}function VS(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function US(s,l){for(var d=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes;0<x;){var k=31-it(x),L=1<<k,F=y[k];F===-1?((L&d)===0||(L&p)!==0)&&(y[k]=VS(L,l)):F<=l&&(s.expiredLanes|=L),x&=~L}}function pu(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Fp(){var s=Ei;return Ei<<=1,(Ei&4194240)===0&&(Ei=64),s}function mu(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function po(s,l,d){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-it(l),s[l]=d}function $S(s,l){var d=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<d;){var y=31-it(d),x=1<<y;l[y]=0,p[y]=-1,s[y]=-1,d&=~x}}function gu(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var p=31-it(d),y=1<<p;y&l|s[p]&l&&(s[p]|=l),d&=~y}}var et=0;function Ip(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var zp,yu,Bp,Vp,Up,vu=!1,Qa=[],Zi=null,er=null,tr=null,mo=new Map,go=new Map,nr=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $p(s,l){switch(s){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":mo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(l.pointerId)}}function yo(s,l,d,p,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:x,targetContainers:[y]},l!==null&&(l=Ro(l),l!==null&&yu(l)),s):(s.eventSystemFlags|=p,l=s.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),s)}function WS(s,l,d,p,y){switch(l){case"focusin":return Zi=yo(Zi,s,l,d,p,y),!0;case"dragenter":return er=yo(er,s,l,d,p,y),!0;case"mouseover":return tr=yo(tr,s,l,d,p,y),!0;case"pointerover":var x=y.pointerId;return mo.set(x,yo(mo.get(x)||null,s,l,d,p,y)),!0;case"gotpointercapture":return x=y.pointerId,go.set(x,yo(go.get(x)||null,s,l,d,p,y)),!0}return!1}function Hp(s){var l=Br(s.target);if(l!==null){var d=ge(l);if(d!==null){if(l=d.tag,l===13){if(l=Pe(d),l!==null){s.blockedOn=l,Up(s.priority,function(){Bp(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ja(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=bu(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);Kn=p,d.target.dispatchEvent(p),Kn=null}else return l=Ro(d),l!==null&&yu(l),s.blockedOn=d,!1;l.shift()}return!0}function Wp(s,l,d){Ja(s)&&d.delete(l)}function GS(){vu=!1,Zi!==null&&Ja(Zi)&&(Zi=null),er!==null&&Ja(er)&&(er=null),tr!==null&&Ja(tr)&&(tr=null),mo.forEach(Wp),go.forEach(Wp)}function vo(s,l){s.blockedOn===l&&(s.blockedOn=null,vu||(vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GS)))}function xo(s){function l(y){return vo(y,s)}if(0<Qa.length){vo(Qa[0],s);for(var d=1;d<Qa.length;d++){var p=Qa[d];p.blockedOn===s&&(p.blockedOn=null)}}for(Zi!==null&&vo(Zi,s),er!==null&&vo(er,s),tr!==null&&vo(tr,s),mo.forEach(l),go.forEach(l),d=0;d<nr.length;d++)p=nr[d],p.blockedOn===s&&(p.blockedOn=null);for(;0<nr.length&&(d=nr[0],d.blockedOn===null);)Hp(d),d.blockedOn===null&&nr.shift()}var Ss=A.ReactCurrentBatchConfig,Za=!0;function YS(s,l,d,p){var y=et,x=Ss.transition;Ss.transition=null;try{et=1,xu(s,l,d,p)}finally{et=y,Ss.transition=x}}function KS(s,l,d,p){var y=et,x=Ss.transition;Ss.transition=null;try{et=4,xu(s,l,d,p)}finally{et=y,Ss.transition=x}}function xu(s,l,d,p){if(Za){var y=bu(s,l,d,p);if(y===null)Fu(s,l,p,el,d),$p(s,p);else if(WS(y,s,l,d,p))p.stopPropagation();else if($p(s,p),l&4&&-1<HS.indexOf(s)){for(;y!==null;){var x=Ro(y);if(x!==null&&zp(x),x=bu(s,l,d,p),x===null&&Fu(s,l,p,el,d),x===y)break;y=x}y!==null&&p.stopPropagation()}else Fu(s,l,p,null,d)}}var el=null;function bu(s,l,d,p){if(el=null,s=q(p),s=Br(s),s!==null)if(l=ge(s),l===null)s=null;else if(d=l.tag,d===13){if(s=Pe(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return el=s,null}function Gp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Or()){case Dn:return 1;case bn:return 4;case Qi:case Fr:return 16;case ai:return 536870912;default:return 16}default:return 16}}var ir=null,wu=null,tl=null;function Yp(){if(tl)return tl;var s,l=wu,d=l.length,p,y="value"in ir?ir.value:ir.textContent,x=y.length;for(s=0;s<d&&l[s]===y[s];s++);var k=d-s;for(p=1;p<=k&&l[d-p]===y[x-p];p++);return tl=y.slice(s,1<p?1-p:void 0)}function nl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function il(){return!0}function Kp(){return!1}function wn(s){function l(d,p,y,x,k){this._reactName=d,this._targetInst=y,this.type=p,this.nativeEvent=x,this.target=k,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(d=s[L],this[L]=d?d(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?il:Kp,this.isPropagationStopped=Kp,this}return Q(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),l}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=wn(Cs),bo=Q({},Cs,{view:0,detail:0}),XS=wn(bo),Cu,ku,wo,rl=Q({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wo&&(wo&&s.type==="mousemove"?(Cu=s.screenX-wo.screenX,ku=s.screenY-wo.screenY):ku=Cu=0,wo=s),Cu)},movementY:function(s){return"movementY"in s?s.movementY:ku}}),Xp=wn(rl),qS=Q({},rl,{dataTransfer:0}),QS=wn(qS),JS=Q({},bo,{relatedTarget:0}),_u=wn(JS),ZS=Q({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),eC=wn(ZS),tC=Q({},Cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),nC=wn(tC),iC=Q({},Cs,{data:0}),qp=wn(iC),rC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aC(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=oC[s])?!!l[s]:!1}function Mu(){return aC}var lC=Q({},bo,{key:function(s){if(s.key){var l=rC[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=nl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sC[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(s){return s.type==="keypress"?nl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?nl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),cC=wn(lC),uC=Q({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qp=wn(uC),dC=Q({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),hC=wn(dC),fC=Q({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),pC=wn(fC),mC=Q({},rl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),gC=wn(mC),yC=[9,13,27,32],Eu=c&&"CompositionEvent"in window,So=null;c&&"documentMode"in document&&(So=document.documentMode);var vC=c&&"TextEvent"in window&&!So,Jp=c&&(!Eu||So&&8<So&&11>=So),Zp=" ",em=!1;function tm(s,l){switch(s){case"keyup":return yC.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ks=!1;function xC(s,l){switch(s){case"compositionend":return nm(l);case"keypress":return l.which!==32?null:(em=!0,Zp);case"textInput":return s=l.data,s===Zp&&em?null:s;default:return null}}function bC(s,l){if(ks)return s==="compositionend"||!Eu&&tm(s,l)?(s=Yp(),tl=wu=ir=null,ks=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Jp&&l.locale!=="ko"?null:l.data;default:return null}}var wC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!wC[s.type]:l==="textarea"}function rm(s,l,d,p){De(p),l=cl(l,"onChange"),0<l.length&&(d=new Su("onChange","change",null,d,p),s.push({event:d,listeners:l}))}var Co=null,ko=null;function SC(s){Sm(s,0)}function sl(s){var l=Ps(s);if(He(l))return s}function CC(s,l){if(s==="change")return l}var sm=!1;if(c){var Tu;if(c){var Pu="oninput"in document;if(!Pu){var om=document.createElement("div");om.setAttribute("oninput","return;"),Pu=typeof om.oninput=="function"}Tu=Pu}else Tu=!1;sm=Tu&&(!document.documentMode||9<document.documentMode)}function am(){Co&&(Co.detachEvent("onpropertychange",lm),ko=Co=null)}function lm(s){if(s.propertyName==="value"&&sl(ko)){var l=[];rm(l,ko,s,q(s)),jr(SC,l)}}function kC(s,l,d){s==="focusin"?(am(),Co=l,ko=d,Co.attachEvent("onpropertychange",lm)):s==="focusout"&&am()}function _C(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return sl(ko)}function MC(s,l){if(s==="click")return sl(l)}function EC(s,l){if(s==="input"||s==="change")return sl(l)}function TC(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Xn=typeof Object.is=="function"?Object.is:TC;function _o(s,l){if(Xn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!u.call(l,y)||!Xn(s[y],l[y]))return!1}return!0}function cm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function um(s,l){var d=cm(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=l&&p>=l)return{node:d,offset:l-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=cm(d)}}function dm(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?dm(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function hm(){for(var s=window,l=ze();l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=ze(s.document)}return l}function Du(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function PC(s){var l=hm(),d=s.focusedElem,p=s.selectionRange;if(l!==d&&d&&d.ownerDocument&&dm(d.ownerDocument.documentElement,d)){if(p!==null&&Du(d)){if(l=p.start,s=p.end,s===void 0&&(s=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(s,d.value.length);else if(s=(l=d.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var y=d.textContent.length,x=Math.min(p.start,y);p=p.end===void 0?x:Math.min(p.end,y),!s.extend&&x>p&&(y=p,p=x,x=y),y=um(d,x);var k=um(d,p);y&&k&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==k.node||s.focusOffset!==k.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),s.removeAllRanges(),x>p?(s.addRange(l),s.extend(k.node,k.offset)):(l.setEnd(k.node,k.offset),s.addRange(l)))}}for(l=[],s=d;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)s=l[d],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var DC=c&&"documentMode"in document&&11>=document.documentMode,_s=null,Ru=null,Mo=null,Au=!1;function fm(s,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Au||_s==null||_s!==ze(p)||(p=_s,"selectionStart"in p&&Du(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Mo&&_o(Mo,p)||(Mo=p,p=cl(Ru,"onSelect"),0<p.length&&(l=new Su("onSelect","select",null,l,d),s.push({event:l,listeners:p}),l.target=_s)))}function ol(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var Ms={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},Lu={},pm={};c&&(pm=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function al(s){if(Lu[s])return Lu[s];if(!Ms[s])return s;var l=Ms[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in pm)return Lu[s]=l[d];return s}var mm=al("animationend"),gm=al("animationiteration"),ym=al("animationstart"),vm=al("transitionend"),xm=new Map,bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(s,l){xm.set(s,l),o(l,[s])}for(var Nu=0;Nu<bm.length;Nu++){var ju=bm[Nu],RC=ju.toLowerCase(),AC=ju[0].toUpperCase()+ju.slice(1);rr(RC,"on"+AC)}rr(mm,"onAnimationEnd"),rr(gm,"onAnimationIteration"),rr(ym,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(vm,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function wm(s,l,d){var p=s.type||"unknown-event";s.currentTarget=d,he(p,l,void 0,s),s.currentTarget=null}function Sm(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],y=p.event;p=p.listeners;e:{var x=void 0;if(l)for(var k=p.length-1;0<=k;k--){var L=p[k],F=L.instance,Y=L.currentTarget;if(L=L.listener,F!==x&&y.isPropagationStopped())break e;wm(y,L,Y),x=F}else for(k=0;k<p.length;k++){if(L=p[k],F=L.instance,Y=L.currentTarget,L=L.listener,F!==x&&y.isPropagationStopped())break e;wm(y,L,Y),x=F}}}if(le)throw s=we,le=!1,we=null,s}function at(s,l){var d=l[$u];d===void 0&&(d=l[$u]=new Set);var p=s+"__bubble";d.has(p)||(Cm(l,s,2,!1),d.add(p))}function Ou(s,l,d){var p=0;l&&(p|=4),Cm(d,s,p,l)}var ll="_reactListening"+Math.random().toString(36).slice(2);function To(s){if(!s[ll]){s[ll]=!0,i.forEach(function(d){d!=="selectionchange"&&(LC.has(d)||Ou(d,!1,s),Ou(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[ll]||(l[ll]=!0,Ou("selectionchange",!1,l))}}function Cm(s,l,d,p){switch(Gp(l)){case 1:var y=YS;break;case 4:y=KS;break;default:y=xu}d=y.bind(null,l,d,s),y=void 0,!qi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(l,d,{capture:!0,passive:y}):s.addEventListener(l,d,!0):y!==void 0?s.addEventListener(l,d,{passive:y}):s.addEventListener(l,d,!1)}function Fu(s,l,d,p,y){var x=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var L=p.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(k===4)for(k=p.return;k!==null;){var F=k.tag;if((F===3||F===4)&&(F=k.stateNode.containerInfo,F===y||F.nodeType===8&&F.parentNode===y))return;k=k.return}for(;L!==null;){if(k=Br(L),k===null)return;if(F=k.tag,F===5||F===6){p=x=k;continue e}L=L.parentNode}}p=p.return}jr(function(){var Y=x,re=q(d),se=[];e:{var ie=xm.get(s);if(ie!==void 0){var me=Su,Ce=s;switch(s){case"keypress":if(nl(d)===0)break e;case"keydown":case"keyup":me=cC;break;case"focusin":Ce="focus",me=_u;break;case"focusout":Ce="blur",me=_u;break;case"beforeblur":case"afterblur":me=_u;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=QS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=hC;break;case mm:case gm:case ym:me=eC;break;case vm:me=pC;break;case"scroll":me=XS;break;case"wheel":me=gC;break;case"copy":case"cut":case"paste":me=nC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Qp}var _e=(l&4)!==0,wt=!_e&&s==="scroll",U=_e?ie!==null?ie+"Capture":null:ie;_e=[];for(var z=Y,H;z!==null;){H=z;var ce=H.stateNode;if(H.tag===5&&ce!==null&&(H=ce,U!==null&&(ce=ki(z,U),ce!=null&&_e.push(Po(z,ce,H)))),wt)break;z=z.return}0<_e.length&&(ie=new me(ie,Ce,null,d,re),se.push({event:ie,listeners:_e}))}}if((l&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",ie&&d!==Kn&&(Ce=d.relatedTarget||d.fromElement)&&(Br(Ce)||Ce[Ti]))break e;if((me||ie)&&(ie=re.window===re?re:(ie=re.ownerDocument)?ie.defaultView||ie.parentWindow:window,me?(Ce=d.relatedTarget||d.toElement,me=Y,Ce=Ce?Br(Ce):null,Ce!==null&&(wt=ge(Ce),Ce!==wt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(me=null,Ce=Y),me!==Ce)){if(_e=Xp,ce="onMouseLeave",U="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(_e=Qp,ce="onPointerLeave",U="onPointerEnter",z="pointer"),wt=me==null?ie:Ps(me),H=Ce==null?ie:Ps(Ce),ie=new _e(ce,z+"leave",me,d,re),ie.target=wt,ie.relatedTarget=H,ce=null,Br(re)===Y&&(_e=new _e(U,z+"enter",Ce,d,re),_e.target=H,_e.relatedTarget=wt,ce=_e),wt=ce,me&&Ce)t:{for(_e=me,U=Ce,z=0,H=_e;H;H=Es(H))z++;for(H=0,ce=U;ce;ce=Es(ce))H++;for(;0<z-H;)_e=Es(_e),z--;for(;0<H-z;)U=Es(U),H--;for(;z--;){if(_e===U||U!==null&&_e===U.alternate)break t;_e=Es(_e),U=Es(U)}_e=null}else _e=null;me!==null&&km(se,ie,me,_e,!1),Ce!==null&&wt!==null&&km(se,wt,Ce,_e,!0)}}e:{if(ie=Y?Ps(Y):window,me=ie.nodeName&&ie.nodeName.toLowerCase(),me==="select"||me==="input"&&ie.type==="file")var Ee=CC;else if(im(ie))if(sm)Ee=EC;else{Ee=_C;var Re=kC}else(me=ie.nodeName)&&me.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ee=MC);if(Ee&&(Ee=Ee(s,Y))){rm(se,Ee,d,re);break e}Re&&Re(s,ie,Y),s==="focusout"&&(Re=ie._wrapperState)&&Re.controlled&&ie.type==="number"&&Ki(ie,"number",ie.value)}switch(Re=Y?Ps(Y):window,s){case"focusin":(im(Re)||Re.contentEditable==="true")&&(_s=Re,Ru=Y,Mo=null);break;case"focusout":Mo=Ru=_s=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,fm(se,d,re);break;case"selectionchange":if(DC)break;case"keydown":case"keyup":fm(se,d,re)}var Ae;if(Eu)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ks?tm(s,d)&&(Oe="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Oe="onCompositionStart");Oe&&(Jp&&d.locale!=="ko"&&(ks||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ks&&(Ae=Yp()):(ir=re,wu="value"in ir?ir.value:ir.textContent,ks=!0)),Re=cl(Y,Oe),0<Re.length&&(Oe=new qp(Oe,s,null,d,re),se.push({event:Oe,listeners:Re}),Ae?Oe.data=Ae:(Ae=nm(d),Ae!==null&&(Oe.data=Ae)))),(Ae=vC?xC(s,d):bC(s,d))&&(Y=cl(Y,"onBeforeInput"),0<Y.length&&(re=new qp("onBeforeInput","beforeinput",null,d,re),se.push({event:re,listeners:Y}),re.data=Ae))}Sm(se,l)})}function Po(s,l,d){return{instance:s,listener:l,currentTarget:d}}function cl(s,l){for(var d=l+"Capture",p=[];s!==null;){var y=s,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=ki(s,d),x!=null&&p.unshift(Po(s,x,y)),x=ki(s,l),x!=null&&p.push(Po(s,x,y))),s=s.return}return p}function Es(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function km(s,l,d,p,y){for(var x=l._reactName,k=[];d!==null&&d!==p;){var L=d,F=L.alternate,Y=L.stateNode;if(F!==null&&F===p)break;L.tag===5&&Y!==null&&(L=Y,y?(F=ki(d,x),F!=null&&k.unshift(Po(d,F,L))):y||(F=ki(d,x),F!=null&&k.push(Po(d,F,L)))),d=d.return}k.length!==0&&s.push({event:l,listeners:k})}var NC=/\r\n?/g,jC=/\u0000|\uFFFD/g;function _m(s){return(typeof s=="string"?s:""+s).replace(NC,`
`).replace(jC,"")}function ul(s,l,d){if(l=_m(l),_m(s)!==l&&d)throw Error(n(425))}function dl(){}var Iu=null,zu=null;function Bu(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Vu=typeof setTimeout=="function"?setTimeout:void 0,OC=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(s){return Mm.resolve(null).then(s).catch(IC)}:Vu;function IC(s){setTimeout(function(){throw s})}function Uu(s,l){var d=l,p=0;do{var y=d.nextSibling;if(s.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(p===0){s.removeChild(y),xo(l);return}p--}else d!=="$"&&d!=="$?"&&d!=="$!"||p++;d=y}while(d);xo(l)}function sr(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Em(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),li="__reactFiber$"+Ts,Do="__reactProps$"+Ts,Ti="__reactContainer$"+Ts,$u="__reactEvents$"+Ts,zC="__reactListeners$"+Ts,BC="__reactHandles$"+Ts;function Br(s){var l=s[li];if(l)return l;for(var d=s.parentNode;d;){if(l=d[Ti]||d[li]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=Em(s);s!==null;){if(d=s[li])return d;s=Em(s)}return l}s=d,d=s.parentNode}return null}function Ro(s){return s=s[li]||s[Ti],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ps(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function hl(s){return s[Do]||null}var Hu=[],Ds=-1;function or(s){return{current:s}}function lt(s){0>Ds||(s.current=Hu[Ds],Hu[Ds]=null,Ds--)}function ot(s,l){Ds++,Hu[Ds]=s.current,s.current=l}var ar={},Ut=or(ar),cn=or(!1),Vr=ar;function Rs(s,l){var d=s.type.contextTypes;if(!d)return ar;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in d)y[x]=l[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=y),y}function un(s){return s=s.childContextTypes,s!=null}function fl(){lt(cn),lt(Ut)}function Tm(s,l,d){if(Ut.current!==ar)throw Error(n(168));ot(Ut,l),ot(cn,d)}function Pm(s,l,d){var p=s.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return d;p=p.getChildContext();for(var y in p)if(!(y in l))throw Error(n(108,Ne(s)||"Unknown",y));return Q({},d,p)}function pl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ar,Vr=Ut.current,ot(Ut,s),ot(cn,cn.current),!0}function Dm(s,l,d){var p=s.stateNode;if(!p)throw Error(n(169));d?(s=Pm(s,l,Vr),p.__reactInternalMemoizedMergedChildContext=s,lt(cn),lt(Ut),ot(Ut,s)):lt(cn),ot(cn,d)}var Pi=null,ml=!1,Wu=!1;function Rm(s){Pi===null?Pi=[s]:Pi.push(s)}function VC(s){ml=!0,Rm(s)}function lr(){if(!Wu&&Pi!==null){Wu=!0;var s=0,l=et;try{var d=Pi;for(et=1;s<d.length;s++){var p=d[s];do p=p(!0);while(p!==null)}Pi=null,ml=!1}catch(y){throw Pi!==null&&(Pi=Pi.slice(s+1)),bt(Dn,lr),y}finally{et=l,Wu=!1}}return null}var As=[],Ls=0,gl=null,yl=0,Rn=[],An=0,Ur=null,Di=1,Ri="";function $r(s,l){As[Ls++]=yl,As[Ls++]=gl,gl=s,yl=l}function Am(s,l,d){Rn[An++]=Di,Rn[An++]=Ri,Rn[An++]=Ur,Ur=s;var p=Di;s=Ri;var y=32-it(p)-1;p&=~(1<<y),d+=1;var x=32-it(l)+y;if(30<x){var k=y-y%5;x=(p&(1<<k)-1).toString(32),p>>=k,y-=k,Di=1<<32-it(l)+y|d<<y|p,Ri=x+s}else Di=1<<x|d<<y|p,Ri=s}function Gu(s){s.return!==null&&($r(s,1),Am(s,1,0))}function Yu(s){for(;s===gl;)gl=As[--Ls],As[Ls]=null,yl=As[--Ls],As[Ls]=null;for(;s===Ur;)Ur=Rn[--An],Rn[An]=null,Ri=Rn[--An],Rn[An]=null,Di=Rn[--An],Rn[An]=null}var Sn=null,Cn=null,dt=!1,qn=null;function Lm(s,l){var d=On(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=s,l=s.deletions,l===null?(s.deletions=[d],s.flags|=16):l.push(d)}function Nm(s,l){switch(s.tag){case 5:var d=s.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Sn=s,Cn=sr(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Sn=s,Cn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ur!==null?{id:Di,overflow:Ri}:null,s.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=On(18,null,null,0),d.stateNode=l,d.return=s,s.child=d,Sn=s,Cn=null,!0):!1;default:return!1}}function Ku(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Xu(s){if(dt){var l=Cn;if(l){var d=l;if(!Nm(s,l)){if(Ku(s))throw Error(n(418));l=sr(d.nextSibling);var p=Sn;l&&Nm(s,l)?Lm(p,d):(s.flags=s.flags&-4097|2,dt=!1,Sn=s)}}else{if(Ku(s))throw Error(n(418));s.flags=s.flags&-4097|2,dt=!1,Sn=s}}}function jm(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Sn=s}function vl(s){if(s!==Sn)return!1;if(!dt)return jm(s),dt=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!Bu(s.type,s.memoizedProps)),l&&(l=Cn)){if(Ku(s))throw Om(),Error(n(418));for(;l;)Lm(s,l),l=sr(l.nextSibling)}if(jm(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"){if(l===0){Cn=sr(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}s=s.nextSibling}Cn=null}}else Cn=Sn?sr(s.stateNode.nextSibling):null;return!0}function Om(){for(var s=Cn;s;)s=sr(s.nextSibling)}function Ns(){Cn=Sn=null,dt=!1}function qu(s){qn===null?qn=[s]:qn.push(s)}var UC=A.ReactCurrentBatchConfig;function Ao(s,l,d){if(s=d.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var p=d.stateNode}if(!p)throw Error(n(147,s));var y=p,x=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===x?l.ref:(l=function(k){var L=y.refs;k===null?delete L[x]:L[x]=k},l._stringRef=x,l)}if(typeof s!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,s))}return s}function xl(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Fm(s){var l=s._init;return l(s._payload)}function Im(s){function l(U,z){if(s){var H=U.deletions;H===null?(U.deletions=[z],U.flags|=16):H.push(z)}}function d(U,z){if(!s)return null;for(;z!==null;)l(U,z),z=z.sibling;return null}function p(U,z){for(U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function y(U,z){return U=gr(U,z),U.index=0,U.sibling=null,U}function x(U,z,H){return U.index=H,s?(H=U.alternate,H!==null?(H=H.index,H<z?(U.flags|=2,z):H):(U.flags|=2,z)):(U.flags|=1048576,z)}function k(U){return s&&U.alternate===null&&(U.flags|=2),U}function L(U,z,H,ce){return z===null||z.tag!==6?(z=Vd(H,U.mode,ce),z.return=U,z):(z=y(z,H),z.return=U,z)}function F(U,z,H,ce){var Ee=H.type;return Ee===T?re(U,z,H.props.children,ce,H.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ue&&Fm(Ee)===z.type)?(ce=y(z,H.props),ce.ref=Ao(U,z,H),ce.return=U,ce):(ce=$l(H.type,H.key,H.props,null,U.mode,ce),ce.ref=Ao(U,z,H),ce.return=U,ce)}function Y(U,z,H,ce){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Ud(H,U.mode,ce),z.return=U,z):(z=y(z,H.children||[]),z.return=U,z)}function re(U,z,H,ce,Ee){return z===null||z.tag!==7?(z=Qr(H,U.mode,ce,Ee),z.return=U,z):(z=y(z,H),z.return=U,z)}function se(U,z,H){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Vd(""+z,U.mode,H),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return H=$l(z.type,z.key,z.props,null,U.mode,H),H.ref=Ao(U,null,z),H.return=U,H;case j:return z=Ud(z,U.mode,H),z.return=U,z;case ue:var ce=z._init;return se(U,ce(z._payload),H)}if(Ci(z)||Z(z))return z=Qr(z,U.mode,H,null),z.return=U,z;xl(U,z)}return null}function ie(U,z,H,ce){var Ee=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ee!==null?null:L(U,z,""+H,ce);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===Ee?F(U,z,H,ce):null;case j:return H.key===Ee?Y(U,z,H,ce):null;case ue:return Ee=H._init,ie(U,z,Ee(H._payload),ce)}if(Ci(H)||Z(H))return Ee!==null?null:re(U,z,H,ce,null);xl(U,H)}return null}function me(U,z,H,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return U=U.get(H)||null,L(z,U,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case D:return U=U.get(ce.key===null?H:ce.key)||null,F(z,U,ce,Ee);case j:return U=U.get(ce.key===null?H:ce.key)||null,Y(z,U,ce,Ee);case ue:var Re=ce._init;return me(U,z,H,Re(ce._payload),Ee)}if(Ci(ce)||Z(ce))return U=U.get(H)||null,re(z,U,ce,Ee,null);xl(z,ce)}return null}function Ce(U,z,H,ce){for(var Ee=null,Re=null,Ae=z,Oe=z=0,Ot=null;Ae!==null&&Oe<H.length;Oe++){Ae.index>Oe?(Ot=Ae,Ae=null):Ot=Ae.sibling;var qe=ie(U,Ae,H[Oe],ce);if(qe===null){Ae===null&&(Ae=Ot);break}s&&Ae&&qe.alternate===null&&l(U,Ae),z=x(qe,z,Oe),Re===null?Ee=qe:Re.sibling=qe,Re=qe,Ae=Ot}if(Oe===H.length)return d(U,Ae),dt&&$r(U,Oe),Ee;if(Ae===null){for(;Oe<H.length;Oe++)Ae=se(U,H[Oe],ce),Ae!==null&&(z=x(Ae,z,Oe),Re===null?Ee=Ae:Re.sibling=Ae,Re=Ae);return dt&&$r(U,Oe),Ee}for(Ae=p(U,Ae);Oe<H.length;Oe++)Ot=me(Ae,U,Oe,H[Oe],ce),Ot!==null&&(s&&Ot.alternate!==null&&Ae.delete(Ot.key===null?Oe:Ot.key),z=x(Ot,z,Oe),Re===null?Ee=Ot:Re.sibling=Ot,Re=Ot);return s&&Ae.forEach(function(yr){return l(U,yr)}),dt&&$r(U,Oe),Ee}function _e(U,z,H,ce){var Ee=Z(H);if(typeof Ee!="function")throw Error(n(150));if(H=Ee.call(H),H==null)throw Error(n(151));for(var Re=Ee=null,Ae=z,Oe=z=0,Ot=null,qe=H.next();Ae!==null&&!qe.done;Oe++,qe=H.next()){Ae.index>Oe?(Ot=Ae,Ae=null):Ot=Ae.sibling;var yr=ie(U,Ae,qe.value,ce);if(yr===null){Ae===null&&(Ae=Ot);break}s&&Ae&&yr.alternate===null&&l(U,Ae),z=x(yr,z,Oe),Re===null?Ee=yr:Re.sibling=yr,Re=yr,Ae=Ot}if(qe.done)return d(U,Ae),dt&&$r(U,Oe),Ee;if(Ae===null){for(;!qe.done;Oe++,qe=H.next())qe=se(U,qe.value,ce),qe!==null&&(z=x(qe,z,Oe),Re===null?Ee=qe:Re.sibling=qe,Re=qe);return dt&&$r(U,Oe),Ee}for(Ae=p(U,Ae);!qe.done;Oe++,qe=H.next())qe=me(Ae,U,Oe,qe.value,ce),qe!==null&&(s&&qe.alternate!==null&&Ae.delete(qe.key===null?Oe:qe.key),z=x(qe,z,Oe),Re===null?Ee=qe:Re.sibling=qe,Re=qe);return s&&Ae.forEach(function(wk){return l(U,wk)}),dt&&$r(U,Oe),Ee}function wt(U,z,H,ce){if(typeof H=="object"&&H!==null&&H.type===T&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:e:{for(var Ee=H.key,Re=z;Re!==null;){if(Re.key===Ee){if(Ee=H.type,Ee===T){if(Re.tag===7){d(U,Re.sibling),z=y(Re,H.props.children),z.return=U,U=z;break e}}else if(Re.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ue&&Fm(Ee)===Re.type){d(U,Re.sibling),z=y(Re,H.props),z.ref=Ao(U,Re,H),z.return=U,U=z;break e}d(U,Re);break}else l(U,Re);Re=Re.sibling}H.type===T?(z=Qr(H.props.children,U.mode,ce,H.key),z.return=U,U=z):(ce=$l(H.type,H.key,H.props,null,U.mode,ce),ce.ref=Ao(U,z,H),ce.return=U,U=ce)}return k(U);case j:e:{for(Re=H.key;z!==null;){if(z.key===Re)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){d(U,z.sibling),z=y(z,H.children||[]),z.return=U,U=z;break e}else{d(U,z);break}else l(U,z);z=z.sibling}z=Ud(H,U.mode,ce),z.return=U,U=z}return k(U);case ue:return Re=H._init,wt(U,z,Re(H._payload),ce)}if(Ci(H))return Ce(U,z,H,ce);if(Z(H))return _e(U,z,H,ce);xl(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,z!==null&&z.tag===6?(d(U,z.sibling),z=y(z,H),z.return=U,U=z):(d(U,z),z=Vd(H,U.mode,ce),z.return=U,U=z),k(U)):d(U,z)}return wt}var js=Im(!0),zm=Im(!1),bl=or(null),wl=null,Os=null,Qu=null;function Ju(){Qu=Os=wl=null}function Zu(s){var l=bl.current;lt(bl),s._currentValue=l}function ed(s,l,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),s===d)break;s=s.return}}function Fs(s,l){wl=s,Qu=Os=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(dn=!0),s.firstContext=null)}function Ln(s){var l=s._currentValue;if(Qu!==s)if(s={context:s,memoizedValue:l,next:null},Os===null){if(wl===null)throw Error(n(308));Os=s,wl.dependencies={lanes:0,firstContext:s}}else Os=Os.next=s;return l}var Hr=null;function td(s){Hr===null?Hr=[s]:Hr.push(s)}function Bm(s,l,d,p){var y=l.interleaved;return y===null?(d.next=d,td(l)):(d.next=y.next,y.next=d),l.interleaved=d,Ai(s,p)}function Ai(s,l){s.lanes|=l;var d=s.alternate;for(d!==null&&(d.lanes|=l),d=s,s=s.return;s!==null;)s.childLanes|=l,d=s.alternate,d!==null&&(d.childLanes|=l),d=s,s=s.return;return d.tag===3?d.stateNode:null}var cr=!1;function nd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vm(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Li(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function ur(s,l,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Xe&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,Ai(s,d)}return y=p.interleaved,y===null?(l.next=l,td(p)):(l.next=y.next,y.next=l),p.interleaved=l,Ai(s,d)}function Sl(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var p=l.lanes;p&=s.pendingLanes,d|=p,l.lanes=d,gu(s,d)}}function Um(s,l){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var y=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var k={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};x===null?y=x=k:x=x.next=k,d=d.next}while(d!==null);x===null?y=x=l:x=x.next=l}else y=x=l;d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}function Cl(s,l,d,p){var y=s.updateQueue;cr=!1;var x=y.firstBaseUpdate,k=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var F=L,Y=F.next;F.next=null,k===null?x=Y:k.next=Y,k=F;var re=s.alternate;re!==null&&(re=re.updateQueue,L=re.lastBaseUpdate,L!==k&&(L===null?re.firstBaseUpdate=Y:L.next=Y,re.lastBaseUpdate=F))}if(x!==null){var se=y.baseState;k=0,re=Y=F=null,L=x;do{var ie=L.lane,me=L.eventTime;if((p&ie)===ie){re!==null&&(re=re.next={eventTime:me,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var Ce=s,_e=L;switch(ie=l,me=d,_e.tag){case 1:if(Ce=_e.payload,typeof Ce=="function"){se=Ce.call(me,se,ie);break e}se=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=_e.payload,ie=typeof Ce=="function"?Ce.call(me,se,ie):Ce,ie==null)break e;se=Q({},se,ie);break e;case 2:cr=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,ie=y.effects,ie===null?y.effects=[L]:ie.push(L))}else me={eventTime:me,lane:ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},re===null?(Y=re=me,F=se):re=re.next=me,k|=ie;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(re===null&&(F=se),y.baseState=F,y.firstBaseUpdate=Y,y.lastBaseUpdate=re,l=y.shared.interleaved,l!==null){y=l;do k|=y.lane,y=y.next;while(y!==l)}else x===null&&(y.shared.lanes=0);Yr|=k,s.lanes=k,s.memoizedState=se}}function $m(s,l,d){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var p=s[l],y=p.callback;if(y!==null){if(p.callback=null,p=d,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Lo={},ci=or(Lo),No=or(Lo),jo=or(Lo);function Wr(s){if(s===Lo)throw Error(n(174));return s}function id(s,l){switch(ot(jo,l),ot(No,s),ot(ci,Lo),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:oi(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=oi(l,s)}lt(ci),ot(ci,l)}function Is(){lt(ci),lt(No),lt(jo)}function Hm(s){Wr(jo.current);var l=Wr(ci.current),d=oi(l,s.type);l!==d&&(ot(No,s),ot(ci,d))}function rd(s){No.current===s&&(lt(ci),lt(No))}var ht=or(0);function kl(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var sd=[];function od(){for(var s=0;s<sd.length;s++)sd[s]._workInProgressVersionPrimary=null;sd.length=0}var _l=A.ReactCurrentDispatcher,ad=A.ReactCurrentBatchConfig,Gr=0,ft=null,Et=null,Nt=null,Ml=!1,Oo=!1,Fo=0,$C=0;function $t(){throw Error(n(321))}function ld(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!Xn(s[d],l[d]))return!1;return!0}function cd(s,l,d,p,y,x){if(Gr=x,ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_l.current=s===null||s.memoizedState===null?YC:KC,s=d(p,y),Oo){x=0;do{if(Oo=!1,Fo=0,25<=x)throw Error(n(301));x+=1,Nt=Et=null,l.updateQueue=null,_l.current=XC,s=d(p,y)}while(Oo)}if(_l.current=Pl,l=Et!==null&&Et.next!==null,Gr=0,Nt=Et=ft=null,Ml=!1,l)throw Error(n(300));return s}function ud(){var s=Fo!==0;return Fo=0,s}function ui(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ft.memoizedState=Nt=s:Nt=Nt.next=s,Nt}function Nn(){if(Et===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var l=Nt===null?ft.memoizedState:Nt.next;if(l!==null)Nt=l,Et=s;else{if(s===null)throw Error(n(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Nt===null?ft.memoizedState=Nt=s:Nt=Nt.next=s}return Nt}function Io(s,l){return typeof l=="function"?l(s):l}function dd(s){var l=Nn(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=Et,y=p.baseQueue,x=d.pending;if(x!==null){if(y!==null){var k=y.next;y.next=x.next,x.next=k}p.baseQueue=y=x,d.pending=null}if(y!==null){x=y.next,p=p.baseState;var L=k=null,F=null,Y=x;do{var re=Y.lane;if((Gr&re)===re)F!==null&&(F=F.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var se={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};F===null?(L=F=se,k=p):F=F.next=se,ft.lanes|=re,Yr|=re}Y=Y.next}while(Y!==null&&Y!==x);F===null?k=p:F.next=L,Xn(p,l.memoizedState)||(dn=!0),l.memoizedState=p,l.baseState=k,l.baseQueue=F,d.lastRenderedState=p}if(s=d.interleaved,s!==null){y=s;do x=y.lane,ft.lanes|=x,Yr|=x,y=y.next;while(y!==s)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function hd(s){var l=Nn(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var p=d.dispatch,y=d.pending,x=l.memoizedState;if(y!==null){d.pending=null;var k=y=y.next;do x=s(x,k.action),k=k.next;while(k!==y);Xn(x,l.memoizedState)||(dn=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,p]}function Wm(){}function Gm(s,l){var d=ft,p=Nn(),y=l(),x=!Xn(p.memoizedState,y);if(x&&(p.memoizedState=y,dn=!0),p=p.queue,fd(Xm.bind(null,d,p,s),[s]),p.getSnapshot!==l||x||Nt!==null&&Nt.memoizedState.tag&1){if(d.flags|=2048,zo(9,Km.bind(null,d,p,y,l),void 0,null),jt===null)throw Error(n(349));(Gr&30)!==0||Ym(d,l,y)}return y}function Ym(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=ft.updateQueue,l===null?(l={lastEffect:null,stores:null},ft.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function Km(s,l,d,p){l.value=d,l.getSnapshot=p,qm(l)&&Qm(s)}function Xm(s,l,d){return d(function(){qm(l)&&Qm(s)})}function qm(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!Xn(s,d)}catch{return!0}}function Qm(s){var l=Ai(s,1);l!==null&&ei(l,s,1,-1)}function Jm(s){var l=ui();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:s},l.queue=s,s=s.dispatch=GC.bind(null,ft,s),[l.memoizedState,s]}function zo(s,l,d,p){return s={tag:s,create:l,destroy:d,deps:p,next:null},l=ft.updateQueue,l===null?(l={lastEffect:null,stores:null},ft.updateQueue=l,l.lastEffect=s.next=s):(d=l.lastEffect,d===null?l.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,l.lastEffect=s)),s}function Zm(){return Nn().memoizedState}function El(s,l,d,p){var y=ui();ft.flags|=s,y.memoizedState=zo(1|l,d,void 0,p===void 0?null:p)}function Tl(s,l,d,p){var y=Nn();p=p===void 0?null:p;var x=void 0;if(Et!==null){var k=Et.memoizedState;if(x=k.destroy,p!==null&&ld(p,k.deps)){y.memoizedState=zo(l,d,x,p);return}}ft.flags|=s,y.memoizedState=zo(1|l,d,x,p)}function eg(s,l){return El(8390656,8,s,l)}function fd(s,l){return Tl(2048,8,s,l)}function tg(s,l){return Tl(4,2,s,l)}function ng(s,l){return Tl(4,4,s,l)}function ig(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function rg(s,l,d){return d=d!=null?d.concat([s]):null,Tl(4,4,ig.bind(null,l,s),d)}function pd(){}function sg(s,l){var d=Nn();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&ld(l,p[1])?p[0]:(d.memoizedState=[s,l],s)}function og(s,l){var d=Nn();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&ld(l,p[1])?p[0]:(s=s(),d.memoizedState=[s,l],s)}function ag(s,l,d){return(Gr&21)===0?(s.baseState&&(s.baseState=!1,dn=!0),s.memoizedState=d):(Xn(d,l)||(d=Fp(),ft.lanes|=d,Yr|=d,s.baseState=!0),l)}function HC(s,l){var d=et;et=d!==0&&4>d?d:4,s(!0);var p=ad.transition;ad.transition={};try{s(!1),l()}finally{et=d,ad.transition=p}}function lg(){return Nn().memoizedState}function WC(s,l,d){var p=pr(s);if(d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},cg(s))ug(l,d);else if(d=Bm(s,l,d,p),d!==null){var y=tn();ei(d,s,p,y),dg(d,l,p)}}function GC(s,l,d){var p=pr(s),y={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(cg(s))ug(l,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var k=l.lastRenderedState,L=x(k,d);if(y.hasEagerState=!0,y.eagerState=L,Xn(L,k)){var F=l.interleaved;F===null?(y.next=y,td(l)):(y.next=F.next,F.next=y),l.interleaved=y;return}}catch{}d=Bm(s,l,y,p),d!==null&&(y=tn(),ei(d,s,p,y),dg(d,l,p))}}function cg(s){var l=s.alternate;return s===ft||l!==null&&l===ft}function ug(s,l){Oo=Ml=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function dg(s,l,d){if((d&4194240)!==0){var p=l.lanes;p&=s.pendingLanes,d|=p,l.lanes=d,gu(s,d)}}var Pl={readContext:Ln,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},YC={readContext:Ln,useCallback:function(s,l){return ui().memoizedState=[s,l===void 0?null:l],s},useContext:Ln,useEffect:eg,useImperativeHandle:function(s,l,d){return d=d!=null?d.concat([s]):null,El(4194308,4,ig.bind(null,l,s),d)},useLayoutEffect:function(s,l){return El(4194308,4,s,l)},useInsertionEffect:function(s,l){return El(4,2,s,l)},useMemo:function(s,l){var d=ui();return l=l===void 0?null:l,s=s(),d.memoizedState=[s,l],s},useReducer:function(s,l,d){var p=ui();return l=d!==void 0?d(l):l,p.memoizedState=p.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},p.queue=s,s=s.dispatch=WC.bind(null,ft,s),[p.memoizedState,s]},useRef:function(s){var l=ui();return s={current:s},l.memoizedState=s},useState:Jm,useDebugValue:pd,useDeferredValue:function(s){return ui().memoizedState=s},useTransition:function(){var s=Jm(!1),l=s[0];return s=HC.bind(null,s[1]),ui().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,d){var p=ft,y=ui();if(dt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),jt===null)throw Error(n(349));(Gr&30)!==0||Ym(p,l,d)}y.memoizedState=d;var x={value:d,getSnapshot:l};return y.queue=x,eg(Xm.bind(null,p,x,s),[s]),p.flags|=2048,zo(9,Km.bind(null,p,x,d,l),void 0,null),d},useId:function(){var s=ui(),l=jt.identifierPrefix;if(dt){var d=Ri,p=Di;d=(p&~(1<<32-it(p)-1)).toString(32)+d,l=":"+l+"R"+d,d=Fo++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=$C++,l=":"+l+"r"+d.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},KC={readContext:Ln,useCallback:sg,useContext:Ln,useEffect:fd,useImperativeHandle:rg,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:og,useReducer:dd,useRef:Zm,useState:function(){return dd(Io)},useDebugValue:pd,useDeferredValue:function(s){var l=Nn();return ag(l,Et.memoizedState,s)},useTransition:function(){var s=dd(Io)[0],l=Nn().memoizedState;return[s,l]},useMutableSource:Wm,useSyncExternalStore:Gm,useId:lg,unstable_isNewReconciler:!1},XC={readContext:Ln,useCallback:sg,useContext:Ln,useEffect:fd,useImperativeHandle:rg,useInsertionEffect:tg,useLayoutEffect:ng,useMemo:og,useReducer:hd,useRef:Zm,useState:function(){return hd(Io)},useDebugValue:pd,useDeferredValue:function(s){var l=Nn();return Et===null?l.memoizedState=s:ag(l,Et.memoizedState,s)},useTransition:function(){var s=hd(Io)[0],l=Nn().memoizedState;return[s,l]},useMutableSource:Wm,useSyncExternalStore:Gm,useId:lg,unstable_isNewReconciler:!1};function Qn(s,l){if(s&&s.defaultProps){l=Q({},l),s=s.defaultProps;for(var d in s)l[d]===void 0&&(l[d]=s[d]);return l}return l}function md(s,l,d,p){l=s.memoizedState,d=d(p,l),d=d==null?l:Q({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Dl={isMounted:function(s){return(s=s._reactInternals)?ge(s)===s:!1},enqueueSetState:function(s,l,d){s=s._reactInternals;var p=tn(),y=pr(s),x=Li(p,y);x.payload=l,d!=null&&(x.callback=d),l=ur(s,x,y),l!==null&&(ei(l,s,y,p),Sl(l,s,y))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var p=tn(),y=pr(s),x=Li(p,y);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=ur(s,x,y),l!==null&&(ei(l,s,y,p),Sl(l,s,y))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=tn(),p=pr(s),y=Li(d,p);y.tag=2,l!=null&&(y.callback=l),l=ur(s,y,p),l!==null&&(ei(l,s,p,d),Sl(l,s,p))}};function hg(s,l,d,p,y,x,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,k):l.prototype&&l.prototype.isPureReactComponent?!_o(d,p)||!_o(y,x):!0}function fg(s,l,d){var p=!1,y=ar,x=l.contextType;return typeof x=="object"&&x!==null?x=Ln(x):(y=un(l)?Vr:Ut.current,p=l.contextTypes,x=(p=p!=null)?Rs(s,y):ar),l=new l(d,x),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Dl,s.stateNode=l,l._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=x),l}function pg(s,l,d,p){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==s&&Dl.enqueueReplaceState(l,l.state,null)}function gd(s,l,d,p){var y=s.stateNode;y.props=d,y.state=s.memoizedState,y.refs={},nd(s);var x=l.contextType;typeof x=="object"&&x!==null?y.context=Ln(x):(x=un(l)?Vr:Ut.current,y.context=Rs(s,x)),y.state=s.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(md(s,l,x,d),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Dl.enqueueReplaceState(y,y.state,null),Cl(s,d,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function zs(s,l){try{var d="",p=l;do d+=pe(p),p=p.return;while(p);var y=d}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:l,stack:y,digest:null}}function yd(s,l,d){return{value:s,source:null,stack:d??null,digest:l??null}}function vd(s,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var qC=typeof WeakMap=="function"?WeakMap:Map;function mg(s,l,d){d=Li(-1,d),d.tag=3,d.payload={element:null};var p=l.value;return d.callback=function(){Fl||(Fl=!0,Ld=p),vd(s,l)},d}function gg(s,l,d){d=Li(-1,d),d.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;d.payload=function(){return p(y)},d.callback=function(){vd(s,l)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(d.callback=function(){vd(s,l),typeof p!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var k=l.stack;this.componentDidCatch(l.value,{componentStack:k!==null?k:""})}),d}function yg(s,l,d){var p=s.pingCache;if(p===null){p=s.pingCache=new qC;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(d)||(y.add(d),s=uk.bind(null,s,l,d),l.then(s,s))}function vg(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function xg(s,l,d,p,y){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Li(-1,1),l.tag=2,ur(d,l,1))),d.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var QC=A.ReactCurrentOwner,dn=!1;function en(s,l,d,p){l.child=s===null?zm(l,null,d,p):js(l,s.child,d,p)}function bg(s,l,d,p,y){d=d.render;var x=l.ref;return Fs(l,y),p=cd(s,l,d,p,x,y),d=ud(),s!==null&&!dn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~y,Ni(s,l,y)):(dt&&d&&Gu(l),l.flags|=1,en(s,l,p,y),l.child)}function wg(s,l,d,p,y){if(s===null){var x=d.type;return typeof x=="function"&&!Bd(x)&&x.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=x,Sg(s,l,x,p,y)):(s=$l(d.type,null,p,l,l.mode,y),s.ref=l.ref,s.return=l,l.child=s)}if(x=s.child,(s.lanes&y)===0){var k=x.memoizedProps;if(d=d.compare,d=d!==null?d:_o,d(k,p)&&s.ref===l.ref)return Ni(s,l,y)}return l.flags|=1,s=gr(x,p),s.ref=l.ref,s.return=l,l.child=s}function Sg(s,l,d,p,y){if(s!==null){var x=s.memoizedProps;if(_o(x,p)&&s.ref===l.ref)if(dn=!1,l.pendingProps=p=x,(s.lanes&y)!==0)(s.flags&131072)!==0&&(dn=!0);else return l.lanes=s.lanes,Ni(s,l,y)}return xd(s,l,d,p,y)}function Cg(s,l,d){var p=l.pendingProps,y=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Vs,kn),kn|=d;else{if((d&1073741824)===0)return s=x!==null?x.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,ot(Vs,kn),kn|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:d,ot(Vs,kn),kn|=p}else x!==null?(p=x.baseLanes|d,l.memoizedState=null):p=d,ot(Vs,kn),kn|=p;return en(s,l,y,d),l.child}function kg(s,l){var d=l.ref;(s===null&&d!==null||s!==null&&s.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function xd(s,l,d,p,y){var x=un(d)?Vr:Ut.current;return x=Rs(l,x),Fs(l,y),d=cd(s,l,d,p,x,y),p=ud(),s!==null&&!dn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~y,Ni(s,l,y)):(dt&&p&&Gu(l),l.flags|=1,en(s,l,d,y),l.child)}function _g(s,l,d,p,y){if(un(d)){var x=!0;pl(l)}else x=!1;if(Fs(l,y),l.stateNode===null)Al(s,l),fg(l,d,p),gd(l,d,p,y),p=!0;else if(s===null){var k=l.stateNode,L=l.memoizedProps;k.props=L;var F=k.context,Y=d.contextType;typeof Y=="object"&&Y!==null?Y=Ln(Y):(Y=un(d)?Vr:Ut.current,Y=Rs(l,Y));var re=d.getDerivedStateFromProps,se=typeof re=="function"||typeof k.getSnapshotBeforeUpdate=="function";se||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(L!==p||F!==Y)&&pg(l,k,p,Y),cr=!1;var ie=l.memoizedState;k.state=ie,Cl(l,p,k,y),F=l.memoizedState,L!==p||ie!==F||cn.current||cr?(typeof re=="function"&&(md(l,d,re,p),F=l.memoizedState),(L=cr||hg(l,d,L,p,ie,F,Y))?(se||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(l.flags|=4194308)):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=F),k.props=p,k.state=F,k.context=Y,p=L):(typeof k.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{k=l.stateNode,Vm(s,l),L=l.memoizedProps,Y=l.type===l.elementType?L:Qn(l.type,L),k.props=Y,se=l.pendingProps,ie=k.context,F=d.contextType,typeof F=="object"&&F!==null?F=Ln(F):(F=un(d)?Vr:Ut.current,F=Rs(l,F));var me=d.getDerivedStateFromProps;(re=typeof me=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(L!==se||ie!==F)&&pg(l,k,p,F),cr=!1,ie=l.memoizedState,k.state=ie,Cl(l,p,k,y);var Ce=l.memoizedState;L!==se||ie!==Ce||cn.current||cr?(typeof me=="function"&&(md(l,d,me,p),Ce=l.memoizedState),(Y=cr||hg(l,d,Y,p,ie,Ce,F)||!1)?(re||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,Ce,F),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,Ce,F)),typeof k.componentDidUpdate=="function"&&(l.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof k.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Ce),k.props=p,k.state=Ce,k.context=F,p=Y):(typeof k.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(l.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(l.flags|=1024),p=!1)}return bd(s,l,d,p,x,y)}function bd(s,l,d,p,y,x){kg(s,l);var k=(l.flags&128)!==0;if(!p&&!k)return y&&Dm(l,d,!1),Ni(s,l,x);p=l.stateNode,QC.current=l;var L=k&&typeof d.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,s!==null&&k?(l.child=js(l,s.child,null,x),l.child=js(l,null,L,x)):en(s,l,L,x),l.memoizedState=p.state,y&&Dm(l,d,!0),l.child}function Mg(s){var l=s.stateNode;l.pendingContext?Tm(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Tm(s,l.context,!1),id(s,l.containerInfo)}function Eg(s,l,d,p,y){return Ns(),qu(y),l.flags|=256,en(s,l,d,p),l.child}var wd={dehydrated:null,treeContext:null,retryLane:0};function Sd(s){return{baseLanes:s,cachePool:null,transitions:null}}function Tg(s,l,d){var p=l.pendingProps,y=ht.current,x=!1,k=(l.flags&128)!==0,L;if((L=k)||(L=s!==null&&s.memoizedState===null?!1:(y&2)!==0),L?(x=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ot(ht,y&1),s===null)return Xu(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(k=p.children,s=p.fallback,x?(p=l.mode,x=l.child,k={mode:"hidden",children:k},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=k):x=Hl(k,p,0,null),s=Qr(s,p,d,null),x.return=l,s.return=l,x.sibling=s,l.child=x,l.child.memoizedState=Sd(d),l.memoizedState=wd,s):Cd(l,k));if(y=s.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return JC(s,l,k,p,L,y,d);if(x){x=p.fallback,k=l.mode,y=s.child,L=y.sibling;var F={mode:"hidden",children:p.children};return(k&1)===0&&l.child!==y?(p=l.child,p.childLanes=0,p.pendingProps=F,l.deletions=null):(p=gr(y,F),p.subtreeFlags=y.subtreeFlags&14680064),L!==null?x=gr(L,x):(x=Qr(x,k,d,null),x.flags|=2),x.return=l,p.return=l,p.sibling=x,l.child=p,p=x,x=l.child,k=s.child.memoizedState,k=k===null?Sd(d):{baseLanes:k.baseLanes|d,cachePool:null,transitions:k.transitions},x.memoizedState=k,x.childLanes=s.childLanes&~d,l.memoizedState=wd,p}return x=s.child,s=x.sibling,p=gr(x,{mode:"visible",children:p.children}),(l.mode&1)===0&&(p.lanes=d),p.return=l,p.sibling=null,s!==null&&(d=l.deletions,d===null?(l.deletions=[s],l.flags|=16):d.push(s)),l.child=p,l.memoizedState=null,p}function Cd(s,l){return l=Hl({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function Rl(s,l,d,p){return p!==null&&qu(p),js(l,s.child,null,d),s=Cd(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function JC(s,l,d,p,y,x,k){if(d)return l.flags&256?(l.flags&=-257,p=yd(Error(n(422))),Rl(s,l,k,p)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(x=p.fallback,y=l.mode,p=Hl({mode:"visible",children:p.children},y,0,null),x=Qr(x,y,k,null),x.flags|=2,p.return=l,x.return=l,p.sibling=x,l.child=p,(l.mode&1)!==0&&js(l,s.child,null,k),l.child.memoizedState=Sd(k),l.memoizedState=wd,x);if((l.mode&1)===0)return Rl(s,l,k,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var L=p.dgst;return p=L,x=Error(n(419)),p=yd(x,p,void 0),Rl(s,l,k,p)}if(L=(k&s.childLanes)!==0,dn||L){if(p=jt,p!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|k))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,Ai(s,y),ei(p,s,y,-1))}return zd(),p=yd(Error(n(421))),Rl(s,l,k,p)}return y.data==="$?"?(l.flags|=128,l.child=s.child,l=dk.bind(null,s),y._reactRetry=l,null):(s=x.treeContext,Cn=sr(y.nextSibling),Sn=l,dt=!0,qn=null,s!==null&&(Rn[An++]=Di,Rn[An++]=Ri,Rn[An++]=Ur,Di=s.id,Ri=s.overflow,Ur=l),l=Cd(l,p.children),l.flags|=4096,l)}function Pg(s,l,d){s.lanes|=l;var p=s.alternate;p!==null&&(p.lanes|=l),ed(s.return,l,d)}function kd(s,l,d,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=d,x.tailMode=y)}function Dg(s,l,d){var p=l.pendingProps,y=p.revealOrder,x=p.tail;if(en(s,l,p.children,d),p=ht.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Pg(s,d,l);else if(s.tag===19)Pg(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ot(ht,p),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)s=d.alternate,s!==null&&kl(s)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),kd(l,!1,y,d,x);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(s=y.alternate,s!==null&&kl(s)===null){l.child=y;break}s=y.sibling,y.sibling=d,d=y,y=s}kd(l,!0,d,null,x);break;case"together":kd(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Al(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function Ni(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),Yr|=l.lanes,(d&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,d=gr(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=gr(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function ZC(s,l,d){switch(l.tag){case 3:Mg(l),Ns();break;case 5:Hm(l);break;case 1:un(l.type)&&pl(l);break;case 4:id(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,y=l.memoizedProps.value;ot(bl,p._currentValue),p._currentValue=y;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(ot(ht,ht.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?Tg(s,l,d):(ot(ht,ht.current&1),s=Ni(s,l,d),s!==null?s.sibling:null);ot(ht,ht.current&1);break;case 19:if(p=(d&l.childLanes)!==0,(s.flags&128)!==0){if(p)return Dg(s,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ot(ht,ht.current),p)break;return null;case 22:case 23:return l.lanes=0,Cg(s,l,d)}return Ni(s,l,d)}var Rg,_d,Ag,Lg;Rg=function(s,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)s.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},_d=function(){},Ag=function(s,l,d,p){var y=s.memoizedProps;if(y!==p){s=l.stateNode,Wr(ci.current);var x=null;switch(d){case"input":y=Qt(s,y),p=Qt(s,p),x=[];break;case"select":y=Q({},y,{value:void 0}),p=Q({},p,{value:void 0}),x=[];break;case"textarea":y=Tn(s,y),p=Tn(s,p),x=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=dl)}Xi(d,p);var k;d=null;for(Y in y)if(!p.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var L=y[Y];for(k in L)L.hasOwnProperty(k)&&(d||(d={}),d[k]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(r.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in p){var F=p[Y];if(L=y?.[Y],p.hasOwnProperty(Y)&&F!==L&&(F!=null||L!=null))if(Y==="style")if(L){for(k in L)!L.hasOwnProperty(k)||F&&F.hasOwnProperty(k)||(d||(d={}),d[k]="");for(k in F)F.hasOwnProperty(k)&&L[k]!==F[k]&&(d||(d={}),d[k]=F[k])}else d||(x||(x=[]),x.push(Y,d)),d=F;else Y==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,L=L?L.__html:void 0,F!=null&&L!==F&&(x=x||[]).push(Y,F)):Y==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(Y,""+F):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(r.hasOwnProperty(Y)?(F!=null&&Y==="onScroll"&&at("scroll",s),x||L===F||(x=[])):(x=x||[]).push(Y,F))}d&&(x=x||[]).push("style",d);var Y=x;(l.updateQueue=Y)&&(l.flags|=4)}},Lg=function(s,l,d,p){d!==p&&(l.flags|=4)};function Bo(s,l){if(!dt)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Ht(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(l)for(var y=s.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=d,l}function ek(s,l,d){var p=l.pendingProps;switch(Yu(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(l),null;case 1:return un(l.type)&&fl(),Ht(l),null;case 3:return p=l.stateNode,Is(),lt(cn),lt(Ut),od(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(vl(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,qn!==null&&(Od(qn),qn=null))),_d(s,l),Ht(l),null;case 5:rd(l);var y=Wr(jo.current);if(d=l.type,s!==null&&l.stateNode!=null)Ag(s,l,d,p,y),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(n(166));return Ht(l),null}if(s=Wr(ci.current),vl(l)){p=l.stateNode,d=l.type;var x=l.memoizedProps;switch(p[li]=l,p[Do]=x,s=(l.mode&1)!==0,d){case"dialog":at("cancel",p),at("close",p);break;case"iframe":case"object":case"embed":at("load",p);break;case"video":case"audio":for(y=0;y<Eo.length;y++)at(Eo[y],p);break;case"source":at("error",p);break;case"img":case"image":case"link":at("error",p),at("load",p);break;case"details":at("toggle",p);break;case"input":Ft(p,x),at("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},at("invalid",p);break;case"textarea":Wn(p,x),at("invalid",p)}Xi(d,x),y=null;for(var k in x)if(x.hasOwnProperty(k)){var L=x[k];k==="children"?typeof L=="string"?p.textContent!==L&&(x.suppressHydrationWarning!==!0&&ul(p.textContent,L,s),y=["children",L]):typeof L=="number"&&p.textContent!==""+L&&(x.suppressHydrationWarning!==!0&&ul(p.textContent,L,s),y=["children",""+L]):r.hasOwnProperty(k)&&L!=null&&k==="onScroll"&&at("scroll",p)}switch(d){case"input":qt(p),bs(p,x,!0);break;case"textarea":qt(p),Pn(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=dl)}p=y,l.updateQueue=p,p!==null&&(l.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Lr(d)),s==="http://www.w3.org/1999/xhtml"?d==="script"?(s=k.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=k.createElement(d,{is:p.is}):(s=k.createElement(d),d==="select"&&(k=s,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):s=k.createElementNS(s,d),s[li]=l,s[Do]=p,Rg(s,l,!1,!1),l.stateNode=s;e:{switch(k=Yn(d,p),d){case"dialog":at("cancel",s),at("close",s),y=p;break;case"iframe":case"object":case"embed":at("load",s),y=p;break;case"video":case"audio":for(y=0;y<Eo.length;y++)at(Eo[y],s);y=p;break;case"source":at("error",s),y=p;break;case"img":case"image":case"link":at("error",s),at("load",s),y=p;break;case"details":at("toggle",s),y=p;break;case"input":Ft(s,p),y=Qt(s,p),at("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=Q({},p,{value:void 0}),at("invalid",s);break;case"textarea":Wn(s,p),y=Tn(s,p),at("invalid",s);break;default:y=p}Xi(d,y),L=y;for(x in L)if(L.hasOwnProperty(x)){var F=L[x];x==="style"?Jt(s,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&on(s,F)):x==="children"?typeof F=="string"?(d!=="textarea"||F!=="")&&Gn(s,F):typeof F=="number"&&Gn(s,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(r.hasOwnProperty(x)?F!=null&&x==="onScroll"&&at("scroll",s):F!=null&&E(s,x,F,k))}switch(d){case"input":qt(s),bs(s,p,!1);break;case"textarea":qt(s),Pn(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Le(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?si(s,!!p.multiple,x,!1):p.defaultValue!=null&&si(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=dl)}switch(d){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ht(l),null;case 6:if(s&&l.stateNode!=null)Lg(s,l,s.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(n(166));if(d=Wr(jo.current),Wr(ci.current),vl(l)){if(p=l.stateNode,d=l.memoizedProps,p[li]=l,(x=p.nodeValue!==d)&&(s=Sn,s!==null))switch(s.tag){case 3:ul(p.nodeValue,d,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ul(p.nodeValue,d,(s.mode&1)!==0)}x&&(l.flags|=4)}else p=(d.nodeType===9?d:d.ownerDocument).createTextNode(p),p[li]=l,l.stateNode=p}return Ht(l),null;case 13:if(lt(ht),p=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(dt&&Cn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Om(),Ns(),l.flags|=98560,x=!1;else if(x=vl(l),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[li]=l}else Ns(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ht(l),x=!1}else qn!==null&&(Od(qn),qn=null),x=!0;if(!x)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(ht.current&1)!==0?Tt===0&&(Tt=3):zd())),l.updateQueue!==null&&(l.flags|=4),Ht(l),null);case 4:return Is(),_d(s,l),s===null&&To(l.stateNode.containerInfo),Ht(l),null;case 10:return Zu(l.type._context),Ht(l),null;case 17:return un(l.type)&&fl(),Ht(l),null;case 19:if(lt(ht),x=l.memoizedState,x===null)return Ht(l),null;if(p=(l.flags&128)!==0,k=x.rendering,k===null)if(p)Bo(x,!1);else{if(Tt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(k=kl(s),k!==null){for(l.flags|=128,Bo(x,!1),p=k.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=d,d=l.child;d!==null;)x=d,s=p,x.flags&=14680066,k=x.alternate,k===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=k.childLanes,x.lanes=k.lanes,x.child=k.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=k.memoizedProps,x.memoizedState=k.memoizedState,x.updateQueue=k.updateQueue,x.type=k.type,s=k.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),d=d.sibling;return ot(ht,ht.current&1|2),l.child}s=s.sibling}x.tail!==null&&Ze()>Us&&(l.flags|=128,p=!0,Bo(x,!1),l.lanes=4194304)}else{if(!p)if(s=kl(k),s!==null){if(l.flags|=128,p=!0,d=s.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Bo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!k.alternate&&!dt)return Ht(l),null}else 2*Ze()-x.renderingStartTime>Us&&d!==1073741824&&(l.flags|=128,p=!0,Bo(x,!1),l.lanes=4194304);x.isBackwards?(k.sibling=l.child,l.child=k):(d=x.last,d!==null?d.sibling=k:l.child=k,x.last=k)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Ze(),l.sibling=null,d=ht.current,ot(ht,p?d&1|2:d&1),l):(Ht(l),null);case 22:case 23:return Id(),p=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(l.flags|=8192),p&&(l.mode&1)!==0?(kn&1073741824)!==0&&(Ht(l),l.subtreeFlags&6&&(l.flags|=8192)):Ht(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function tk(s,l){switch(Yu(l),l.tag){case 1:return un(l.type)&&fl(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Is(),lt(cn),lt(Ut),od(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return rd(l),null;case 13:if(lt(ht),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ns()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return lt(ht),null;case 4:return Is(),null;case 10:return Zu(l.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var Ll=!1,Wt=!1,nk=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Bs(s,l){var d=s.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){yt(s,l,p)}else d.current=null}function Md(s,l,d){try{d()}catch(p){yt(s,l,p)}}var Ng=!1;function ik(s,l){if(Iu=Za,s=hm(),Du(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var y=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var k=0,L=-1,F=-1,Y=0,re=0,se=s,ie=null;t:for(;;){for(var me;se!==d||y!==0&&se.nodeType!==3||(L=k+y),se!==x||p!==0&&se.nodeType!==3||(F=k+p),se.nodeType===3&&(k+=se.nodeValue.length),(me=se.firstChild)!==null;)ie=se,se=me;for(;;){if(se===s)break t;if(ie===d&&++Y===y&&(L=k),ie===x&&++re===p&&(F=k),(me=se.nextSibling)!==null)break;se=ie,ie=se.parentNode}se=me}d=L===-1||F===-1?null:{start:L,end:F}}else d=null}d=d||{start:0,end:0}}else d=null;for(zu={focusedElem:s,selectionRange:d},Za=!1,xe=l;xe!==null;)if(l=xe,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,xe=s;else for(;xe!==null;){l=xe;try{var Ce=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var _e=Ce.memoizedProps,wt=Ce.memoizedState,U=l.stateNode,z=U.getSnapshotBeforeUpdate(l.elementType===l.type?_e:Qn(l.type,_e),wt);U.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var H=l.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){yt(l,l.return,ce)}if(s=l.sibling,s!==null){s.return=l.return,xe=s;break}xe=l.return}return Ce=Ng,Ng=!1,Ce}function Vo(s,l,d){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var x=y.destroy;y.destroy=void 0,x!==void 0&&Md(l,d,x)}y=y.next}while(y!==p)}}function Nl(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&s)===s){var p=d.create;d.destroy=p()}d=d.next}while(d!==l)}}function Ed(s){var l=s.ref;if(l!==null){var d=s.stateNode;s.tag,s=d,typeof l=="function"?l(s):l.current=s}}function jg(s){var l=s.alternate;l!==null&&(s.alternate=null,jg(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[li],delete l[Do],delete l[$u],delete l[zC],delete l[BC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Og(s){return s.tag===5||s.tag===3||s.tag===4}function Fg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Og(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Td(s,l,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(s,l):d.insertBefore(s,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(s,d)):(l=d,l.appendChild(s)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=dl));else if(p!==4&&(s=s.child,s!==null))for(Td(s,l,d),s=s.sibling;s!==null;)Td(s,l,d),s=s.sibling}function Pd(s,l,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Pd(s,l,d),s=s.sibling;s!==null;)Pd(s,l,d),s=s.sibling}var It=null,Jn=!1;function dr(s,l,d){for(d=d.child;d!==null;)Ig(s,l,d),d=d.sibling}function Ig(s,l,d){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(_i,d)}catch{}switch(d.tag){case 5:Wt||Bs(d,l);case 6:var p=It,y=Jn;It=null,dr(s,l,d),It=p,Jn=y,It!==null&&(Jn?(s=It,d=d.stateNode,s.nodeType===8?s.parentNode.removeChild(d):s.removeChild(d)):It.removeChild(d.stateNode));break;case 18:It!==null&&(Jn?(s=It,d=d.stateNode,s.nodeType===8?Uu(s.parentNode,d):s.nodeType===1&&Uu(s,d),xo(s)):Uu(It,d.stateNode));break;case 4:p=It,y=Jn,It=d.stateNode.containerInfo,Jn=!0,dr(s,l,d),It=p,Jn=y;break;case 0:case 11:case 14:case 15:if(!Wt&&(p=d.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var x=y,k=x.destroy;x=x.tag,k!==void 0&&((x&2)!==0||(x&4)!==0)&&Md(d,l,k),y=y.next}while(y!==p)}dr(s,l,d);break;case 1:if(!Wt&&(Bs(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(L){yt(d,l,L)}dr(s,l,d);break;case 21:dr(s,l,d);break;case 22:d.mode&1?(Wt=(p=Wt)||d.memoizedState!==null,dr(s,l,d),Wt=p):dr(s,l,d);break;default:dr(s,l,d)}}function zg(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var d=s.stateNode;d===null&&(d=s.stateNode=new nk),l.forEach(function(p){var y=hk.bind(null,s,p);d.has(p)||(d.add(p),p.then(y,y))})}}function Zn(s,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];try{var x=s,k=l,L=k;e:for(;L!==null;){switch(L.tag){case 5:It=L.stateNode,Jn=!1;break e;case 3:It=L.stateNode.containerInfo,Jn=!0;break e;case 4:It=L.stateNode.containerInfo,Jn=!0;break e}L=L.return}if(It===null)throw Error(n(160));Ig(x,k,y),It=null,Jn=!1;var F=y.alternate;F!==null&&(F.return=null),y.return=null}catch(Y){yt(y,l,Y)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Bg(l,s),l=l.sibling}function Bg(s,l){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Zn(l,s),di(s),p&4){try{Vo(3,s,s.return),Nl(3,s)}catch(_e){yt(s,s.return,_e)}try{Vo(5,s,s.return)}catch(_e){yt(s,s.return,_e)}}break;case 1:Zn(l,s),di(s),p&512&&d!==null&&Bs(d,d.return);break;case 5:if(Zn(l,s),di(s),p&512&&d!==null&&Bs(d,d.return),s.flags&32){var y=s.stateNode;try{Gn(y,"")}catch(_e){yt(s,s.return,_e)}}if(p&4&&(y=s.stateNode,y!=null)){var x=s.memoizedProps,k=d!==null?d.memoizedProps:x,L=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{L==="input"&&x.type==="radio"&&x.name!=null&&Mt(y,x),Yn(L,k);var Y=Yn(L,x);for(k=0;k<F.length;k+=2){var re=F[k],se=F[k+1];re==="style"?Jt(y,se):re==="dangerouslySetInnerHTML"?on(y,se):re==="children"?Gn(y,se):E(y,re,se,Y)}switch(L){case"input":vn(y,x);break;case"textarea":sn(y,x);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var me=x.value;me!=null?si(y,!!x.multiple,me,!1):ie!==!!x.multiple&&(x.defaultValue!=null?si(y,!!x.multiple,x.defaultValue,!0):si(y,!!x.multiple,x.multiple?[]:"",!1))}y[Do]=x}catch(_e){yt(s,s.return,_e)}}break;case 6:if(Zn(l,s),di(s),p&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,x=s.memoizedProps;try{y.nodeValue=x}catch(_e){yt(s,s.return,_e)}}break;case 3:if(Zn(l,s),di(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{xo(l.containerInfo)}catch(_e){yt(s,s.return,_e)}break;case 4:Zn(l,s),di(s);break;case 13:Zn(l,s),di(s),y=s.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Ad=Ze())),p&4&&zg(s);break;case 22:if(re=d!==null&&d.memoizedState!==null,s.mode&1?(Wt=(Y=Wt)||re,Zn(l,s),Wt=Y):Zn(l,s),di(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!re&&(s.mode&1)!==0)for(xe=s,re=s.child;re!==null;){for(se=xe=re;xe!==null;){switch(ie=xe,me=ie.child,ie.tag){case 0:case 11:case 14:case 15:Vo(4,ie,ie.return);break;case 1:Bs(ie,ie.return);var Ce=ie.stateNode;if(typeof Ce.componentWillUnmount=="function"){p=ie,d=ie.return;try{l=p,Ce.props=l.memoizedProps,Ce.state=l.memoizedState,Ce.componentWillUnmount()}catch(_e){yt(p,d,_e)}}break;case 5:Bs(ie,ie.return);break;case 22:if(ie.memoizedState!==null){$g(se);continue}}me!==null?(me.return=ie,xe=me):$g(se)}re=re.sibling}e:for(re=null,se=s;;){if(se.tag===5){if(re===null){re=se;try{y=se.stateNode,Y?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(L=se.stateNode,F=se.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null,L.style.display=ws("display",k))}catch(_e){yt(s,s.return,_e)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=Y?"":se.memoizedProps}catch(_e){yt(s,s.return,_e)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Zn(l,s),di(s),p&4&&zg(s);break;case 21:break;default:Zn(l,s),di(s)}}function di(s){var l=s.flags;if(l&2){try{e:{for(var d=s.return;d!==null;){if(Og(d)){var p=d;break e}d=d.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Gn(y,""),p.flags&=-33);var x=Fg(s);Pd(s,x,y);break;case 3:case 4:var k=p.stateNode.containerInfo,L=Fg(s);Td(s,L,k);break;default:throw Error(n(161))}}catch(F){yt(s,s.return,F)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function rk(s,l,d){xe=s,Vg(s)}function Vg(s,l,d){for(var p=(s.mode&1)!==0;xe!==null;){var y=xe,x=y.child;if(y.tag===22&&p){var k=y.memoizedState!==null||Ll;if(!k){var L=y.alternate,F=L!==null&&L.memoizedState!==null||Wt;L=Ll;var Y=Wt;if(Ll=k,(Wt=F)&&!Y)for(xe=y;xe!==null;)k=xe,F=k.child,k.tag===22&&k.memoizedState!==null?Hg(y):F!==null?(F.return=k,xe=F):Hg(y);for(;x!==null;)xe=x,Vg(x),x=x.sibling;xe=y,Ll=L,Wt=Y}Ug(s)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,xe=x):Ug(s)}}function Ug(s){for(;xe!==null;){var l=xe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Wt||Nl(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Wt)if(d===null)p.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:Qn(l.type,d.memoizedProps);p.componentDidUpdate(y,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=l.updateQueue;x!==null&&$m(l,x,p);break;case 3:var k=l.updateQueue;if(k!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}$m(l,k,d)}break;case 5:var L=l.stateNode;if(d===null&&l.flags&4){d=L;var F=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&d.focus();break;case"img":F.src&&(d.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Y=l.alternate;if(Y!==null){var re=Y.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&xo(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wt||l.flags&512&&Ed(l)}catch(ie){yt(l,l.return,ie)}}if(l===s){xe=null;break}if(d=l.sibling,d!==null){d.return=l.return,xe=d;break}xe=l.return}}function $g(s){for(;xe!==null;){var l=xe;if(l===s){xe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,xe=d;break}xe=l.return}}function Hg(s){for(;xe!==null;){var l=xe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Nl(4,l)}catch(F){yt(l,d,F)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(F){yt(l,y,F)}}var x=l.return;try{Ed(l)}catch(F){yt(l,x,F)}break;case 5:var k=l.return;try{Ed(l)}catch(F){yt(l,k,F)}}}catch(F){yt(l,l.return,F)}if(l===s){xe=null;break}var L=l.sibling;if(L!==null){L.return=l.return,xe=L;break}xe=l.return}}var sk=Math.ceil,jl=A.ReactCurrentDispatcher,Dd=A.ReactCurrentOwner,jn=A.ReactCurrentBatchConfig,Xe=0,jt=null,kt=null,zt=0,kn=0,Vs=or(0),Tt=0,Uo=null,Yr=0,Ol=0,Rd=0,$o=null,hn=null,Ad=0,Us=1/0,ji=null,Fl=!1,Ld=null,hr=null,Il=!1,fr=null,zl=0,Ho=0,Nd=null,Bl=-1,Vl=0;function tn(){return(Xe&6)!==0?Ze():Bl!==-1?Bl:Bl=Ze()}function pr(s){return(s.mode&1)===0?1:(Xe&2)!==0&&zt!==0?zt&-zt:UC.transition!==null?(Vl===0&&(Vl=Fp()),Vl):(s=et,s!==0||(s=window.event,s=s===void 0?16:Gp(s.type)),s)}function ei(s,l,d,p){if(50<Ho)throw Ho=0,Nd=null,Error(n(185));po(s,d,p),((Xe&2)===0||s!==jt)&&(s===jt&&((Xe&2)===0&&(Ol|=d),Tt===4&&mr(s,zt)),fn(s,p),d===1&&Xe===0&&(l.mode&1)===0&&(Us=Ze()+500,ml&&lr()))}function fn(s,l){var d=s.callbackNode;US(s,l);var p=qa(s,s===jt?zt:0);if(p===0)d!==null&&Lt(d),s.callbackNode=null,s.callbackPriority=0;else if(l=p&-p,s.callbackPriority!==l){if(d!=null&&Lt(d),l===1)s.tag===0?VC(Gg.bind(null,s)):Rm(Gg.bind(null,s)),FC(function(){(Xe&6)===0&&lr()}),d=null;else{switch(Ip(p)){case 1:d=Dn;break;case 4:d=bn;break;case 16:d=Qi;break;case 536870912:d=ai;break;default:d=Qi}d=e0(d,Wg.bind(null,s))}s.callbackPriority=l,s.callbackNode=d}}function Wg(s,l){if(Bl=-1,Vl=0,(Xe&6)!==0)throw Error(n(327));var d=s.callbackNode;if($s()&&s.callbackNode!==d)return null;var p=qa(s,s===jt?zt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||l)l=Ul(s,p);else{l=p;var y=Xe;Xe|=2;var x=Kg();(jt!==s||zt!==l)&&(ji=null,Us=Ze()+500,Xr(s,l));do try{lk();break}catch(L){Yg(s,L)}while(!0);Ju(),jl.current=x,Xe=y,kt!==null?l=0:(jt=null,zt=0,l=Tt)}if(l!==0){if(l===2&&(y=pu(s),y!==0&&(p=y,l=jd(s,y))),l===1)throw d=Uo,Xr(s,0),mr(s,p),fn(s,Ze()),d;if(l===6)mr(s,p);else{if(y=s.current.alternate,(p&30)===0&&!ok(y)&&(l=Ul(s,p),l===2&&(x=pu(s),x!==0&&(p=x,l=jd(s,x))),l===1))throw d=Uo,Xr(s,0),mr(s,p),fn(s,Ze()),d;switch(s.finishedWork=y,s.finishedLanes=p,l){case 0:case 1:throw Error(n(345));case 2:qr(s,hn,ji);break;case 3:if(mr(s,p),(p&130023424)===p&&(l=Ad+500-Ze(),10<l)){if(qa(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){tn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Vu(qr.bind(null,s,hn,ji),l);break}qr(s,hn,ji);break;case 4:if(mr(s,p),(p&4194240)===p)break;for(l=s.eventTimes,y=-1;0<p;){var k=31-it(p);x=1<<k,k=l[k],k>y&&(y=k),p&=~x}if(p=y,p=Ze()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*sk(p/1960))-p,10<p){s.timeoutHandle=Vu(qr.bind(null,s,hn,ji),p);break}qr(s,hn,ji);break;case 5:qr(s,hn,ji);break;default:throw Error(n(329))}}}return fn(s,Ze()),s.callbackNode===d?Wg.bind(null,s):null}function jd(s,l){var d=$o;return s.current.memoizedState.isDehydrated&&(Xr(s,l).flags|=256),s=Ul(s,l),s!==2&&(l=hn,hn=d,l!==null&&Od(l)),s}function Od(s){hn===null?hn=s:hn.push.apply(hn,s)}function ok(s){for(var l=s;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var p=0;p<d.length;p++){var y=d[p],x=y.getSnapshot;y=y.value;try{if(!Xn(x(),y))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function mr(s,l){for(l&=~Rd,l&=~Ol,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var d=31-it(l),p=1<<d;s[d]=-1,l&=~p}}function Gg(s){if((Xe&6)!==0)throw Error(n(327));$s();var l=qa(s,0);if((l&1)===0)return fn(s,Ze()),null;var d=Ul(s,l);if(s.tag!==0&&d===2){var p=pu(s);p!==0&&(l=p,d=jd(s,p))}if(d===1)throw d=Uo,Xr(s,0),mr(s,l),fn(s,Ze()),d;if(d===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,qr(s,hn,ji),fn(s,Ze()),null}function Fd(s,l){var d=Xe;Xe|=1;try{return s(l)}finally{Xe=d,Xe===0&&(Us=Ze()+500,ml&&lr())}}function Kr(s){fr!==null&&fr.tag===0&&(Xe&6)===0&&$s();var l=Xe;Xe|=1;var d=jn.transition,p=et;try{if(jn.transition=null,et=1,s)return s()}finally{et=p,jn.transition=d,Xe=l,(Xe&6)===0&&lr()}}function Id(){kn=Vs.current,lt(Vs)}function Xr(s,l){s.finishedWork=null,s.finishedLanes=0;var d=s.timeoutHandle;if(d!==-1&&(s.timeoutHandle=-1,OC(d)),kt!==null)for(d=kt.return;d!==null;){var p=d;switch(Yu(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&fl();break;case 3:Is(),lt(cn),lt(Ut),od();break;case 5:rd(p);break;case 4:Is();break;case 13:lt(ht);break;case 19:lt(ht);break;case 10:Zu(p.type._context);break;case 22:case 23:Id()}d=d.return}if(jt=s,kt=s=gr(s.current,null),zt=kn=l,Tt=0,Uo=null,Rd=Ol=Yr=0,hn=$o=null,Hr!==null){for(l=0;l<Hr.length;l++)if(d=Hr[l],p=d.interleaved,p!==null){d.interleaved=null;var y=p.next,x=d.pending;if(x!==null){var k=x.next;x.next=y,p.next=k}d.pending=p}Hr=null}return s}function Yg(s,l){do{var d=kt;try{if(Ju(),_l.current=Pl,Ml){for(var p=ft.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}Ml=!1}if(Gr=0,Nt=Et=ft=null,Oo=!1,Fo=0,Dd.current=null,d===null||d.return===null){Tt=1,Uo=l,kt=null;break}e:{var x=s,k=d.return,L=d,F=l;if(l=zt,L.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Y=F,re=L,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ie=re.alternate;ie?(re.updateQueue=ie.updateQueue,re.memoizedState=ie.memoizedState,re.lanes=ie.lanes):(re.updateQueue=null,re.memoizedState=null)}var me=vg(k);if(me!==null){me.flags&=-257,xg(me,k,L,x,l),me.mode&1&&yg(x,Y,l),l=me,F=Y;var Ce=l.updateQueue;if(Ce===null){var _e=new Set;_e.add(F),l.updateQueue=_e}else Ce.add(F);break e}else{if((l&1)===0){yg(x,Y,l),zd();break e}F=Error(n(426))}}else if(dt&&L.mode&1){var wt=vg(k);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),xg(wt,k,L,x,l),qu(zs(F,L));break e}}x=F=zs(F,L),Tt!==4&&(Tt=2),$o===null?$o=[x]:$o.push(x),x=k;do{switch(x.tag){case 3:x.flags|=65536,l&=-l,x.lanes|=l;var U=mg(x,F,l);Um(x,U);break e;case 1:L=F;var z=x.type,H=x.stateNode;if((x.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(hr===null||!hr.has(H)))){x.flags|=65536,l&=-l,x.lanes|=l;var ce=gg(x,L,l);Um(x,ce);break e}}x=x.return}while(x!==null)}qg(d)}catch(Ee){l=Ee,kt===d&&d!==null&&(kt=d=d.return);continue}break}while(!0)}function Kg(){var s=jl.current;return jl.current=Pl,s===null?Pl:s}function zd(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),jt===null||(Yr&268435455)===0&&(Ol&268435455)===0||mr(jt,zt)}function Ul(s,l){var d=Xe;Xe|=2;var p=Kg();(jt!==s||zt!==l)&&(ji=null,Xr(s,l));do try{ak();break}catch(y){Yg(s,y)}while(!0);if(Ju(),Xe=d,jl.current=p,kt!==null)throw Error(n(261));return jt=null,zt=0,Tt}function ak(){for(;kt!==null;)Xg(kt)}function lk(){for(;kt!==null&&!Qe();)Xg(kt)}function Xg(s){var l=Zg(s.alternate,s,kn);s.memoizedProps=s.pendingProps,l===null?qg(s):kt=l,Dd.current=null}function qg(s){var l=s;do{var d=l.alternate;if(s=l.return,(l.flags&32768)===0){if(d=ek(d,l,kn),d!==null){kt=d;return}}else{if(d=tk(d,l),d!==null){d.flags&=32767,kt=d;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Tt=6,kt=null;return}}if(l=l.sibling,l!==null){kt=l;return}kt=l=s}while(l!==null);Tt===0&&(Tt=5)}function qr(s,l,d){var p=et,y=jn.transition;try{jn.transition=null,et=1,ck(s,l,d,p)}finally{jn.transition=y,et=p}return null}function ck(s,l,d,p){do $s();while(fr!==null);if((Xe&6)!==0)throw Error(n(327));d=s.finishedWork;var y=s.finishedLanes;if(d===null)return null;if(s.finishedWork=null,s.finishedLanes=0,d===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=d.lanes|d.childLanes;if($S(s,x),s===jt&&(kt=jt=null,zt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Il||(Il=!0,e0(Qi,function(){return $s(),null})),x=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||x){x=jn.transition,jn.transition=null;var k=et;et=1;var L=Xe;Xe|=4,Dd.current=null,ik(s,d),Bg(d,s),PC(zu),Za=!!Iu,zu=Iu=null,s.current=d,rk(d),ln(),Xe=L,et=k,jn.transition=x}else s.current=d;if(Il&&(Il=!1,fr=s,zl=y),x=s.pendingLanes,x===0&&(hr=null),Ge(d.stateNode),fn(s,Ze()),l!==null)for(p=s.onRecoverableError,d=0;d<l.length;d++)y=l[d],p(y.value,{componentStack:y.stack,digest:y.digest});if(Fl)throw Fl=!1,s=Ld,Ld=null,s;return(zl&1)!==0&&s.tag!==0&&$s(),x=s.pendingLanes,(x&1)!==0?s===Nd?Ho++:(Ho=0,Nd=s):Ho=0,lr(),null}function $s(){if(fr!==null){var s=Ip(zl),l=jn.transition,d=et;try{if(jn.transition=null,et=16>s?16:s,fr===null)var p=!1;else{if(s=fr,fr=null,zl=0,(Xe&6)!==0)throw Error(n(331));var y=Xe;for(Xe|=4,xe=s.current;xe!==null;){var x=xe,k=x.child;if((xe.flags&16)!==0){var L=x.deletions;if(L!==null){for(var F=0;F<L.length;F++){var Y=L[F];for(xe=Y;xe!==null;){var re=xe;switch(re.tag){case 0:case 11:case 15:Vo(8,re,x)}var se=re.child;if(se!==null)se.return=re,xe=se;else for(;xe!==null;){re=xe;var ie=re.sibling,me=re.return;if(jg(re),re===Y){xe=null;break}if(ie!==null){ie.return=me,xe=ie;break}xe=me}}}var Ce=x.alternate;if(Ce!==null){var _e=Ce.child;if(_e!==null){Ce.child=null;do{var wt=_e.sibling;_e.sibling=null,_e=wt}while(_e!==null)}}xe=x}}if((x.subtreeFlags&2064)!==0&&k!==null)k.return=x,xe=k;else e:for(;xe!==null;){if(x=xe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Vo(9,x,x.return)}var U=x.sibling;if(U!==null){U.return=x.return,xe=U;break e}xe=x.return}}var z=s.current;for(xe=z;xe!==null;){k=xe;var H=k.child;if((k.subtreeFlags&2064)!==0&&H!==null)H.return=k,xe=H;else e:for(k=z;xe!==null;){if(L=xe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Nl(9,L)}}catch(Ee){yt(L,L.return,Ee)}if(L===k){xe=null;break e}var ce=L.sibling;if(ce!==null){ce.return=L.return,xe=ce;break e}xe=L.return}}if(Xe=y,lr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(_i,s)}catch{}p=!0}return p}finally{et=d,jn.transition=l}}return!1}function Qg(s,l,d){l=zs(d,l),l=mg(s,l,1),s=ur(s,l,1),l=tn(),s!==null&&(po(s,1,l),fn(s,l))}function yt(s,l,d){if(s.tag===3)Qg(s,s,d);else for(;l!==null;){if(l.tag===3){Qg(l,s,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(hr===null||!hr.has(p))){s=zs(d,s),s=gg(l,s,1),l=ur(l,s,1),s=tn(),l!==null&&(po(l,1,s),fn(l,s));break}}l=l.return}}function uk(s,l,d){var p=s.pingCache;p!==null&&p.delete(l),l=tn(),s.pingedLanes|=s.suspendedLanes&d,jt===s&&(zt&d)===d&&(Tt===4||Tt===3&&(zt&130023424)===zt&&500>Ze()-Ad?Xr(s,0):Rd|=d),fn(s,l)}function Jg(s,l){l===0&&((s.mode&1)===0?l=1:(l=Ir,Ir<<=1,(Ir&130023424)===0&&(Ir=4194304)));var d=tn();s=Ai(s,l),s!==null&&(po(s,l,d),fn(s,d))}function dk(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),Jg(s,d)}function hk(s,l){var d=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(l),Jg(s,d)}var Zg;Zg=function(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps||cn.current)dn=!0;else{if((s.lanes&d)===0&&(l.flags&128)===0)return dn=!1,ZC(s,l,d);dn=(s.flags&131072)!==0}else dn=!1,dt&&(l.flags&1048576)!==0&&Am(l,yl,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Al(s,l),s=l.pendingProps;var y=Rs(l,Ut.current);Fs(l,d),y=cd(null,l,p,s,y,d);var x=ud();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,un(p)?(x=!0,pl(l)):x=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,nd(l),y.updater=Dl,l.stateNode=y,y._reactInternals=l,gd(l,p,s,d),l=bd(null,l,p,!0,x,d)):(l.tag=0,dt&&x&&Gu(l),en(null,l,y,d),l=l.child),l;case 16:p=l.elementType;e:{switch(Al(s,l),s=l.pendingProps,y=p._init,p=y(p._payload),l.type=p,y=l.tag=pk(p),s=Qn(p,s),y){case 0:l=xd(null,l,p,s,d);break e;case 1:l=_g(null,l,p,s,d);break e;case 11:l=bg(null,l,p,s,d);break e;case 14:l=wg(null,l,p,Qn(p.type,s),d);break e}throw Error(n(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qn(p,y),xd(s,l,p,y,d);case 1:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qn(p,y),_g(s,l,p,y,d);case 3:e:{if(Mg(l),s===null)throw Error(n(387));p=l.pendingProps,x=l.memoizedState,y=x.element,Vm(s,l),Cl(l,p,null,d);var k=l.memoizedState;if(p=k.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){y=zs(Error(n(423)),l),l=Eg(s,l,p,d,y);break e}else if(p!==y){y=zs(Error(n(424)),l),l=Eg(s,l,p,d,y);break e}else for(Cn=sr(l.stateNode.containerInfo.firstChild),Sn=l,dt=!0,qn=null,d=zm(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ns(),p===y){l=Ni(s,l,d);break e}en(s,l,p,d)}l=l.child}return l;case 5:return Hm(l),s===null&&Xu(l),p=l.type,y=l.pendingProps,x=s!==null?s.memoizedProps:null,k=y.children,Bu(p,y)?k=null:x!==null&&Bu(p,x)&&(l.flags|=32),kg(s,l),en(s,l,k,d),l.child;case 6:return s===null&&Xu(l),null;case 13:return Tg(s,l,d);case 4:return id(l,l.stateNode.containerInfo),p=l.pendingProps,s===null?l.child=js(l,null,p,d):en(s,l,p,d),l.child;case 11:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qn(p,y),bg(s,l,p,y,d);case 7:return en(s,l,l.pendingProps,d),l.child;case 8:return en(s,l,l.pendingProps.children,d),l.child;case 12:return en(s,l,l.pendingProps.children,d),l.child;case 10:e:{if(p=l.type._context,y=l.pendingProps,x=l.memoizedProps,k=y.value,ot(bl,p._currentValue),p._currentValue=k,x!==null)if(Xn(x.value,k)){if(x.children===y.children&&!cn.current){l=Ni(s,l,d);break e}}else for(x=l.child,x!==null&&(x.return=l);x!==null;){var L=x.dependencies;if(L!==null){k=x.child;for(var F=L.firstContext;F!==null;){if(F.context===p){if(x.tag===1){F=Li(-1,d&-d),F.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?F.next=F:(F.next=re.next,re.next=F),Y.pending=F}}x.lanes|=d,F=x.alternate,F!==null&&(F.lanes|=d),ed(x.return,d,l),L.lanes|=d;break}F=F.next}}else if(x.tag===10)k=x.type===l.type?null:x.child;else if(x.tag===18){if(k=x.return,k===null)throw Error(n(341));k.lanes|=d,L=k.alternate,L!==null&&(L.lanes|=d),ed(k,d,l),k=x.sibling}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===l){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}en(s,l,y.children,d),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,Fs(l,d),y=Ln(y),p=p(y),l.flags|=1,en(s,l,p,d),l.child;case 14:return p=l.type,y=Qn(p,l.pendingProps),y=Qn(p.type,y),wg(s,l,p,y,d);case 15:return Sg(s,l,l.type,l.pendingProps,d);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:Qn(p,y),Al(s,l),l.tag=1,un(p)?(s=!0,pl(l)):s=!1,Fs(l,d),fg(l,p,y),gd(l,p,y,d),bd(null,l,p,!0,s,d);case 19:return Dg(s,l,d);case 22:return Cg(s,l,d)}throw Error(n(156,l.tag))};function e0(s,l){return bt(s,l)}function fk(s,l,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(s,l,d,p){return new fk(s,l,d,p)}function Bd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pk(s){if(typeof s=="function")return Bd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===X)return 11;if(s===te)return 14}return 2}function gr(s,l){var d=s.alternate;return d===null?(d=On(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&14680064,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d}function $l(s,l,d,p,y,x){var k=2;if(p=s,typeof s=="function")Bd(s)&&(k=1);else if(typeof s=="string")k=5;else e:switch(s){case T:return Qr(d.children,y,x,l);case R:k=8,y|=8;break;case V:return s=On(12,d,l,y|2),s.elementType=V,s.lanes=x,s;case oe:return s=On(13,d,l,y),s.elementType=oe,s.lanes=x,s;case J:return s=On(19,d,l,y),s.elementType=J,s.lanes=x,s;case ee:return Hl(d,y,x,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:k=10;break e;case G:k=9;break e;case X:k=11;break e;case te:k=14;break e;case ue:k=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=On(k,d,l,y),l.elementType=s,l.type=p,l.lanes=x,l}function Qr(s,l,d,p){return s=On(7,s,p,l),s.lanes=d,s}function Hl(s,l,d,p){return s=On(22,s,p,l),s.elementType=ee,s.lanes=d,s.stateNode={isHidden:!1},s}function Vd(s,l,d){return s=On(6,s,null,l),s.lanes=d,s}function Ud(s,l,d){return l=On(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function mk(s,l,d,p,y){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function $d(s,l,d,p,y,x,k,L,F){return s=new mk(s,l,d,L,F),l===1?(l=1,x===!0&&(l|=8)):l=0,x=On(3,null,null,l),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},nd(x),s}function gk(s,l,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:p==null?null:""+p,children:s,containerInfo:l,implementation:d}}function t0(s){if(!s)return ar;s=s._reactInternals;e:{if(ge(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(un(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var d=s.type;if(un(d))return Pm(s,d,l)}return l}function n0(s,l,d,p,y,x,k,L,F){return s=$d(d,p,!0,s,y,x,k,L,F),s.context=t0(null),d=s.current,p=tn(),y=pr(d),x=Li(p,y),x.callback=l??null,ur(d,x,y),s.current.lanes=y,po(s,y,p),fn(s,p),s}function Wl(s,l,d,p){var y=l.current,x=tn(),k=pr(y);return d=t0(d),l.context===null?l.context=d:l.pendingContext=d,l=Li(x,k),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=ur(y,l,k),s!==null&&(ei(s,y,k,x),Sl(s,y,k)),k}function Gl(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function i0(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function Hd(s,l){i0(s,l),(s=s.alternate)&&i0(s,l)}function yk(){return null}var r0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Wd(s){this._internalRoot=s}Yl.prototype.render=Wd.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Wl(s,l,null,null)},Yl.prototype.unmount=Wd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Kr(function(){Wl(null,s,null,null)}),l[Ti]=null}};function Yl(s){this._internalRoot=s}Yl.prototype.unstable_scheduleHydration=function(s){if(s){var l=Vp();s={blockedOn:null,target:s,priority:l};for(var d=0;d<nr.length&&l!==0&&l<nr[d].priority;d++);nr.splice(d,0,s),d===0&&Hp(s)}};function Gd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Kl(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function s0(){}function vk(s,l,d,p,y){if(y){if(typeof p=="function"){var x=p;p=function(){var Y=Gl(k);x.call(Y)}}var k=n0(l,p,s,0,null,!1,!1,"",s0);return s._reactRootContainer=k,s[Ti]=k.current,To(s.nodeType===8?s.parentNode:s),Kr(),k}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var L=p;p=function(){var Y=Gl(F);L.call(Y)}}var F=$d(s,0,!1,null,null,!1,!1,"",s0);return s._reactRootContainer=F,s[Ti]=F.current,To(s.nodeType===8?s.parentNode:s),Kr(function(){Wl(l,F,d,p)}),F}function Xl(s,l,d,p,y){var x=d._reactRootContainer;if(x){var k=x;if(typeof y=="function"){var L=y;y=function(){var F=Gl(k);L.call(F)}}Wl(l,k,s,y)}else k=vk(d,l,s,y,p);return Gl(k)}zp=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var d=zr(l.pendingLanes);d!==0&&(gu(l,d|1),fn(l,Ze()),(Xe&6)===0&&(Us=Ze()+500,lr()))}break;case 13:Kr(function(){var p=Ai(s,1);if(p!==null){var y=tn();ei(p,s,1,y)}}),Hd(s,1)}},yu=function(s){if(s.tag===13){var l=Ai(s,134217728);if(l!==null){var d=tn();ei(l,s,134217728,d)}Hd(s,134217728)}},Bp=function(s){if(s.tag===13){var l=pr(s),d=Ai(s,l);if(d!==null){var p=tn();ei(d,s,l,p)}Hd(s,l)}},Vp=function(){return et},Up=function(s,l){var d=et;try{return et=s,l()}finally{et=d}},be=function(s,l,d){switch(l){case"input":if(vn(s,d),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==s&&p.form===s.form){var y=hl(p);if(!y)throw Error(n(90));He(p),vn(p,y)}}}break;case"textarea":sn(s,d);break;case"select":l=d.value,l!=null&&si(s,!!d.multiple,l,!1)}},je=Fd,nt=Kr;var xk={usingClientEntryPoint:!1,Events:[Ro,Ps,hl,De,Ye,Fd]},Wo={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bk={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=We(s),s===null?null:s.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||yk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{_i=ql.inject(bk),Zt=ql}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk,pn.createPortal=function(s,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gd(l))throw Error(n(200));return gk(s,l,null,d)},pn.createRoot=function(s,l){if(!Gd(s))throw Error(n(299));var d=!1,p="",y=r0;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=$d(s,1,!1,null,null,d,!1,p,y),s[Ti]=l.current,To(s.nodeType===8?s.parentNode:s),new Wd(l)},pn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=We(l),s=s===null?null:s.stateNode,s},pn.flushSync=function(s){return Kr(s)},pn.hydrate=function(s,l,d){if(!Kl(l))throw Error(n(200));return Xl(null,s,l,!0,d)},pn.hydrateRoot=function(s,l,d){if(!Gd(s))throw Error(n(405));var p=d!=null&&d.hydratedSources||null,y=!1,x="",k=r0;if(d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(k=d.onRecoverableError)),l=n0(l,null,s,1,d??null,y,!1,x,k),s[Ti]=l.current,To(s),p)for(s=0;s<p.length;s++)d=p[s],y=d._getVersion,y=y(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,y]:l.mutableSourceEagerHydrationData.push(d,y);return new Yl(l)},pn.render=function(s,l,d){if(!Kl(l))throw Error(n(200));return Xl(null,s,l,!1,d)},pn.unmountComponentAtNode=function(s){if(!Kl(s))throw Error(n(40));return s._reactRootContainer?(Kr(function(){Xl(null,null,s,!1,function(){s._reactRootContainer=null,s[Ti]=null})}),!0):!1},pn.unstable_batchedUpdates=Fd,pn.unstable_renderSubtreeIntoContainer=function(s,l,d,p){if(!Kl(d))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Xl(s,l,d,!1,p)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var f0;function rb(){if(f0)return Xd.exports;f0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xd.exports=Pk(),Xd.exports}var p0;function Dk(){if(p0)return Ql;p0=1;var t=rb();return Ql.createRoot=t.createRoot,Ql.hydrateRoot=t.hydrateRoot,Ql}var Rk=Dk();const Ak=ib(Rk);var sb=t=>{throw TypeError(t)},Lk=(t,e,n)=>e.has(t)||sb("Cannot "+n),Jd=(t,e,n)=>(Lk(t,e,"read from private field"),n?n.call(t):e.get(t)),Nk=(t,e,n)=>e.has(t)?sb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),m0="popstate";function jk(t={}){function e(r,o){let{pathname:a="/",search:c="",hash:u=""}=Yi(r.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Sa("",{pathname:a,search:c,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let a=r.document.querySelector("base"),c="";if(a&&a.getAttribute("href")){let u=r.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof o=="string"?o:xi(o))}function i(r,o){xt(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Fk(e,n,i,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ok(){return Math.random().toString(36).substring(2,10)}function g0(t,e){return{usr:t.state,key:t.key,idx:e}}function Sa(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yi(e):e,state:n,key:e&&e.key||i||Ok()}}function xi({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function Fk(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,c="POP",u=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function m(){c="POP";let C=f(),_=C==null?null:C-h;h=C,u&&u({action:c,location:w.location,delta:_})}function g(C,_){c="PUSH";let P=Sa(w.location,C,_);n&&n(P,C),h=f()+1;let E=g0(P,h),A=w.createHref(P);try{a.pushState(E,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(A)}o&&u&&u({action:c,location:w.location,delta:1})}function v(C,_){c="REPLACE";let P=Sa(w.location,C,_);n&&n(P,C),h=f();let E=g0(P,h),A=w.createHref(P);a.replaceState(E,"",A),o&&u&&u({action:c,location:w.location,delta:0})}function b(C){return ob(C)}let w={get action(){return c},get location(){return t(r,a)},listen(C){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(m0,m),u=C,()=>{r.removeEventListener(m0,m),u=null}},createHref(C){return e(r,C)},createURL:b,encodeLocation(C){let _=b(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:v,go(C){return a.go(C)}};return w}function ob(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:xi(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var na,y0=class{constructor(t){if(Nk(this,na,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Jd(this,na).has(t))return Jd(this,na).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Jd(this,na).set(t,e)}};na=new WeakMap;var Ik=new Set(["lazy","caseSensitive","path","id","index","children"]);function zk(t){return Ik.has(t)}var Bk=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function Vk(t){return Bk.has(t)}function Uk(t){return t.index===!0}function Ca(t,e,n=[],i={},r=!1){return t.map((o,a)=>{let c=[...n,String(a)],u=typeof o.id=="string"?o.id:c.join("-");if(Ue(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ue(r||!i[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),Uk(o)){let h={...o,id:u};return i[u]=v0(h,e(h)),h}else{let h={...o,id:u,children:void 0};return i[u]=v0(h,e(h)),o.children&&(h.children=Ca(o.children,e,c,i,r)),h}})}function v0(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function xr(t,e,n="/"){return ia(t,e,n,!1)}function ia(t,e,n,i){let r=typeof e=="string"?Yi(e):e,o=$n(r.pathname||"/",n);if(o==null)return null;let a=ab(t);Hk(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let h=t_(o);c=Zk(a[u],h,i)}return c}function $k(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function ab(t,e=[],n=[],i="",r=!1){let o=(a,c,u=r,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Ue(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=gi([i,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(Ue(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ab(a.children,e,g,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:Qk(m,a.index),routesMeta:g})};return t.forEach((a,c)=>{if(a.path===""||!a.path?.includes("?"))o(a,c);else for(let u of lb(a.path))o(a,c,!0,u)}),e}function lb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=lb(i.join("/")),c=[];return c.push(...a.map(u=>u===""?o:[o,u].join("/"))),r&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function Hk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Jk(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Wk=/^:[\w-]+$/,Gk=3,Yk=2,Kk=1,Xk=10,qk=-2,x0=t=>t==="*";function Qk(t,e){let n=t.split("/"),i=n.length;return n.some(x0)&&(i+=qk),e&&(i+=Yk),n.filter(r=>!x0(r)).reduce((r,o)=>r+(Wk.test(o)?Gk:o===""?Kk:Xk),i)}function Jk(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Zk(t,e,n=!1){let{routesMeta:i}=t,r={},o="/",a=[];for(let c=0;c<i.length;++c){let u=i[c],h=c===i.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=Lc({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&n&&!i[i.length-1].route.index&&(m=Lc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:gi([o,m.pathname]),pathnameBase:r_(gi([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=gi([o,m.pathnameBase]))}return a}function Lc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=e_(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:m},g)=>{if(f==="*"){let b=c[g]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=c[g];return m&&!v?h[f]=void 0:h[f]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:t}}function e_(t,e=!1,n=!0){xt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function t_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $n(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function n_({basename:t,pathname:e}){return e==="/"?t:gi([t,e])}var cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jc=t=>cb.test(t);function i_(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Yi(t):t,o;if(n)if(Jc(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),xt(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?o=b0(n.substring(1),"/"):o=b0(n,e)}else o=e;return{pathname:o,search:s_(i),hash:o_(r)}}function b0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Zd(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ub(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rf(t){let e=ub(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Af(t,e,n,i=!1){let r;typeof t=="string"?r=Yi(t):(r={...t},Ue(!r.pathname||!r.pathname.includes("?"),Zd("?","pathname","search",r)),Ue(!r.pathname||!r.pathname.includes("#"),Zd("#","pathname","hash",r)),Ue(!r.search||!r.search.includes("#"),Zd("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}c=m>=0?e[m]:"/"}let u=i_(r,c),h=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var gi=t=>t.join("/").replace(/\/\/+/g,"/"),r_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Fa=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ka(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Ia(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var db=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hb(t,e){let n=t;if(typeof n!="string"||!cb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(db)try{let o=new URL(window.location.href),a=n.startsWith("//")?new URL(o.protocol+n):new URL(n),c=$n(a.pathname,e);a.origin===o.origin&&c!=null?n=c+a.search+a.hash:r=!0}catch{xt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}var wr=Symbol("Uninstrumented");function a_(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(r=>r({id:e.id,index:e.index,path:e.path,instrument(o){let a=Object.keys(n);for(let c of a)o[c]&&n[c].push(o[c])}}));let i={};if(typeof e.lazy=="function"&&n.lazy.length>0){let r=Xs(n.lazy,e.lazy,()=>{});r&&(i.lazy=r)}if(typeof e.lazy=="object"){let r=e.lazy;["middleware","loader","action"].forEach(o=>{let a=r[o],c=n[`lazy.${o}`];if(typeof a=="function"&&c.length>0){let u=Xs(c,a,()=>{});u&&(i.lazy=Object.assign(i.lazy||{},{[o]:u}))}})}return["loader","action"].forEach(r=>{let o=e[r];if(typeof o=="function"&&n[r].length>0){let a=o[wr]??o,c=Xs(n[r],a,(...u)=>w0(u[0]));c&&(r==="loader"&&a.hydrate===!0&&(c.hydrate=!0),c[wr]=a,i[r]=c)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(i.middleware=e.middleware.map(r=>{let o=r[wr]??r,a=Xs(n.middleware,o,(...c)=>w0(c[0]));return a?(a[wr]=o,a):r})),i}function l_(t,e){let n={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(r){let o=Object.keys(r);for(let a of o)r[a]&&n[a].push(r[a])}})),n.navigate.length>0){let i=t.navigate[wr]??t.navigate,r=Xs(n.navigate,i,(...o)=>{let[a,c]=o;return{to:typeof a=="number"||typeof a=="string"?a:a?xi(a):".",...S0(t,c??{})}});r&&(r[wr]=i,t.navigate=r)}if(n.fetch.length>0){let i=t.fetch[wr]??t.fetch,r=Xs(n.fetch,i,(...o)=>{let[a,,c,u]=o;return{href:c??".",fetcherKey:a,...S0(t,u??{})}});r&&(r[wr]=i,t.fetch=r)}return t}function Xs(t,e,n){return t.length===0?null:async(...i)=>{let r=await fb(t,n(...i),()=>e(...i),t.length-1);if(r.type==="error")throw r.value;return r.value}}async function fb(t,e,n,i){let r=t[i],o;if(r){let a,c=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=fb(t,e,n,i-1),o=await a,Ue(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await r(c,e)}catch(u){console.error("An instrumentation function threw an error:",u)}a||await c(),await a}else try{o={type:"success",value:await n()}}catch(a){o={type:"error",value:a}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function w0(t){let{request:e,context:n,params:i,unstable_pattern:r}=t;return{request:c_(e),params:{...i},unstable_pattern:r,context:u_(n)}}function S0(t,e){return{currentUrl:xi(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function c_(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function u_(t){if(h_(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var d_=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function h_(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===d_}var pb=["POST","PUT","PATCH","DELETE"],f_=new Set(pb),p_=["GET",...pb],m_=new Set(p_),mb=new Set([301,302,303,307,308]),g_=new Set([307,308]),eh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},y_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Yo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},v_=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),gb="remix-router-transitions",yb=Symbol("ResetLoaderData");function x_(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ue(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],r=t.mapRouteProperties||v_,o=r;if(t.unstable_instrumentations){let N=t.unstable_instrumentations;o=B=>({...r(B),...a_(N.map(W=>W.route).filter(Boolean),B)})}let a={},c=Ca(t.routes,o,void 0,a),u,h=t.basename||"/";h.startsWith("/")||(h=`/${h}`);let f=t.dataStrategy||k_,m={...t.future},g=null,v=new Set,b=null,w=null,C=null,_=t.hydrationData!=null,P=xr(c,t.history.location,h),E=!1,A=null,D;if(P==null&&!t.patchRoutesOnNavigation){let N=Bn(404,{pathname:t.history.location.pathname}),{matches:B,route:W}=Jl(c);D=!0,P=B,A={[W.id]:N}}else if(P&&!t.hydrationData&&nt(P,c,t.history.location.pathname).active&&(P=null),P)if(P.some(N=>N.route.lazy))D=!1;else if(!P.some(N=>Lf(N.route)))D=!0;else{let N=t.hydrationData?t.hydrationData.loaderData:null,B=t.hydrationData?t.hydrationData.errors:null;if(B){let W=P.findIndex(ne=>B[ne.route.id]!==void 0);D=P.slice(0,W+1).every(ne=>!Gh(ne.route,N,B))}else D=P.every(W=>!Gh(W.route,N,B))}else{D=!1,P=[];let N=nt(null,c,t.history.location.pathname);N.active&&N.matches&&(E=!0,P=N.matches)}let j,T={historyAction:t.history.action,location:t.history.location,matches:P,initialized:D,navigation:eh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},R="POP",V=null,I=!1,G,X=!1,oe=new Map,J=null,te=!1,ue=!1,ee=new Set,$=new Map,Z=0,Q=-1,O=new Map,K=new Set,de=new Map,ae=new Map,pe=new Set,ve=new Map,Ne,Le=null;function Fe(){if(g=t.history.listen(({action:N,location:B,delta:W})=>{if(Ne){Ne(),Ne=void 0;return}xt(ve.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=ke({currentLocation:T.location,nextLocation:B,historyAction:N});if(ne&&W!=null){let le=new Promise(we=>{Ne=we});t.history.go(W*-1),be(ne,{state:"blocked",location:B,proceed(){be(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),le.then(()=>t.history.go(W))},reset(){let we=new Map(T.blockers);we.set(ne,Yo),He({blockers:we})}}),V?.resolve(),V=null;return}return Mt(N,B)}),n){U_(e,oe);let N=()=>$_(e,oe);e.addEventListener("pagehide",N),J=()=>e.removeEventListener("pagehide",N)}return T.initialized||Mt("POP",T.location,{initialHydration:!0}),j}function gt(){g&&g(),J&&J(),v.clear(),G&&G.abort(),T.fetchers.forEach((N,B)=>Vt(B)),T.blockers.forEach((N,B)=>q(B))}function qt(N){return v.add(N),()=>v.delete(N)}function He(N,B={}){N.matches&&(N.matches=N.matches.map(le=>{let we=a[le.route.id],fe=le.route;return fe.element!==we.element||fe.errorElement!==we.errorElement||fe.hydrateFallbackElement!==we.hydrateFallbackElement?{...le,route:we}:le})),T={...T,...N};let W=[],ne=[];T.fetchers.forEach((le,we)=>{le.state==="idle"&&(pe.has(we)?W.push(we):ne.push(we))}),pe.forEach(le=>{!T.fetchers.has(le)&&!$.has(le)&&W.push(le)}),[...v].forEach(le=>le(T,{deletedFetchers:W,newErrors:N.errors??null,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),W.forEach(le=>Vt(le)),ne.forEach(le=>T.fetchers.delete(le))}function ze(N,B,{flushSync:W}={}){let ne=T.actionData!=null&&T.navigation.formMethod!=null&&Gt(T.navigation.formMethod)&&T.navigation.state==="loading"&&N.state?._isRedirect!==!0,le;B.actionData?Object.keys(B.actionData).length>0?le=B.actionData:le=null:ne?le=T.actionData:le=null;let we=B.loaderData?A0(T.loaderData,B.loaderData,B.matches||[],B.errors):T.loaderData,fe=T.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach((Pe,Te)=>fe.set(Te,Yo)));let Se=te?!1:je(N,B.matches||T.matches),he=I===!0||T.navigation.formMethod!=null&&Gt(T.navigation.formMethod)&&N.state?._isRedirect!==!0;u&&(c=u,u=void 0),te||R==="POP"||(R==="PUSH"?t.history.push(N,N.state):R==="REPLACE"&&t.history.replace(N,N.state));let ge;if(R==="POP"){let Pe=oe.get(T.location.pathname);Pe&&Pe.has(N.pathname)?ge={currentLocation:T.location,nextLocation:N}:oe.has(N.pathname)&&(ge={currentLocation:N,nextLocation:T.location})}else if(X){let Pe=oe.get(T.location.pathname);Pe?Pe.add(N.pathname):(Pe=new Set([N.pathname]),oe.set(T.location.pathname,Pe)),ge={currentLocation:T.location,nextLocation:N}}He({...B,actionData:le,loaderData:we,historyAction:R,location:N,initialized:!0,navigation:eh,revalidation:"idle",restoreScrollPosition:Se,preventScrollReset:he,blockers:fe},{viewTransitionOpts:ge,flushSync:W===!0}),R="POP",I=!1,X=!1,te=!1,ue=!1,V?.resolve(),V=null,Le?.resolve(),Le=null}async function Qt(N,B){if(V?.resolve(),V=null,typeof N=="number"){V||(V=O0());let We=V.promise;return t.history.go(N),We}let W=Wh(T.location,T.matches,h,N,B?.fromRouteId,B?.relative),{path:ne,submission:le,error:we}=C0(!1,W,B),fe=T.location,Se=Sa(T.location,ne,B&&B.state);Se={...Se,...t.history.encodeLocation(Se)};let he=B&&B.replace!=null?B.replace:void 0,ge="PUSH";he===!0?ge="REPLACE":he===!1||le!=null&&Gt(le.formMethod)&&le.formAction===T.location.pathname+T.location.search&&(ge="REPLACE");let Pe=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,Te=(B&&B.flushSync)===!0,Ke=ke({currentLocation:fe,nextLocation:Se,historyAction:ge});if(Ke){be(Ke,{state:"blocked",location:Se,proceed(){be(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),Qt(N,B)},reset(){let We=new Map(T.blockers);We.set(Ke,Yo),He({blockers:We})}});return}await Mt(ge,Se,{submission:le,pendingError:we,preventScrollReset:Pe,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:Te,callSiteDefaultShouldRevalidate:B&&B.unstable_defaultShouldRevalidate})}function Ft(){Le||(Le=O0()),oi(),He({revalidation:"loading"});let N=Le.promise;return T.navigation.state==="submitting"?N:T.navigation.state==="idle"?(Mt(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),N):(Mt(R||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:X===!0}),N)}async function Mt(N,B,W){G&&G.abort(),G=null,R=N,te=(W&&W.startUninterruptedRevalidation)===!0,Ye(T.location,T.matches),I=(W&&W.preventScrollReset)===!0,X=(W&&W.enableViewTransition)===!0;let ne=u||c,le=W&&W.overrideNavigation,we=W?.initialHydration&&T.matches&&T.matches.length>0&&!E?T.matches:xr(ne,B,h),fe=(W&&W.flushSync)===!0;if(we&&T.initialized&&!ue&&A_(T.location,B)&&!(W&&W.submission&&Gt(W.submission.formMethod))){ze(B,{matches:we},{flushSync:fe});return}let Se=nt(we,ne,B.pathname);if(Se.active&&Se.matches&&(we=Se.matches),!we){let{error:bt,notFoundMatches:Lt,route:Qe}=Me(B.pathname);ze(B,{matches:Lt,loaderData:{},errors:{[Qe.id]:bt}},{flushSync:fe});return}G=new AbortController;let he=Ks(t.history,B,G.signal,W&&W.submission),ge=t.getContext?await t.getContext():new y0,Pe;if(W&&W.pendingError)Pe=[br(we).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&Gt(W.submission.formMethod)){let bt=await vn(he,B,W.submission,we,ge,Se.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:fe});if(bt.shortCircuited)return;if(bt.pendingActionResult){let[Lt,Qe]=bt.pendingActionResult;if(Mn(Qe)&&ka(Qe.error)&&Qe.error.status===404){G=null,ze(B,{matches:bt.matches,loaderData:{},errors:{[Lt]:Qe.error}});return}}we=bt.matches||we,Pe=bt.pendingActionResult,le=th(B,W.submission),fe=!1,Se.active=!1,he=Ks(t.history,he.url,he.signal)}let{shortCircuited:Te,matches:Ke,loaderData:We,errors:Ct}=await bs(he,B,we,ge,Se.active,le,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,fe,Pe,W&&W.callSiteDefaultShouldRevalidate);Te||(G=null,ze(B,{matches:Ke||we,...L0(Pe),loaderData:We,errors:Ct}))}async function vn(N,B,W,ne,le,we,fe,Se={}){oi();let he=B_(B,W);if(He({navigation:he},{flushSync:Se.flushSync===!0}),we){let Te=await an(ne,B.pathname,N.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){if(Te.partialMatches.length===0){let{matches:We,route:Ct}=Jl(c);return{matches:We,pendingActionResult:[Ct.id,{type:"error",error:Te.error}]}}let Ke=br(Te.partialMatches).route.id;return{matches:Te.partialMatches,pendingActionResult:[Ke,{type:"error",error:Te.error}]}}else if(Te.matches)ne=Te.matches;else{let{notFoundMatches:Ke,error:We,route:Ct}=Me(B.pathname);return{matches:Ke,pendingActionResult:[Ct.id,{type:"error",error:We}]}}}let ge,Pe=Cc(ne,B);if(!Pe.route.action&&!Pe.route.lazy)ge={type:"error",error:Bn(405,{method:N.method,pathname:B.pathname,routeId:Pe.route.id})};else{let Te=eo(o,a,N,ne,Pe,fe?[]:i,le),Ke=await Pn(N,Te,le,null);if(ge=Ke[Pe.route.id],!ge){for(let We of ne)if(Ke[We.route.id]){ge=Ke[We.route.id];break}}if(N.signal.aborted)return{shortCircuited:!0}}if(os(ge)){let Te;return Se&&Se.replace!=null?Te=Se.replace:Te=P0(ge.response.headers.get("Location"),new URL(N.url),h,t.history)===T.location.pathname+T.location.search,await sn(N,ge,!0,{submission:W,replace:Te}),{shortCircuited:!0}}if(Mn(ge)){let Te=br(ne,Pe.route.id);return(Se&&Se.replace)!==!0&&(R="PUSH"),{matches:ne,pendingActionResult:[Te.route.id,ge,Pe.route.id]}}return{matches:ne,pendingActionResult:[Pe.route.id,ge]}}async function bs(N,B,W,ne,le,we,fe,Se,he,ge,Pe,Te,Ke){let We=we||th(B,fe),Ct=fe||Se||j0(We),bt=!te&&!ge;if(le){if(bt){let it=Ki(Te);He({navigation:We,...it!==void 0?{actionData:it}:{}},{flushSync:Pe})}let Ge=await an(W,B.pathname,N.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){if(Ge.partialMatches.length===0){let{matches:Ji,route:Mi}=Jl(c);return{matches:Ji,loaderData:{},errors:{[Mi.id]:Ge.error}}}let it=br(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,loaderData:{},errors:{[it]:Ge.error}}}else if(Ge.matches)W=Ge.matches;else{let{error:it,notFoundMatches:Ji,route:Mi}=Me(B.pathname);return{matches:Ji,loaderData:{},errors:{[Mi.id]:it}}}}let Lt=u||c,{dsMatches:Qe,revalidatingFetchers:ln}=k0(N,ne,o,a,t.history,T,W,Ct,B,ge?[]:i,ge===!0,ue,ee,pe,de,K,Lt,h,t.patchRoutesOnNavigation!=null,Te,Ke);if(Q=++Z,!t.dataStrategy&&!Qe.some(Ge=>Ge.shouldLoad)&&!Qe.some(Ge=>Ge.route.middleware&&Ge.route.middleware.length>0)&&ln.length===0){let Ge=Xi();return ze(B,{matches:W,loaderData:{},errors:Te&&Mn(Te[1])?{[Te[0]]:Te[1].error}:null,...L0(Te),...Ge?{fetchers:new Map(T.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(bt){let Ge={};if(!le){Ge.navigation=We;let it=Ki(Te);it!==void 0&&(Ge.actionData=it)}ln.length>0&&(Ge.fetchers=Ci(ln)),He(Ge,{flushSync:Pe})}ln.forEach(Ge=>{Jt(Ge.key),Ge.controller&&$.set(Ge.key,Ge.controller)});let Ze=()=>ln.forEach(Ge=>Jt(Ge.key));G&&G.signal.addEventListener("abort",Ze);let{loaderResults:Or,fetcherResults:Dn}=await Lr(Qe,ln,N,ne);if(N.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",Ze),ln.forEach(Ge=>$.delete(Ge.key));let bn=Zl(Or);if(bn)return await sn(N,bn.result,!0,{replace:he}),{shortCircuited:!0};if(bn=Zl(Dn),bn)return K.add(bn.key),await sn(N,bn.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:Qi,errors:Fr}=R0(T,W,Or,Te,ln,Dn);ge&&T.errors&&(Fr={...T.errors,...Fr});let ai=Xi(),_i=Yn(Q),Zt=ai||_i||ln.length>0;return{matches:W,loaderData:Qi,errors:Fr,...Zt?{fetchers:new Map(T.fetchers)}:{}}}function Ki(N){if(N&&!Mn(N[1]))return{[N[0]]:N[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function Ci(N){return N.forEach(B=>{let W=T.fetchers.get(B.key),ne=Ko(void 0,W?W.data:void 0);T.fetchers.set(B.key,ne)}),new Map(T.fetchers)}async function si(N,B,W,ne){Jt(N);let le=(ne&&ne.flushSync)===!0,we=u||c,fe=Wh(T.location,T.matches,h,W,B,ne?.relative),Se=xr(we,fe,h),he=nt(Se,we,fe);if(he.active&&he.matches&&(Se=he.matches),!Se){on(N,B,Bn(404,{pathname:fe}),{flushSync:le});return}let{path:ge,submission:Pe,error:Te}=C0(!0,fe,ne);if(Te){on(N,B,Te,{flushSync:le});return}let Ke=t.getContext?await t.getContext():new y0,We=(ne&&ne.preventScrollReset)===!0;if(Pe&&Gt(Pe.formMethod)){await Tn(N,B,ge,Se,Ke,he.active,le,We,Pe,ne&&ne.unstable_defaultShouldRevalidate);return}de.set(N,{routeId:B,path:ge}),await Wn(N,B,ge,Se,Ke,he.active,le,We,Pe)}async function Tn(N,B,W,ne,le,we,fe,Se,he,ge){oi(),de.delete(N);let Pe=T.fetchers.get(N);At(N,V_(he,Pe),{flushSync:fe});let Te=new AbortController,Ke=Ks(t.history,W,Te.signal,he);if(we){let ut=await an(ne,new URL(Ke.url).pathname,Ke.signal,N);if(ut.type==="aborted")return;if(ut.type==="error"){on(N,B,ut.error,{flushSync:fe});return}else if(ut.matches)ne=ut.matches;else{on(N,B,Bn(404,{pathname:W}),{flushSync:fe});return}}let We=Cc(ne,W);if(!We.route.action&&!We.route.lazy){let ut=Bn(405,{method:he.formMethod,pathname:W,routeId:B});on(N,B,ut,{flushSync:fe});return}$.set(N,Te);let Ct=Z,bt=eo(o,a,Ke,ne,We,i,le),Lt=await Pn(Ke,bt,le,N),Qe=Lt[We.route.id];if(!Qe){for(let ut of bt)if(Lt[ut.route.id]){Qe=Lt[ut.route.id];break}}if(Ke.signal.aborted){$.get(N)===Te&&$.delete(N);return}if(pe.has(N)){if(os(Qe)||Mn(Qe)){At(N,Fi(void 0));return}}else{if(os(Qe))if($.delete(N),Q>Ct){At(N,Fi(void 0));return}else return K.add(N),At(N,Ko(he)),sn(Ke,Qe,!1,{fetcherSubmission:he,preventScrollReset:Se});if(Mn(Qe)){on(N,B,Qe.error);return}}let ln=T.navigation.location||T.location,Ze=Ks(t.history,ln,Te.signal),Or=u||c,Dn=T.navigation.state!=="idle"?xr(Or,T.navigation.location,h):T.matches;Ue(Dn,"Didn't find any matches after fetcher action");let bn=++Z;O.set(N,bn);let Qi=Ko(he,Qe.data);T.fetchers.set(N,Qi);let{dsMatches:Fr,revalidatingFetchers:ai}=k0(Ze,le,o,a,t.history,T,Dn,he,ln,i,!1,ue,ee,pe,de,K,Or,h,t.patchRoutesOnNavigation!=null,[We.route.id,Qe],ge);ai.filter(ut=>ut.key!==N).forEach(ut=>{let Ei=ut.key,Ir=T.fetchers.get(Ei),zr=Ko(void 0,Ir?Ir.data:void 0);T.fetchers.set(Ei,zr),Jt(Ei),ut.controller&&$.set(Ei,ut.controller)}),He({fetchers:new Map(T.fetchers)});let _i=()=>ai.forEach(ut=>Jt(ut.key));Te.signal.addEventListener("abort",_i);let{loaderResults:Zt,fetcherResults:Ge}=await Lr(Fr,ai,Ze,le);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",_i),O.delete(N),$.delete(N),ai.forEach(ut=>$.delete(ut.key)),T.fetchers.has(N)){let ut=Fi(Qe.data);T.fetchers.set(N,ut)}let it=Zl(Zt);if(it)return sn(Ze,it.result,!1,{preventScrollReset:Se});if(it=Zl(Ge),it)return K.add(it.key),sn(Ze,it.result,!1,{preventScrollReset:Se});let{loaderData:Ji,errors:Mi}=R0(T,Dn,Zt,void 0,ai,Ge);Yn(bn),T.navigation.state==="loading"&&bn>Q?(Ue(R,"Expected pending action"),G&&G.abort(),ze(T.navigation.location,{matches:Dn,loaderData:Ji,errors:Mi,fetchers:new Map(T.fetchers)})):(He({errors:Mi,loaderData:A0(T.loaderData,Ji,Dn,Mi),fetchers:new Map(T.fetchers)}),ue=!1)}async function Wn(N,B,W,ne,le,we,fe,Se,he){let ge=T.fetchers.get(N);At(N,Ko(he,ge?ge.data:void 0),{flushSync:fe});let Pe=new AbortController,Te=Ks(t.history,W,Pe.signal);if(we){let Qe=await an(ne,new URL(Te.url).pathname,Te.signal,N);if(Qe.type==="aborted")return;if(Qe.type==="error"){on(N,B,Qe.error,{flushSync:fe});return}else if(Qe.matches)ne=Qe.matches;else{on(N,B,Bn(404,{pathname:W}),{flushSync:fe});return}}let Ke=Cc(ne,W);$.set(N,Pe);let We=Z,Ct=eo(o,a,Te,ne,Ke,i,le),Lt=(await Pn(Te,Ct,le,N))[Ke.route.id];if($.get(N)===Pe&&$.delete(N),!Te.signal.aborted){if(pe.has(N)){At(N,Fi(void 0));return}if(os(Lt))if(Q>We){At(N,Fi(void 0));return}else{K.add(N),await sn(Te,Lt,!1,{preventScrollReset:Se});return}if(Mn(Lt)){on(N,B,Lt.error);return}At(N,Fi(Lt.data))}}async function sn(N,B,W,{submission:ne,fetcherSubmission:le,preventScrollReset:we,replace:fe}={}){W||(V?.resolve(),V=null),B.response.headers.has("X-Remix-Revalidate")&&(ue=!0);let Se=B.response.headers.get("Location");Ue(Se,"Expected a Location header on the redirect Response"),Se=P0(Se,new URL(N.url),h,t.history);let he=Sa(T.location,Se,{_isRedirect:!0});if(n){let Ct=!1;if(B.response.headers.has("X-Remix-Reload-Document"))Ct=!0;else if(Jc(Se)){const bt=ob(Se,!0);Ct=bt.origin!==e.location.origin||$n(bt.pathname,h)==null}if(Ct){fe?e.location.replace(Se):e.location.assign(Se);return}}G=null;let ge=fe===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:Te,formEncType:Ke}=T.navigation;!ne&&!le&&Pe&&Te&&Ke&&(ne=j0(T.navigation));let We=ne||le;if(g_.has(B.response.status)&&We&&Gt(We.formMethod))await Mt(ge,he,{submission:{...We,formAction:Se},preventScrollReset:we||I,enableViewTransition:W?X:void 0});else{let Ct=th(he,ne);await Mt(ge,he,{overrideNavigation:Ct,fetcherSubmission:le,preventScrollReset:we||I,enableViewTransition:W?X:void 0})}}async function Pn(N,B,W,ne){let le,we={};try{le=await M_(f,N,B,ne,W,!1)}catch(fe){return B.filter(Se=>Se.shouldLoad).forEach(Se=>{we[Se.route.id]={type:"error",error:fe}}),we}if(N.signal.aborted)return we;if(!Gt(N.method))for(let fe of B){if(le[fe.route.id]?.type==="error")break;!le.hasOwnProperty(fe.route.id)&&!T.loaderData.hasOwnProperty(fe.route.id)&&(!T.errors||!T.errors.hasOwnProperty(fe.route.id))&&fe.shouldCallHandler()&&(le[fe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${fe.route.id}`)})}for(let[fe,Se]of Object.entries(le))if(O_(Se)){let he=Se.result;we[fe]={type:"redirect",response:D_(he,N,fe,B,h)}}else we[fe]=await P_(Se);return we}async function Lr(N,B,W,ne){let le=Pn(W,N,ne,null),we=Promise.all(B.map(async he=>{if(he.matches&&he.match&&he.request&&he.controller){let Pe=(await Pn(he.request,he.matches,ne,he.key))[he.match.route.id];return{[he.key]:Pe}}else return Promise.resolve({[he.key]:{type:"error",error:Bn(404,{pathname:he.path})}})})),fe=await le,Se=(await we).reduce((he,ge)=>Object.assign(he,ge),{});return{loaderResults:fe,fetcherResults:Se}}function oi(){ue=!0,de.forEach((N,B)=>{$.has(B)&&ee.add(B),Jt(B)})}function At(N,B,W={}){T.fetchers.set(N,B),He({fetchers:new Map(T.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function on(N,B,W,ne={}){let le=br(T.matches,B);Vt(N),He({errors:{[le.route.id]:W},fetchers:new Map(T.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Gn(N){return ae.set(N,(ae.get(N)||0)+1),pe.has(N)&&pe.delete(N),T.fetchers.get(N)||y_}function xn(N,B){Jt(N,B?.reason),At(N,Fi(null))}function Vt(N){let B=T.fetchers.get(N);$.has(N)&&!(B&&B.state==="loading"&&O.has(N))&&Jt(N),de.delete(N),O.delete(N),K.delete(N),pe.delete(N),ee.delete(N),T.fetchers.delete(N)}function ws(N){let B=(ae.get(N)||0)-1;B<=0?(ae.delete(N),pe.add(N)):ae.set(N,B),He({fetchers:new Map(T.fetchers)})}function Jt(N,B){let W=$.get(N);W&&(W.abort(B),$.delete(N))}function Nr(N){for(let B of N){let W=Gn(B),ne=Fi(W.data);T.fetchers.set(B,ne)}}function Xi(){let N=[],B=!1;for(let W of K){let ne=T.fetchers.get(W);Ue(ne,`Expected fetcher: ${W}`),ne.state==="loading"&&(K.delete(W),N.push(W),B=!0)}return Nr(N),B}function Yn(N){let B=[];for(let[W,ne]of O)if(ne<N){let le=T.fetchers.get(W);Ue(le,`Expected fetcher: ${W}`),le.state==="loading"&&(Jt(W),O.delete(W),B.push(W))}return Nr(B),B.length>0}function Kn(N,B){let W=T.blockers.get(N)||Yo;return ve.get(N)!==B&&ve.set(N,B),W}function q(N){T.blockers.delete(N),ve.delete(N)}function be(N,B){let W=T.blockers.get(N)||Yo;Ue(W.state==="unblocked"&&B.state==="blocked"||W.state==="blocked"&&B.state==="blocked"||W.state==="blocked"&&B.state==="proceeding"||W.state==="blocked"&&B.state==="unblocked"||W.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${B.state}`);let ne=new Map(T.blockers);ne.set(N,B),He({blockers:ne})}function ke({currentLocation:N,nextLocation:B,historyAction:W}){if(ve.size===0)return;ve.size>1&&xt(!1,"A router only supports one blocker at a time");let ne=Array.from(ve.entries()),[le,we]=ne[ne.length-1],fe=T.blockers.get(le);if(!(fe&&fe.state==="proceeding")&&we({currentLocation:N,nextLocation:B,historyAction:W}))return le}function Me(N){let B=Bn(404,{pathname:N}),W=u||c,{matches:ne,route:le}=Jl(W);return{notFoundMatches:ne,route:le,error:B}}function Be(N,B,W){if(b=N,C=B,w=W||null,!_&&T.navigation===eh){_=!0;let ne=je(T.location,T.matches);ne!=null&&He({restoreScrollPosition:ne})}return()=>{b=null,C=null,w=null}}function De(N,B){return w&&w(N,B.map(ne=>$k(ne,T.loaderData)))||N.key}function Ye(N,B){if(b&&C){let W=De(N,B);b[W]=C()}}function je(N,B){if(b){let W=De(N,B),ne=b[W];if(typeof ne=="number")return ne}return null}function nt(N,B,W){if(t.patchRoutesOnNavigation)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:ia(B,W,h,!0)}}else return{active:!0,matches:ia(B,W,h,!0)||[]};return{active:!1,matches:null}}async function an(N,B,W,ne){if(!t.patchRoutesOnNavigation)return{type:"success",matches:N};let le=N;for(;;){let we=u==null,fe=u||c,Se=a;try{await t.patchRoutesOnNavigation({signal:W,path:B,matches:le,fetcherKey:ne,patch:(Pe,Te)=>{W.aborted||_0(Pe,Te,fe,Se,o,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:le}}finally{we&&!W.aborted&&(c=[...c])}if(W.aborted)return{type:"aborted"};let he=xr(fe,B,h),ge=null;if(he){if(Object.keys(he[0].params).length===0)return{type:"success",matches:he};if(ge=ia(fe,B,h,!0),!(ge&&le.length<ge.length&&jr(le,ge.slice(0,le.length))))return{type:"success",matches:he}}if(ge||(ge=ia(fe,B,h,!0)),!ge||jr(le,ge))return{type:"success",matches:null};le=ge}}function jr(N,B){return N.length===B.length&&N.every((W,ne)=>W.route.id===B[ne].route.id)}function ki(N){a={},u=Ca(N,o,void 0,a)}function qi(N,B,W=!1){let ne=u==null;_0(N,B,u||c,a,o,W),ne&&(c=[...c],He({}))}return j={get basename(){return h},get future(){return m},get state(){return T},get routes(){return c},get window(){return e},initialize:Fe,subscribe:qt,enableScrollRestoration:Be,navigate:Qt,fetch:si,revalidate:Ft,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Gn,resetFetcher:xn,deleteFetcher:ws,dispose:gt,getBlocker:Kn,deleteBlocker:q,patchRoutes:qi,_internalFetchControllers:$,_internalSetRoutes:ki,_internalSetStateDoNotUseOrYouWillBreakYourApp(N){He(N)}},t.unstable_instrumentations&&(j=l_(j,t.unstable_instrumentations.map(N=>N.router).filter(Boolean))),j}function b_(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Wh(t,e,n,i,r,o){let a,c;if(r){a=[];for(let h of e)if(a.push(h),h.route.id===r){c=h;break}}else a=e,c=e[e.length-1];let u=Af(i||".",Rf(a),$n(t.pathname,n)||t.pathname,o==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let h=jf(u.search);if(c.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let f=new URLSearchParams(u.search),m=f.getAll("index");f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=n_({basename:n,pathname:u.pathname})),xi(u)}function C0(t,e,n){if(!n||!b_(n))return{path:e};if(n.formMethod&&!z_(n.formMethod))return{path:e,error:Bn(405,{method:n.formMethod})};let i=()=>({path:e,error:Bn(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),a=Cb(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Gt(o))return i();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[v,b])=>`${g}${v}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Gt(o))return i();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let c,u;if(n.formData)c=Kh(n.formData),u=n.formData;else if(n.body instanceof FormData)c=Kh(n.body),u=n.body;else if(n.body instanceof URLSearchParams)c=n.body,u=D0(c);else if(n.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(n.body),u=D0(c)}catch{return i()}let h={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Gt(h.formMethod))return{path:e,submission:h};let f=Yi(e);return t&&f.search&&jf(f.search)&&c.append("index",""),f.search=`?${c}`,{path:xi(f),submission:h}}function k0(t,e,n,i,r,o,a,c,u,h,f,m,g,v,b,w,C,_,P,E,A){let D=E?Mn(E[1])?E[1].error:E[1].data:void 0,j=r.createURL(o.location),T=r.createURL(u),R;if(f&&o.errors){let te=Object.keys(o.errors)[0];R=a.findIndex(ue=>ue.route.id===te)}else if(E&&Mn(E[1])){let te=E[0];R=a.findIndex(ue=>ue.route.id===te)-1}let V=E?E[1].statusCode:void 0,I=V&&V>=400,G={currentUrl:j,currentParams:o.matches[0]?.params||{},nextUrl:T,nextParams:a[0].params,...c,actionResult:D,actionStatus:V},X=Ia(a),oe=a.map((te,ue)=>{let{route:ee}=te,$=null;if(R!=null&&ue>R?$=!1:ee.lazy?$=!0:Lf(ee)?f?$=Gh(ee,o.loaderData,o.errors):w_(o.loaderData,o.matches[ue],te)&&($=!0):$=!1,$!==null)return Yh(n,i,t,X,te,h,e,$);let Z=!1;typeof A=="boolean"?Z=A:I?Z=!1:(m||j.pathname+j.search===T.pathname+T.search||j.search!==T.search||S_(o.matches[ue],te))&&(Z=!0);let Q={...G,defaultShouldRevalidate:Z},O=ua(te,Q);return Yh(n,i,t,X,te,h,e,O,Q,A)}),J=[];return b.forEach((te,ue)=>{if(f||!a.some(ae=>ae.route.id===te.routeId)||v.has(ue))return;let ee=o.fetchers.get(ue),$=ee&&ee.state!=="idle"&&ee.data===void 0,Z=xr(C,te.path,_);if(!Z){if(P&&$)return;J.push({key:ue,routeId:te.routeId,path:te.path,matches:null,match:null,request:null,controller:null});return}if(w.has(ue))return;let Q=Cc(Z,te.path),O=new AbortController,K=Ks(r,te.path,O.signal),de=null;if(g.has(ue))g.delete(ue),de=eo(n,i,K,Z,Q,h,e);else if($)m&&(de=eo(n,i,K,Z,Q,h,e));else{let ae;typeof A=="boolean"?ae=A:I?ae=!1:ae=m;let pe={...G,defaultShouldRevalidate:ae};ua(Q,pe)&&(de=eo(n,i,K,Z,Q,h,e,pe))}de&&J.push({key:ue,routeId:te.routeId,path:te.path,matches:de,match:Q,request:K,controller:O})}),{dsMatches:oe,revalidatingFetchers:J}}function Lf(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Gh(t,e,n){if(t.lazy)return!0;if(!Lf(t))return!1;let i=e!=null&&t.id in e,r=n!=null&&n[t.id]!==void 0;return!i&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!r}function w_(t,e,n){let i=!e||n.route.id!==e.route.id,r=!t.hasOwnProperty(n.route.id);return i||r}function S_(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ua(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function _0(t,e,n,i,r,o){let a;if(t){let h=i[t];Ue(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),a=h.children}else a=n;let c=[],u=[];if(e.forEach(h=>{let f=a.find(m=>vb(h,m));f?u.push({existingRoute:f,newRoute:h}):c.push(h)}),c.length>0){let h=Ca(c,r,[t||"_","patch",String(a?.length||"0")],i);a.push(...h)}if(o&&u.length>0)for(let h=0;h<u.length;h++){let{existingRoute:f,newRoute:m}=u[h],g=f,[v]=Ca([m],r,[],{},!0);Object.assign(g,{element:v.element?v.element:g.element,errorElement:v.errorElement?v.errorElement:g.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:g.hydrateFallbackElement})}}function vb(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>e.children?.some(r=>vb(n,r))):!1}var M0=new WeakMap,xb=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let r=n[e.id];if(Ue(r,"No route found in manifest"),!r.lazy||typeof r.lazy!="object")return;let o=r.lazy[t];if(!o)return;let a=M0.get(r);a||(a={},M0.set(r,a));let c=a[t];if(c)return c;let u=(async()=>{let h=zk(t),m=r[t]!==void 0&&t!=="hasErrorBoundary";if(h)xt(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),a[t]=Promise.resolve();else if(m)xt(!1,`Route "${r.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let g=await o();g!=null&&(Object.assign(r,{[t]:g}),Object.assign(r,i(r)))}typeof r.lazy=="object"&&(r.lazy[t]=void 0,Object.values(r.lazy).every(g=>g===void 0)&&(r.lazy=void 0))})();return a[t]=u,u},E0=new WeakMap;function C_(t,e,n,i,r){let o=n[t.id];if(Ue(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let f=E0.get(o);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let m=(async()=>{Ue(typeof t.lazy=="function","No lazy route function found");let g=await t.lazy(),v={};for(let b in g){let w=g[b];if(w===void 0)continue;let C=Vk(b),P=o[b]!==void 0&&b!=="hasErrorBoundary";C?xt(!C,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?xt(!P,`Route "${o.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):v[b]=w}Object.assign(o,v),Object.assign(o,{...i(o),lazy:void 0})})();return E0.set(o,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let a=Object.keys(t.lazy),c=[],u;for(let f of a){if(r&&r.includes(f))continue;let m=xb({key:f,route:t,manifest:n,mapRouteProperties:i});m&&(c.push(m),f===e&&(u=m))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:u}}async function T0(t){let e=t.matches.filter(r=>r.shouldLoad),n={};return(await Promise.all(e.map(r=>r.resolve()))).forEach((r,o)=>{n[e[o].route.id]=r}),n}async function k_(t){return t.matches.some(e=>e.route.middleware)?bb(t,()=>T0(t)):T0(t)}function bb(t,e){return __(t,e,i=>{if(I_(i))throw i;return i},N_,n);function n(i,r,o){if(o)return Promise.resolve(Object.assign(o.value,{[r]:{type:"error",result:i}}));{let{matches:a}=t,c=Math.min(Math.max(a.findIndex(h=>h.route.id===r),0),Math.max(a.findIndex(h=>h.shouldCallHandler()),0)),u=br(a,a[c].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:i}})}}}async function __(t,e,n,i,r){let{matches:o,request:a,params:c,context:u,unstable_pattern:h}=t,f=o.flatMap(g=>g.route.middleware?g.route.middleware.map(v=>[g.route.id,v]):[]);return await wb({request:a,params:c,context:u,unstable_pattern:h},f,e,n,i,r)}async function wb(t,e,n,i,r,o,a=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let u=e[a];if(!u)return await n();let[h,f]=u,m,g=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");try{return m={value:await wb(t,e,n,i,r,o,a+1)},m.value}catch(v){return m={value:await o(v,h,m)},m.value}};try{let v=await f(t,g),b=v!=null?i(v):void 0;return r(b)?b:m?b??m.value:(m={value:await g()},m.value)}catch(v){return await o(v,h,m)}}function Sb(t,e,n,i,r){let o=xb({key:"middleware",route:i.route,manifest:e,mapRouteProperties:t}),a=C_(i.route,Gt(n.method)?"action":"loader",e,t,r);return{middleware:o,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function Yh(t,e,n,i,r,o,a,c,u=null,h){let f=!1,m=Sb(t,e,n,r,o);return{...r,_lazyPromises:m,shouldLoad:c,shouldRevalidateArgs:u,shouldCallHandler(g){return f=!0,u?typeof h=="boolean"?ua(r,{...u,defaultShouldRevalidate:h}):typeof g=="boolean"?ua(r,{...u,defaultShouldRevalidate:g}):ua(r,u):c},resolve(g){let{lazy:v,loader:b,middleware:w}=r.route,C=f||c||g&&!Gt(n.method)&&(v||b),_=w&&w.length>0&&!b&&!v;return C&&(Gt(n.method)||!_)?E_({request:n,unstable_pattern:i,match:r,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:g,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function eo(t,e,n,i,r,o,a,c=null){return i.map(u=>u.route.id!==r.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:Sb(t,e,n,u,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Yh(t,e,n,Ia(i),u,o,a,!0,c))}async function M_(t,e,n,i,r,o){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let a={request:e,unstable_pattern:Ia(n),params:n[0].params,context:r,matches:n},u=await t({...a,fetcherKey:i,runClientMiddleware:h=>{let f=a;return bb(f,()=>h({...f,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return u}async function E_({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:i,lazyRoutePromise:r,handlerOverride:o,scopedContext:a}){let c,u,h=Gt(t.method),f=h?"action":"loader",m=g=>{let v,b=new Promise((_,P)=>v=P);u=()=>v(),t.signal.addEventListener("abort",u);let w=_=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):g({request:t,unstable_pattern:e,params:n.params,context:a},..._!==void 0?[_]:[]),C=(async()=>{try{return{type:"data",result:await(o?o(P=>w(P)):w())}}catch(_){return{type:"error",result:_}}})();return Promise.race([C,b])};try{let g=h?n.route.action:n.route.loader;if(i||r)if(g){let v,[b]=await Promise.all([m(g).catch(w=>{v=w}),i,r]);if(v!==void 0)throw v;c=b}else{await i;let v=h?n.route.action:n.route.loader;if(v)[c]=await Promise.all([m(v),r]);else if(f==="action"){let b=new URL(t.url),w=b.pathname+b.search;throw Bn(405,{method:t.method,pathname:w,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)c=await m(g);else{let v=new URL(t.url),b=v.pathname+v.search;throw Bn(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{u&&t.signal.removeEventListener("abort",u)}return c}async function T_(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function P_(t){let{result:e,type:n}=t;if(Nf(e)){let i;try{i=await T_(e)}catch(r){return{type:"error",error:r}}return n==="error"?{type:"error",error:new Fa(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return n==="error"?N0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:L_(e),statusCode:ka(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ka(e)?e.status:void 0}:N0(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function D_(t,e,n,i,r){let o=t.headers.get("Location");if(Ue(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jc(o)){let a=i.slice(0,i.findIndex(c=>c.route.id===n)+1);o=Wh(new URL(e.url),a,r,o),t.headers.set("Location",o)}return t}function P0(t,e,n,i){let r=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Jc(t)){let o=t,a=o.startsWith("//")?new URL(e.protocol+o):new URL(o);if(r.includes(a.protocol))throw new Error("Invalid redirect location");let c=$n(a.pathname,n)!=null;if(a.origin===e.origin&&c)return a.pathname+a.search+a.hash}try{let o=i.createURL(t);if(r.includes(o.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Ks(t,e,n,i){let r=t.createURL(Cb(e)).toString(),o={signal:n};if(i&&Gt(i.formMethod)){let{formMethod:a,formEncType:c}=i;o.method=a.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(i.json)):c==="text/plain"?o.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?o.body=Kh(i.formData):o.body=i.formData}return new Request(r,o)}function Kh(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function D0(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function R_(t,e,n,i=!1,r=!1){let o={},a=null,c,u=!1,h={},f=n&&Mn(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,v=e[g];if(Ue(!os(v),"Cannot handle redirect results in processLoaderData"),Mn(v)){let b=v.error;if(f!==void 0&&(b=f,f=void 0),a=a||{},r)a[g]=b;else{let w=br(t,g);a[w.route.id]==null&&(a[w.route.id]=b)}i||(o[g]=yb),u||(u=!0,c=ka(v.error)?v.error.status:500),v.headers&&(h[g]=v.headers)}else o[g]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(c=v.statusCode),v.headers&&(h[g]=v.headers)}),f!==void 0&&n&&(a={[n[0]]:f},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:a,statusCode:c||200,loaderHeaders:h}}function R0(t,e,n,i,r,o){let{loaderData:a,errors:c}=R_(e,n,i);return r.filter(u=>!u.matches||u.matches.some(h=>h.shouldLoad)).forEach(u=>{let{key:h,match:f,controller:m}=u;if(m&&m.signal.aborted)return;let g=o[h];if(Ue(g,"Did not find corresponding fetcher result"),Mn(g)){let v=br(t.matches,f?.route.id);c&&c[v.route.id]||(c={...c,[v.route.id]:g.error}),t.fetchers.delete(h)}else if(os(g))Ue(!1,"Unhandled fetcher revalidation redirect");else{let v=Fi(g.data);t.fetchers.set(h,v)}}),{loaderData:a,errors:c}}function A0(t,e,n,i){let r=Object.entries(e).filter(([,o])=>o!==yb).reduce((o,[a,c])=>(o[a]=c,o),{});for(let o of n){let a=o.route.id;if(!e.hasOwnProperty(a)&&t.hasOwnProperty(a)&&o.route.loader&&(r[a]=t[a]),i&&i.hasOwnProperty(a))break}return r}function L0(t){return t?Mn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function br(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Jl(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Bn(t,{pathname:e,routeId:n,method:i,type:r,message:o}={}){let a="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&e&&n?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:r==="invalid-body"&&(c="Unable to encode submission body")):t===403?(a="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(a="Not Found",c=`No route matches URL "${e}"`):t===405&&(a="Method Not Allowed",i&&e&&n?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new Fa(t||500,a,new Error(c),!0)}function Zl(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(os(r))return{key:i,result:r}}}function Cb(t){let e=typeof t=="string"?Yi(t):t;return xi({...e,hash:""})}function A_(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function L_(t){return new Fa(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function N_(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&j_(n))}function j_(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function O_(t){return Nf(t.result)&&mb.has(t.result.status)}function Mn(t){return t.type==="error"}function os(t){return(t&&t.type)==="redirect"}function N0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Nf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function F_(t){return mb.has(t)}function I_(t){return Nf(t)&&F_(t.status)&&t.headers.has("Location")}function z_(t){return m_.has(t.toUpperCase())}function Gt(t){return f_.has(t.toUpperCase())}function jf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Cc(t,e){let n=typeof e=="string"?Yi(e).search:e.search;if(t[t.length-1].route.index&&jf(n||""))return t[t.length-1];let i=ub(t);return i[i.length-1]}function j0(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:o,json:a}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:a,text:void 0}}}function th(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function B_(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ko(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function V_(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Fi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function U_(t,e){try{let n=t.sessionStorage.getItem(gb);if(n){let i=JSON.parse(n);for(let[r,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(r,new Set(o||[]))}}catch{}}function $_(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(gb,JSON.stringify(n))}catch(i){xt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function O0(){let t,e,n=new Promise((i,r)=>{t=async o=>{i(o);try{await n}catch{}},e=async o=>{r(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var ys=M.createContext(null);ys.displayName="DataRouter";var za=M.createContext(null);za.displayName="DataRouterState";var kb=M.createContext(!1);function H_(){return M.useContext(kb)}var Of=M.createContext({isTransitioning:!1});Of.displayName="ViewTransition";var _b=M.createContext(new Map);_b.displayName="Fetchers";var W_=M.createContext(null);W_.displayName="Await";var Hn=M.createContext(null);Hn.displayName="Navigation";var Zc=M.createContext(null);Zc.displayName="Location";var Si=M.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var Ff=M.createContext(null);Ff.displayName="RouteError";var Mb="REACT_ROUTER_ERROR",G_="REDIRECT",Y_="ROUTE_ERROR_RESPONSE";function K_(t){if(t.startsWith(`${Mb}:${G_}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function X_(t){if(t.startsWith(`${Mb}:${Y_}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Fa(e.status,e.statusText,e.data)}catch{}}function q_(t,{relative:e}={}){Ue(Ba(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(Hn),{hash:r,pathname:o,search:a}=Va(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:gi([n,o])),i.createHref({pathname:c,search:a,hash:r})}function Ba(){return M.useContext(Zc)!=null}function vs(){return Ue(Ba(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Zc).location}var Eb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tb(t){M.useContext(Hn).static||M.useLayoutEffect(t)}function Pb(){let{isDataRoute:t}=M.useContext(Si);return t?d2():Q_()}function Q_(){Ue(Ba(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(ys),{basename:e,navigator:n}=M.useContext(Hn),{matches:i}=M.useContext(Si),{pathname:r}=vs(),o=JSON.stringify(Rf(i)),a=M.useRef(!1);return Tb(()=>{a.current=!0}),M.useCallback((u,h={})=>{if(xt(a.current,Eb),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=Af(u,JSON.parse(o),r,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:gi([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,o,r,t])}var J_=M.createContext(null);function Z_(t){let e=M.useContext(Si).outlet;return M.useMemo(()=>e&&M.createElement(J_.Provider,{value:t},e),[e,t])}function Va(t,{relative:e}={}){let{matches:n}=M.useContext(Si),{pathname:i}=vs(),r=JSON.stringify(Rf(n));return M.useMemo(()=>Af(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function e2(t,e,n,i,r){Ue(Ba(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(Hn),{matches:a}=M.useContext(Si),c=a[a.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let P=m&&m.path||"";Rb(h,!m||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let g=vs(),v;v=g;let b=v.pathname||"/",w=b;if(f!=="/"){let P=f.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let C=xr(t,{pathname:w});return xt(m||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),xt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),s2(C&&C.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:gi([f,o.encodeLocation?o.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:gi([f,o.encodeLocation?o.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),a,n,i,r)}function t2(){let t=u2(),e=ka(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:r},n):null,a)}var n2=M.createElement(t2,null),Db=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=X_(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(Si.Provider,{value:this.props.routeContext},M.createElement(Ff.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(i2,{error:t},e):e}};Db.contextType=kb;var nh=new WeakMap;function i2({children:t,error:e}){let{basename:n}=M.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=K_(e.digest);if(i){let r=nh.get(e);if(r)throw r;let o=hb(i.location,n);if(db&&!nh.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw nh.set(e,a),a}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function r2({routeContext:t,match:e,children:n}){let i=M.useContext(ys);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Si.Provider,{value:t},n)}function s2(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n?.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);Ue(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:v}=n,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let h=n&&i?(f,m)=>{i(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ia(n.matches),errorInfo:m})}:void 0;return o.reduceRight((f,m,g)=>{let v,b=!1,w=null,C=null;n&&(v=a&&m.route.id?a[m.route.id]:void 0,w=m.route.errorElement||n2,c&&(u<0&&g===0?(Rb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):u===g&&(b=!0,C=m.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),P=()=>{let E;return v?E=w:b?E=C:m.route.Component?E=M.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=f,M.createElement(r2,{match:m,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?M.createElement(Db,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:P(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):P()},null)}function If(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o2(t){let e=M.useContext(ys);return Ue(e,If(t)),e}function a2(t){let e=M.useContext(za);return Ue(e,If(t)),e}function l2(t){let e=M.useContext(Si);return Ue(e,If(t)),e}function zf(t){let e=l2(t),n=e.matches[e.matches.length-1];return Ue(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function c2(){return zf("useRouteId")}function u2(){let t=M.useContext(Ff),e=a2("useRouteError"),n=zf("useRouteError");return t!==void 0?t:e.errors?.[n]}function d2(){let{router:t}=o2("useNavigate"),e=zf("useNavigate"),n=M.useRef(!1);return Tb(()=>{n.current=!0}),M.useCallback(async(r,o={})=>{xt(n.current,Eb),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var F0={};function Rb(t,e,n){!e&&!F0[t]&&(F0[t]=!0,xt(!1,n))}var I0={};function z0(t,e){!t&&!I0[e]&&(I0[e]=!0,console.warn(e))}var h2="useOptimistic",B0=Mk[h2],f2=()=>{};function p2(t){return B0?B0(t):[t,f2]}function m2(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&xt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&xt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&xt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var g2=["HydrateFallback","hydrateFallbackElement"],y2=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function v2({router:t,flushSync:e,onError:n,unstable_useTransitions:i}){i=H_()||i;let[o,a]=M.useState(t.state),[c,u]=p2(o),[h,f]=M.useState(),[m,g]=M.useState({isTransitioning:!1}),[v,b]=M.useState(),[w,C]=M.useState(),[_,P]=M.useState(),E=M.useRef(new Map),A=M.useCallback((R,{deletedFetchers:V,newErrors:I,flushSync:G,viewTransitionOpts:X})=>{I&&n&&Object.values(I).forEach(J=>n(J,{location:R.location,params:R.matches[0]?.params??{},unstable_pattern:Ia(R.matches)})),R.fetchers.forEach((J,te)=>{J.data!==void 0&&E.current.set(te,J.data)}),V.forEach(J=>E.current.delete(J)),z0(G===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let oe=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(z0(X==null||oe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!X||!oe){e&&G?e(()=>a(R)):i===!1?a(R):M.startTransition(()=>{i===!0&&u(J=>V0(J,R)),a(R)});return}if(e&&G){e(()=>{w&&(v?.resolve(),w.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:X.currentLocation,nextLocation:X.nextLocation})});let J=t.window.document.startViewTransition(()=>{e(()=>a(R))});J.finished.finally(()=>{e(()=>{b(void 0),C(void 0),f(void 0),g({isTransitioning:!1})})}),e(()=>C(J));return}w?(v?.resolve(),w.skipTransition(),P({state:R,currentLocation:X.currentLocation,nextLocation:X.nextLocation})):(f(R),g({isTransitioning:!0,flushSync:!1,currentLocation:X.currentLocation,nextLocation:X.nextLocation}))},[t.window,e,w,v,i,u,n]);M.useLayoutEffect(()=>t.subscribe(A),[t,A]),M.useEffect(()=>{m.isTransitioning&&!m.flushSync&&b(new y2)},[m]),M.useEffect(()=>{if(v&&h&&t.window){let R=h,V=v.promise,I=t.window.document.startViewTransition(async()=>{i===!1?a(R):M.startTransition(()=>{i===!0&&u(G=>V0(G,R)),a(R)}),await V});I.finished.finally(()=>{b(void 0),C(void 0),f(void 0),g({isTransitioning:!1})}),C(I)}},[h,v,t.window,i,u]),M.useEffect(()=>{v&&h&&c.location.key===h.location.key&&v.resolve()},[v,w,c.location,h]),M.useEffect(()=>{!m.isTransitioning&&_&&(f(_.state),g({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),P(void 0))},[m.isTransitioning,_]);let D=M.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,V,I)=>t.navigate(R,{state:V,preventScrollReset:I?.preventScrollReset}),replace:(R,V,I)=>t.navigate(R,{replace:!0,state:V,preventScrollReset:I?.preventScrollReset})}),[t]),j=t.basename||"/",T=M.useMemo(()=>({router:t,navigator:D,static:!1,basename:j,onError:n}),[t,D,j,n]);return M.createElement(M.Fragment,null,M.createElement(ys.Provider,{value:T},M.createElement(za.Provider,{value:c},M.createElement(_b.Provider,{value:E.current},M.createElement(Of.Provider,{value:m},M.createElement(S2,{basename:j,location:c.location,navigationType:c.historyAction,navigator:D,unstable_useTransitions:i},M.createElement(x2,{routes:t.routes,future:t.future,state:c,onError:n})))))),null)}function V0(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var x2=M.memo(b2);function b2({routes:t,future:e,state:n,onError:i}){return e2(t,void 0,n,i,e)}function w2(t){return Z_(t.context)}function S2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:a}){Ue(!Ba(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:c,navigator:r,static:o,unstable_useTransitions:a,future:{}}),[c,r,o,a]);typeof n=="string"&&(n=Yi(n));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:v="default"}=n,b=M.useMemo(()=>{let w=$n(h,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:v},navigationType:i}},[c,h,f,m,g,v,i]);return xt(b!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(Hn.Provider,{value:u},M.createElement(Zc.Provider,{children:e,value:b}))}var kc="get",_c="application/x-www-form-urlencoded";function eu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function C2(t){return eu(t)&&t.tagName.toLowerCase()==="button"}function k2(t){return eu(t)&&t.tagName.toLowerCase()==="form"}function _2(t){return eu(t)&&t.tagName.toLowerCase()==="input"}function M2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E2(t,e){return t.button===0&&(!e||e==="_self")&&!M2(t)}var ec=null;function T2(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var P2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ih(t){return t!=null&&!P2.has(t)?(xt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):t}function D2(t,e){let n,i,r,o,a;if(k2(t)){let c=t.getAttribute("action");i=c?$n(c,e):null,n=t.getAttribute("method")||kc,r=ih(t.getAttribute("enctype"))||_c,o=new FormData(t)}else if(C2(t)||_2(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(i=u?$n(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||kc,r=ih(t.getAttribute("formenctype"))||ih(c.getAttribute("enctype"))||_c,o=new FormData(c,t),!T2()){let{name:h,type:f,value:m}=t;if(f==="image"){let g=h?`${h}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else h&&o.append(h,m)}}else{if(eu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kc,i=null,r=_c,a=t}return o&&r==="text/plain"&&(a=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R2(t,e,n,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&$n(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function A2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function N2(t,e,n){let i=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let a=await A2(o,n);return a.links?a.links():[]}return[]}));return I2(i.flat(1).filter(L2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function U0(t,e,n,i,r,o){let a=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>n[h].pathname!==u.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,h)=>a(u,h)||c(u,h)):o==="data"?e.filter((u,h)=>{let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function j2(t,e,{includeHydrateFallback:n}={}){return O2(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function O2(t){return[...new Set(t)]}function F2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function I2(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let o=JSON.stringify(F2(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}function Ab(){let t=M.useContext(ys);return Bf(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function z2(){let t=M.useContext(za);return Bf(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vf=M.createContext(void 0);Vf.displayName="FrameworkContext";function Lb(){let t=M.useContext(Vf);return Bf(t,"You must render this element inside a <HydratedRouter> element"),t}function B2(t,e){let n=M.useContext(Vf),[i,r]=M.useState(!1),[o,a]=M.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,g=M.useRef(null);M.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=_=>{_.forEach(P=>{a(P.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[t]),M.useEffect(()=>{if(i){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[i]);let v=()=>{r(!0)},b=()=>{r(!1),a(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:Xo(c,v),onBlur:Xo(u,b),onMouseEnter:Xo(h,v),onMouseLeave:Xo(f,b),onTouchStart:Xo(m,v)}]:[!1,g,{}]}function Xo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function V2({page:t,...e}){let{router:n}=Ab(),i=M.useMemo(()=>xr(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?M.createElement($2,{page:t,matches:i,...e}):null}function U2(t){let{manifest:e,routeModules:n}=Lb(),[i,r]=M.useState([]);return M.useEffect(()=>{let o=!1;return N2(t,e,n).then(a=>{o||r(a)}),()=>{o=!0}},[t,e,n]),i}function $2({page:t,matches:e,...n}){let i=vs(),{future:r,manifest:o,routeModules:a}=Lb(),{basename:c}=Ab(),{loaderData:u,matches:h}=z2(),f=M.useMemo(()=>U0(t,e,h,o,i,"data"),[t,e,h,o,i]),m=M.useMemo(()=>U0(t,e,h,o,i,"assets"),[t,e,h,o,i]),g=M.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let w=new Set,C=!1;if(e.forEach(P=>{let E=o.routes[P.route.id];!E||!E.hasLoader||(!f.some(A=>A.route.id===P.route.id)&&P.route.id in u&&a[P.route.id]?.shouldRevalidate||E.hasClientLoader?C=!0:w.add(P.route.id))}),w.size===0)return[];let _=R2(t,c,r.unstable_trailingSlashAwareDataRequests,"data");return C&&w.size>0&&_.searchParams.set("_routes",e.filter(P=>w.has(P.route.id)).map(P=>P.route.id).join(",")),[_.pathname+_.search]},[c,r.unstable_trailingSlashAwareDataRequests,u,i,o,f,e,t,a]),v=M.useMemo(()=>j2(m,o),[m,o]),b=U2(m);return M.createElement(M.Fragment,null,g.map(w=>M.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>M.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:C})=>M.createElement("link",{key:w,nonce:n.nonce,...C})))}function H2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var W2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W2&&(window.__reactRouterVersion="7.12.0")}catch{}function G2(t,e){return x_({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:jk({window:e?.window}),hydrationData:Y2(),routes:t,mapRouteProperties:m2,hydrationRouteProperties:g2,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function Y2(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:K2(t.errors)}),t}function K2(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new Fa(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let o=window[r.__subType];if(typeof o=="function")try{let a=new o(r.message);a.stack="",n[i]=a}catch{}}if(n[i]==null){let o=new Error(r.message);o.stack="",n[i]=o}}else n[i]=r;return n}var Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jb=M.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:a,state:c,target:u,to:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...v},b){let{basename:w,unstable_useTransitions:C}=M.useContext(Hn),_=typeof h=="string"&&Nb.test(h),P=hb(h,w);h=P.to;let E=q_(h,{relative:r}),[A,D,j]=B2(i,v),T=Q2(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:C});function R(I){e&&e(I),I.defaultPrevented||T(I)}let V=M.createElement("a",{...v,...j,href:P.absoluteURL||E,onClick:P.isExternal||o?e:R,ref:H2(b,D),target:u,"data-discover":!_&&n==="render"?"true":void 0});return A&&!_?M.createElement(M.Fragment,null,V,M.createElement(V2,{page:E})):V});jb.displayName="Link";var Ob=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:a,viewTransition:c,children:u,...h},f){let m=Va(a,{relative:h.relative}),g=vs(),v=M.useContext(za),{navigator:b,basename:w}=M.useContext(Hn),C=v!=null&&nM(m)&&c===!0,_=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,P=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(P=P.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&w&&(E=$n(E,w)||E);const A=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=P===_||!r&&P.startsWith(_)&&P.charAt(A)==="/",j=E!=null&&(E===_||!r&&E.startsWith(_)&&E.charAt(_.length)==="/"),T={isActive:D,isPending:j,isTransitioning:C},R=D?e:void 0,V;typeof i=="function"?V=i(T):V=[i,D?"active":null,j?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(T):o;return M.createElement(jb,{...h,"aria-current":R,className:V,ref:f,style:I,to:a,viewTransition:c},typeof u=="function"?u(T):u)});Ob.displayName="NavLink";var X2=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:o,method:a=kc,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...v},b)=>{let{unstable_useTransitions:w}=M.useContext(Hn),C=eM(),_=tM(c,{relative:h}),P=a.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&Nb.test(c),A=D=>{if(u&&u(D),D.defaultPrevented)return;D.preventDefault();let j=D.nativeEvent.submitter,T=j?.getAttribute("formmethod")||a,R=()=>C(j||D.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:r,state:o,relative:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g});w&&n!==!1?M.startTransition(()=>R()):R()};return M.createElement("form",{ref:b,method:P,action:_,onSubmit:i?u:A,...v,"data-discover":!E&&t==="render"?"true":void 0})});X2.displayName="Form";function q2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(t){let e=M.useContext(ys);return Ue(e,q2(t)),e}function Q2(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let h=Pb(),f=vs(),m=Va(t,{relative:o});return M.useCallback(g=>{if(E2(g,e)){g.preventDefault();let v=n!==void 0?n:xi(f)===xi(m),b=()=>h(t,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:c});u?M.startTransition(()=>b()):b()}},[f,h,m,n,i,e,t,r,o,a,c,u])}var J2=0,Z2=()=>`__${String(++J2)}__`;function eM(){let{router:t}=Fb("useSubmit"),{basename:e}=M.useContext(Hn),n=c2(),i=t.fetch,r=t.navigate;return M.useCallback(async(o,a={})=>{let{action:c,method:u,encType:h,formData:f,body:m}=D2(o,e);if(a.navigate===!1){let g=a.fetcherKey||Z2();await i(g,n,a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await r(a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,n])}function tM(t,{relative:e}={}){let{basename:n}=M.useContext(Hn),i=M.useContext(Si);Ue(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Va(t||".",{relative:e})},a=vs();if(t==null){o.search=a.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:gi([n,o.pathname])),xi(o)}function nM(t,{relative:e}={}){let n=M.useContext(Of);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Fb("useViewTransitionState"),r=Va(t,{relative:e});if(!n.isTransitioning)return!1;let o=$n(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=$n(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Lc(r.pathname,a)!=null||Lc(r.pathname,o)!=null}var iM=rb();function rM(t){return M.createElement(v2,{flushSync:iM.flushSync,...t})}function Ib(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Ib(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function sM(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Ib(t))&&(i&&(i+=" "),i+=e);return i}function da(t){let e=t[0],n=t[1],i=t[2];return Math.sqrt(e*e+n*n+i*i)}function Xh(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function oM(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t}function $0(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function H0(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function aM(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function lM(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function rh(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function cM(t,e){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+i*i+r*r)}function uM(t,e){let n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function W0(t){let e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function dM(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function hM(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function qh(t,e){let n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function zb(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function G0(t,e,n){let i=e[0],r=e[1],o=e[2],a=n[0],c=n[1],u=n[2];return t[0]=r*u-o*c,t[1]=o*a-i*u,t[2]=i*c-r*a,t}function fM(t,e,n,i){let r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t}function pM(t,e,n,i,r){const o=Math.exp(-i*r);let a=e[0],c=e[1],u=e[2];return t[0]=n[0]+(a-n[0])*o,t[1]=n[1]+(c-n[1])*o,t[2]=n[2]+(u-n[2])*o,t}function mM(t,e,n){let i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t}function gM(t,e,n){let i=e[0],r=e[1],o=e[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*i+n[4]*r+n[8]*o)/a,t[1]=(n[1]*i+n[5]*r+n[9]*o)/a,t[2]=(n[2]*i+n[6]*r+n[10]*o)/a,t}function yM(t,e,n){let i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t}function vM(t,e,n){let i=e[0],r=e[1],o=e[2],a=n[0],c=n[1],u=n[2],h=n[3],f=c*o-u*r,m=u*i-a*o,g=a*r-c*i,v=c*g-u*m,b=u*f-a*g,w=a*m-c*f,C=h*2;return f*=C,m*=C,g*=C,v*=2,b*=2,w*=2,t[0]=i+f+v,t[1]=r+m+b,t[2]=o+g+w,t}const xM=(function(){const t=[0,0,0],e=[0,0,0];return function(n,i){Xh(t,n),Xh(e,i),qh(t,t),qh(e,e);let r=zb(t,e);return r>1?0:r<-1?Math.PI:Math.acos(r)}})();function bM(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class ii extends Array{constructor(e=0,n=e,i=e){return super(e,n,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,i=e){return e.length?this.copy(e):(oM(this,e,n,i),this)}copy(e){return Xh(this,e),this}add(e,n){return n?$0(this,e,n):$0(this,this,e),this}sub(e,n){return n?H0(this,e,n):H0(this,this,e),this}multiply(e){return e.length?aM(this,this,e):rh(this,this,e),this}divide(e){return e.length?lM(this,this,e):rh(this,this,1/e),this}inverse(e=this){return hM(this,e),this}len(){return da(this)}distance(e){return e?cM(this,e):da(this)}squaredLen(){return W0(this)}squaredDistance(e){return e?uM(this,e):W0(this)}negate(e=this){return dM(this,e),this}cross(e,n){return n?G0(this,e,n):G0(this,this,e),this}scale(e){return rh(this,this,e),this}normalize(){return qh(this,this),this}dot(e){return zb(this,e)}equals(e){return bM(this,e)}applyMatrix3(e){return yM(this,this,e),this}applyMatrix4(e){return mM(this,this,e),this}scaleRotateMatrix4(e){return gM(this,this,e),this}applyQuaternion(e){return vM(this,this,e),this}angle(e){return xM(this,e)}lerp(e,n){return fM(this,this,e,n),this}smoothLerp(e,n,i){return pM(this,this,e,n,i),this}clone(){return new ii(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],i=this[1],r=this[2];return this[0]=e[0]*n+e[4]*i+e[8]*r,this[1]=e[1]*n+e[5]*i+e[9]*r,this[2]=e[2]*n+e[6]*i+e[10]*r,this.normalize()}}const Y0=new ii;let wM=1,SM=1,K0=!1;class CM{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=wM++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in n)this.addAttribute(i,n[i])}addAttribute(e,n){if(this.attributes[e]=n,n.id=SM++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:i,type:r})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const o=this.attributes[i];this.gl.bindBuffer(o.target,o.buffer),this.glState.boundBuffer=o.buffer;let a=1;r===35674&&(a=2),r===35675&&(a=3),r===35676&&(a=4);const c=o.size/a,u=a===1?0:a*a*4,h=a===1?0:a*4;for(let f=0;f<a;f++)this.gl.vertexAttribPointer(n+f,c,o.type,o.normalized,o.stride+u,o.offset+f*h),this.gl.enableVertexAttribArray(n+f),this.gl.renderer.vertexAttribDivisor(n+f,o.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((r,{name:o})=>{const a=this.attributes[o];a.needsUpdate&&this.updateAttribute(a)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!K0)return console.warn("No position buffer data found to compute bounds"),K0=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,i=e.size;this.bounds||(this.bounds={min:new ii,max:new ii,center:new ii,scale:new ii,radius:1/0});const r=this.bounds.min,o=this.bounds.max,a=this.bounds.center,c=this.bounds.scale;r.set(1/0),o.set(-1/0);for(let u=0,h=n.length;u<h;u+=i){const f=n[u],m=n[u+1],g=n[u+2];r.x=Math.min(f,r.x),r.y=Math.min(m,r.y),r.z=Math.min(g,r.z),o.x=Math.max(f,o.x),o.y=Math.max(m,o.y),o.z=Math.max(g,o.z)}c.sub(o,r),a.add(r,o).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,i=e.size;this.bounds||this.computeBoundingBox(e);let r=0;for(let o=0,a=n.length;o<a;o+=i)Y0.fromArray(n,o),r=Math.max(r,this.bounds.center.squaredDistance(Y0));this.bounds.radius=Math.sqrt(r)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let kM=1;const X0={};class _M{constructor(e,{vertex:n,fragment:i,uniforms:r={},transparent:o=!1,cullFace:a=e.BACK,frontFace:c=e.CCW,depthTest:u=!0,depthWrite:h=!0,depthFunc:f=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=r,this.id=kM++,n||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=o,this.cullFace=a,this.frontFace=c,this.depthTest=u,this.depthWrite=h,this.depthFunc=f,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:i})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${q0(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${q0(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let a=0;a<i;a++){let c=this.gl.getActiveUniform(this.program,a);this.uniformLocations.set(c,this.gl.getUniformLocation(this.program,c.name));const u=c.name.match(/(\w+)/g);c.uniformName=u[0],c.nameComponents=u.slice(1)}this.attributeLocations=new Map;const r=[],o=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let a=0;a<o;a++){const c=this.gl.getActiveAttrib(this.program,a),u=this.gl.getAttribLocation(this.program,c.name);u!==-1&&(r[u]=c.name,this.attributeLocations.set(c,u))}this.attributeOrder=r.join("")}setBlendFunc(e,n,i,r){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=r,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,i){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=i}setStencilOp(e,n,i){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((r,o)=>{let a=this.uniforms[o.uniformName];for(const c of o.nameComponents){if(!a)break;if(c in a)a=a[c];else{if(Array.isArray(a.value))break;a=void 0;break}}if(!a)return Q0(`Active uniform ${o.name} has not been supplied`);if(a&&a.value===void 0)return Q0(`${o.name} uniform is missing a value parameter`);if(a.value.texture)return n=n+1,a.value.update(n),sh(this.gl,o.type,r,n);if(a.value.length&&a.value[0].texture){const c=[];return a.value.forEach(u=>{n=n+1,u.update(n),c.push(n)}),sh(this.gl,o.type,r,c)}sh(this.gl,o.type,r,a.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function sh(t,e,n,i){i=i.length?MM(i):i;const r=t.renderer.state.uniformLocations.get(n);if(i.length)if(r===void 0||r.length!==i.length)t.renderer.state.uniformLocations.set(n,i.slice(0));else{if(EM(r,i))return;r.set?r.set(i):TM(r,i),t.renderer.state.uniformLocations.set(n,r)}else{if(r===i)return;t.renderer.state.uniformLocations.set(n,i)}switch(e){case 5126:return i.length?t.uniform1fv(n,i):t.uniform1f(n,i);case 35664:return t.uniform2fv(n,i);case 35665:return t.uniform3fv(n,i);case 35666:return t.uniform4fv(n,i);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return i.length?t.uniform1iv(n,i):t.uniform1i(n,i);case 35671:case 35667:return t.uniform2iv(n,i);case 35672:case 35668:return t.uniform3iv(n,i);case 35673:case 35669:return t.uniform4iv(n,i);case 35674:return t.uniformMatrix2fv(n,!1,i);case 35675:return t.uniformMatrix3fv(n,!1,i);case 35676:return t.uniformMatrix4fv(n,!1,i)}}function q0(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function MM(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const i=e*n;let r=X0[i];r||(X0[i]=r=new Float32Array(i));for(let o=0;o<e;o++)r.set(t[o],o*n);return r}function EM(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function TM(t,e){for(let n=0,i=t.length;n<i;n++)t[n]=e[n]}let oh=0;function Q0(t){oh>100||(console.warn(t),oh++,oh>100&&console.warn("More than 100 program warnings - stopping logs."))}const ah=new ii;let PM=1;class DM{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:i=150,dpr:r=1,alpha:o=!1,depth:a=!0,stencil:c=!1,antialias:u=!1,premultipliedAlpha:h=!1,preserveDrawingBuffer:f=!1,powerPreference:m="default",autoClear:g=!0,webgl:v=2}={}){const b={alpha:o,depth:a,stencil:c,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:f,powerPreference:m};this.dpr=r,this.alpha=o,this.color=!0,this.depth=a,this.stencil=c,this.premultipliedAlpha=h,this.autoClear=g,this.id=PM++,v===2&&(this.gl=e.getContext("webgl2",b)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",b)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,i=0,r=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=i,this.state.viewport.y=r,this.gl.viewport(i,r,e,n))}setScissor(e,n,i=0,r=0){this.gl.scissor(i,r,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,i,r){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===r||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=r,i!==void 0?this.gl.blendFuncSeparate(e,n,i,r):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,i){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===i||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,i||0))}setStencilOp(e,n,i){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===i||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=i,this.gl.stencilOp(e,n,i))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,i){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][i].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:i,sort:r}){let o=[];if(n&&i&&n.updateFrustum(),e.traverse(a=>{if(!a.visible)return!0;a.draw&&(i&&a.frustumCulled&&n&&!n.frustumIntersectsMesh(a)||o.push(a))}),r){const a=[],c=[],u=[];o.forEach(h=>{h.program.transparent?h.program.depthTest?c.push(h):u.push(h):a.push(h),h.zDepth=0,!(h.renderOrder!==0||!h.program.depthTest||!n)&&(h.worldMatrix.getTranslation(ah),ah.applyMatrix4(n.projectionViewMatrix),h.zDepth=ah.z)}),a.sort(this.sortOpaque),c.sort(this.sortTransparent),u.sort(this.sortUI),o=a.concat(c,u)}return o}render({scene:e,camera:n,target:i=null,update:r=!0,sort:o=!0,frustumCull:a=!0,clear:c}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(c||this.autoClear&&c!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),r&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:a,sort:o}).forEach(h=>{h.draw({camera:n})})}}function RM(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function AM(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function LM(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=i*a,t[2]=r*a,t[3]=o*a,t}function NM(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function jM(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function OM(t,e,n){n=n*.5;let i=Math.sin(n);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(n),t}function J0(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=n[0],u=n[1],h=n[2],f=n[3];return t[0]=i*f+a*c+r*h-o*u,t[1]=r*f+a*u+o*c-i*h,t[2]=o*f+a*h+i*u-r*c,t[3]=a*f-i*c-r*u-o*h,t}function FM(t,e,n){n*=.5;let i=e[0],r=e[1],o=e[2],a=e[3],c=Math.sin(n),u=Math.cos(n);return t[0]=i*u+a*c,t[1]=r*u+o*c,t[2]=o*u-r*c,t[3]=a*u-i*c,t}function IM(t,e,n){n*=.5;let i=e[0],r=e[1],o=e[2],a=e[3],c=Math.sin(n),u=Math.cos(n);return t[0]=i*u-o*c,t[1]=r*u+a*c,t[2]=o*u+i*c,t[3]=a*u-r*c,t}function zM(t,e,n){n*=.5;let i=e[0],r=e[1],o=e[2],a=e[3],c=Math.sin(n),u=Math.cos(n);return t[0]=i*u+r*c,t[1]=r*u-i*c,t[2]=o*u+a*c,t[3]=a*u-o*c,t}function BM(t,e,n,i){let r=e[0],o=e[1],a=e[2],c=e[3],u=n[0],h=n[1],f=n[2],m=n[3],g,v,b,w,C;return v=r*u+o*h+a*f+c*m,v<0&&(v=-v,u=-u,h=-h,f=-f,m=-m),1-v>1e-6?(g=Math.acos(v),b=Math.sin(g),w=Math.sin((1-i)*g)/b,C=Math.sin(i*g)/b):(w=1-i,C=i),t[0]=w*r+C*u,t[1]=w*o+C*h,t[2]=w*a+C*f,t[3]=w*c+C*m,t}function VM(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=n*n+i*i+r*r+o*o,c=a?1/a:0;return t[0]=-n*c,t[1]=-i*c,t[2]=-r*c,t[3]=o*c,t}function UM(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function $M(t,e){let n=e[0]+e[4]+e[8],i;if(n>0)i=Math.sqrt(n+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[r*3+r]&&(r=2);let o=(r+1)%3,a=(r+2)%3;i=Math.sqrt(e[r*3+r]-e[o*3+o]-e[a*3+a]+1),t[r]=.5*i,i=.5/i,t[3]=(e[o*3+a]-e[a*3+o])*i,t[o]=(e[o*3+r]+e[r*3+o])*i,t[a]=(e[a*3+r]+e[r*3+a])*i}return t}function HM(t,e,n="YXZ"){let i=Math.sin(e[0]*.5),r=Math.cos(e[0]*.5),o=Math.sin(e[1]*.5),a=Math.cos(e[1]*.5),c=Math.sin(e[2]*.5),u=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=i*a*u+r*o*c,t[1]=r*o*u-i*a*c,t[2]=r*a*c+i*o*u,t[3]=r*a*u-i*o*c):n==="YXZ"?(t[0]=i*a*u+r*o*c,t[1]=r*o*u-i*a*c,t[2]=r*a*c-i*o*u,t[3]=r*a*u+i*o*c):n==="ZXY"?(t[0]=i*a*u-r*o*c,t[1]=r*o*u+i*a*c,t[2]=r*a*c+i*o*u,t[3]=r*a*u-i*o*c):n==="ZYX"?(t[0]=i*a*u-r*o*c,t[1]=r*o*u+i*a*c,t[2]=r*a*c-i*o*u,t[3]=r*a*u+i*o*c):n==="YZX"?(t[0]=i*a*u+r*o*c,t[1]=r*o*u+i*a*c,t[2]=r*a*c-i*o*u,t[3]=r*a*u-i*o*c):n==="XZY"&&(t[0]=i*a*u-r*o*c,t[1]=r*o*u-i*a*c,t[2]=r*a*c+i*o*u,t[3]=r*a*u+i*o*c),t}const WM=RM,GM=AM,YM=NM,KM=LM;class XM extends Array{constructor(e=0,n=0,i=0,r=1){super(e,n,i,r),this.onChange=()=>{},this._target=this;const o=["0","1","2","3"];return new Proxy(this,{set(a,c){const u=Reflect.set(...arguments);return u&&o.includes(c)&&a.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return jM(this._target),this.onChange(),this}set(e,n,i,r){return e.length?this.copy(e):(GM(this._target,e,n,i,r),this.onChange(),this)}rotateX(e){return FM(this._target,this._target,e),this.onChange(),this}rotateY(e){return IM(this._target,this._target,e),this.onChange(),this}rotateZ(e){return zM(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return VM(this._target,e),this.onChange(),this}conjugate(e=this._target){return UM(this._target,e),this.onChange(),this}copy(e){return WM(this._target,e),this.onChange(),this}normalize(e=this._target){return KM(this._target,e),this.onChange(),this}multiply(e,n){return n?J0(this._target,e,n):J0(this._target,this._target,e),this.onChange(),this}dot(e){return YM(this._target,e)}fromMatrix3(e){return $M(this._target,e),this.onChange(),this}fromEuler(e,n){return HM(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return OM(this._target,e,n),this.onChange(),this}slerp(e,n){return BM(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const qM=1e-6;function QM(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function JM(t,e,n,i,r,o,a,c,u,h,f,m,g,v,b,w,C){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=c,t[7]=u,t[8]=h,t[9]=f,t[10]=m,t[11]=g,t[12]=v,t[13]=b,t[14]=w,t[15]=C,t}function ZM(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function eE(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=e[9],g=e[10],v=e[11],b=e[12],w=e[13],C=e[14],_=e[15],P=n*c-i*a,E=n*u-r*a,A=n*h-o*a,D=i*u-r*c,j=i*h-o*c,T=r*h-o*u,R=f*w-m*b,V=f*C-g*b,I=f*_-v*b,G=m*C-g*w,X=m*_-v*w,oe=g*_-v*C,J=P*oe-E*X+A*G+D*I-j*V+T*R;return J?(J=1/J,t[0]=(c*oe-u*X+h*G)*J,t[1]=(r*X-i*oe-o*G)*J,t[2]=(w*T-C*j+_*D)*J,t[3]=(g*j-m*T-v*D)*J,t[4]=(u*I-a*oe-h*V)*J,t[5]=(n*oe-r*I+o*V)*J,t[6]=(C*A-b*T-_*E)*J,t[7]=(f*T-g*A+v*E)*J,t[8]=(a*X-c*I+h*R)*J,t[9]=(i*I-n*X-o*R)*J,t[10]=(b*j-w*A+_*P)*J,t[11]=(m*A-f*j-v*P)*J,t[12]=(c*V-a*G-u*R)*J,t[13]=(n*G-i*V+r*R)*J,t[14]=(w*E-b*D-C*P)*J,t[15]=(f*D-m*E+g*P)*J,t):null}function Bb(t){let e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],c=t[6],u=t[7],h=t[8],f=t[9],m=t[10],g=t[11],v=t[12],b=t[13],w=t[14],C=t[15],_=e*a-n*o,P=e*c-i*o,E=e*u-r*o,A=n*c-i*a,D=n*u-r*a,j=i*u-r*c,T=h*b-f*v,R=h*w-m*v,V=h*C-g*v,I=f*w-m*b,G=f*C-g*b,X=m*C-g*w;return _*X-P*G+E*I+A*V-D*R+j*T}function Z0(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5],h=e[6],f=e[7],m=e[8],g=e[9],v=e[10],b=e[11],w=e[12],C=e[13],_=e[14],P=e[15],E=n[0],A=n[1],D=n[2],j=n[3];return t[0]=E*i+A*c+D*m+j*w,t[1]=E*r+A*u+D*g+j*C,t[2]=E*o+A*h+D*v+j*_,t[3]=E*a+A*f+D*b+j*P,E=n[4],A=n[5],D=n[6],j=n[7],t[4]=E*i+A*c+D*m+j*w,t[5]=E*r+A*u+D*g+j*C,t[6]=E*o+A*h+D*v+j*_,t[7]=E*a+A*f+D*b+j*P,E=n[8],A=n[9],D=n[10],j=n[11],t[8]=E*i+A*c+D*m+j*w,t[9]=E*r+A*u+D*g+j*C,t[10]=E*o+A*h+D*v+j*_,t[11]=E*a+A*f+D*b+j*P,E=n[12],A=n[13],D=n[14],j=n[15],t[12]=E*i+A*c+D*m+j*w,t[13]=E*r+A*u+D*g+j*C,t[14]=E*o+A*h+D*v+j*_,t[15]=E*a+A*f+D*b+j*P,t}function tE(t,e,n){let i=n[0],r=n[1],o=n[2],a,c,u,h,f,m,g,v,b,w,C,_;return e===t?(t[12]=e[0]*i+e[4]*r+e[8]*o+e[12],t[13]=e[1]*i+e[5]*r+e[9]*o+e[13],t[14]=e[2]*i+e[6]*r+e[10]*o+e[14],t[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[0],c=e[1],u=e[2],h=e[3],f=e[4],m=e[5],g=e[6],v=e[7],b=e[8],w=e[9],C=e[10],_=e[11],t[0]=a,t[1]=c,t[2]=u,t[3]=h,t[4]=f,t[5]=m,t[6]=g,t[7]=v,t[8]=b,t[9]=w,t[10]=C,t[11]=_,t[12]=a*i+f*r+b*o+e[12],t[13]=c*i+m*r+w*o+e[13],t[14]=u*i+g*r+C*o+e[14],t[15]=h*i+v*r+_*o+e[15]),t}function nE(t,e,n){let i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function iE(t,e,n,i){let r=i[0],o=i[1],a=i[2],c=Math.hypot(r,o,a),u,h,f,m,g,v,b,w,C,_,P,E,A,D,j,T,R,V,I,G,X,oe,J,te;return Math.abs(c)<qM?null:(c=1/c,r*=c,o*=c,a*=c,u=Math.sin(n),h=Math.cos(n),f=1-h,m=e[0],g=e[1],v=e[2],b=e[3],w=e[4],C=e[5],_=e[6],P=e[7],E=e[8],A=e[9],D=e[10],j=e[11],T=r*r*f+h,R=o*r*f+a*u,V=a*r*f-o*u,I=r*o*f-a*u,G=o*o*f+h,X=a*o*f+r*u,oe=r*a*f+o*u,J=o*a*f-r*u,te=a*a*f+h,t[0]=m*T+w*R+E*V,t[1]=g*T+C*R+A*V,t[2]=v*T+_*R+D*V,t[3]=b*T+P*R+j*V,t[4]=m*I+w*G+E*X,t[5]=g*I+C*G+A*X,t[6]=v*I+_*G+D*X,t[7]=b*I+P*G+j*X,t[8]=m*oe+w*J+E*te,t[9]=g*oe+C*J+A*te,t[10]=v*oe+_*J+D*te,t[11]=b*oe+P*J+j*te,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function rE(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Vb(t,e){let n=e[0],i=e[1],r=e[2],o=e[4],a=e[5],c=e[6],u=e[8],h=e[9],f=e[10];return t[0]=Math.hypot(n,i,r),t[1]=Math.hypot(o,a,c),t[2]=Math.hypot(u,h,f),t}function sE(t){let e=t[0],n=t[1],i=t[2],r=t[4],o=t[5],a=t[6],c=t[8],u=t[9],h=t[10];const f=e*e+n*n+i*i,m=r*r+o*o+a*a,g=c*c+u*u+h*h;return Math.sqrt(Math.max(f,m,g))}const Ub=(function(){const t=[1,1,1];return function(e,n){let i=t;Vb(i,n);let r=1/i[0],o=1/i[1],a=1/i[2],c=n[0]*r,u=n[1]*o,h=n[2]*a,f=n[4]*r,m=n[5]*o,g=n[6]*a,v=n[8]*r,b=n[9]*o,w=n[10]*a,C=c+m+w,_=0;return C>0?(_=Math.sqrt(C+1)*2,e[3]=.25*_,e[0]=(g-b)/_,e[1]=(v-h)/_,e[2]=(u-f)/_):c>m&&c>w?(_=Math.sqrt(1+c-m-w)*2,e[3]=(g-b)/_,e[0]=.25*_,e[1]=(u+f)/_,e[2]=(v+h)/_):m>w?(_=Math.sqrt(1+m-c-w)*2,e[3]=(v-h)/_,e[0]=(u+f)/_,e[1]=.25*_,e[2]=(g+b)/_):(_=Math.sqrt(1+w-c-m)*2,e[3]=(u-f)/_,e[0]=(v+h)/_,e[1]=(g+b)/_,e[2]=.25*_),e}})();function oE(t,e,n,i){let r=da([t[0],t[1],t[2]]);const o=da([t[4],t[5],t[6]]),a=da([t[8],t[9],t[10]]);Bb(t)<0&&(r=-r),n[0]=t[12],n[1]=t[13],n[2]=t[14];const u=t.slice(),h=1/r,f=1/o,m=1/a;u[0]*=h,u[1]*=h,u[2]*=h,u[4]*=f,u[5]*=f,u[6]*=f,u[8]*=m,u[9]*=m,u[10]*=m,Ub(e,u),i[0]=r,i[1]=o,i[2]=a}function aE(t,e,n,i){const r=t,o=e[0],a=e[1],c=e[2],u=e[3],h=o+o,f=a+a,m=c+c,g=o*h,v=o*f,b=o*m,w=a*f,C=a*m,_=c*m,P=u*h,E=u*f,A=u*m,D=i[0],j=i[1],T=i[2];return r[0]=(1-(w+_))*D,r[1]=(v+A)*D,r[2]=(b-E)*D,r[3]=0,r[4]=(v-A)*j,r[5]=(1-(g+_))*j,r[6]=(C+P)*j,r[7]=0,r[8]=(b+E)*T,r[9]=(C-P)*T,r[10]=(1-(g+w))*T,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r}function lE(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,c=i+i,u=r+r,h=n*a,f=i*a,m=i*c,g=r*a,v=r*c,b=r*u,w=o*a,C=o*c,_=o*u;return t[0]=1-m-b,t[1]=f+_,t[2]=g-C,t[3]=0,t[4]=f-_,t[5]=1-h-b,t[6]=v+w,t[7]=0,t[8]=g+C,t[9]=v-w,t[10]=1-h-m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cE(t,e,n,i,r){let o=1/Math.tan(e/2),a=1/(i-r);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*a,t[15]=0,t}function uE(t,e,n,i,r,o,a){let c=1/(e-n),u=1/(i-r),h=1/(o-a);return t[0]=-2*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+n)*c,t[13]=(r+i)*u,t[14]=(a+o)*h,t[15]=1,t}function dE(t,e,n,i){let r=e[0],o=e[1],a=e[2],c=i[0],u=i[1],h=i[2],f=r-n[0],m=o-n[1],g=a-n[2],v=f*f+m*m+g*g;v===0?g=1:(v=1/Math.sqrt(v),f*=v,m*=v,g*=v);let b=u*g-h*m,w=h*f-c*g,C=c*m-u*f;return v=b*b+w*w+C*C,v===0&&(h?c+=1e-6:u?h+=1e-6:u+=1e-6,b=u*g-h*m,w=h*f-c*g,C=c*m-u*f,v=b*b+w*w+C*C),v=1/Math.sqrt(v),b*=v,w*=v,C*=v,t[0]=b,t[1]=w,t[2]=C,t[3]=0,t[4]=m*C-g*w,t[5]=g*b-f*C,t[6]=f*w-m*b,t[7]=0,t[8]=f,t[9]=m,t[10]=g,t[11]=0,t[12]=r,t[13]=o,t[14]=a,t[15]=1,t}function ey(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function ty(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function hE(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class Nc extends Array{constructor(e=1,n=0,i=0,r=0,o=0,a=1,c=0,u=0,h=0,f=0,m=1,g=0,v=0,b=0,w=0,C=1){return super(e,n,i,r,o,a,c,u,h,f,m,g,v,b,w,C),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,i,r,o,a,c,u,h,f,m,g,v,b,w,C){return e.length?this.copy(e):(JM(this,e,n,i,r,o,a,c,u,h,f,m,g,v,b,w,C),this)}translate(e,n=this){return tE(this,n,e),this}rotate(e,n,i=this){return iE(this,i,e,n),this}scale(e,n=this){return nE(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?ey(this,e,n):ey(this,this,e),this}sub(e,n){return n?ty(this,e,n):ty(this,this,e),this}multiply(e,n){return e.length?n?Z0(this,e,n):Z0(this,this,e):hE(this,this,e),this}identity(){return ZM(this),this}copy(e){return QM(this,e),this}fromPerspective({fov:e,aspect:n,near:i,far:r}={}){return cE(this,e,n,i,r),this}fromOrthogonal({left:e,right:n,bottom:i,top:r,near:o,far:a}){return uE(this,e,n,i,r,o,a),this}fromQuaternion(e){return lE(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return eE(this,e),this}compose(e,n,i){return aE(this,e,n,i),this}decompose(e,n,i){return oE(this,e,n,i),this}getRotation(e){return Ub(e,this),this}getTranslation(e){return rE(e,this),this}getScaling(e){return Vb(e,this),this}getMaxScaleOnAxis(){return sE(this)}lookAt(e,n,i){return dE(this,e,n,i),this}determinant(){return Bb(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function fE(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const ny=new Nc;class pE extends Array{constructor(e=0,n=e,i=e,r="YXZ"){super(e,n,i),this.order=r,this.onChange=()=>{},this._target=this;const o=["0","1","2"];return new Proxy(this,{set(a,c){const u=Reflect.set(...arguments);return u&&o.includes(c)&&a.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,i=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=i,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return fE(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,i){return ny.fromQuaternion(e),this._target.fromRotationMatrix(ny,n),i||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class mE{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Nc,this.worldMatrix=new Nc,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new ii,this.quaternion=new XM,this.scale=new ii(1),this.rotation=new pE,this.up=new ii(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,i=this.children.length;n<i;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,i=this.children.length;n<i;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function gE(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function yE(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,c=i+i,u=r+r,h=n*a,f=i*a,m=i*c,g=r*a,v=r*c,b=r*u,w=o*a,C=o*c,_=o*u;return t[0]=1-m-b,t[3]=f-_,t[6]=g+C,t[1]=f+_,t[4]=1-h-b,t[7]=v-w,t[2]=g-C,t[5]=v+w,t[8]=1-h-m,t}function vE(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function xE(t,e,n,i,r,o,a,c,u,h){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=c,t[7]=u,t[8]=h,t}function bE(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function wE(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=f*a-c*h,g=-f*o+c*u,v=h*o-a*u,b=n*m+i*g+r*v;return b?(b=1/b,t[0]=m*b,t[1]=(-f*i+r*h)*b,t[2]=(c*i-r*a)*b,t[3]=g*b,t[4]=(f*n-r*u)*b,t[5]=(-c*n+r*o)*b,t[6]=v*b,t[7]=(-h*n+i*u)*b,t[8]=(a*n-i*o)*b,t):null}function iy(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5],h=e[6],f=e[7],m=e[8],g=n[0],v=n[1],b=n[2],w=n[3],C=n[4],_=n[5],P=n[6],E=n[7],A=n[8];return t[0]=g*i+v*a+b*h,t[1]=g*r+v*c+b*f,t[2]=g*o+v*u+b*m,t[3]=w*i+C*a+_*h,t[4]=w*r+C*c+_*f,t[5]=w*o+C*u+_*m,t[6]=P*i+E*a+A*h,t[7]=P*r+E*c+A*f,t[8]=P*o+E*u+A*m,t}function SE(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5],h=e[6],f=e[7],m=e[8],g=n[0],v=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=c,t[5]=u,t[6]=g*i+v*a+h,t[7]=g*r+v*c+f,t[8]=g*o+v*u+m,t}function CE(t,e,n){let i=e[0],r=e[1],o=e[2],a=e[3],c=e[4],u=e[5],h=e[6],f=e[7],m=e[8],g=Math.sin(n),v=Math.cos(n);return t[0]=v*i+g*a,t[1]=v*r+g*c,t[2]=v*o+g*u,t[3]=v*a-g*i,t[4]=v*c-g*r,t[5]=v*u-g*o,t[6]=h,t[7]=f,t[8]=m,t}function kE(t,e,n){let i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function _E(t,e){let n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],c=e[5],u=e[6],h=e[7],f=e[8],m=e[9],g=e[10],v=e[11],b=e[12],w=e[13],C=e[14],_=e[15],P=n*c-i*a,E=n*u-r*a,A=n*h-o*a,D=i*u-r*c,j=i*h-o*c,T=r*h-o*u,R=f*w-m*b,V=f*C-g*b,I=f*_-v*b,G=m*C-g*w,X=m*_-v*w,oe=g*_-v*C,J=P*oe-E*X+A*G+D*I-j*V+T*R;return J?(J=1/J,t[0]=(c*oe-u*X+h*G)*J,t[1]=(u*I-a*oe-h*V)*J,t[2]=(a*X-c*I+h*R)*J,t[3]=(r*X-i*oe-o*G)*J,t[4]=(n*oe-r*I+o*V)*J,t[5]=(i*I-n*X-o*R)*J,t[6]=(w*T-C*j+_*D)*J,t[7]=(C*A-b*T-_*E)*J,t[8]=(b*j-w*A+_*P)*J,t):null}class ME extends Array{constructor(e=1,n=0,i=0,r=0,o=1,a=0,c=0,u=0,h=1){return super(e,n,i,r,o,a,c,u,h),this}set(e,n,i,r,o,a,c,u,h){return e.length?this.copy(e):(xE(this,e,n,i,r,o,a,c,u,h),this)}translate(e,n=this){return SE(this,n,e),this}rotate(e,n=this){return CE(this,n,e),this}scale(e,n=this){return kE(this,n,e),this}multiply(e,n){return n?iy(this,e,n):iy(this,this,e),this}identity(){return bE(this),this}copy(e){return vE(this,e),this}fromMatrix4(e){return gE(this,e),this}fromQuaternion(e){return yE(this,e),this}fromBasis(e,n,i){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],i[0],i[1],i[2]),this}inverse(e=this){return wE(this,e),this}getNormalMatrix(e){return _E(this,e),this}}let EE=0;class TE extends mE{constructor(e,{geometry:n,program:i,mode:r=e.TRIANGLES,frustumCulled:o=!0,renderOrder:a=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=EE++,this.geometry=n,this.program=i,this.mode=r,this.frustumCulled=o,this.renderOrder=a,this.modelViewMatrix=new Nc,this.normalMatrix=new ME,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:e}))}}const ry={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function sy(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function PE(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function oy(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?sy(t):ry[t.toLowerCase()]?sy(ry[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):PE(t)}let Hs=class extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...oy(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(oy(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}};class DE extends CM{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const RE=`
attribute vec2 position;
attribute vec2 uv;
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 0.0, 1.0);
}
`,AE=`
precision mediump float;

varying vec2 vUv;

uniform float iTime;
uniform vec3  iResolution;
uniform float uScale;

uniform vec2  uGridMul;
uniform float uDigitSize;
uniform float uScanlineIntensity;
uniform float uGlitchAmount;
uniform float uFlickerAmount;
uniform float uNoiseAmp;
uniform float uChromaticAberration;
uniform float uDither;
uniform float uCurvature;
uniform vec3  uTint;
uniform vec2  uMouse;
uniform float uMouseStrength;
uniform float uUseMouse;
uniform float uPageLoadProgress;
uniform float uUsePageLoadAnimation;
uniform float uBrightness;
uniform vec3 uBaseColor;

float time;

float hash21(vec2 p){
  p = fract(p * 234.56);
  p += dot(p, p + 34.56);
  return fract(p.x * p.y);
}

float noise(vec2 p)
{
  return sin(p.x * 10.0) * sin(p.y * (3.0 + sin(time * 0.090909))) + 0.2; 
}

mat2 rotate(float angle)
{
  float c = cos(angle);
  float s = sin(angle);
  return mat2(c, -s, s, c);
}

float fbm(vec2 p)
{
  p *= 1.1;
  float f = 0.0;
  float amp = 0.5 * uNoiseAmp;
  
  mat2 modify0 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify0 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify1 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify1 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify2 = rotate(time * 0.08);
  f += amp * noise(p);
  
  return f;
}

float pattern(vec2 p, out vec2 q, out vec2 r) {
  vec2 offset1 = vec2(1.0);
  vec2 offset0 = vec2(0.0);
  mat2 rot01 = rotate(0.1 * time);
  mat2 rot1 = rotate(0.1);
  
  q = vec2(fbm(p + offset1), fbm(rot01 * p + offset1));
  r = vec2(fbm(rot1 * q + offset0), fbm(q + offset0));
  return fbm(p + r);
}

float digit(vec2 p){
    vec2 grid = uGridMul * 15.0;
    vec2 s = floor(p * grid) / grid;
    p = p * grid;
    vec2 q, r;
    float intensity = pattern(s * 0.1, q, r) * 1.3 - 0.03;
    
    if(uUseMouse > 0.5){
        vec2 mouseWorld = uMouse * uScale;
        float distToMouse = distance(s, mouseWorld);
        float mouseInfluence = exp(-distToMouse * 8.0) * uMouseStrength * 10.0;
        intensity += mouseInfluence;
        
        float ripple = sin(distToMouse * 20.0 - iTime * 5.0) * 0.1 * mouseInfluence;
        intensity += ripple;
    }
    
    if(uUsePageLoadAnimation > 0.5){
        float cellRandom = fract(sin(dot(s, vec2(12.9898, 78.233))) * 43758.5453);
        float cellDelay = cellRandom * 0.8;
        float cellProgress = clamp((uPageLoadProgress - cellDelay) / 0.2, 0.0, 1.0);
        
        float fadeAlpha = smoothstep(0.0, 1.0, cellProgress);
        intensity *= fadeAlpha;
    }
    
    p = fract(p);
    p *= uDigitSize;
    
    float px5 = p.x * 5.0;
    float py5 = (1.0 - p.y) * 5.0;
    float x = fract(px5);
    float y = fract(py5);
    
    float i = floor(py5) - 2.0;
    float j = floor(px5) - 2.0;
    float n = i * i + j * j;
    float f = n * 0.0625;
    
    float isOn = step(0.1, intensity - f);
    float brightness = isOn * (0.2 + y * 0.8) * (0.75 + x * 0.25);
    
    return step(0.0, p.x) * step(p.x, 1.0) * step(0.0, p.y) * step(p.y, 1.0) * brightness;
}

float onOff(float a, float b, float c)
{
  return step(c, sin(iTime + a * cos(iTime * b))) * uFlickerAmount;
}

float displace(vec2 look)
{
    float y = look.y - mod(iTime * 0.25, 1.0);
    float window = 1.0 / (1.0 + 50.0 * y * y);
    return sin(look.y * 20.0 + iTime) * 0.0125 * onOff(4.0, 2.0, 0.8) * (1.0 + cos(iTime * 60.0)) * window;
}

vec3 getColor(vec2 p){
    
    float bar = step(mod(p.y + time * 20.0, 1.0), 0.2) * 0.4 + 1.0;
    bar *= uScanlineIntensity;
    
    float displacement = displace(p);
    p.x += displacement;

    if (uGlitchAmount != 1.0) {
      float extra = displacement * (uGlitchAmount - 1.0);
      p.x += extra;
    }

    float middle = digit(p);
    
    const float off = 0.002;
    float sum = digit(p + vec2(-off, -off)) + digit(p + vec2(0.0, -off)) + digit(p + vec2(off, -off)) +
                digit(p + vec2(-off, 0.0)) + digit(p + vec2(0.0, 0.0)) + digit(p + vec2(off, 0.0)) +
                digit(p + vec2(-off, off)) + digit(p + vec2(0.0, off)) + digit(p + vec2(off, off));
    
    vec3 baseColor = vec3(0.9) * middle + sum * 0.1 * vec3(1.0) * bar;
    return baseColor;
}

vec2 barrel(vec2 uv){
  vec2 c = uv * 2.0 - 1.0;
  float r2 = dot(c, c);
  c *= 1.0 + uCurvature * r2;
  return c * 0.5 + 0.5;
}

void main() {
    time = iTime * 0.333333;
    vec2 uv = vUv;

    if(uCurvature != 0.0){
      uv = barrel(uv);
    }
    
    vec2 p = uv * uScale;
    vec3 col = getColor(p);

    if(uChromaticAberration != 0.0){
      vec2 ca = vec2(uChromaticAberration) / iResolution.xy;
      col.r = getColor(p + ca).r;
      col.b = getColor(p - ca).b;
    }

    col *= uTint;
    col *= uBrightness;

    if(uDither > 0.0){
      float rnd = hash21(gl_FragCoord.xy);
      col += (rnd - 0.5) * (uDither * 0.003922);
    }

    col = mix(uBaseColor, col, 0.75);

    gl_FragColor = vec4(col, 1.0);
}
`;function lh(t){let e=t.replace("#","").trim();e.length===3&&(e=e.split("").map(i=>i+i).join(""));const n=parseInt(e,16);return[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function LE({scale:t=1,gridMul:e=[2,1],digitSize:n=1.5,timeScale:i=.3,pause:r=!1,scanlineIntensity:o=.3,glitchAmount:a=1,flickerAmount:c=1,noiseAmp:u=.8,chromaticAberration:h=0,dither:f=0,curvature:m=.2,tint:g="#ffffff",mouseReact:v=!0,mouseStrength:b=.2,dpr:w,pageLoadAnimation:C=!0,brightness:_=1,clearColor:P="#000000",baseColor:E="#0b1220",className:A,style:D,...j}){const T=M.useRef(null),R=M.useRef(null),V=M.useRef(null),I=M.useRef({x:.5,y:.5}),G=M.useRef({x:.5,y:.5}),X=M.useRef(0),oe=M.useRef(0),J=M.useRef(0),te=M.useRef(Math.random()*100),ue=M.useMemo(()=>w??(typeof window<"u"?Math.min(window.devicePixelRatio||1,2):1),[w]),ee=M.useMemo(()=>lh(g),[g]),$=M.useMemo(()=>typeof f=="boolean"?f?1:0:f,[f]),Z=M.useMemo(()=>lh(P),[P]),Q=M.useMemo(()=>lh(E),[E]),O=M.useCallback(K=>{const de=T.current;if(!de)return;const ae=de.getBoundingClientRect(),pe=Le=>Math.max(0,Math.min(1,Le)),ve=pe((K.clientX-ae.left)/ae.width),Ne=pe(1-(K.clientY-ae.top)/ae.height);I.current={x:ve,y:Ne}},[]);return M.useEffect(()=>{const K=T.current;if(!K)return;const de=new DM({dpr:ue});V.current=de;const ae=de.gl;ae.clearColor(Z[0],Z[1],Z[2],1);const pe=new DE(ae),ve=new _M(ae,{vertex:RE,fragment:AE,uniforms:{iTime:{value:0},iResolution:{value:new Hs(ae.canvas.width,ae.canvas.height,ae.canvas.width/ae.canvas.height)},uScale:{value:t},uGridMul:{value:new Float32Array(e)},uDigitSize:{value:n},uScanlineIntensity:{value:o},uGlitchAmount:{value:a},uFlickerAmount:{value:c},uNoiseAmp:{value:u},uChromaticAberration:{value:h},uDither:{value:$},uCurvature:{value:m},uTint:{value:new Hs(ee[0],ee[1],ee[2])},uMouse:{value:new Float32Array([G.current.x,G.current.y])},uMouseStrength:{value:b},uUseMouse:{value:v?1:0},uPageLoadProgress:{value:C?0:1},uUsePageLoadAnimation:{value:C?1:0},uBrightness:{value:_},uBaseColor:{value:new Hs(Q[0],Q[1],Q[2])}}});R.current=ve;const Ne=new TE(ae,{geometry:pe,program:ve}),Le=v?window:null;function Fe(){const He=T.current;if(!He)return;de.setSize(He.offsetWidth,He.offsetHeight);const ze=ve.uniforms;ze.iResolution.value=new Hs(ae.canvas.width,ae.canvas.height,ae.canvas.width/ae.canvas.height)}const gt=new ResizeObserver(()=>Fe());gt.observe(K),Fe();const qt=He=>{oe.current=requestAnimationFrame(qt);const ze=ve.uniforms;if(C&&J.current===0&&(J.current=He),r)ze.iTime.value=X.current;else{const Qt=(He*.001+te.current)*i;ze.iTime.value=Qt,X.current=Qt}if(C&&J.current>0){const Ft=He-J.current,Mt=Math.min(Ft/2e3,1);ze.uPageLoadProgress.value=Mt}if(v){const Ft=G.current,Mt=I.current;Ft.x+=(Mt.x-Ft.x)*.08,Ft.y+=(Mt.y-Ft.y)*.08;const vn=ze.uMouse.value;vn[0]=Ft.x,vn[1]=Ft.y}ze.uMouseStrength.value=b,ze.uScale.value=t,ze.uDigitSize.value=n,ze.uScanlineIntensity.value=o,ze.uGlitchAmount.value=a,ze.uFlickerAmount.value=c,ze.uNoiseAmp.value=u,ze.uChromaticAberration.value=h,ze.uDither.value=$,ze.uCurvature.value=m,ze.uTint.value=new Hs(ee[0],ee[1],ee[2]),ze.uUseMouse.value=v?1:0,ze.uBrightness.value=_,ze.uBaseColor.value=new Hs(Q[0],Q[1],Q[2]),de.render({scene:Ne})};return oe.current=requestAnimationFrame(qt),K.appendChild(ae.canvas),v&&Le&&Le.addEventListener("mousemove",O),()=>{cancelAnimationFrame(oe.current),gt.disconnect(),v&&Le&&Le.removeEventListener("mousemove",O);const He=T.current;He&&ae.canvas.parentElement===He&&He.removeChild(ae.canvas),ae.getExtension("WEBGL_lose_context")?.loseContext(),J.current=0,te.current=Math.random()*100,R.current=null,V.current=null}},[ue,r,i,t,e,n,o,a,c,u,h,$,m,ee,v,b,C,_,Z,Q,O]),S.jsx("div",{ref:T,className:sM("faulty-terminal-container",A),style:D,...j})}const Uf=M.createContext({});function Ua(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const $b=typeof window<"u",$f=$b?M.useLayoutEffect:M.useEffect,tu=M.createContext(null);function Hf(t,e){t.indexOf(e)===-1&&t.push(e)}function Wf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bi=(t,e,n)=>n>e?e:n<t?t:n;let Gf=()=>{};const Gi={},Hb=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Wb(t){return typeof t=="object"&&t!==null}const Gb=t=>/^0[^.\s]+$/u.test(t);function Yf(t){let e;return()=>(e===void 0&&(e=t()),e)}const Un=t=>t,NE=(t,e)=>n=>e(t(n)),$a=(...t)=>t.reduce(NE),_a=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Kf{constructor(){this.subscriptions=[]}add(e){return Hf(this.subscriptions,e),()=>Wf(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const a=this.subscriptions[o];a&&a(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hi=t=>t*1e3,Vn=t=>t/1e3;function Yb(t,e){return e?t*(1e3/e):0}const Kb=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jE=1e-7,OE=12;function FE(t,e,n,i,r){let o,a,c=0;do a=e+(n-e)/2,o=Kb(a,i,r)-t,o>0?n=a:e=a;while(Math.abs(o)>jE&&++c<OE);return a}function Ha(t,e,n,i){if(t===e&&n===i)return Un;const r=o=>FE(o,0,1,t,n);return o=>o===0||o===1?o:Kb(r(o),e,i)}const Xb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qb=t=>e=>1-t(1-e),Qb=Ha(.33,1.53,.69,.99),Xf=qb(Qb),Jb=Xb(Xf),Zb=t=>(t*=2)<1?.5*Xf(t):.5*(2-Math.pow(2,-10*(t-1))),qf=t=>1-Math.sin(Math.acos(t)),e1=qb(qf),t1=Xb(qf),IE=Ha(.42,0,1,1),zE=Ha(0,0,.58,1),n1=Ha(.42,0,.58,1),BE=t=>Array.isArray(t)&&typeof t[0]!="number",i1=t=>Array.isArray(t)&&typeof t[0]=="number",VE={linear:Un,easeIn:IE,easeInOut:n1,easeOut:zE,circIn:qf,circInOut:t1,circOut:e1,backIn:Xf,backInOut:Jb,backOut:Qb,anticipate:Zb},UE=t=>typeof t=="string",ay=t=>{if(i1(t)){Gf(t.length===4);const[e,n,i,r]=t;return Ha(e,n,i,r)}else if(UE(t))return VE[t];return t},tc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $E(t,e){let n=new Set,i=new Set,r=!1,o=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){a.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,m=!1,g=!1)=>{const b=g&&r?n:i;return m&&a.add(f),b.has(f)||b.add(f),f},cancel:f=>{i.delete(f),a.delete(f)},process:f=>{if(c=f,r){o=!0;return}r=!0,[n,i]=[i,n],n.forEach(u),n.clear(),r=!1,o&&(o=!1,h.process(f))}};return h}const HE=40;function r1(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=tc.reduce((E,A)=>(E[A]=$E(o),E),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:m,preRender:g,render:v,postRender:b}=a,w=()=>{const E=Gi.useManualTiming?r.timestamp:performance.now();n=!1,Gi.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(E-r.timestamp,HE),1)),r.timestamp=E,r.isProcessing=!0,c.process(r),u.process(r),h.process(r),f.process(r),m.process(r),g.process(r),v.process(r),b.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(w))},C=()=>{n=!0,i=!0,r.isProcessing||t(w)};return{schedule:tc.reduce((E,A)=>{const D=a[A];return E[A]=(j,T=!1,R=!1)=>(n||C(),D.schedule(j,T,R)),E},{}),cancel:E=>{for(let A=0;A<tc.length;A++)a[tc[A]].cancel(E)},state:r,steps:a}}const{schedule:st,cancel:wi,state:Bt,steps:ch}=r1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0);let Mc;function WE(){Mc=void 0}const nn={now:()=>(Mc===void 0&&nn.set(Bt.isProcessing||Gi.useManualTiming?Bt.timestamp:performance.now()),Mc),set:t=>{Mc=t,queueMicrotask(WE)}},s1=t=>e=>typeof e=="string"&&e.startsWith(t),o1=s1("--"),GE=s1("var(--"),Qf=t=>GE(t)?YE.test(t.split("/*")[0].trim()):!1,YE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ly(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ao={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ma={...ao,transform:t=>bi(0,1,t)},nc={...ao,default:1},ha=t=>Math.round(t*1e5)/1e5,Jf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KE(t){return t==null}const XE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zf=(t,e)=>n=>!!(typeof n=="string"&&XE.test(n)&&n.startsWith(t)||e&&!KE(n)&&Object.prototype.hasOwnProperty.call(n,e)),a1=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,o,a,c]=i.match(Jf);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},qE=t=>bi(0,255,t),uh={...ao,transform:t=>Math.round(qE(t))},as={test:Zf("rgb","red"),parse:a1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+uh.transform(t)+", "+uh.transform(e)+", "+uh.transform(n)+", "+ha(Ma.transform(i))+")"};function QE(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Qh={test:Zf("#"),parse:QE,transform:as.transform},Wa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vr=Wa("deg"),yi=Wa("%"),ye=Wa("px"),JE=Wa("vh"),ZE=Wa("vw"),cy={...yi,parse:t=>yi.parse(t)/100,transform:t=>yi.transform(t*100)},qs={test:Zf("hsl","hue"),parse:a1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+yi.transform(ha(e))+", "+yi.transform(ha(n))+", "+ha(Ma.transform(i))+")"},_t={test:t=>as.test(t)||Qh.test(t)||qs.test(t),parse:t=>as.test(t)?as.parse(t):qs.test(t)?qs.parse(t):Qh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?as.transform(t):qs.transform(t),getAnimatableNone:t=>{const e=_t.parse(t);return e.alpha=0,_t.transform(e)}},eT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tT(t){return isNaN(t)&&typeof t=="string"&&(t.match(Jf)?.length||0)+(t.match(eT)?.length||0)>0}const l1="number",c1="color",nT="var",iT="var(",uy="${}",rT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ea(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const c=e.replace(rT,u=>(_t.test(u)?(i.color.push(o),r.push(c1),n.push(_t.parse(u))):u.startsWith(iT)?(i.var.push(o),r.push(nT),n.push(u)):(i.number.push(o),r.push(l1),n.push(parseFloat(u))),++o,uy)).split(uy);return{values:n,split:c,indexes:i,types:r}}function u1(t){return Ea(t).values}function d1(t){const{split:e,types:n}=Ea(t),i=e.length;return r=>{let o="";for(let a=0;a<i;a++)if(o+=e[a],r[a]!==void 0){const c=n[a];c===l1?o+=ha(r[a]):c===c1?o+=_t.transform(r[a]):o+=r[a]}return o}}const sT=t=>typeof t=="number"?0:_t.test(t)?_t.getAnimatableNone(t):t;function oT(t){const e=u1(t);return d1(t)(e.map(sT))}const Pr={test:tT,parse:u1,createTransformer:d1,getAnimatableNone:oT};function dh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aT({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,a=0;if(!e)r=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;r=dh(u,c,t+1/3),o=dh(u,c,t),a=dh(u,c,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:i}}function jc(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,hh=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},lT=[Qh,as,qs],cT=t=>lT.find(e=>e.test(t));function dy(t){const e=cT(t);if(!e)return!1;let n=e.parse(t);return e===qs&&(n=aT(n)),n}const hy=(t,e)=>{const n=dy(t),i=dy(e);if(!n||!i)return jc(t,e);const r={...n};return o=>(r.red=hh(n.red,i.red,o),r.green=hh(n.green,i.green,o),r.blue=hh(n.blue,i.blue,o),r.alpha=pt(n.alpha,i.alpha,o),as.transform(r))},Jh=new Set(["none","hidden"]);function uT(t,e){return Jh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function dT(t,e){return n=>pt(t,e,n)}function ep(t){return typeof t=="number"?dT:typeof t=="string"?Qf(t)?jc:_t.test(t)?hy:pT:Array.isArray(t)?h1:typeof t=="object"?_t.test(t)?hy:hT:jc}function h1(t,e){const n=[...t],i=n.length,r=t.map((o,a)=>ep(o)(o,e[a]));return o=>{for(let a=0;a<i;a++)n[a]=r[a](o);return n}}function hT(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=ep(t[r])(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function fT(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const o=e.types[r],a=t.indexes[o][i[o]],c=t.values[a]??0;n[r]=c,i[o]++}return n}const pT=(t,e)=>{const n=Pr.createTransformer(e),i=Ea(t),r=Ea(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Jh.has(t)&&!r.values.length||Jh.has(e)&&!i.values.length?uT(t,e):$a(h1(fT(i,r),r.values),n):jc(t,e)};function f1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):ep(t)(t,e)}const mT=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>st.update(e,n),stop:()=>wi(e),now:()=>Bt.isProcessing?Bt.timestamp:nn.now()}},p1=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)i+=Math.round(t(o/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Oc=2e4;function tp(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Oc;)e+=n,i=t.next(e);return e>=Oc?1/0:e}function gT(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(tp(i),Oc);return{type:"keyframes",ease:o=>i.next(r*o).value/e,duration:Vn(r)}}const yT=5;function m1(t,e,n){const i=Math.max(e-yT,0);return Yb(n-t(i),e-i)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fh=.001;function vT({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:i=vt.mass}){let r,o,a=1-e;a=bi(vt.minDamping,vt.maxDamping,a),t=bi(vt.minDuration,vt.maxDuration,Vn(t)),a<1?(r=h=>{const f=h*a,m=f*t,g=f-n,v=Zh(h,a),b=Math.exp(-m);return fh-g/v*b},o=h=>{const m=h*a*t,g=m*n+n,v=Math.pow(a,2)*Math.pow(h,2)*t,b=Math.exp(-m),w=Zh(Math.pow(h,2),a);return(-r(h)+fh>0?-1:1)*((g-v)*b)/w}):(r=h=>{const f=Math.exp(-h*t),m=(h-n)*t+1;return-fh+f*m},o=h=>{const f=Math.exp(-h*t),m=(n-h)*(t*t);return f*m});const c=5/t,u=bT(r,o,c);if(t=Hi(t),isNaN(u))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const h=Math.pow(u,2)*i;return{stiffness:h,damping:a*2*Math.sqrt(i*h),duration:t}}}const xT=12;function bT(t,e,n){let i=n;for(let r=1;r<xT;r++)i=i-t(i)/e(i);return i}function Zh(t,e){return t*Math.sqrt(1-e*e)}const wT=["duration","bounce"],ST=["stiffness","damping","mass"];function fy(t,e){return e.some(n=>t[n]!==void 0)}function CT(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!fy(t,ST)&&fy(t,wT))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*bi(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:vt.mass,stiffness:r,damping:o}}else{const n=vT(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function Fc(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:u,damping:h,mass:f,duration:m,velocity:g,isResolvedFromDuration:v}=CT({...n,velocity:-Vn(n.velocity||0)}),b=g||0,w=h/(2*Math.sqrt(u*f)),C=a-o,_=Vn(Math.sqrt(u/f)),P=Math.abs(C)<5;i||(i=P?vt.restSpeed.granular:vt.restSpeed.default),r||(r=P?vt.restDelta.granular:vt.restDelta.default);let E;if(w<1){const D=Zh(_,w);E=j=>{const T=Math.exp(-w*_*j);return a-T*((b+w*_*C)/D*Math.sin(D*j)+C*Math.cos(D*j))}}else if(w===1)E=D=>a-Math.exp(-_*D)*(C+(b+_*C)*D);else{const D=_*Math.sqrt(w*w-1);E=j=>{const T=Math.exp(-w*_*j),R=Math.min(D*j,300);return a-T*((b+w*_*C)*Math.sinh(R)+D*C*Math.cosh(R))/D}}const A={calculatedDuration:v&&m||null,next:D=>{const j=E(D);if(v)c.done=D>=m;else{let T=D===0?b:0;w<1&&(T=D===0?Hi(b):m1(E,D,j));const R=Math.abs(T)<=i,V=Math.abs(a-j)<=r;c.done=R&&V}return c.value=c.done?a:j,c},toString:()=>{const D=Math.min(tp(A),Oc),j=p1(T=>A.next(D*T).value,D,30);return D+"ms "+j},toTransition:()=>{}};return A}Fc.applyToOptions=t=>{const e=gT(t,100,Fc);return t.ease=e.ease,t.duration=Hi(e.duration),t.type="keyframes",t};function ef({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:u,restDelta:h=.5,restSpeed:f}){const m=t[0],g={done:!1,value:m},v=R=>c!==void 0&&R<c||u!==void 0&&R>u,b=R=>c===void 0?u:u===void 0||Math.abs(c-R)<Math.abs(u-R)?c:u;let w=n*e;const C=m+w,_=a===void 0?C:a(C);_!==C&&(w=_-m);const P=R=>-w*Math.exp(-R/i),E=R=>_+P(R),A=R=>{const V=P(R),I=E(R);g.done=Math.abs(V)<=h,g.value=g.done?_:I};let D,j;const T=R=>{v(g.value)&&(D=R,j=Fc({keyframes:[g.value,b(g.value)],velocity:m1(E,R,g.value),damping:r,stiffness:o,restDelta:h,restSpeed:f}))};return T(0),{calculatedDuration:null,next:R=>{let V=!1;return!j&&D===void 0&&(V=!0,A(R),T(R)),D!==void 0&&R>=D?j.next(R-D):(!V&&A(R),g)}}}function kT(t,e,n){const i=[],r=n||Gi.mix||f1,o=t.length-1;for(let a=0;a<o;a++){let c=r(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Un:e;c=$a(u,c)}i.push(c)}return i}function g1(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(Gf(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=kT(e,i,r),u=c.length,h=f=>{if(a&&f<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const g=_a(t[m],t[m+1],f);return c[m](g)};return n?f=>h(bi(t[0],t[o-1],f)):h}function _T(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=_a(0,e,i);t.push(pt(n,1,r))}}function MT(t){const e=[0];return _T(e,t.length-1),e}function ET(t,e){return t.map(n=>n*e)}function TT(t,e){return t.map(()=>e||n1).splice(0,t.length-1)}function fa({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=BE(i)?i.map(ay):ay(i),o={done:!1,value:e[0]},a=ET(n&&n.length===e.length?n:MT(e),t),c=g1(a,e,{ease:Array.isArray(r)?r:TT(e,r)});return{calculatedDuration:t,next:u=>(o.value=c(u),o.done=u>=t,o)}}const PT=t=>t!==null;function np(t,{repeat:e,repeatType:n="loop"},i,r=1){const o=t.filter(PT),c=r<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||i===void 0?o[c]:i}const DT={decay:ef,inertia:ef,tween:fa,keyframes:fa,spring:Fc};function y1(t){typeof t.type=="string"&&(t.type=DT[t.type])}class ip{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const RT=t=>t/100;class rp extends ip{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==nn.now()&&this.tick(nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;y1(e);const{type:n=fa,repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=e;let{keyframes:c}=e;const u=n||fa;u!==fa&&typeof c[0]!="number"&&(this.mixKeyframes=$a(RT,f1(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=tp(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:v,type:b,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?_<0:_>r;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let E=this.currentTime,A=i;if(m){const R=Math.min(this.currentTime,r)/c;let V=Math.floor(R),I=R%1;!I&&R>=1&&(I=1),I===1&&V--,V=Math.min(V,m+1),V%2&&(g==="reverse"?(I=1-I,v&&(I-=v/c)):g==="mirror"&&(A=a)),E=bi(0,1,I)*c}const D=P?{done:!1,value:f[0]}:A.next(E);o&&(D.value=o(D.value));let{done:j}=D;!P&&u!==null&&(j=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return T&&b!==ef&&(D.value=np(f,this.options,C,this.speed)),w&&w(D.value),T&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Vn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vn(e)}get time(){return Vn(this.currentTime)}set time(e){e=Hi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=mT,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function AT(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ls=t=>t*180/Math.PI,tf=t=>{const e=ls(Math.atan2(t[1],t[0]));return nf(e)},LT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tf,rotateZ:tf,skewX:t=>ls(Math.atan(t[1])),skewY:t=>ls(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nf=t=>(t=t%360,t<0&&(t+=360),t),py=tf,my=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gy=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),NT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:my,scaleY:gy,scale:t=>(my(t)+gy(t))/2,rotateX:t=>nf(ls(Math.atan2(t[6],t[5]))),rotateY:t=>nf(ls(Math.atan2(-t[2],t[0]))),rotateZ:py,rotate:py,skewX:t=>ls(Math.atan(t[4])),skewY:t=>ls(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function rf(t){return t.includes("scale")?1:0}function sf(t,e){if(!t||t==="none")return rf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=NT,r=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=LT,r=c}if(!r)return rf(e);const o=i[e],a=r[1].split(",").map(OT);return typeof o=="function"?o(a):a[o]}const jT=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sf(n,e)};function OT(t){return parseFloat(t.trim())}const lo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(lo),yy=t=>t===ao||t===ye,FT=new Set(["x","y","z"]),IT=lo.filter(t=>!FT.has(t));function zT(t){const e=[];return IT.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Sr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sf(e,"x"),y:(t,{transform:e})=>sf(e,"y")};Sr.translateX=Sr.x;Sr.translateY=Sr.y;const us=new Set;let of=!1,af=!1,lf=!1;function v1(){if(af){const t=Array.from(us).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=zT(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,a])=>{i.getValue(o)?.set(a)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}af=!1,of=!1,us.forEach(t=>t.complete(lf)),us.clear()}function x1(){us.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(af=!0)})}function BT(){lf=!0,x1(),v1(),lf=!1}class sp{constructor(e,n,i,r,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(us.add(this),of||(of=!0,st.read(x1),st.resolveKeyframes(v1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const o=r?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const c=i.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}AT(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),us.delete(this)}cancel(){this.state==="scheduled"&&(us.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VT=t=>t.startsWith("--");function UT(t,e,n){VT(e)?t.style.setProperty(e,n):t.style[e]=n}const $T=Yf(()=>window.ScrollTimeline!==void 0),HT={};function WT(t,e){const n=Yf(t);return()=>HT[e]??n()}const b1=WT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ra=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,vy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ra([0,.65,.55,1]),circOut:ra([.55,0,1,.45]),backIn:ra([.31,.01,.66,-.59]),backOut:ra([.33,1.53,.69,.99])};function w1(t,e){if(t)return typeof t=="function"?b1()?p1(t,e):"ease-out":i1(t)?ra(t):Array.isArray(t)?t.map(n=>w1(n,e)||vy.easeOut):vy[t]}function GT(t,e,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:a="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[e]:n};u&&(f.offset=u);const m=w1(c,r);Array.isArray(m)&&(f.easing=m);const g={delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(f,g)}function S1(t){return typeof t=="function"&&"applyToOptions"in t}function YT({type:t,...e}){return S1(t)&&b1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class KT extends ip{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,Gf(typeof e.type!="string");const h=YT(e);this.animation=GT(n,i,r,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=np(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):UT(n,i,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Vn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vn(e)}get time(){return Vn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Hi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$T()?(this.animation.timeline=e,Un):n(this)}}const C1={anticipate:Zb,backInOut:Jb,circInOut:t1};function XT(t){return t in C1}function qT(t){typeof t.ease=="string"&&XT(t.ease)&&(t.ease=C1[t.ease])}const ph=10;class QT extends KT{constructor(e){qT(e),y1(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new rp({...a,autoplay:!1}),u=Math.max(ph,nn.now()-this.startTime),h=bi(0,ph,u-ph);n.setWithVelocity(c.sample(Math.max(0,u-h)).value,c.sample(u).value,h),c.stop()}}const xy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pr.test(t)||t==="0")&&!t.startsWith("url("));function JT(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ZT(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=xy(r,e),c=xy(o,e);return!a||!c?!1:JT(t)||(n==="spring"||S1(n))&&i}function cf(t){t.duration=0,t.type="keyframes"}const eP=new Set(["opacity","clipPath","filter","transform"]),tP=Yf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nP(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:o,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return tP()&&n&&eP.has(n)&&(n!=="transform"||!h)&&!u&&!i&&r!=="mirror"&&o!==0&&a!=="inertia"}const iP=40;class rP extends ip{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",keyframes:c,name:u,motionValue:h,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=nn.now();const g={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:a,name:u,motionValue:h,element:f,...m},v=f?.KeyframeResolver||sp;this.keyframeResolver=new v(c,(b,w,C)=>this.onKeyframesResolved(b,w,g,!C),u,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:o,type:a,velocity:c,delay:u,isHandoff:h,onUpdate:f}=i;this.resolvedAt=nn.now(),ZT(e,o,a,c)||((Gi.instantAnimations||!u)&&f?.(np(e,i,n)),e[0]=e[e.length-1],cf(i),i.repeat=0);const g={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>iP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},v=!h&&nP(g)?new QT({...g,element:g.motionValue.owner.current}):new rp(g);v.finished.then(()=>this.notifyFinished()).catch(Un),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),BT()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const sP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oP(t){const e=sP.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function k1(t,e,n=1){const[i,r]=oP(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const a=o.trim();return Hb(a)?parseFloat(a):a}return Qf(r)?k1(r,e,n+1):r}function op(t,e){return t?.[e]??t?.default??t}const aP={type:"spring",stiffness:500,damping:25,restSpeed:10},lP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cP={type:"keyframes",duration:.8},uP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dP=(t,{keyframes:e})=>e.length>2?cP:co.has(t)?t.startsWith("scale")?lP(e[1]):aP:uP;function hP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:a,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const fP=t=>t!==null;function pP(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(fP),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[o]}function _1(t,e,n,i=0,r=1){const o=Array.from(t).sort((h,f)=>h.sortNodePosition(f)).indexOf(e),a=t.size,c=(a-1)*i;return typeof n=="function"?n(o,a):r===1?o*i:c-o*i}const ap=(t,e,n,i={},r,o)=>a=>{const c=op(i,t)||{},u=c.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Hi(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:r};hP(c)||Object.assign(f,dP(t,f)),f.duration&&(f.duration=Hi(f.duration)),f.repeatDelay&&(f.repeatDelay=Hi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(cf(f),f.delay===0&&(m=!0)),(Gi.instantAnimations||Gi.skipAnimations)&&(m=!0,cf(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,m&&!o&&e.get()!==void 0){const g=pP(f.keyframes,c);if(g!==void 0){st.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new rp(f):new rP(f)},M1=new Set(["width","height","top","left","right","bottom",...lo]),by=30,mP=t=>!isNaN(parseFloat(t)),pa={current:void 0};class gP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=nn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Kf);const i=this.events[e].add(n);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return pa.current&&pa.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>by)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,by);return Yb(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fs(t,e){return new gP(t,e)}function wy(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function lp(t,e,n,i){if(typeof e=="function"){const[r,o]=wy(i);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=wy(i);e=e(n!==void 0?n:t.custom,r,o)}return e}function to(t,e,n){const i=t.getProps();return lp(i,e,n!==void 0?n:i.custom,t)}const uf=t=>Array.isArray(t);function yP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fs(n))}function vP(t){return uf(t)?t[t.length-1]||0:t}function xP(t,e){const n=to(t,e);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const a in o){const c=vP(o[a]);yP(t,a,c)}}const Yt=t=>!!(t&&t.getVelocity);function bP(t){return!!(Yt(t)&&t.add)}function df(t,e){const n=t.getValue("willChange");if(bP(n))return n.add(e);if(!n&&Gi.WillChange){const i=new Gi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function cp(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const wP="framerAppearId",E1="data-"+cp(wP);function T1(t){return t.props[E1]}function SP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function P1(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;i&&(o=i);const u=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const f in c){const m=t.getValue(f,t.latestValues[f]??null),g=c[f];if(g===void 0||h&&SP(h,f))continue;const v={delay:n,...op(o||{},f)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===b&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const _=T1(t);if(_){const P=window.MotionHandoffAnimation(_,f,st);P!==null&&(v.startTime=P,w=!0)}}df(t,f),m.start(ap(f,m,g,t.shouldReduceMotion&&M1.has(f)?{type:!1}:v,t,w));const C=m.animation;C&&u.push(C)}return a&&Promise.all(u).then(()=>{st.update(()=>{a&&xP(t,a)})}),u}function hf(t,e,n={}){const i=to(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const o=i?()=>Promise.all(P1(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=r;return CP(t,e,u,h,f,m,n)}:()=>Promise.resolve(),{when:c}=r;if(c){const[u,h]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function CP(t,e,n=0,i=0,r=0,o=1,a){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(hf(u,e,{...a,delay:n+(typeof i=="function"?0:i)+_1(t.variantChildren,u,i,r,o)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function kP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>hf(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=hf(t,e,n);else{const r=typeof e=="function"?to(t,e,n.custom):e;i=Promise.all(P1(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const _P={test:t=>t==="auto",parse:t=>t},D1=t=>e=>e.test(t),R1=[ao,ye,yi,vr,ZE,JE,_P],Sy=t=>R1.find(D1(t));function MP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Gb(t):!0}const EP=new Set(["brightness","contrast","saturate","opacity"]);function TP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Jf)||[];if(!i)return t;const r=n.replace(i,"");let o=EP.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const PP=/\b([a-z-]*)\(.*?\)/gu,ff={...Pr,getAnimatableNone:t=>{const e=t.match(PP);return e?e.map(TP).join(" "):t}},Cy={...ao,transform:Math.round},DP={rotate:vr,rotateX:vr,rotateY:vr,rotateZ:vr,scale:nc,scaleX:nc,scaleY:nc,scaleZ:nc,skew:vr,skewX:vr,skewY:vr,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Ma,originX:cy,originY:cy,originZ:ye},up={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,inset:ye,insetBlock:ye,insetBlockStart:ye,insetBlockEnd:ye,insetInline:ye,insetInlineStart:ye,insetInlineEnd:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,paddingBlock:ye,paddingBlockStart:ye,paddingBlockEnd:ye,paddingInline:ye,paddingInlineStart:ye,paddingInlineEnd:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,marginBlock:ye,marginBlockStart:ye,marginBlockEnd:ye,marginInline:ye,marginInlineStart:ye,marginInlineEnd:ye,backgroundPositionX:ye,backgroundPositionY:ye,...DP,zIndex:Cy,fillOpacity:Ma,strokeOpacity:Ma,numOctaves:Cy},RP={...up,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:ff,WebkitFilter:ff},A1=t=>RP[t];function L1(t,e){let n=A1(t);return n!==ff&&(n=Pr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const AP=new Set(["auto","none","0"]);function LP(t,e,n){let i=0,r;for(;i<t.length&&!r;){const o=t[i];typeof o=="string"&&!AP.has(o)&&Ea(o).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=L1(n,r)}class NP extends sp{constructor(e,n,i,r,o){super(e,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Qf(m))){const g=k1(m,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!M1.has(i)||e.length!==2)return;const[r,o]=e,a=Sy(r),c=Sy(o),u=ly(r),h=ly(o);if(u!==h&&Sr[i]){this.needsMeasurement=!0;return}if(a!==c)if(yy(a)&&yy(c))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Sr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||MP(e[r]))&&i.push(r);i.length&&LP(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Sr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function jP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const N1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function j1(t){return Wb(t)&&"offsetHeight"in t}const{schedule:dp}=r1(queueMicrotask,!1),ni={x:!1,y:!1};function O1(){return ni.x||ni.y}function OP(t){return t==="x"||t==="y"?ni[t]?null:(ni[t]=!0,()=>{ni[t]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}function F1(t,e){const n=jP(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function ky(t){return!(t.pointerType==="touch"||O1())}function FP(t,e,n={}){const[i,r,o]=F1(t,n),a=c=>{if(!ky(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const f=m=>{ky(m)&&(h(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,r)};return i.forEach(c=>{c.addEventListener("pointerenter",a,r)}),o}const I1=(t,e)=>e?t===e?!0:I1(t,e.parentElement):!1,hp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,IP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z1(t){return IP.has(t.tagName)||t.isContentEditable===!0}const Ec=new WeakSet;function _y(t){return e=>{e.key==="Enter"&&t(e)}}function mh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zP=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=_y(()=>{if(Ec.has(n))return;mh(n,"down");const r=_y(()=>{mh(n,"up")}),o=()=>mh(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function My(t){return hp(t)&&!O1()}function BP(t,e,n={}){const[i,r,o]=F1(t,n),a=c=>{const u=c.currentTarget;if(!My(c))return;Ec.add(u);const h=e(u,c),f=(v,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),Ec.has(u)&&Ec.delete(u),My(v)&&typeof h=="function"&&h(v,{success:b})},m=v=>{f(v,u===window||u===document||n.useGlobalTarget||I1(u,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",g,r)};return i.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,r),j1(c)&&(c.addEventListener("focus",h=>zP(h,r)),!z1(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function B1(t){return Wb(t)&&"ownerSVGElement"in t}function VP(t){return B1(t)&&t.tagName==="svg"}function UP(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],r=t[1+n],o=t[2+n],a=t[3+n],c=g1(r,o,a);return e?c(i):c}const $P=[...R1,_t,Pr],HP=t=>$P.find(D1(t)),Ey=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qs=()=>({x:Ey(),y:Ey()}),Ty=()=>({min:0,max:0}),Pt=()=>({x:Ty(),y:Ty()}),pf={current:null},V1={current:!1},WP=typeof window<"u";function GP(){if(V1.current=!0,!!WP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pf.current=t.matches;t.addEventListener("change",e),e()}else pf.current=!1}const YP=new WeakMap;function nu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ta(t){return typeof t=="string"||Array.isArray(t)}const fp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pp=["initial",...fp];function iu(t){return nu(t.animate)||pp.some(e=>Ta(t[e]))}function U1(t){return!!(iu(t)||t.variants)}function KP(t,e,n){for(const i in e){const r=e[i],o=n[i];if(Yt(r))t.addValue(i,r);else if(Yt(o))t.addValue(i,fs(r,{owner:t}));else if(o!==r)if(t.hasValue(i)){const a=t.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(i);t.addValue(i,fs(a!==void 0?a:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Py=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ic={};function $1(t){Ic=t}function XP(){return Ic}class qP{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=nn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,st.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=iu(n),this.isVariantNode=U1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const v=m[g];u[g]!==void 0&&Yt(v)&&v.set(u[g])}}mount(e){this.current=e,YP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(V1.current||GP(),this.shouldReduceMotion=pf.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=co.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&st.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ic){const n=Ic[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Py.length;i++){const r=Py[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,a=e[o];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=KP(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=fs(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Hb(i)||Gb(i))?i=parseFloat(i):!HP(i)&&Pr.test(n)&&(i=L1(e,n)),this.setBaseTarget(e,Yt(i)?i.get():i)),Yt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=lp(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Yt(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Kf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){dp.render(this.render)}}class Rr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class H1 extends qP{constructor(){super(...arguments),this.KeyframeResolver=NP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function W1({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function QP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function gh(t){return t===void 0||t===1}function mf({scale:t,scaleX:e,scaleY:n}){return!gh(t)||!gh(e)||!gh(n)}function ns(t){return mf(t)||G1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function G1(t){return Dy(t.x)||Dy(t.y)}function Dy(t){return t&&t!=="0%"}function zc(t,e,n){const i=t-n,r=e*i;return n+r}function Ry(t,e,n,i,r){return r!==void 0&&(t=zc(t,r,i)),zc(t,n,i)+e}function gf(t,e=0,n=1,i,r){t.min=Ry(t.min,e,n,i,r),t.max=Ry(t.max,e,n,i,r)}function Y1(t,{x:e,y:n}){gf(t.x,e.translate,e.scale,e.originPoint),gf(t.y,n.translate,n.scale,n.originPoint)}const Ay=.999999999999,Ly=1.0000000000001;function ZP(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,a;for(let c=0;c<r;c++){o=n[c],a=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Zs(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Y1(t,a)),i&&ns(o.latestValues)&&Zs(t,o.latestValues))}e.x<Ly&&e.x>Ay&&(e.x=1),e.y<Ly&&e.y>Ay&&(e.y=1)}function Js(t,e){t.min=t.min+e,t.max=t.max+e}function Ny(t,e,n,i,r=.5){const o=pt(t.min,t.max,r);gf(t,e,n,o,i)}function Zs(t,e){Ny(t.x,e.x,e.scaleX,e.scale,e.originX),Ny(t.y,e.y,e.scaleY,e.scale,e.originY)}function K1(t,e){return W1(JP(t.getBoundingClientRect(),e))}function eD(t,e,n){const i=K1(t,n),{scroll:r}=e;return r&&(Js(i.x,r.offset.x),Js(i.y,r.offset.y)),i}const tD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nD=lo.length;function iD(t,e,n){let i="",r=!0;for(let o=0;o<nD;o++){const a=lo[o],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=N1(c,up[a]);if(!u){r=!1;const f=tD[a]||a;i+=`${f}(${h}) `}n&&(e[a]=h)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function mp(t,e,n){const{style:i,vars:r,transformOrigin:o}=t;let a=!1,c=!1;for(const u in e){const h=e[u];if(co.has(u)){a=!0;continue}else if(o1(u)){r[u]=h;continue}else{const f=N1(h,up[u]);u.startsWith("origin")?(c=!0,o[u]=f):i[u]=f}}if(e.transform||(a||n?i.transform=iD(e,t.transform,n):i.transform&&(i.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=o;i.transformOrigin=`${u} ${h} ${f}`}}function X1(t,{style:e,vars:n},i,r){const o=t.style;let a;for(a in e)o[a]=e[a];r?.applyProjectionStyles(o,i);for(a in n)o.setProperty(a,n[a])}function jy(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=jy(t,e.target.x),i=jy(t,e.target.y);return`${n}% ${i}%`}},rD={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Pr.parse(t);if(r.length>5)return i;const o=Pr.createTransformer(t),a=typeof r[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;r[0+a]/=c,r[1+a]/=u;const h=pt(c,u,.5);return typeof r[2+a]=="number"&&(r[2+a]/=h),typeof r[3+a]=="number"&&(r[3+a]/=h),o(r)}},yf={borderRadius:{...qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qo,borderTopRightRadius:qo,borderBottomLeftRadius:qo,borderBottomRightRadius:qo,boxShadow:rD};function q1(t,{layout:e,layoutId:n}){return co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yf[t]||t==="opacity")}function gp(t,e,n){const i=t.style,r=e?.style,o={};if(!i)return o;for(const a in i)(Yt(i[a])||r&&Yt(r[a])||q1(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(o[a]=i[a]);return o}function sD(t){return window.getComputedStyle(t)}class oD extends H1{constructor(){super(...arguments),this.type="html",this.renderInstance=X1}readValueFromInstance(e,n){if(co.has(n))return this.projection?.isProjecting?rf(n):jT(e,n);{const i=sD(e),r=(o1(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return K1(e,n)}build(e,n,i){mp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return gp(e,n,i)}}const aD={offset:"stroke-dashoffset",array:"stroke-dasharray"},lD={offset:"strokeDashoffset",array:"strokeDasharray"};function cD(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?aD:lD;t[o.offset]=ye.transform(-i);const a=ye.transform(e),c=ye.transform(n);t[o.array]=`${a} ${c}`}const uD=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Q1(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:o=1,pathOffset:a=0,...c},u,h,f){if(mp(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete m.transformBox);for(const v of uD)m[v]!==void 0&&(g[v]=m[v],delete m[v]);e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),i!==void 0&&(m.scale=i),r!==void 0&&cD(m,r,o,a,!1)}const J1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Z1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dD(t,e,n,i){X1(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(J1.has(r)?r:cp(r),e.attrs[r])}function ew(t,e,n){const i=gp(t,e,n);for(const r in t)if(Yt(t[r])||Yt(e[r])){const o=lo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=t[r]}return i}class hD extends H1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(co.has(n)){const i=A1(n);return i&&i.default||0}return n=J1.has(n)?n:cp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return ew(e,n,i)}build(e,n,i){Q1(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){dD(e,n,i,r)}mount(e){this.isSVGTag=Z1(e.tagName),super.mount(e)}}const fD=pp.length;function tw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?tw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fD;n++){const i=pp[n],r=t.props[i];(Ta(r)||r===!1)&&(e[i]=r)}return e}function nw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const pD=[...fp].reverse(),mD=fp.length;function gD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>kP(t,n,i)))}function yD(t){let e=gD(t),n=Oy(),i=!0;const r=u=>(h,f)=>{const m=to(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:g,transitionEnd:v,...b}=m;h={...h,...b,...v}}return h};function o(u){e=u(t)}function a(u){const{props:h}=t,f=tw(t.parent)||{},m=[],g=new Set;let v={},b=1/0;for(let C=0;C<mD;C++){const _=pD[C],P=n[_],E=h[_]!==void 0?h[_]:f[_],A=Ta(E),D=_===u?P.isActive:null;D===!1&&(b=C);let j=E===f[_]&&E!==h[_]&&A;if(j&&i&&t.manuallyAnimateOnMount&&(j=!1),P.protectedKeys={...v},!P.isActive&&D===null||!E&&!P.prevProp||nu(E)||typeof E=="boolean")continue;const T=vD(P.prevProp,E);let R=T||_===u&&P.isActive&&!j&&A||C>b&&A,V=!1;const I=Array.isArray(E)?E:[E];let G=I.reduce(r(_),{});D===!1&&(G={});const{prevResolvedValues:X={}}=P,oe={...X,...G},J=ee=>{R=!0,g.has(ee)&&(V=!0,g.delete(ee)),P.needsAnimating[ee]=!0;const $=t.getValue(ee);$&&($.liveStyle=!1)};for(const ee in oe){const $=G[ee],Z=X[ee];if(v.hasOwnProperty(ee))continue;let Q=!1;uf($)&&uf(Z)?Q=!nw($,Z):Q=$!==Z,Q?$!=null?J(ee):g.add(ee):$!==void 0&&g.has(ee)?J(ee):P.protectedKeys[ee]=!0}P.prevProp=E,P.prevResolvedValues=G,P.isActive&&(v={...v,...G}),i&&t.blockInitialAnimation&&(R=!1);const te=j&&T;R&&(!te||V)&&m.push(...I.map(ee=>{const $={type:_};if(typeof ee=="string"&&i&&!te&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,Q=to(Z,ee);if(Z.enteringChildren&&Q){const{delayChildren:O}=Q.transition||{};$.delay=_1(Z.enteringChildren,t,O)}}return{animation:ee,options:$}}))}if(g.size){const C={};if(typeof h.initial!="boolean"){const _=to(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(C.transition=_.transition)}g.forEach(_=>{const P=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),C[_]=P??null}),m.push({animation:C})}let w=!!m.length;return i&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(m):Promise.resolve()}function c(u,h){if(n[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(u,h)),n[u].isActive=h;const f=a(u);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Oy()}}}function vD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nw(e,t):!1}function Jr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Oy(){return{animate:Jr(!0),whileInView:Jr(),whileHover:Jr(),whileTap:Jr(),whileDrag:Jr(),whileFocus:Jr(),exit:Jr()}}const iw=1e-4,xD=1-iw,bD=1+iw,rw=.01,wD=0-rw,SD=0+rw;function rn(t){return t.max-t.min}function CD(t,e,n){return Math.abs(t-e)<=n}function Fy(t,e,n,i=.5){t.origin=i,t.originPoint=pt(e.min,e.max,t.origin),t.scale=rn(n)/rn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xD&&t.scale<=bD||isNaN(t.scale))&&(t.scale=1),(t.translate>=wD&&t.translate<=SD||isNaN(t.translate))&&(t.translate=0)}function ma(t,e,n,i){Fy(t.x,e.x,n.x,i?i.originX:void 0),Fy(t.y,e.y,n.y,i?i.originY:void 0)}function Iy(t,e,n){t.min=n.min+e.min,t.max=t.min+rn(e)}function kD(t,e,n){Iy(t.x,e.x,n.x),Iy(t.y,e.y,n.y)}function zy(t,e,n){t.min=e.min-n.min,t.max=t.min+rn(e)}function Bc(t,e,n){zy(t.x,e.x,n.x),zy(t.y,e.y,n.y)}function By(t,e,n,i,r){return t-=e,t=zc(t,1/n,i),r!==void 0&&(t=zc(t,1/r,i)),t}function _D(t,e=0,n=1,i=.5,r,o=t,a=t){if(yi.test(e)&&(e=parseFloat(e),e=pt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=pt(o.min,o.max,i);t===o&&(c-=e),t.min=By(t.min,e,n,c,r),t.max=By(t.max,e,n,c,r)}function Vy(t,e,[n,i,r],o,a){_D(t,e[n],e[i],e[r],e.scale,o,a)}const MD=["x","scaleX","originX"],ED=["y","scaleY","originY"];function Uy(t,e,n,i){Vy(t.x,e,MD,n?n.x:void 0,i?i.x:void 0),Vy(t.y,e,ED,n?n.y:void 0,i?i.y:void 0)}function $y(t,e){t.min=e.min,t.max=e.max}function ti(t,e){$y(t.x,e.x),$y(t.y,e.y)}function Hy(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Wy(t){return t.translate===0&&t.scale===1}function sw(t){return Wy(t.x)&&Wy(t.y)}function Gy(t,e){return t.min===e.min&&t.max===e.max}function TD(t,e){return Gy(t.x,e.x)&&Gy(t.y,e.y)}function Yy(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ow(t,e){return Yy(t.x,e.x)&&Yy(t.y,e.y)}function Ky(t){return rn(t.x)/rn(t.y)}function Xy(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function zn(t){return[t("x"),t("y")]}function PD(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y,a=n?.z||0;if((r||o||a)&&(i=`translate3d(${r}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:g,skewX:v,skewY:b}=n;h&&(i=`perspective(${h}px) ${i}`),f&&(i+=`rotate(${f}deg) `),m&&(i+=`rotateX(${m}deg) `),g&&(i+=`rotateY(${g}deg) `),v&&(i+=`skewX(${v}deg) `),b&&(i+=`skewY(${b}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(i+=`scale(${c}, ${u})`),i||"none"}const aw=["TopLeft","TopRight","BottomLeft","BottomRight"],DD=aw.length,qy=t=>typeof t=="string"?parseFloat(t):t,Qy=t=>typeof t=="number"||ye.test(t);function RD(t,e,n,i,r,o){r?(t.opacity=pt(0,n.opacity??1,AD(i)),t.opacityExit=pt(e.opacity??1,0,LD(i))):o&&(t.opacity=pt(e.opacity??1,n.opacity??1,i));for(let a=0;a<DD;a++){const c=`border${aw[a]}Radius`;let u=Jy(e,c),h=Jy(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Qy(u)===Qy(h)?(t[c]=Math.max(pt(qy(u),qy(h),i),0),(yi.test(h)||yi.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,i))}function Jy(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const AD=lw(0,.5,e1),LD=lw(.5,.95,Un);function lw(t,e,n){return i=>i<t?0:i>e?1:n(_a(t,e,i))}function ND(t,e){const n=nn.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(wi(i),t(o-e))};return st.setup(i,!0),()=>wi(i)}function Pa(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Tc(t){return Yt(t)?t.get():t}function jD(t,e,n){const i=Yt(t)?t:fs(t);return i.start(ap("",i,e,n)),i.animation}const OD=(t,e)=>t.depth-e.depth;class FD{constructor(){this.children=[],this.isDirty=!1}add(e){Hf(this.children,e),this.isDirty=!0}remove(e){Wf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OD),this.isDirty=!1,this.children.forEach(e)}}class ID{constructor(){this.members=[]}add(e){Hf(this.members,e),e.scheduleRender()}remove(e){if(Wf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Pc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},yh=["","X","Y","Z"],zD=1e3;let BD=0;function vh(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function cw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=T1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(r||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&cw(i)}function uw({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},c=e?.()){this.id=BD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($D),this.nodes.forEach(YD),this.nodes.forEach(KD),this.nodes.forEach(HD)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new FD)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Kf),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=B1(a)&&!VP(a),this.instance=a;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;st.read(()=>{m=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,f&&f(),f=ND(g,250),Pc.hasAnimatedSinceResize&&(Pc.hasAnimatedSinceResize=!1,this.nodes.forEach(tv)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||ZD,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=h.getProps(),_=!this.targetLayout||!ow(this.targetLayout,v),P=!m&&g;if(this.options.layoutRoot||this.resumeFrom||P||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...op(b,"layout"),onPlay:w,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,P)}else m||tv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XD),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ev);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GD),this.nodes.forEach(VD),this.nodes.forEach(UD)):this.nodes.forEach(ev),this.clearAllSnapshots();const c=nn.now();Bt.delta=bi(0,1e3/60,c-Bt.timestamp),Bt.timestamp=c,Bt.isProcessing=!0,ch.update.process(Bt),ch.preRender.process(Bt),ch.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WD),this.sharedNodes.forEach(qD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rn(this.snapshot.measuredBox.x)&&!rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!sw(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;a&&this.instance&&(c||ns(this.latestValues)||f)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),eR(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Pt();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(tR))){const{scroll:h}=this.root;h&&(Js(c.x,h.offset.x),Js(c.y,h.offset.y))}return c}removeElementScroll(a){const c=Pt();if(ti(c,a),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&ti(c,a),Js(c.x,f.offset.x),Js(c.y,f.offset.y))}return c}applyTransform(a,c=!1){const u=Pt();ti(u,a);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Zs(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ns(f.latestValues)&&Zs(u,f.latestValues)}return ns(this.latestValues)&&Zs(u,this.latestValues),u}removeTransform(a){const c=Pt();ti(c,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!ns(h.latestValues))continue;mf(h.latestValues)&&h.updateSnapshot();const f=Pt(),m=h.measurePageBox();ti(f,m),Uy(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return ns(this.latestValues)&&Uy(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=Bt.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),Y1(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||mf(this.parent.latestValues)||G1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,c,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Bc(this.relativeTargetOrigin,c,u),ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;ti(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;ZP(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Pt());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hy(this.prevProjectionDelta.x,this.projectionDelta.x),Hy(this.prevProjectionDelta.y,this.projectionDelta.y)),ma(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!Xy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qs(),this.projectionDelta=Qs(),this.projectionDeltaWithTransform=Qs()}setAnimationOrigin(a,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},m=Qs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Pt(),v=u?u.source:void 0,b=this.layout?this.layout.source:void 0,w=v!==b,C=this.getStack(),_=!C||C.members.length<=1,P=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(JD));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const D=A/1e3;nv(m.x,a.x,D),nv(m.y,a.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QD(this.relativeTarget,this.relativeTargetOrigin,g,D),E&&TD(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Pt()),ti(E,this.relativeTarget)),w&&(this.animationValues=f,RD(f,h,this.latestValues,D,P,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Pc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fs(0)),this.currentAnimation=jD(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=a;if(!(!c||!u||!h)){if(this!==a&&this.layout&&h&&dw(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Pt();const m=rn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const g=rn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}ti(c,u),Zs(c,f),ma(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ID),this.sharedNodes.get(a).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&vh("z",a,h,this.animationValues);for(let f=0;f<yh.length;f++)vh(`rotate${yh[f]}`,a,h,this.animationValues),vh(`skew${yh[f]}`,a,h,this.animationValues);a.render();for(const f in h)a.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Tc(c?.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Tc(c?.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=PD(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),a.transform=m;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?a.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in yf){if(f[b]===void 0)continue;const{correct:w,applyTo:C,isCSSVariable:_}=yf[b],P=m==="none"?f[b]:w(f[b],h);if(C){const E=C.length;for(let A=0;A<E;A++)a[C[A]]=P}else _?this.options.visualElement.renderState.vars[b]=P:a[b]=P}this.options.layoutId&&(a.pointerEvents=h===this?Tc(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(Zy),this.root.sharedNodes.clear()}}}function VD(t){t.updateLayout()}function UD(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,o=e.source!==t.layout.source;r==="size"?zn(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],g=rn(m);m.min=n[f].min,m.max=m.min+g}):dw(r,e.layoutBox,n)&&zn(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],g=rn(n[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Qs();ma(a,n,e.layoutBox);const c=Qs();o?ma(c,t.applyTransform(i,!0),e.measuredBox):ma(c,n,e.layoutBox);const u=!sw(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const v=Pt();Bc(v,e.layoutBox,m.layoutBox);const b=Pt();Bc(b,n,g.layoutBox),ow(v,b)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function $D(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function HD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WD(t){t.clearSnapshot()}function Zy(t){t.clearMeasurements()}function ev(t){t.isLayoutDirty=!1}function GD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function YD(t){t.resolveTargetDelta()}function KD(t){t.calcProjection()}function XD(t){t.resetSkewAndRotation()}function qD(t){t.removeLeadSnapshot()}function nv(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iv(t,e,n,i){t.min=pt(e.min,n.min,i),t.max=pt(e.max,n.max,i)}function QD(t,e,n,i){iv(t.x,e.x,n.x,i),iv(t.y,e.y,n.y,i)}function JD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ZD={duration:.45,ease:[.4,0,.1,1]},rv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sv=rv("applewebkit/")&&!rv("chrome/")?Math.round:Un;function ov(t){t.min=sv(t.min),t.max=sv(t.max)}function eR(t){ov(t.x),ov(t.y)}function dw(t,e,n){return t==="position"||t==="preserve-aspect"&&!CD(Ky(e),Ky(n),.2)}function tR(t){return t!==t.root&&t.scroll?.wasRoot}const nR=uw({attachResizeListener:(t,e)=>Pa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xh={current:void 0},hw=uw({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xh.current){const t=new nR({});t.mount(window),t.setOptions({layoutScroll:!0}),xh.current=t}return xh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ga=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function av(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iR(...t){return e=>{let n=!1;const i=t.map(r=>{const o=av(r,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let r=0;r<i.length;r++){const o=i[r];typeof o=="function"?o():av(t[r],null)}}}}function rR(...t){return M.useCallback(iR(...t),t)}class sR extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=j1(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oR({children:t,isPresent:e,anchorX:n,root:i}){const r=M.useId(),o=M.useRef(null),a=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=M.useContext(Ga),u=t.props?.ref??t?.ref,h=rR(o,u);return M.useInsertionEffect(()=>{const{width:f,height:m,top:g,left:v,right:b}=a.current;if(e||!o.current||!f||!m)return;const w=n==="left"?`left: ${v}`:`right: ${b}`;o.current.dataset.motionPopId=r;const C=document.createElement("style");c&&(C.nonce=c);const _=i??document.head;return _.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{_.contains(C)&&_.removeChild(C)}},[e]),S.jsx(sR,{isPresent:e,childRef:o,sizeRef:a,children:M.cloneElement(t,{ref:h})})}const aR=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:a,anchorX:c,root:u})=>{const h=Ua(lR),f=M.useId();let m=!0,g=M.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:r,onExitComplete:v=>{h.set(v,!0);for(const b of h.values())if(!b)return;i&&i()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,i]);return o&&m&&(g={...g}),M.useMemo(()=>{h.forEach((v,b)=>h.set(b,!1))},[n]),M.useEffect(()=>{!n&&!h.size&&i&&i()},[n]),a==="popLayout"&&(t=S.jsx(oR,{isPresent:n,anchorX:c,root:u,children:t})),S.jsx(tu.Provider,{value:g,children:t})};function lR(){return new Map}function fw(t=!0){const e=M.useContext(tu);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,o=M.useId();M.useEffect(()=>{if(t)return r(o)},[t]);const a=M.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,a]:[!0]}const ic=t=>t.key||"";function lv(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const cR=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:a=!1,anchorX:c="left",root:u})=>{const[h,f]=fw(a),m=M.useMemo(()=>lv(t),[t]),g=a&&!h?[]:m.map(ic),v=M.useRef(!0),b=M.useRef(m),w=Ua(()=>new Map),C=M.useRef(new Set),[_,P]=M.useState(m),[E,A]=M.useState(m);$f(()=>{v.current=!1,b.current=m;for(let T=0;T<E.length;T++){const R=ic(E[T]);g.includes(R)?(w.delete(R),C.current.delete(R)):w.get(R)!==!0&&w.set(R,!1)}},[E,g.length,g.join("-")]);const D=[];if(m!==_){let T=[...m];for(let R=0;R<E.length;R++){const V=E[R],I=ic(V);g.includes(I)||(T.splice(R,0,V),D.push(V))}return o==="wait"&&D.length&&(T=D),A(lv(T)),P(m),null}const{forceRender:j}=M.useContext(Uf);return S.jsx(S.Fragment,{children:E.map(T=>{const R=ic(T),V=a&&!h?!1:m===E||g.includes(R),I=()=>{if(C.current.has(R))return;if(C.current.add(R),w.has(R))w.set(R,!0);else return;let G=!0;w.forEach(X=>{X||(G=!1)}),G&&(j?.(),A(b.current),a&&f?.(),i&&i())};return S.jsx(aR,{isPresent:V,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:o,root:u,onExitComplete:V?void 0:I,anchorX:c,children:T},R)})})},pw=M.createContext({strict:!1}),cv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let uv=!1;function uR(){if(uv)return;const t={};for(const e in cv)t[e]={isEnabled:n=>cv[e].some(i=>!!n[i])};$1(t),uv=!0}function mw(){return uR(),XP()}function dR(t){const e=mw();for(const n in t)e[n]={...e[n],...t[n]};$1(e)}const hR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hR.has(t)}let gw=t=>!Vc(t);function fR(t){typeof t=="function"&&(gw=e=>e.startsWith("on")?!Vc(e):t(e))}try{fR(require("@emotion/is-prop-valid").default)}catch{}function pR(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(gw(r)||n===!0&&Vc(r)||!e&&!Vc(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const ru=M.createContext({});function mR(t,e){if(iu(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Ta(n)?n:void 0,animate:Ta(i)?i:void 0}}return t.inherit!==!1?e:{}}function gR(t){const{initial:e,animate:n}=mR(t,M.useContext(ru));return M.useMemo(()=>({initial:e,animate:n}),[dv(e),dv(n)])}function dv(t){return Array.isArray(t)?t.join(" "):t}const yp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yw(t,e,n){for(const i in e)!Yt(e[i])&&!q1(i,n)&&(t[i]=e[i])}function yR({transformTemplate:t},e){return M.useMemo(()=>{const n=yp();return mp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vR(t,e){const n=t.style||{},i={};return yw(i,n,t),Object.assign(i,yR(t,e)),i}function xR(t,e){const n={},i=vR(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const vw=()=>({...yp(),attrs:{}});function bR(t,e,n,i){const r=M.useMemo(()=>{const o=vw();return Q1(o,e,Z1(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};yw(o,t.style,t),r.style={...o,...r.style}}return r}const wR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vp(t){return typeof t!="string"||t.includes("-")?!1:!!(wR.indexOf(t)>-1||/[A-Z]/u.test(t))}function SR(t,e,n,{latestValues:i},r,o=!1,a){const u=(a??vp(t)?bR:xR)(e,i,r,t),h=pR(e,typeof t=="string",o),f=t!==M.Fragment?{...h,...u,ref:n}:{},{children:m}=e,g=M.useMemo(()=>Yt(m)?m.get():m,[m]);return M.createElement(t,{...f,children:g})}function CR({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:kR(n,i,r,t),renderState:e()}}function kR(t,e,n,i){const r={},o=i(t,{});for(const g in o)r[g]=Tc(o[g]);let{initial:a,animate:c}=t;const u=iu(t),h=U1(t);e&&h&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?c:a;if(m&&typeof m!="boolean"&&!nu(m)){const g=Array.isArray(m)?m:[m];for(let v=0;v<g.length;v++){const b=lp(t,g[v]);if(b){const{transitionEnd:w,transition:C,..._}=b;for(const P in _){let E=_[P];if(Array.isArray(E)){const A=f?E.length-1:0;E=E[A]}E!==null&&(r[P]=E)}for(const P in w)r[P]=w[P]}}}return r}const xw=t=>(e,n)=>{const i=M.useContext(ru),r=M.useContext(tu),o=()=>CR(t,e,i,r);return n?o():Ua(o)},_R=xw({scrapeMotionValuesFromProps:gp,createRenderState:yp}),MR=xw({scrapeMotionValuesFromProps:ew,createRenderState:vw}),ER=Symbol.for("motionComponentSymbol");function TR(t,e,n){const i=M.useRef(n);M.useInsertionEffect(()=>{i.current=n});const r=M.useRef(null);return M.useCallback(o=>{o&&t.onMount?.(o),e&&(o?e.mount(o):e.unmount());const a=i.current;if(typeof a=="function")if(o){const c=a(o);typeof c=="function"&&(r.current=c)}else r.current?(r.current(),r.current=null):a(o);else a&&(a.current=o)},[e])}const bw=M.createContext({});function sa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PR(t,e,n,i,r,o){const{visualElement:a}=M.useContext(ru),c=M.useContext(pw),u=M.useContext(tu),h=M.useContext(Ga).reducedMotion,f=M.useRef(null);i=i||c.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h,isSVG:o}));const m=f.current,g=M.useContext(bw);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&DR(f.current,n,r,g);const v=M.useRef(!1);M.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const b=n[E1],w=M.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return $f(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),w.current&&m.animationState&&m.animationState.animateChanges())}),M.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),w.current=!1),m.enteringChildren=void 0)}),m}function DR(t,e,n,i){const{layoutId:r,layout:o,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ww(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!a||c&&sa(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:u,layoutRoot:h})}function ww(t){if(t)return t.options.allowProjection!==!1?t.projection:ww(t.parent)}function bh(t,{forwardMotionProps:e=!1,type:n}={},i,r){i&&dR(i);const o=n?n==="svg":vp(t),a=o?MR:_R;function c(h,f){let m;const g={...M.useContext(Ga),...h,layoutId:RR(h)},{isStatic:v}=g,b=gR(h),w=a(h,v);if(!v&&$b){AR();const C=LR(g);m=C.MeasureLayout,b.visualElement=PR(t,w,g,r,C.ProjectionNode,o)}return S.jsxs(ru.Provider,{value:b,children:[m&&b.visualElement?S.jsx(m,{visualElement:b.visualElement,...g}):null,SR(t,h,TR(w,b.visualElement,f),w,v,e,o)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=M.forwardRef(c);return u[ER]=t,u}function RR({layoutId:t}){const e=M.useContext(Uf).id;return e&&t!==void 0?e+"-"+t:t}function AR(t,e){M.useContext(pw).strict}function LR(t){const e=mw(),{drag:n,layout:i}=e;if(!n&&!i)return{};const r={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function NR(t,e){if(typeof Proxy>"u")return bh;const n=new Map,i=(o,a)=>bh(o,a,t,e),r=(o,a)=>i(o,a);return new Proxy(r,{get:(o,a)=>a==="create"?i:(n.has(a)||n.set(a,bh(a,void 0,t,e)),n.get(a))})}const jR=(t,e)=>e.isSVG??vp(t)?new hD(e):new oD(e,{allowProjection:t!==M.Fragment});class OR extends Rr{constructor(e){super(e),e.animationState||(e.animationState=yD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let FR=0;class IR extends Rr{constructor(){super(...arguments),this.id=FR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zR={animation:{Feature:OR},exit:{Feature:IR}};function Ya(t){return{point:{x:t.pageX,y:t.pageY}}}const BR=t=>e=>hp(e)&&t(e,Ya(e));function ga(t,e,n,i){return Pa(t,e,BR(n),i)}const Sw=({current:t})=>t?t.ownerDocument.defaultView:null,hv=(t,e)=>Math.abs(t-e);function VR(t,e){const n=hv(t.x,e.x),i=hv(t.y,e.y);return Math.sqrt(n**2+i**2)}const fv=new Set(["auto","scroll"]);class Cw{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=v=>{this.handleScroll(v.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Sh(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=VR(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:C}=v,{timestamp:_}=Bt;this.history.push({...C,timestamp:_});const{onStart:P,onMove:E}=this.handlers;b||(P&&P(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=wh(b,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:w,onSessionEnd:C,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Sh(v.type==="pointercancel"?this.lastMoveEventInfo:wh(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,P),C&&C(v,P)},!hp(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=r||window;const u=Ya(e),h=wh(u,this.transformPagePoint),{point:f}=h,{timestamp:m}=Bt;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Sh(h,this.history)),this.removeListeners=$a(ga(this.contextWindow,"pointermove",this.handlePointerMove),ga(this.contextWindow,"pointerup",this.handlePointerUp),ga(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(fv.has(i.overflowX)||fv.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,r=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:r.x-n.x,y:r.y-n.y};o.x===0&&o.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,r),st.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),wi(this.updatePoint)}}function wh(t,e){return e?{point:e(t.point)}:t}function pv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sh({point:t},e){return{point:t,delta:pv(t,kw(e)),offset:pv(t,UR(e)),velocity:$R(e,.1)}}function UR(t){return t[0]}function kw(t){return t[t.length-1]}function $R(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=kw(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Hi(e)));)n--;if(!i)return{x:0,y:0};const o=Vn(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const a={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function HR(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?pt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?pt(n,t,i.max):Math.min(t,n)),t}function mv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WR(t,{top:e,left:n,bottom:i,right:r}){return{x:mv(t.x,n,r),y:mv(t.y,e,i)}}function gv(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function GR(t,e){return{x:gv(t.x,e.x),y:gv(t.y,e.y)}}function YR(t,e){let n=.5;const i=rn(t),r=rn(e);return r>i?n=_a(e.min,e.max-i,t.min):i>r&&(n=_a(t.min,t.max-r,e.min)),bi(0,1,n)}function KR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vf=.35;function XR(t=vf){return t===!1?t=0:t===!0&&(t=vf),{x:yv(t,"left","right"),y:yv(t,"top","bottom")}}function yv(t,e,n){return{min:vv(t,e),max:vv(t,n)}}function vv(t,e){return typeof t=="number"?t:t[e]||0}const qR=new WeakMap;class QR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=m=>{n?(this.stopAnimation(),this.snapToCursor(Ya(m).point)):this.pauseAnimation()},a=(m,g)=>{this.stopAnimation();const{drag:v,dragPropagation:b,onDragStart:w}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OP(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(_=>{let P=this.getAxisMotionValue(_).get()||0;if(yi.test(P)){const{projection:E}=this.visualElement;if(E&&E.layout){const A=E.layout.layoutBox[_];A&&(P=rn(A)*(parseFloat(P)/100))}}this.originPoint[_]=P}),w&&st.postRender(()=>w(m,g)),df(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:w,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=g;if(b&&this.currentDirection===null){this.currentDirection=JR(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),C&&C(m,g)},u=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>zn(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Cw(e,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:Sw(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&st.postRender(()=>c(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!rc(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=HR(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&sa(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=WR(i.layoutBox,e):this.constraints=!1,this.elastic=XR(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=KR(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sa(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=eD(i,r.root,this.visualElement.getTransformPagePoint());let a=GR(r.layout.layoutBox,o);if(n){const c=n(QP(a));this.hasMutatedConstraints=!!c,c&&(a=W1(c))}return a}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=zn(f=>{if(!rc(f,n,this.currentDirection))return;let m=u&&u[f]||{};a&&(m={min:0,max:0});const g=r?200:1e6,v=r?40:1e7,b={type:"inertia",velocity:i?e[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(f,b)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return df(this.visualElement,e),i.start(ap(e,i,0,n,this.visualElement,!1))}stopAnimation(){zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){zn(n=>{const{drag:i}=this.getProps();if(!rc(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:c}=r.layout.layoutBox[n],u=o.get()||0;o.set(e[n]-pt(a,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!sa(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};zn(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();r[a]=YR({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),zn(a=>{if(!rc(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:h}=this.constraints[a];c.set(pt(u,h,r[a]))})}addListeners(){if(!this.visualElement.current)return;qR.set(this.visualElement,this);const e=this.visualElement.current,n=ga(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&!z1(u.target)&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();sa(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),st.read(i);const a=Pa(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(zn(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{a(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=vf,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function rc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZR extends Rr{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new QR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const xv=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class eA extends Rr{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new Cw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Sw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:xv(e),onStart:xv(n),onMove:i,onEnd:(o,a)=>{delete this.session,r&&st.postRender(()=>r(o,a))}}}mount(){this.removePointerDownListener=ga(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ch=!1;class tA extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),Ch&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Pc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,{projection:a}=i;return a&&(a.isPresent=o,Ch=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||st.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),dp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;Ch=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _w(t){const[e,n]=fw(),i=M.useContext(Uf);return S.jsx(tA,{...t,layoutGroup:i,switchLayoutGroup:M.useContext(bw),isPresent:e,safeToRemove:n})}const nA={pan:{Feature:eA},drag:{Feature:ZR,ProjectionNode:hw,MeasureLayout:_w}};function bv(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&st.postRender(()=>o(e,Ya(e)))}class iA extends Rr{mount(){const{current:e}=this.node;e&&(this.unmount=FP(e,(n,i)=>(bv(this.node,i,"Start"),r=>bv(this.node,r,"End"))))}unmount(){}}class rA extends Rr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$a(Pa(this.node.current,"focus",()=>this.onFocus()),Pa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wv(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&st.postRender(()=>o(e,Ya(e)))}class sA extends Rr{mount(){const{current:e}=this.node;e&&(this.unmount=BP(e,(n,i)=>(wv(this.node,i,"Start"),(r,{success:o})=>wv(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xf=new WeakMap,kh=new WeakMap,oA=t=>{const e=xf.get(t.target);e&&e(t)},aA=t=>{t.forEach(oA)};function lA({root:t,...e}){const n=t||document;kh.has(n)||kh.set(n,{});const i=kh.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(aA,{root:t,...e})),i[r]}function cA(t,e,n){const i=lA(e);return xf.set(t,n),i.observe(t),()=>{xf.delete(t),i.unobserve(t)}}const uA={some:0,all:1};class dA extends Rr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:uA[r]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=h?f:m;g&&g(u)};return cA(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hA(e,n))&&this.startObserver()}unmount(){}}function hA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fA={inView:{Feature:dA},tap:{Feature:sA},focus:{Feature:rA},hover:{Feature:iA}},pA={layout:{ProjectionNode:hw,MeasureLayout:_w}},mA={...zR,...fA,...nA,...pA},Wi=NR(mA,jR);function Mw(t){const e=Ua(()=>fs(t)),{isStatic:n}=M.useContext(Ga);if(n){const[,i]=M.useState(t);M.useEffect(()=>e.on("change",i),[])}return e}function Ew(t,e){const n=Mw(e()),i=()=>n.set(e());return i(),$f(()=>{const r=()=>st.preRender(i,!1,!0),o=t.map(a=>a.on("change",r));return()=>{o.forEach(a=>a()),wi(i)}}),n}function gA(t){pa.current=[],t();const e=Ew(pa.current,t);return pa.current=void 0,e}function yA(t,e,n,i){if(typeof t=="function")return gA(t);const o=typeof e=="function"?e:UP(e,n,i);return Array.isArray(t)?Sv(t,o):Sv([t],([a])=>o(a))}function Sv(t,e){const n=Ua(()=>[]);return Ew(t,()=>{n.length=0;const i=t.length;for(let r=0;r<i;r++)n[r]=t[r].get();return e(n)})}function vA(t){const e=M.useRef(0),{isStatic:n}=M.useContext(Ga);M.useEffect(()=>{if(n)return;const i=({timestamp:r,delta:o})=>{e.current||(e.current=r),t(r-e.current,o)};return st.update(i,!0),()=>wi(i)},[t])}function xA({children:t,initialStep:e=1,onStepChange:n=()=>{},onFinalStepCompleted:i=()=>{},className:r="",stepCircleContainerClassName:o="",stepContainerClassName:a="",contentClassName:c="",footerClassName:u="",backButtonProps:h={},nextButtonProps:f={},backButtonText:m="Back",nextButtonText:g="Continue",disableStepIndicators:v=!1,renderStepIndicator:b,isOpen:w=!0,onRequestClose:C,useModalLayout:_=!1,overlayClassName:P="",modalContainerClassName:E="",modalTitle:A="",modalDescription:D="",...j}){if(!w)return null;M.useEffect(()=>{if(!_||typeof document>"u")return;const pe=document.body.style.overflow,ve=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=pe,document.documentElement.style.overflow=ve}},[_]);const[T,R]=M.useState(e),[V,I]=M.useState(0),G=M.Children.toArray(t),X=G.length,oe=T>X,J=T===X,te=pe=>{R(pe),pe>X?i():n(pe)},ue=()=>{T>1&&(I(-1),te(T-1))},ee=()=>{J||(I(1),te(T+1))},$=()=>{I(1),te(X+1)},Z=["outer-container",r].filter(Boolean).join(" "),Q=(A||D)&&_,O=S.jsxs("div",{className:Z,...j,children:[Q&&S.jsxs("div",{className:"stepper-modal-header",children:[A&&S.jsx("h3",{className:"stepper-modal-title",children:A}),D&&S.jsx("p",{className:"stepper-modal-description",children:D})]}),S.jsxs("div",{className:`step-circle-container ${o}`.trim(),children:[S.jsx("div",{className:`step-indicator-row ${a}`.trim(),children:G.map((pe,ve)=>{const Ne=ve+1,Le=ve<X-1;return S.jsxs(Df.Fragment,{children:[b?b({step:Ne,currentStep:T,onStepClick:Fe=>{I(Fe>T?1:-1),te(Fe)}}):S.jsx(CA,{step:Ne,disableStepIndicators:v,currentStep:T,onClickStep:Fe=>{I(Fe>T?1:-1),te(Fe)}}),Le&&S.jsx(kA,{isComplete:T>Ne})]},Ne)})}),S.jsx(bA,{isCompleted:oe,currentStep:T,direction:V,className:`step-content-default ${c}`.trim(),children:G[T-1]}),!oe&&S.jsx("div",{className:`footer-container ${u}`.trim(),children:S.jsxs("div",{className:`footer-nav ${T!==1?"spread":"end"}`.trim(),children:[T!==1&&S.jsx("button",{onClick:ue,className:`back-button ${T===1?"inactive":""}`.trim(),...h,children:m}),S.jsx("button",{onClick:J?$:ee,className:"next-button",...f,children:J?"Complete":g})]})})]})]});if(!_)return O;const K=["stepper-overlay",P].filter(Boolean).join(" "),de=["stepper-modal-container",E].filter(Boolean).join(" "),ae=typeof C=="function"?C:void 0;return S.jsxs("div",{className:K,children:[S.jsxs("div",{className:de,children:[ae&&S.jsx("button",{type:"button",className:"stepper-close",onClick:ae,"aria-label":"Cerrar",children:""}),O]}),ae&&S.jsx("button",{type:"button",className:"stepper-overlay-dismiss",onClick:ae,"aria-label":"Cerrar"})]})}function bA({isCompleted:t,currentStep:e,direction:n,children:i,className:r}){const[o,a]=M.useState(0);return S.jsx(Wi.div,{className:r,style:{position:"relative",overflow:"hidden"},animate:{height:t?0:o},transition:{type:"spring",duration:.4},children:S.jsx(cR,{initial:!1,mode:"sync",custom:n,children:!t&&S.jsx(wA,{direction:n,onHeightReady:c=>a(c),children:i},e)})})}function wA({children:t,direction:e,onHeightReady:n}){const i=M.useRef(null);return M.useLayoutEffect(()=>{i.current&&n(i.current.offsetHeight)},[t,n]),S.jsx(Wi.div,{ref:i,custom:e,variants:SA,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4},style:{position:"absolute",left:0,right:0,top:0},children:t})}const SA={enter:t=>({x:t>=0?"-100%":"100%",opacity:0}),center:{x:"0%",opacity:1},exit:t=>({x:t>=0?"50%":"-50%",opacity:0})};function _h({children:t}){return S.jsx("div",{className:"step-default",children:t})}function CA({step:t,currentStep:e,onClickStep:n,disableStepIndicators:i}){const r=e===t?"active":e<t?"inactive":"complete",o=()=>{t!==e&&!i&&n(t)};return S.jsx(Wi.div,{onClick:o,className:"step-indicator",animate:r,initial:!1,children:S.jsx(Wi.div,{variants:{inactive:{scale:1,backgroundColor:"#222",color:"#a3a3a3"},active:{scale:1,backgroundColor:"#5227FF",color:"#5227FF"},complete:{scale:1,backgroundColor:"#5227FF",color:"#3b82f6"}},transition:{duration:.3},className:"step-indicator-inner",children:r==="complete"?S.jsx(_A,{className:"check-icon"}):r==="active"?S.jsx("div",{className:"active-dot"}):S.jsx("span",{className:"step-number",children:t})})})}function kA({isComplete:t}){const e={incomplete:{width:0,backgroundColor:"rgba(82, 39, 255, 0)"},complete:{width:"100%",backgroundColor:"#5227FF"}};return S.jsx("div",{className:"step-connector",children:S.jsx(Wi.div,{className:"step-connector-inner",variants:e,initial:!1,animate:t?"complete":"incomplete",transition:{duration:.4}})})}function _A(t){return S.jsx("svg",{...t,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:S.jsx(Wi.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.1,type:"tween",ease:"easeOut",duration:.3},strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}const ya="subly:state",ss={language:"es",currencyDisplayMode:"original",baseCurrency:"USD",calendarAutoSyncAll:!1,calendarUseDedicatedCalendar:!1,calendarFloatingButtonEnabled:!0,onboardingCompleted:!1,driveBackupFileId:void 0,driveLastBackupAt:void 0};function oa(t){const e=Array.isArray(t?.subscriptions)?t.subscriptions:[],n=t?.settings,i=n?.language==="en"?"en":"es",r=n?.currencyDisplayMode==="convertToBase"?"convertToBase":"original",o=String(n?.baseCurrency??ss.baseCurrency).trim().toUpperCase()||ss.baseCurrency,a=!!(n?.calendarAutoSyncAll??ss.calendarAutoSyncAll),c=!!(n?.calendarUseDedicatedCalendar??ss.calendarUseDedicatedCalendar),u=n?.calendarFloatingButtonEnabled!==!1,h=!!(n?.onboardingCompleted??ss.onboardingCompleted),f=String(n?.calendarSubscriptionsCalendarId??"").trim()||void 0,m=String(n?.driveBackupFileId??"").trim()||void 0,g=String(n?.driveLastBackupAt??"").trim()||void 0;return{subscriptions:e,settings:{language:i,currencyDisplayMode:r,baseCurrency:o,calendarAutoSyncAll:a,calendarUseDedicatedCalendar:c,calendarFloatingButtonEnabled:u,onboardingCompleted:h,calendarSubscriptionsCalendarId:f,driveBackupFileId:m,driveLastBackupAt:g}}}function Tw(){return typeof chrome<"u"&&!!chrome.storage?.local}async function MA(){if(Tw()){const e=await chrome.storage.local.get([ya]);return oa(e?.[ya]??null)}const t=typeof localStorage<"u"?localStorage.getItem(ya):null;if(!t)return oa(null);try{return oa(JSON.parse(t))}catch{return oa(null)}}async function EA(t){if(Tw()){await chrome.storage.local.set({[ya]:t});return}typeof localStorage<"u"&&localStorage.setItem(ya,JSON.stringify(t))}function Pw(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function Uc(t,e,n=new Date){const[i,r,o]=t.split("-").map(Number),a=new Date(i,(r??1)-1,o??1);if(Number.isNaN(a.getTime()))return n;const c=(f,m)=>{const g=new Date(f);return g.setMonth(g.getMonth()+m),g},u=e==="monthly"?1:e==="quarterly"?3:e==="semiannual"?6:12;let h=new Date(a);for(;h.getTime()<n.getTime();)h=c(h,u);return h}const Dw=M.createContext(null);function TA({children:t}){const[e,n]=M.useState({subscriptions:[],settings:ss}),[i,r]=M.useState(!1);M.useEffect(()=>{let a=!0;return(async()=>{const c=await MA();a&&(n(c),r(!0))})(),()=>{a=!1}},[]),M.useEffect(()=>{i&&EA(e)},[i,e]);const o=M.useMemo(()=>({state:e,setSubscriptions:a=>n(c=>({...c,subscriptions:a})),setSettings:a=>n(c=>({...c,settings:a})),ready:i}),[i,e]);return S.jsx(Dw.Provider,{value:o,children:t})}function Ka(){const t=M.useContext(Dw);if(!t)throw new Error("useStore must be used within StoreProvider");return t}const Dc={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},PA=t=>typeof t=="number"?`${t}px`:t??void 0,DA=(t,e,n)=>{M.useEffect(()=>{if(!window.ResizeObserver){const r=()=>t();return window.addEventListener("resize",r),t(),()=>window.removeEventListener("resize",r)}const i=e.map(r=>{if(!r.current)return null;const o=new window.ResizeObserver(t);return o.observe(r.current),o});return t(),()=>{i.forEach(r=>r?.disconnect())}},n)},RA=(t,e,n)=>{M.useEffect(()=>{const i=t.current?.querySelectorAll("img")??[];if(!i||i.length===0){e();return}let r=i.length;const o=()=>{r-=1,r===0&&e()};return i.forEach(a=>{const c=a;c.complete?o():(c.addEventListener("load",o,{once:!0}),c.addEventListener("error",o,{once:!0}))}),()=>{i.forEach(a=>{a.removeEventListener("load",o),a.removeEventListener("error",o)})}},n)},AA=(t,e,n,i,r)=>{const o=M.useRef(null),a=M.useRef(null),c=M.useRef(0),u=M.useRef(0),[h,f]=M.useState(!0);M.useEffect(()=>{const m=t.current;if(!m)return;n>0&&(c.current=(c.current%n+n)%n,m.style.transform=`translate3d(${-c.current}px, 0, 0)`);const g=v=>{if(!h){o.current=requestAnimationFrame(g);return}a.current===null&&(a.current=v);const b=Math.max(0,v-a.current)/1e3;a.current=v;const w=r&&i?0:e,C=1-Math.exp(-b/Dc.SMOOTH_TAU);if(u.current+=(w-u.current)*C,n>0){let _=c.current+u.current*b;_=(_%n+n)%n,c.current=_;const P=-c.current;m.style.transform=`translate3d(${P}px, 0, 0)`}else m.style.transform="translate3d(0, 0, 0)";o.current=requestAnimationFrame(g)};return o.current=requestAnimationFrame(g),()=>{o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),a.current=null}},[e,n,i,r,t,h]),M.useEffect(()=>{const m=t.current?.parentElement?.parentElement;if(!m||!window.IntersectionObserver)return;const g=new IntersectionObserver(v=>{for(const b of v)b.target===m&&f(b.isIntersecting)},{root:null,threshold:0});return g.observe(m),()=>g.disconnect()},[t])},Rw=M.memo(({logos:t,speed:e=120,direction:n="left",width:i="100%",logoHeight:r=28,gap:o=32,pauseOnHover:a=!0,fadeOut:c=!1,fadeOutColor:u,scaleOnHover:h=!1,ariaLabel:f="Partner logos",className:m,style:g})=>{const v=M.useRef(null),b=M.useRef(null),w=M.useRef(null),[C,_]=M.useState(0),[P,E]=M.useState(Dc.MIN_COPIES),[A,D]=M.useState(!1),[j,T]=M.useState({}),R=M.useMemo(()=>{const ee=Math.abs(e),$=n==="left"?1:-1,Z=e<0?-1:1;return ee*$*Z},[e,n]),V=M.useCallback(()=>{const ee=v.current?.clientWidth??0,$=(w.current?.scrollWidth??0)||(w.current?.getBoundingClientRect?.()?.width??0);if($>0&&ee>0){const Z=Math.ceil($);_(Z);let Q=Math.ceil(ee/Z)+Dc.COPY_HEADROOM;Q=Math.max(Dc.MIN_COPIES,Q),E(Q),requestAnimationFrame(()=>{const O=b.current?.scrollWidth??0;if(O>0&&O<ee*2){const K=Math.ceil((ee*2-O)/Z);K>0&&E(de=>de+K)}})}},[]);DA(V,[v,w],[t,o,r]),RA(w,V,[t,o,r]),AA(b,R,C,A,a);const I=M.useMemo(()=>({"--logoloop-gap":`${o}px`,"--logoloop-logoHeight":`${r}px`,...u?{"--logoloop-fadeColor":u}:{}}),[o,r,u]),G=M.useMemo(()=>["logoloop",c&&"logoloop--fade",h&&"logoloop--scale-hover",m].filter(Boolean).join(" "),[c,h,m]),X=M.useCallback(()=>{a&&D(!0)},[a]),oe=M.useCallback(()=>{a&&D(!1)},[a]),J=M.useCallback((ee,$,Z,Q,O)=>{const K=ee.node!==void 0,de=Number(ee.scale??1)||1,ae=de!==1?{transform:`scale(${de})`,transformOrigin:"center"}:void 0,pe=K?S.jsx("span",{className:"logoloop__node",style:ae,"aria-hidden":!!ee.href&&!ee.ariaLabel,children:ee.node}):Q||j[Z]?S.jsx("span",{className:"logoloop__node",style:ae,"aria-hidden":!0,children:ee.alt||ee.title||"Logo"}):S.jsx("img",{src:ee.src,srcSet:ee.srcSet,sizes:ee.sizes,width:ee.width,height:ee.height,alt:ee.alt??"",title:ee.title,loading:O?"eager":"lazy",decoding:"async",draggable:!1,style:ae,onError:()=>T(Fe=>({...Fe,[Z]:!0}))}),ve=K?ee.ariaLabel??ee.title:ee.alt??ee.title,Ne=ee.href,Le=Ne?S.jsx("a",{className:"logoloop__link",href:Ne,"aria-label":ve||"logo link",target:"_blank",rel:"noreferrer noopener",children:pe}):pe;return S.jsx("li",{className:"logoloop__item",role:"listitem",children:Le},$)},[j]),te=M.useMemo(()=>Array.from({length:P},(ee,$)=>S.jsx("ul",{className:"logoloop__list",role:"list","aria-hidden":$>0,ref:$===0?w:void 0,children:t.map((Z,Q)=>J(Z,`${$}-${Q}`,Q,$>0?j[Q]:!1,$===0))},`copy-${$}`)),[j,P,t,J]),ue=M.useMemo(()=>({width:PA(i)??"100%",...I,...g}),[i,I,g]);return S.jsxs("div",{ref:v,className:G,style:ue,role:"region","aria-label":f,onMouseEnter:X,onMouseLeave:oe,children:[S.jsx("div",{className:"logoloop__track",ref:b,children:te}),S.jsx("div",{style:{height:1}})]})});Rw.displayName="LogoLoop";function LA(){const{state:t,setSettings:e,ready:n}=Ka(),i=Pb(),r=n&&t.settings.onboardingCompleted!==!0,o=M.useMemo(()=>"Configura lo bsico en 1 minuto y empieza a registrar tus suscripciones.",[]),a=M.useMemo(()=>[{src:"/logos/netflix.svg",label:"Netflix"},{src:"/logos/spotify.svg",label:"Spotify"},{src:"/logos/youtube-premium.svg",label:"YouTube Premium"},{src:"/logos/disney-plus.svg",label:"Disney+",scale:1},{src:"/logos/amazon-prime-video.png",label:"Prime Video",scale:.9},{src:"/logos/apple-music.png",label:"Apple Music",scale:1.36},{src:"/logos/apple-tv-plus.svg",label:"Apple TV+"},{src:"/logos/icloud.svg",label:"iCloud+"},{src:"/logos/google-one.png",label:"Google One"},{src:"/logos/dropbox.svg",label:"Dropbox"},{src:"/logos/max.svg",label:"Max",scale:1.05},{src:"/logos/crunchyroll.svg",label:"Crunchyroll"},{src:"/logos/microsoft-365.svg",label:"Microsoft 365"},{src:"/logos/xbox-game-pass.svg",label:"Xbox Game Pass",scale:1},{src:"/logos/playstation-plus.svg",label:"PlayStation Plus"},{src:"/logos/nintendo-switch-online.svg",label:"Nintendo Switch Online",scale:1.04},{src:"/logos/chatgpt.svg",label:"ChatGPT"},{src:"/logos/claude.svg",label:"Claude"},{src:"/logos/perplexity.svg",label:"Perplexity"},{src:"/logos/microsoft-copilot.svg",label:"Microsoft Copilot"},{src:"/logos/google-gemini.svg",label:"Google Gemini"},{src:"/logos/canva.png",label:"Canva"},{src:"/logos/tidal.png",label:"TIDAL"}].map(({src:u,label:h,scale:f})=>({src:u,alt:h,title:h,scale:f})),[]),c=()=>{e({...t.settings,onboardingCompleted:!0})};return r?S.jsxs(xA,{useModalLayout:!0,isOpen:r,onRequestClose:c,onFinalStepCompleted:c,initialStep:1,modalTitle:"Bienvenido a Subly",modalDescription:o,backButtonText:"Atrs",nextButtonText:"Continuar",disableStepIndicators:!1,className:"text-slate-900 dark:text-white",stepCircleContainerClassName:"bg-white/95 dark:bg-slate-950/95 border border-slate-200 dark:border-slate-800",children:[S.jsx(_h,{children:S.jsxs("div",{className:"space-y-3",children:[S.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:"Subly te ayuda a visualizar gastos, prximas renovaciones y sincronizar recordatorios con Google Calendar."}),S.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700 dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-200",children:"Tip: puedes cerrar este asistente () y volver luego desde Ajustes."})]})}),S.jsx(_h,{children:S.jsxs("div",{className:"space-y-3",children:[S.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:"Primero, aade tus suscripciones para que el dashboard tenga datos."}),S.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200 bg-white/70 p-3 dark:border-slate-800 dark:bg-slate-900/40",children:S.jsx("div",{className:"mt-2",children:S.jsx(Rw,{logos:a,speed:80,direction:"left",gap:36,logoHeight:44,pauseOnHover:!0,fadeOut:!0,fadeOutColor:"rgba(2, 6, 23, 0)",scaleOnHover:!0,ariaLabel:"Ejemplos de suscripciones"})})}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-semibold text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",onClick:()=>i("/subscriptions"),children:"Ir a Suscripciones"}),S.jsx("button",{type:"button",className:"rounded-md border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100 dark:border-slate-800 dark:text-slate-200 dark:hover:bg-slate-900",onClick:()=>i("/dashboard"),children:"Ver dashboard"})]})]})}),S.jsx(_h,{children:S.jsxs("div",{className:"space-y-3",children:[S.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:"Luego puedes configurar moneda base, idioma e integraciones (Calendar / Drive)."}),S.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-semibold text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",onClick:()=>i("/settings"),children:"Ir a Ajustes"})]})})]}):null}const Cv={es:{common:{loading:"Cargando",language:{es:"Espaol",en:"English"},cancel:"Cancelar",clear:"Limpiar",save:"Guardar",add:"Aadir",edit:"Editar",delete:"Eliminar",on:"ON",off:"OFF",importJson:"Importar JSON",exportJson:"Exportar JSON",exported:"Exportado.",importedCount:"Importadas: {{count}}",importFailed:"Importacin fallida (JSON invlido o estructura incorrecta).",none:"",uncategorized:"Sin categora",other:"Otros"},nav:{dashboard:"Dashboard",subscriptions:"Suscripciones",settings:"Ajustes"},settings:{groupGeneral:"General",groupIntegrations:"Integraciones",groupData:"Datos y mantenimiento",groupHelp:"Ayuda",languageTitle:"Idioma",languageDescription:"Selecciona el idioma de la app.",alertsTitle:"Alertas",alertsHint:"Las alertas se muestran como notificaciones del navegador (si estn permitidas).",currencyTitle:"Moneda",displayAmounts:"Mostrar importes",displayOriginal:"Con sus monedas originales",displayConvert:"Convertir a una moneda nica",baseCurrency:"Moneda base",currencyHint:"Al convertir a una sola moneda, los totales y grficos se muestran en la moneda base.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Se abre en una pestaa nueva.",calendarSyncTitle:"Sincronizacin",calendarDedicatedLabel:"Usar calendario dedicado para suscripciones",calendarDedicatedHint:"Al activarlo, se crea un calendario dedicado para tus suscripciones.",calendarAutoSyncAllLabel:"Auto-sync de suscripciones",calendarAutoSyncAllHint:"Al guardar cambios en Suscripciones, se intentar sincronizar automticamente (si ya diste permiso).",openGoogleCalendar:"Abrir Google Calendar",extensionTitle:"Extensin",floatingButtonLabel:"Mostrar botn flotante en Google Calendar",floatingButtonHint:"Si lo desactivas, podrs abrir Subly solo desde el icono de la extensin (o el panel lateral si ya est abierto).",dataTitle:"Datos",resetLocalLabel:"Borrar datos locales",resetLocalHint:"Elimina suscripciones y restablece ajustes de este dispositivo. No borra tu copia en Drive ni eventos ya creados en Calendar.",resetLocalConfirm:"Esto borrar tus datos locales (suscripciones y ajustes) en este dispositivo. Continuar?",resetLocalDone:"Datos locales borrados.",privacyTitle:"Permisos",privacyBody:"Subly guarda tus datos localmente. Si activas sincronizacin/backup, usa Google OAuth para crear/actualizar eventos en Google Calendar y guardar una copia JSON en Drive (appDataFolder).",permissionsHint:"Permisos: identity (OAuth), storage (guardar estado), sidePanel (UI), y acceso a Google APIs + proveedor de tipos de cambio.",googleDisconnectLabel:"Desconectar Google",googleDisconnectHint:"Revoca el token OAuth y fuerza a pedir permisos de nuevo la prxima vez. No borra eventos de Calendar ni tu backup en Drive.",googleDisconnectConfirm:"Esto desconectar Subly de tu cuenta de Google en este navegador. Continuar?",googleDisconnectDone:"Desconectado. La prxima vez se pedirn permisos de nuevo.",googleDisconnectNoToken:"No hay sesin activa que desconectar.",helpTitle:"Ayuda",helpFaqTitle:"FAQ",helpFaqDescription:"Respuestas rpidas y solucin de problemas.",helpContactTitle:"Ponte en contacto con nosotros",helpContactDescription:"Incluye el diagnstico para resolver incidencias ms rpido.",helpContactLastBackup:"ltima copia en Drive",helpFeedbackTitle:"Enviar comentarios",helpFeedbackDescription:"Ideas, mejoras, bugs o sugerencias.",helpFeedbackPlaceholder:"Cuntanos qu mejoraras, qu esperabas que pasase y cmo reproducirlo",helpCopyFeedback:"Copiar comentario",helpFeedbackCopied:"Comentario copiado.",helpFeedbackEmpty:"Escribe un comentario antes de copiar.",helpFeedbackHint:"Pega el comentario en el email de soporte o en el formulario de la tienda.",helpOpenPanelQ:"Cmo abro el panel?",helpOpenPanelA:"En Google Calendar puedes usar el botn flotante (si est activado) o hacer clic en el icono de la extensin para abrir el Side Panel.",helpDriveQ:"Qu se guarda en Drive?",helpDriveA:"Un nico archivo JSON en la carpeta oculta appDataFolder (por defecto: subly-state.json).",helpCalendarQ:"Qu crea en Google Calendar?",helpCalendarA:"Eventos recurrentes (todo el da) para cada suscripcin, si sincronizas.",helpTroubleshootingQ:"Solucin de problemas",helpTroubleshootingA:"Si algo no funciona, prueba estos pasos:",helpTs1:"Recarga Google Calendar y vuelve a abrir el panel.",helpTs2:"Revisa los toggles de sincronizacin y el botn flotante en Integraciones.",helpTs3:"Si Drive/Calendar falla, desconecta Google y vuelve a autorizar desde la accin que lo requiera.",helpStatusQ:"Estado",helpStatusAutoSync:"Auto-sync",helpStatusDedicated:"Calendario dedicado",helpStatusFloating:"Botn flotante",helpStatusDrive:"Backup en Drive",helpStatusLinked:"Vinculado",helpStatusNotLinked:"No vinculado",helpStatusHint:"Los cambios se gestionan en Integraciones y Datos y mantenimiento.",helpDiagnosticsQ:"Diagnstico",helpDiagnosticsA:"Copia un resumen del estado de la app para adjuntarlo en un reporte (no incluye tokens OAuth).",helpCopyDiagnostics:"Copiar diagnstico",helpCopied:"Diagnstico copiado.",helpCopyFailed:"No se pudo copiar automticamente. Copia el texto:",helpContactQ:"Contacto",helpContactA:"Para soporte, usa el email de soporte indicado en la ficha de Chrome Web Store. Si vas a reportar un problema, adjunta tambin el Diagnstico.",helpPrivacyQ:"Privacidad",helpPrivacyA:"Tus datos se guardan localmente. Solo si activas integraciones, Subly usa Google OAuth para Calendar y/o guardar un backup JSON en Drive (appDataFolder).",helpPrivacyOpen:"Abrir poltica de privacidad",onboardingTitle:"Primeros pasos",onboardingDescription:"Puedes volver a ver el onboarding cuando quieras.",openOnboarding:"Ver onboarding de nuevo",onboardingOpened:"Onboarding abierto."},drive:{title:"Copia de seguridad",body:"Guarda una copia en tu Google Drive y restaura una copia anterior cuando lo necesites.",lastBackup:"ltima copia",save:"Guardar copia",restore:"Restaurar copia",saving:"Guardando",restoring:"Restaurando",restoreConfirm:"Esto reemplazar los datos guardados en este dispositivo por la copia de Drive. Quieres continuar?",backupSaved:"Copia guardada en Google Drive.",backupSaveFailed:"No se pudo guardar la copia en Google Drive.",backupRestored:"Datos restaurados desde Google Drive.",backupRestoreFailed:"No se pudo restaurar desde Google Drive."},subscriptions:{listTitle:"Listado",subtitle:"Aade, edita y revisa tus suscripciones.",addSubscription:"Aadir suscripcin",noSubscriptions:"No hay suscripciones an.",addToCalendar:"Aadir a Calendar",syncAll:"Sync todas",syncing:"Sincronizando",syncToCalendar:"Sync con Calendar",syncCreate:"Crear en Calendar",syncUpdate:"Actualizar en Calendar",syncOk:"Sincronizado con Google Calendar.",syncFailed:"Error al sincronizar.",syncAllDone:"Sincronizacin terminada: {{ok}} ok, {{fail}} fallo(s).",autoSyncAllOn:"Auto-sync: Activado",autoSyncAllOff:"Auto-sync: Desactivado",autoSyncAllHint:"Si est activo, los cambios se sincronizan (si ya hay autorizacin).",autoSyncConfirm:"Quieres sincronizar todas ahora?",editSubscription:"Editar suscripcin",addSubscriptionTitle:"Aadir suscripcin",searchPlaceholder:"Buscar",filtersToggle:"Filtros",resultsCount:"Resultados: {{count}}",filterCategory:"Categora",filterCurrency:"Moneda",filterPeriod:"Periodo",filterMinPrice:"Precio mn.",filterMaxPrice:"Precio mx.",emptyFiltered:"Sin resultados con los filtros actuales.",dueSoon:"Pronto",columnName:"Suscripcin",columnPrice:"Importe",columnPeriod:"Periodo",columnStart:"Inicio",columnNext:"Prximo",columnCategory:"Categora",columnActions:"Acciones",insightsTitle:"Resumen",insightsHint:"Importes equivalentes en {{currency}}.",insightsDueWindow:"Ventana: {{days}}d",insightsCount:"Suscripciones",insightsAvgMonthly:"Media mensual",insightsAvgMonthlyHelper:"Equivalente en {{currency}}.",insightsUpcoming:"Prximas",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Ms prxima: {{date}}",insightsTopCategory:"Top categora",insightsTopCategoryHelper:"{{percent}}% del total",name:"Nombre",category:"Categora",categoryPlaceholder:"Ej: Streaming",amount:"Importe",currency:"Moneda",period:"Periodo",startDate:"Fecha inicio",helpIncomplete:"Completa nombre, importe y fecha.",startLabel:"Inicio",nextLabel:"Prximo",renewal:"Renovacin",detailsAmount:"Importe",detailsPeriod:"Periodo",periodMonthly:"Mensual",periodQuarterly:"Trimestral",periodSemiannual:"Semestral",periodAnnual:"Anual",toastCreated:"Suscripcin creada.",toastUpdated:"Suscripcin actualizada.",toastDeleted:"Suscripcin eliminada.",deleteConfirm:"Eliminar {{name}}? Tambin se borrar su evento en Google Calendar si existe.",calendarEventDeleted:"Evento eliminado de Google Calendar.",calendarDeleteFailed:"No se pudo borrar el evento en Google Calendar."},dashboard:{monthlySpendTitle:"Gasto mensual (equivalente)",noSubscriptionsYet:"Sin suscripciones an.",fxRatesLabel:"FX rates",fxUpdating:"actualizando",fxReady:"reales (cacheadas)",fxUnavailable:"no disponibles (fallback)",fxIdle:"",upcomingRenewalsTitle:"Prximas renovaciones",noDataYet:"No hay datos todava.",chartsTitle:"Grficos",addSubsToSeeCharts:"Aade suscripciones para ver grficos.",currencyLabel:"Moneda: {{cur}}",kpiSubscriptions:"Suscripciones",kpiAvgMonthly:"Media mensual",kpiDueSoon:"Vencen ( {{days}}d)",kpiTopCategory:"Top categora",projectionTitle:"Proyeccin mensual (ltimos 12 meses)",annualTopTitle:"Top gasto anual (estimado)",monthlyByCategoryTitle:"Gasto mensual por categora (equivalente)",distributionTitle:"Distribucin (gasto mensual equivalente)",noData:"Sin datos.",csvMonth:"Mes",csvAmount:"Importe",csvCurrency:"Moneda",csvName:"Nombre",csvAnnualAmount:"Importe anual",csvCategory:"Categora",csvMonthlyEquivalent:"Equivalente mensual"}},en:{common:{loading:"Loading",language:{es:"Espaol",en:"English"},cancel:"Cancel",clear:"Clear",save:"Save",add:"Add",edit:"Edit",delete:"Delete",on:"ON",off:"OFF",importJson:"Import JSON",exportJson:"Export JSON",exported:"Exported.",importedCount:"Imported: {{count}}",importFailed:"Import failed (invalid JSON or wrong structure).",none:"",uncategorized:"Uncategorized",other:"Other"},nav:{dashboard:"Dashboard",subscriptions:"Subscriptions",settings:"Settings"},settings:{groupGeneral:"General",groupIntegrations:"Integrations",groupData:"Data & maintenance",groupHelp:"Help",languageTitle:"Language",languageDescription:"Select the app language.",alertsTitle:"Alerts",alertsHint:"Alerts appear as browser notifications (if allowed).",currencyTitle:"Currency",displayAmounts:"Show amounts",displayOriginal:"In original currencies",displayConvert:"Convert to a single currency",baseCurrency:"Base currency",currencyHint:"When converting to a single currency, totals and charts use the base currency.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Opens in a new tab.",calendarSyncTitle:"Sync",calendarDedicatedLabel:"Use a dedicated calendar for subscriptions",calendarDedicatedHint:"When enabled, a dedicated calendar for your subscriptions is created.",calendarAutoSyncAllLabel:"Auto-sync subscriptions",calendarAutoSyncAllHint:"When you save changes in Subscriptions, the app will try to sync automatically (if permission is already granted).",openGoogleCalendar:"Open Google Calendar",extensionTitle:"Extension",floatingButtonLabel:"Show floating button on Google Calendar",floatingButtonHint:"If disabled, you can open Subly from the extension icon (or the side panel if already open).",dataTitle:"Data",resetLocalLabel:"Clear local data",resetLocalHint:"Clears subscriptions and resets settings on this device. It does not delete your Drive backup nor existing Calendar events.",resetLocalConfirm:"This will clear your local data (subscriptions and settings) on this device. Continue?",resetLocalDone:"Local data cleared.",privacyTitle:"Permissions",privacyBody:"Subly stores your data locally. If you enable sync/backup, it uses Google OAuth to create/update events in Google Calendar and save a JSON backup to Drive (appDataFolder).",permissionsHint:"Permissions: identity (OAuth), storage (save state), sidePanel (UI), plus access to Google APIs and FX rate providers.",googleDisconnectLabel:"Disconnect Google",googleDisconnectHint:"Revokes the OAuth token and forces consent again next time. It does not delete Calendar events nor your Drive backup.",googleDisconnectConfirm:"This will disconnect Subly from your Google account in this browser. Continue?",googleDisconnectDone:"Disconnected. Next time it will ask for permissions again.",googleDisconnectNoToken:"No active session to disconnect.",helpTitle:"Help",helpFaqTitle:"FAQ",helpFaqDescription:"Quick answers and troubleshooting.",helpContactTitle:"Contact us",helpContactDescription:"Include diagnostics to resolve issues faster.",helpContactLastBackup:"Last Drive backup",helpFeedbackTitle:"Send feedback",helpFeedbackDescription:"Ideas, improvements, bugs, or suggestions.",helpFeedbackPlaceholder:"Tell us what you would improve, what you expected, and how to reproduce it",helpCopyFeedback:"Copy feedback",helpFeedbackCopied:"Feedback copied.",helpFeedbackEmpty:"Write some feedback before copying.",helpFeedbackHint:"Paste it into the support email or the store form.",helpOpenPanelQ:"How do I open the panel?",helpOpenPanelA:"On Google Calendar you can use the floating button (if enabled) or click the extension icon to open the Side Panel.",helpDriveQ:"What is stored in Drive?",helpDriveA:"A single JSON file in the hidden appDataFolder (default: subly-state.json).",helpCalendarQ:"What does it create in Google Calendar?",helpCalendarA:"Recurring all-day events for each subscription, when you sync.",helpTroubleshootingQ:"Troubleshooting",helpTroubleshootingA:"If something is not working, try these quick steps:",helpTs1:"Reload Google Calendar and reopen the panel.",helpTs2:"Check sync toggles and the floating button in Integrations.",helpTs3:"If Drive/Calendar fails, disconnect Google and re-authorize from the action that requires it.",helpStatusQ:"Status",helpStatusAutoSync:"Auto-sync",helpStatusDedicated:"Dedicated calendar",helpStatusFloating:"Floating button",helpStatusDrive:"Drive backup",helpStatusLinked:"Linked",helpStatusNotLinked:"Not linked",helpStatusHint:"Manage these settings in Integrations and Data & maintenance.",helpDiagnosticsQ:"Diagnostics",helpDiagnosticsA:"Copies a small app status summary you can attach to a bug report (does not include OAuth tokens).",helpCopyDiagnostics:"Copy diagnostics",helpCopied:"Diagnostics copied.",helpCopyFailed:"Could not copy automatically. Please copy the text:",helpContactQ:"Contact",helpContactA:"For support, use the support email listed on the Chrome Web Store page. If you are reporting an issue, include the Diagnostics output too.",helpPrivacyQ:"Privacy",helpPrivacyA:"Your data is stored locally. Only if you enable integrations, Subly uses Google OAuth for Calendar and/or to store a JSON backup in Drive (appDataFolder).",helpPrivacyOpen:"Open privacy policy",onboardingTitle:"Getting started",onboardingDescription:"You can replay the onboarding anytime.",openOnboarding:"Replay onboarding",onboardingOpened:"Onboarding opened."},drive:{title:"Backup",body:"Save a backup to your Google Drive and restore a previous backup when needed.",lastBackup:"Last backup",save:"Save backup",restore:"Restore backup",saving:"Saving",restoring:"Restoring",restoreConfirm:"This will replace the data on this device with the Drive backup. Continue?",backupSaved:"Backup saved to Google Drive.",backupSaveFailed:"Could not save the backup to Google Drive.",backupRestored:"Data restored from Google Drive.",backupRestoreFailed:"Could not restore from Google Drive."},subscriptions:{listTitle:"List",subtitle:"Add, edit and review your subscriptions.",addSubscription:"Add subscription",noSubscriptions:"No subscriptions yet.",addToCalendar:"Add to Calendar",syncAll:"Sync all",syncing:"Syncing",syncToCalendar:"Sync to Calendar",syncCreate:"Create in Calendar",syncUpdate:"Update in Calendar",syncOk:"Synced with Google Calendar.",syncFailed:"Sync failed.",syncAllDone:"Sync finished: {{ok}} ok, {{fail}} failed.",autoSyncAllOn:"Auto-sync: ON",autoSyncAllOff:"Auto-sync: OFF",autoSyncAllHint:"When enabled, changes will sync (if already authorized).",autoSyncConfirm:"Do you want to sync all now?",editSubscription:"Edit subscription",addSubscriptionTitle:"Add subscription",searchPlaceholder:"Search",filtersToggle:"Filters",resultsCount:"Results: {{count}}",filterCategory:"Category",filterCurrency:"Currency",filterPeriod:"Period",filterMinPrice:"Min price",filterMaxPrice:"Max price",emptyFiltered:"No results for the current filters.",dueSoon:"Soon",columnName:"Subscription",columnPrice:"Amount",columnPeriod:"Period",columnStart:"Start",columnNext:"Next",columnCategory:"Category",columnActions:"Actions",insightsTitle:"Summary",insightsHint:"Amounts in {{currency}} equivalent.",insightsDueWindow:"Window: {{days}}d",insightsCount:"Subscriptions",insightsAvgMonthly:"Avg monthly",insightsAvgMonthlyHelper:"Equivalent in {{currency}}.",insightsUpcoming:"Upcoming",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Next: {{date}}",insightsTopCategory:"Top category",insightsTopCategoryHelper:"{{percent}}% of total",name:"Name",category:"Category",categoryPlaceholder:"e.g. Streaming",amount:"Amount",currency:"Currency",period:"Period",startDate:"Start date",helpIncomplete:"Fill name, amount and date.",startLabel:"Start",nextLabel:"Next",renewal:"Renewal",detailsAmount:"Amount",detailsPeriod:"Period",periodMonthly:"Monthly",periodQuarterly:"Quarterly",periodSemiannual:"Semiannual",periodAnnual:"Annual",toastCreated:"Subscription created.",toastUpdated:"Subscription updated.",toastDeleted:"Subscription deleted.",deleteConfirm:"Delete {{name}}? Its Google Calendar event will also be deleted if it exists.",calendarEventDeleted:"Google Calendar event deleted.",calendarDeleteFailed:"Could not delete the Google Calendar event."},dashboard:{monthlySpendTitle:"Monthly spend (equivalent)",noSubscriptionsYet:"No subscriptions yet.",fxRatesLabel:"FX rates",fxUpdating:"updating",fxReady:"real (cached)",fxUnavailable:"unavailable (fallback)",fxIdle:"",upcomingRenewalsTitle:"Upcoming renewals",noDataYet:"No data yet.",chartsTitle:"Charts",addSubsToSeeCharts:"Add subscriptions to see charts.",currencyLabel:"Currency: {{cur}}",kpiSubscriptions:"Subscriptions",kpiAvgMonthly:"Avg monthly",kpiDueSoon:"Due ( {{days}}d)",kpiTopCategory:"Top category",projectionTitle:"Monthly projection (last 12 months)",annualTopTitle:"Top annual spend (estimated)",monthlyByCategoryTitle:"Monthly spend by category (equivalent)",distributionTitle:"Distribution (monthly equivalent spend)",noData:"No data.",csvMonth:"Month",csvAmount:"Amount",csvCurrency:"Currency",csvName:"Name",csvAnnualAmount:"Annual amount",csvCategory:"Category",csvMonthlyEquivalent:"Monthly equivalent"}}};function NA(t,e){const n=e.split(".");let i=t;for(const r of n)if(typeof i!="object"||i===null||(i=i[r],i===void 0))return;return i}function jA(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(n,i)=>String(e[i]??"")):t}function OA(t,e,n){const i=Cv[t]??Cv.es,r=NA(i,e);if(typeof r=="string")return jA(r,n)}function uo(){const{state:t}=Ka(),e=t.settings.language==="en"?"en":"es",n=M.useCallback((i,r)=>OA(e,i,r),[e]);return{language:e,t:n}}function Mh({to:t,label:e}){return S.jsx(Ob,{to:t,className:({isActive:n})=>`rounded-md px-3 py-2 text-sm font-semibold ${n?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-200 dark:text-slate-200 dark:hover:bg-slate-800"}`,children:e})}function FA(){const{t}=uo();return S.jsxs("div",{className:"relative min-h-screen text-slate-900 dark:text-white",children:[S.jsx(LA,{}),S.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10",children:S.jsx(LE,{className:"h-full w-full",scale:1,gridMul:[3,2],digitSize:1.5,brightness:1.8,scanlineIntensity:.45,noiseAmp:1,clearColor:"#000000",baseColor:"#020617"})}),S.jsxs("div",{className:"min-h-screen bg-slate-50/65 dark:bg-slate-950/65",children:[S.jsx("header",{className:"sticky top-0 z-10 border-b border-slate-200 bg-white/90 backdrop-blur dark:border-slate-800 dark:bg-slate-950/90",children:S.jsxs("div",{className:"mx-auto flex max-w-3xl items-center justify-between gap-3 px-4 py-3",children:[S.jsx("div",{className:"text-sm font-black tracking-wide",children:"Subly"}),S.jsxs("nav",{className:"flex items-center gap-2",children:[S.jsx(Mh,{to:"/dashboard",label:t("nav.dashboard")??"Dashboard"}),S.jsx(Mh,{to:"/subscriptions",label:t("nav.subscriptions")??"Suscripciones"}),S.jsx(Mh,{to:"/settings",label:t("nav.settings")??"Ajustes"})]})]})}),S.jsx("main",{className:"mx-auto max-w-3xl px-4 py-4",children:S.jsx(w2,{})})]})]})}function Xa(t){return t+.5|0}const Cr=(t,e,n)=>Math.max(Math.min(t,n),e);function aa(t){return Cr(Xa(t*2.55),0,255)}function Er(t){return Cr(Xa(t*255),0,255)}function Bi(t){return Cr(Xa(t/2.55)/100,0,1)}function kv(t){return Cr(Xa(t*100),0,100)}const Fn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bf=[..."0123456789ABCDEF"],IA=t=>bf[t&15],zA=t=>bf[(t&240)>>4]+bf[t&15],sc=t=>(t&240)>>4===(t&15),BA=t=>sc(t.r)&&sc(t.g)&&sc(t.b)&&sc(t.a);function VA(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Fn[t[1]]*17,g:255&Fn[t[2]]*17,b:255&Fn[t[3]]*17,a:e===5?Fn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Fn[t[1]]<<4|Fn[t[2]],g:Fn[t[3]]<<4|Fn[t[4]],b:Fn[t[5]]<<4|Fn[t[6]],a:e===9?Fn[t[7]]<<4|Fn[t[8]]:255})),n}const UA=(t,e)=>t<255?e(t):"";function $A(t){var e=BA(t)?IA:zA;return t?"#"+e(t.r)+e(t.g)+e(t.b)+UA(t.a,e):void 0}const HA=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Aw(t,e,n){const i=e*Math.min(n,1-n),r=(o,a=(o+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function WA(t,e,n){const i=(r,o=(r+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function GA(t,e,n){const i=Aw(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function YA(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function xp(t){const n=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(n,i,r),a=Math.min(n,i,r),c=(o+a)/2;let u,h,f;return o!==a&&(f=o-a,h=c>.5?f/(2-o-a):f/(o+a),u=YA(n,i,r,f,o),u=u*60+.5),[u|0,h||0,c]}function bp(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Er)}function wp(t,e,n){return bp(Aw,t,e,n)}function KA(t,e,n){return bp(GA,t,e,n)}function XA(t,e,n){return bp(WA,t,e,n)}function Lw(t){return(t%360+360)%360}function qA(t){const e=HA.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?aa(+e[5]):Er(+e[5]));const r=Lw(+e[2]),o=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=KA(r,o,a):e[1]==="hsv"?i=XA(r,o,a):i=wp(r,o,a),{r:i[0],g:i[1],b:i[2],a:n}}function QA(t,e){var n=xp(t);n[0]=Lw(n[0]+e),n=wp(n),t.r=n[0],t.g=n[1],t.b=n[2]}function JA(t){if(!t)return;const e=xp(t),n=e[0],i=kv(e[1]),r=kv(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Bi(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const _v={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Mv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZA(){const t={},e=Object.keys(Mv),n=Object.keys(_v);let i,r,o,a,c;for(i=0;i<e.length;i++){for(a=c=e[i],r=0;r<n.length;r++)o=n[r],c=c.replace(o,_v[o]);o=parseInt(Mv[a],16),t[c]=[o>>16&255,o>>8&255,o&255]}return t}let oc;function eL(t){oc||(oc=ZA(),oc.transparent=[0,0,0,0]);const e=oc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const tL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nL(t){const e=tL.exec(t);let n=255,i,r,o;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?aa(a):Cr(a*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?aa(i):Cr(i,0,255)),r=255&(e[4]?aa(r):Cr(r,0,255)),o=255&(e[6]?aa(o):Cr(o,0,255)),{r:i,g:r,b:o,a:n}}}function iL(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Eh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ws=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rL(t,e,n){const i=Ws(Bi(t.r)),r=Ws(Bi(t.g)),o=Ws(Bi(t.b));return{r:Er(Eh(i+n*(Ws(Bi(e.r))-i))),g:Er(Eh(r+n*(Ws(Bi(e.g))-r))),b:Er(Eh(o+n*(Ws(Bi(e.b))-o))),a:t.a+n*(e.a-t.a)}}function ac(t,e,n){if(t){let i=xp(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=wp(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Nw(t,e){return t&&Object.assign(e||{},t)}function Ev(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Er(t[3]))):(e=Nw(t,{r:0,g:0,b:0,a:1}),e.a=Er(e.a)),e}function sL(t){return t.charAt(0)==="r"?nL(t):qA(t)}class Da{constructor(e){if(e instanceof Da)return e;const n=typeof e;let i;n==="object"?i=Ev(e):n==="string"&&(i=VA(e)||eL(e)||sL(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Nw(this._rgb);return e&&(e.a=Bi(e.a)),e}set rgb(e){this._rgb=Ev(e)}rgbString(){return this._valid?iL(this._rgb):void 0}hexString(){return this._valid?$A(this._rgb):void 0}hslString(){return this._valid?JA(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let o;const a=n===o?.5:n,c=2*a-1,u=i.a-r.a,h=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;o=1-h,i.r=255&h*i.r+o*r.r+.5,i.g=255&h*i.g+o*r.g+.5,i.b=255&h*i.b+o*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=rL(this._rgb,e._rgb,n)),this}clone(){return new Da(this.rgb)}alpha(e){return this._rgb.a=Er(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Xa(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ac(this._rgb,2,e),this}darken(e){return ac(this._rgb,2,-e),this}saturate(e){return ac(this._rgb,1,e),this}desaturate(e){return ac(this._rgb,1,-e),this}rotate(e){return QA(this._rgb,e),this}}function Oi(){}const oL=(()=>{let t=0;return()=>t++})();function Je(t){return t==null}function Dt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Xt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function hi(t,e){return Xt(t)?t:e}function Ie(t,e){return typeof t>"u"?e:t}const aL=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,jw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ct(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function tt(t,e,n,i){let r,o,a;if(Dt(t))for(o=t.length,r=0;r<o;r++)e.call(n,t[r],r);else if($e(t))for(a=Object.keys(t),o=a.length,r=0;r<o;r++)e.call(n,t[a[r]],a[r])}function $c(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Hc(t){if(Dt(t))return t.map(Hc);if($e(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Hc(t[n[r]]);return e}return t}function Ow(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function lL(t,e,n,i){if(!Ow(t))return;const r=e[t],o=n[t];$e(r)&&$e(o)?Ra(r,o,i):e[t]=Hc(o)}function Ra(t,e,n){const i=Dt(e)?e:[e],r=i.length;if(!$e(t))return t;n=n||{};const o=n.merger||lL;let a;for(let c=0;c<r;++c){if(a=i[c],!$e(a))continue;const u=Object.keys(a);for(let h=0,f=u.length;h<f;++h)o(u[h],t,a,n)}return t}function va(t,e){return Ra(t,e,{merger:cL})}function cL(t,e,n){if(!Ow(t))return;const i=e[t],r=n[t];$e(i)&&$e(r)?va(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Hc(r))}const Tv={"":t=>t,x:t=>t.x,y:t=>t.y};function uL(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function dL(t){const e=uL(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ps(t,e){return(Tv[e]||(Tv[e]=dL(e)))(t)}function Sp(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Aa=t=>typeof t<"u",Dr=t=>typeof t=="function",Pv=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function hL(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const rt=Math.PI,mt=2*rt,fL=mt+rt,Wc=Number.POSITIVE_INFINITY,pL=rt/180,Rt=rt/2,Zr=rt/4,Dv=rt*2/3,Fw=Math.log10,vi=Math.sign;function xa(t,e,n){return Math.abs(t-e)<n}function Rv(t){const e=Math.round(t);t=xa(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Fw(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function mL(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,o)=>r-o).pop(),e}function gL(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function La(t){return!gL(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function yL(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function vL(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ui(t){return t*(rt/180)}function xL(t){return t*(180/rt)}function Av(t){if(!Xt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Iw(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*rt&&(o+=mt),{angle:o,distance:r}}function wf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bL(t,e){return(t-e+fL)%mt-rt}function En(t){return(t%mt+mt)%mt}function Na(t,e,n,i){const r=En(t),o=En(e),a=En(n),c=En(o-r),u=En(a-r),h=En(r-o),f=En(r-a);return r===o||r===a||i&&o===a||c>u&&h<f}function Kt(t,e,n){return Math.max(e,Math.min(n,t))}function wL(t){return Kt(t,-32768,32767)}function $i(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Cp(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,n(o)?r=o:i=o;return{lo:r,hi:i}}const cs=(t,e,n,i)=>Cp(t,n,i?r=>{const o=t[r][e];return o<n||o===n&&t[r+1][e]===n}:r=>t[r][e]<n),SL=(t,e,n)=>Cp(t,n,i=>t[i][e]>=n);function CL(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const zw=["push","pop","shift","splice","unshift"];function kL(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),zw.forEach(n=>{const i="_onData"+Sp(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const a=r.apply(this,o);return t._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...o)}),a}})})}function Lv(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(zw.forEach(o=>{delete t[o]}),delete t._chartjs)}function Bw(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Vw=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Uw(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,Vw.call(window,()=>{i=!1,t.apply(e,n)}))}}function _L(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const $w=t=>t==="start"?"left":t==="end"?"right":"center",_n=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,ML=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function EL(t,e,n){const i=e.length;let r=0,o=i;if(t._sorted){const{iScale:a,vScale:c,_parsed:u}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,f=a.axis,{min:m,max:g,minDefined:v,maxDefined:b}=a.getUserBounds();if(v){if(r=Math.min(cs(u,f,m).lo,n?i:cs(e,f,a.getPixelForValue(m)).lo),h){const w=u.slice(0,r+1).reverse().findIndex(C=>!Je(C[c.axis]));r-=Math.max(0,w)}r=Kt(r,0,i-1)}if(b){let w=Math.max(cs(u,a.axis,g,!0).hi+1,n?0:cs(e,f,a.getPixelForValue(g),!0).hi+1);if(h){const C=u.slice(w-1).findIndex(_=>!Je(_[c.axis]));w+=Math.max(0,C)}o=Kt(w,r,i)-r}else o=i-r}return{start:r,count:o}}function TL(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}const lc=t=>t===0||t===1,Nv=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*mt/n)),jv=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*mt/n)+1,ba={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Rt)+1,easeOutSine:t=>Math.sin(t*Rt),easeInOutSine:t=>-.5*(Math.cos(rt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>lc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>lc(t)?t:Nv(t,.075,.3),easeOutElastic:t=>lc(t)?t:jv(t,.075,.3),easeInOutElastic(t){return lc(t)?t:t<.5?.5*Nv(t*2,.1125,.45):.5+.5*jv(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ba.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ba.easeInBounce(t*2)*.5:ba.easeOutBounce(t*2-1)*.5+.5};function kp(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ov(t){return kp(t)?t:new Da(t)}function Th(t){return kp(t)?t:new Da(t).saturate(.5).darken(.1).hexString()}const PL=["x","y","borderWidth","radius","tension"],DL=["color","borderColor","backgroundColor"];function RL(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:DL},numbers:{type:"number",properties:PL}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function AL(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Fv=new Map;function LL(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Fv.get(n);return i||(i=new Intl.NumberFormat(t,e),Fv.set(n,i)),i}function _p(t,e,n){return LL(e,n).format(t)}const NL={values(t){return Dt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,o=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),o=jL(t,n)}const a=Fw(Math.abs(o)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),_p(t,i,u)}};function jL(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Hw={formatters:NL};function OL(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ms=Object.create(null),Sf=Object.create(null);function wa(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function Ph(t,e,n){return typeof e=="string"?Ra(wa(t,e),n):Ra(wa(t,""),e)}class FL{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Th(r.backgroundColor),this.hoverBorderColor=(i,r)=>Th(r.borderColor),this.hoverColor=(i,r)=>Th(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ph(this,e,n)}get(e){return wa(this,e)}describe(e,n){return Ph(Sf,e,n)}override(e,n){return Ph(ms,e,n)}route(e,n,i,r){const o=wa(this,e),a=wa(this,i),c="_"+n;Object.defineProperties(o,{[c]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],h=a[r];return $e(u)?Object.assign({},h,u):Ie(u,h)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var St=new FL({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RL,AL,OL]);function IL(t){return!t||Je(t.size)||Je(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Iv(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function es(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function zv(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Cf(t,e,n,i){Ww(t,e,n,i,null)}function Ww(t,e,n,i,r){let o,a,c,u,h,f,m,g;const v=e.pointStyle,b=e.rotation,w=e.radius;let C=(b||0)*pL;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(C),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),v){default:r?t.ellipse(n,i,r/2,w,0,0,mt):t.arc(n,i,w,0,mt),t.closePath();break;case"triangle":f=r?r/2:w,t.moveTo(n+Math.sin(C)*f,i-Math.cos(C)*w),C+=Dv,t.lineTo(n+Math.sin(C)*f,i-Math.cos(C)*w),C+=Dv,t.lineTo(n+Math.sin(C)*f,i-Math.cos(C)*w),t.closePath();break;case"rectRounded":h=w*.516,u=w-h,a=Math.cos(C+Zr)*u,m=Math.cos(C+Zr)*(r?r/2-h:u),c=Math.sin(C+Zr)*u,g=Math.sin(C+Zr)*(r?r/2-h:u),t.arc(n-m,i-c,h,C-rt,C-Rt),t.arc(n+g,i-a,h,C-Rt,C),t.arc(n+m,i+c,h,C,C+Rt),t.arc(n-g,i+a,h,C+Rt,C+rt),t.closePath();break;case"rect":if(!b){u=Math.SQRT1_2*w,f=r?r/2:u,t.rect(n-f,i-u,2*f,2*u);break}C+=Zr;case"rectRot":m=Math.cos(C)*(r?r/2:w),a=Math.cos(C)*w,c=Math.sin(C)*w,g=Math.sin(C)*(r?r/2:w),t.moveTo(n-m,i-c),t.lineTo(n+g,i-a),t.lineTo(n+m,i+c),t.lineTo(n-g,i+a),t.closePath();break;case"crossRot":C+=Zr;case"cross":m=Math.cos(C)*(r?r/2:w),a=Math.cos(C)*w,c=Math.sin(C)*w,g=Math.sin(C)*(r?r/2:w),t.moveTo(n-m,i-c),t.lineTo(n+m,i+c),t.moveTo(n+g,i-a),t.lineTo(n-g,i+a);break;case"star":m=Math.cos(C)*(r?r/2:w),a=Math.cos(C)*w,c=Math.sin(C)*w,g=Math.sin(C)*(r?r/2:w),t.moveTo(n-m,i-c),t.lineTo(n+m,i+c),t.moveTo(n+g,i-a),t.lineTo(n-g,i+a),C+=Zr,m=Math.cos(C)*(r?r/2:w),a=Math.cos(C)*w,c=Math.sin(C)*w,g=Math.sin(C)*(r?r/2:w),t.moveTo(n-m,i-c),t.lineTo(n+m,i+c),t.moveTo(n+g,i-a),t.lineTo(n-g,i+a);break;case"line":a=r?r/2:Math.cos(C)*w,c=Math.sin(C)*w,t.moveTo(n-a,i-c),t.lineTo(n+a,i+c);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(C)*(r?r/2:w),i+Math.sin(C)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ja(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function su(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ou(t){t.restore()}function zL(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function BL(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function VL(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Je(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function UL(t,e,n,i,r){if(r.strikethrough||r.underline){const o=t.measureText(i),a=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,h=n+o.actualBoundingBoxDescent,f=r.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(a,f),t.lineTo(c,f),t.stroke()}}function $L(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Gc(t,e,n,i,r,o={}){const a=Dt(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let u,h;for(t.save(),t.font=r.string,VL(t,o),u=0;u<a.length;++u)h=a[u],o.backdrop&&$L(t,o.backdrop),c&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Je(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(h,n,i,o.maxWidth)),t.fillText(h,n,i,o.maxWidth),UL(t,n,i,h,o),i+=Number(r.lineHeight);t.restore()}function Yc(t,e){const{x:n,y:i,w:r,h:o,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*rt,rt,!0),t.lineTo(n,i+o-a.bottomLeft),t.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,rt,Rt,!0),t.lineTo(n+r-a.bottomRight,i+o),t.arc(n+r-a.bottomRight,i+o-a.bottomRight,a.bottomRight,Rt,0,!0),t.lineTo(n+r,i+a.topRight),t.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-Rt,!0),t.lineTo(n+a.topLeft,i)}const HL=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WL=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GL(t,e){const n=(""+t).match(HL);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const YL=t=>+t||0;function Mp(t,e){const n={},i=$e(e),r=i?Object.keys(e):e,o=$e(t)?i?a=>Ie(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of r)n[a]=YL(o(a));return n}function Gw(t){return Mp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function no(t){return Mp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ri(t){const e=Gw(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function yn(t,e){t=t||{},e=e||St.font;let n=Ie(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ie(t.style,e.style);i&&!(""+i).match(WL)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ie(t.family,e.family),lineHeight:GL(Ie(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ie(t.weight,e.weight),string:""};return r.string=IL(r),r}function cc(t,e,n,i){let r,o,a;for(r=0,o=t.length;r<o;++r)if(a=t[r],a!==void 0&&a!==void 0)return a}function KL(t,e,n){const{min:i,max:r}=t,o=jw(e,(r-i)/2),a=(c,u)=>n&&c===0?0:c+u;return{min:a(i,-Math.abs(o)),max:a(r,o)}}function xs(t,e){return Object.assign(Object.create(t),e)}function Ep(t,e=[""],n,i,r=()=>t[0]){const o=n||t;typeof i>"u"&&(i=qw("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:r,override:c=>Ep([c,...t],e,o,i)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return Kw(c,u,()=>nN(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return Vv(c).includes(u)},ownKeys(c){return Vv(c)},set(c,u,h){const f=c._storage||(c._storage=r());return c[u]=f[u]=h,delete c._keys,!0}})}function so(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Yw(t,i),setContext:o=>so(t,o,n,i),override:o=>so(t.override(o),e,n,i)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete t[a],!0},get(o,a,c){return Kw(o,a,()=>qL(o,a,c))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(o,a,c){return t[a]=c,delete o[a],!0}})}function Yw(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Dr(n)?n:()=>n,isIndexable:Dr(i)?i:()=>i}}const XL=(t,e)=>t?t+Sp(e):e,Tp=(t,e)=>$e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Kw(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function qL(t,e,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=t;let c=i[e];return Dr(c)&&a.isScriptable(e)&&(c=QL(e,c,t,n)),Dt(c)&&c.length&&(c=JL(e,c,t,a.isIndexable)),Tp(e,c)&&(c=so(c,r,o&&o[e],a)),c}function QL(t,e,n,i){const{_proxy:r,_context:o,_subProxy:a,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(o,a||i);return c.delete(t),Tp(t,u)&&(u=Pp(r._scopes,r,t,u)),u}function JL(t,e,n,i){const{_proxy:r,_context:o,_subProxy:a,_descriptors:c}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if($e(e[0])){const u=e,h=r._scopes.filter(f=>f!==u);e=[];for(const f of u){const m=Pp(h,r,t,f);e.push(so(m,o,a&&a[t],c))}}return e}function Xw(t,e,n){return Dr(t)?t(e,n):t}const ZL=(t,e)=>t===!0?e:typeof t=="string"?ps(e,t):void 0;function eN(t,e,n,i,r){for(const o of e){const a=ZL(n,o);if(a){t.add(a);const c=Xw(a._fallback,n,r);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function Pp(t,e,n,i){const r=e._rootScopes,o=Xw(e._fallback,n,i),a=[...t,...r],c=new Set;c.add(i);let u=Bv(c,a,n,o||n,i);return u===null||typeof o<"u"&&o!==n&&(u=Bv(c,a,o,u,i),u===null)?!1:Ep(Array.from(c),[""],r,o,()=>tN(e,n,i))}function Bv(t,e,n,i,r){for(;n;)n=eN(t,e,n,i,r);return n}function tN(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Dt(r)&&$e(n)?n:r||{}}function nN(t,e,n,i){let r;for(const o of e)if(r=qw(XL(o,t),n),typeof r<"u")return Tp(t,r)?Pp(n,i,t,r):r}function qw(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Vv(t){let e=t._keys;return e||(e=t._keys=iN(t._scopes)),e}function iN(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const rN=Number.EPSILON||1e-14,oo=(t,e)=>e<t.length&&!t[e].skip&&t[e],Qw=t=>t==="x"?"y":"x";function sN(t,e,n,i){const r=t.skip?e:t,o=e,a=n.skip?e:n,c=wf(o,r),u=wf(a,o);let h=c/(c+u),f=u/(c+u);h=isNaN(h)?0:h,f=isNaN(f)?0:f;const m=i*h,g=i*f;return{previous:{x:o.x-m*(a.x-r.x),y:o.y-m*(a.y-r.y)},next:{x:o.x+g*(a.x-r.x),y:o.y+g*(a.y-r.y)}}}function oN(t,e,n){const i=t.length;let r,o,a,c,u,h=oo(t,0);for(let f=0;f<i-1;++f)if(u=h,h=oo(t,f+1),!(!u||!h)){if(xa(e[f],0,rN)){n[f]=n[f+1]=0;continue}r=n[f]/e[f],o=n[f+1]/e[f],c=Math.pow(r,2)+Math.pow(o,2),!(c<=9)&&(a=3/Math.sqrt(c),n[f]=r*a*e[f],n[f+1]=o*a*e[f])}}function aN(t,e,n="x"){const i=Qw(n),r=t.length;let o,a,c,u=oo(t,0);for(let h=0;h<r;++h){if(a=c,c=u,u=oo(t,h+1),!c)continue;const f=c[n],m=c[i];a&&(o=(f-a[n])/3,c[`cp1${n}`]=f-o,c[`cp1${i}`]=m-o*e[h]),u&&(o=(u[n]-f)/3,c[`cp2${n}`]=f+o,c[`cp2${i}`]=m+o*e[h])}}function lN(t,e="x"){const n=Qw(e),i=t.length,r=Array(i).fill(0),o=Array(i);let a,c,u,h=oo(t,0);for(a=0;a<i;++a)if(c=u,u=h,h=oo(t,a+1),!!u){if(h){const f=h[e]-u[e];r[a]=f!==0?(h[n]-u[n])/f:0}o[a]=c?h?vi(r[a-1])!==vi(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}oN(t,r,o),aN(t,o,e)}function uc(t,e,n){return Math.max(Math.min(t,n),e)}function cN(t,e){let n,i,r,o,a,c=ja(t[0],e);for(n=0,i=t.length;n<i;++n)a=o,o=c,c=n<i-1&&ja(t[n+1],e),o&&(r=t[n],a&&(r.cp1x=uc(r.cp1x,e.left,e.right),r.cp1y=uc(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=uc(r.cp2x,e.left,e.right),r.cp2y=uc(r.cp2y,e.top,e.bottom)))}function uN(t,e,n,i,r){let o,a,c,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")lN(t,r);else{let h=i?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)c=t[o],u=sN(h,c,t[Math.min(o+1,a-(i?0:1))%a],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,h=c}e.capBezierPoints&&cN(t,n)}function Dp(){return typeof window<"u"&&typeof document<"u"}function Rp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Kc(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const au=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function dN(t,e){return au(t).getPropertyValue(e)}const hN=["top","right","bottom","left"];function ds(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=hN[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const fN=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function pN(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=i;let a=!1,c,u;if(fN(r,o,t.target))c=r,u=o;else{const h=e.getBoundingClientRect();c=i.clientX-h.left,u=i.clientY-h.top,a=!0}return{x:c,y:u,box:a}}function is(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=au(n),o=r.boxSizing==="border-box",a=ds(r,"padding"),c=ds(r,"border","width"),{x:u,y:h,box:f}=pN(t,n),m=a.left+(f&&c.left),g=a.top+(f&&c.top);let{width:v,height:b}=e;return o&&(v-=a.width+c.width,b-=a.height+c.height),{x:Math.round((u-m)/v*n.width/i),y:Math.round((h-g)/b*n.height/i)}}function mN(t,e,n){let i,r;if(e===void 0||n===void 0){const o=t&&Rp(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const a=o.getBoundingClientRect(),c=au(o),u=ds(c,"border","width"),h=ds(c,"padding");e=a.width-h.width-u.width,n=a.height-h.height-u.height,i=Kc(c.maxWidth,o,"clientWidth"),r=Kc(c.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||Wc,maxHeight:r||Wc}}const kr=t=>Math.round(t*10)/10;function gN(t,e,n,i){const r=au(t),o=ds(r,"margin"),a=Kc(r.maxWidth,t,"clientWidth")||Wc,c=Kc(r.maxHeight,t,"clientHeight")||Wc,u=mN(t,e,n);let{width:h,height:f}=u;if(r.boxSizing==="content-box"){const g=ds(r,"border","width"),v=ds(r,"padding");h-=v.width+g.width,f-=v.height+g.height}return h=Math.max(0,h-o.width),f=Math.max(0,i?h/i:f-o.height),h=kr(Math.min(h,a,u.maxWidth)),f=kr(Math.min(f,c,u.maxHeight)),h&&!f&&(f=kr(h/2)),(e!==void 0||n!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,h=kr(Math.floor(f*i))),{width:h,height:f}}function Uv(t,e,n){const i=e||1,r=kr(t.height*i),o=kr(t.width*i);t.height=kr(t.height),t.width=kr(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==r||a.width!==o?(t.currentDevicePixelRatio=i,a.height=r,a.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const yN=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Dp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function $v(t,e){const n=dN(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function rs(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function vN(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function xN(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=rs(t,r,n),c=rs(r,o,n),u=rs(o,e,n),h=rs(a,c,n),f=rs(c,u,n);return rs(h,f,n)}const bN=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},wN=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function io(t,e,n){return t?bN(e,n):wN()}function Jw(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Zw(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function eS(t){return t==="angle"?{between:Na,compare:bL,normalize:En}:{between:$i,compare:(e,n)=>e-n,normalize:e=>e}}function Hv({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function SN(t,e,n){const{property:i,start:r,end:o}=n,{between:a,normalize:c}=eS(i),u=e.length;let{start:h,end:f,loop:m}=t,g,v;if(m){for(h+=u,f+=u,g=0,v=u;g<v&&a(c(e[h%u][i]),r,o);++g)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:m,style:t.style}}function tS(t,e,n){if(!n)return[t];const{property:i,start:r,end:o}=n,a=e.length,{compare:c,between:u,normalize:h}=eS(i),{start:f,end:m,loop:g,style:v}=SN(t,e,n),b=[];let w=!1,C=null,_,P,E;const A=()=>u(r,E,_)&&c(r,E)!==0,D=()=>c(o,_)===0||u(o,E,_),j=()=>w||A(),T=()=>!w||D();for(let R=f,V=f;R<=m;++R)P=e[R%a],!P.skip&&(_=h(P[i]),_!==E&&(w=u(_,r,o),C===null&&j()&&(C=c(_,r)===0?R:V),C!==null&&T()&&(b.push(Hv({start:C,end:R,loop:g,count:a,style:v})),C=null),V=R,E=_));return C!==null&&b.push(Hv({start:C,end:m,loop:g,count:a,style:v})),b}function nS(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const o=tS(i[r],t.points,e);o.length&&n.push(...o)}return n}function CN(t,e,n,i){let r=0,o=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function kN(t,e,n,i){const r=t.length,o=[];let a=e,c=t[e],u;for(u=e+1;u<=n;++u){const h=t[u%r];h.skip||h.stop?c.skip||(i=!1,o.push({start:e%r,end:(u-1)%r,loop:i}),e=a=h.stop?u:null):(a=u,c.skip&&(e=u)),c=h}return a!==null&&o.push({start:e%r,end:a%r,loop:i}),o}function _N(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const o=!!t._loop,{start:a,end:c}=CN(n,r,o,i);if(i===!0)return Wv(t,[{start:a,end:c,loop:o}],n,e);const u=c<a?c+r:c,h=!!t._fullLoop&&a===0&&c===r-1;return Wv(t,kN(n,a,u,h),n,e)}function Wv(t,e,n,i){return!i||!i.setContext||!n?e:MN(t,e,n,i)}function MN(t,e,n,i){const r=t._chart.getContext(),o=Gv(t.options),{_datasetIndex:a,options:{spanGaps:c}}=t,u=n.length,h=[];let f=o,m=e[0].start,g=m;function v(b,w,C,_){const P=c?-1:1;if(b!==w){for(b+=u;n[b%u].skip;)b-=P;for(;n[w%u].skip;)w+=P;b%u!==w%u&&(h.push({start:b%u,end:w%u,loop:C,style:_}),f=_,m=w%u)}}for(const b of e){m=c?m:b.start;let w=n[m%u],C;for(g=m+1;g<=b.end;g++){const _=n[g%u];C=Gv(i.setContext(xs(r,{type:"segment",p0:w,p1:_,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:a}))),EN(C,f)&&v(m,g-1,b.loop,f),w=_,f=C}m<g-1&&v(m,g-1,b.loop,f)}return h}function Gv(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function EN(t,e){if(!e)return!1;const n=[],i=function(r,o){return kp(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function dc(t,e,n){return t.options.clip?t[n]:e[n]}function TN(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:dc(n,e,"left"),right:dc(n,e,"right"),top:dc(i,e,"top"),bottom:dc(i,e,"bottom")}:e}function iS(t,e){const n=e._clip;if(n.disabled)return!1;const i=TN(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}class PN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const o=n.listeners[r],a=n.duration;o.forEach(c=>c({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Vw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,c=!1,u;for(;a>=0;--a)u=o[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(o[a]=o[o.length-1],o.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ii=new PN;const Yv="transparent",DN={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Ov(t||Yv),r=i.valid&&Ov(e||Yv);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class RN{constructor(e,n,i,r){const o=n[i];r=cc([e.to,r,o,e.from]);const a=cc([e.from,o,r]);this._active=!0,this._fn=e.fn||DN[e.type||typeof a],this._easing=ba[e.easing]||ba.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=cc([e.to,n,r,e.from]),this._from=cc([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,o=this._from,a=this._loop,c=this._to;let u;if(this._active=o!==c&&(a||n<i),!this._active){this._target[r]=c,this._notify(!0);return}if(n<0){this._target[r]=o;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(o,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class rS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!$e(e))return;const n=Object.keys(St.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!$e(o))return;const a={};for(const c of n)a[c]=o[c];(Dt(o.properties)&&o.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,a)})})}_animateOptions(e,n){const i=n.options,r=LN(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&AN(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),a=Object.keys(n),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const h=a[u];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,n));continue}const f=n[h];let m=o[h];const g=i.get(h);if(m)if(g&&m.active()){m.update(g,f,c);continue}else m.cancel();if(!g||!g.duration){e[h]=f;continue}o[h]=m=new RN(g,e,h,f),r.push(m)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Ii.add(this._chart,i),!0}}function AN(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=t[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function LN(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Kv(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function NN(t,e,n){if(n===!1)return!1;const i=Kv(t,n),r=Kv(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function jN(t){let e,n,i,r;return $e(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function sS(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function Xv(t,e,n,i={}){const r=t.keys,o=i.mode==="single";let a,c,u,h;if(e===null)return;let f=!1;for(a=0,c=r.length;a<c;++a){if(u=+r[a],u===n){if(f=!0,i.all)continue;break}h=t.values[u],Xt(h)&&(o||e===0||vi(e)===vi(h))&&(e+=h)}return!f&&!i.all?0:e}function ON(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",a=Object.keys(t),c=new Array(a.length);let u,h,f;for(u=0,h=a.length;u<h;++u)f=a[u],c[u]={[r]:f,[o]:t[f]};return c}function Dh(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function FN(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function IN(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function zN(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function qv(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=t[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function Qv(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:c}=i,u=o.axis,h=a.axis,f=FN(o,a,i),m=e.length;let g;for(let v=0;v<m;++v){const b=e[v],{[u]:w,[h]:C}=b,_=b._stacks||(b._stacks={});g=_[h]=zN(r,f,w),g[c]=C,g._top=qv(g,a,!0,i.type),g._bottom=qv(g,a,!1,i.type);const P=g._visualValues||(g._visualValues={});P[c]=C}}function Rh(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function BN(t,e){return xs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function VN(t,e,n){return xs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Qo(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Ah=t=>t==="reset"||t==="none",Jv=(t,e)=>e?t:Object.assign({},t),UN=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:sS(n,!0),values:null};class lu{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Dh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Qo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(m,g,v,b)=>m==="x"?g:m==="r"?b:v,o=n.xAxisID=Ie(i.xAxisID,Rh(e,"x")),a=n.yAxisID=Ie(i.yAxisID,Rh(e,"y")),c=n.rAxisID=Ie(i.rAxisID,Rh(e,"r")),u=n.indexAxis,h=n.iAxisID=r(u,o,a,c),f=n.vAxisID=r(u,a,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Lv(this._data,this),e._stacked&&Qo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if($e(n)){const r=this._cachedMeta;this._data=ON(n,r)}else if(i!==n){if(i){Lv(i,this);const r=this._cachedMeta;Qo(r),r._parsed=[]}n&&Object.isExtensible(n)&&kL(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=n._stacked;n._stacked=Dh(n.vScale,n),n.stack!==i.stack&&(r=!0,Qo(n),n.stack=i.stack),this._resyncElements(e),(r||o!==n._stacked)&&(Qv(this,n._parsed),n._stacked=Dh(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:a}=i,c=o.axis;let u=e===0&&n===r.length?!0:i._sorted,h=e>0&&i._parsed[e-1],f,m,g;if(this._parsing===!1)i._parsed=r,i._sorted=!0,g=r;else{Dt(r[e])?g=this.parseArrayData(i,r,e,n):$e(r[e])?g=this.parseObjectData(i,r,e,n):g=this.parsePrimitiveData(i,r,e,n);const v=()=>m[c]===null||h&&m[c]<h[c];for(f=0;f<n;++f)i._parsed[f+e]=m=g[f],u&&(v()&&(u=!1),h=m);i._sorted=u}a&&Qv(this,g)}parsePrimitiveData(e,n,i,r){const{iScale:o,vScale:a}=e,c=o.axis,u=a.axis,h=o.getLabels(),f=o===a,m=new Array(r);let g,v,b;for(g=0,v=r;g<v;++g)b=g+i,m[g]={[c]:f||o.parse(h[b],b),[u]:a.parse(n[b],b)};return m}parseArrayData(e,n,i,r){const{xScale:o,yScale:a}=e,c=new Array(r);let u,h,f,m;for(u=0,h=r;u<h;++u)f=u+i,m=n[f],c[u]={x:o.parse(m[0],f),y:a.parse(m[1],f)};return c}parseObjectData(e,n,i,r){const{xScale:o,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=new Array(r);let f,m,g,v;for(f=0,m=r;f<m;++f)g=f+i,v=n[g],h[f]={x:o.parse(ps(v,c),g),y:a.parse(ps(v,u),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,o=this._cachedMeta,a=n[e.axis],c={keys:sS(r,!0),values:n._stacks[e.axis]._visualValues};return Xv(c,a,o.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const o=i[n.axis];let a=o===null?NaN:o;const c=r&&i._stacks[n.axis];r&&c&&(r.values=c,a=Xv(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,a=r.length,c=this._getOtherScale(e),u=UN(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:m}=IN(c);let g,v;function b(){v=r[g];const w=v[c.axis];return!Xt(v[e.axis])||f>w||m<w}for(g=0;g<a&&!(!b()&&(this.updateRangeFromParsed(h,e,v,u),o));++g);if(o){for(g=a-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(h,e,v,u);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,o,a;for(r=0,o=n.length;r<o;++r)a=n[r][e.axis],Xt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=jN(Ie(this.options.clip,NN(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],o=n.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||r.length-c,h=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,o,c,u),f=c;f<c+u;++f){const m=r[f];m.hidden||(m.active&&h?a.push(m):m.draw(e,o))}for(f=0;f<a.length;++f)a[f].draw(e,o)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=VN(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=BN(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",o=this._cachedDataOpts,a=e+"-"+n,c=o[a],u=this.enableOptionSharing&&Aa(i);if(c)return Jv(c,u);const h=this.chart.config,f=h.datasetElementScopeKeys(this._type,e),m=r?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),f),v=Object.keys(St.elements[e]),b=()=>this.getContext(i,r,n),w=h.resolveNamedOptions(g,v,b,m);return w.$shared&&(w.$shared=u,o[a]=Object.freeze(Jv(w,u))),w}_resolveAnimations(e,n,i){const r=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,c=o[a];if(c)return c;let u;if(r.options.animation!==!1){const f=this.chart.config,m=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),m);u=f.createResolver(g,this.getContext(e,i,n))}const h=new rS(r,u&&u.animations);return u&&u._cacheable&&(o[a]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ah(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(n,o)||o!==r;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:a}}updateElement(e,n,i,r){Ah(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Ah(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const o=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[c,u,h]of this._syncList)this[c](u,h);this._syncList=[];const r=i.length,o=n.length,a=Math.min(o,r);a&&this.parse(0,a),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,n,i=!0){const r=this._cachedMeta,o=r.data,a=e+n;let c;const u=h=>{for(h.length+=n,c=h.length-1;c>=a;c--)h[c]=h[c-n]};for(u(o),c=e;c<a;++c)o[c]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(o,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Qo(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function $N(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=Bw(i.sort((r,o)=>r-o))}return t._cache.$bar}function HN(t){const e=t.iScale,n=$N(e,t.type);let i=e._length,r,o,a,c;const u=()=>{a===32767||a===-32768||(Aa(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(r=0,o=n.length;r<o;++r)a=e.getPixelForValue(n[r]),u();for(c=void 0,r=0,o=e.ticks.length;r<o;++r)a=e.getPixelForTick(r),u();return i}function WN(t,e,n,i){const r=n.barThickness;let o,a;return Je(r)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=r*i,a=1),{chunk:o/i,ratio:a,start:e.pixels[t]-o/2}}function GN(t,e,n,i){const r=e.pixels,o=r[t];let a=t>0?r[t-1]:null,c=t<r.length-1?r[t+1]:null;const u=n.categoryPercentage;a===null&&(a=o-(c===null?e.end-e.start:c-o)),c===null&&(c=o+o-a);const h=o-(o-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/i,ratio:n.barPercentage,start:h}}function YN(t,e,n,i){const r=n.parse(t[0],i),o=n.parse(t[1],i),a=Math.min(r,o),c=Math.max(r,o);let u=a,h=c;Math.abs(a)>Math.abs(c)&&(u=c,h=a),e[n.axis]=h,e._custom={barStart:u,barEnd:h,start:r,end:o,min:a,max:c}}function oS(t,e,n,i){return Dt(t)?YN(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Zv(t,e,n,i){const r=t.iScale,o=t.vScale,a=r.getLabels(),c=r===o,u=[];let h,f,m,g;for(h=n,f=n+i;h<f;++h)g=e[h],m={},m[r.axis]=c||r.parse(a[h],h),u.push(oS(g,m,o,h));return u}function Lh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function KN(t,e,n){return t!==0?vi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function XN(t){let e,n,i,r,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:e,top:r,bottom:o}}function qN(t,e,n,i){let r=e.borderSkipped;const o={};if(!r){t.borderSkipped=o;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:h,bottom:f}=XN(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=h:(n._bottom||0)===i?r=f:(o[ex(f,a,c,u)]=!0,r=h)),o[ex(r,a,c,u)]=!0,t.borderSkipped=o}function ex(t,e,n,i){return i?(t=QN(t,e,n),t=tx(t,n,e)):t=tx(t,e,n),t}function QN(t,e,n){return t===e?n:t===n?e:t}function tx(t,e,n){return t==="start"?e:t==="end"?n:t}function JN(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ZN extends lu{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,r){return Zv(e,n,i,r)}parseArrayData(e,n,i,r){return Zv(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:o,vScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,h=o.axis==="x"?c:u,f=a.axis==="x"?c:u,m=[];let g,v,b,w;for(g=i,v=i+r;g<v;++g)w=n[g],b={},b[o.axis]=o.parse(ps(w,h),g),m.push(oS(ps(w,f),b,a,g));return m}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const o=i._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,o=this.getParsed(e),a=o._custom,c=Lh(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const o=r==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),h=c.isHorizontal(),f=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(n,r);for(let v=n;v<n+i;v++){const b=this.getParsed(v),w=o||Je(b[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),C=this._calculateBarIndexPixels(v,f),_=(b._stacks||{})[c.axis],P={horizontal:h,base:w.base,enableBorderRadius:!_||Lh(b._custom)||a===_._top||a===_._bottom,x:h?w.head:C.center,y:h?C.center:w.head,height:h?C.size:Math.abs(w.size),width:h?Math.abs(w.size):C.size};g&&(P.options=m||this.resolveDataElementOptions(v,e[v].active?"active":r));const E=P.options||e[v].options;qN(P,E,_,a),JN(P,E,f.ratio),this.updateElement(e[v],v,P,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(n),u=c&&c[i.axis],h=f=>{const m=f._parsed.find(v=>v[i.axis]===u),g=m&&m[f.vScale.axis];if(Je(g)||isNaN(g))return!0};for(const f of r)if(!(n!==void 0&&h(f))&&((o===!1||a.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Ie(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const r=this._getStacks(e,i),o=n!==void 0?r.indexOf(n):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let o,a;for(o=0,a=n.data.length;o<a;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const c=e.barThickness;return{min:c||HN(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:o,minBarLength:a}}=this,c=o||0,u=this.getParsed(e),h=u._custom,f=Lh(h);let m=u[n.axis],g=0,v=i?this.applyStack(n,u,i):m,b,w;v!==m&&(g=v-m,v=m),f&&(m=h.barStart,v=h.barEnd-h.barStart,m!==0&&vi(m)!==vi(h.barEnd)&&(g=0),g+=m);const C=!Je(o)&&!f?o:g;let _=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?b=n.getPixelForValue(g+v):b=_,w=b-_,Math.abs(w)<a){w=KN(w,n,c)*a,m===c&&(_-=w/2);const P=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),A=Math.min(P,E),D=Math.max(P,E);_=Math.max(Math.min(_,D),A),b=_+w,i&&!f&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(b)-n.getValueForPixel(_))}if(_===n.getPixelForValue(c)){const P=vi(w)*n.getLineWidthForValue(c)/2;_+=P,w-=P}return{size:w,base:_,head:b,center:b+w/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,o=r.skipNull,a=Ie(r.maxBarThickness,1/0);let c,u;const h=this._getAxisCount();if(n.grouped){const f=o?this._getStackCount(e):n.stackCount,m=r.barThickness==="flex"?GN(e,n,r,f*h):WN(e,n,r,f*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Ie(g,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+v;c=m.start+m.chunk*b+m.chunk/2,u=Math.min(a,m.chunk*m.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(a,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[n.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}function ej(t,e,n){let i=1,r=1,o=0,a=0;if(e<mt){const c=t,u=c+e,h=Math.cos(c),f=Math.sin(c),m=Math.cos(u),g=Math.sin(u),v=(E,A,D)=>Na(E,c,u,!0)?1:Math.max(A,A*n,D,D*n),b=(E,A,D)=>Na(E,c,u,!0)?-1:Math.min(A,A*n,D,D*n),w=v(0,h,m),C=v(Rt,f,g),_=b(rt,h,m),P=b(rt+Rt,f,g);i=(w-_)/2,r=(C-P)/2,o=-(w+_)/2,a=-(C+P)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:a}}class tj extends lu{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:a,borderRadius:c}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,h)=>{const m=e.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:m.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(h),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:r,pointStyle:i,borderRadius:a&&(c||m.borderRadius),index:h}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=u=>+i[u];if($e(i[e])){const{key:u="value"}=this._parsing;o=h=>+ps(i[h],u)}let a,c;for(a=e,c=e+n;a<c;++a)r._parsed[a]=o(a)}}_getRotation(){return Ui(this.options.rotation-90)}_getCircumference(){return Ui(this.options.circumference)}_getRotationExtents(){let e=mt,n=-mt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),a=r._getCircumference();e=Math.min(e,o),n=Math.max(n,o+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,o=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(aL(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:f,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:b,offsetY:w}=ej(m,f,u),C=(i.width-a)/g,_=(i.height-a)/v,P=Math.max(Math.min(C,_)/2,0),E=jw(this.options.radius,P),A=Math.max(E*u,0),D=(E-A)/this._getVisibleDatasetWeightTotal();this.offsetX=b*E,this.offsetY=w*E,r.total=this.calculateTotal(),this.outerRadius=E-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*h,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/mt)}updateElements(e,n,i,r){const o=r==="reset",a=this.chart,c=a.chartArea,h=a.options.animation,f=(c.left+c.right)/2,m=(c.top+c.bottom)/2,g=o&&h.animateScale,v=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:w,includeOptions:C}=this._getSharedOptions(n,r);let _=this._getRotation(),P;for(P=0;P<n;++P)_+=this._circumference(P,o);for(P=n;P<n+i;++P){const E=this._circumference(P,o),A=e[P],D={x:f+this.offsetX,y:m+this.offsetY,startAngle:_,endAngle:_+E,circumference:E,outerRadius:b,innerRadius:v};C&&(D.options=w||this.resolveDataElementOptions(P,A.active?"active":r)),_+=E,this.updateElement(A,P,D,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?mt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=_p(n._parsed[e],i.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,o,a,c,u;if(!e){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){a=i.getDatasetMeta(r),e=a.data,c=a.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)u=c.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class nj extends lu{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=n,a=this.chart._animationsDisabled;let{start:c,count:u}=EL(n,r,a);this._drawStart=c,this._drawCount=u,TL(n)&&(c=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:h},e),this.updateElements(r,c,u,e)}updateElements(e,n,i,r){const o=r==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(n,r),g=a.axis,v=c.axis,{spanGaps:b,segment:w}=this.options,C=La(b)?b:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||r==="none",P=n+i,E=e.length;let A=n>0&&this.getParsed(n-1);for(let D=0;D<E;++D){const j=e[D],T=_?j:{};if(D<n||D>=P){T.skip=!0;continue}const R=this.getParsed(D),V=Je(R[v]),I=T[g]=a.getPixelForValue(R[g],D),G=T[v]=o||V?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,R,u):R[v],D);T.skip=isNaN(I)||isNaN(G)||V,T.stop=D>0&&Math.abs(R[g]-A[g])>C,w&&(T.parsed=R,T.raw=h.data[D]),m&&(T.options=f||this.resolveDataElementOptions(D,j.active?"active":r)),_||this.updateElement(j,D,T,r),A=R}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function ts(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ap{static override(e){Object.assign(Ap.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ts()}parse(){return ts()}format(){return ts()}add(){return ts()}diff(){return ts()}startOf(){return ts()}endOf(){return ts()}}var ij={_date:Ap};function rj(t,e,n,i){const{controller:r,data:o,_sorted:a}=t,c=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&a&&o.length){const h=c._reversePixels?SL:cs;if(i){if(r._sharedOptions){const f=o[0],m=typeof f.getRange=="function"&&f.getRange(e);if(m){const g=h(o,e,n-m),v=h(o,e,n+m);return{lo:g.lo,hi:v.hi}}}}else{const f=h(o,e,n);if(u){const{vScale:m}=r._cachedMeta,{_parsed:g}=t,v=g.slice(0,f.lo+1).reverse().findIndex(w=>!Je(w[m.axis]));f.lo-=Math.max(0,v);const b=g.slice(f.hi).findIndex(w=>!Je(w[m.axis]));f.hi+=Math.max(0,b)}return f}}return{lo:0,hi:o.length-1}}function cu(t,e,n,i,r){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let c=0,u=o.length;c<u;++c){const{index:h,data:f}=o[c],{lo:m,hi:g}=rj(o[c],e,a,r);for(let v=m;v<=g;++v){const b=f[v];b.skip||i(b,h,v)}}}function sj(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,a=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Nh(t,e,n,i,r){const o=[];return!r&&!t.isPointInArea(e)||cu(t,n,e,function(c,u,h){!r&&!ja(c,t.chartArea,0)||c.inRange(e.x,e.y,i)&&o.push({element:c,datasetIndex:u,index:h})},!0),o}function oj(t,e,n,i){let r=[];function o(a,c,u){const{startAngle:h,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:m}=Iw(a,{x:e.x,y:e.y});Na(m,h,f)&&r.push({element:a,datasetIndex:c,index:u})}return cu(t,n,e,o),r}function aj(t,e,n,i,r,o){let a=[];const c=sj(n);let u=Number.POSITIVE_INFINITY;function h(f,m,g){const v=f.inRange(e.x,e.y,r);if(i&&!v)return;const b=f.getCenterPoint(r);if(!(!!o||t.isPointInArea(b))&&!v)return;const C=c(e,b);C<u?(a=[{element:f,datasetIndex:m,index:g}],u=C):C===u&&a.push({element:f,datasetIndex:m,index:g})}return cu(t,n,e,h),a}function jh(t,e,n,i,r,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?oj(t,e,n,r):aj(t,e,n,i,r,o)}function nx(t,e,n,i,r){const o=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return cu(t,n,e,(u,h,f)=>{u[a]&&u[a](e[n],r)&&(o.push({element:u,datasetIndex:h,index:f}),c=c||u.inRange(e.x,e.y,r))}),i&&!c?[]:o}var lj={modes:{index(t,e,n,i){const r=is(e,t),o=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?Nh(t,r,o,i,a):jh(t,r,o,!1,i,a),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const f=c[0].index,m=h.data[f];m&&!m.skip&&u.push({element:m,datasetIndex:h.index,index:f})}),u):[]},dataset(t,e,n,i){const r=is(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?Nh(t,r,o,i,a):jh(t,r,o,!1,i,a);if(c.length>0){const u=c[0].datasetIndex,h=t.getDatasetMeta(u).data;c=[];for(let f=0;f<h.length;++f)c.push({element:h[f],datasetIndex:u,index:f})}return c},point(t,e,n,i){const r=is(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return Nh(t,r,o,i,a)},nearest(t,e,n,i){const r=is(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return jh(t,r,o,n.intersect,i,a)},x(t,e,n,i){const r=is(e,t);return nx(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=is(e,t);return nx(t,r,"y",n.intersect,i)}}};const aS=["left","top","right","bottom"];function Jo(t,e){return t.filter(n=>n.pos===e)}function ix(t,e){return t.filter(n=>aS.indexOf(n.pos)===-1&&n.box.axis===e)}function Zo(t,e){return t.sort((n,i)=>{const r=e?i:n,o=e?n:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function cj(t){const e=[];let n,i,r,o,a,c;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:o,options:{stack:a,stackWeight:c=1}}=r,e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&o+a,stackWeight:c});return e}function uj(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:o}=n;if(!i||!aS.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return e}function dj(t,e){const n=uj(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,a,c;for(o=0,a=t.length;o<a;++o){c=t[o];const{fullSize:u}=c.box,h=n[c.stack],f=h&&c.stackWeight/h.weight;c.horizontal?(c.width=f?f*i:u&&e.availableWidth,c.height=r):(c.width=i,c.height=f?f*r:u&&e.availableHeight)}return n}function hj(t){const e=cj(t),n=Zo(e.filter(h=>h.box.fullSize),!0),i=Zo(Jo(e,"left"),!0),r=Zo(Jo(e,"right")),o=Zo(Jo(e,"top"),!0),a=Zo(Jo(e,"bottom")),c=ix(e,"x"),u=ix(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(u).concat(a).concat(c),chartArea:Jo(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:o.concat(a).concat(c)}}function rx(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function lS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function fj(t,e,n,i){const{pos:r,box:o}=n,a=t.maxPadding;if(!$e(r)){n.size&&(t[r]-=n.size);const m=i[n.stack]||{size:0,count:1};m.size=Math.max(m.size,n.horizontal?o.height:o.width),n.size=m.size/m.count,t[r]+=n.size}o.getPadding&&lS(a,o.getPadding());const c=Math.max(0,e.outerWidth-rx(a,t,"left","right")),u=Math.max(0,e.outerHeight-rx(a,t,"top","bottom")),h=c!==t.w,f=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:h,other:f}:{same:f,other:h}}function pj(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function mj(t,e){const n=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{o[a]=Math.max(e[a],n[a])}),o}return i(t?["left","right"]:["top","bottom"])}function la(t,e,n,i){const r=[];let o,a,c,u,h,f;for(o=0,a=t.length,h=0;o<a;++o){c=t[o],u=c.box,u.update(c.width||e.w,c.height||e.h,mj(c.horizontal,e));const{same:m,other:g}=fj(e,n,c,i);h|=m&&r.length,f=f||g,u.fullSize||r.push(c)}return h&&la(r,e,n,i)||f}function hc(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function sx(t,e,n,i){const r=n.padding;let{x:o,y:a}=e;for(const c of t){const u=c.box,h=i[c.stack]||{placed:0,weight:1},f=c.stackWeight/h.weight||1;if(c.horizontal){const m=e.w*f,g=h.size||u.height;Aa(h.start)&&(a=h.start),u.fullSize?hc(u,r.left,a,n.outerWidth-r.right-r.left,g):hc(u,e.left+h.placed,a,m,g),h.start=a,h.placed+=m,a=u.bottom}else{const m=e.h*f,g=h.size||u.width;Aa(h.start)&&(o=h.start),u.fullSize?hc(u,o,r.top,g,n.outerHeight-r.bottom-r.top):hc(u,o,e.top+h.placed,g,m),h.start=o,h.placed+=m,o=u.right}}e.x=o,e.y=a}var _r={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=ri(t.options.layout.padding),o=Math.max(e-r.width,0),a=Math.max(n-r.height,0),c=hj(t.boxes),u=c.vertical,h=c.horizontal;tt(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const f=u.reduce((w,C)=>C.box.options&&C.box.options.display===!1?w:w+1,0)||1,m=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/f,hBoxMaxHeight:a/2}),g=Object.assign({},r);lS(g,ri(i));const v=Object.assign({maxPadding:g,w:o,h:a,x:r.left,y:r.top},r),b=dj(u.concat(h),m);la(c.fullSize,v,m,b),la(u,v,m,b),la(h,v,m,b)&&la(u,v,m,b),pj(v),sx(c.leftAndTop,v,m,b),v.x+=v.w,v.y+=v.h,sx(c.rightAndBottom,v,m,b),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},tt(c.chartArea,w=>{const C=w.box;Object.assign(C,t.chartArea),C.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class cS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class gj extends cS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Rc="$chartjs",yj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ox=t=>t===null||t==="";function vj(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Rc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ox(r)){const o=$v(t,"width");o!==void 0&&(t.width=o)}if(ox(i))if(t.style.height==="")t.height=t.width/(e||2);else{const o=$v(t,"height");o!==void 0&&(t.height=o)}return t}const uS=yN?{passive:!0}:!1;function xj(t,e,n){t&&t.addEventListener(e,n,uS)}function bj(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,uS)}function wj(t,e){const n=yj[t.type]||t.type,{x:i,y:r}=is(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Xc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Sj(t,e,n){const i=t.canvas,r=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Xc(c.addedNodes,i),a=a&&!Xc(c.removedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function Cj(t,e,n){const i=t.canvas,r=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Xc(c.removedNodes,i),a=a&&!Xc(c.addedNodes,i);a&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const Oa=new Map;let ax=0;function dS(){const t=window.devicePixelRatio;t!==ax&&(ax=t,Oa.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function kj(t,e){Oa.size||window.addEventListener("resize",dS),Oa.set(t,e)}function _j(t){Oa.delete(t),Oa.size||window.removeEventListener("resize",dS)}function Mj(t,e,n){const i=t.canvas,r=i&&Rp(i);if(!r)return;const o=Uw((c,u)=>{const h=r.clientWidth;n(c,u),h<r.clientWidth&&n()},window),a=new ResizeObserver(c=>{const u=c[0],h=u.contentRect.width,f=u.contentRect.height;h===0&&f===0||o(h,f)});return a.observe(r),kj(t,o),a}function Oh(t,e,n){n&&n.disconnect(),e==="resize"&&_j(t)}function Ej(t,e,n){const i=t.canvas,r=Uw(o=>{t.ctx!==null&&n(wj(o,t))},t);return xj(i,e,r),r}class Tj extends cS{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(vj(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Rc])return!1;const i=n[Rc].initial;["height","width"].forEach(o=>{const a=i[o];Je(a)?n.removeAttribute(o):n.setAttribute(o,a)});const r=i.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[Rc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),a={attach:Sj,detach:Cj,resize:Mj}[n]||Ej;r[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Oh,detach:Oh,resize:Oh}[n]||bj)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return gN(e,n,i,r)}isAttached(e){const n=e&&Rp(e);return!!(n&&n.isConnected)}}function Pj(t){return!Dp()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?gj:Tj}let Ar=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return La(this.x)&&La(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function Dj(t,e){const n=t.options.ticks,i=Rj(t),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?Lj(e):[],a=o.length,c=o[0],u=o[a-1],h=[];if(a>r)return Nj(e,h,o,a/r),h;const f=Aj(o,e,r);if(a>0){let m,g;const v=a>1?Math.round((u-c)/(a-1)):null;for(fc(e,h,f,Je(v)?0:c-v,c),m=0,g=a-1;m<g;m++)fc(e,h,f,o[m],o[m+1]);return fc(e,h,f,u,Je(v)?e.length:u+v),h}return fc(e,h,f),h}function Rj(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function Aj(t,e,n){const i=jj(t),r=e.length/n;if(!i)return Math.max(r,1);const o=mL(i);for(let a=0,c=o.length-1;a<c;a++){const u=o[a];if(u>r)return u}return Math.max(r,1)}function Lj(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Nj(t,e,n,i){let r=0,o=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===o&&(e.push(t[a]),r++,o=n[r*i])}function fc(t,e,n,i,r){const o=Ie(i,0),a=Math.min(Ie(r,t.length),t.length);let c=0,u,h,f;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),f=o;f<0;)c++,f=Math.round(o+c*n);for(h=Math.max(o,0);h<a;h++)h===f&&(e.push(t[h]),c++,f=Math.round(o+c*n))}function jj(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Oj=t=>t==="left"?"right":t==="right"?"left":t,lx=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,cx=(t,e)=>Math.min(e||t,t);function ux(t,e){const n=[],i=t.length/e,r=t.length;let o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function Fj(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,a=t._endPixel,c=1e-6;let u=t.getPixelForTick(r),h;if(!(n&&(i===1?h=Math.max(u-o,a-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(r-1))/2,u+=r<e?h:-h,u<o-c||u>a+c)))return u}function Ij(t,e){tt(t,n=>{const i=n.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete n.data[i[o]];i.splice(0,r)}})}function ea(t){return t.drawTicks?t.tickLength:0}function dx(t,e){if(!t.display)return 0;const n=yn(t.font,e),i=ri(t.padding);return(Dt(t.text)?t.text.length:1)*n.lineHeight+i.height}function zj(t,e){return xs(t,{scale:e,type:"scale"})}function Bj(t,e,n){return xs(t,{tick:n,index:e,type:"tick"})}function Vj(t,e,n){let i=$w(t);return(n&&e!=="right"||!n&&e==="right")&&(i=Oj(i)),i}function Uj(t,e,n,i){const{top:r,left:o,bottom:a,right:c,chart:u}=t,{chartArea:h,scales:f}=u;let m=0,g,v,b;const w=a-r,C=c-o;if(t.isHorizontal()){if(v=_n(i,o,c),$e(n)){const _=Object.keys(n)[0],P=n[_];b=f[_].getPixelForValue(P)+w-e}else n==="center"?b=(h.bottom+h.top)/2+w-e:b=lx(t,n,e);g=c-o}else{if($e(n)){const _=Object.keys(n)[0],P=n[_];v=f[_].getPixelForValue(P)-C+e}else n==="center"?v=(h.left+h.right)/2-C+e:v=lx(t,n,e);b=_n(i,a,r),m=n==="left"?-Rt:Rt}return{titleX:v,titleY:b,maxWidth:g,rotation:m}}class ho extends Ar{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=hi(e,Number.POSITIVE_INFINITY),n=hi(n,Number.NEGATIVE_INFINITY),i=hi(i,Number.POSITIVE_INFINITY),r=hi(r,Number.NEGATIVE_INFINITY),{min:hi(e,i),max:hi(n,r),minDefined:Xt(e),maxDefined:Xt(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),a;if(r&&o)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,h=c.length;u<h;++u)a=c[u].controller.getMinMax(this,e),r||(n=Math.min(n,a.min)),o||(i=Math.max(i,a.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:hi(n,hi(i,n)),max:hi(i,hi(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ct(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:o,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=KL(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?ux(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Dj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ct(this.options.afterUpdate,[this])}beforeSetDimensions(){ct(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ct(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ct(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ct(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=ct(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){ct(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ct(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=cx(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,o=n.maxRotation;let a=r,c,u,h;if(!this._isVisible()||!n.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const f=this._getLabelSizes(),m=f.widest.width,g=f.highest.height,v=Kt(this.chart.width-m,0,this.maxWidth);c=e.offset?this.maxWidth/i:v/(i-1),m+6>c&&(c=v/(i-(e.offset?.5:1)),u=this.maxHeight-ea(e.grid)-n.padding-dx(e.title,this.chart.options.font),h=Math.sqrt(m*m+g*g),a=xL(Math.min(Math.asin(Kt((f.highest.height+6)/c,-1,1)),Math.asin(Kt(u/h,-1,1))-Math.asin(Kt(g/h,-1,1)))),a=Math.max(r,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){ct(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ct(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=dx(r,n.options.font);if(c?(e.width=this.maxWidth,e.height=ea(o)+u):(e.height=this.maxHeight,e.width=ea(o)+u),i.display&&this.ticks.length){const{first:h,last:f,widest:m,highest:g}=this._getLabelSizes(),v=i.padding*2,b=Ui(this.labelRotation),w=Math.cos(b),C=Math.sin(b);if(c){const _=i.mirror?0:C*m.width+w*g.height;e.height=Math.min(this.maxHeight,e.height+_+v)}else{const _=i.mirror?0:w*m.width+C*g.height;e.width=Math.min(this.maxWidth,e.width+_+v)}this._calculatePadding(h,f,C,w)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:o,padding:a},position:c}=this.options,u=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,v=0;u?h?(g=r*e.width,v=i*n.height):(g=i*e.height,v=r*n.width):o==="start"?v=n.width:o==="end"?g=e.width:o!=="inner"&&(g=e.width/2,v=n.width/2),this.paddingLeft=Math.max((g-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-m+a)*this.width/(this.width-m),0)}else{let f=n.height/2,m=e.height/2;o==="start"?(f=0,m=e.height):o==="end"&&(f=n.height,m=0),this.paddingTop=f+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ct(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Je(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=ux(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:o}=this,a=[],c=[],u=Math.floor(n/cx(n,i));let h=0,f=0,m,g,v,b,w,C,_,P,E,A,D;for(m=0;m<n;m+=u){if(b=e[m].label,w=this._resolveTickFontOptions(m),r.font=C=w.string,_=o[C]=o[C]||{data:{},gc:[]},P=w.lineHeight,E=A=0,!Je(b)&&!Dt(b))E=Iv(r,_.data,_.gc,E,b),A=P;else if(Dt(b))for(g=0,v=b.length;g<v;++g)D=b[g],!Je(D)&&!Dt(D)&&(E=Iv(r,_.data,_.gc,E,D),A+=P);a.push(E),c.push(A),h=Math.max(E,h),f=Math.max(A,f)}Ij(o,n);const j=a.indexOf(h),T=c.indexOf(f),R=V=>({width:a[V]||0,height:c[V]||0});return{first:R(0),last:R(n-1),widest:R(j),highest:R(T),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return wL(this._alignToPixels?es(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=Bj(this.getContext(),e,i))}return this.$context||(this.$context=zj(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ui(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),a=e.autoSkipPadding||0,c=o?o.widest.width+a:0,u=o?o.highest.height+a:0;return this.isHorizontal()?u*i>c*r?c/i:u/r:u*r<c*i?u/i:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:o,position:a,border:c}=r,u=o.offset,h=this.isHorizontal(),m=this.ticks.length+(u?1:0),g=ea(o),v=[],b=c.setContext(this.getContext()),w=b.display?b.width:0,C=w/2,_=function(ue){return es(i,ue,w)};let P,E,A,D,j,T,R,V,I,G,X,oe;if(a==="top")P=_(this.bottom),T=this.bottom-g,V=P-C,G=_(e.top)+C,oe=e.bottom;else if(a==="bottom")P=_(this.top),G=e.top,oe=_(e.bottom)-C,T=P+C,V=this.top+g;else if(a==="left")P=_(this.right),j=this.right-g,R=P-C,I=_(e.left)+C,X=e.right;else if(a==="right")P=_(this.left),I=e.left,X=_(e.right)-C,j=P+C,R=this.left+g;else if(n==="x"){if(a==="center")P=_((e.top+e.bottom)/2+.5);else if($e(a)){const ue=Object.keys(a)[0],ee=a[ue];P=_(this.chart.scales[ue].getPixelForValue(ee))}G=e.top,oe=e.bottom,T=P+C,V=T+g}else if(n==="y"){if(a==="center")P=_((e.left+e.right)/2);else if($e(a)){const ue=Object.keys(a)[0],ee=a[ue];P=_(this.chart.scales[ue].getPixelForValue(ee))}j=P-C,R=j-g,I=e.left,X=e.right}const J=Ie(r.ticks.maxTicksLimit,m),te=Math.max(1,Math.ceil(m/J));for(E=0;E<m;E+=te){const ue=this.getContext(E),ee=o.setContext(ue),$=c.setContext(ue),Z=ee.lineWidth,Q=ee.color,O=$.dash||[],K=$.dashOffset,de=ee.tickWidth,ae=ee.tickColor,pe=ee.tickBorderDash||[],ve=ee.tickBorderDashOffset;A=Fj(this,E,u),A!==void 0&&(D=es(i,A,Z),h?j=R=I=X=D:T=V=G=oe=D,v.push({tx1:j,ty1:T,tx2:R,ty2:V,x1:I,y1:G,x2:X,y2:oe,width:Z,color:Q,borderDash:O,borderDashOffset:K,tickWidth:de,tickColor:ae,tickBorderDash:pe,tickBorderDashOffset:ve}))}return this._ticksLength=m,this._borderValue=P,v}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:o}=i,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:h,padding:f,mirror:m}=o,g=ea(i.grid),v=g+f,b=m?-f:v,w=-Ui(this.labelRotation),C=[];let _,P,E,A,D,j,T,R,V,I,G,X,oe="middle";if(r==="top")j=this.bottom-b,T=this._getXAxisLabelAlignment();else if(r==="bottom")j=this.top+b,T=this._getXAxisLabelAlignment();else if(r==="left"){const te=this._getYAxisLabelAlignment(g);T=te.textAlign,D=te.x}else if(r==="right"){const te=this._getYAxisLabelAlignment(g);T=te.textAlign,D=te.x}else if(n==="x"){if(r==="center")j=(e.top+e.bottom)/2+v;else if($e(r)){const te=Object.keys(r)[0],ue=r[te];j=this.chart.scales[te].getPixelForValue(ue)+v}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")D=(e.left+e.right)/2-v;else if($e(r)){const te=Object.keys(r)[0],ue=r[te];D=this.chart.scales[te].getPixelForValue(ue)}T=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?oe="top":u==="end"&&(oe="bottom"));const J=this._getLabelSizes();for(_=0,P=c.length;_<P;++_){E=c[_],A=E.label;const te=o.setContext(this.getContext(_));R=this.getPixelForTick(_)+o.labelOffset,V=this._resolveTickFontOptions(_),I=V.lineHeight,G=Dt(A)?A.length:1;const ue=G/2,ee=te.color,$=te.textStrokeColor,Z=te.textStrokeWidth;let Q=T;a?(D=R,T==="inner"&&(_===P-1?Q=this.options.reverse?"left":"right":_===0?Q=this.options.reverse?"right":"left":Q="center"),r==="top"?h==="near"||w!==0?X=-G*I+I/2:h==="center"?X=-J.highest.height/2-ue*I+I:X=-J.highest.height+I/2:h==="near"||w!==0?X=I/2:h==="center"?X=J.highest.height/2-ue*I:X=J.highest.height-G*I,m&&(X*=-1),w!==0&&!te.showLabelBackdrop&&(D+=I/2*Math.sin(w))):(j=R,X=(1-G)*I/2);let O;if(te.showLabelBackdrop){const K=ri(te.backdropPadding),de=J.heights[_],ae=J.widths[_];let pe=X-K.top,ve=0-K.left;switch(oe){case"middle":pe-=de/2;break;case"bottom":pe-=de;break}switch(T){case"center":ve-=ae/2;break;case"right":ve-=ae;break;case"inner":_===P-1?ve-=ae:_>0&&(ve-=ae/2);break}O={left:ve,top:pe,width:ae+K.width,height:de+K.height,color:te.backdropColor}}C.push({label:A,font:V,textOffset:X,options:{rotation:w,color:ee,strokeColor:$,strokeWidth:Z,textAlign:Q,textBaseline:oe,translation:[D,j],backdrop:O}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ui(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,a=this._getLabelSizes(),c=e+o,u=a.widest.width;let h,f;return n==="left"?r?(f=this.right+o,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f+=u)):(f=this.right-c,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f=this.left)):n==="right"?r?(f=this.left+o,i==="near"?h="right":i==="center"?(h="center",f-=u/2):(h="left",f-=u)):(f=this.left+c,i==="near"?h="left":i==="center"?(h="center",f+=u/2):(h="right",f=this.right)):h="right",{textAlign:h,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:o,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,o,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,a;const c=(u,h,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(o=0,a=r.length;o<a;++o){const u=r[o];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const c=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,f,m,g;this.isHorizontal()?(h=es(e,this.left,a)-a/2,f=es(e,this.right,c)+c/2,m=g=u):(m=es(e,this.top,a)-a/2,g=es(e,this.bottom,c)+c/2,h=f=u),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(h,m),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&su(i,r);const o=this.getLabelItems(e);for(const a of o){const c=a.options,u=a.font,h=a.label,f=a.textOffset;Gc(i,h,0,f,u,c)}r&&ou(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const o=yn(i.font),a=ri(i.padding),c=i.align;let u=o.lineHeight/2;n==="bottom"||n==="center"||$e(n)?(u+=a.bottom,Dt(i.text)&&(u+=o.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:h,titleY:f,maxWidth:m,rotation:g}=Uj(this,u,n,c);Gc(e,i.text,0,0,o,{color:i.color,maxWidth:m,rotation:g,textAlign:Vj(c,n,r),textBaseline:"middle",translation:[h,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ie(e.grid&&e.grid.z,-1),r=Ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ho.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,a;for(o=0,a=n.length;o<a;++o){const c=n[o];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return yn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class pc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;Wj(n)&&(i=this.register(n));const r=this.items,o=e.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,$j(e,a,i),this.override&&St.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in St[r]&&(delete St[r][i],this.override&&delete ms[i])}}function $j(t,e,n){const i=Ra(Object.create(null),[n?St.get(n):{},St.get(e),t.defaults]);St.set(e,i),t.defaultRoutes&&Hj(e,t.defaultRoutes),t.descriptors&&St.describe(e,t.descriptors)}function Hj(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),o=[t].concat(i).join("."),a=e[n].split("."),c=a.pop(),u=a.join(".");St.route(o,r,u,c)})}function Wj(t){return"id"in t&&"defaults"in t}class Gj{constructor(){this.controllers=new pc(lu,"datasets",!0),this.elements=new pc(Ar,"elements"),this.plugins=new pc(Object,"plugins"),this.scales=new pc(ho,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):tt(r,a=>{const c=i||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,n,i){const r=Sp(e);ct(i["before"+r],[],i),n[e](i),ct(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var pi=new Gj;class Yj{constructor(){this._init=void 0}notify(e,n,i,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,i,r){r=r||{};for(const o of e){const a=o.plugin,c=a[i],u=[n,r,o.options];if(ct(c,u,a)===!1&&r.cancelable)return!1}return!0}invalidate(){Je(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=Ie(i.options&&i.options.plugins,{}),o=Kj(i);return r===!1&&!n?[]:qj(e,o,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(o,a)=>o.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function Kj(t){const e={},n=[],i=Object.keys(pi.plugins.items);for(let o=0;o<i.length;o++)n.push(pi.getPlugin(i[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const a=r[o];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Xj(t,e){return!e&&t===!1?null:t===!0?{}:t}function qj(t,{plugins:e,localIds:n},i,r){const o=[],a=t.getContext();for(const c of e){const u=c.id,h=Xj(i[u],r);h!==null&&o.push({plugin:c,options:Qj(t.config,{plugin:c,local:n[u]},h,a)})}return o}function Qj(t,{plugin:e,local:n},i,r){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(i,o);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kf(t,e){const n=St.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Jj(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Zj(t,e){return t===e?"_index_":"_value_"}function hx(t){if(t==="x"||t==="y"||t==="r")return t}function eO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function _f(t,...e){if(hx(t))return t;for(const n of e){const i=n.axis||eO(n.position)||t.length>1&&hx(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function fx(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function tO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return fx(t,"x",n[0])||fx(t,"y",n[0])}return{}}function nO(t,e){const n=ms[t.type]||{scales:{}},i=e.scales||{},r=kf(t.type,e),o=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!$e(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=_f(a,c,tO(a,t),St.scales[c.type]),h=Zj(u,r),f=n.scales||{};o[a]=va(Object.create(null),[{axis:u},c,f[u],f[h]])}),t.data.datasets.forEach(a=>{const c=a.type||t.type,u=a.indexAxis||kf(c,e),f=(ms[c]||{}).scales||{};Object.keys(f).forEach(m=>{const g=Jj(m,u),v=a[g+"AxisID"]||g;o[v]=o[v]||Object.create(null),va(o[v],[{axis:g},i[v],f[m]])})}),Object.keys(o).forEach(a=>{const c=o[a];va(c,[St.scales[c.type],St.scale])}),o}function hS(t){const e=t.options||(t.options={});e.plugins=Ie(e.plugins,{}),e.scales=nO(t,e)}function fS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function iO(t){return t=t||{},t.data=fS(t.data),hS(t),t}const px=new Map,pS=new Set;function mc(t,e){let n=px.get(t);return n||(n=e(),px.set(t,n),pS.add(n)),n}const ta=(t,e,n)=>{const i=ps(e,n);i!==void 0&&t.add(i)};class rO{constructor(e){this._config=iO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return mc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return mc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return mc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return mc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:o}=this,a=this._cachedScopes(e,i),c=a.get(n);if(c)return c;const u=new Set;n.forEach(f=>{e&&(u.add(e),f.forEach(m=>ta(u,e,m))),f.forEach(m=>ta(u,r,m)),f.forEach(m=>ta(u,ms[o]||{},m)),f.forEach(m=>ta(u,St,m)),f.forEach(m=>ta(u,Sf,m))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),pS.has(n)&&a.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,ms[n]||{},St.datasets[n]||{},{type:n},St,Sf]}resolveNamedOptions(e,n,i,r=[""]){const o={$shared:!0},{resolver:a,subPrefixes:c}=mx(this._resolverCache,e,r);let u=a;if(oO(a,n)){o.$shared=!1,i=Dr(i)?i():i;const h=this.createResolver(e,i,c);u=so(a,i,h)}for(const h of n)o[h]=u[h];return o}createResolver(e,n,i=[""],r){const{resolver:o}=mx(this._resolverCache,e,i);return $e(n)?so(o,n,void 0,r):o}}function mx(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let o=i.get(r);return o||(o={resolver:Ep(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,o)),o}const sO=t=>$e(t)&&Object.getOwnPropertyNames(t).some(e=>Dr(t[e]));function oO(t,e){const{isScriptable:n,isIndexable:i}=Yw(t);for(const r of e){const o=n(r),a=i(r),c=(a||o)&&t[r];if(o&&(Dr(c)||sO(c))||a&&Dt(c))return!0}return!1}var aO="4.5.1";const lO=["top","bottom","left","right","chartArea"];function gx(t,e){return t==="top"||t==="bottom"||lO.indexOf(t)===-1&&e==="x"}function yx(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function vx(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ct(n&&n.onComplete,[t],e)}function cO(t){const e=t.chart,n=e.options.animation;ct(n&&n.onProgress,[t],e)}function mS(t){return Dp()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ac={},xx=t=>{const e=mS(t);return Object.values(Ac).filter(n=>n.canvas===e).pop()};function uO(t,e,n){const i=Object.keys(t);for(const r of i){const o=+r;if(o>=e){const a=t[r];delete t[r],(n>0||o>e)&&(t[o+n]=a)}}}function dO(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let uu=class{static defaults=St;static instances=Ac;static overrides=ms;static registry=pi;static version=aO;static getChart=xx;static register(...e){pi.add(...e),bx()}static unregister(...e){pi.remove(...e),bx()}constructor(e,n){const i=this.config=new rO(n),r=mS(e),o=xx(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Pj(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,a.aspectRatio),u=c&&c.canvas,h=u&&u.height,f=u&&u.width;if(this.id=oL(),this.ctx=c,this.canvas=u,this.width=f,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_L(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],Ac[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ii.listen(this,"complete",vx),Ii.listen(this,"progress",cO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:o}=this;return Je(e)?n&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return pi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Uv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zv(this.canvas,this.ctx),this}stop(){return Ii.stop(this),this}resize(e,n){Ii.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,n,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Uv(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),ct(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};tt(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let o=[];n&&(o=o.concat(Object.keys(n).map(a=>{const c=n[a],u=_f(a,c),h=u==="r",f=u==="x";return{options:c,dposition:h?"chartArea":f?"bottom":"left",dtype:h?"radialLinear":f?"category":"linear"}}))),tt(o,a=>{const c=a.options,u=c.id,h=_f(u,c),f=Ie(c.type,a.dtype);(c.position===void 0||gx(c.position,h)!==gx(a.dposition))&&(c.position=a.dposition),r[u]=!0;let m=null;if(u in i&&i[u].type===f)m=i[u];else{const g=pi.getScale(f);m=new g({id:u,type:f,ctx:this.ctx,chart:this}),i[m.id]=m}m.init(c,e)}),tt(r,(a,c)=>{a||delete i[c]}),tt(i,a=>{_r.configure(this,a,a.options),_r.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(yx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const o=n[i];let a=this.getDatasetMeta(i);const c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||kf(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=pi.getController(c),{datasetElementType:h,dataElementType:f}=St.datasets[c];Object.assign(u,{dataElementType:pi.getElement(f),datasetElementType:h&&pi.getElement(h)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){tt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let h=0,f=this.data.datasets.length;h<f;h++){const{controller:m}=this.getDatasetMeta(h),g=!r&&o.indexOf(m)===-1;m.buildOrUpdateElements(g),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||tt(o,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yx("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){tt(this.scales,e=>{_r.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Pv(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of n){const a=i==="_removeElements"?-o:o;uO(e,r,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(e.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),r=i(0);for(let o=1;o<n;o++)if(!Pv(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],tt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Dr(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ii.has(this)?this.attached&&!Ii.running(this)&&Ii.start(this):(this.draw(),vx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=iS(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&su(n,r),e.controller.draw(),r&&ou(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ja(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const o=lj.modes[n];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=xs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,r);Aa(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ii.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),zv(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ac[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(o,a)=>{n.addEventListener(this,o,a),e[o]=a},r=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};tt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},o=(u,h)=>{this.canvas&&this.resize(u,h)};let a;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){tt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},tt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let o,a,c,u;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];const h=a&&this.getDatasetMeta(a.datasetIndex).controller;h&&h[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:o,index:a})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!$c(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,o=(u,h)=>u.filter(f=>!h.some(m=>f.datasetIndex===m.datasetIndex&&f.index===m.index)),a=o(n,e),c=i?e:o(e,n);a.length&&this.updateHoverStyle(a,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:o}=this,a=n,c=this._getActiveElements(e,r,i,a),u=hL(e),h=dO(e,this._lastEvent,i,u);i&&(this._lastEvent=null,ct(o.onHover,[e,c,this],this),u&&ct(o.onClick,[e,c,this],this));const f=!$c(c,r);return(f||n)&&(this._active=c,this._updateHoverStyles(c,r,n)),this._lastEvent=h,f}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}};function bx(){return tt(uu.instances,t=>t._plugins.invalidate())}function hO(t,e,n){const{startAngle:i,x:r,y:o,outerRadius:a,innerRadius:c,options:u}=e,{borderWidth:h,borderJoinStyle:f}=u,m=Math.min(h/a,En(i-n));if(t.beginPath(),t.arc(r,o,a-h/2,i+m/2,n-m/2),c>0){const g=Math.min(h/c,En(i-n));t.arc(r,o,c+h/2,n-g/2,i+g/2,!0)}else{const g=Math.min(h/2,a*En(i-n));if(f==="round")t.arc(r,o,g,n-rt/2,i+rt/2,!0);else if(f==="bevel"){const v=2*g*g,b=-v*Math.cos(n+rt/2)+r,w=-v*Math.sin(n+rt/2)+o,C=v*Math.cos(i+rt/2)+r,_=v*Math.sin(i+rt/2)+o;t.lineTo(b,w),t.lineTo(C,_)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function fO(t,e,n){const{startAngle:i,pixelMargin:r,x:o,y:a,outerRadius:c,innerRadius:u}=e;let h=r/c;t.beginPath(),t.arc(o,a,c,i-h,n+h),u>r?(h=r/u,t.arc(o,a,u,n+h,i-h,!0)):t.arc(o,a,r,n+Rt,i-Rt),t.closePath(),t.clip()}function pO(t){return Mp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function mO(t,e,n,i){const r=pO(t.options.borderRadius),o=(n-e)/2,a=Math.min(o,i*e/2),c=u=>{const h=(n-Math.min(o,u))*i/2;return Kt(u,0,Math.min(o,h))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:Kt(r.innerStart,0,a),innerEnd:Kt(r.innerEnd,0,a)}}function Gs(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function qc(t,e,n,i,r,o){const{x:a,y:c,startAngle:u,pixelMargin:h,innerRadius:f}=e,m=Math.max(e.outerRadius+i+n-h,0),g=f>0?f+i+n+h:0;let v=0;const b=r-u;if(i){const te=f>0?f-i:0,ue=m>0?m-i:0,ee=(te+ue)/2,$=ee!==0?b*ee/(ee+i):b;v=(b-$)/2}const w=Math.max(.001,b*m-n/rt)/m,C=(b-w)/2,_=u+C+v,P=r-C-v,{outerStart:E,outerEnd:A,innerStart:D,innerEnd:j}=mO(e,g,m,P-_),T=m-E,R=m-A,V=_+E/T,I=P-A/R,G=g+D,X=g+j,oe=_+D/G,J=P-j/X;if(t.beginPath(),o){const te=(V+I)/2;if(t.arc(a,c,m,V,te),t.arc(a,c,m,te,I),A>0){const Z=Gs(R,I,a,c);t.arc(Z.x,Z.y,A,I,P+Rt)}const ue=Gs(X,P,a,c);if(t.lineTo(ue.x,ue.y),j>0){const Z=Gs(X,J,a,c);t.arc(Z.x,Z.y,j,P+Rt,J+Math.PI)}const ee=(P-j/g+(_+D/g))/2;if(t.arc(a,c,g,P-j/g,ee,!0),t.arc(a,c,g,ee,_+D/g,!0),D>0){const Z=Gs(G,oe,a,c);t.arc(Z.x,Z.y,D,oe+Math.PI,_-Rt)}const $=Gs(T,_,a,c);if(t.lineTo($.x,$.y),E>0){const Z=Gs(T,V,a,c);t.arc(Z.x,Z.y,E,_-Rt,V)}}else{t.moveTo(a,c);const te=Math.cos(V)*m+a,ue=Math.sin(V)*m+c;t.lineTo(te,ue);const ee=Math.cos(I)*m+a,$=Math.sin(I)*m+c;t.lineTo(ee,$)}t.closePath()}function gO(t,e,n,i,r){const{fullCircles:o,startAngle:a,circumference:c}=e;let u=e.endAngle;if(o){qc(t,e,n,i,u,r);for(let h=0;h<o;++h)t.fill();isNaN(c)||(u=a+(c%mt||mt))}return qc(t,e,n,i,u,r),t.fill(),u}function yO(t,e,n,i,r){const{fullCircles:o,startAngle:a,circumference:c,options:u}=e,{borderWidth:h,borderJoinStyle:f,borderDash:m,borderDashOffset:g,borderRadius:v}=u,b=u.borderAlign==="inner";if(!h)return;t.setLineDash(m||[]),t.lineDashOffset=g,b?(t.lineWidth=h*2,t.lineJoin=f||"round"):(t.lineWidth=h,t.lineJoin=f||"bevel");let w=e.endAngle;if(o){qc(t,e,n,i,w,r);for(let C=0;C<o;++C)t.stroke();isNaN(c)||(w=a+(c%mt||mt))}b&&fO(t,e,w),u.selfJoin&&w-a>=rt&&v===0&&f!=="miter"&&hO(t,e,w),o||(qc(t,e,n,i,w,r),t.stroke())}class vO extends Ar{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Iw(r,{x:e,y:n}),{startAngle:c,endAngle:u,innerRadius:h,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,v=Ie(m,u-c),b=Na(o,c,u)&&c!==u,w=v>=mt||b,C=$i(a,h+g,f+g);return w&&C}getCenterPoint(e){const{x:n,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:h}=this.options,f=(r+o)/2,m=(a+c+h+u)/2;return{x:n+Math.cos(f)*m,y:i+Math.sin(f)*m}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,r=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>mt?Math.floor(i/mt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(rt,i||0)),h=r*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,gO(e,this,h,o,a),yO(e,this,h,o,a),e.restore()}}function gS(t,e,n=e){t.lineCap=Ie(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ie(n.borderDash,e.borderDash)),t.lineDashOffset=Ie(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ie(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ie(n.borderWidth,e.borderWidth),t.strokeStyle=Ie(n.borderColor,e.borderColor)}function xO(t,e,n){t.lineTo(n.x,n.y)}function bO(t){return t.stepped?zL:t.tension||t.cubicInterpolationMode==="monotone"?BL:xO}function yS(t,e,n={}){const i=t.length,{start:r=0,end:o=i-1}=n,{start:a,end:c}=e,u=Math.max(r,a),h=Math.min(o,c),f=r<a&&o<a||r>c&&o>c;return{count:i,start:u,loop:e.loop,ilen:h<u&&!f?i+h-u:h-u}}function wO(t,e,n,i){const{points:r,options:o}=e,{count:a,start:c,loop:u,ilen:h}=yS(r,n,i),f=bO(o);let{move:m=!0,reverse:g}=i||{},v,b,w;for(v=0;v<=h;++v)b=r[(c+(g?h-v:v))%a],!b.skip&&(m?(t.moveTo(b.x,b.y),m=!1):f(t,w,b,g,o.stepped),w=b);return u&&(b=r[(c+(g?h:0))%a],f(t,w,b,g,o.stepped)),!!u}function SO(t,e,n,i){const r=e.points,{count:o,start:a,ilen:c}=yS(r,n,i),{move:u=!0,reverse:h}=i||{};let f=0,m=0,g,v,b,w,C,_;const P=A=>(a+(h?c-A:A))%o,E=()=>{w!==C&&(t.lineTo(f,C),t.lineTo(f,w),t.lineTo(f,_))};for(u&&(v=r[P(0)],t.moveTo(v.x,v.y)),g=0;g<=c;++g){if(v=r[P(g)],v.skip)continue;const A=v.x,D=v.y,j=A|0;j===b?(D<w?w=D:D>C&&(C=D),f=(m*f+A)/++m):(E(),t.lineTo(A,D),b=j,m=0,w=C=D),_=D}E()}function Mf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?SO:wO}function CO(t){return t.stepped?vN:t.tension||t.cubicInterpolationMode==="monotone"?xN:rs}function kO(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),gS(t,e.options),t.stroke(r)}function _O(t,e,n,i){const{segments:r,options:o}=e,a=Mf(e);for(const c of r)gS(t,o,c.style),t.beginPath(),a(t,e,c,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const MO=typeof Path2D=="function";function EO(t,e,n,i){MO&&!e.options.segment?kO(t,e,n,i):_O(t,e,n,i)}class du extends Ar{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;uN(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_N(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],o=this.points,a=nS(this,{property:n,start:r,end:r});if(!a.length)return;const c=[],u=CO(i);let h,f;for(h=0,f=a.length;h<f;++h){const{start:m,end:g}=a[h],v=o[m],b=o[g];if(v===b){c.push(v);continue}const w=Math.abs((r-v[n])/(b[n]-v[n])),C=u(v,b,w,i.stepped);C[n]=e[n],c.push(C)}return c.length===1?c[0]:c}pathSegment(e,n,i){return Mf(this)(e,this,n,i)}path(e,n,i){const r=this.segments,o=Mf(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const c of r)a&=o(e,this,c,{start:n,end:n+i-1});return!!a}draw(e,n,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),EO(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function wx(t,e,n,i){const r=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<r.radius+r.hitRadius}class TO extends Ar{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(e-o,2)+Math.pow(n-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,n){return wx(this,e,"x",n)}inYRange(e,n){return wx(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!ja(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,Cf(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function vS(t,e){const{x:n,y:i,base:r,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let c,u,h,f,m;return t.horizontal?(m=a/2,c=Math.min(n,r),u=Math.max(n,r),h=i-m,f=i+m):(m=o/2,c=n-m,u=n+m,h=Math.min(i,r),f=Math.max(i,r)),{left:c,top:h,right:u,bottom:f}}function Mr(t,e,n,i){return t?0:Kt(e,n,i)}function PO(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,o=Gw(i);return{t:Mr(r.top,o.top,0,n),r:Mr(r.right,o.right,0,e),b:Mr(r.bottom,o.bottom,0,n),l:Mr(r.left,o.left,0,e)}}function DO(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=no(r),a=Math.min(e,n),c=t.borderSkipped,u=i||$e(r);return{topLeft:Mr(!u||c.top||c.left,o.topLeft,0,a),topRight:Mr(!u||c.top||c.right,o.topRight,0,a),bottomLeft:Mr(!u||c.bottom||c.left,o.bottomLeft,0,a),bottomRight:Mr(!u||c.bottom||c.right,o.bottomRight,0,a)}}function RO(t){const e=vS(t),n=e.right-e.left,i=e.bottom-e.top,r=PO(t,n/2,i/2),o=DO(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Fh(t,e,n,i){const r=e===null,o=n===null,c=t&&!(r&&o)&&vS(t,i);return c&&(r||$i(e,c.left,c.right))&&(o||$i(n,c.top,c.bottom))}function AO(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function LO(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ih(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+o,h:t.h+a,radius:t.radius}}class NO extends Ar{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:a}=RO(this),c=AO(a.radius)?Yc:LO;e.save(),(a.w!==o.w||a.h!==o.h)&&(e.beginPath(),c(e,Ih(a,n,o)),e.clip(),c(e,Ih(o,-n,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,Ih(o,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Fh(this,e,n,i)}inXRange(e,n){return Fh(this,e,null,n)}inYRange(e,n){return Fh(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function jO(t,e,n){const i=t.segments,r=t.points,o=e.points,a=[];for(const c of i){let{start:u,end:h}=c;h=hu(u,h,r);const f=Ef(n,r[u],r[h],c.loop);if(!e.segments){a.push({source:c,target:f,start:r[u],end:r[h]});continue}const m=nS(e,f);for(const g of m){const v=Ef(n,o[g.start],o[g.end],g.loop),b=tS(c,r,v);for(const w of b)a.push({source:w,target:g,start:{[n]:Sx(f,v,"start",Math.max)},end:{[n]:Sx(f,v,"end",Math.min)}})}}return a}function Ef(t,e,n,i){if(i)return;let r=e[t],o=n[t];return t==="angle"&&(r=En(r),o=En(o)),{property:t,start:r,end:o}}function OO(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,o=[];return e.segments.forEach(({start:a,end:c})=>{c=hu(a,c,r);const u=r[a],h=r[c];i!==null?(o.push({x:u.x,y:i}),o.push({x:h.x,y:i})):n!==null&&(o.push({x:n,y:u.y}),o.push({x:n,y:h.y}))}),o}function hu(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Sx(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function xS(t,e){let n=[],i=!1;return Dt(t)?(i=!0,n=t):n=OO(t,e),n.length?new du({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Cx(t){return t&&t.fill!==!1}function FO(t,e,n){let r=t[e].fill;const o=[e];let a;if(!n)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Xt(r))return r;if(a=t[r],!a)return!1;if(a.visible)return r;o.push(r),r=a.fill}return!1}function IO(t,e,n){const i=UO(t);if($e(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Xt(r)&&Math.floor(r)===r?zO(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function zO(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function BO(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:$e(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function VO(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:$e(t)?i=t.value:i=e.getBaseValue(),i}function UO(t){const e=t.options,n=e.fill;let i=Ie(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function $O(t){const{scale:e,index:n,line:i}=t,r=[],o=i.segments,a=i.points,c=HO(e,n);c.push(xS({x:null,y:e.bottom},i));for(let u=0;u<o.length;u++){const h=o[u];for(let f=h.start;f<=h.end;f++)WO(r,a[f],c)}return new du({points:r,options:{}})}function HO(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function WO(t,e,n){const i=[];for(let r=0;r<n.length;r++){const o=n[r],{first:a,last:c,point:u}=GO(o,e,"x");if(!(!u||a&&c)){if(a)i.unshift(u);else if(t.push(u),!c)break}}t.push(...i)}function GO(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],o=t.segments,a=t.points;let c=!1,u=!1;for(let h=0;h<o.length;h++){const f=o[h],m=a[f.start][n],g=a[f.end][n];if($i(r,m,g)){c=r===m,u=r===g;break}}return{first:c,last:u,point:i}}class bS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:o,radius:a}=this;return n=n||{start:0,end:mt},e.arc(r,o,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,o=e.angle;return{x:n+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function YO(t){const{chart:e,fill:n,line:i}=t;if(Xt(n))return KO(e,n);if(n==="stack")return $O(t);if(n==="shape")return!0;const r=XO(t);return r instanceof bS?r:xS(r,i)}function KO(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function XO(t){return(t.scale||{}).getPointPositionForValue?QO(t):qO(t)}function qO(t){const{scale:e={},fill:n}=t,i=BO(n,e);if(Xt(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function QO(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,a=VO(n,e,o),c=[];if(i.grid.circular){const u=e.getPointPositionForValue(0,o);return new bS({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<r;++u)c.push(e.getPointPositionForValue(u,a));return c}function zh(t,e,n){const i=YO(e),{chart:r,index:o,line:a,scale:c,axis:u}=e,h=a.options,f=h.fill,m=h.backgroundColor,{above:g=m,below:v=m}=f||{},b=r.getDatasetMeta(o),w=iS(r,b);i&&a.points.length&&(su(t,n),JO(t,{line:a,target:i,above:g,below:v,area:n,scale:c,axis:u,clip:w}),ou(t))}function JO(t,e){const{line:n,target:i,above:r,below:o,area:a,scale:c,clip:u}=e,h=n._loop?"angle":e.axis;t.save();let f=o;o!==r&&(h==="x"?(kx(t,i,a.top),Bh(t,{line:n,target:i,color:r,scale:c,property:h,clip:u}),t.restore(),t.save(),kx(t,i,a.bottom)):h==="y"&&(_x(t,i,a.left),Bh(t,{line:n,target:i,color:o,scale:c,property:h,clip:u}),t.restore(),t.save(),_x(t,i,a.right),f=r)),Bh(t,{line:n,target:i,color:f,scale:c,property:h,clip:u}),t.restore()}function kx(t,e,n){const{segments:i,points:r}=e;let o=!0,a=!1;t.beginPath();for(const c of i){const{start:u,end:h}=c,f=r[u],m=r[hu(u,h,r)];o?(t.moveTo(f.x,f.y),o=!1):(t.lineTo(f.x,n),t.lineTo(f.x,f.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(m.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function _x(t,e,n){const{segments:i,points:r}=e;let o=!0,a=!1;t.beginPath();for(const c of i){const{start:u,end:h}=c,f=r[u],m=r[hu(u,h,r)];o?(t.moveTo(f.x,f.y),o=!1):(t.lineTo(n,f.y),t.lineTo(f.x,f.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(n,m.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Bh(t,e){const{line:n,target:i,property:r,color:o,scale:a,clip:c}=e,u=jO(n,i,r);for(const{source:h,target:f,start:m,end:g}of u){const{style:{backgroundColor:v=o}={}}=h,b=i!==!0;t.save(),t.fillStyle=v,ZO(t,a,c,b&&Ef(r,m,g)),t.beginPath();const w=!!n.pathSegment(t,h);let C;if(b){w?t.closePath():Mx(t,i,g,r);const _=!!i.pathSegment(t,f,{move:w,reverse:!0});C=w&&_,C||Mx(t,i,m,r)}t.closePath(),t.fill(C?"evenodd":"nonzero"),t.restore()}}function ZO(t,e,n,i){const r=e.chart.chartArea,{property:o,start:a,end:c}=i||{};if(o==="x"||o==="y"){let u,h,f,m;o==="x"?(u=a,h=r.top,f=c,m=r.bottom):(u=r.left,h=a,f=r.right,m=c),t.beginPath(),n&&(u=Math.max(u,n.left),f=Math.min(f,n.right),h=Math.max(h,n.top),m=Math.min(m,n.bottom)),t.rect(u,h,f-u,m-h),t.clip()}}function Mx(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var eF={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let o,a,c,u;for(a=0;a<i;++a)o=t.getDatasetMeta(a),c=o.dataset,u=null,c&&c.options&&c instanceof du&&(u={visible:t.isDatasetVisible(a),index:a,fill:IO(c,a,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:c}),o.$filler=u,r.push(u);for(a=0;a<i;++a)u=r[a],!(!u||u.fill===!1)&&(u.fill=FO(r,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let a=r.length-1;a>=0;--a){const c=r[a].$filler;c&&(c.line.updateControlPoints(o,c.axis),i&&c.fill&&zh(t.ctx,c,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;Cx(o)&&zh(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Cx(i)||n.drawTime!=="beforeDatasetDraw"||zh(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ex=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},tF=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Tx extends Ar{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ct(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=yn(i.font),o=r.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=Ex(i,o);let h,f;n.font=r.string,this.isHorizontal()?(h=this.maxWidth,f=this._fitRows(a,o,c,u)+10):(f=this.maxHeight,h=this._fitCols(a,r,c,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:o,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],f=r+c;let m=e;o.textAlign="left",o.textBaseline="middle";let g=-1,v=-f;return this.legendItems.forEach((b,w)=>{const C=i+n/2+o.measureText(b.text).width;(w===0||h[h.length-1]+C+2*c>a)&&(m+=f,h[h.length-(w>0?0:1)]=0,v+=f,g++),u[w]={left:0,top:v,row:g,width:C,height:r},h[h.length-1]+=C+c}),m}_fitCols(e,n,i,r){const{ctx:o,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],f=a-e;let m=c,g=0,v=0,b=0,w=0;return this.legendItems.forEach((C,_)=>{const{itemWidth:P,itemHeight:E}=nF(i,n,o,C,r);_>0&&v+E+2*c>f&&(m+=g+c,h.push({width:g,height:v}),b+=g+c,w++,g=v=0),u[_]={left:b,top:v,col:w,width:P,height:E},g=Math.max(g,P),v+=E+c}),m+=g,h.push({width:g,height:v}),m}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:o}}=this,a=io(o,this.left,this.width);if(this.isHorizontal()){let c=0,u=_n(i,this.left+r,this.right-this.lineWidths[c]);for(const h of n)c!==h.row&&(c=h.row,u=_n(i,this.left+r,this.right-this.lineWidths[c])),h.top+=this.top+e+r,h.left=a.leftForLtr(a.x(u),h.width),u+=h.width+r}else{let c=0,u=_n(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const h of n)h.col!==c&&(c=h.col,u=_n(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),h.top=u,h.left+=this.left+r,h.left=a.leftForLtr(a.x(h.left),h.width),u+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;su(e,this),this._draw(),ou(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:o,labels:a}=e,c=St.color,u=io(e.rtl,this.left,this.width),h=yn(a.font),{padding:f}=a,m=h.size,g=m/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:b,boxHeight:w,itemHeight:C}=Ex(a,m),_=function(j,T,R){if(isNaN(b)||b<=0||isNaN(w)||w<0)return;r.save();const V=Ie(R.lineWidth,1);if(r.fillStyle=Ie(R.fillStyle,c),r.lineCap=Ie(R.lineCap,"butt"),r.lineDashOffset=Ie(R.lineDashOffset,0),r.lineJoin=Ie(R.lineJoin,"miter"),r.lineWidth=V,r.strokeStyle=Ie(R.strokeStyle,c),r.setLineDash(Ie(R.lineDash,[])),a.usePointStyle){const I={radius:w*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:V},G=u.xPlus(j,b/2),X=T+g;Ww(r,I,G,X,a.pointStyleWidth&&b)}else{const I=T+Math.max((m-w)/2,0),G=u.leftForLtr(j,b),X=no(R.borderRadius);r.beginPath(),Object.values(X).some(oe=>oe!==0)?Yc(r,{x:G,y:I,w:b,h:w,radius:X}):r.rect(G,I,b,w),r.fill(),V!==0&&r.stroke()}r.restore()},P=function(j,T,R){Gc(r,R.text,j,T+C/2,h,{strikethrough:R.hidden,textAlign:u.textAlign(R.textAlign)})},E=this.isHorizontal(),A=this._computeTitleHeight();E?v={x:_n(o,this.left+f,this.right-i[0]),y:this.top+f+A,line:0}:v={x:this.left+f,y:_n(o,this.top+A+f,this.bottom-n[0].height),line:0},Jw(this.ctx,e.textDirection);const D=C+f;this.legendItems.forEach((j,T)=>{r.strokeStyle=j.fontColor,r.fillStyle=j.fontColor;const R=r.measureText(j.text).width,V=u.textAlign(j.textAlign||(j.textAlign=a.textAlign)),I=b+g+R;let G=v.x,X=v.y;u.setWidth(this.width),E?T>0&&G+I+f>this.right&&(X=v.y+=D,v.line++,G=v.x=_n(o,this.left+f,this.right-i[v.line])):T>0&&X+D>this.bottom&&(G=v.x=G+n[v.line].width+f,v.line++,X=v.y=_n(o,this.top+A+f,this.bottom-n[v.line].height));const oe=u.x(G);if(_(oe,X,j),G=ML(V,G+b+g,E?G+I:this.right,e.rtl),P(u.x(G),X,j),E)v.x+=I+f;else if(typeof j.text!="string"){const J=h.lineHeight;v.y+=wS(j,J)+f}else v.y+=D}),Zw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=yn(n.font),r=ri(n.padding);if(!n.display)return;const o=io(e.rtl,this.left,this.width),a=this.ctx,c=n.position,u=i.size/2,h=r.top+u;let f,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+h,m=_n(e.align,m,this.right-g);else{const b=this.columnSizes.reduce((w,C)=>Math.max(w,C.height),0);f=h+_n(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const v=_n(c,m,m+g);a.textAlign=o.textAlign($w(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Gc(a,n.text,v,f,i)}_computeTitleHeight(){const e=this.options.title,n=yn(e.font),i=ri(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,o;if($i(e,this.left,this.right)&&$i(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],$i(e,r.left,r.left+r.width)&&$i(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!sF(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=tF(r,i);r&&!o&&ct(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&ct(n.onHover,[e,i,this],this)}else i&&ct(n.onClick,[e,i,this],this)}}function nF(t,e,n,i,r){const o=iF(i,t,e,n),a=rF(r,i,e.lineHeight);return{itemWidth:o,itemHeight:a}}function iF(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((o,a)=>o.length>a.length?o:a)),e+n.size/2+i.measureText(r).width}function rF(t,e,n){let i=t;return typeof e.text!="string"&&(i=wS(e,n)),i}function wS(t,e){const n=t.text?t.text.length:0;return e*n}function sF(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var oF={id:"legend",_element:Tx,start(t,e,n){const i=t.legend=new Tx({ctx:t.ctx,options:n,chart:t});_r.configure(t,i,n),_r.addBox(t,i)},stop(t){_r.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;_r.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:a,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),f=ri(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:a&&(c||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const ca={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,o=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),r+=u.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,a,c;for(o=0,a=t.length;o<a;++o){const u=t[o].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),f=wf(e,h);f<r&&(r=f,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function fi(t,e){return e&&(Dt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function aF(t,e){const{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:a,value:c}=o.getLabelAndValue(r);return{chart:t,label:a,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:c,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Px(t,e){const n=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:a,boxHeight:c}=e,u=yn(e.bodyFont),h=yn(e.titleFont),f=yn(e.footerFont),m=o.length,g=r.length,v=i.length,b=ri(e.padding);let w=b.height,C=0,_=i.reduce((A,D)=>A+D.before.length+D.lines.length+D.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,m&&(w+=m*h.lineHeight+(m-1)*e.titleSpacing+e.titleMarginBottom),_){const A=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;w+=v*A+(_-v)*u.lineHeight+(_-1)*e.bodySpacing}g&&(w+=e.footerMarginTop+g*f.lineHeight+(g-1)*e.footerSpacing);let P=0;const E=function(A){C=Math.max(C,n.measureText(A).width+P)};return n.save(),n.font=h.string,tt(t.title,E),n.font=u.string,tt(t.beforeBody.concat(t.afterBody),E),P=e.displayColors?a+2+e.boxPadding:0,tt(i,A=>{tt(A.before,E),tt(A.lines,E),tt(A.after,E)}),P=0,n.font=f.string,tt(t.footer,E),n.restore(),C+=b.width,{width:C,height:w}}function lF(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function cF(t,e,n,i){const{x:r,width:o}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&r+o+a>e.width||t==="right"&&r-o-a<0)return!0}function uF(t,e,n,i){const{x:r,width:o}=n,{width:a,chartArea:{left:c,right:u}}=t;let h="center";return i==="center"?h=r<=(c+u)/2?"left":"right":r<=o/2?h="left":r>=a-o/2&&(h="right"),cF(h,t,e,n)&&(h="center"),h}function Dx(t,e,n){const i=n.yAlign||e.yAlign||lF(t,n);return{xAlign:n.xAlign||e.xAlign||uF(t,e,n,i),yAlign:i}}function dF(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function hF(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Rx(t,e,n,i){const{caretSize:r,caretPadding:o,cornerRadius:a}=t,{xAlign:c,yAlign:u}=n,h=r+o,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:v}=no(a);let b=dF(e,c);const w=hF(e,u,h);return u==="center"?c==="left"?b+=h:c==="right"&&(b-=h):c==="left"?b-=Math.max(f,g)+r:c==="right"&&(b+=Math.max(m,v)+r),{x:Kt(b,0,i.width-e.width),y:Kt(w,0,i.height-e.height)}}function gc(t,e,n){const i=ri(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Ax(t){return fi([],zi(t))}function fF(t,e,n){return xs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Lx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const SS={beforeTitle:Oi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Oi,beforeBody:Oi,beforeLabel:Oi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Je(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Oi,afterBody:Oi,beforeFooter:Oi,footer:Oi,afterFooter:Oi};function mn(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?SS[e].call(n,i):r}class Nx extends Ar{static positioners=ca;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,o=new rS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=fF(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=mn(i,"beforeTitle",this,e),o=mn(i,"title",this,e),a=mn(i,"afterTitle",this,e);let c=[];return c=fi(c,zi(r)),c=fi(c,zi(o)),c=fi(c,zi(a)),c}getBeforeBody(e,n){return Ax(mn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return tt(e,o=>{const a={before:[],lines:[],after:[]},c=Lx(i,o);fi(a.before,zi(mn(c,"beforeLabel",this,o))),fi(a.lines,mn(c,"label",this,o)),fi(a.after,zi(mn(c,"afterLabel",this,o))),r.push(a)}),r}getAfterBody(e,n){return Ax(mn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=mn(i,"beforeFooter",this,e),o=mn(i,"footer",this,e),a=mn(i,"afterFooter",this,e);let c=[];return c=fi(c,zi(r)),c=fi(c,zi(o)),c=fi(c,zi(a)),c}_createItems(e){const n=this._active,i=this.chart.data,r=[],o=[],a=[];let c=[],u,h;for(u=0,h=n.length;u<h;++u)c.push(aF(this.chart,n[u]));return e.filter&&(c=c.filter((f,m,g)=>e.filter(f,m,g,i))),e.itemSort&&(c=c.sort((f,m)=>e.itemSort(f,m,i))),tt(c,f=>{const m=Lx(e.callbacks,f);r.push(mn(m,"labelColor",this,f)),o.push(mn(m,"labelPointStyle",this,f)),a.push(mn(m,"labelTextColor",this,f))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let o,a=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const c=ca[i.position].call(this,r,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=Px(this,i),h=Object.assign({},c,u),f=Dx(this.chart,i,h),m=Rx(i,h,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:m.x,y:m.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const o=this.getCaretPosition(e,i,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=no(c),{x:g,y:v}=e,{width:b,height:w}=n;let C,_,P,E,A,D;return o==="center"?(A=v+w/2,r==="left"?(C=g,_=C-a,E=A+a,D=A-a):(C=g+b,_=C+a,E=A-a,D=A+a),P=C):(r==="left"?_=g+Math.max(u,f)+a:r==="right"?_=g+b-Math.max(h,m)-a:_=this.caretX,o==="top"?(E=v,A=E-a,C=_-a,P=_+a):(E=v+w,A=E+a,C=_+a,P=_-a),D=E),{x1:C,x2:_,x3:P,y1:E,y2:A,y3:D}}drawTitle(e,n,i){const r=this.title,o=r.length;let a,c,u;if(o){const h=io(i.rtl,this.x,this.width);for(e.x=gc(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",a=yn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<o;++u)n.fillText(r[u],h.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===o&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,n,i,r,o){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:h}=o,f=yn(o.bodyFont),m=gc(this,"left",o),g=r.x(m),v=u<f.lineHeight?(f.lineHeight-u)/2:0,b=n.y+v;if(o.usePointStyle){const w={radius:Math.min(h,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=r.leftForLtr(g,h)+h/2,_=b+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Cf(e,w,C,_),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Cf(e,w,C,_)}else{e.lineWidth=$e(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const w=r.leftForLtr(g,h),C=r.leftForLtr(r.xPlus(g,1),h-2),_=no(a.borderRadius);Object.values(_).some(P=>P!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Yc(e,{x:w,y:b,w:h,h:u,radius:_}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Yc(e,{x:C,y:b+1,w:h-2,h:u-2,radius:_}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(w,b,h,u),e.strokeRect(w,b,h,u),e.fillStyle=a.backgroundColor,e.fillRect(C,b+1,h-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:h,boxPadding:f}=i,m=yn(i.bodyFont);let g=m.lineHeight,v=0;const b=io(i.rtl,this.x,this.width),w=function(R){n.fillText(R,b.x(e.x+v),e.y+g/2),e.y+=g+o},C=b.textAlign(a);let _,P,E,A,D,j,T;for(n.textAlign=a,n.textBaseline="middle",n.font=m.string,e.x=gc(this,C,i),n.fillStyle=i.bodyColor,tt(this.beforeBody,w),v=c&&C!=="right"?a==="center"?h/2+f:h+2+f:0,A=0,j=r.length;A<j;++A){for(_=r[A],P=this.labelTextColors[A],n.fillStyle=P,tt(_.before,w),E=_.lines,c&&E.length&&(this._drawColorBox(n,e,A,b,i),g=Math.max(m.lineHeight,u)),D=0,T=E.length;D<T;++D)w(E[D]),g=m.lineHeight;tt(_.after,w)}v=0,g=m.lineHeight,tt(this.afterBody,w),e.y-=o}drawFooter(e,n,i){const r=this.footer,o=r.length;let a,c;if(o){const u=io(i.rtl,this.x,this.width);for(e.x=gc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=yn(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,c=0;c<o;++c)n.fillText(r[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:o,yAlign:a}=this,{x:c,y:u}=e,{width:h,height:f}=i,{topLeft:m,topRight:g,bottomLeft:v,bottomRight:b}=no(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(c+m,u),a==="top"&&this.drawCaret(e,n,i,r),n.lineTo(c+h-g,u),n.quadraticCurveTo(c+h,u,c+h,u+g),a==="center"&&o==="right"&&this.drawCaret(e,n,i,r),n.lineTo(c+h,u+f-b),n.quadraticCurveTo(c+h,u+f,c+h-b,u+f),a==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(c+v,u+f),n.quadraticCurveTo(c,u+f,c,u+f-v),a==="center"&&o==="left"&&this.drawCaret(e,n,i,r),n.lineTo(c,u+m),n.quadraticCurveTo(c,u,c+m,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const a=ca[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=Px(this,e),u=Object.assign({},a,this._size),h=Dx(n,e,u),f=Rx(e,u,h,n);(r._to!==f.x||o._to!==f.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=ri(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,n),Jw(e,n.textDirection),o.y+=a.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Zw(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:c,index:u})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[u],index:u}}),o=!$c(i,r),a=this._positionChanged(r,n);(o||a)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],a=this._getActiveElements(e,o,n,i),c=this._positionChanged(a,e),u=n||!$c(a,o)||c;return u&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:r,options:o}=this,a=ca[o.position].call(this,e,n);return a!==!1&&(i!==a.x||r!==a.y)}}var pF={id:"tooltip",_element:Nx,positioners:ca,afterInit(t,e,n){n&&(t.tooltip=new Nx({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:SS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const mF=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function gF(t,e,n,i){const r=t.indexOf(e);if(r===-1)return mF(t,e,n,i);const o=t.lastIndexOf(e);return r!==o?n:r}const yF=(t,e)=>t===null?null:Kt(Math.round(t),0,e);function jx(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class vF extends ho{static id="category";static defaults={ticks:{callback:jx}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:o}of n)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Je(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:gF(i,e,Ie(n,e),this._addedLabels),yF(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)r.push({value:a});return r}getLabelForValue(e){return jx.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function xF(t,e){const n=[],{bounds:r,step:o,min:a,max:c,precision:u,count:h,maxTicks:f,maxDigits:m,includeBounds:g}=t,v=o||1,b=f-1,{min:w,max:C}=e,_=!Je(a),P=!Je(c),E=!Je(h),A=(C-w)/(m+1);let D=Rv((C-w)/b/v)*v,j,T,R,V;if(D<1e-14&&!_&&!P)return[{value:w},{value:C}];V=Math.ceil(C/D)-Math.floor(w/D),V>b&&(D=Rv(V*D/b/v)*v),Je(u)||(j=Math.pow(10,u),D=Math.ceil(D*j)/j),r==="ticks"?(T=Math.floor(w/D)*D,R=Math.ceil(C/D)*D):(T=w,R=C),_&&P&&o&&yL((c-a)/o,D/1e3)?(V=Math.round(Math.min((c-a)/D,f)),D=(c-a)/V,T=a,R=c):E?(T=_?a:T,R=P?c:R,V=h-1,D=(R-T)/V):(V=(R-T)/D,xa(V,Math.round(V),D/1e3)?V=Math.round(V):V=Math.ceil(V));const I=Math.max(Av(D),Av(T));j=Math.pow(10,Je(u)?I:u),T=Math.round(T*j)/j,R=Math.round(R*j)/j;let G=0;for(_&&(g&&T!==a?(n.push({value:a}),T<a&&G++,xa(Math.round((T+G*D)*j)/j,a,Ox(a,A,t))&&G++):T<a&&G++);G<V;++G){const X=Math.round((T+G*D)*j)/j;if(P&&X>c)break;n.push({value:X})}return P&&g&&R!==c?n.length&&xa(n[n.length-1].value,c,Ox(c,A,t))?n[n.length-1].value=c:n.push({value:c}):(!P||R===c)&&n.push({value:R}),n}function Ox(t,e,{horizontal:n,minRotation:i}){const r=Ui(i),o=(n?Math.sin(r):Math.cos(r))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class bF extends ho{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Je(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const a=u=>r=n?r:u,c=u=>o=i?o:u;if(e){const u=vi(r),h=vi(o);u<0&&h<0?c(0):u>0&&h>0&&a(0)}if(r===o){let u=o===0?1:Math.abs(o*.05);c(o+u),e||a(r-u)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,a=xF(r,o);return e.bounds==="ticks"&&vL(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return _p(e,this.chart.options.locale,this.options.ticks.format)}}class wF extends bF{static id="linear";static defaults={ticks:{callback:Hw.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Xt(e)?e:0,this.max=Xt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Ui(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const fu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gn=Object.keys(fu);function Fx(t,e){return t-e}function Ix(t,e){if(Je(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Xt(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(r&&(a=r==="week"&&(La(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,r)),+a)}function zx(t,e,n,i){const r=gn.length;for(let o=gn.indexOf(t);o<r-1;++o){const a=fu[gn[o]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(c*a.size))<=i)return gn[o]}return gn[r-1]}function SF(t,e,n,i,r){for(let o=gn.length-1;o>=gn.indexOf(n);o--){const a=gn[o];if(fu[a].common&&t._adapter.diff(r,i,a)>=e-1)return a}return gn[n?gn.indexOf(n):0]}function CF(t){for(let e=gn.indexOf(t)+1,n=gn.length;e<n;++e)if(fu[gn[e]].common)return gn[e]}function Bx(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=Cp(n,e),o=n[i]>=e?n[i]:n[r];t[o]=!0}}function kF(t,e,n,i){const r=t._adapter,o=+r.startOf(e[0].value,i),a=e[e.length-1].value;let c,u;for(c=o;c<=a;c=+r.add(c,1,i))u=n[c],u>=0&&(e[u].major=!0);return e}function Vx(t,e,n){const i=[],r={},o=e.length;let a,c;for(a=0;a<o;++a)c=e[a],r[c]=a,i.push({value:c,major:!1});return o===0||!n?i:kF(t,i,r,n)}class Ux extends ho{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new ij._date(e.adapters.date);r.init(n),va(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Ix(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function u(h){!a&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!c&&!isNaN(h.max)&&(o=Math.max(o,h.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Xt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),o=Xt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,a=this.max,c=CL(r,o,a);return this._unit=n.unit||(i.autoSkip?zx(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):SF(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:CF(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),Vx(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Kt(n,0,a),i=Kt(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,o=r.time,a=o.unit||zx(o.minUnit,n,i,this._getLabelCapacity(n)),c=Ie(r.ticks.stepSize,1),u=a==="week"?o.isoWeekday:!1,h=La(u)||u===!0,f={};let m=n,g,v;if(h&&(m=+e.startOf(m,"isoWeek",u)),m=+e.startOf(m,h?"day":a),e.diff(i,n,a)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+a);const b=r.ticks.source==="data"&&this.getDataTimestamps();for(g=m,v=0;g<i;g=+e.add(g,c,a),v++)Bx(f,g,b);return(g===i||r.bounds==="ticks"||v===1)&&Bx(f,g,b),Object.keys(f).sort(Fx).map(w=>+w)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,o=this._unit,a=n||r[o];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,r){const o=this.options,a=o.ticks.callback;if(a)return ct(a,[e,n,i],this);const c=o.time.displayFormats,u=this._unit,h=this._majorUnit,f=u&&c[u],m=h&&c[h],g=i[n],v=h&&m&&g&&g.major;return this._adapter.format(e,r||(v?m:f))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Ui(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),a=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Vx(this,[e],this._majorUnit),r),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Ix(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Bw(e.sort(Fx))}}function yc(t,e,n){let i=0,r=t.length-1,o,a,c,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=cs(t,"pos",e)),{pos:o,time:c}=t[i],{pos:a,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=cs(t,"time",e)),{time:o,pos:c}=t[i],{time:a,pos:u}=t[r]);const h=a-o;return h?c+(u-c)*(e-o)/h:c}class k3 extends Ux{static id="timeseries";static defaults=Ux.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=yc(n,this.min),this._tableRange=yc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],o=[];let a,c,u,h,f;for(a=0,c=e.length;a<c;++a)h=e[a],h>=n&&h<=i&&r.push(h);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,c=r.length;a<c;++a)f=r[a+1],u=r[a-1],h=r[a],Math.round((f+u)/2)!==h&&o.push({time:h,pos:a/(c-1)});return o}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(yc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return yc(this._table,i*this._tableRange+this._minPos,!0)}}const CS="label";function $x(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function _F(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function kS(t,e){t.labels=e}function _S(t,e,n=CS){const i=[];t.datasets=e.map(r=>{const o=t.datasets.find(a=>a[n]===r[n]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function MF(t,e=CS){const n={labels:[],datasets:[]};return kS(n,t.labels),_S(n,t.datasets,e),n}function EF(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:a,data:c,options:u,plugins:h=[],fallbackContent:f,updateMode:m,...g}=t,v=M.useRef(null),b=M.useRef(null),w=()=>{v.current&&(b.current=new uu(v.current,{type:a,data:MF(c,o),options:u&&{...u},plugins:h}),$x(e,b.current))},C=()=>{$x(e,null),b.current&&(b.current.destroy(),b.current=null)};return M.useEffect(()=>{!r&&b.current&&u&&_F(b.current,u)},[r,u]),M.useEffect(()=>{!r&&b.current&&kS(b.current.config.data,c.labels)},[r,c.labels]),M.useEffect(()=>{!r&&b.current&&c.datasets&&_S(b.current.config.data,c.datasets,o)},[r,c.datasets]),M.useEffect(()=>{b.current&&(r?(C(),setTimeout(w)):b.current.update(m))},[r,u,c.labels,c.datasets,m]),M.useEffect(()=>{b.current&&(C(),setTimeout(w))},[a]),M.useEffect(()=>(w(),()=>C()),[]),S.jsx("canvas",{ref:v,role:"img",height:n,width:i,...g,children:f})}const TF=M.forwardRef(EF);function Lp(t,e){return uu.register(e),M.forwardRef((n,i)=>S.jsx(TF,{...n,ref:i,type:t}))}const PF=Lp("line",nj),DF=Lp("bar",ZN),RF=Lp("doughnut",tj);uu.register(vF,wF,TO,du,NO,vO,pF,oF,eF);const Vh=new Map;function Tr(t){if(Vh.has(t))return Vh.get(t)??null;if(typeof document>"u")return null;const e=document.createElement("span");e.className=`${t} pointer-events-none fixed -left-[9999px] -top-[9999px]`,e.textContent=".",document.body.appendChild(e);const n=getComputedStyle(e).color;return e.remove(),Vh.set(t,n),n}function hs(t,e){if(!t)return`rgba(99, 102, 241, ${e})`;const n=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9.]+))?\)/i);if(!n)return t;const i=Number(n[1]),r=Number(n[2]),o=Number(n[3]);return`rgba(${i}, ${r}, ${o}, ${e})`}function Hx(t,e,n){return Math.max(e,Math.min(n,t))}function AF(t){if(!t)return null;const e=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)/i);return e?{r:Number(e[1]),g:Number(e[2]),b:Number(e[3])}:null}function LF(t,e,n){t/=255,e/=255,n/=255;const i=Math.max(t,e,n),r=Math.min(t,e,n);let o=0,a=0;const c=(i+r)/2;if(i!==r){const u=i-r;switch(a=c>.5?u/(2-i-r):u/(i+r),i){case t:o=(e-n)/u+(e<n?6:0);break;case e:o=(n-t)/u+2;break;default:o=(t-e)/u+4}o/=6}return{h:o,s:a,l:c}}function NF(t,e,n){const i=(c,u,h)=>(h<0&&(h+=1),h>1&&(h-=1),h<.16666666666666666?c+(u-c)*6*h:h<.5?u:h<.6666666666666666?c+(u-c)*(.6666666666666666-h)*6:c);let r,o,a;if(e===0)r=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;r=i(u,c,t+1/3),o=i(u,c,t),a=i(u,c,t-1/3)}return{r:Math.round(r*255),g:Math.round(o*255),b:Math.round(a*255)}}function Wx(t,e,n,i){const r=AF(t);if(!r||n<=1)return hs(t,i);const{h:o,s:a,l:c}=LF(r.r,r.g,r.b),u=n<=1?0:e/(n-1),h=Hx(c-.18+u*.3,.16,.82),f=Hx(a*(.92+u*.1),.18,1),m=NF(o,f,h);return`rgba(${m.r}, ${m.g}, ${m.b}, ${i})`}function jF({labels:t,values:e,height:n=224,formatValue:i,ariaLabel:r="Line chart"}){const o=Tr("text-indigo-500"),a=Tr("text-slate-200 dark:text-slate-700"),c=Tr("text-slate-500 dark:text-slate-400"),u=M.useMemo(()=>({labels:t,datasets:[{label:r,data:e,borderColor:o??"rgb(99, 102, 241)",backgroundColor:hs(o,.16),fill:!0,tension:.35,pointRadius:f=>f.dataIndex===e.length-1?4:3,pointHoverRadius:6,pointBackgroundColor:o??"rgb(99, 102, 241)",pointBorderWidth:0}]}),[r,o,t,e]),h=M.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>{const m=typeof f.parsed?.y=="number"?f.parsed.y:Number(f.raw);return i?i(m):String(m)}}}},scales:{x:{grid:{color:hs(a,.35)},ticks:{color:c??void 0,maxTicksLimit:6}},y:{grid:{color:hs(a,.65)},ticks:{color:c??void 0,maxTicksLimit:6,callback:f=>{const m=typeof f=="number"?f:Number(f);return i?i(m):String(f)}}}}}),[i,a,c]);return S.jsx("div",{className:"w-full",style:{height:n},children:S.jsx(PF,{"aria-label":r,role:"img",data:u,options:h})})}function Gx({items:t,formatValue:e,colorClassName:n="text-emerald-500"}){const i=Tr(n),r=Tr("text-slate-200 dark:text-slate-700"),o=Tr("text-slate-500 dark:text-slate-400"),a=Math.max(220,t.length*34),c=M.useMemo(()=>{const h=t.map((m,g)=>Wx(i,g,t.length,.92)),f=t.map((m,g)=>Wx(i,g,t.length,1));return{labels:t.map(m=>m.label),datasets:[{label:"Value",data:t.map(m=>m.value),borderRadius:8,backgroundColor:h,hoverBackgroundColor:f}]}},[i,t]),u=M.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{callbacks:{label:h=>{const f=typeof h.parsed?.x=="number"?h.parsed.x:Number(h.raw);return e?e(f):String(f)}}}},scales:{x:{grid:{color:hs(r,.55)},ticks:{color:o??void 0,callback:h=>{const f=typeof h=="number"?h:Number(h);return e?e(f):String(h)}}},y:{grid:{display:!1},ticks:{color:o??void 0}}}}),[e,r,o]);return S.jsx("div",{className:"w-full",style:{height:a},children:S.jsx(DF,{role:"img",data:c,options:u})})}const vc=["text-indigo-500","text-emerald-500","text-rose-500","text-amber-500","text-sky-500","text-violet-500"];function OF({segments:t,formatValue:e,ariaLabel:n="Pie chart"}){const i=t.reduce((h,f)=>h+(Number.isFinite(f.value)?f.value:0),0);if(i<=0)return S.jsx("div",{className:"text-sm text-slate-500",children:"No hay datos para graficar."});const r=t.filter(h=>Number.isFinite(h.value)&&h.value>0),o=r.map((h,f)=>{const m=h.className??vc[f%vc.length];return Tr(m)??void 0}),a=Tr("text-slate-500 dark:text-slate-400"),c=M.useMemo(()=>({labels:r.map(h=>h.label),datasets:[{data:r.map(h=>h.value),backgroundColor:o.map(h=>hs(h??null,.9)),borderColor:o.map(h=>hs(h??null,1)),borderWidth:0,hoverOffset:6,cutout:"62%"}]}),[o,r]),u=M.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:h=>{const f=typeof h.parsed=="number"?h.parsed:Number(h.raw);return`${h.label?`${h.label}: `:""}${e?e(f):String(f)}`}}}}}),[e]);return S.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-6",children:[S.jsx("div",{className:"h-56 w-56",children:S.jsx(RF,{"aria-label":n,role:"img",data:c,options:u})}),S.jsx("div",{className:"w-full space-y-2",children:r.map((h,f)=>{const m=Math.round(h.value/i*100),g=h.className??vc[f%vc.length];return S.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[S.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[S.jsx("span",{className:`h-2 w-2 flex-none rounded-full ${g} bg-current`}),S.jsx("span",{className:"truncate font-semibold",children:h.label})]}),S.jsxs("div",{className:"flex-none text-right text-slate-700 dark:text-slate-200",children:[S.jsx("div",{className:"text-sm font-semibold",children:e?e(h.value):h.value.toFixed(2)}),S.jsxs("div",{className:"text-xs",style:{color:a??void 0},children:[m,"%"]})]})]},`${h.label}-legend`)})})]})}const FF="modulepreload",IF=function(t){return"/"+t},Yx={},zF=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");r=u(n.map(h=>{if(h=IF(h),h in Yx)return;Yx[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":FF,f||(g.as="script"),g.crossOrigin="",g.href=h,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((v,b)=>{g.addEventListener("load",v),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return r.then(a=>{for(const c of a||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function BF(t,e){const n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),n.remove()}async function xc(t,e){const{default:n}=await zF(async()=>{const{default:c}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:c}},[]),i=Math.max(1,window.devicePixelRatio||1),o=typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)")?.matches?"#020617":"#ffffff",a=await n(t,{backgroundColor:o,scale:i,useCORS:!0});BF(a.toDataURL("image/png"),e)}function bc(t,e){const n=t.map(a=>a.map(c=>`"${String(c).replace(/"/g,'""')}"`).join(",")).join(`
`),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=e,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(r)}const gs=[{code:"USD",symbol:"$",names:{es:"Dlar estadounidense",en:"US Dollar"}},{code:"EUR",symbol:"",names:{es:"Euro",en:"Euro"}},{code:"GBP",symbol:"",names:{es:"Libra esterlina",en:"Pound Sterling"}},{code:"JPY",symbol:"",names:{es:"Yen japons",en:"Japanese Yen"}},{code:"AUD",symbol:"A$",names:{es:"Dlar australiano",en:"Australian Dollar"}},{code:"CAD",symbol:"C$",names:{es:"Dlar canadiense",en:"Canadian Dollar"}},{code:"CHF",symbol:"CHF",names:{es:"Franco suizo",en:"Swiss Franc"}},{code:"CNY",symbol:"",names:{es:"Yuan chino",en:"Chinese Yuan"}},{code:"MXN",symbol:"MX$",names:{es:"Peso mexicano",en:"Mexican Peso"}},{code:"BRL",symbol:"R$",names:{es:"Real brasileo",en:"Brazilian Real"}}],Kx={},fo=t=>(t||"").toString().trim().toUpperCase();function Xx(t){const e=fo(t);if(e.length===3&&/^[A-Z]{3}$/.test(e))return e;const n=String(t||"").trim(),i=gs.find(r=>r.symbol===n);return i?i.code:e}function mi(t,e){const n=String(e||"").trim(),i=fo(n),r=gs.find(c=>c.code===i);return r?`${r.symbol}${t.toFixed(2)}`:`${/[^A-Z]/i.test(n)||n.length<=2?n:`${n} `}${t.toFixed(2)}`}const MS="fx_rates_",VF=1e3*60*60*12,wc={};function ES(t){try{const e=localStorage.getItem(MS+fo(t));return e?JSON.parse(e):null}catch{return null}}function UF(t,e){try{const n={ts:Date.now(),rates:e};localStorage.setItem(MS+fo(t),JSON.stringify(n))}catch{}}async function $F(t){const e=fo(t),n=typeof import.meta<"u"?Kx?.VITE_EXCHANGE_API_URL:void 0,i=typeof import.meta<"u"?Kx?.VITE_EXCHANGE_API_KEY:void 0,r=typeof window<"u"?localStorage.getItem("exchange_api_key"):void 0,o=i??r??void 0,a=3,c=500,u=async(m,g)=>{for(let v=1;v<=a;v++)try{const b=await fetch(m,{headers:g});if(!b.ok){if(v===a)return null;await new Promise(w=>setTimeout(w,c*v));continue}return await b.json()}catch{if(v===a)return null;await new Promise(b=>setTimeout(b,c*v))}return null},h=m=>{const g=m.includes("?")?"&":"?";let v=m;const b=/exchangerate\.host\/live/.test(m),w=/exchangerate\.host\/latest/.test(m);if(/open\.er-api\.com\/v6\/latest\//.test(m))return v=`https://open.er-api.com/v6/latest/${encodeURIComponent(e)}`,{url:v,headers:void 0,isLive:!1};const _={};if(b){v+=`${g}source=${encodeURIComponent(e)}`;const P=gs.map(E=>E.code).filter(E=>E!==e);v+=`&currencies=${encodeURIComponent(P.join(","))}`,v+="&format=1"}else v+=`${g}base=${encodeURIComponent(e)}`;if(o){const P=m.includes("exchangerate.host");P&&w||(P&&b?v+=`&access_key=${encodeURIComponent(o)}`:m.includes("apilayer")?(v+=`&access_key=${encodeURIComponent(o)}`,_.apikey=o):m.includes("openexchangerates")?v+=`&app_id=${encodeURIComponent(o)}`:v+=`&access_key=${encodeURIComponent(o)}`)}return{url:v,headers:_,isLive:b}},f=n&&n.length>0?[n]:["https://api.exchangerate.host/latest","https://open.er-api.com/v6/latest/"];for(const m of f){const{url:g,headers:v,isLive:b}=h(m),w=await u(g,v);if(w){if(b&&w&&typeof w.quotes=="object"){const C={};for(const _ of Object.keys(w.quotes))if(_.startsWith(e)){const P=_.slice(e.length);C[P]=Number(w.quotes[_])}if(Object.keys(C).length>0)return C}if(w&&w.rates&&typeof w.rates=="object")return w.rates}}return null}async function HF(t,e){if(typeof window>"u")return null;const n=fo(t),i=ES(n);if(i&&Date.now()-i.ts<VF)return i.rates;if(wc[n])return wc[n];const r=(async()=>{try{const o=await $F(n);return o?(UF(n,o),o):i?i.rates:null}finally{delete wc[n]}})();return wc[n]=r,r}function Vi(t,e,n){const i=Xx(e),r=Xx(n);if(!i||i===r)return t;if(typeof window<"u")try{const h=ES(r);if(h&&h.rates&&h.rates[i])return t/h.rates[i]}catch{}const o={EUR:1,USD:1.05,GBP:.88,CAD:1.42},a=o[i]??1,c=o[r]??1;return t/a*c}function Ys(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function TS(t){return t.period==="monthly"?1:t.period==="quarterly"?3:t.period==="semiannual"?6:12}function WF(t){const e=TS(t);return Number.isFinite(t.price)?t.price*12/e:0}function GF(t){const[e,n,i]=String(t).split("-").map(Number),r=new Date(e,(n??1)-1,i??1);return Number.isNaN(r.getTime())?null:r}function qx(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function YF(t,e,n,i){const r=GF(t);if(!r)return[];let o=new Date(r);for(;o.getTime()<n.getTime();)o=qx(o,e);const a=[];for(;o.getTime()<=i.getTime();)a.push(new Date(o)),o=qx(o,e);return a}function Qx(){const{state:t}=Ka(),{t:e,language:n}=uo(),i=t.settings.currencyDisplayMode??"original",r=(t.settings.baseCurrency||"USD").toUpperCase(),[o,a]=M.useState(0),[c,u]=M.useState("idle");M.useEffect(()=>{if(i!=="convertToBase")return;let E=!1;return u("loading"),(async()=>{const A=await HF(r);E||(A?(u("ready"),a(D=>D+1)):u("unavailable"))})(),()=>{E=!0}},[r,i]),M.useEffect(()=>{i!=="convertToBase"&&u("idle")},[i]);const h=M.useRef(new Map),f=E=>A=>{A?h.current.set(E,A):h.current.delete(E)},m=M.useMemo(()=>i==="convertToBase"?[r]:Array.from(new Set(t.subscriptions.map(E=>(E.currency||"USD").toUpperCase()))).sort((E,A)=>E.localeCompare(A)),[r,i,t.subscriptions]),g=M.useMemo(()=>{const E=new Map;for(const A of t.subscriptions){const D=(A.currency||"USD").toUpperCase(),j=i==="convertToBase"?r:D,T=i==="convertToBase"?Vi(Ys(A),D,r):Ys(A),R=E.get(j)??0;E.set(j,R+T)}return Array.from(E.entries()).sort((A,D)=>A[0].localeCompare(D[0]))},[r,i,o,t.subscriptions]),v=M.useMemo(()=>{const E=new Date,A=7,D=new Date(E);D.setDate(D.getDate()+A);const j=new Map,T=new Map,R=new Map,V=new Map,I=new Map;for(const oe of t.subscriptions){const J=(oe.currency||"USD").toUpperCase(),te=i==="convertToBase"?r:J,ue=i==="convertToBase"?Vi(Ys(oe),J,r):Ys(oe);j.set(te,(j.get(te)??0)+ue),T.set(te,(T.get(te)??0)+1),Uc(oe.startDate,oe.period,E).getTime()<=D.getTime()&&R.set(te,(R.get(te)??0)+1);const $=V.get(te);(!$||ue>$.value)&&V.set(te,{name:oe.name,value:ue});const Z=(oe.category||"").trim()||(e("common.uncategorized")??"Sin categora");I.has(te)||I.set(te,new Map);const Q=I.get(te);Q.set(Z,(Q.get(Z)??0)+ue)}const G=new Map,X=new Set([...j.keys(),...T.keys()]);for(const oe of X){const J=T.get(oe)??0,te=j.get(oe)??0,ue=J>0?te/J:0,ee=R.get(oe)??0,$=V.get(oe)??null,Z=I.get(oe);let Q=null;if(Z&&te>0){let O=null;for(const[K,de]of Z.entries())(!O||de>O.value)&&(O={label:K,value:de});O&&(Q={label:O.label,value:O.value,pct:Math.round(O.value/te*100)})}G.set(oe,{count:J,monthlyTotal:te,avgMonthly:ue,dueSoonCount:ee,highest:$,topCategory:Q,windowDays:A})}return G},[r,i,o,t.subscriptions,e]),b=M.useMemo(()=>{const E=new Date;return t.subscriptions.map(D=>({s:D,next:Uc(D.startDate,D.period,E)})).sort((D,j)=>D.next.getTime()-j.next.getTime()).slice(0,5)},[t.subscriptions]),w=M.useMemo(()=>{const E=new Date,A=Array.from({length:12},(T,R)=>new Date(E.getFullYear(),E.getMonth()-(11-R),1)),D=A.map(T=>T.toLocaleString(n==="es"?"es-ES":"en-US",{month:"short"})),j=new Map;for(const T of m)j.set(T,Array.from({length:12},()=>0));for(const T of t.subscriptions){const R=(T.currency||"USD").toUpperCase(),V=i==="convertToBase"?r:R;j.has(V)||j.set(V,Array.from({length:12},()=>0));const I=TS(T);for(let G=0;G<A.length;G++){const X=A[G],oe=new Date(X.getFullYear(),X.getMonth()+1,0,23,59,59,999),J=YF(T.startDate,I,X,oe);if(!J.length)continue;const te=j.get(V),ue=T.price*J.length;te[G]+=i==="convertToBase"?Vi(ue,R,r):ue}}return{labels:D,byCurrency:j}},[r,m,i,o,t.subscriptions]),C=M.useMemo(()=>{const E=new Map;for(const A of t.subscriptions){const D=(A.currency||"USD").toUpperCase(),j=i==="convertToBase"?r:D,T=E.get(j)??[],R=WF(A);T.push({label:A.name,value:i==="convertToBase"?Vi(R,D,r):R}),E.set(j,T)}for(const[A,D]of E.entries())E.set(A,D.sort((j,T)=>T.value-j.value).slice(0,6));return E},[r,i,o,t.subscriptions]),_=M.useMemo(()=>{const E=new Map;for(const A of t.subscriptions){const D=(A.currency||"USD").toUpperCase(),j=i==="convertToBase"?r:D,T=E.get(j)??[],R=Ys(A);T.push({label:A.name,value:i==="convertToBase"?Vi(R,D,r):R}),E.set(j,T)}for(const[A,D]of E.entries()){const j=D.sort((G,X)=>X.value-G.value),T=j.slice(0,5),V=j.slice(5).reduce((G,X)=>G+X.value,0),I=V>0?[...T,{label:e("common.other")??"Otros",value:V}]:T;E.set(A,I)}return E},[r,i,o,t.subscriptions,e]),P=M.useMemo(()=>{const E=new Map;for(const D of t.subscriptions){const j=(D.currency||"USD").toUpperCase(),T=i==="convertToBase"?r:j,R=(D.category||"").trim()||(e("common.uncategorized")??"Sin categora");E.has(T)||E.set(T,new Map);const V=E.get(T),I=Ys(D),G=i==="convertToBase"?Vi(I,j,r):I;V.set(R,(V.get(R)??0)+G)}const A=new Map;for(const[D,j]of E.entries()){const R=Array.from(j.entries()).map(([V,I])=>({label:V,value:I})).sort((V,I)=>I.value-V.value).slice(0,7);A.set(D,R)}return A},[r,i,o,t.subscriptions,e]);return S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.monthlySpendTitle")??"Gasto mensual (equivalente)"}),S.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.length===0?S.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noSubscriptionsYet")??"Sin suscripciones an."}):g.map(([E,A])=>S.jsx("div",{className:"rounded-lg bg-slate-100 px-3 py-2 text-sm font-semibold dark:bg-slate-800",children:mi(A,E)},E))}),i==="convertToBase"?S.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:[e("dashboard.fxRatesLabel")??"FX rates",": ",c==="loading"?e("dashboard.fxUpdating")??"actualizando":c==="ready"?e("dashboard.fxReady")??"reales (cacheadas)":c==="unavailable"?e("dashboard.fxUnavailable")??"no disponibles (fallback)":e("dashboard.fxIdle")??""]}):null]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.upcomingRenewalsTitle")??"Prximas renovaciones"}),S.jsx("div",{className:"mt-2 space-y-2",children:b.length===0?S.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noDataYet")??"No hay datos todava."}):b.map(({s:E,next:A})=>S.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg bg-slate-50 px-3 py-2 text-sm dark:bg-slate-800/60",children:[S.jsx("div",{className:"font-semibold",children:E.name}),S.jsx("div",{className:"text-slate-600 dark:text-slate-300",children:A.toLocaleDateString(n==="es"?"es-ES":"en-US")})]},E.id))})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.chartsTitle")??"Grficos"}),t.subscriptions.length===0?S.jsx("div",{className:"mt-2 text-sm text-slate-500",children:e("dashboard.addSubsToSeeCharts")??"Aade suscripciones para ver grficos."}):S.jsx("div",{className:"mt-3 space-y-4",children:m.map(E=>{const A=w.byCurrency.get(E)??[],D=C.get(E)??[],j=P.get(E)??[],T=_.get(E)??[];return S.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 dark:bg-slate-800/60",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:e("dashboard.currencyLabel",{cur:E})??`Moneda: ${E}`}),(()=>{const R=v.get(E);return R?S.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-4",children:[S.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[S.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiSubscriptions")??"Suscripciones"}),S.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:R.count})]}),S.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[S.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiAvgMonthly")??"Media mensual"}),S.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:mi(R.avgMonthly,E)})]}),S.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[S.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiDueSoon",{days:R.windowDays})??`Vencen ( ${R.windowDays}d)`}),S.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:R.dueSoonCount})]}),S.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[S.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiTopCategory")??"Top categora"}),S.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:R.topCategory?`${R.topCategory.label}  ${R.topCategory.pct}%`:e("common.none")??""})]})]}):null})(),S.jsxs("div",{className:"mt-3 space-y-3",children:[S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[S.jsxs("div",{className:"flex items-center justify-between gap-3",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.projectionTitle")??"Proyeccin mensual (ltimos 12 meses)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const R=h.current.get(`${E}:line`);R&&xc(R,`monthly-${E}.png`)},children:"PNG"}),S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const R=[[e("dashboard.csvMonth")??"Month",e("dashboard.csvAmount")??"Amount",e("dashboard.csvCurrency")??"Currency"]];for(let V=0;V<w.labels.length;V++)R.push([w.labels[V],A[V]??0,E]);bc(R,`monthly-${E}.csv`)},children:"CSV"})]})]}),S.jsx("div",{ref:f(`${E}:line`),className:"mt-2",children:S.jsx(jF,{ariaLabel:`Proyeccin mensual ${E}`,labels:w.labels,values:A,formatValue:R=>mi(R,E)})})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[S.jsxs("div",{className:"flex items-center justify-between gap-3",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.annualTopTitle")??"Top gasto anual (estimado)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const R=h.current.get(`${E}:bar`);R&&xc(R,`annual-top-${E}.png`)},children:"PNG"}),S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const R=[[e("dashboard.csvName")??"Name",e("dashboard.csvAnnualAmount")??"AnnualAmount",e("dashboard.csvCurrency")??"Currency"]];for(const V of D)R.push([V.label,V.value,E]);bc(R,`annual-top-${E}.csv`)},children:"CSV"})]})]}),S.jsx("div",{ref:f(`${E}:bar`),className:"mt-3",children:D.length===0?S.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):S.jsx(Gx,{items:D,colorClassName:"text-indigo-500",formatValue:R=>mi(R,E)})})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[S.jsxs("div",{className:"flex items-center justify-between gap-3",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.monthlyByCategoryTitle")??"Gasto mensual por categora (equivalente)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const R=h.current.get(`${E}:cat`);R&&xc(R,`categories-${E}.png`)},children:"PNG"}),S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const R=[[e("dashboard.csvCategory")??"Category",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const V of j)R.push([V.label,V.value,E]);bc(R,`categories-${E}.csv`)},children:"CSV"})]})]}),S.jsx("div",{ref:f(`${E}:cat`),className:"mt-3",children:j.length===0?S.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):S.jsx(Gx,{items:j,colorClassName:"text-sky-500",formatValue:R=>mi(R,E)})})]}),S.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[S.jsxs("div",{className:"flex items-center justify-between gap-3",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:e("dashboard.distributionTitle")??"Distribucin (gasto mensual equivalente)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const R=h.current.get(`${E}:pie`);R&&xc(R,`distribution-${E}.png`)},children:"PNG"}),S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const R=[[e("dashboard.csvName")??"Name",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const V of T)R.push([V.label,V.value,E]);bc(R,`distribution-${E}.csv`)},children:"CSV"})]})]}),S.jsx("div",{ref:f(`${E}:pie`),className:"mt-2",children:S.jsx(OF,{segments:T,formatValue:R=>mi(R,E)})})]})]})]},E)})})]})]})}function Jx(t){return String(t).padStart(2,"0")}function PS(t){const e=t.getFullYear(),n=Jx(t.getMonth()+1),i=Jx(t.getDate());return`${e}-${n}-${i}`}function KF(t){switch(t){case"monthly":return"RRULE:FREQ=MONTHLY";case"quarterly":return"RRULE:FREQ=MONTHLY;INTERVAL=3";case"semiannual":return"RRULE:FREQ=MONTHLY;INTERVAL=6";case"annual":return"RRULE:FREQ=YEARLY"}}function DS(){return typeof chrome<"u"&&!!chrome.identity}async function Np(t){if(!DS())throw new Error("Google Calendar sync requires Chrome Extension environment.");return await new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},i=>{const r=chrome.runtime.lastError;if(r){n(new Error(r.message||"OAuth token error"));return}if(!i){n(new Error("No OAuth token received"));return}e(i)})})}async function jp(t){DS()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function ro(t){const e=`https://www.googleapis.com/calendar/v3${t.path}`,n=await fetch(e,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.body?{"Content-Type":"application/json"}:{}},body:t.body?JSON.stringify(t.body):void 0});if(n.status===204)return;const i=await n.text();if(!n.ok){const r=i||`${n.status} ${n.statusText}`,o=new Error(r);throw o.status=n.status,o.body=i,o}return i?JSON.parse(i):void 0}function Tf(t){if(!t||typeof t!="object")return;const e=t.status;return typeof e=="number"?e:void 0}function RS(t){return t===401||t===403}async function Uh(t){const e=t.calendarId??"primary",n=t.interactive??!0;let i=t.token;i||(i=await Np(n));const[r,o,a]=t.startDateYmd.split("-").map(Number),c=new Date(r,(o??1)-1,a??1),u=new Date(c);u.setDate(u.getDate()+1);const h={summary:t.summary,description:t.description,start:{date:t.startDateYmd},end:{date:PS(u)},recurrence:[KF(t.period)]};try{if(t.eventId)try{const m=await ro({token:i,method:"PATCH",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`,body:h});return{calendarId:e,eventId:m.id,syncedAt:new Date().toISOString()}}catch(m){if(Tf(m)!==404)throw m}const f=await ro({token:i,method:"POST",path:`/calendars/${encodeURIComponent(e)}/events`,body:h});return{calendarId:e,eventId:f.id,syncedAt:new Date().toISOString()}}catch(f){const m=Tf(f);throw RS(m)&&await jp(i),f}}async function Zx(t){const e=t.calendarId??"primary",n=t.interactive??!0,i=t.token??await Np(n);try{await ro({token:i,method:"DELETE",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`})}catch(r){const o=Tf(r);if(o===404)return;throw RS(o)&&await jp(i),r}}const eb="Subly Subscriptions";async function tb(t){const e=t?.interactive??!0,n=String(t?.summary||eb).trim()||eb;let i=t?.token;i||(i=await Np(e));try{const o=((await ro({token:i,method:"GET",path:"/users/me/calendarList?minAccessRole=writer"})).items??[]).find(c=>String(c.summary||"").trim().toLowerCase()===n.toLowerCase());if(o?.id)return o.id;const a=await ro({token:i,method:"POST",path:"/calendars",body:{summary:n}});try{await ro({token:i,method:"POST",path:"/users/me/calendarList",body:{id:a.id}})}catch{}return a.id}catch(r){throw await jp(i),r}}const AS=M.createContext(null);function XF(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function qF(t){switch(t){case"success":return"bg-emerald-600/60 text-white";case"error":return"bg-rose-600/60 text-white";default:return"bg-slate-900/60 text-white dark:bg-slate-950/60"}}function QF({children:t}){const[e,n]=M.useState([]),i=M.useRef({}),r=M.useCallback(c=>{n(h=>h.filter(f=>f.id!==c));const u=i.current[c];u&&(window.clearTimeout(u),delete i.current[c])},[]),o=M.useCallback((c,u="info",h)=>{const f=XF(),m={id:f,type:u,message:c};n(v=>[...v.slice(-2),m]);const g=h?.durationMs??3200;i.current[f]=window.setTimeout(()=>r(f),g)},[r]),a=M.useMemo(()=>({show:o,success:(c,u)=>o(c,"success",u),error:(c,u)=>o(c,"error",u),info:(c,u)=>o(c,"info",u)}),[o]);return S.jsxs(AS.Provider,{value:a,children:[t,S.jsx("div",{className:"pointer-events-none fixed bottom-3 right-3 z-50 flex w-[min(22rem,calc(100vw-1.5rem))] flex-col gap-2",role:"status","aria-live":"polite","aria-atomic":"true",children:e.map(c=>S.jsx("div",{className:`pointer-events-auto rounded-lg px-3 py-2 text-sm font-semibold shadow-sm backdrop-blur ${qF(c.type)}`,children:c.message},c.id))})]})}function Op(){const t=M.useContext(AS);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function JF(t,e){const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(i)}function ZF(t){return t==="monthly"||t==="quarterly"||t==="semiannual"||t==="annual"}function e3(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)}function t3(t){const e=typeof t=="string"?t.trim().toUpperCase():"";return e&&gs.some(i=>i.code===e)?e:"USD"}function n3(t){const e=typeof t?.name=="string"?t.name.trim():"";if(!e)return null;const n=Number(t?.price);if(!Number.isFinite(n))return null;const i=t?.period;if(!ZF(i))return null;const r=t?.startDate;if(!e3(r))return null;const o=t3(t?.currency),a=typeof t?.category=="string"?t.category.trim():"";return{id:typeof t?.id=="string"&&t.id.trim()?t.id.trim():Pw(),name:e,category:a||void 0,price:n,currency:o,period:i,startDate:r}}function i3({items:t,onImport:e}){const{t:n}=uo(),[i,r]=M.useState(null),o=Op(),a=M.useMemo(()=>{const h=new Date,f=h.getFullYear(),m=String(h.getMonth()+1).padStart(2,"0"),g=String(h.getDate()).padStart(2,"0");return`subly-subscriptions-${f}${m}${g}.json`},[]);function c(){JF(a,t),o.success(n("common.exported")??"Exportado.")}function u(h){r(null);const f=new FileReader;f.onload=()=>{try{const m=JSON.parse(String(f.result??"null"));if(!Array.isArray(m))throw new Error("Invalid structure");const g=[];for(const b of m){const w=n3(b);w&&g.push(w)}if(g.length===0)throw new Error("No valid items");const v=new Map;for(const b of t)v.set(b.id,b);for(const b of g)v.set(b.id,b);e(Array.from(v.values())),r({type:"success",message:n("common.importedCount",{count:g.length})??`Importadas: ${g.length}`})}catch{r({type:"error",message:n("common.importFailed")??"Importacin fallida (JSON invlido o estructura incorrecta)."})}},f.readAsText(h)}return S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{type:"button",onClick:c,className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:n("common.exportJson")??"Exportar JSON"}),S.jsxs("label",{className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:[n("common.importJson")??"Importar JSON",S.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:h=>{const f=h.target.files?.[0];h.target.value="",f&&u(f)}})]}),i?S.jsx("div",{className:i.type==="error"?"text-sm text-rose-600 dark:text-rose-300":"text-sm text-emerald-700 dark:text-emerald-300",children:i.message}):null]})}function LS(){return typeof chrome<"u"&&!!chrome.identity}async function NS(t){if(!LS())throw new Error("Google Drive backup requires Chrome Extension environment.");return await new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},i=>{const r=chrome.runtime.lastError;if(r){n(new Error(r.message||"OAuth token error"));return}if(!i){n(new Error("No OAuth token received"));return}e(i)})})}async function jS(t){LS()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function OS(t){const e=await fetch(t.url,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.body?{"Content-Type":"application/json"}:{},...t.headers??{}},body:t.body?JSON.stringify(t.body):void 0}),n=await e.text();if(!e.ok){const i=n||`${e.status} ${e.statusText}`;throw new Error(i)}return n?JSON.parse(n):void 0}async function FS(t){const e=await fetch(t.url,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.method==="PATCH"?{"Content-Type":t.contentType??"application/octet-stream"}:{}},body:t.body}),n=await e.text();if(!e.ok){const i=n||`${e.status} ${e.statusText}`;throw new Error(i)}return{text:n,headers:e.headers}}const Qc="subly-state.json";async function IS(t,e){const n=[`name='${e.replace(/'/g,"\\'")}'`,"trashed=false"].join(" and "),i=new URL("https://www.googleapis.com/drive/v3/files");i.searchParams.set("spaces","appDataFolder"),i.searchParams.set("q",n),i.searchParams.set("pageSize","5"),i.searchParams.set("fields","files(id,name,modifiedTime)");const o=((await OS({token:t,method:"GET",url:i.toString()})).files??[])[0];return o?.id?{fileId:o.id,modifiedTime:o.modifiedTime}:null}async function r3(t,e){return{fileId:(await OS({token:t,method:"POST",url:"https://www.googleapis.com/drive/v3/files",body:{name:e,parents:["appDataFolder"],mimeType:"application/json"}})).id}}async function s3(t,e,n){const i=new URL(`https://www.googleapis.com/upload/drive/v3/files/${encodeURIComponent(e)}`);i.searchParams.set("uploadType","media"),i.searchParams.set("fields","id,modifiedTime");const r=await FS({token:t,method:"PATCH",url:i.toString(),body:n,contentType:"application/json; charset=utf-8"}),o=r.text?JSON.parse(r.text):{id:e};return{fileId:o.id||e,modifiedTime:o.modifiedTime}}async function o3(t,e){const n=new URL(`https://www.googleapis.com/drive/v3/files/${encodeURIComponent(e)}`);return n.searchParams.set("alt","media"),{jsonText:(await FS({token:t,method:"GET",url:n.toString()})).text}}async function zS(t){const e=t.interactive??!0,n=String(t.fileName||Qc).trim()||Qc;let i;try{i=await NS(e);let r=t.fileId,o;if(!r){const c=await IS(i,n);c&&(r=c.fileId,o=c.modifiedTime)}r||(r=(await r3(i,n)).fileId);const a=await s3(i,r,t.json);return{fileId:a.fileId,modifiedTime:a.modifiedTime??o}}catch(r){throw i&&await jS(i),r}}async function a3(t){const e=t.interactive??!0,n=String(t.fileName||Qc).trim()||Qc;let i;try{i=await NS(e);let r=t.fileId,o;if(!r){const c=await IS(i,n);if(!c)throw new Error("No backup file found in Drive app data.");r=c.fileId,o=c.modifiedTime}const{jsonText:a}=await o3(i,r);return{fileId:r,modifiedTime:o,jsonText:a}}catch(r){throw i&&await jS(i),r}}function $h(t){return t==="es"?"es-ES":"en-US"}function l3(t){const e=Number(t);return Number.isFinite(e)?e:0}function c3(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function nb(t){return/^\d{4}-\d{2}-\d{2}$/.test(String(t||"").trim())}function Hh(t){return JSON.stringify(t.map(e=>({id:e.id,name:e.name,category:e.category,price:e.price,currency:e.currency,period:e.period,startDate:e.startDate})))}function u3(){const{state:t,setSubscriptions:e,setSettings:n}=Ka(),{t:i,language:r}=uo(),o=Op(),a=t.settings.currencyDisplayMode??"original",c=(t.settings.baseCurrency||"USD").toUpperCase(),u=!!t.settings.calendarAutoSyncAll,h=!!t.settings.calendarUseDedicatedCalendar,f=M.useRef(t.settings);M.useEffect(()=>{f.current=t.settings},[t.settings]);const m=M.useRef(!1),g=M.useCallback(async q=>{const be=String(f.current.driveBackupFileId||"").trim();if(be)try{const ke={...t,subscriptions:q,settings:f.current},Me=JSON.stringify({version:1,savedAt:new Date().toISOString(),state:ke},null,2),Be=await zS({json:Me,fileId:be,interactive:!1});n({...f.current,driveBackupFileId:Be.fileId,driveLastBackupAt:Be.modifiedTime??new Date().toISOString()})}catch(ke){if(m.current)return;m.current=!0;const Me=ke instanceof Error?ke.message:String(ke);o.error((i("drive.backupSaveFailed")??"No se pudo guardar la copia en Google Drive.")+(Me?` ${Me}`:""))}},[n,t,i,o]),v=M.useRef(t.settings.calendarSubscriptionsCalendarId??null);M.useEffect(()=>{v.current=t.settings.calendarSubscriptionsCalendarId??null},[t.settings.calendarSubscriptionsCalendarId]);const b=M.useRef(t.subscriptions);M.useEffect(()=>{b.current=t.subscriptions},[t.subscriptions]);const[w,C]=M.useState(!1),[_,P]=M.useState(null),[E,A]=M.useState(!1),D=M.useRef(null),[j,T]=M.useState(""),[R,V]=M.useState(!1),[I,G]=M.useState(""),[X,oe]=M.useState(""),[J,te]=M.useState(""),[ue,ee]=M.useState(""),[$,Z]=M.useState(""),[Q,O]=M.useState({column:"nextRenewal",direction:"asc"}),K=M.useMemo(()=>t.subscriptions.find(q=>q.id===_)??null,[_,t.subscriptions]),[de,ae]=M.useState(""),[pe,ve]=M.useState(""),[Ne,Le]=M.useState(""),[Fe,gt]=M.useState("USD"),[qt,He]=M.useState("monthly"),[ze,Qt]=M.useState(()=>new Date().toISOString().slice(0,10)),Ft=M.useMemo(()=>{const q=de.trim(),be=Ne.trim();return!(!q||!be||!Number.isFinite(Number(be))||!Fe.trim()||!qt||!nb(ze))},[Fe,de,qt,Ne,ze]);function Mt(){P(null),ae(""),ve(""),Le(""),gt("USD"),He("monthly"),Qt(new Date().toISOString().slice(0,10))}function vn(){A(!1),Mt()}function bs(){Mt(),A(!0)}function Ki(q){P(q.id),ae(q.name),ve(q.category??""),Le(String(q.price));const be=String(q.currency??"").trim().toUpperCase(),ke=gs.some(Me=>Me.code===be);gt(ke?be:"USD"),He(q.period),Qt(q.startDate),A(!0)}function Ci(){const q=de.trim(),be=Ne.trim();if(!q||!be||!Number.isFinite(Number(be))||!Fe.trim()||!qt||!nb(ze))return;const ke=pe.trim(),Me=!!_,De={..._?t.subscriptions.find(nt=>nt.id===_):void 0,id:_??Pw(),name:q,category:ke||void 0,price:l3(Ne),currency:Fe,period:qt,startDate:ze},Ye=t.subscriptions.slice(),je=Ye.findIndex(nt=>nt.id===De.id);je>=0?Ye[je]=De:Ye.unshift(De),b.current=Ye,u&&(Wn.current=Hh(Ye)),e(Ye),vn(),o.success(Me?i("subscriptions.toastUpdated")??"Suscripcin actualizada.":i("subscriptions.toastCreated")??"Suscripcin creada."),u&&(async()=>{const nt=await sn(De.id,!0,{quiet:!0});nt.ok||o.error((i("subscriptions.syncFailed")??"Error al sincronizar.")+(nt.error?` ${nt.error}`:""))})(),g(Ye)}function si(q){const be=b.current,ke=be.find(je=>je.id===q);if(!ke)return;const Me=i("subscriptions.deleteConfirm",{name:ke.name})??`Eliminar ${ke.name}? Tambin se borrar su evento en Google Calendar si existe.`;if(!window.confirm(Me))return;const Be=ke.calendar?.eventId,De=ke.calendar?.calendarId??"primary",Ye=be.filter(je=>je.id!==q);b.current=Ye,u&&(Wn.current=Hh(Ye)),e(Ye),_===q&&Mt(),o.success(i("subscriptions.toastDeleted")??"Suscripcin eliminada."),g(Ye),Be&&(async()=>{try{await Zx({calendarId:De,eventId:Be,interactive:!0}),o.success(i("subscriptions.calendarEventDeleted")??"Evento eliminado de Google Calendar.")}catch(je){const nt=je instanceof Error?je.message:String(je);o.error((i("subscriptions.calendarDeleteFailed")??"No se pudo borrar el evento en Google Calendar.")+(nt?` ${nt}`:""))}})()}const Tn=M.useMemo(()=>Hh(t.subscriptions),[t.subscriptions]),Wn=M.useRef(Tn);M.useEffect(()=>{Wn.current=Tn},[]);const sn=M.useCallback(async(q,be,ke)=>{try{const Me=b.current,Be=Me.findIndex(he=>he.id===q);if(Be<0)return{ok:!1,error:"Subscription not found"};const De=Me[Be];let Ye=De.calendar?.calendarId??"primary";if(h){let he=v.current;he||(he=await tb({interactive:be}),v.current=he,n({...f.current,calendarSubscriptionsCalendarId:he})),Ye=he}const je=Uc(De.startDate,De.period,new Date),nt=PS(je),an=(De.currency||"USD").toUpperCase(),jr=a==="convertToBase"?c:an,ki=a==="convertToBase"?Vi(De.price,an,c):De.price,qi=[`${i("subscriptions.detailsAmount")??"Importe"}: ${mi(ki,jr)}`,`${i("subscriptions.detailsPeriod")??"Periodo"}: ${De.period}`],N=String(De.category||"").trim();N&&qi.push(`${i("subscriptions.filterCategory")??"Categora"}: ${N}`);const B=De.calendar?.eventId,W=De.calendar?.calendarId,ne=!!(B&&W&&W!==Ye);if(ne)try{await Zx({calendarId:W,eventId:B,interactive:be})}catch{}const le=he=>{if(!he||typeof he!="object")return;const ge=he.status;return typeof ge=="number"?ge:void 0},we=(he,ge)=>({calendarId:he,eventId:ge,summary:`${De.name}  ${i("subscriptions.renewal")??"Renovacin"}`,description:qi.join(`
`),startDateYmd:nt,period:De.period,interactive:be});let fe;try{fe=await Uh(we(Ye,ne?void 0:De.calendar?.eventId))}catch(he){if(le(he)!==404)throw he;if(h){const Pe=await tb({interactive:be});v.current=Pe,n({...f.current,calendarSubscriptionsCalendarId:Pe}),fe=await Uh(we(Pe,void 0))}else fe=await Uh(we("primary",void 0))}const Se=Me.slice();return Se[Be]={...De,calendar:{...fe,lastError:void 0}},e(Se),{ok:!0}}catch(Me){const Be=Me instanceof Error?Me.message:String(Me),De=b.current,Ye=De.findIndex(je=>je.id===q);if(Ye>=0){const je=De[Ye],nt=De.slice();nt[Ye]={...je,calendar:{...je.calendar??{calendarId:"primary"},lastError:Be,syncedAt:je.calendar?.syncedAt}},e(nt)}return{ok:!1,error:Be}}},[c,h,a,n,e,i]),Pn=M.useCallback(async q=>{if(!w){C(!0);try{const be=b.current;let ke=0,Me=0,Be=null;for(const Ye of be){const je=await sn(Ye.id,q,{quiet:!0});je.ok?ke+=1:(Me+=1,!Be&&je.error&&(Be=je.error))}const De=i("subscriptions.syncAllDone",{ok:ke,fail:Me})??`Sync: ${ke} ok, ${Me} fail`;Me>0?o.error(Me>0&&Be?`${De} (${Be})`:De):o.success(De)}finally{C(!1)}}},[w,sn,i,o]);M.useEffect(()=>{if(!u){Wn.current=Tn;return}w||Wn.current!==Tn&&(Wn.current=Tn,Pn(!1))},[u,Pn,w,Tn]);const Lr=M.useMemo(()=>r==="es"?["Streaming","Software","Msica","Juegos","Productividad","Educacin","Salud","Otros"]:["Streaming","Software","Music","Games","Productivity","Education","Health","Other"],[r]),oi=M.useMemo(()=>[{value:"monthly",label:i("subscriptions.periodMonthly")??"Mensual"},{value:"quarterly",label:i("subscriptions.periodQuarterly")??"Trimestral"},{value:"semiannual",label:i("subscriptions.periodSemiannual")??"Semestral"},{value:"annual",label:i("subscriptions.periodAnnual")??"Anual"}],[i]),At=M.useMemo(()=>({monthly:i("subscriptions.periodMonthly")??"Mensual",quarterly:i("subscriptions.periodQuarterly")??"Trimestral",semiannual:i("subscriptions.periodSemiannual")??"Semestral",annual:i("subscriptions.periodAnnual")??"Anual"}),[i]),on=M.useMemo(()=>{const q=new Set;for(const be of t.subscriptions){const ke=String(be.currency||"").trim().toUpperCase();ke&&q.add(ke)}return q.add(c),Array.from(q).sort((be,ke)=>be.localeCompare(ke))},[c,t.subscriptions]),Gn=2,xn=M.useMemo(()=>{const q=new Date,be=new Date(q);return be.setDate(be.getDate()+Gn),t.subscriptions.map(ke=>{const Me=Uc(ke.startDate,ke.period,q),Be=(ke.currency||"USD").toUpperCase(),De=Vi(c3(ke),Be,c),Ye=Me.getTime()<=be.getTime();return{...ke,rawCurrency:Be,nextRenewal:Me,dueSoon:Ye,monthlyEqBase:De}})},[c,t.subscriptions]),Vt=M.useMemo(()=>{const q=t.subscriptions.length;if(q===0)return{count:q,avgMonthlyBase:0,highest:null,dueSoonCount:0,nextDueDate:null,topCategory:null};const be=new Map;let ke=0,Me=null,Be=0,De=null;for(const je of xn){ke+=je.monthlyEqBase,(!Me||je.monthlyEqBase>Me.valueBase)&&(Me={name:je.name,valueBase:je.monthlyEqBase}),je.dueSoon&&(Be+=1),(!De||je.nextRenewal.getTime()<De.getTime())&&(De=je.nextRenewal);const nt=String(je.category||"").trim()||(i("common.uncategorized")??"Sin categora");be.set(nt,(be.get(nt)??0)+je.monthlyEqBase)}let Ye=null;if(ke>0&&be.size>0){let je=null;for(const[nt,an]of be.entries())(!je||an>je.value)&&(je={label:nt,value:an});je&&(Ye={label:je.label,percent:Math.round(je.value/ke*100)})}return{count:q,avgMonthlyBase:ke/q,highest:Me,dueSoonCount:Be,nextDueDate:De,topCategory:Ye}},[xn,t.subscriptions.length,i]),ws=M.useCallback(()=>{G(""),oe(""),te(""),ee(""),Z(""),T("")},[]),Jt=M.useMemo(()=>!!(j.trim()||I.trim()||X.trim()||J||ue.trim()||$.trim()),[I,X,$,ue,J,j]),Nr=M.useMemo(()=>{const q=j.trim().toLowerCase(),be=ue.trim()?Number(ue):null,ke=$.trim()?Number($):null;return xn.filter(Me=>I.trim()&&String(Me.category||"").trim().toLowerCase()!==I.trim().toLowerCase()||X.trim()&&Me.rawCurrency!==X.trim().toUpperCase()||J&&Me.period!==J||be!==null&&Number.isFinite(be)&&Me.price<be||ke!==null&&Number.isFinite(ke)&&Me.price>ke?!1:q?[Me.name,Me.category,Me.rawCurrency,Me.period,At[Me.period],String(Me.price),mi(Me.price,Me.rawCurrency)].some(De=>String(De||"").toLowerCase().includes(q)):!0)},[xn,I,X,$,ue,J,At,j]),Xi=M.useCallback(q=>{O(be=>be.column===q?{column:q,direction:be.direction==="asc"?"desc":"asc"}:{column:q,direction:"asc"})},[]),Yn=M.useMemo(()=>{const q=new Intl.Collator(void 0,{sensitivity:"base"}),be=Q.direction==="asc"?1:-1,ke=Be=>{const De=Date.parse(`${String(Be||"").slice(0,10)}T00:00:00`);return Number.isFinite(De)?De:0},Me=(Be,De)=>{switch(Q.column){case"name":return q.compare(Be.name,De.name)*be;case"price":return(Be.price-De.price)*be;case"startDate":return(ke(Be.startDate)-ke(De.startDate))*be;case"category":{const Ye=String(Be.category||"").trim()||(i("common.uncategorized")??"Sin categora"),je=String(De.category||"").trim()||(i("common.uncategorized")??"Sin categora");return q.compare(Ye,je)*be}default:return(Be.nextRenewal.getTime()-De.nextRenewal.getTime())*be}};return[...Nr].sort(Me)},[Nr,Q.column,Q.direction]),Kn=({column:q,label:be})=>{const ke=Q.column===q;return S.jsxs("button",{type:"button",onClick:()=>Xi(q),"aria-pressed":ke,className:"group inline-flex w-full items-center justify-center gap-1.5 rounded-md px-2 py-1 text-center text-xs font-bold uppercase tracking-wide hover:bg-slate-100 dark:hover:bg-slate-800 "+(ke?"bg-indigo-50 text-indigo-950 ring-1 ring-inset ring-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-100 dark:ring-indigo-700":"text-slate-700 dark:text-slate-200"),children:[S.jsx("span",{className:"truncate",children:be}),S.jsx("svg",{className:`h-3.5 w-3.5 flex-none transition-transform ${ke?"opacity-100":"opacity-40 group-hover:opacity-70"} ${ke&&Q.direction==="desc"?"rotate-180":""}`,viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:S.jsx("path",{d:"M3 10l3-5 3 5"})})]})};return M.useEffect(()=>{if(!E)return;const q=window.setTimeout(()=>{D.current?.focus()},0),be=ke=>{ke.key==="Escape"&&vn()};return window.addEventListener("keydown",be),()=>{window.clearTimeout(q),window.removeEventListener("keydown",be)}},[E]),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:i("subscriptions.listTitle")??"Listado"}),S.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:i("subscriptions.subtitle")??""})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(i3,{items:t.subscriptions,onImport:e}),S.jsxs("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:opacity-60",disabled:t.subscriptions.length===0||w,onClick:()=>Pn(!0),title:i("subscriptions.syncAll")??"Sincronizar todas","aria-label":i("subscriptions.syncAll")??"Sincronizar todas","aria-busy":w,children:[w?S.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 opacity-70",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[S.jsx("path",{d:"M12 2v4"}),S.jsx("path",{d:"M12 18v4"}),S.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),S.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),S.jsx("path",{d:"M2 12h4"}),S.jsx("path",{d:"M18 12h4"}),S.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),S.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]}):S.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[S.jsx("path",{d:"M21 12a9 9 0 0 0-15.5-6.36"}),S.jsx("path",{d:"M3 4v6h6"}),S.jsx("path",{d:"M3 12a9 9 0 0 0 15.5 6.36"}),S.jsx("path",{d:"M21 20v-6h-6"})]}),S.jsx("span",{className:"sr-only",children:w?i("subscriptions.syncing")??"Sincronizando":i("subscriptions.syncAll")??"Sincronizar todas"})]}),S.jsx("button",{type:"button",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500",onClick:bs,children:i("subscriptions.addSubscription")??"Aadir suscripcin"})]})]}),S.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[S.jsxs("div",{className:"flex items-end justify-between gap-3",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:i("subscriptions.insightsTitle")??"Resumen"}),S.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:i("subscriptions.insightsHint",{currency:c})??""})]}),S.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:i("subscriptions.insightsDueWindow",{days:Gn})??""})]}),t.subscriptions.length===0?S.jsx("div",{className:"mt-3 text-sm text-slate-500",children:i("subscriptions.noSubscriptions")??"No hay suscripciones an."}):S.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[S.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[S.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:i("subscriptions.insightsCount")??"Suscripciones"}),S.jsx("div",{className:"mt-1 text-2xl font-black text-slate-900 dark:text-white",children:Vt.count})]}),S.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[S.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:i("subscriptions.insightsAvgMonthly")??"Media mensual"}),S.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:mi(Vt.avgMonthlyBase,c)}),S.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:i("subscriptions.insightsAvgMonthlyHelper",{currency:c})??""})]}),S.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[S.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:i("subscriptions.insightsUpcoming")??"Prximas"}),S.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:i("subscriptions.insightsUpcomingValue",{count:Vt.dueSoonCount})??String(Vt.dueSoonCount)}),S.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:Vt.nextDueDate?i("subscriptions.insightsUpcomingHelper",{date:Vt.nextDueDate.toLocaleDateString($h(r))})??"":i("common.none")??""})]}),S.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[S.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:i("subscriptions.insightsTopCategory")??"Top categora"}),S.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:Vt.topCategory?Vt.topCategory.label:i("common.none")??""}),S.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:Vt.topCategory?i("subscriptions.insightsTopCategoryHelper",{percent:Vt.topCategory.percent})??"":""})]})]})]}),S.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[S.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[S.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[S.jsxs("div",{className:"relative w-full",children:[S.jsx("svg",{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",children:S.jsx("path",{d:"M8.5 3a5.5 5.5 0 014.33 9.02l3.58 3.58-1.06 1.06-3.58-3.58A5.5 5.5 0 118.5 3zm0 1.5a4 4 0 100 8 4 4 0 000-8z",fill:"currentColor"})}),S.jsx("input",{type:"search",value:j,onChange:q=>T(q.target.value),placeholder:i("subscriptions.searchPlaceholder")??"Buscar","aria-label":i("subscriptions.searchPlaceholder")??"Buscar",className:"w-full rounded-md border border-slate-300 bg-white py-2 pl-9 pr-3 text-sm dark:border-slate-700 dark:bg-slate-950",autoComplete:"off"})]}),S.jsx("button",{type:"button",className:`rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800 ${R?"bg-slate-100 dark:bg-slate-800":""}`,onClick:()=>V(q=>!q),"aria-pressed":R,children:i("subscriptions.filtersToggle")??"Filtros"}),Jt?S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:ws,children:i("common.clear")??"Limpiar"}):null]}),S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:i("subscriptions.resultsCount",{count:Yn.length})??`${Yn.length}`})]}),R?S.jsx("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:S.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterCategory")??"Categora"}),S.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:I,onChange:q=>G(q.target.value),children:[S.jsx("option",{value:"",children:i("common.none")??""}),Array.from(new Set(xn.map(q=>String(q.category||"").trim()).filter(Boolean))).sort((q,be)=>q.localeCompare(be)).map(q=>S.jsx("option",{value:q,children:q},q))]})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterCurrency")??"Moneda"}),S.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:X,onChange:q=>oe(q.target.value),children:[S.jsx("option",{value:"",children:i("common.none")??""}),on.map(q=>S.jsx("option",{value:q,children:q},q))]})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterPeriod")??"Periodo"}),S.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:J,onChange:q=>te(q.target.value),children:[S.jsx("option",{value:"",children:i("common.none")??""}),oi.map(q=>S.jsx("option",{value:q.value,children:q.label},q.value))]})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterMinPrice")??"Precio mn."}),S.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:ue,onChange:q=>ee(q.target.value)})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.filterMaxPrice")??"Precio mx."}),S.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:$,onChange:q=>Z(q.target.value)})]})]})}):null,S.jsx("div",{className:"mt-3 overflow-x-auto",children:S.jsxs("table",{className:"w-full min-w-[700px] table-fixed border-separate border-spacing-0 text-xs",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"text-center",children:[S.jsx("th",{className:"sticky top-0 z-10 w-32 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:S.jsx(Kn,{column:"name",label:i("subscriptions.columnName")??"Nombre"})}),S.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:S.jsx(Kn,{column:"price",label:i("subscriptions.columnPrice")??"Importe"})}),S.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:S.jsx(Kn,{column:"startDate",label:i("subscriptions.columnStart")??"Inicio"})}),S.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:S.jsx(Kn,{column:"nextRenewal",label:i("subscriptions.columnNext")??"Prximo"})}),S.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:S.jsx(Kn,{column:"category",label:i("subscriptions.columnCategory")??"Categora"})}),S.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:S.jsx("span",{className:"block w-full text-center text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-200",children:i("subscriptions.columnActions")??"Acciones"})})]})}),S.jsx("tbody",{children:Yn.length===0?S.jsx("tr",{children:S.jsx("td",{colSpan:6,className:"py-6 text-center text-sm text-slate-500",children:Jt?i("subscriptions.emptyFiltered")??"Sin resultados con los filtros actuales.":i("subscriptions.noSubscriptions")??"No hay suscripciones an."})}):Yn.map(q=>{const be=a==="convertToBase"?c:q.rawCurrency,ke=a==="convertToBase"?Vi(q.price,q.rawCurrency,c):q.price,Me=String(q.category||"").trim();return S.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 dark:border-slate-800/60 dark:hover:bg-slate-800/30",children:[S.jsxs("td",{className:"px-2 py-1.5 text-center",children:[S.jsxs("div",{className:"flex items-center justify-center gap-2",children:[S.jsx("div",{className:"min-w-0 truncate font-semibold text-slate-900 dark:text-white",children:q.name}),q.dueSoon?S.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:i("subscriptions.dueSoon")??"Pronto"}):null]}),S.jsx("div",{className:"mt-0.5 whitespace-nowrap text-center text-[11px] text-slate-500 dark:text-slate-400",children:At[q.period]})]}),S.jsx("td",{className:"px-2 py-1.5 text-center font-semibold text-slate-900 dark:text-white",children:mi(ke,be)}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:new Date(q.startDate).toLocaleDateString($h(r))}),S.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:q.nextRenewal.toLocaleDateString($h(r))}),S.jsx("td",{className:"px-2 py-1.5 truncate text-center text-slate-600 dark:text-slate-300",children:Me||(i("common.uncategorized")??"Sin categora")}),S.jsx("td",{className:"py-1.5",children:S.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[S.jsxs("button",{type:"button","aria-label":i("common.edit")??"Editar",title:i("common.edit")??"Editar",className:"inline-flex items-center justify-center rounded-md bg-amber-600/80 px-2 py-1 text-[11px] font-semibold text-white hover:bg-amber-500/80",onClick:()=>Ki(q),children:[S.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[S.jsx("path",{d:"M12 20h9"}),S.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L8 18l-4 1 1-4 11.5-11.5z"})]}),S.jsx("span",{className:"sr-only",children:i("common.edit")??"Editar"})]}),S.jsxs("button",{type:"button","aria-label":i("common.delete")??"Eliminar",title:i("common.delete")??"Eliminar",className:"inline-flex items-center justify-center rounded-md bg-rose-600 px-2 py-1 text-[11px] font-semibold text-white hover:bg-rose-500",onClick:()=>si(q.id),children:[S.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[S.jsx("path",{d:"M3 6h18"}),S.jsx("path",{d:"M8 6V4h8v2"}),S.jsx("path",{d:"M6 6l1 14h10l1-14"}),S.jsx("path",{d:"M10 11v6"}),S.jsx("path",{d:"M14 11v6"})]}),S.jsx("span",{className:"sr-only",children:i("common.delete")??"Eliminar"})]})]})})]},q.id)})})]})})]}),E?S.jsxs("div",{className:"fixed inset-0 z-50",children:[S.jsx("div",{className:"absolute inset-0 bg-slate-950/50",onClick:vn}),S.jsx("div",{className:"relative mx-auto w-full max-w-3xl px-4 py-6",children:S.jsxs("div",{role:"dialog","aria-modal":"true",className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:K?i("subscriptions.editSubscription")??"Editar suscripcin":i("subscriptions.addSubscriptionTitle")??"Aadir suscripcin"}),S.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.name")??"Nombre"}),S.jsx("input",{ref:D,className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:de,onChange:q=>ae(q.target.value)})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.category")??"Categora"}),S.jsx("input",{list:"subly-categories",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:pe,onChange:q=>ve(q.target.value),placeholder:i("subscriptions.categoryPlaceholder")??"Ej: Streaming"}),S.jsx("datalist",{id:"subly-categories",children:Lr.map(q=>S.jsx("option",{value:q},q))})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.amount")??"Importe"}),S.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Ne,onChange:q=>Le(q.target.value)})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.currency")??"Moneda"}),S.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Fe,onChange:q=>gt(q.target.value),children:gs.map(q=>S.jsxs("option",{value:q.code,children:[q.code," (",q.symbol,")  ",q.names[r]]},q.code))})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.period")??"Periodo"}),S.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:qt,onChange:q=>He(q.target.value),children:oi.map(q=>S.jsx("option",{value:q.value,children:q.label},q.value))})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold",children:i("subscriptions.startDate")??"Fecha inicio"}),S.jsx("input",{type:"date",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:ze,onChange:q=>Qt(q.target.value)})]})]}),S.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[S.jsx("button",{type:"button",disabled:!Ft,"aria-disabled":!Ft,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500 disabled:cursor-not-allowed disabled:opacity-60",onClick:Ci,children:K?i("common.save")??"Guardar":i("common.add")??"Aadir"}),S.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:vn,children:i("common.cancel")??"Cancelar"}),Ft?null:S.jsx("div",{className:"flex items-center text-sm text-slate-600 dark:text-slate-300",children:i("subscriptions.helpIncomplete")??"Completa nombre, importe y fecha."})]})]})})]}):null]})}function BS(){return typeof chrome<"u"&&!!chrome.identity}function d3(t){if(!BS())throw new Error("Google auth requires Chrome Extension environment.");return new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},i=>{const r=chrome.runtime.lastError;if(r){n(new Error(r.message||"OAuth token error"));return}if(!i){n(new Error("No OAuth token received"));return}e(i)})})}async function h3(t){BS()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function f3(t){const e=new URLSearchParams({token:t});await fetch("https://oauth2.googleapis.com/revoke",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).catch(()=>{})}async function p3(t){const e=t?.interactive;let n;try{n=await d3(e)}catch{return{hadToken:!1}}return await f3(n),await h3(n),{hadToken:!0}}function m3({children:t,className:e="",colors:n=["#5227FF","#FF9FFC","#B19EEF"],animationSpeed:i=8,showBorder:r=!1,direction:o="horizontal",pauseOnHover:a=!1,yoyo:c=!0}){const[u,h]=M.useState(!1),f=Mw(0),m=M.useRef(0),g=M.useRef(null),v=i*1e3;vA(A=>{if(u){g.current=null;return}if(g.current===null){g.current=A;return}const D=A-g.current;if(g.current=A,m.current+=D,c){const j=v*2,T=m.current%j;T<v?f.set(T/v*100):f.set(100-(T-v)/v*100)}else f.set(m.current/v*100)}),M.useEffect(()=>{m.current=0,f.set(0),g.current=null},[i,f,c]);const b=yA(f,A=>o==="horizontal"?`${A}% 50%`:o==="vertical"?`50% ${A}%`:`${A}% 50%`),w=M.useCallback(()=>{a&&h(!0)},[a]),C=M.useCallback(()=>{a&&h(!1)},[a]),_=o==="horizontal"?"to right":o==="vertical"?"to bottom":"to bottom right",P=[...n,n[0]].join(", "),E={backgroundImage:`linear-gradient(${_}, ${P})`,backgroundSize:o==="horizontal"?"300% 100%":o==="vertical"?"100% 300%":"300% 300%",backgroundRepeat:"repeat"};return S.jsxs(Wi.span,{className:`animated-gradient-text ${r?"with-border":""} ${e}`,onMouseEnter:w,onMouseLeave:C,children:[r&&S.jsx(Wi.span,{className:"gradient-overlay",style:{...E,backgroundPosition:b}}),S.jsx(Wi.span,{className:"text-content",style:{...E,backgroundPosition:b},children:t})]})}function In({title:t,description:e,tone:n="neutral",hideHeader:i=!1,children:r}){const o={neutral:"bg-gradient-to-br from-slate-900 via-slate-950/60 to-slate-950",blue:"bg-gradient-to-br from-sky-950/80 via-slate-900 to-sky-950/30",blueGradient:"bg-slate-950 bg-[radial-gradient(circle_at_top_left,rgba(56,189,248,0.28),transparent_55%),radial-gradient(circle_at_bottom_right,rgba(167,139,250,0.22),transparent_55%)]",teal:"bg-gradient-to-br from-teal-950/80 via-slate-900 to-teal-950/30",amber:"bg-gradient-to-br from-amber-950/95 via-slate-950/75 to-amber-950/15",violet:"bg-gradient-to-br from-violet-950/80 via-slate-900 to-violet-950/30",fuchsia:"bg-gradient-to-br from-fuchsia-950/70 via-slate-900 to-fuchsia-950/30",indigo:"bg-gradient-to-br from-indigo-950/80 via-slate-900 to-indigo-950/30",slate:"bg-gradient-to-br from-slate-950/70 via-slate-900 to-slate-950/30",emerald:"bg-gradient-to-br from-emerald-950/80 via-slate-900 to-emerald-950/30",cyan:"bg-gradient-to-br from-cyan-950/80 via-slate-900 to-cyan-950/30",rose:"bg-gradient-to-br from-rose-950/80 via-slate-900 to-rose-950/30"};return S.jsx("div",{className:`rounded-xl border border-white/60 ${o[n]}`,children:S.jsxs("div",{className:"p-4",children:[!i&&(t||e)&&S.jsxs("div",{className:"min-w-0",children:[t&&S.jsx("div",{className:"text-sm font-semibold text-slate-200",children:t}),e&&S.jsx("div",{className:"mt-2 text-xs text-slate-400",children:e})]}),S.jsx("div",{className:!i&&(t||e)?"mt-3":"",children:r})]})})}function Sc({title:t,description:e,defaultOpen:n=!1,gradientColors:i=["#38BDF8","#A78BFA","#FB7185"],titleShowBorder:r=!1,titleUppercase:o=!0,children:a}){const c=M.useId(),[u,h]=M.useState(n);return S.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900",children:[S.jsxs("button",{type:"button",className:"flex w-full items-start justify-between gap-3 p-4 text-left",onClick:()=>h(f=>!f),"aria-expanded":u,"aria-controls":c,children:[S.jsxs("div",{className:"min-w-0",children:[S.jsx(m3,{className:o?"text-sm font-bold uppercase tracking-wide":"text-sm font-bold",colors:i,animationSpeed:10,showBorder:r,direction:"horizontal",pauseOnHover:!0,yoyo:!0,children:t}),e&&S.jsx("div",{className:"mt-2 text-xs text-slate-400",children:e})]}),S.jsx("div",{className:"mt-0.5 shrink-0 text-slate-400",children:S.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:u?"rotate-180 transition-transform":"transition-transform","aria-hidden":"true",children:S.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),S.jsx("div",{id:c,className:u?"space-y-3 px-4 pb-4":"hidden space-y-3 px-4 pb-4",children:a})]})}function g3(){const{state:t,setSettings:e,setSubscriptions:n}=Ka(),{t:i,language:r}=uo(),o=Op(),[a,c]=M.useState(null),[u,h]=M.useState(""),f=M.useMemo(()=>{const I=String(t.settings.driveLastBackupAt||"").trim();if(!I)return i("common.none")??"";const G=new Date(I);return Number.isNaN(G.getTime())?I:G.toLocaleString(r==="es"?"es-ES":"en-US")},[r,t.settings.driveLastBackupAt,i]);function m(I){e({...t.settings,language:I})}function g(I){e({...t.settings,currencyDisplayMode:I})}function v(I){e({...t.settings,baseCurrency:String(I||"USD").trim().toUpperCase()})}function b(I){e({...t.settings,calendarAutoSyncAll:I})}function w(I){e({...t.settings,calendarUseDedicatedCalendar:I})}function C(I){e({...t.settings,calendarFloatingButtonEnabled:I})}function _(){e({...t.settings,onboardingCompleted:!1}),o.info(i("settings.onboardingOpened")??"Onboarding abierto.")}async function P(){const I={generatedAt:new Date().toISOString(),language:r,settings:{currencyDisplayMode:t.settings.currencyDisplayMode,baseCurrency:t.settings.baseCurrency,calendarAutoSyncAll:!!t.settings.calendarAutoSyncAll,calendarUseDedicatedCalendar:!!t.settings.calendarUseDedicatedCalendar,calendarFloatingButtonEnabled:t.settings.calendarFloatingButtonEnabled!==!1,driveBackupLinked:!!t.settings.driveBackupFileId,driveLastBackupAt:t.settings.driveLastBackupAt||null},subscriptionsCount:t.subscriptions.length},G=JSON.stringify(I,null,2);try{await navigator.clipboard.writeText(G),o.success(i("settings.helpCopied")??"Diagnstico copiado.")}catch{try{window.prompt(i("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto:",G)}catch{o.error(i("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto manualmente.")}}}async function E(){const I=u.trim();if(!I){o.info(i("settings.helpFeedbackEmpty")??"Escribe un comentario antes de copiar.");return}try{await navigator.clipboard.writeText(I),o.success(i("settings.helpFeedbackCopied")??"Comentario copiado.")}catch{try{window.prompt(i("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto:",I)}catch{o.error(i("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto manualmente.")}}}const A=M.useMemo(()=>{const I=globalThis?.chrome?.runtime?.getURL;return typeof I=="function"?I("PRIVACY.md"):"/PRIVACY.md"},[]),D="https://calendar.google.com/calendar/u/0/r";async function j(){if(!a){c("save");try{const I=JSON.stringify({version:1,savedAt:new Date().toISOString(),state:t},null,2),G=await zS({json:I,fileId:t.settings.driveBackupFileId,interactive:!0});e({...t.settings,driveBackupFileId:G.fileId,driveLastBackupAt:G.modifiedTime??new Date().toISOString()}),o.success(i("drive.backupSaved")??"Copia guardada en Google Drive.")}catch(I){const G=I instanceof Error?I.message:String(I);o.error((i("drive.backupSaveFailed")??"No se pudo guardar la copia en Google Drive.")+(G?` ${G}`:""))}finally{c(null)}}}async function T(){if(a)return;const I=i("drive.restoreConfirm")??"Esto reemplazar tus datos locales con los de Drive. Continuar?";if(window.confirm(I)){c("restore");try{const G=await a3({fileId:t.settings.driveBackupFileId,interactive:!0});let X;try{X=JSON.parse(G.jsonText)}catch{throw new Error("Invalid JSON in Drive backup file.")}const oe=X&&typeof X=="object"&&"state"in X?X.state:X,J=oa(oe);n(J.subscriptions),e({...J.settings,driveBackupFileId:G.fileId,driveLastBackupAt:G.modifiedTime??new Date().toISOString()}),o.success(i("drive.backupRestored")??"Datos restaurados desde Google Drive.")}catch(G){const X=G instanceof Error?G.message:String(G);o.error((i("drive.backupRestoreFailed")??"No se pudo restaurar desde Google Drive.")+(X?` ${X}`:""))}finally{c(null)}}}async function R(){const I=i("settings.googleDisconnectConfirm")??"Esto desconectar Subly de tu cuenta de Google en este navegador. Continuar?";if(window.confirm(I))try{if(!(await p3({interactive:!1})).hadToken){o.info(i("settings.googleDisconnectNoToken")??"No hay sesin activa que desconectar.");return}o.success(i("settings.googleDisconnectDone")??"Desconectado. La prxima vez se pedirn permisos de nuevo.")}catch(G){const X=G instanceof Error?G.message:String(G);o.error(X||"Disconnect failed")}}function V(){const I=i("settings.resetLocalConfirm")??"Esto borrar tus datos locales (suscripciones y ajustes) en este dispositivo. Continuar?";window.confirm(I)&&(n([]),e({...ss,language:t.settings.language}),o.success(i("settings.resetLocalDone")??"Datos locales borrados."))}return S.jsxs("div",{className:"space-y-4",children:[S.jsxs(Sc,{title:i("settings.groupGeneral")??"General",gradientColors:["#E2E8F0","#94A3B8","#A78BFA"],defaultOpen:!0,children:[S.jsx(In,{title:i("settings.languageTitle")??"Idioma",description:i("settings.languageDescription")??"Selecciona el idioma de la app.",tone:"blue",children:S.jsxs("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:t.settings.language,onChange:I=>m(I.target.value),children:[S.jsx("option",{value:"es",children:i("common.language.es")??"Espaol"}),S.jsx("option",{value:"en",children:i("common.language.en")??"English"})]})}),S.jsx(In,{title:i("settings.currencyTitle")??"Moneda",description:i("settings.currencyHint")??"Al convertir a una sola moneda, los totales y grficos se muestran en la moneda base.",tone:"blue",children:S.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:i("settings.displayAmounts")??"Mostrar importes"}),S.jsxs("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:t.settings.currencyDisplayMode,onChange:I=>g(I.target.value),children:[S.jsx("option",{value:"original",children:i("settings.displayOriginal")??"Con sus monedas originales"}),S.jsx("option",{value:"convertToBase",children:i("settings.displayConvert")??"Convertir a una moneda nica"})]})]}),S.jsxs("label",{className:"text-sm",children:[S.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:i("settings.baseCurrency")??"Moneda base"}),S.jsx("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 disabled:opacity-60",value:t.settings.baseCurrency,onChange:I=>v(I.target.value),disabled:t.settings.currencyDisplayMode!=="convertToBase",children:gs.map(I=>S.jsxs("option",{value:I.code,children:[I.code,"  ",I.names[t.settings.language]]},I.code))})]})]})}),S.jsx(In,{title:i("settings.onboardingTitle")??"Primeros pasos",description:i("settings.onboardingDescription")??"Puedes volver a ver el onboarding cuando quieras.",tone:"blue",children:S.jsx("button",{type:"button",className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",onClick:_,children:i("settings.openOnboarding")??"Ver onboarding de nuevo"})})]}),S.jsxs(Sc,{title:i("settings.groupIntegrations")??"Integraciones",gradientColors:["#38BDF8","#A78BFA","#FB7185"],children:[S.jsx(In,{tone:"fuchsia",hideHeader:!0,children:S.jsxs("div",{className:"space-y-3",children:[S.jsxs("label",{className:"flex items-start gap-3",children:[S.jsx("input",{type:"checkbox",checked:!!t.settings.calendarUseDedicatedCalendar,onChange:I=>w(I.target.checked),className:"mt-1 h-4 w-4"}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-200",children:i("settings.calendarDedicatedLabel")??"Usar calendario dedicado"}),S.jsx("div",{className:"mt-1 text-xs text-slate-400",children:i("settings.calendarDedicatedHint")??"Al activarlo, se crea un calendario dedicado para tus suscripciones."})]})]}),S.jsxs("label",{className:"flex items-start gap-3",children:[S.jsx("input",{type:"checkbox",checked:!!t.settings.calendarAutoSyncAll,onChange:I=>b(I.target.checked),className:"mt-1 h-4 w-4"}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("div",{className:"text-sm font-semibold text-slate-200",children:i("settings.calendarAutoSyncAllLabel")??"Auto-sync de suscripciones"}),S.jsx("div",{className:"mt-1 text-xs text-slate-400",children:i("settings.calendarAutoSyncAllHint")??"Al guardar cambios en Suscripciones, se intentar sincronizar automticamente (si ya diste permiso)."})]})]}),S.jsx("a",{className:"inline-flex rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500",href:D,target:"_blank",rel:"noreferrer",children:i("settings.openGoogleCalendar")??"Abrir Google Calendar"})]})}),S.jsx(In,{title:i("settings.extensionTitle")??"Extensin",description:i("settings.floatingButtonHint")??"Si lo desactivas, podrs abrir Subly solo desde el icono de la extensin (o el panel lateral si ya est abierto).",tone:"fuchsia",children:S.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[S.jsx("input",{type:"checkbox",checked:t.settings.calendarFloatingButtonEnabled!==!1,onChange:I=>C(I.target.checked),className:"h-4 w-4"}),S.jsx("span",{className:"font-semibold text-slate-200",children:i("settings.floatingButtonLabel")??"Mostrar botn flotante en Google Calendar"})]})}),S.jsxs(In,{title:i("settings.privacyTitle")??"Permisos",tone:"fuchsia",children:[S.jsx("p",{className:"text-sm text-slate-300",children:i("settings.privacyBody")??"Subly guarda tus datos localmente. Si activas sincronizacin/backup, usa Google OAuth para crear/actualizar eventos en Google Calendar y guardar una copia JSON en Drive (appDataFolder)."}),S.jsx("p",{className:"mt-2 text-xs text-slate-400",children:i("settings.permissionsHint")??"Permisos: identity (OAuth), storage (guardar estado), sidePanel (UI), y acceso a Google APIs + proveedor de tipos de cambio."}),S.jsxs("div",{className:"mt-4",children:[S.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-amber-800/60 bg-amber-950/30 px-4 py-2 text-sm font-semibold text-amber-200 shadow-sm backdrop-blur ring-1 ring-white/10 hover:bg-amber-950/45",onClick:R,children:i("settings.googleDisconnectLabel")??"Desconectar Google"}),S.jsx("div",{className:"mt-2 text-xs text-slate-400",children:i("settings.googleDisconnectHint")??"Revoca el token OAuth y fuerza a pedir permisos de nuevo la prxima vez. No borra eventos de Calendar ni tu backup en Drive."})]})]})]}),S.jsxs(Sc,{title:i("settings.groupData")??"Datos y mantenimiento",gradientColors:["#34D399","#A3E635","#60A5FA"],children:[S.jsxs(In,{title:i("drive.title")??"Copia de seguridad",description:i("drive.body")??"Guarda una copia en tu Google Drive y restaura una copia anterior cuando lo necesites.",tone:"emerald",children:[S.jsxs("div",{className:"text-xs font-semibold text-slate-400",children:[i("drive.lastBackup")??"ltima copia",": ",f]}),S.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[S.jsx("button",{type:"button",className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-500 disabled:opacity-60",onClick:j,disabled:a!==null,children:a==="save"?i("drive.saving")??"Guardando":i("drive.save")??"Guardar copia"}),S.jsx("button",{type:"button",className:"rounded-md bg-slate-100 px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-slate-200 disabled:opacity-60",onClick:T,disabled:a!==null,children:a==="restore"?i("drive.restoring")??"Restaurando":i("drive.restore")??"Restaurar copia"})]})]}),S.jsx(In,{title:i("settings.helpPrivacyQ")??"Privacidad",description:i("settings.helpPrivacyA")??"Tus datos se guardan localmente. Solo si activas integraciones, Subly usa Google OAuth para Calendar y/o guardar un backup JSON en Drive (appDataFolder).",tone:"cyan",children:S.jsx("a",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",href:A,target:"_blank",rel:"noreferrer",children:i("settings.helpPrivacyOpen")??"Abrir poltica de privacidad"})}),S.jsx(In,{title:i("settings.dataTitle")??"Datos",description:i("settings.resetLocalHint")??"Elimina suscripciones y restablece ajustes de este dispositivo. No borra tu copia en Drive ni eventos ya creados en Calendar.",tone:"rose",children:S.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-500",onClick:V,children:i("settings.resetLocalLabel")??"Borrar datos locales"})})]}),S.jsxs(Sc,{title:i("settings.groupHelp")??"Ayuda",gradientColors:["#94A3B8","#E2E8F0","#A78BFA"],children:[S.jsx(In,{title:i("settings.helpFaqTitle")??"FAQ",description:i("settings.helpFaqDescription")??"Respuestas rpidas y solucin de problemas.",tone:"amber",children:S.jsxs("div",{className:"space-y-2 text-sm",children:[S.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[S.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[S.jsx("span",{children:i("settings.helpOpenPanelQ")??"Cmo abro el panel?"}),S.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:S.jsx("path",{d:"M6 9l6 6 6-6"})})]}),S.jsx("div",{className:"mt-2 text-slate-300",children:i("settings.helpOpenPanelA")??"En Google Calendar puedes usar el botn flotante (si est activado) o hacer clic en el icono de la extensin para abrir el Side Panel."})]}),S.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[S.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[S.jsx("span",{children:i("settings.helpDriveQ")??"Qu se guarda en Drive?"}),S.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:S.jsx("path",{d:"M6 9l6 6 6-6"})})]}),S.jsx("div",{className:"mt-2 text-slate-300",children:i("settings.helpDriveA")??"Un nico archivo JSON en la carpeta oculta appDataFolder (por defecto: subly-state.json)."})]}),S.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[S.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[S.jsx("span",{children:i("settings.helpCalendarQ")??"Qu crea en Google Calendar?"}),S.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:S.jsx("path",{d:"M6 9l6 6 6-6"})})]}),S.jsx("div",{className:"mt-2 text-slate-300",children:i("settings.helpCalendarA")??"Eventos recurrentes (todo el da) para cada suscripcin, si sincronizas."})]}),S.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[S.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[S.jsx("span",{children:i("settings.helpTroubleshootingQ")??"Solucin de problemas"}),S.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:S.jsx("path",{d:"M6 9l6 6 6-6"})})]}),S.jsxs("div",{className:"mt-2 text-slate-300",children:[S.jsx("div",{children:i("settings.helpTroubleshootingA")??"Si algo no funciona, prueba estos pasos:"}),S.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[S.jsx("li",{children:i("settings.helpTs1")??"Recarga Google Calendar y vuelve a abrir el panel."}),S.jsx("li",{children:i("settings.helpTs2")??"Revisa los toggles de sincronizacin y el botn flotante en Integraciones."}),S.jsx("li",{children:i("settings.helpTs3")??"Si Drive/Calendar falla, desconecta Google y vuelve a autorizar desde la accin que lo requiera."})]})]})]})]})}),S.jsxs(In,{title:i("settings.helpContactTitle")??"Ponte en contacto con nosotros",description:i("settings.helpContactDescription")??"Incluye el diagnstico para resolver incidencias ms rpido.",tone:"amber",children:[S.jsx("div",{className:"text-sm text-slate-300",children:i("settings.helpContactA")??"Para soporte, usa el email de soporte indicado en la ficha de Chrome Web Store. Si vas a reportar un problema, adjunta tambin el Diagnstico."}),S.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[S.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[S.jsx("div",{className:"text-xs font-semibold text-slate-200",children:i("settings.helpStatusAutoSync")??"Auto-sync"}),S.jsx("div",{className:t.settings.calendarAutoSyncAll?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.calendarAutoSyncAll?i("common.on")??"ON":i("common.off")??"OFF"})]}),S.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[S.jsx("div",{className:"text-xs font-semibold text-slate-200",children:i("settings.helpStatusDedicated")??"Calendario dedicado"}),S.jsx("div",{className:t.settings.calendarUseDedicatedCalendar?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.calendarUseDedicatedCalendar?i("common.on")??"ON":i("common.off")??"OFF"})]}),S.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[S.jsx("div",{className:"text-xs font-semibold text-slate-200",children:i("settings.helpStatusFloating")??"Botn flotante"}),S.jsx("div",{className:t.settings.calendarFloatingButtonEnabled!==!1?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.calendarFloatingButtonEnabled!==!1?i("common.on")??"ON":i("common.off")??"OFF"})]}),S.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[S.jsx("div",{className:"text-xs font-semibold text-slate-200",children:i("settings.helpStatusDrive")??"Backup en Drive"}),S.jsx("div",{className:t.settings.driveBackupFileId?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.driveBackupFileId?i("settings.helpStatusLinked")??"Vinculado":i("settings.helpStatusNotLinked")??"No vinculado"})]})]}),S.jsxs("div",{className:"mt-2 text-xs text-slate-400",children:[i("settings.helpContactLastBackup")??"ltima copia en Drive",": ",f]}),S.jsx("div",{className:"mt-3 text-xs text-slate-400",children:i("settings.helpDiagnosticsA")??"Copia un resumen del estado de la app para adjuntarlo en un reporte (no incluye tokens OAuth)."}),S.jsx("div",{className:"mt-2",children:S.jsx("button",{type:"button",onClick:P,className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",children:i("settings.helpCopyDiagnostics")??"Copiar diagnstico"})})]}),S.jsxs(In,{title:i("settings.helpFeedbackTitle")??"Enviar comentarios",description:i("settings.helpFeedbackDescription")??"Ideas, mejoras, bugs o sugerencias.",tone:"amber",children:[S.jsx("textarea",{className:"min-h-[96px] w-full resize-y rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:i("settings.helpFeedbackPlaceholder")??"Cuntanos qu mejoraras, qu esperabas que pasase y cmo reproducirlo",value:u,onChange:I=>h(I.target.value)}),S.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[S.jsx("button",{type:"button",onClick:E,className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",children:i("settings.helpCopyFeedback")??"Copiar comentario"}),S.jsx("div",{className:"text-xs text-slate-400",children:i("settings.helpFeedbackHint")??"Pega el comentario en el email de soporte o en el formulario de la tienda."})]})]})]})]})}const y3=[{path:"/",element:S.jsx(FA,{}),children:[{path:"/",element:S.jsx(Qx,{})},{path:"/dashboard",element:S.jsx(Qx,{})},{path:"/subscriptions",element:S.jsx(u3,{})},{path:"/settings",element:S.jsx(g3,{})}]}],v3=G2(y3);function x3(){const{t}=uo();return S.jsx("div",{className:"p-4 text-sm",children:t("common.loading")??"Loading"})}Ak.createRoot(document.getElementById("root")).render(S.jsx(Df.StrictMode,{children:S.jsx(TA,{children:S.jsx(QF,{children:S.jsx(M.Suspense,{fallback:S.jsx(x3,{}),children:S.jsx(rM,{router:v3})})})})}));
