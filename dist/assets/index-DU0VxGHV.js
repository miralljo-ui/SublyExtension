function xT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function r_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xf={exports:{}},dl={},Kf={exports:{}},Ve={};var Uv;function bT(){if(Uv)return Ve;Uv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function _(F,G,oe){this.props=F,this.context=G,this.refs=v,this.updater=oe||y}_.prototype.isReactComponent={},_.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},_.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=_.prototype;function E(F,G,oe){this.props=F,this.context=G,this.refs=v,this.updater=oe||y}var k=E.prototype=new C;k.constructor=E,w(k,_.prototype),k.isPureReactComponent=!0;var R=Array.isArray,P=Object.prototype.hasOwnProperty,N={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(F,G,oe){var ie,ue={},pe=null,Re=null;if(G!=null)for(ie in G.ref!==void 0&&(Re=G.ref),G.key!==void 0&&(pe=""+G.key),G)P.call(G,ie)&&!T.hasOwnProperty(ie)&&(ue[ie]=G[ie]);var Pe=arguments.length-2;if(Pe===1)ue.children=oe;else if(1<Pe){for(var Le=Array(Pe),Ke=0;Ke<Pe;Ke++)Le[Ke]=arguments[Ke+2];ue.children=Le}if(F&&F.defaultProps)for(ie in Pe=F.defaultProps,Pe)ue[ie]===void 0&&(ue[ie]=Pe[ie]);return{$$typeof:t,type:F,key:pe,ref:Re,props:ue,_owner:N.current}}function O(F,G){return{$$typeof:t,type:F.type,key:G,ref:F.ref,props:F.props,_owner:F._owner}}function $(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function W(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(oe){return G[oe]})}var Z=/\/+/g;function K(F,G){return typeof F=="object"&&F!==null&&F.key!=null?W(""+F.key):G.toString(36)}function Q(F,G,oe,ie,ue){var pe=typeof F;(pe==="undefined"||pe==="boolean")&&(F=null);var Re=!1;if(F===null)Re=!0;else switch(pe){case"string":case"number":Re=!0;break;case"object":switch(F.$$typeof){case t:case e:Re=!0}}if(Re)return Re=F,ue=ue(Re),F=ie===""?"."+K(Re,0):ie,R(ue)?(oe="",F!=null&&(oe=F.replace(Z,"$&/")+"/"),Q(ue,G,oe,"",function(Ke){return Ke})):ue!=null&&($(ue)&&(ue=O(ue,oe+(!ue.key||Re&&Re.key===ue.key?"":(""+ue.key).replace(Z,"$&/")+"/")+F)),G.push(ue)),1;if(Re=0,ie=ie===""?".":ie+":",R(F))for(var Pe=0;Pe<F.length;Pe++){pe=F[Pe];var Le=ie+K(pe,Pe);Re+=Q(pe,G,oe,Le,ue)}else if(Le=g(F),typeof Le=="function")for(F=Le.call(F),Pe=0;!(pe=F.next()).done;)pe=pe.value,Le=ie+K(pe,Pe++),Re+=Q(pe,G,oe,Le,ue);else if(pe==="object")throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Re}function Y(F,G,oe){if(F==null)return F;var ie=[],ue=0;return Q(F,ie,"","",function(pe){return G.call(oe,pe,ue++)}),ie}function re(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(oe){(F._status===0||F._status===-1)&&(F._status=1,F._result=oe)},function(oe){(F._status===0||F._status===-1)&&(F._status=2,F._result=oe)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var L={current:null},z={transition:null},X={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:z,ReactCurrentOwner:N};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Y,forEach:function(F,G,oe){Y(F,function(){G.apply(this,arguments)},oe)},count:function(F){var G=0;return Y(F,function(){G++}),G},toArray:function(F){return Y(F,function(G){return G})||[]},only:function(F){if(!$(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ve.Component=_,Ve.Fragment=n,Ve.Profiler=i,Ve.PureComponent=E,Ve.StrictMode=r,Ve.Suspense=u,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ve.act=q,Ve.cloneElement=function(F,G,oe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ie=w({},F.props),ue=F.key,pe=F.ref,Re=F._owner;if(G!=null){if(G.ref!==void 0&&(pe=G.ref,Re=N.current),G.key!==void 0&&(ue=""+G.key),F.type&&F.type.defaultProps)var Pe=F.type.defaultProps;for(Le in G)P.call(G,Le)&&!T.hasOwnProperty(Le)&&(ie[Le]=G[Le]===void 0&&Pe!==void 0?Pe[Le]:G[Le])}var Le=arguments.length-2;if(Le===1)ie.children=oe;else if(1<Le){Pe=Array(Le);for(var Ke=0;Ke<Le;Ke++)Pe[Ke]=arguments[Ke+2];ie.children=Pe}return{$$typeof:t,type:F.type,key:ue,ref:pe,props:ie,_owner:Re}},Ve.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},Ve.createElement=A,Ve.createFactory=function(F){var G=A.bind(null,F);return G.type=F,G},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(F){return{$$typeof:l,render:F}},Ve.isValidElement=$,Ve.lazy=function(F){return{$$typeof:f,_payload:{_status:-1,_result:F},_init:re}},Ve.memo=function(F,G){return{$$typeof:d,type:F,compare:G===void 0?null:G}},Ve.startTransition=function(F){var G=z.transition;z.transition={};try{F()}finally{z.transition=G}},Ve.unstable_act=q,Ve.useCallback=function(F,G){return L.current.useCallback(F,G)},Ve.useContext=function(F){return L.current.useContext(F)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(F){return L.current.useDeferredValue(F)},Ve.useEffect=function(F,G){return L.current.useEffect(F,G)},Ve.useId=function(){return L.current.useId()},Ve.useImperativeHandle=function(F,G,oe){return L.current.useImperativeHandle(F,G,oe)},Ve.useInsertionEffect=function(F,G){return L.current.useInsertionEffect(F,G)},Ve.useLayoutEffect=function(F,G){return L.current.useLayoutEffect(F,G)},Ve.useMemo=function(F,G){return L.current.useMemo(F,G)},Ve.useReducer=function(F,G,oe){return L.current.useReducer(F,G,oe)},Ve.useRef=function(F){return L.current.useRef(F)},Ve.useState=function(F){return L.current.useState(F)},Ve.useSyncExternalStore=function(F,G,oe){return L.current.useSyncExternalStore(F,G,oe)},Ve.useTransition=function(){return L.current.useTransition()},Ve.version="18.3.1",Ve}var $v;function Xm(){return $v||($v=1,Kf.exports=bT()),Kf.exports}var Wv;function wT(){if(Wv)return dl;Wv=1;var t=Xm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var f,p={},g=null,y=null;d!==void 0&&(g=""+d),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)r.call(u,f)&&!s.hasOwnProperty(f)&&(p[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:e,type:l,key:g,ref:y,props:p,_owner:i.current}}return dl.Fragment=n,dl.jsx=o,dl.jsxs=o,dl}var Hv;function _T(){return Hv||(Hv=1,Xf.exports=wT()),Xf.exports}var b=_T(),M=Xm();const Km=r_(M),ST=xT({__proto__:null,default:Km},[M]);var Au={},Qf={exports:{}},jn={},Jf={exports:{}},Zf={};var Gv;function CT(){return Gv||(Gv=1,(function(t){function e(z,X){var q=z.length;z.push(X);e:for(;0<q;){var F=q-1>>>1,G=z[F];if(0<i(G,X))z[F]=X,z[q]=G,q=F;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],q=z.pop();if(q!==X){z[0]=q;e:for(var F=0,G=z.length,oe=G>>>1;F<oe;){var ie=2*(F+1)-1,ue=z[ie],pe=ie+1,Re=z[pe];if(0>i(ue,q))pe<G&&0>i(Re,ue)?(z[F]=Re,z[pe]=q,F=pe):(z[F]=ue,z[ie]=q,F=ie);else if(pe<G&&0>i(Re,q))z[F]=Re,z[pe]=q,F=pe;else break e}}return X}function i(z,X){var q=z.sortIndex-X.sortIndex;return q!==0?q:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,p=null,g=3,y=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(z){for(var X=n(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=z)r(d),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(d)}}function R(z){if(v=!1,k(z),!w)if(n(u)!==null)w=!0,re(P);else{var X=n(d);X!==null&&L(R,X.startTime-z)}}function P(z,X){w=!1,v&&(v=!1,C(A),A=-1),y=!0;var q=g;try{for(k(X),p=n(u);p!==null&&(!(p.expirationTime>X)||z&&!W());){var F=p.callback;if(typeof F=="function"){p.callback=null,g=p.priorityLevel;var G=F(p.expirationTime<=X);X=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(u)&&r(u),k(X)}else r(u);p=n(u)}if(p!==null)var oe=!0;else{var ie=n(d);ie!==null&&L(R,ie.startTime-X),oe=!1}return oe}finally{p=null,g=q,y=!1}}var N=!1,T=null,A=-1,O=5,$=-1;function W(){return!(t.unstable_now()-$<O)}function Z(){if(T!==null){var z=t.unstable_now();$=z;var X=!0;try{X=T(!0,z)}finally{X?K():(N=!1,T=null)}}else N=!1}var K;if(typeof E=="function")K=function(){E(Z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=Z,K=function(){Y.postMessage(null)}}else K=function(){_(Z,0)};function re(z){T=z,N||(N=!0,K())}function L(z,X){A=_(function(){z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,re(P))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var q=g;g=X;try{return z()}finally{g=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=g;g=z;try{return X()}finally{g=q}},t.unstable_scheduleCallback=function(z,X,q){var F=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?F+q:F):q=F,z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=q+G,z={id:f++,callback:X,priorityLevel:z,startTime:q,expirationTime:G,sortIndex:-1},q>F?(z.sortIndex=q,e(d,z),n(u)===null&&z===n(d)&&(v?(C(A),A=-1):v=!0,L(R,q-F))):(z.sortIndex=G,e(u,z),w||y||(w=!0,re(P))),z},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(z){var X=g;return function(){var q=g;g=X;try{return z.apply(this,arguments)}finally{g=q}}}})(Zf)),Zf}var Yv;function kT(){return Yv||(Yv=1,Jf.exports=CT()),Jf.exports}var qv;function MT(){if(qv)return jn;qv=1;var t=Xm(),e=kT();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(a){return u.call(p,a)?!0:u.call(f,a)?!1:d.test(a)?p[a]=!0:(f[a]=!0,!1)}function y(a,c,h,m){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,c,h,m){if(c===null||typeof c>"u"||y(a,c,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function v(a,c,h,m,x,S,D){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=h,this.propertyName=a,this.type=c,this.sanitizeURL=S,this.removeEmptyString=D}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new v(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];_[c]=new v(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new v(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new v(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new v(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new v(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(C,E);_[c]=new v(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(C,E);_[c]=new v(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(C,E);_[c]=new v(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,c,h,m){var x=_.hasOwnProperty(c)?_[c]:null;(x!==null?x.type!==0:m||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(w(c,h,x,m)&&(h=null),m||x===null?g(c)&&(h===null?a.removeAttribute(c):a.setAttribute(c,""+h)):x.mustUseProperty?a[x.propertyName]=h===null?x.type===3?!1:"":h:(c=x.attributeName,m=x.attributeNamespace,h===null?a.removeAttribute(c):(x=x.type,h=x===3||x===4&&h===!0?"":""+h,m?a.setAttributeNS(m,c,h):a.setAttribute(c,h))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),W=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),z=Symbol.iterator;function X(a){return a===null||typeof a!="object"?null:(a=z&&a[z]||a["@@iterator"],typeof a=="function"?a:null)}var q=Object.assign,F;function G(a){if(F===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);F=c&&c[1]||""}return`
`+F+a}var oe=!1;function ie(a,c){if(!a||oe)return"";oe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ne){var m=ne}Reflect.construct(a,[],c)}else{try{c.call()}catch(ne){m=ne}a.call(c.prototype)}else{try{throw Error()}catch(ne){m=ne}a()}}catch(ne){if(ne&&m&&typeof ne.stack=="string"){for(var x=ne.stack.split(`
`),S=m.stack.split(`
`),D=x.length-1,I=S.length-1;1<=D&&0<=I&&x[D]!==S[I];)I--;for(;1<=D&&0<=I;D--,I--)if(x[D]!==S[I]){if(D!==1||I!==1)do if(D--,I--,0>I||x[D]!==S[I]){var B=`
`+x[D].replace(" at new "," at ");return a.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",a.displayName)),B}while(1<=D&&0<=I);break}}}finally{oe=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?G(a):""}function ue(a){switch(a.tag){case 5:return G(a.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return a=ie(a.type,!1),a;case 11:return a=ie(a.type.render,!1),a;case 1:return a=ie(a.type,!0),a;default:return""}}function pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case N:return"Portal";case O:return"Profiler";case A:return"StrictMode";case K:return"Suspense";case Q:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case W:return(a.displayName||"Context")+".Consumer";case $:return(a._context.displayName||"Context")+".Provider";case Z:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Y:return c=a.displayName||null,c!==null?c:pe(a.type)||"Memo";case re:c=a._payload,a=a._init;try{return pe(a(c))}catch{}}return null}function Re(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(c);case 8:return c===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Pe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Le(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ke(a){var c=Le(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),m=""+a[c];if(!a.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,S=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return x.call(this)},set:function(D){m=""+D,S.call(this,D)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function It(a){a._valueTracker||(a._valueTracker=Ke(a))}function Fe(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),m="";return a&&(m=Le(a)?a.checked?"true":"false":a.value),a=m,a!==h?(c.setValue(a),!0):!1}function ze(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Dt(a,c){var h=c.checked;return q({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function Lt(a,c){var h=c.defaultValue==null?"":c.defaultValue,m=c.checked!=null?c.checked:c.defaultChecked;h=Pe(c.value!=null?c.value:h),a._wrapperState={initialChecked:m,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function ct(a,c){c=c.checked,c!=null&&k(a,"checked",c,!1)}function Kt(a,c){ct(a,c);var h=Pe(c.value),m=c.type;if(h!=null)m==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Qt(a,c.type,h):c.hasOwnProperty("defaultValue")&&Qt(a,c.type,Pe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function Ht(a,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var m=c.type;if(!(m!=="submit"&&m!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,h||c===a.value||(a.value=c),a.defaultValue=c}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Qt(a,c,h){(c!=="number"||ze(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var nn=Array.isArray;function Mn(a,c,h,m){if(a=a.options,c){c={};for(var x=0;x<h.length;x++)c["$"+h[x]]=!0;for(h=0;h<a.length;h++)x=c.hasOwnProperty("$"+a[h].value),a[h].selected!==x&&(a[h].selected=x),x&&m&&(a[h].defaultSelected=!0)}else{for(h=""+Pe(h),c=null,x=0;x<a.length;x++){if(a[x].value===h){a[x].selected=!0,m&&(a[x].defaultSelected=!0);return}c!==null||a[x].disabled||(c=a[x])}c!==null&&(c.selected=!0)}}function oi(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ai(a,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(nn(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}a._wrapperState={initialValue:Pe(h)}}function mn(a,c){var h=Pe(c.value),m=Pe(c.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),c.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),m!=null&&(a.defaultValue=""+m)}function Ir(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Ns(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function li(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Ns(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var rn,Tn=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,m,x){MSApp.execUnsafeLocalFunction(function(){return a(c,h,m,x)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(rn=rn||document.createElement("div"),rn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=rn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function gn(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zr=["Webkit","ms","Moz","O"];Object.keys(yn).forEach(function(a){zr.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),yn[c]=yn[a]})});function Fi(a,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||yn.hasOwnProperty(a)&&yn[a]?(""+c).trim():c+"px"}function En(a,c){a=a.style;for(var h in c)if(c.hasOwnProperty(h)){var m=h.indexOf("--")===0,x=Fi(h,c[h],m);h==="float"&&(h="cssFloat"),m?a.setProperty(h,x):a[h]=x}}var Ls=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Br(a,c){if(c){if(Ls[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Ii(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zi=null;function lr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var zt=null,kr=null,Yn=null;function js(a){if(a=Ka(a)){if(typeof zt!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Yc(c),zt(a.stateNode,a.type,c))}}function Os(a){kr?Yn?Yn.push(a):Yn=[a]:kr=a}function ci(){if(kr){var a=kr,c=Yn;if(Yn=kr=null,js(a),c)for(a=0;a<c.length;a++)js(c[a])}}function Mr(a,c){return a(c)}function ee(){}var fe=!1;function ye(a,c,h){if(fe)return a(c,h);fe=!0;try{return Mr(a,c,h)}finally{fe=!1,(kr!==null||Yn!==null)&&(ee(),ci())}}function ve(a,c){var h=a.stateNode;if(h===null)return null;var m=Yc(h);if(m===null)return null;h=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var Oe=!1;if(l)try{var j={};Object.defineProperty(j,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",j,j),window.removeEventListener("test",j,j)}catch{Oe=!1}function V(a,c,h,m,x,S,D,I,B){var ne=Array.prototype.slice.call(arguments,3);try{c.apply(h,ne)}catch(le){this.onError(le)}}var U=!1,se=null,ce=!1,Se=null,ge={onError:function(a){U=!0,se=a}};function Ce(a,c,h,m,x,S,D,I,B){U=!1,se=null,V.apply(ge,arguments)}function Te(a,c,h,m,x,S,D,I,B){if(Ce.apply(this,arguments),U){if(U){var ne=se;U=!1,se=null}else throw Error(n(198));ce||(ce=!0,Se=ne)}}function we(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function De(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function ke(a){if(we(a)!==a)throw Error(n(188))}function $e(a){var c=a.alternate;if(!c){if(c=we(a),c===null)throw Error(n(188));return c!==a?null:a}for(var h=a,m=c;;){var x=h.return;if(x===null)break;var S=x.alternate;if(S===null){if(m=x.return,m!==null){h=m;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===h)return ke(x),a;if(S===m)return ke(x),c;S=S.sibling}throw Error(n(188))}if(h.return!==m.return)h=x,m=S;else{for(var D=!1,I=x.child;I;){if(I===h){D=!0,h=x,m=S;break}if(I===m){D=!0,m=x,h=S;break}I=I.sibling}if(!D){for(I=S.child;I;){if(I===h){D=!0,h=S,m=x;break}if(I===m){D=!0,m=S,h=x;break}I=I.sibling}if(!D)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:c}function We(a){return a=$e(a),a!==null?ft(a):null}function ft(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=ft(a);if(c!==null)return c;a=a.sibling}return null}var Ze=e.unstable_scheduleCallback,vt=e.unstable_cancelCallback,qe=e.unstable_shouldYield,nt=e.unstable_requestPaint,Be=e.unstable_now,vn=e.unstable_getCurrentPriorityLevel,xn=e.unstable_ImmediatePriority,Pn=e.unstable_UserBlockingPriority,ui=e.unstable_NormalPriority,Fs=e.unstable_LowPriority,Vr=e.unstable_IdlePriority,di=null,bn=null;function Ge(a){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(di,a,void 0,(a.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:pt,Bi=Math.log,hi=Math.LN2;function pt(a){return a>>>=0,a===0?32:31-(Bi(a)/hi|0)|0}var fi=64,Is=4194304;function zs(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Rc(a,c){var h=a.pendingLanes;if(h===0)return 0;var m=0,x=a.suspendedLanes,S=a.pingedLanes,D=h&268435455;if(D!==0){var I=D&~x;I!==0?m=zs(I):(S&=D,S!==0&&(m=zs(S)))}else D=h&~x,D!==0?m=zs(D):S!==0&&(m=zs(S));if(m===0)return 0;if(c!==0&&c!==m&&(c&x)===0&&(x=m&-m,S=c&-c,x>=S||x===16&&(S&4194240)!==0))return c;if((m&4)!==0&&(m|=h&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=m;0<c;)h=31-rt(c),x=1<<h,m|=a[h],c&=~x;return m}function I2(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z2(a,c){for(var h=a.suspendedLanes,m=a.pingedLanes,x=a.expirationTimes,S=a.pendingLanes;0<S;){var D=31-rt(S),I=1<<D,B=x[D];B===-1?((I&h)===0||(I&m)!==0)&&(x[D]=I2(I,c)):B<=c&&(a.expiredLanes|=I),S&=~I}}function mh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function x0(){var a=fi;return fi<<=1,(fi&4194240)===0&&(fi=64),a}function gh(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function Na(a,c,h){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-rt(c),a[c]=h}function B2(a,c){var h=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<h;){var x=31-rt(h),S=1<<x;c[x]=0,m[x]=-1,a[x]=-1,h&=~S}}function yh(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var m=31-rt(h),x=1<<m;x&c|a[m]&c&&(a[m]|=c),h&=~x}}var et=0;function b0(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var w0,vh,_0,S0,C0,xh=!1,Ac=[],Vi=null,Ui=null,$i=null,La=new Map,ja=new Map,Wi=[],V2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k0(a,c){switch(a){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":La.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(c.pointerId)}}function Oa(a,c,h,m,x,S){return a===null||a.nativeEvent!==S?(a={blockedOn:c,domEventName:h,eventSystemFlags:m,nativeEvent:S,targetContainers:[x]},c!==null&&(c=Ka(c),c!==null&&vh(c)),a):(a.eventSystemFlags|=m,c=a.targetContainers,x!==null&&c.indexOf(x)===-1&&c.push(x),a)}function U2(a,c,h,m,x){switch(c){case"focusin":return Vi=Oa(Vi,a,c,h,m,x),!0;case"dragenter":return Ui=Oa(Ui,a,c,h,m,x),!0;case"mouseover":return $i=Oa($i,a,c,h,m,x),!0;case"pointerover":var S=x.pointerId;return La.set(S,Oa(La.get(S)||null,a,c,h,m,x)),!0;case"gotpointercapture":return S=x.pointerId,ja.set(S,Oa(ja.get(S)||null,a,c,h,m,x)),!0}return!1}function M0(a){var c=Bs(a.target);if(c!==null){var h=we(c);if(h!==null){if(c=h.tag,c===13){if(c=De(h),c!==null){a.blockedOn=c,C0(a.priority,function(){_0(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Nc(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=wh(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);zi=m,h.target.dispatchEvent(m),zi=null}else return c=Ka(h),c!==null&&vh(c),a.blockedOn=h,!1;c.shift()}return!0}function T0(a,c,h){Nc(a)&&h.delete(c)}function $2(){xh=!1,Vi!==null&&Nc(Vi)&&(Vi=null),Ui!==null&&Nc(Ui)&&(Ui=null),$i!==null&&Nc($i)&&($i=null),La.forEach(T0),ja.forEach(T0)}function Fa(a,c){a.blockedOn===c&&(a.blockedOn=null,xh||(xh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$2)))}function Ia(a){function c(x){return Fa(x,a)}if(0<Ac.length){Fa(Ac[0],a);for(var h=1;h<Ac.length;h++){var m=Ac[h];m.blockedOn===a&&(m.blockedOn=null)}}for(Vi!==null&&Fa(Vi,a),Ui!==null&&Fa(Ui,a),$i!==null&&Fa($i,a),La.forEach(c),ja.forEach(c),h=0;h<Wi.length;h++)m=Wi[h],m.blockedOn===a&&(m.blockedOn=null);for(;0<Wi.length&&(h=Wi[0],h.blockedOn===null);)M0(h),h.blockedOn===null&&Wi.shift()}var Po=R.ReactCurrentBatchConfig,Lc=!0;function W2(a,c,h,m){var x=et,S=Po.transition;Po.transition=null;try{et=1,bh(a,c,h,m)}finally{et=x,Po.transition=S}}function H2(a,c,h,m){var x=et,S=Po.transition;Po.transition=null;try{et=4,bh(a,c,h,m)}finally{et=x,Po.transition=S}}function bh(a,c,h,m){if(Lc){var x=wh(a,c,h,m);if(x===null)Ih(a,c,m,jc,h),k0(a,m);else if(U2(x,a,c,h,m))m.stopPropagation();else if(k0(a,m),c&4&&-1<V2.indexOf(a)){for(;x!==null;){var S=Ka(x);if(S!==null&&w0(S),S=wh(a,c,h,m),S===null&&Ih(a,c,m,jc,h),S===x)break;x=S}x!==null&&m.stopPropagation()}else Ih(a,c,m,null,h)}}var jc=null;function wh(a,c,h,m){if(jc=null,a=lr(m),a=Bs(a),a!==null)if(c=we(a),c===null)a=null;else if(h=c.tag,h===13){if(a=De(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return jc=a,null}function E0(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vn()){case xn:return 1;case Pn:return 4;case ui:case Fs:return 16;case Vr:return 536870912;default:return 16}default:return 16}}var Hi=null,_h=null,Oc=null;function P0(){if(Oc)return Oc;var a,c=_h,h=c.length,m,x="value"in Hi?Hi.value:Hi.textContent,S=x.length;for(a=0;a<h&&c[a]===x[a];a++);var D=h-a;for(m=1;m<=D&&c[h-m]===x[S-m];m++);return Oc=x.slice(a,1<m?1-m:void 0)}function Fc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Ic(){return!0}function D0(){return!1}function qn(a){function c(h,m,x,S,D){this._reactName=h,this._targetInst=x,this.type=m,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(h=a[I],this[I]=h?h(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ic:D0,this.isPropagationStopped=D0,this}return q(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),c}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sh=qn(Do),za=q({},Do,{view:0,detail:0}),G2=qn(za),Ch,kh,Ba,zc=q({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ba&&(Ba&&a.type==="mousemove"?(Ch=a.screenX-Ba.screenX,kh=a.screenY-Ba.screenY):kh=Ch=0,Ba=a),Ch)},movementY:function(a){return"movementY"in a?a.movementY:kh}}),R0=qn(zc),Y2=q({},zc,{dataTransfer:0}),q2=qn(Y2),X2=q({},za,{relatedTarget:0}),Mh=qn(X2),K2=q({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),Q2=qn(K2),J2=q({},Do,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Z2=qn(J2),eM=q({},Do,{data:0}),A0=qn(eM),tM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iM(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=rM[a])?!!c[a]:!1}function Th(){return iM}var sM=q({},za,{key:function(a){if(a.key){var c=tM[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Fc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?nM[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(a){return a.type==="keypress"?Fc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Fc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),oM=qn(sM),aM=q({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N0=qn(aM),lM=q({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),cM=qn(lM),uM=q({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),dM=qn(uM),hM=q({},zc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fM=qn(hM),pM=[9,13,27,32],Eh=l&&"CompositionEvent"in window,Va=null;l&&"documentMode"in document&&(Va=document.documentMode);var mM=l&&"TextEvent"in window&&!Va,L0=l&&(!Eh||Va&&8<Va&&11>=Va),j0=" ",O0=!1;function F0(a,c){switch(a){case"keyup":return pM.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I0(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ro=!1;function gM(a,c){switch(a){case"compositionend":return I0(c);case"keypress":return c.which!==32?null:(O0=!0,j0);case"textInput":return a=c.data,a===j0&&O0?null:a;default:return null}}function yM(a,c){if(Ro)return a==="compositionend"||!Eh&&F0(a,c)?(a=P0(),Oc=_h=Hi=null,Ro=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return L0&&c.locale!=="ko"?null:c.data;default:return null}}var vM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z0(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!vM[a.type]:c==="textarea"}function B0(a,c,h,m){Os(m),c=Wc(c,"onChange"),0<c.length&&(h=new Sh("onChange","change",null,h,m),a.push({event:h,listeners:c}))}var Ua=null,$a=null;function xM(a){iy(a,0)}function Bc(a){var c=Oo(a);if(Fe(c))return a}function bM(a,c){if(a==="change")return c}var V0=!1;if(l){var Ph;if(l){var Dh="oninput"in document;if(!Dh){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),Dh=typeof U0.oninput=="function"}Ph=Dh}else Ph=!1;V0=Ph&&(!document.documentMode||9<document.documentMode)}function $0(){Ua&&(Ua.detachEvent("onpropertychange",W0),$a=Ua=null)}function W0(a){if(a.propertyName==="value"&&Bc($a)){var c=[];B0(c,$a,a,lr(a)),ye(xM,c)}}function wM(a,c,h){a==="focusin"?($0(),Ua=c,$a=h,Ua.attachEvent("onpropertychange",W0)):a==="focusout"&&$0()}function _M(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Bc($a)}function SM(a,c){if(a==="click")return Bc(c)}function CM(a,c){if(a==="input"||a==="change")return Bc(c)}function kM(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Tr=typeof Object.is=="function"?Object.is:kM;function Wa(a,c){if(Tr(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),m=Object.keys(c);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var x=h[m];if(!u.call(c,x)||!Tr(a[x],c[x]))return!1}return!0}function H0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function G0(a,c){var h=H0(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=c&&m>=c)return{node:h,offset:c-a};a=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=H0(h)}}function Y0(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?Y0(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function q0(){for(var a=window,c=ze();c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)a=c.contentWindow;else break;c=ze(a.document)}return c}function Rh(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function MM(a){var c=q0(),h=a.focusedElem,m=a.selectionRange;if(c!==h&&h&&h.ownerDocument&&Y0(h.ownerDocument.documentElement,h)){if(m!==null&&Rh(h)){if(c=m.start,a=m.end,a===void 0&&(a=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(a,h.value.length);else if(a=(c=h.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var x=h.textContent.length,S=Math.min(m.start,x);m=m.end===void 0?S:Math.min(m.end,x),!a.extend&&S>m&&(x=m,m=S,S=x),x=G0(h,S);var D=G0(h,m);x&&D&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==D.node||a.focusOffset!==D.offset)&&(c=c.createRange(),c.setStart(x.node,x.offset),a.removeAllRanges(),S>m?(a.addRange(c),a.extend(D.node,D.offset)):(c.setEnd(D.node,D.offset),a.addRange(c)))}}for(c=[],a=h;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)a=c[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var TM=l&&"documentMode"in document&&11>=document.documentMode,Ao=null,Ah=null,Ha=null,Nh=!1;function X0(a,c,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Nh||Ao==null||Ao!==ze(m)||(m=Ao,"selectionStart"in m&&Rh(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ha&&Wa(Ha,m)||(Ha=m,m=Wc(Ah,"onSelect"),0<m.length&&(c=new Sh("onSelect","select",null,c,h),a.push({event:c,listeners:m}),c.target=Ao)))}function Vc(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var No={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},Lh={},K0={};l&&(K0=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Uc(a){if(Lh[a])return Lh[a];if(!No[a])return a;var c=No[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in K0)return Lh[a]=c[h];return a}var Q0=Uc("animationend"),J0=Uc("animationiteration"),Z0=Uc("animationstart"),ey=Uc("transitionend"),ty=new Map,ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(a,c){ty.set(a,c),s(c,[a])}for(var jh=0;jh<ny.length;jh++){var Oh=ny[jh],EM=Oh.toLowerCase(),PM=Oh[0].toUpperCase()+Oh.slice(1);Gi(EM,"on"+PM)}Gi(Q0,"onAnimationEnd"),Gi(J0,"onAnimationIteration"),Gi(Z0,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(ey,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function ry(a,c,h){var m=a.type||"unknown-event";a.currentTarget=h,Te(m,c,void 0,a),a.currentTarget=null}function iy(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],x=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var D=m.length-1;0<=D;D--){var I=m[D],B=I.instance,ne=I.currentTarget;if(I=I.listener,B!==S&&x.isPropagationStopped())break e;ry(x,I,ne),S=B}else for(D=0;D<m.length;D++){if(I=m[D],B=I.instance,ne=I.currentTarget,I=I.listener,B!==S&&x.isPropagationStopped())break e;ry(x,I,ne),S=B}}}if(ce)throw a=Se,ce=!1,Se=null,a}function ut(a,c){var h=c[Wh];h===void 0&&(h=c[Wh]=new Set);var m=a+"__bubble";h.has(m)||(sy(c,a,2,!1),h.add(m))}function Fh(a,c,h){var m=0;c&&(m|=4),sy(h,a,m,c)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Ya(a){if(!a[$c]){a[$c]=!0,r.forEach(function(h){h!=="selectionchange"&&(DM.has(h)||Fh(h,!1,a),Fh(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[$c]||(c[$c]=!0,Fh("selectionchange",!1,c))}}function sy(a,c,h,m){switch(E0(c)){case 1:var x=W2;break;case 4:x=H2;break;default:x=bh}h=x.bind(null,c,h,a),x=void 0,!Oe||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(x=!0),m?x!==void 0?a.addEventListener(c,h,{capture:!0,passive:x}):a.addEventListener(c,h,!0):x!==void 0?a.addEventListener(c,h,{passive:x}):a.addEventListener(c,h,!1)}function Ih(a,c,h,m,x){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var I=m.stateNode.containerInfo;if(I===x||I.nodeType===8&&I.parentNode===x)break;if(D===4)for(D=m.return;D!==null;){var B=D.tag;if((B===3||B===4)&&(B=D.stateNode.containerInfo,B===x||B.nodeType===8&&B.parentNode===x))return;D=D.return}for(;I!==null;){if(D=Bs(I),D===null)return;if(B=D.tag,B===5||B===6){m=S=D;continue e}I=I.parentNode}}m=m.return}ye(function(){var ne=S,le=lr(h),de=[];e:{var ae=ty.get(a);if(ae!==void 0){var me=Sh,_e=a;switch(a){case"keypress":if(Fc(h)===0)break e;case"keydown":case"keyup":me=oM;break;case"focusin":_e="focus",me=Mh;break;case"focusout":_e="blur",me=Mh;break;case"beforeblur":case"afterblur":me=Mh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=R0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=q2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=cM;break;case Q0:case J0:case Z0:me=Q2;break;case ey:me=dM;break;case"scroll":me=G2;break;case"wheel":me=fM;break;case"copy":case"cut":case"paste":me=Z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=N0}var Me=(c&4)!==0,Rt=!Me&&a==="scroll",J=Me?ae!==null?ae+"Capture":null:ae;Me=[];for(var H=ne,te;H!==null;){te=H;var he=te.stateNode;if(te.tag===5&&he!==null&&(te=he,J!==null&&(he=ve(H,J),he!=null&&Me.push(qa(H,he,te)))),Rt)break;H=H.return}0<Me.length&&(ae=new me(ae,_e,null,h,le),de.push({event:ae,listeners:Me}))}}if((c&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",ae&&h!==zi&&(_e=h.relatedTarget||h.fromElement)&&(Bs(_e)||_e[pi]))break e;if((me||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,me?(_e=h.relatedTarget||h.toElement,me=ne,_e=_e?Bs(_e):null,_e!==null&&(Rt=we(_e),_e!==Rt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(me=null,_e=ne),me!==_e)){if(Me=R0,he="onMouseLeave",J="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Me=N0,he="onPointerLeave",J="onPointerEnter",H="pointer"),Rt=me==null?ae:Oo(me),te=_e==null?ae:Oo(_e),ae=new Me(he,H+"leave",me,h,le),ae.target=Rt,ae.relatedTarget=te,he=null,Bs(le)===ne&&(Me=new Me(J,H+"enter",_e,h,le),Me.target=te,Me.relatedTarget=Rt,he=Me),Rt=he,me&&_e)t:{for(Me=me,J=_e,H=0,te=Me;te;te=Lo(te))H++;for(te=0,he=J;he;he=Lo(he))te++;for(;0<H-te;)Me=Lo(Me),H--;for(;0<te-H;)J=Lo(J),te--;for(;H--;){if(Me===J||J!==null&&Me===J.alternate)break t;Me=Lo(Me),J=Lo(J)}Me=null}else Me=null;me!==null&&oy(de,ae,me,Me,!1),_e!==null&&Rt!==null&&oy(de,Rt,_e,Me,!0)}}e:{if(ae=ne?Oo(ne):window,me=ae.nodeName&&ae.nodeName.toLowerCase(),me==="select"||me==="input"&&ae.type==="file")var Ee=bM;else if(z0(ae))if(V0)Ee=CM;else{Ee=_M;var Ae=wM}else(me=ae.nodeName)&&me.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ee=SM);if(Ee&&(Ee=Ee(a,ne))){B0(de,Ee,h,le);break e}Ae&&Ae(a,ae,ne),a==="focusout"&&(Ae=ae._wrapperState)&&Ae.controlled&&ae.type==="number"&&Qt(ae,"number",ae.value)}switch(Ae=ne?Oo(ne):window,a){case"focusin":(z0(Ae)||Ae.contentEditable==="true")&&(Ao=Ae,Ah=ne,Ha=null);break;case"focusout":Ha=Ah=Ao=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,X0(de,h,le);break;case"selectionchange":if(TM)break;case"keydown":case"keyup":X0(de,h,le)}var Ne;if(Eh)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ro?F0(a,h)&&(je="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(je="onCompositionStart");je&&(L0&&h.locale!=="ko"&&(Ro||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ro&&(Ne=P0()):(Hi=le,_h="value"in Hi?Hi.value:Hi.textContent,Ro=!0)),Ae=Wc(ne,je),0<Ae.length&&(je=new A0(je,a,null,h,le),de.push({event:je,listeners:Ae}),Ne?je.data=Ne:(Ne=I0(h),Ne!==null&&(je.data=Ne)))),(Ne=mM?gM(a,h):yM(a,h))&&(ne=Wc(ne,"onBeforeInput"),0<ne.length&&(le=new A0("onBeforeInput","beforeinput",null,h,le),de.push({event:le,listeners:ne}),le.data=Ne))}iy(de,c)})}function qa(a,c,h){return{instance:a,listener:c,currentTarget:h}}function Wc(a,c){for(var h=c+"Capture",m=[];a!==null;){var x=a,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=ve(a,h),S!=null&&m.unshift(qa(a,S,x)),S=ve(a,c),S!=null&&m.push(qa(a,S,x))),a=a.return}return m}function Lo(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function oy(a,c,h,m,x){for(var S=c._reactName,D=[];h!==null&&h!==m;){var I=h,B=I.alternate,ne=I.stateNode;if(B!==null&&B===m)break;I.tag===5&&ne!==null&&(I=ne,x?(B=ve(h,S),B!=null&&D.unshift(qa(h,B,I))):x||(B=ve(h,S),B!=null&&D.push(qa(h,B,I)))),h=h.return}D.length!==0&&a.push({event:c,listeners:D})}var RM=/\r\n?/g,AM=/\u0000|\uFFFD/g;function ay(a){return(typeof a=="string"?a:""+a).replace(RM,`
`).replace(AM,"")}function Hc(a,c,h){if(c=ay(c),ay(a)!==c&&h)throw Error(n(425))}function Gc(){}var zh=null,Bh=null;function Vh(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,NM=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,LM=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(a){return ly.resolve(null).then(a).catch(jM)}:Uh;function jM(a){setTimeout(function(){throw a})}function $h(a,c){var h=c,m=0;do{var x=h.nextSibling;if(a.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(m===0){a.removeChild(x),Ia(c);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=x}while(h);Ia(c)}function Yi(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function cy(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}var jo=Math.random().toString(36).slice(2),Ur="__reactFiber$"+jo,Xa="__reactProps$"+jo,pi="__reactContainer$"+jo,Wh="__reactEvents$"+jo,OM="__reactListeners$"+jo,FM="__reactHandles$"+jo;function Bs(a){var c=a[Ur];if(c)return c;for(var h=a.parentNode;h;){if(c=h[pi]||h[Ur]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=cy(a);a!==null;){if(h=a[Ur])return h;a=cy(a)}return c}a=h,h=a.parentNode}return null}function Ka(a){return a=a[Ur]||a[pi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Oo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Yc(a){return a[Xa]||null}var Hh=[],Fo=-1;function qi(a){return{current:a}}function dt(a){0>Fo||(a.current=Hh[Fo],Hh[Fo]=null,Fo--)}function lt(a,c){Fo++,Hh[Fo]=a.current,a.current=c}var Xi={},sn=qi(Xi),Dn=qi(!1),Vs=Xi;function Io(a,c){var h=a.type.contextTypes;if(!h)return Xi;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===c)return m.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in h)x[S]=c[S];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=x),x}function Rn(a){return a=a.childContextTypes,a!=null}function qc(){dt(Dn),dt(sn)}function uy(a,c,h){if(sn.current!==Xi)throw Error(n(168));lt(sn,c),lt(Dn,h)}function dy(a,c,h){var m=a.stateNode;if(c=c.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var x in m)if(!(x in c))throw Error(n(108,Re(a)||"Unknown",x));return q({},h,m)}function Xc(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Xi,Vs=sn.current,lt(sn,a),lt(Dn,Dn.current),!0}function hy(a,c,h){var m=a.stateNode;if(!m)throw Error(n(169));h?(a=dy(a,c,Vs),m.__reactInternalMemoizedMergedChildContext=a,dt(Dn),dt(sn),lt(sn,a)):dt(Dn),lt(Dn,h)}var mi=null,Kc=!1,Gh=!1;function fy(a){mi===null?mi=[a]:mi.push(a)}function IM(a){Kc=!0,fy(a)}function Ki(){if(!Gh&&mi!==null){Gh=!0;var a=0,c=et;try{var h=mi;for(et=1;a<h.length;a++){var m=h[a];do m=m(!0);while(m!==null)}mi=null,Kc=!1}catch(x){throw mi!==null&&(mi=mi.slice(a+1)),Ze(xn,Ki),x}finally{et=c,Gh=!1}}return null}var zo=[],Bo=0,Qc=null,Jc=0,cr=[],ur=0,Us=null,gi=1,yi="";function $s(a,c){zo[Bo++]=Jc,zo[Bo++]=Qc,Qc=a,Jc=c}function py(a,c,h){cr[ur++]=gi,cr[ur++]=yi,cr[ur++]=Us,Us=a;var m=gi;a=yi;var x=32-rt(m)-1;m&=~(1<<x),h+=1;var S=32-rt(c)+x;if(30<S){var D=x-x%5;S=(m&(1<<D)-1).toString(32),m>>=D,x-=D,gi=1<<32-rt(c)+x|h<<x|m,yi=S+a}else gi=1<<S|h<<x|m,yi=a}function Yh(a){a.return!==null&&($s(a,1),py(a,1,0))}function qh(a){for(;a===Qc;)Qc=zo[--Bo],zo[Bo]=null,Jc=zo[--Bo],zo[Bo]=null;for(;a===Us;)Us=cr[--ur],cr[ur]=null,yi=cr[--ur],cr[ur]=null,gi=cr[--ur],cr[ur]=null}var Xn=null,Kn=null,mt=!1,Er=null;function my(a,c){var h=pr(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=a,c=a.deletions,c===null?(a.deletions=[h],a.flags|=16):c.push(h)}function gy(a,c){switch(a.tag){case 5:var h=a.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Xn=a,Kn=Yi(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Xn=a,Kn=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Us!==null?{id:gi,overflow:yi}:null,a.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=pr(18,null,null,0),h.stateNode=c,h.return=a,a.child=h,Xn=a,Kn=null,!0):!1;default:return!1}}function Xh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Kh(a){if(mt){var c=Kn;if(c){var h=c;if(!gy(a,c)){if(Xh(a))throw Error(n(418));c=Yi(h.nextSibling);var m=Xn;c&&gy(a,c)?my(m,h):(a.flags=a.flags&-4097|2,mt=!1,Xn=a)}}else{if(Xh(a))throw Error(n(418));a.flags=a.flags&-4097|2,mt=!1,Xn=a}}}function yy(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Xn=a}function Zc(a){if(a!==Xn)return!1;if(!mt)return yy(a),mt=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Vh(a.type,a.memoizedProps)),c&&(c=Kn)){if(Xh(a))throw vy(),Error(n(418));for(;c;)my(a,c),c=Yi(c.nextSibling)}if(yy(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(c===0){Kn=Yi(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}a=a.nextSibling}Kn=null}}else Kn=Xn?Yi(a.stateNode.nextSibling):null;return!0}function vy(){for(var a=Kn;a;)a=Yi(a.nextSibling)}function Vo(){Kn=Xn=null,mt=!1}function Qh(a){Er===null?Er=[a]:Er.push(a)}var zM=R.ReactCurrentBatchConfig;function Qa(a,c,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var m=h.stateNode}if(!m)throw Error(n(147,a));var x=m,S=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===S?c.ref:(c=function(D){var I=x.refs;D===null?delete I[S]:I[S]=D},c._stringRef=S,c)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function eu(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function xy(a){var c=a._init;return c(a._payload)}function by(a){function c(J,H){if(a){var te=J.deletions;te===null?(J.deletions=[H],J.flags|=16):te.push(H)}}function h(J,H){if(!a)return null;for(;H!==null;)c(J,H),H=H.sibling;return null}function m(J,H){for(J=new Map;H!==null;)H.key!==null?J.set(H.key,H):J.set(H.index,H),H=H.sibling;return J}function x(J,H){return J=is(J,H),J.index=0,J.sibling=null,J}function S(J,H,te){return J.index=te,a?(te=J.alternate,te!==null?(te=te.index,te<H?(J.flags|=2,H):te):(J.flags|=2,H)):(J.flags|=1048576,H)}function D(J){return a&&J.alternate===null&&(J.flags|=2),J}function I(J,H,te,he){return H===null||H.tag!==6?(H=$f(te,J.mode,he),H.return=J,H):(H=x(H,te),H.return=J,H)}function B(J,H,te,he){var Ee=te.type;return Ee===T?le(J,H,te.props.children,he,te.key):H!==null&&(H.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===re&&xy(Ee)===H.type)?(he=x(H,te.props),he.ref=Qa(J,H,te),he.return=J,he):(he=Cu(te.type,te.key,te.props,null,J.mode,he),he.ref=Qa(J,H,te),he.return=J,he)}function ne(J,H,te,he){return H===null||H.tag!==4||H.stateNode.containerInfo!==te.containerInfo||H.stateNode.implementation!==te.implementation?(H=Wf(te,J.mode,he),H.return=J,H):(H=x(H,te.children||[]),H.return=J,H)}function le(J,H,te,he,Ee){return H===null||H.tag!==7?(H=Qs(te,J.mode,he,Ee),H.return=J,H):(H=x(H,te),H.return=J,H)}function de(J,H,te){if(typeof H=="string"&&H!==""||typeof H=="number")return H=$f(""+H,J.mode,te),H.return=J,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case P:return te=Cu(H.type,H.key,H.props,null,J.mode,te),te.ref=Qa(J,null,H),te.return=J,te;case N:return H=Wf(H,J.mode,te),H.return=J,H;case re:var he=H._init;return de(J,he(H._payload),te)}if(nn(H)||X(H))return H=Qs(H,J.mode,te,null),H.return=J,H;eu(J,H)}return null}function ae(J,H,te,he){var Ee=H!==null?H.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Ee!==null?null:I(J,H,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case P:return te.key===Ee?B(J,H,te,he):null;case N:return te.key===Ee?ne(J,H,te,he):null;case re:return Ee=te._init,ae(J,H,Ee(te._payload),he)}if(nn(te)||X(te))return Ee!==null?null:le(J,H,te,he,null);eu(J,te)}return null}function me(J,H,te,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number")return J=J.get(te)||null,I(H,J,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return J=J.get(he.key===null?te:he.key)||null,B(H,J,he,Ee);case N:return J=J.get(he.key===null?te:he.key)||null,ne(H,J,he,Ee);case re:var Ae=he._init;return me(J,H,te,Ae(he._payload),Ee)}if(nn(he)||X(he))return J=J.get(te)||null,le(H,J,he,Ee,null);eu(H,he)}return null}function _e(J,H,te,he){for(var Ee=null,Ae=null,Ne=H,je=H=0,qt=null;Ne!==null&&je<te.length;je++){Ne.index>je?(qt=Ne,Ne=null):qt=Ne.sibling;var Qe=ae(J,Ne,te[je],he);if(Qe===null){Ne===null&&(Ne=qt);break}a&&Ne&&Qe.alternate===null&&c(J,Ne),H=S(Qe,H,je),Ae===null?Ee=Qe:Ae.sibling=Qe,Ae=Qe,Ne=qt}if(je===te.length)return h(J,Ne),mt&&$s(J,je),Ee;if(Ne===null){for(;je<te.length;je++)Ne=de(J,te[je],he),Ne!==null&&(H=S(Ne,H,je),Ae===null?Ee=Ne:Ae.sibling=Ne,Ae=Ne);return mt&&$s(J,je),Ee}for(Ne=m(J,Ne);je<te.length;je++)qt=me(Ne,J,je,te[je],he),qt!==null&&(a&&qt.alternate!==null&&Ne.delete(qt.key===null?je:qt.key),H=S(qt,H,je),Ae===null?Ee=qt:Ae.sibling=qt,Ae=qt);return a&&Ne.forEach(function(ss){return c(J,ss)}),mt&&$s(J,je),Ee}function Me(J,H,te,he){var Ee=X(te);if(typeof Ee!="function")throw Error(n(150));if(te=Ee.call(te),te==null)throw Error(n(151));for(var Ae=Ee=null,Ne=H,je=H=0,qt=null,Qe=te.next();Ne!==null&&!Qe.done;je++,Qe=te.next()){Ne.index>je?(qt=Ne,Ne=null):qt=Ne.sibling;var ss=ae(J,Ne,Qe.value,he);if(ss===null){Ne===null&&(Ne=qt);break}a&&Ne&&ss.alternate===null&&c(J,Ne),H=S(ss,H,je),Ae===null?Ee=ss:Ae.sibling=ss,Ae=ss,Ne=qt}if(Qe.done)return h(J,Ne),mt&&$s(J,je),Ee;if(Ne===null){for(;!Qe.done;je++,Qe=te.next())Qe=de(J,Qe.value,he),Qe!==null&&(H=S(Qe,H,je),Ae===null?Ee=Qe:Ae.sibling=Qe,Ae=Qe);return mt&&$s(J,je),Ee}for(Ne=m(J,Ne);!Qe.done;je++,Qe=te.next())Qe=me(Ne,J,je,Qe.value,he),Qe!==null&&(a&&Qe.alternate!==null&&Ne.delete(Qe.key===null?je:Qe.key),H=S(Qe,H,je),Ae===null?Ee=Qe:Ae.sibling=Qe,Ae=Qe);return a&&Ne.forEach(function(vT){return c(J,vT)}),mt&&$s(J,je),Ee}function Rt(J,H,te,he){if(typeof te=="object"&&te!==null&&te.type===T&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case P:e:{for(var Ee=te.key,Ae=H;Ae!==null;){if(Ae.key===Ee){if(Ee=te.type,Ee===T){if(Ae.tag===7){h(J,Ae.sibling),H=x(Ae,te.props.children),H.return=J,J=H;break e}}else if(Ae.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===re&&xy(Ee)===Ae.type){h(J,Ae.sibling),H=x(Ae,te.props),H.ref=Qa(J,Ae,te),H.return=J,J=H;break e}h(J,Ae);break}else c(J,Ae);Ae=Ae.sibling}te.type===T?(H=Qs(te.props.children,J.mode,he,te.key),H.return=J,J=H):(he=Cu(te.type,te.key,te.props,null,J.mode,he),he.ref=Qa(J,H,te),he.return=J,J=he)}return D(J);case N:e:{for(Ae=te.key;H!==null;){if(H.key===Ae)if(H.tag===4&&H.stateNode.containerInfo===te.containerInfo&&H.stateNode.implementation===te.implementation){h(J,H.sibling),H=x(H,te.children||[]),H.return=J,J=H;break e}else{h(J,H);break}else c(J,H);H=H.sibling}H=Wf(te,J.mode,he),H.return=J,J=H}return D(J);case re:return Ae=te._init,Rt(J,H,Ae(te._payload),he)}if(nn(te))return _e(J,H,te,he);if(X(te))return Me(J,H,te,he);eu(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,H!==null&&H.tag===6?(h(J,H.sibling),H=x(H,te),H.return=J,J=H):(h(J,H),H=$f(te,J.mode,he),H.return=J,J=H),D(J)):h(J,H)}return Rt}var Uo=by(!0),wy=by(!1),tu=qi(null),nu=null,$o=null,Jh=null;function Zh(){Jh=$o=nu=null}function ef(a){var c=tu.current;dt(tu),a._currentValue=c}function tf(a,c,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),a===h)break;a=a.return}}function Wo(a,c){nu=a,Jh=$o=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(An=!0),a.firstContext=null)}function dr(a){var c=a._currentValue;if(Jh!==a)if(a={context:a,memoizedValue:c,next:null},$o===null){if(nu===null)throw Error(n(308));$o=a,nu.dependencies={lanes:0,firstContext:a}}else $o=$o.next=a;return c}var Ws=null;function nf(a){Ws===null?Ws=[a]:Ws.push(a)}function _y(a,c,h,m){var x=c.interleaved;return x===null?(h.next=h,nf(c)):(h.next=x.next,x.next=h),c.interleaved=h,vi(a,m)}function vi(a,c){a.lanes|=c;var h=a.alternate;for(h!==null&&(h.lanes|=c),h=a,a=a.return;a!==null;)a.childLanes|=c,h=a.alternate,h!==null&&(h.childLanes|=c),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Qi=!1;function rf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sy(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function xi(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function Ji(a,c,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Xe&2)!==0){var x=m.pending;return x===null?c.next=c:(c.next=x.next,x.next=c),m.pending=c,vi(a,h)}return x=m.interleaved,x===null?(c.next=c,nf(m)):(c.next=x.next,x.next=c),m.interleaved=c,vi(a,h)}function ru(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var m=c.lanes;m&=a.pendingLanes,h|=m,c.lanes=h,yh(a,h)}}function Cy(a,c){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var x=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var D={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?x=S=D:S=S.next=D,h=h.next}while(h!==null);S===null?x=S=c:S=S.next=c}else x=S=c;h={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:m.shared,effects:m.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}function iu(a,c,h,m){var x=a.updateQueue;Qi=!1;var S=x.firstBaseUpdate,D=x.lastBaseUpdate,I=x.shared.pending;if(I!==null){x.shared.pending=null;var B=I,ne=B.next;B.next=null,D===null?S=ne:D.next=ne,D=B;var le=a.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==D&&(I===null?le.firstBaseUpdate=ne:I.next=ne,le.lastBaseUpdate=B))}if(S!==null){var de=x.baseState;D=0,le=ne=B=null,I=S;do{var ae=I.lane,me=I.eventTime;if((m&ae)===ae){le!==null&&(le=le.next={eventTime:me,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var _e=a,Me=I;switch(ae=c,me=h,Me.tag){case 1:if(_e=Me.payload,typeof _e=="function"){de=_e.call(me,de,ae);break e}de=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Me.payload,ae=typeof _e=="function"?_e.call(me,de,ae):_e,ae==null)break e;de=q({},de,ae);break e;case 2:Qi=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,ae=x.effects,ae===null?x.effects=[I]:ae.push(I))}else me={eventTime:me,lane:ae,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(ne=le=me,B=de):le=le.next=me,D|=ae;if(I=I.next,I===null){if(I=x.shared.pending,I===null)break;ae=I,I=ae.next,ae.next=null,x.lastBaseUpdate=ae,x.shared.pending=null}}while(!0);if(le===null&&(B=de),x.baseState=B,x.firstBaseUpdate=ne,x.lastBaseUpdate=le,c=x.shared.interleaved,c!==null){x=c;do D|=x.lane,x=x.next;while(x!==c)}else S===null&&(x.shared.lanes=0);Ys|=D,a.lanes=D,a.memoizedState=de}}function ky(a,c,h){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var m=a[c],x=m.callback;if(x!==null){if(m.callback=null,m=h,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var Ja={},$r=qi(Ja),Za=qi(Ja),el=qi(Ja);function Hs(a){if(a===Ja)throw Error(n(174));return a}function sf(a,c){switch(lt(el,c),lt(Za,a),lt($r,Ja),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:li(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=li(c,a)}dt($r),lt($r,c)}function Ho(){dt($r),dt(Za),dt(el)}function My(a){Hs(el.current);var c=Hs($r.current),h=li(c,a.type);c!==h&&(lt(Za,a),lt($r,h))}function of(a){Za.current===a&&(dt($r),dt(Za))}var xt=qi(0);function su(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var af=[];function lf(){for(var a=0;a<af.length;a++)af[a]._workInProgressVersionPrimary=null;af.length=0}var ou=R.ReactCurrentDispatcher,cf=R.ReactCurrentBatchConfig,Gs=0,bt=null,Bt=null,Gt=null,au=!1,tl=!1,nl=0,BM=0;function on(){throw Error(n(321))}function uf(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!Tr(a[h],c[h]))return!1;return!0}function df(a,c,h,m,x,S){if(Gs=S,bt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ou.current=a===null||a.memoizedState===null?WM:HM,a=h(m,x),tl){S=0;do{if(tl=!1,nl=0,25<=S)throw Error(n(301));S+=1,Gt=Bt=null,c.updateQueue=null,ou.current=GM,a=h(m,x)}while(tl)}if(ou.current=uu,c=Bt!==null&&Bt.next!==null,Gs=0,Gt=Bt=bt=null,au=!1,c)throw Error(n(300));return a}function hf(){var a=nl!==0;return nl=0,a}function Wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?bt.memoizedState=Gt=a:Gt=Gt.next=a,Gt}function hr(){if(Bt===null){var a=bt.alternate;a=a!==null?a.memoizedState:null}else a=Bt.next;var c=Gt===null?bt.memoizedState:Gt.next;if(c!==null)Gt=c,Bt=a;else{if(a===null)throw Error(n(310));Bt=a,a={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Gt===null?bt.memoizedState=Gt=a:Gt=Gt.next=a}return Gt}function rl(a,c){return typeof c=="function"?c(a):c}function ff(a){var c=hr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=Bt,x=m.baseQueue,S=h.pending;if(S!==null){if(x!==null){var D=x.next;x.next=S.next,S.next=D}m.baseQueue=x=S,h.pending=null}if(x!==null){S=x.next,m=m.baseState;var I=D=null,B=null,ne=S;do{var le=ne.lane;if((Gs&le)===le)B!==null&&(B=B.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),m=ne.hasEagerState?ne.eagerState:a(m,ne.action);else{var de={lane:le,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};B===null?(I=B=de,D=m):B=B.next=de,bt.lanes|=le,Ys|=le}ne=ne.next}while(ne!==null&&ne!==S);B===null?D=m:B.next=I,Tr(m,c.memoizedState)||(An=!0),c.memoizedState=m,c.baseState=D,c.baseQueue=B,h.lastRenderedState=m}if(a=h.interleaved,a!==null){x=a;do S=x.lane,bt.lanes|=S,Ys|=S,x=x.next;while(x!==a)}else x===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function pf(a){var c=hr(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var m=h.dispatch,x=h.pending,S=c.memoizedState;if(x!==null){h.pending=null;var D=x=x.next;do S=a(S,D.action),D=D.next;while(D!==x);Tr(S,c.memoizedState)||(An=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,m]}function Ty(){}function Ey(a,c){var h=bt,m=hr(),x=c(),S=!Tr(m.memoizedState,x);if(S&&(m.memoizedState=x,An=!0),m=m.queue,mf(Ry.bind(null,h,m,a),[a]),m.getSnapshot!==c||S||Gt!==null&&Gt.memoizedState.tag&1){if(h.flags|=2048,il(9,Dy.bind(null,h,m,x,c),void 0,null),Yt===null)throw Error(n(349));(Gs&30)!==0||Py(h,c,x)}return x}function Py(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=bt.updateQueue,c===null?(c={lastEffect:null,stores:null},bt.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function Dy(a,c,h,m){c.value=h,c.getSnapshot=m,Ay(c)&&Ny(a)}function Ry(a,c,h){return h(function(){Ay(c)&&Ny(a)})}function Ay(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!Tr(a,h)}catch{return!0}}function Ny(a){var c=vi(a,1);c!==null&&Ar(c,a,1,-1)}function Ly(a){var c=Wr();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:a},c.queue=a,a=a.dispatch=$M.bind(null,bt,a),[c.memoizedState,a]}function il(a,c,h,m){return a={tag:a,create:c,destroy:h,deps:m,next:null},c=bt.updateQueue,c===null?(c={lastEffect:null,stores:null},bt.updateQueue=c,c.lastEffect=a.next=a):(h=c.lastEffect,h===null?c.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,c.lastEffect=a)),a}function jy(){return hr().memoizedState}function lu(a,c,h,m){var x=Wr();bt.flags|=a,x.memoizedState=il(1|c,h,void 0,m===void 0?null:m)}function cu(a,c,h,m){var x=hr();m=m===void 0?null:m;var S=void 0;if(Bt!==null){var D=Bt.memoizedState;if(S=D.destroy,m!==null&&uf(m,D.deps)){x.memoizedState=il(c,h,S,m);return}}bt.flags|=a,x.memoizedState=il(1|c,h,S,m)}function Oy(a,c){return lu(8390656,8,a,c)}function mf(a,c){return cu(2048,8,a,c)}function Fy(a,c){return cu(4,2,a,c)}function Iy(a,c){return cu(4,4,a,c)}function zy(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function By(a,c,h){return h=h!=null?h.concat([a]):null,cu(4,4,zy.bind(null,c,a),h)}function gf(){}function Vy(a,c){var h=hr();c=c===void 0?null:c;var m=h.memoizedState;return m!==null&&c!==null&&uf(c,m[1])?m[0]:(h.memoizedState=[a,c],a)}function Uy(a,c){var h=hr();c=c===void 0?null:c;var m=h.memoizedState;return m!==null&&c!==null&&uf(c,m[1])?m[0]:(a=a(),h.memoizedState=[a,c],a)}function $y(a,c,h){return(Gs&21)===0?(a.baseState&&(a.baseState=!1,An=!0),a.memoizedState=h):(Tr(h,c)||(h=x0(),bt.lanes|=h,Ys|=h,a.baseState=!0),c)}function VM(a,c){var h=et;et=h!==0&&4>h?h:4,a(!0);var m=cf.transition;cf.transition={};try{a(!1),c()}finally{et=h,cf.transition=m}}function Wy(){return hr().memoizedState}function UM(a,c,h){var m=ns(a);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},Hy(a))Gy(c,h);else if(h=_y(a,c,h,m),h!==null){var x=_n();Ar(h,a,m,x),Yy(h,c,m)}}function $M(a,c,h){var m=ns(a),x={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(Hy(a))Gy(c,x);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var D=c.lastRenderedState,I=S(D,h);if(x.hasEagerState=!0,x.eagerState=I,Tr(I,D)){var B=c.interleaved;B===null?(x.next=x,nf(c)):(x.next=B.next,B.next=x),c.interleaved=x;return}}catch{}h=_y(a,c,x,m),h!==null&&(x=_n(),Ar(h,a,m,x),Yy(h,c,m))}}function Hy(a){var c=a.alternate;return a===bt||c!==null&&c===bt}function Gy(a,c){tl=au=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function Yy(a,c,h){if((h&4194240)!==0){var m=c.lanes;m&=a.pendingLanes,h|=m,c.lanes=h,yh(a,h)}}var uu={readContext:dr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},WM={readContext:dr,useCallback:function(a,c){return Wr().memoizedState=[a,c===void 0?null:c],a},useContext:dr,useEffect:Oy,useImperativeHandle:function(a,c,h){return h=h!=null?h.concat([a]):null,lu(4194308,4,zy.bind(null,c,a),h)},useLayoutEffect:function(a,c){return lu(4194308,4,a,c)},useInsertionEffect:function(a,c){return lu(4,2,a,c)},useMemo:function(a,c){var h=Wr();return c=c===void 0?null:c,a=a(),h.memoizedState=[a,c],a},useReducer:function(a,c,h){var m=Wr();return c=h!==void 0?h(c):c,m.memoizedState=m.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},m.queue=a,a=a.dispatch=UM.bind(null,bt,a),[m.memoizedState,a]},useRef:function(a){var c=Wr();return a={current:a},c.memoizedState=a},useState:Ly,useDebugValue:gf,useDeferredValue:function(a){return Wr().memoizedState=a},useTransition:function(){var a=Ly(!1),c=a[0];return a=VM.bind(null,a[1]),Wr().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,h){var m=bt,x=Wr();if(mt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Yt===null)throw Error(n(349));(Gs&30)!==0||Py(m,c,h)}x.memoizedState=h;var S={value:h,getSnapshot:c};return x.queue=S,Oy(Ry.bind(null,m,S,a),[a]),m.flags|=2048,il(9,Dy.bind(null,m,S,h,c),void 0,null),h},useId:function(){var a=Wr(),c=Yt.identifierPrefix;if(mt){var h=yi,m=gi;h=(m&~(1<<32-rt(m)-1)).toString(32)+h,c=":"+c+"R"+h,h=nl++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=BM++,c=":"+c+"r"+h.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},HM={readContext:dr,useCallback:Vy,useContext:dr,useEffect:mf,useImperativeHandle:By,useInsertionEffect:Fy,useLayoutEffect:Iy,useMemo:Uy,useReducer:ff,useRef:jy,useState:function(){return ff(rl)},useDebugValue:gf,useDeferredValue:function(a){var c=hr();return $y(c,Bt.memoizedState,a)},useTransition:function(){var a=ff(rl)[0],c=hr().memoizedState;return[a,c]},useMutableSource:Ty,useSyncExternalStore:Ey,useId:Wy,unstable_isNewReconciler:!1},GM={readContext:dr,useCallback:Vy,useContext:dr,useEffect:mf,useImperativeHandle:By,useInsertionEffect:Fy,useLayoutEffect:Iy,useMemo:Uy,useReducer:pf,useRef:jy,useState:function(){return pf(rl)},useDebugValue:gf,useDeferredValue:function(a){var c=hr();return Bt===null?c.memoizedState=a:$y(c,Bt.memoizedState,a)},useTransition:function(){var a=pf(rl)[0],c=hr().memoizedState;return[a,c]},useMutableSource:Ty,useSyncExternalStore:Ey,useId:Wy,unstable_isNewReconciler:!1};function Pr(a,c){if(a&&a.defaultProps){c=q({},c),a=a.defaultProps;for(var h in a)c[h]===void 0&&(c[h]=a[h]);return c}return c}function yf(a,c,h,m){c=a.memoizedState,h=h(m,c),h=h==null?c:q({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var du={isMounted:function(a){return(a=a._reactInternals)?we(a)===a:!1},enqueueSetState:function(a,c,h){a=a._reactInternals;var m=_n(),x=ns(a),S=xi(m,x);S.payload=c,h!=null&&(S.callback=h),c=Ji(a,S,x),c!==null&&(Ar(c,a,x,m),ru(c,a,x))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var m=_n(),x=ns(a),S=xi(m,x);S.tag=1,S.payload=c,h!=null&&(S.callback=h),c=Ji(a,S,x),c!==null&&(Ar(c,a,x,m),ru(c,a,x))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=_n(),m=ns(a),x=xi(h,m);x.tag=2,c!=null&&(x.callback=c),c=Ji(a,x,m),c!==null&&(Ar(c,a,m,h),ru(c,a,m))}};function qy(a,c,h,m,x,S,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,S,D):c.prototype&&c.prototype.isPureReactComponent?!Wa(h,m)||!Wa(x,S):!0}function Xy(a,c,h){var m=!1,x=Xi,S=c.contextType;return typeof S=="object"&&S!==null?S=dr(S):(x=Rn(c)?Vs:sn.current,m=c.contextTypes,S=(m=m!=null)?Io(a,x):Xi),c=new c(h,S),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=du,a.stateNode=c,c._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=S),c}function Ky(a,c,h,m){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,m),c.state!==a&&du.enqueueReplaceState(c,c.state,null)}function vf(a,c,h,m){var x=a.stateNode;x.props=h,x.state=a.memoizedState,x.refs={},rf(a);var S=c.contextType;typeof S=="object"&&S!==null?x.context=dr(S):(S=Rn(c)?Vs:sn.current,x.context=Io(a,S)),x.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(yf(a,c,S,h),x.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(c=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),c!==x.state&&du.enqueueReplaceState(x,x.state,null),iu(a,h,x,m),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function Go(a,c){try{var h="",m=c;do h+=ue(m),m=m.return;while(m);var x=h}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:c,stack:x,digest:null}}function xf(a,c,h){return{value:a,source:null,stack:h??null,digest:c??null}}function bf(a,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var YM=typeof WeakMap=="function"?WeakMap:Map;function Qy(a,c,h){h=xi(-1,h),h.tag=3,h.payload={element:null};var m=c.value;return h.callback=function(){vu||(vu=!0,jf=m),bf(a,c)},h}function Jy(a,c,h){h=xi(-1,h),h.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var x=c.value;h.payload=function(){return m(x)},h.callback=function(){bf(a,c)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){bf(a,c),typeof m!="function"&&(es===null?es=new Set([this]):es.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})}),h}function Zy(a,c,h){var m=a.pingCache;if(m===null){m=a.pingCache=new YM;var x=new Set;m.set(c,x)}else x=m.get(c),x===void 0&&(x=new Set,m.set(c,x));x.has(h)||(x.add(h),a=aT.bind(null,a,c,h),c.then(a,a))}function ev(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function tv(a,c,h,m,x){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=xi(-1,1),c.tag=2,Ji(h,c,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var qM=R.ReactCurrentOwner,An=!1;function wn(a,c,h,m){c.child=a===null?wy(c,null,h,m):Uo(c,a.child,h,m)}function nv(a,c,h,m,x){h=h.render;var S=c.ref;return Wo(c,x),m=df(a,c,h,m,S,x),h=hf(),a!==null&&!An?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~x,bi(a,c,x)):(mt&&h&&Yh(c),c.flags|=1,wn(a,c,m,x),c.child)}function rv(a,c,h,m,x){if(a===null){var S=h.type;return typeof S=="function"&&!Uf(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=S,iv(a,c,S,m,x)):(a=Cu(h.type,null,m,c,c.mode,x),a.ref=c.ref,a.return=c,c.child=a)}if(S=a.child,(a.lanes&x)===0){var D=S.memoizedProps;if(h=h.compare,h=h!==null?h:Wa,h(D,m)&&a.ref===c.ref)return bi(a,c,x)}return c.flags|=1,a=is(S,m),a.ref=c.ref,a.return=c,c.child=a}function iv(a,c,h,m,x){if(a!==null){var S=a.memoizedProps;if(Wa(S,m)&&a.ref===c.ref)if(An=!1,c.pendingProps=m=S,(a.lanes&x)!==0)(a.flags&131072)!==0&&(An=!0);else return c.lanes=a.lanes,bi(a,c,x)}return wf(a,c,h,m,x)}function sv(a,c,h){var m=c.pendingProps,x=m.children,S=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(qo,Qn),Qn|=h;else{if((h&1073741824)===0)return a=S!==null?S.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,lt(qo,Qn),Qn|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:h,lt(qo,Qn),Qn|=m}else S!==null?(m=S.baseLanes|h,c.memoizedState=null):m=h,lt(qo,Qn),Qn|=m;return wn(a,c,x,h),c.child}function ov(a,c){var h=c.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function wf(a,c,h,m,x){var S=Rn(h)?Vs:sn.current;return S=Io(c,S),Wo(c,x),h=df(a,c,h,m,S,x),m=hf(),a!==null&&!An?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~x,bi(a,c,x)):(mt&&m&&Yh(c),c.flags|=1,wn(a,c,h,x),c.child)}function av(a,c,h,m,x){if(Rn(h)){var S=!0;Xc(c)}else S=!1;if(Wo(c,x),c.stateNode===null)fu(a,c),Xy(c,h,m),vf(c,h,m,x),m=!0;else if(a===null){var D=c.stateNode,I=c.memoizedProps;D.props=I;var B=D.context,ne=h.contextType;typeof ne=="object"&&ne!==null?ne=dr(ne):(ne=Rn(h)?Vs:sn.current,ne=Io(c,ne));var le=h.getDerivedStateFromProps,de=typeof le=="function"||typeof D.getSnapshotBeforeUpdate=="function";de||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(I!==m||B!==ne)&&Ky(c,D,m,ne),Qi=!1;var ae=c.memoizedState;D.state=ae,iu(c,m,D,x),B=c.memoizedState,I!==m||ae!==B||Dn.current||Qi?(typeof le=="function"&&(yf(c,h,le,m),B=c.memoizedState),(I=Qi||qy(c,h,I,m,ae,B,ne))?(de||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(c.flags|=4194308)):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=B),D.props=m,D.state=B,D.context=ne,m=I):(typeof D.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{D=c.stateNode,Sy(a,c),I=c.memoizedProps,ne=c.type===c.elementType?I:Pr(c.type,I),D.props=ne,de=c.pendingProps,ae=D.context,B=h.contextType,typeof B=="object"&&B!==null?B=dr(B):(B=Rn(h)?Vs:sn.current,B=Io(c,B));var me=h.getDerivedStateFromProps;(le=typeof me=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(I!==de||ae!==B)&&Ky(c,D,m,B),Qi=!1,ae=c.memoizedState,D.state=ae,iu(c,m,D,x);var _e=c.memoizedState;I!==de||ae!==_e||Dn.current||Qi?(typeof me=="function"&&(yf(c,h,me,m),_e=c.memoizedState),(ne=Qi||qy(c,h,ne,m,ae,_e,B)||!1)?(le||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,_e,B),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,_e,B)),typeof D.componentDidUpdate=="function"&&(c.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof D.componentDidUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=_e),D.props=m,D.state=_e,D.context=B,m=ne):(typeof D.componentDidUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(c.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ae===a.memoizedState||(c.flags|=1024),m=!1)}return _f(a,c,h,m,S,x)}function _f(a,c,h,m,x,S){ov(a,c);var D=(c.flags&128)!==0;if(!m&&!D)return x&&hy(c,h,!1),bi(a,c,S);m=c.stateNode,qM.current=c;var I=D&&typeof h.getDerivedStateFromError!="function"?null:m.render();return c.flags|=1,a!==null&&D?(c.child=Uo(c,a.child,null,S),c.child=Uo(c,null,I,S)):wn(a,c,I,S),c.memoizedState=m.state,x&&hy(c,h,!0),c.child}function lv(a){var c=a.stateNode;c.pendingContext?uy(a,c.pendingContext,c.pendingContext!==c.context):c.context&&uy(a,c.context,!1),sf(a,c.containerInfo)}function cv(a,c,h,m,x){return Vo(),Qh(x),c.flags|=256,wn(a,c,h,m),c.child}var Sf={dehydrated:null,treeContext:null,retryLane:0};function Cf(a){return{baseLanes:a,cachePool:null,transitions:null}}function uv(a,c,h){var m=c.pendingProps,x=xt.current,S=!1,D=(c.flags&128)!==0,I;if((I=D)||(I=a!==null&&a.memoizedState===null?!1:(x&2)!==0),I?(S=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),lt(xt,x&1),a===null)return Kh(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(D=m.children,a=m.fallback,S?(m=c.mode,S=c.child,D={mode:"hidden",children:D},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=D):S=ku(D,m,0,null),a=Qs(a,m,h,null),S.return=c,a.return=c,S.sibling=a,c.child=S,c.child.memoizedState=Cf(h),c.memoizedState=Sf,a):kf(c,D));if(x=a.memoizedState,x!==null&&(I=x.dehydrated,I!==null))return XM(a,c,D,m,I,x,h);if(S){S=m.fallback,D=c.mode,x=a.child,I=x.sibling;var B={mode:"hidden",children:m.children};return(D&1)===0&&c.child!==x?(m=c.child,m.childLanes=0,m.pendingProps=B,c.deletions=null):(m=is(x,B),m.subtreeFlags=x.subtreeFlags&14680064),I!==null?S=is(I,S):(S=Qs(S,D,h,null),S.flags|=2),S.return=c,m.return=c,m.sibling=S,c.child=m,m=S,S=c.child,D=a.child.memoizedState,D=D===null?Cf(h):{baseLanes:D.baseLanes|h,cachePool:null,transitions:D.transitions},S.memoizedState=D,S.childLanes=a.childLanes&~h,c.memoizedState=Sf,m}return S=a.child,a=S.sibling,m=is(S,{mode:"visible",children:m.children}),(c.mode&1)===0&&(m.lanes=h),m.return=c,m.sibling=null,a!==null&&(h=c.deletions,h===null?(c.deletions=[a],c.flags|=16):h.push(a)),c.child=m,c.memoizedState=null,m}function kf(a,c){return c=ku({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function hu(a,c,h,m){return m!==null&&Qh(m),Uo(c,a.child,null,h),a=kf(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function XM(a,c,h,m,x,S,D){if(h)return c.flags&256?(c.flags&=-257,m=xf(Error(n(422))),hu(a,c,D,m)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(S=m.fallback,x=c.mode,m=ku({mode:"visible",children:m.children},x,0,null),S=Qs(S,x,D,null),S.flags|=2,m.return=c,S.return=c,m.sibling=S,c.child=m,(c.mode&1)!==0&&Uo(c,a.child,null,D),c.child.memoizedState=Cf(D),c.memoizedState=Sf,S);if((c.mode&1)===0)return hu(a,c,D,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var I=m.dgst;return m=I,S=Error(n(419)),m=xf(S,m,void 0),hu(a,c,D,m)}if(I=(D&a.childLanes)!==0,An||I){if(m=Yt,m!==null){switch(D&-D){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|D))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,vi(a,x),Ar(m,a,x,-1))}return Vf(),m=xf(Error(n(421))),hu(a,c,D,m)}return x.data==="$?"?(c.flags|=128,c.child=a.child,c=lT.bind(null,a),x._reactRetry=c,null):(a=S.treeContext,Kn=Yi(x.nextSibling),Xn=c,mt=!0,Er=null,a!==null&&(cr[ur++]=gi,cr[ur++]=yi,cr[ur++]=Us,gi=a.id,yi=a.overflow,Us=c),c=kf(c,m.children),c.flags|=4096,c)}function dv(a,c,h){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c),tf(a.return,c,h)}function Mf(a,c,h,m,x){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:x}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=h,S.tailMode=x)}function hv(a,c,h){var m=c.pendingProps,x=m.revealOrder,S=m.tail;if(wn(a,c,m.children,h),m=xt.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&dv(a,h,c);else if(a.tag===19)dv(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(lt(xt,m),(c.mode&1)===0)c.memoizedState=null;else switch(x){case"forwards":for(h=c.child,x=null;h!==null;)a=h.alternate,a!==null&&su(a)===null&&(x=h),h=h.sibling;h=x,h===null?(x=c.child,c.child=null):(x=h.sibling,h.sibling=null),Mf(c,!1,x,h,S);break;case"backwards":for(h=null,x=c.child,c.child=null;x!==null;){if(a=x.alternate,a!==null&&su(a)===null){c.child=x;break}a=x.sibling,x.sibling=h,h=x,x=a}Mf(c,!0,h,null,S);break;case"together":Mf(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function fu(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function bi(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Ys|=c.lanes,(h&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,h=is(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=is(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function KM(a,c,h){switch(c.tag){case 3:lv(c),Vo();break;case 5:My(c);break;case 1:Rn(c.type)&&Xc(c);break;case 4:sf(c,c.stateNode.containerInfo);break;case 10:var m=c.type._context,x=c.memoizedProps.value;lt(tu,m._currentValue),m._currentValue=x;break;case 13:if(m=c.memoizedState,m!==null)return m.dehydrated!==null?(lt(xt,xt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?uv(a,c,h):(lt(xt,xt.current&1),a=bi(a,c,h),a!==null?a.sibling:null);lt(xt,xt.current&1);break;case 19:if(m=(h&c.childLanes)!==0,(a.flags&128)!==0){if(m)return hv(a,c,h);c.flags|=128}if(x=c.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),lt(xt,xt.current),m)break;return null;case 22:case 23:return c.lanes=0,sv(a,c,h)}return bi(a,c,h)}var fv,Tf,pv,mv;fv=function(a,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Tf=function(){},pv=function(a,c,h,m){var x=a.memoizedProps;if(x!==m){a=c.stateNode,Hs($r.current);var S=null;switch(h){case"input":x=Dt(a,x),m=Dt(a,m),S=[];break;case"select":x=q({},x,{value:void 0}),m=q({},m,{value:void 0}),S=[];break;case"textarea":x=oi(a,x),m=oi(a,m),S=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=Gc)}Br(h,m);var D;h=null;for(ne in x)if(!m.hasOwnProperty(ne)&&x.hasOwnProperty(ne)&&x[ne]!=null)if(ne==="style"){var I=x[ne];for(D in I)I.hasOwnProperty(D)&&(h||(h={}),h[D]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?S||(S=[]):(S=S||[]).push(ne,null));for(ne in m){var B=m[ne];if(I=x?.[ne],m.hasOwnProperty(ne)&&B!==I&&(B!=null||I!=null))if(ne==="style")if(I){for(D in I)!I.hasOwnProperty(D)||B&&B.hasOwnProperty(D)||(h||(h={}),h[D]="");for(D in B)B.hasOwnProperty(D)&&I[D]!==B[D]&&(h||(h={}),h[D]=B[D])}else h||(S||(S=[]),S.push(ne,h)),h=B;else ne==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,I=I?I.__html:void 0,B!=null&&I!==B&&(S=S||[]).push(ne,B)):ne==="children"?typeof B!="string"&&typeof B!="number"||(S=S||[]).push(ne,""+B):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(B!=null&&ne==="onScroll"&&ut("scroll",a),S||I===B||(S=[])):(S=S||[]).push(ne,B))}h&&(S=S||[]).push("style",h);var ne=S;(c.updateQueue=ne)&&(c.flags|=4)}},mv=function(a,c,h,m){h!==m&&(c.flags|=4)};function sl(a,c){if(!mt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function an(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(c)for(var x=a.child;x!==null;)h|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)h|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=m,a.childLanes=h,c}function QM(a,c,h){var m=c.pendingProps;switch(qh(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(c),null;case 1:return Rn(c.type)&&qc(),an(c),null;case 3:return m=c.stateNode,Ho(),dt(Dn),dt(sn),lf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(Zc(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Er!==null&&(If(Er),Er=null))),Tf(a,c),an(c),null;case 5:of(c);var x=Hs(el.current);if(h=c.type,a!==null&&c.stateNode!=null)pv(a,c,h,m,x),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!m){if(c.stateNode===null)throw Error(n(166));return an(c),null}if(a=Hs($r.current),Zc(c)){m=c.stateNode,h=c.type;var S=c.memoizedProps;switch(m[Ur]=c,m[Xa]=S,a=(c.mode&1)!==0,h){case"dialog":ut("cancel",m),ut("close",m);break;case"iframe":case"object":case"embed":ut("load",m);break;case"video":case"audio":for(x=0;x<Ga.length;x++)ut(Ga[x],m);break;case"source":ut("error",m);break;case"img":case"image":case"link":ut("error",m),ut("load",m);break;case"details":ut("toggle",m);break;case"input":Lt(m,S),ut("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},ut("invalid",m);break;case"textarea":ai(m,S),ut("invalid",m)}Br(h,S),x=null;for(var D in S)if(S.hasOwnProperty(D)){var I=S[D];D==="children"?typeof I=="string"?m.textContent!==I&&(S.suppressHydrationWarning!==!0&&Hc(m.textContent,I,a),x=["children",I]):typeof I=="number"&&m.textContent!==""+I&&(S.suppressHydrationWarning!==!0&&Hc(m.textContent,I,a),x=["children",""+I]):i.hasOwnProperty(D)&&I!=null&&D==="onScroll"&&ut("scroll",m)}switch(h){case"input":It(m),Ht(m,S,!0);break;case"textarea":It(m),Ir(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=Gc)}m=x,c.updateQueue=m,m!==null&&(c.flags|=4)}else{D=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ns(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=D.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=D.createElement(h,{is:m.is}):(a=D.createElement(h),h==="select"&&(D=a,m.multiple?D.multiple=!0:m.size&&(D.size=m.size))):a=D.createElementNS(a,h),a[Ur]=c,a[Xa]=m,fv(a,c,!1,!1),c.stateNode=a;e:{switch(D=Ii(h,m),h){case"dialog":ut("cancel",a),ut("close",a),x=m;break;case"iframe":case"object":case"embed":ut("load",a),x=m;break;case"video":case"audio":for(x=0;x<Ga.length;x++)ut(Ga[x],a);x=m;break;case"source":ut("error",a),x=m;break;case"img":case"image":case"link":ut("error",a),ut("load",a),x=m;break;case"details":ut("toggle",a),x=m;break;case"input":Lt(a,m),x=Dt(a,m),ut("invalid",a);break;case"option":x=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},x=q({},m,{value:void 0}),ut("invalid",a);break;case"textarea":ai(a,m),x=oi(a,m),ut("invalid",a);break;default:x=m}Br(h,x),I=x;for(S in I)if(I.hasOwnProperty(S)){var B=I[S];S==="style"?En(a,B):S==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Tn(a,B)):S==="children"?typeof B=="string"?(h!=="textarea"||B!=="")&&gn(a,B):typeof B=="number"&&gn(a,""+B):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?B!=null&&S==="onScroll"&&ut("scroll",a):B!=null&&k(a,S,B,D))}switch(h){case"input":It(a),Ht(a,m,!1);break;case"textarea":It(a),Ir(a);break;case"option":m.value!=null&&a.setAttribute("value",""+Pe(m.value));break;case"select":a.multiple=!!m.multiple,S=m.value,S!=null?Mn(a,!!m.multiple,S,!1):m.defaultValue!=null&&Mn(a,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=Gc)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return an(c),null;case 6:if(a&&c.stateNode!=null)mv(a,c,a.memoizedProps,m);else{if(typeof m!="string"&&c.stateNode===null)throw Error(n(166));if(h=Hs(el.current),Hs($r.current),Zc(c)){if(m=c.stateNode,h=c.memoizedProps,m[Ur]=c,(S=m.nodeValue!==h)&&(a=Xn,a!==null))switch(a.tag){case 3:Hc(m.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Hc(m.nodeValue,h,(a.mode&1)!==0)}S&&(c.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[Ur]=c,c.stateNode=m}return an(c),null;case 13:if(dt(xt),m=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(mt&&Kn!==null&&(c.mode&1)!==0&&(c.flags&128)===0)vy(),Vo(),c.flags|=98560,S=!1;else if(S=Zc(c),m!==null&&m.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Ur]=c}else Vo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;an(c),S=!1}else Er!==null&&(If(Er),Er=null),S=!0;if(!S)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(xt.current&1)!==0?Vt===0&&(Vt=3):Vf())),c.updateQueue!==null&&(c.flags|=4),an(c),null);case 4:return Ho(),Tf(a,c),a===null&&Ya(c.stateNode.containerInfo),an(c),null;case 10:return ef(c.type._context),an(c),null;case 17:return Rn(c.type)&&qc(),an(c),null;case 19:if(dt(xt),S=c.memoizedState,S===null)return an(c),null;if(m=(c.flags&128)!==0,D=S.rendering,D===null)if(m)sl(S,!1);else{if(Vt!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(D=su(a),D!==null){for(c.flags|=128,sl(S,!1),m=D.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),c.subtreeFlags=0,m=h,h=c.child;h!==null;)S=h,a=m,S.flags&=14680066,D=S.alternate,D===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=D.childLanes,S.lanes=D.lanes,S.child=D.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=D.memoizedProps,S.memoizedState=D.memoizedState,S.updateQueue=D.updateQueue,S.type=D.type,a=D.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return lt(xt,xt.current&1|2),c.child}a=a.sibling}S.tail!==null&&Be()>Xo&&(c.flags|=128,m=!0,sl(S,!1),c.lanes=4194304)}else{if(!m)if(a=su(D),a!==null){if(c.flags|=128,m=!0,h=a.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),sl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!mt)return an(c),null}else 2*Be()-S.renderingStartTime>Xo&&h!==1073741824&&(c.flags|=128,m=!0,sl(S,!1),c.lanes=4194304);S.isBackwards?(D.sibling=c.child,c.child=D):(h=S.last,h!==null?h.sibling=D:c.child=D,S.last=D)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=Be(),c.sibling=null,h=xt.current,lt(xt,m?h&1|2:h&1),c):(an(c),null);case 22:case 23:return Bf(),m=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(c.flags|=8192),m&&(c.mode&1)!==0?(Qn&1073741824)!==0&&(an(c),c.subtreeFlags&6&&(c.flags|=8192)):an(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function JM(a,c){switch(qh(c),c.tag){case 1:return Rn(c.type)&&qc(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Ho(),dt(Dn),dt(sn),lf(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return of(c),null;case 13:if(dt(xt),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Vo()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return dt(xt),null;case 4:return Ho(),null;case 10:return ef(c.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var pu=!1,ln=!1,ZM=typeof WeakSet=="function"?WeakSet:Set,be=null;function Yo(a,c){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){Mt(a,c,m)}else h.current=null}function Ef(a,c,h){try{h()}catch(m){Mt(a,c,m)}}var gv=!1;function eT(a,c){if(zh=Lc,a=q0(),Rh(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var x=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var D=0,I=-1,B=-1,ne=0,le=0,de=a,ae=null;t:for(;;){for(var me;de!==h||x!==0&&de.nodeType!==3||(I=D+x),de!==S||m!==0&&de.nodeType!==3||(B=D+m),de.nodeType===3&&(D+=de.nodeValue.length),(me=de.firstChild)!==null;)ae=de,de=me;for(;;){if(de===a)break t;if(ae===h&&++ne===x&&(I=D),ae===S&&++le===m&&(B=D),(me=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=me}h=I===-1||B===-1?null:{start:I,end:B}}else h=null}h=h||{start:0,end:0}}else h=null;for(Bh={focusedElem:a,selectionRange:h},Lc=!1,be=c;be!==null;)if(c=be,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,be=a;else for(;be!==null;){c=be;try{var _e=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Me=_e.memoizedProps,Rt=_e.memoizedState,J=c.stateNode,H=J.getSnapshotBeforeUpdate(c.elementType===c.type?Me:Pr(c.type,Me),Rt);J.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var te=c.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Mt(c,c.return,he)}if(a=c.sibling,a!==null){a.return=c.return,be=a;break}be=c.return}return _e=gv,gv=!1,_e}function ol(a,c,h){var m=c.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&a)===a){var S=x.destroy;x.destroy=void 0,S!==void 0&&Ef(c,h,S)}x=x.next}while(x!==m)}}function mu(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&a)===a){var m=h.create;h.destroy=m()}h=h.next}while(h!==c)}}function Pf(a){var c=a.ref;if(c!==null){var h=a.stateNode;a.tag,a=h,typeof c=="function"?c(a):c.current=a}}function yv(a){var c=a.alternate;c!==null&&(a.alternate=null,yv(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Ur],delete c[Xa],delete c[Wh],delete c[OM],delete c[FM])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function vv(a){return a.tag===5||a.tag===3||a.tag===4}function xv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||vv(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Df(a,c,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(a,c):h.insertBefore(a,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(a,h)):(c=h,c.appendChild(a)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Gc));else if(m!==4&&(a=a.child,a!==null))for(Df(a,c,h),a=a.sibling;a!==null;)Df(a,c,h),a=a.sibling}function Rf(a,c,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(Rf(a,c,h),a=a.sibling;a!==null;)Rf(a,c,h),a=a.sibling}var Jt=null,Dr=!1;function Zi(a,c,h){for(h=h.child;h!==null;)bv(a,c,h),h=h.sibling}function bv(a,c,h){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(di,h)}catch{}switch(h.tag){case 5:ln||Yo(h,c);case 6:var m=Jt,x=Dr;Jt=null,Zi(a,c,h),Jt=m,Dr=x,Jt!==null&&(Dr?(a=Jt,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Jt.removeChild(h.stateNode));break;case 18:Jt!==null&&(Dr?(a=Jt,h=h.stateNode,a.nodeType===8?$h(a.parentNode,h):a.nodeType===1&&$h(a,h),Ia(a)):$h(Jt,h.stateNode));break;case 4:m=Jt,x=Dr,Jt=h.stateNode.containerInfo,Dr=!0,Zi(a,c,h),Jt=m,Dr=x;break;case 0:case 11:case 14:case 15:if(!ln&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var S=x,D=S.destroy;S=S.tag,D!==void 0&&((S&2)!==0||(S&4)!==0)&&Ef(h,c,D),x=x.next}while(x!==m)}Zi(a,c,h);break;case 1:if(!ln&&(Yo(h,c),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(I){Mt(h,c,I)}Zi(a,c,h);break;case 21:Zi(a,c,h);break;case 22:h.mode&1?(ln=(m=ln)||h.memoizedState!==null,Zi(a,c,h),ln=m):Zi(a,c,h);break;default:Zi(a,c,h)}}function wv(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new ZM),c.forEach(function(m){var x=cT.bind(null,a,m);h.has(m)||(h.add(m),m.then(x,x))})}}function Rr(a,c){var h=c.deletions;if(h!==null)for(var m=0;m<h.length;m++){var x=h[m];try{var S=a,D=c,I=D;e:for(;I!==null;){switch(I.tag){case 5:Jt=I.stateNode,Dr=!1;break e;case 3:Jt=I.stateNode.containerInfo,Dr=!0;break e;case 4:Jt=I.stateNode.containerInfo,Dr=!0;break e}I=I.return}if(Jt===null)throw Error(n(160));bv(S,D,x),Jt=null,Dr=!1;var B=x.alternate;B!==null&&(B.return=null),x.return=null}catch(ne){Mt(x,c,ne)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)_v(c,a),c=c.sibling}function _v(a,c){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Rr(c,a),Hr(a),m&4){try{ol(3,a,a.return),mu(3,a)}catch(Me){Mt(a,a.return,Me)}try{ol(5,a,a.return)}catch(Me){Mt(a,a.return,Me)}}break;case 1:Rr(c,a),Hr(a),m&512&&h!==null&&Yo(h,h.return);break;case 5:if(Rr(c,a),Hr(a),m&512&&h!==null&&Yo(h,h.return),a.flags&32){var x=a.stateNode;try{gn(x,"")}catch(Me){Mt(a,a.return,Me)}}if(m&4&&(x=a.stateNode,x!=null)){var S=a.memoizedProps,D=h!==null?h.memoizedProps:S,I=a.type,B=a.updateQueue;if(a.updateQueue=null,B!==null)try{I==="input"&&S.type==="radio"&&S.name!=null&&ct(x,S),Ii(I,D);var ne=Ii(I,S);for(D=0;D<B.length;D+=2){var le=B[D],de=B[D+1];le==="style"?En(x,de):le==="dangerouslySetInnerHTML"?Tn(x,de):le==="children"?gn(x,de):k(x,le,de,ne)}switch(I){case"input":Kt(x,S);break;case"textarea":mn(x,S);break;case"select":var ae=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var me=S.value;me!=null?Mn(x,!!S.multiple,me,!1):ae!==!!S.multiple&&(S.defaultValue!=null?Mn(x,!!S.multiple,S.defaultValue,!0):Mn(x,!!S.multiple,S.multiple?[]:"",!1))}x[Xa]=S}catch(Me){Mt(a,a.return,Me)}}break;case 6:if(Rr(c,a),Hr(a),m&4){if(a.stateNode===null)throw Error(n(162));x=a.stateNode,S=a.memoizedProps;try{x.nodeValue=S}catch(Me){Mt(a,a.return,Me)}}break;case 3:if(Rr(c,a),Hr(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Ia(c.containerInfo)}catch(Me){Mt(a,a.return,Me)}break;case 4:Rr(c,a),Hr(a);break;case 13:Rr(c,a),Hr(a),x=a.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(Lf=Be())),m&4&&wv(a);break;case 22:if(le=h!==null&&h.memoizedState!==null,a.mode&1?(ln=(ne=ln)||le,Rr(c,a),ln=ne):Rr(c,a),Hr(a),m&8192){if(ne=a.memoizedState!==null,(a.stateNode.isHidden=ne)&&!le&&(a.mode&1)!==0)for(be=a,le=a.child;le!==null;){for(de=be=le;be!==null;){switch(ae=be,me=ae.child,ae.tag){case 0:case 11:case 14:case 15:ol(4,ae,ae.return);break;case 1:Yo(ae,ae.return);var _e=ae.stateNode;if(typeof _e.componentWillUnmount=="function"){m=ae,h=ae.return;try{c=m,_e.props=c.memoizedProps,_e.state=c.memoizedState,_e.componentWillUnmount()}catch(Me){Mt(m,h,Me)}}break;case 5:Yo(ae,ae.return);break;case 22:if(ae.memoizedState!==null){kv(de);continue}}me!==null?(me.return=ae,be=me):kv(de)}le=le.sibling}e:for(le=null,de=a;;){if(de.tag===5){if(le===null){le=de;try{x=de.stateNode,ne?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(I=de.stateNode,B=de.memoizedProps.style,D=B!=null&&B.hasOwnProperty("display")?B.display:null,I.style.display=Fi("display",D))}catch(Me){Mt(a,a.return,Me)}}}else if(de.tag===6){if(le===null)try{de.stateNode.nodeValue=ne?"":de.memoizedProps}catch(Me){Mt(a,a.return,Me)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===a)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===a)break e;for(;de.sibling===null;){if(de.return===null||de.return===a)break e;le===de&&(le=null),de=de.return}le===de&&(le=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Rr(c,a),Hr(a),m&4&&wv(a);break;case 21:break;default:Rr(c,a),Hr(a)}}function Hr(a){var c=a.flags;if(c&2){try{e:{for(var h=a.return;h!==null;){if(vv(h)){var m=h;break e}h=h.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(gn(x,""),m.flags&=-33);var S=xv(a);Rf(a,S,x);break;case 3:case 4:var D=m.stateNode.containerInfo,I=xv(a);Df(a,I,D);break;default:throw Error(n(161))}}catch(B){Mt(a,a.return,B)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function tT(a,c,h){be=a,Sv(a)}function Sv(a,c,h){for(var m=(a.mode&1)!==0;be!==null;){var x=be,S=x.child;if(x.tag===22&&m){var D=x.memoizedState!==null||pu;if(!D){var I=x.alternate,B=I!==null&&I.memoizedState!==null||ln;I=pu;var ne=ln;if(pu=D,(ln=B)&&!ne)for(be=x;be!==null;)D=be,B=D.child,D.tag===22&&D.memoizedState!==null?Mv(x):B!==null?(B.return=D,be=B):Mv(x);for(;S!==null;)be=S,Sv(S),S=S.sibling;be=x,pu=I,ln=ne}Cv(a)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,be=S):Cv(a)}}function Cv(a){for(;be!==null;){var c=be;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:ln||mu(5,c);break;case 1:var m=c.stateNode;if(c.flags&4&&!ln)if(h===null)m.componentDidMount();else{var x=c.elementType===c.type?h.memoizedProps:Pr(c.type,h.memoizedProps);m.componentDidUpdate(x,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=c.updateQueue;S!==null&&ky(c,S,m);break;case 3:var D=c.updateQueue;if(D!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}ky(c,D,h)}break;case 5:var I=c.stateNode;if(h===null&&c.flags&4){h=I;var B=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&h.focus();break;case"img":B.src&&(h.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ne=c.alternate;if(ne!==null){var le=ne.memoizedState;if(le!==null){var de=le.dehydrated;de!==null&&Ia(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||c.flags&512&&Pf(c)}catch(ae){Mt(c,c.return,ae)}}if(c===a){be=null;break}if(h=c.sibling,h!==null){h.return=c.return,be=h;break}be=c.return}}function kv(a){for(;be!==null;){var c=be;if(c===a){be=null;break}var h=c.sibling;if(h!==null){h.return=c.return,be=h;break}be=c.return}}function Mv(a){for(;be!==null;){var c=be;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{mu(4,c)}catch(B){Mt(c,h,B)}break;case 1:var m=c.stateNode;if(typeof m.componentDidMount=="function"){var x=c.return;try{m.componentDidMount()}catch(B){Mt(c,x,B)}}var S=c.return;try{Pf(c)}catch(B){Mt(c,S,B)}break;case 5:var D=c.return;try{Pf(c)}catch(B){Mt(c,D,B)}}}catch(B){Mt(c,c.return,B)}if(c===a){be=null;break}var I=c.sibling;if(I!==null){I.return=c.return,be=I;break}be=c.return}}var nT=Math.ceil,gu=R.ReactCurrentDispatcher,Af=R.ReactCurrentOwner,fr=R.ReactCurrentBatchConfig,Xe=0,Yt=null,jt=null,Zt=0,Qn=0,qo=qi(0),Vt=0,al=null,Ys=0,yu=0,Nf=0,ll=null,Nn=null,Lf=0,Xo=1/0,wi=null,vu=!1,jf=null,es=null,xu=!1,ts=null,bu=0,cl=0,Of=null,wu=-1,_u=0;function _n(){return(Xe&6)!==0?Be():wu!==-1?wu:wu=Be()}function ns(a){return(a.mode&1)===0?1:(Xe&2)!==0&&Zt!==0?Zt&-Zt:zM.transition!==null?(_u===0&&(_u=x0()),_u):(a=et,a!==0||(a=window.event,a=a===void 0?16:E0(a.type)),a)}function Ar(a,c,h,m){if(50<cl)throw cl=0,Of=null,Error(n(185));Na(a,h,m),((Xe&2)===0||a!==Yt)&&(a===Yt&&((Xe&2)===0&&(yu|=h),Vt===4&&rs(a,Zt)),Ln(a,m),h===1&&Xe===0&&(c.mode&1)===0&&(Xo=Be()+500,Kc&&Ki()))}function Ln(a,c){var h=a.callbackNode;z2(a,c);var m=Rc(a,a===Yt?Zt:0);if(m===0)h!==null&&vt(h),a.callbackNode=null,a.callbackPriority=0;else if(c=m&-m,a.callbackPriority!==c){if(h!=null&&vt(h),c===1)a.tag===0?IM(Ev.bind(null,a)):fy(Ev.bind(null,a)),LM(function(){(Xe&6)===0&&Ki()}),h=null;else{switch(b0(m)){case 1:h=xn;break;case 4:h=Pn;break;case 16:h=ui;break;case 536870912:h=Vr;break;default:h=ui}h=Ov(h,Tv.bind(null,a))}a.callbackPriority=c,a.callbackNode=h}}function Tv(a,c){if(wu=-1,_u=0,(Xe&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Ko()&&a.callbackNode!==h)return null;var m=Rc(a,a===Yt?Zt:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||c)c=Su(a,m);else{c=m;var x=Xe;Xe|=2;var S=Dv();(Yt!==a||Zt!==c)&&(wi=null,Xo=Be()+500,Xs(a,c));do try{sT();break}catch(I){Pv(a,I)}while(!0);Zh(),gu.current=S,Xe=x,jt!==null?c=0:(Yt=null,Zt=0,c=Vt)}if(c!==0){if(c===2&&(x=mh(a),x!==0&&(m=x,c=Ff(a,x))),c===1)throw h=al,Xs(a,0),rs(a,m),Ln(a,Be()),h;if(c===6)rs(a,m);else{if(x=a.current.alternate,(m&30)===0&&!rT(x)&&(c=Su(a,m),c===2&&(S=mh(a),S!==0&&(m=S,c=Ff(a,S))),c===1))throw h=al,Xs(a,0),rs(a,m),Ln(a,Be()),h;switch(a.finishedWork=x,a.finishedLanes=m,c){case 0:case 1:throw Error(n(345));case 2:Ks(a,Nn,wi);break;case 3:if(rs(a,m),(m&130023424)===m&&(c=Lf+500-Be(),10<c)){if(Rc(a,0)!==0)break;if(x=a.suspendedLanes,(x&m)!==m){_n(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=Uh(Ks.bind(null,a,Nn,wi),c);break}Ks(a,Nn,wi);break;case 4:if(rs(a,m),(m&4194240)===m)break;for(c=a.eventTimes,x=-1;0<m;){var D=31-rt(m);S=1<<D,D=c[D],D>x&&(x=D),m&=~S}if(m=x,m=Be()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*nT(m/1960))-m,10<m){a.timeoutHandle=Uh(Ks.bind(null,a,Nn,wi),m);break}Ks(a,Nn,wi);break;case 5:Ks(a,Nn,wi);break;default:throw Error(n(329))}}}return Ln(a,Be()),a.callbackNode===h?Tv.bind(null,a):null}function Ff(a,c){var h=ll;return a.current.memoizedState.isDehydrated&&(Xs(a,c).flags|=256),a=Su(a,c),a!==2&&(c=Nn,Nn=h,c!==null&&If(c)),a}function If(a){Nn===null?Nn=a:Nn.push.apply(Nn,a)}function rT(a){for(var c=a;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var x=h[m],S=x.getSnapshot;x=x.value;try{if(!Tr(S(),x))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function rs(a,c){for(c&=~Nf,c&=~yu,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var h=31-rt(c),m=1<<h;a[h]=-1,c&=~m}}function Ev(a){if((Xe&6)!==0)throw Error(n(327));Ko();var c=Rc(a,0);if((c&1)===0)return Ln(a,Be()),null;var h=Su(a,c);if(a.tag!==0&&h===2){var m=mh(a);m!==0&&(c=m,h=Ff(a,m))}if(h===1)throw h=al,Xs(a,0),rs(a,c),Ln(a,Be()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Ks(a,Nn,wi),Ln(a,Be()),null}function zf(a,c){var h=Xe;Xe|=1;try{return a(c)}finally{Xe=h,Xe===0&&(Xo=Be()+500,Kc&&Ki())}}function qs(a){ts!==null&&ts.tag===0&&(Xe&6)===0&&Ko();var c=Xe;Xe|=1;var h=fr.transition,m=et;try{if(fr.transition=null,et=1,a)return a()}finally{et=m,fr.transition=h,Xe=c,(Xe&6)===0&&Ki()}}function Bf(){Qn=qo.current,dt(qo)}function Xs(a,c){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,NM(h)),jt!==null)for(h=jt.return;h!==null;){var m=h;switch(qh(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&qc();break;case 3:Ho(),dt(Dn),dt(sn),lf();break;case 5:of(m);break;case 4:Ho();break;case 13:dt(xt);break;case 19:dt(xt);break;case 10:ef(m.type._context);break;case 22:case 23:Bf()}h=h.return}if(Yt=a,jt=a=is(a.current,null),Zt=Qn=c,Vt=0,al=null,Nf=yu=Ys=0,Nn=ll=null,Ws!==null){for(c=0;c<Ws.length;c++)if(h=Ws[c],m=h.interleaved,m!==null){h.interleaved=null;var x=m.next,S=h.pending;if(S!==null){var D=S.next;S.next=x,m.next=D}h.pending=m}Ws=null}return a}function Pv(a,c){do{var h=jt;try{if(Zh(),ou.current=uu,au){for(var m=bt.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}au=!1}if(Gs=0,Gt=Bt=bt=null,tl=!1,nl=0,Af.current=null,h===null||h.return===null){Vt=1,al=c,jt=null;break}e:{var S=a,D=h.return,I=h,B=c;if(c=Zt,I.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var ne=B,le=I,de=le.tag;if((le.mode&1)===0&&(de===0||de===11||de===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var me=ev(D);if(me!==null){me.flags&=-257,tv(me,D,I,S,c),me.mode&1&&Zy(S,ne,c),c=me,B=ne;var _e=c.updateQueue;if(_e===null){var Me=new Set;Me.add(B),c.updateQueue=Me}else _e.add(B);break e}else{if((c&1)===0){Zy(S,ne,c),Vf();break e}B=Error(n(426))}}else if(mt&&I.mode&1){var Rt=ev(D);if(Rt!==null){(Rt.flags&65536)===0&&(Rt.flags|=256),tv(Rt,D,I,S,c),Qh(Go(B,I));break e}}S=B=Go(B,I),Vt!==4&&(Vt=2),ll===null?ll=[S]:ll.push(S),S=D;do{switch(S.tag){case 3:S.flags|=65536,c&=-c,S.lanes|=c;var J=Qy(S,B,c);Cy(S,J);break e;case 1:I=B;var H=S.type,te=S.stateNode;if((S.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(es===null||!es.has(te)))){S.flags|=65536,c&=-c,S.lanes|=c;var he=Jy(S,I,c);Cy(S,he);break e}}S=S.return}while(S!==null)}Av(h)}catch(Ee){c=Ee,jt===h&&h!==null&&(jt=h=h.return);continue}break}while(!0)}function Dv(){var a=gu.current;return gu.current=uu,a===null?uu:a}function Vf(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Yt===null||(Ys&268435455)===0&&(yu&268435455)===0||rs(Yt,Zt)}function Su(a,c){var h=Xe;Xe|=2;var m=Dv();(Yt!==a||Zt!==c)&&(wi=null,Xs(a,c));do try{iT();break}catch(x){Pv(a,x)}while(!0);if(Zh(),Xe=h,gu.current=m,jt!==null)throw Error(n(261));return Yt=null,Zt=0,Vt}function iT(){for(;jt!==null;)Rv(jt)}function sT(){for(;jt!==null&&!qe();)Rv(jt)}function Rv(a){var c=jv(a.alternate,a,Qn);a.memoizedProps=a.pendingProps,c===null?Av(a):jt=c,Af.current=null}function Av(a){var c=a;do{var h=c.alternate;if(a=c.return,(c.flags&32768)===0){if(h=QM(h,c,Qn),h!==null){jt=h;return}}else{if(h=JM(h,c),h!==null){h.flags&=32767,jt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Vt=6,jt=null;return}}if(c=c.sibling,c!==null){jt=c;return}jt=c=a}while(c!==null);Vt===0&&(Vt=5)}function Ks(a,c,h){var m=et,x=fr.transition;try{fr.transition=null,et=1,oT(a,c,h,m)}finally{fr.transition=x,et=m}return null}function oT(a,c,h,m){do Ko();while(ts!==null);if((Xe&6)!==0)throw Error(n(327));h=a.finishedWork;var x=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var S=h.lanes|h.childLanes;if(B2(a,S),a===Yt&&(jt=Yt=null,Zt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||xu||(xu=!0,Ov(ui,function(){return Ko(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=fr.transition,fr.transition=null;var D=et;et=1;var I=Xe;Xe|=4,Af.current=null,eT(a,h),_v(h,a),MM(Bh),Lc=!!zh,Bh=zh=null,a.current=h,tT(h),nt(),Xe=I,et=D,fr.transition=S}else a.current=h;if(xu&&(xu=!1,ts=a,bu=x),S=a.pendingLanes,S===0&&(es=null),Ge(h.stateNode),Ln(a,Be()),c!==null)for(m=a.onRecoverableError,h=0;h<c.length;h++)x=c[h],m(x.value,{componentStack:x.stack,digest:x.digest});if(vu)throw vu=!1,a=jf,jf=null,a;return(bu&1)!==0&&a.tag!==0&&Ko(),S=a.pendingLanes,(S&1)!==0?a===Of?cl++:(cl=0,Of=a):cl=0,Ki(),null}function Ko(){if(ts!==null){var a=b0(bu),c=fr.transition,h=et;try{if(fr.transition=null,et=16>a?16:a,ts===null)var m=!1;else{if(a=ts,ts=null,bu=0,(Xe&6)!==0)throw Error(n(331));var x=Xe;for(Xe|=4,be=a.current;be!==null;){var S=be,D=S.child;if((be.flags&16)!==0){var I=S.deletions;if(I!==null){for(var B=0;B<I.length;B++){var ne=I[B];for(be=ne;be!==null;){var le=be;switch(le.tag){case 0:case 11:case 15:ol(8,le,S)}var de=le.child;if(de!==null)de.return=le,be=de;else for(;be!==null;){le=be;var ae=le.sibling,me=le.return;if(yv(le),le===ne){be=null;break}if(ae!==null){ae.return=me,be=ae;break}be=me}}}var _e=S.alternate;if(_e!==null){var Me=_e.child;if(Me!==null){_e.child=null;do{var Rt=Me.sibling;Me.sibling=null,Me=Rt}while(Me!==null)}}be=S}}if((S.subtreeFlags&2064)!==0&&D!==null)D.return=S,be=D;else e:for(;be!==null;){if(S=be,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:ol(9,S,S.return)}var J=S.sibling;if(J!==null){J.return=S.return,be=J;break e}be=S.return}}var H=a.current;for(be=H;be!==null;){D=be;var te=D.child;if((D.subtreeFlags&2064)!==0&&te!==null)te.return=D,be=te;else e:for(D=H;be!==null;){if(I=be,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:mu(9,I)}}catch(Ee){Mt(I,I.return,Ee)}if(I===D){be=null;break e}var he=I.sibling;if(he!==null){he.return=I.return,be=he;break e}be=I.return}}if(Xe=x,Ki(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(di,a)}catch{}m=!0}return m}finally{et=h,fr.transition=c}}return!1}function Nv(a,c,h){c=Go(h,c),c=Qy(a,c,1),a=Ji(a,c,1),c=_n(),a!==null&&(Na(a,1,c),Ln(a,c))}function Mt(a,c,h){if(a.tag===3)Nv(a,a,h);else for(;c!==null;){if(c.tag===3){Nv(c,a,h);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(es===null||!es.has(m))){a=Go(h,a),a=Jy(c,a,1),c=Ji(c,a,1),a=_n(),c!==null&&(Na(c,1,a),Ln(c,a));break}}c=c.return}}function aT(a,c,h){var m=a.pingCache;m!==null&&m.delete(c),c=_n(),a.pingedLanes|=a.suspendedLanes&h,Yt===a&&(Zt&h)===h&&(Vt===4||Vt===3&&(Zt&130023424)===Zt&&500>Be()-Lf?Xs(a,0):Nf|=h),Ln(a,c)}function Lv(a,c){c===0&&((a.mode&1)===0?c=1:(c=Is,Is<<=1,(Is&130023424)===0&&(Is=4194304)));var h=_n();a=vi(a,c),a!==null&&(Na(a,c,h),Ln(a,h))}function lT(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),Lv(a,h)}function cT(a,c){var h=0;switch(a.tag){case 13:var m=a.stateNode,x=a.memoizedState;x!==null&&(h=x.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(c),Lv(a,h)}var jv;jv=function(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps||Dn.current)An=!0;else{if((a.lanes&h)===0&&(c.flags&128)===0)return An=!1,KM(a,c,h);An=(a.flags&131072)!==0}else An=!1,mt&&(c.flags&1048576)!==0&&py(c,Jc,c.index);switch(c.lanes=0,c.tag){case 2:var m=c.type;fu(a,c),a=c.pendingProps;var x=Io(c,sn.current);Wo(c,h),x=df(null,c,m,a,x,h);var S=hf();return c.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Rn(m)?(S=!0,Xc(c)):S=!1,c.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,rf(c),x.updater=du,c.stateNode=x,x._reactInternals=c,vf(c,m,a,h),c=_f(null,c,m,!0,S,h)):(c.tag=0,mt&&S&&Yh(c),wn(null,c,x,h),c=c.child),c;case 16:m=c.elementType;e:{switch(fu(a,c),a=c.pendingProps,x=m._init,m=x(m._payload),c.type=m,x=c.tag=dT(m),a=Pr(m,a),x){case 0:c=wf(null,c,m,a,h);break e;case 1:c=av(null,c,m,a,h);break e;case 11:c=nv(null,c,m,a,h);break e;case 14:c=rv(null,c,m,Pr(m.type,a),h);break e}throw Error(n(306,m,""))}return c;case 0:return m=c.type,x=c.pendingProps,x=c.elementType===m?x:Pr(m,x),wf(a,c,m,x,h);case 1:return m=c.type,x=c.pendingProps,x=c.elementType===m?x:Pr(m,x),av(a,c,m,x,h);case 3:e:{if(lv(c),a===null)throw Error(n(387));m=c.pendingProps,S=c.memoizedState,x=S.element,Sy(a,c),iu(c,m,null,h);var D=c.memoizedState;if(m=D.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){x=Go(Error(n(423)),c),c=cv(a,c,m,h,x);break e}else if(m!==x){x=Go(Error(n(424)),c),c=cv(a,c,m,h,x);break e}else for(Kn=Yi(c.stateNode.containerInfo.firstChild),Xn=c,mt=!0,Er=null,h=wy(c,null,m,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Vo(),m===x){c=bi(a,c,h);break e}wn(a,c,m,h)}c=c.child}return c;case 5:return My(c),a===null&&Kh(c),m=c.type,x=c.pendingProps,S=a!==null?a.memoizedProps:null,D=x.children,Vh(m,x)?D=null:S!==null&&Vh(m,S)&&(c.flags|=32),ov(a,c),wn(a,c,D,h),c.child;case 6:return a===null&&Kh(c),null;case 13:return uv(a,c,h);case 4:return sf(c,c.stateNode.containerInfo),m=c.pendingProps,a===null?c.child=Uo(c,null,m,h):wn(a,c,m,h),c.child;case 11:return m=c.type,x=c.pendingProps,x=c.elementType===m?x:Pr(m,x),nv(a,c,m,x,h);case 7:return wn(a,c,c.pendingProps,h),c.child;case 8:return wn(a,c,c.pendingProps.children,h),c.child;case 12:return wn(a,c,c.pendingProps.children,h),c.child;case 10:e:{if(m=c.type._context,x=c.pendingProps,S=c.memoizedProps,D=x.value,lt(tu,m._currentValue),m._currentValue=D,S!==null)if(Tr(S.value,D)){if(S.children===x.children&&!Dn.current){c=bi(a,c,h);break e}}else for(S=c.child,S!==null&&(S.return=c);S!==null;){var I=S.dependencies;if(I!==null){D=S.child;for(var B=I.firstContext;B!==null;){if(B.context===m){if(S.tag===1){B=xi(-1,h&-h),B.tag=2;var ne=S.updateQueue;if(ne!==null){ne=ne.shared;var le=ne.pending;le===null?B.next=B:(B.next=le.next,le.next=B),ne.pending=B}}S.lanes|=h,B=S.alternate,B!==null&&(B.lanes|=h),tf(S.return,h,c),I.lanes|=h;break}B=B.next}}else if(S.tag===10)D=S.type===c.type?null:S.child;else if(S.tag===18){if(D=S.return,D===null)throw Error(n(341));D.lanes|=h,I=D.alternate,I!==null&&(I.lanes|=h),tf(D,h,c),D=S.sibling}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===c){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}wn(a,c,x.children,h),c=c.child}return c;case 9:return x=c.type,m=c.pendingProps.children,Wo(c,h),x=dr(x),m=m(x),c.flags|=1,wn(a,c,m,h),c.child;case 14:return m=c.type,x=Pr(m,c.pendingProps),x=Pr(m.type,x),rv(a,c,m,x,h);case 15:return iv(a,c,c.type,c.pendingProps,h);case 17:return m=c.type,x=c.pendingProps,x=c.elementType===m?x:Pr(m,x),fu(a,c),c.tag=1,Rn(m)?(a=!0,Xc(c)):a=!1,Wo(c,h),Xy(c,m,x),vf(c,m,x,h),_f(null,c,m,!0,a,h);case 19:return hv(a,c,h);case 22:return sv(a,c,h)}throw Error(n(156,c.tag))};function Ov(a,c){return Ze(a,c)}function uT(a,c,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(a,c,h,m){return new uT(a,c,h,m)}function Uf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function dT(a){if(typeof a=="function")return Uf(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Z)return 11;if(a===Y)return 14}return 2}function is(a,c){var h=a.alternate;return h===null?(h=pr(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Cu(a,c,h,m,x,S){var D=2;if(m=a,typeof a=="function")Uf(a)&&(D=1);else if(typeof a=="string")D=5;else e:switch(a){case T:return Qs(h.children,x,S,c);case A:D=8,x|=8;break;case O:return a=pr(12,h,c,x|2),a.elementType=O,a.lanes=S,a;case K:return a=pr(13,h,c,x),a.elementType=K,a.lanes=S,a;case Q:return a=pr(19,h,c,x),a.elementType=Q,a.lanes=S,a;case L:return ku(h,x,S,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:D=10;break e;case W:D=9;break e;case Z:D=11;break e;case Y:D=14;break e;case re:D=16,m=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=pr(D,h,c,x),c.elementType=a,c.type=m,c.lanes=S,c}function Qs(a,c,h,m){return a=pr(7,a,m,c),a.lanes=h,a}function ku(a,c,h,m){return a=pr(22,a,m,c),a.elementType=L,a.lanes=h,a.stateNode={isHidden:!1},a}function $f(a,c,h){return a=pr(6,a,null,c),a.lanes=h,a}function Wf(a,c,h){return c=pr(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function hT(a,c,h,m,x){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gh(0),this.expirationTimes=gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gh(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Hf(a,c,h,m,x,S,D,I,B){return a=new hT(a,c,h,I,B),c===1?(c=1,S===!0&&(c|=8)):c=0,S=pr(3,null,null,c),a.current=S,S.stateNode=a,S.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},rf(S),a}function fT(a,c,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:m==null?null:""+m,children:a,containerInfo:c,implementation:h}}function Fv(a){if(!a)return Xi;a=a._reactInternals;e:{if(we(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Rn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Rn(h))return dy(a,h,c)}return c}function Iv(a,c,h,m,x,S,D,I,B){return a=Hf(h,m,!0,a,x,S,D,I,B),a.context=Fv(null),h=a.current,m=_n(),x=ns(h),S=xi(m,x),S.callback=c??null,Ji(h,S,x),a.current.lanes=x,Na(a,x,m),Ln(a,m),a}function Mu(a,c,h,m){var x=c.current,S=_n(),D=ns(x);return h=Fv(h),c.context===null?c.context=h:c.pendingContext=h,c=xi(S,D),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Ji(x,c,D),a!==null&&(Ar(a,x,D,S),ru(a,x,D)),D}function Tu(a){return a=a.current,a.child?(a.child.tag===5,a.child.stateNode):null}function zv(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function Gf(a,c){zv(a,c),(a=a.alternate)&&zv(a,c)}function pT(){return null}var Bv=typeof reportError=="function"?reportError:function(a){console.error(a)};function Yf(a){this._internalRoot=a}Eu.prototype.render=Yf.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));Mu(a,c,null,null)},Eu.prototype.unmount=Yf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;qs(function(){Mu(null,a,null,null)}),c[pi]=null}};function Eu(a){this._internalRoot=a}Eu.prototype.unstable_scheduleHydration=function(a){if(a){var c=S0();a={blockedOn:null,target:a,priority:c};for(var h=0;h<Wi.length&&c!==0&&c<Wi[h].priority;h++);Wi.splice(h,0,a),h===0&&M0(a)}};function qf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Pu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Vv(){}function mT(a,c,h,m,x){if(x){if(typeof m=="function"){var S=m;m=function(){var ne=Tu(D);S.call(ne)}}var D=Iv(c,m,a,0,null,!1,!1,"",Vv);return a._reactRootContainer=D,a[pi]=D.current,Ya(a.nodeType===8?a.parentNode:a),qs(),D}for(;x=a.lastChild;)a.removeChild(x);if(typeof m=="function"){var I=m;m=function(){var ne=Tu(B);I.call(ne)}}var B=Hf(a,0,!1,null,null,!1,!1,"",Vv);return a._reactRootContainer=B,a[pi]=B.current,Ya(a.nodeType===8?a.parentNode:a),qs(function(){Mu(c,B,h,m)}),B}function Du(a,c,h,m,x){var S=h._reactRootContainer;if(S){var D=S;if(typeof x=="function"){var I=x;x=function(){var B=Tu(D);I.call(B)}}Mu(c,D,a,x)}else D=mT(h,c,a,x,m);return Tu(D)}w0=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var h=zs(c.pendingLanes);h!==0&&(yh(c,h|1),Ln(c,Be()),(Xe&6)===0&&(Xo=Be()+500,Ki()))}break;case 13:qs(function(){var m=vi(a,1);if(m!==null){var x=_n();Ar(m,a,1,x)}}),Gf(a,1)}},vh=function(a){if(a.tag===13){var c=vi(a,134217728);if(c!==null){var h=_n();Ar(c,a,134217728,h)}Gf(a,134217728)}},_0=function(a){if(a.tag===13){var c=ns(a),h=vi(a,c);if(h!==null){var m=_n();Ar(h,a,c,m)}Gf(a,c)}},S0=function(){return et},C0=function(a,c){var h=et;try{return et=a,c()}finally{et=h}},zt=function(a,c,h){switch(c){case"input":if(Kt(a,h),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var m=h[c];if(m!==a&&m.form===a.form){var x=Yc(m);if(!x)throw Error(n(90));Fe(m),Kt(m,x)}}}break;case"textarea":mn(a,h);break;case"select":c=h.value,c!=null&&Mn(a,!!h.multiple,c,!1)}},Mr=zf,ee=qs;var gT={usingClientEntryPoint:!1,Events:[Ka,Oo,Yc,Os,ci,zf]},ul={findFiberByHostInstance:Bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yT={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=We(a),a===null?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||pT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{di=Ru.inject(yT),bn=Ru}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gT,jn.createPortal=function(a,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qf(c))throw Error(n(200));return fT(a,c,null,h)},jn.createRoot=function(a,c){if(!qf(a))throw Error(n(299));var h=!1,m="",x=Bv;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),c=Hf(a,1,!1,null,null,h,!1,m,x),a[pi]=c.current,Ya(a.nodeType===8?a.parentNode:a),new Yf(c)},jn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=We(c),a=a===null?null:a.stateNode,a},jn.flushSync=function(a){return qs(a)},jn.hydrate=function(a,c,h){if(!Pu(c))throw Error(n(200));return Du(null,a,c,!0,h)},jn.hydrateRoot=function(a,c,h){if(!qf(a))throw Error(n(405));var m=h!=null&&h.hydratedSources||null,x=!1,S="",D=Bv;if(h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),c=Iv(c,null,a,1,h??null,x,!1,S,D),a[pi]=c.current,Ya(a),m)for(a=0;a<m.length;a++)h=m[a],x=h._getVersion,x=x(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,x]:c.mutableSourceEagerHydrationData.push(h,x);return new Eu(c)},jn.render=function(a,c,h){if(!Pu(c))throw Error(n(200));return Du(null,a,c,!1,h)},jn.unmountComponentAtNode=function(a){if(!Pu(a))throw Error(n(40));return a._reactRootContainer?(qs(function(){Du(null,null,a,!1,function(){a._reactRootContainer=null,a[pi]=null})}),!0):!1},jn.unstable_batchedUpdates=zf,jn.unstable_renderSubtreeIntoContainer=function(a,c,h,m){if(!Pu(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Du(a,c,h,!1,m)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var Xv;function i_(){if(Xv)return Qf.exports;Xv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qf.exports=MT(),Qf.exports}var Kv;function TT(){if(Kv)return Au;Kv=1;var t=i_();return Au.createRoot=t.createRoot,Au.hydrateRoot=t.hydrateRoot,Au}var ET=TT();const PT=r_(ET);var s_=t=>{throw TypeError(t)},DT=(t,e,n)=>e.has(t)||s_("Cannot "+n),ep=(t,e,n)=>(DT(t,e,"read from private field"),n?n.call(t):e.get(t)),RT=(t,e,n)=>e.has(t)?s_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Qv="popstate";function AT(t={}){function e(i,s){let{pathname:o="/",search:l="",hash:u=""}=Oi(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Xl("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let u=i.location.href,d=u.indexOf("#");l=d===-1?u:u.slice(0,d)}return l+"#"+(typeof s=="string"?s:ti(s))}function r(i,s){Pt(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return LT(e,n,r,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NT(){return Math.random().toString(36).substring(2,10)}function Jv(t,e){return{usr:t.state,key:t.key,idx:e}}function Xl(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oi(e):e,state:n,key:e&&e.key||r||NT()}}function ti({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function LT(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function p(){l="POP";let _=f(),C=_==null?null:_-d;d=_,u&&u({action:l,location:v.location,delta:C})}function g(_,C){l="PUSH";let E=Xl(v.location,_,C);n&&n(E,_),d=f()+1;let k=Jv(E,d),R=v.createHref(E);try{o.pushState(k,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(R)}s&&u&&u({action:l,location:v.location,delta:1})}function y(_,C){l="REPLACE";let E=Xl(v.location,_,C);n&&n(E,_),d=f();let k=Jv(E,d),R=v.createHref(E);o.replaceState(k,"",R),s&&u&&u({action:l,location:v.location,delta:0})}function w(_){return o_(_)}let v={get action(){return l},get location(){return t(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Qv,p),u=_,()=>{i.removeEventListener(Qv,p),u=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let C=w(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:y,go(_){return o.go(_)}};return v}function o_(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ue(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ti(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Sl,Zv=class{constructor(t){if(RT(this,Sl,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(ep(this,Sl).has(t))return ep(this,Sl).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){ep(this,Sl).set(t,e)}};Sl=new WeakMap;var jT=new Set(["lazy","caseSensitive","path","id","index","children"]);function OT(t){return jT.has(t)}var FT=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function IT(t){return FT.has(t)}function zT(t){return t.index===!0}function Kl(t,e,n=[],r={},i=!1){return t.map((s,o)=>{let l=[...n,String(o)],u=typeof s.id=="string"?s.id:l.join("-");if(Ue(s.index!==!0||!s.children,"Cannot specify children on an index route"),Ue(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),zT(s)){let d={...s,id:u};return r[u]=ex(d,e(d)),d}else{let d={...s,id:u,children:void 0};return r[u]=ex(d,e(d)),s.children&&(d.children=Kl(s.children,e,l,r,i)),d}})}function ex(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function as(t,e,n="/"){return Cl(t,e,n,!1)}function Cl(t,e,n,r){let i=typeof e=="string"?Oi(e):e,s=Sr(i.pathname||"/",n);if(s==null)return null;let o=a_(t);VT(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=JT(s);l=KT(o[u],d,r)}return l}function BT(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function a_(t,e=[],n=[],r="",i=!1){let s=(o,l,u=i,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Ue(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=Jr([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ue(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),a_(o.children,e,g,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:qT(p,o.index),routesMeta:g})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let u of l_(o.path))s(o,l,!0,u)}),e}function l_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=l_(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function VT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var UT=/^:[\w-]+$/,$T=3,WT=2,HT=1,GT=10,YT=-2,tx=t=>t==="*";function qT(t,e){let n=t.split("/"),r=n.length;return n.some(tx)&&(r+=YT),e&&(r+=WT),n.filter(i=>!tx(i)).reduce((i,s)=>i+(UT.test(s)?$T:s===""?HT:GT),r)}function XT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function KT(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=wd({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=wd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Jr([s,p.pathname]),pathnameBase:tE(Jr([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Jr([s,p.pathnameBase]))}return o}function wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=l[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?d[f]=void 0:d[f]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function QT(t,e=!1,n=!0){Pt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function JT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Sr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZT({basename:t,pathname:e}){return e==="/"?t:Jr([t,e])}var c_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qd=t=>c_.test(t);function eE(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Oi(t):t,s;if(n)if(qd(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Pt(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=nx(n.substring(1),"/"):s=nx(n,e)}else s=e;return{pathname:s,search:nE(r),hash:rE(i)}}function nx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qm(t){let e=u_(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Jm(t,e,n,r=!1){let i;typeof t=="string"?i=Oi(t):(i={...t},Ue(!i.pathname||!i.pathname.includes("?"),tp("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),tp("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),tp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=eE(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Jr=t=>t.join("/").replace(/\/\/+/g,"/"),tE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,vc=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ql(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function xc(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function h_(t,e){let n=t;if(typeof n!="string"||!c_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(d_)try{let s=new URL(window.location.href),o=n.startsWith("//")?new URL(s.protocol+n):new URL(n),l=Sr(o.pathname,e);o.origin===s.origin&&l!=null?n=l+o.search+o.hash:i=!0}catch{Pt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}var cs=Symbol("Uninstrumented");function iE(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(s){let o=Object.keys(n);for(let l of o)s[l]&&n[l].push(s[l])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let i=ra(n.lazy,e.lazy,()=>{});i&&(r.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(s=>{let o=i[s],l=n[`lazy.${s}`];if(typeof o=="function"&&l.length>0){let u=ra(l,o,()=>{});u&&(r.lazy=Object.assign(r.lazy||{},{[s]:u}))}})}return["loader","action"].forEach(i=>{let s=e[i];if(typeof s=="function"&&n[i].length>0){let o=s[cs]??s,l=ra(n[i],o,(...u)=>rx(u[0]));l&&(i==="loader"&&o.hydrate===!0&&(l.hydrate=!0),l[cs]=o,r[i]=l)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(i=>{let s=i[cs]??i,o=ra(n.middleware,s,(...l)=>rx(l[0]));return o?(o[cs]=s,o):i})),r}function sE(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(i){let s=Object.keys(i);for(let o of s)i[o]&&n[o].push(i[o])}})),n.navigate.length>0){let r=t.navigate[cs]??t.navigate,i=ra(n.navigate,r,(...s)=>{let[o,l]=s;return{to:typeof o=="number"||typeof o=="string"?o:o?ti(o):".",...ix(t,l??{})}});i&&(i[cs]=r,t.navigate=i)}if(n.fetch.length>0){let r=t.fetch[cs]??t.fetch,i=ra(n.fetch,r,(...s)=>{let[o,,l,u]=s;return{href:l??".",fetcherKey:o,...ix(t,u??{})}});i&&(i[cs]=r,t.fetch=i)}return t}function ra(t,e,n){return t.length===0?null:async(...r)=>{let i=await f_(t,n(...r),()=>e(...r),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function f_(t,e,n,r){let i=t[r],s;if(i){let o,l=async()=>(o?console.error("You cannot call instrumented handlers more than once"):o=f_(t,e,n,r-1),s=await o,Ue(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await i(l,e)}catch(u){console.error("An instrumentation function threw an error:",u)}o||await l(),await o}else try{s={type:"success",value:await n()}}catch(o){s={type:"error",value:o}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function rx(t){let{request:e,context:n,params:r,unstable_pattern:i}=t;return{request:oE(e),params:{...r},unstable_pattern:i,context:aE(n)}}function ix(t,e){return{currentUrl:ti(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function oE(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function aE(t){if(cE(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var lE=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cE(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===lE}var p_=["POST","PUT","PATCH","DELETE"],uE=new Set(p_),dE=["GET",...p_],hE=new Set(dE),m_=new Set([301,302,303,307,308]),fE=new Set([307,308]),np={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),g_="remix-router-transitions",y_=Symbol("ResetLoaderData");function gE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ue(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||mE,s=i;if(t.unstable_instrumentations){let j=t.unstable_instrumentations;s=V=>({...i(V),...iE(j.map(U=>U.route).filter(Boolean),V)})}let o={},l=Kl(t.routes,s,void 0,o),u,d=t.basename||"/";d.startsWith("/")||(d=`/${d}`);let f=t.dataStrategy||wE,p={...t.future},g=null,y=new Set,w=null,v=null,_=null,C=t.hydrationData!=null,E=as(l,t.history.location,d),k=!1,R=null,P;if(E==null&&!t.patchRoutesOnNavigation){let j=vr(404,{pathname:t.history.location.pathname}),{matches:V,route:U}=Nu(l);P=!0,E=V,R={[U.id]:j}}else if(E&&!t.hydrationData&&ee(E,l,t.history.location.pathname).active&&(E=null),E)if(E.some(j=>j.route.lazy))P=!1;else if(!E.some(j=>Zm(j.route)))P=!0;else{let j=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null;if(V){let U=E.findIndex(se=>V[se.route.id]!==void 0);P=E.slice(0,U+1).every(se=>!Zp(se.route,j,V))}else P=E.every(U=>!Zp(U.route,j,V))}else{P=!1,E=[];let j=ee(null,l,t.history.location.pathname);j.active&&j.matches&&(k=!0,E=j.matches)}let N,T={historyAction:t.history.action,location:t.history.location,matches:E,initialized:P,navigation:np,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||R,fetchers:new Map,blockers:new Map},A="POP",O=null,$=!1,W,Z=!1,K=new Map,Q=null,Y=!1,re=!1,L=new Set,z=new Map,X=0,q=-1,F=new Map,G=new Set,oe=new Map,ie=new Map,ue=new Set,pe=new Map,Re,Pe=null;function Le(){if(g=t.history.listen(({action:j,location:V,delta:U})=>{if(Re){Re(),Re=void 0;return}Pt(pe.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=kr({currentLocation:T.location,nextLocation:V,historyAction:j});if(se&&U!=null){let ce=new Promise(Se=>{Re=Se});t.history.go(U*-1),zt(se,{state:"blocked",location:V,proceed(){zt(se,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),ce.then(()=>t.history.go(U))},reset(){let Se=new Map(T.blockers);Se.set(se,hl),Fe({blockers:Se})}}),O?.resolve(),O=null;return}return ct(j,V)}),n){zE(e,K);let j=()=>BE(e,K);e.addEventListener("pagehide",j),Q=()=>e.removeEventListener("pagehide",j)}return T.initialized||ct("POP",T.location,{initialHydration:!0}),N}function Ke(){g&&g(),Q&&Q(),y.clear(),W&&W.abort(),T.fetchers.forEach((j,V)=>zr(V)),T.blockers.forEach((j,V)=>lr(V))}function It(j){return y.add(j),()=>y.delete(j)}function Fe(j,V={}){j.matches&&(j.matches=j.matches.map(ce=>{let Se=o[ce.route.id],ge=ce.route;return ge.element!==Se.element||ge.errorElement!==Se.errorElement||ge.hydrateFallbackElement!==Se.hydrateFallbackElement?{...ce,route:Se}:ce})),T={...T,...j};let U=[],se=[];T.fetchers.forEach((ce,Se)=>{ce.state==="idle"&&(ue.has(Se)?U.push(Se):se.push(Se))}),ue.forEach(ce=>{!T.fetchers.has(ce)&&!z.has(ce)&&U.push(ce)}),[...y].forEach(ce=>ce(T,{deletedFetchers:U,newErrors:j.errors??null,viewTransitionOpts:V.viewTransitionOpts,flushSync:V.flushSync===!0})),U.forEach(ce=>zr(ce)),se.forEach(ce=>T.fetchers.delete(ce))}function ze(j,V,{flushSync:U}={}){let se=T.actionData!=null&&T.navigation.formMethod!=null&&cn(T.navigation.formMethod)&&T.navigation.state==="loading"&&j.state?._isRedirect!==!0,ce;V.actionData?Object.keys(V.actionData).length>0?ce=V.actionData:ce=null:se?ce=T.actionData:ce=null;let Se=V.loaderData?px(T.loaderData,V.loaderData,V.matches||[],V.errors):T.loaderData,ge=T.blockers;ge.size>0&&(ge=new Map(ge),ge.forEach((De,ke)=>ge.set(ke,hl)));let Ce=Y?!1:Mr(j,V.matches||T.matches),Te=$===!0||T.navigation.formMethod!=null&&cn(T.navigation.formMethod)&&j.state?._isRedirect!==!0;u&&(l=u,u=void 0),Y||A==="POP"||(A==="PUSH"?t.history.push(j,j.state):A==="REPLACE"&&t.history.replace(j,j.state));let we;if(A==="POP"){let De=K.get(T.location.pathname);De&&De.has(j.pathname)?we={currentLocation:T.location,nextLocation:j}:K.has(j.pathname)&&(we={currentLocation:j,nextLocation:T.location})}else if(Z){let De=K.get(T.location.pathname);De?De.add(j.pathname):(De=new Set([j.pathname]),K.set(T.location.pathname,De)),we={currentLocation:T.location,nextLocation:j}}Fe({...V,actionData:ce,loaderData:Se,historyAction:A,location:j,initialized:!0,navigation:np,revalidation:"idle",restoreScrollPosition:Ce,preventScrollReset:Te,blockers:ge},{viewTransitionOpts:we,flushSync:U===!0}),A="POP",$=!1,Z=!1,Y=!1,re=!1,O?.resolve(),O=null,Pe?.resolve(),Pe=null}async function Dt(j,V){if(O?.resolve(),O=null,typeof j=="number"){O||(O=vx());let We=O.promise;return t.history.go(j),We}let U=Jp(T.location,T.matches,d,j,V?.fromRouteId,V?.relative),{path:se,submission:ce,error:Se}=sx(!1,U,V),ge=T.location,Ce=Xl(T.location,se,V&&V.state);Ce={...Ce,...t.history.encodeLocation(Ce)};let Te=V&&V.replace!=null?V.replace:void 0,we="PUSH";Te===!0?we="REPLACE":Te===!1||ce!=null&&cn(ce.formMethod)&&ce.formAction===T.location.pathname+T.location.search&&(we="REPLACE");let De=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,ke=(V&&V.flushSync)===!0,$e=kr({currentLocation:ge,nextLocation:Ce,historyAction:we});if($e){zt($e,{state:"blocked",location:Ce,proceed(){zt($e,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),Dt(j,V)},reset(){let We=new Map(T.blockers);We.set($e,hl),Fe({blockers:We})}});return}await ct(we,Ce,{submission:ce,pendingError:Se,preventScrollReset:De,replace:V&&V.replace,enableViewTransition:V&&V.viewTransition,flushSync:ke,callSiteDefaultShouldRevalidate:V&&V.unstable_defaultShouldRevalidate})}function Lt(){Pe||(Pe=vx()),li(),Fe({revalidation:"loading"});let j=Pe.promise;return T.navigation.state==="submitting"?j:T.navigation.state==="idle"?(ct(T.historyAction,T.location,{startUninterruptedRevalidation:!0}),j):(ct(A||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:Z===!0}),j)}async function ct(j,V,U){W&&W.abort(),W=null,A=j,Y=(U&&U.startUninterruptedRevalidation)===!0,ci(T.location,T.matches),$=(U&&U.preventScrollReset)===!0,Z=(U&&U.enableViewTransition)===!0;let se=u||l,ce=U&&U.overrideNavigation,Se=U?.initialHydration&&T.matches&&T.matches.length>0&&!k?T.matches:as(se,V,d),ge=(U&&U.flushSync)===!0;if(Se&&T.initialized&&!re&&PE(T.location,V)&&!(U&&U.submission&&cn(U.submission.formMethod))){ze(V,{matches:Se},{flushSync:ge});return}let Ce=ee(Se,se,V.pathname);if(Ce.active&&Ce.matches&&(Se=Ce.matches),!Se){let{error:Ze,notFoundMatches:vt,route:qe}=Yn(V.pathname);ze(V,{matches:vt,loaderData:{},errors:{[qe.id]:Ze}},{flushSync:ge});return}W=new AbortController;let Te=na(t.history,V,W.signal,U&&U.submission),we=t.getContext?await t.getContext():new Zv,De;if(U&&U.pendingError)De=[ls(Se).route.id,{type:"error",error:U.pendingError}];else if(U&&U.submission&&cn(U.submission.formMethod)){let Ze=await Kt(Te,V,U.submission,Se,we,Ce.active,U&&U.initialHydration===!0,{replace:U.replace,flushSync:ge});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[vt,qe]=Ze.pendingActionResult;if(Zn(qe)&&Ql(qe.error)&&qe.error.status===404){W=null,ze(V,{matches:Ze.matches,loaderData:{},errors:{[vt]:qe.error}});return}}Se=Ze.matches||Se,De=Ze.pendingActionResult,ce=rp(V,U.submission),ge=!1,Ce.active=!1,Te=na(t.history,Te.url,Te.signal)}let{shortCircuited:ke,matches:$e,loaderData:We,errors:ft}=await Ht(Te,V,Se,we,Ce.active,ce,U&&U.submission,U&&U.fetcherSubmission,U&&U.replace,U&&U.initialHydration===!0,ge,De,U&&U.callSiteDefaultShouldRevalidate);ke||(W=null,ze(V,{matches:$e||Se,...mx(De),loaderData:We,errors:ft}))}async function Kt(j,V,U,se,ce,Se,ge,Ce={}){li();let Te=FE(V,U);if(Fe({navigation:Te},{flushSync:Ce.flushSync===!0}),Se){let ke=await fe(se,V.pathname,j.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){if(ke.partialMatches.length===0){let{matches:We,route:ft}=Nu(l);return{matches:We,pendingActionResult:[ft.id,{type:"error",error:ke.error}]}}let $e=ls(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[$e,{type:"error",error:ke.error}]}}else if(ke.matches)se=ke.matches;else{let{notFoundMatches:$e,error:We,route:ft}=Yn(V.pathname);return{matches:$e,pendingActionResult:[ft.id,{type:"error",error:We}]}}}let we,De=ad(se,V);if(!De.route.action&&!De.route.lazy)we={type:"error",error:vr(405,{method:j.method,pathname:V.pathname,routeId:De.route.id})};else{let ke=ua(s,o,j,se,De,ge?[]:r,ce),$e=await Ir(j,ke,ce,null);if(we=$e[De.route.id],!we){for(let We of se)if($e[We.route.id]){we=$e[We.route.id];break}}if(j.signal.aborted)return{shortCircuited:!0}}if(co(we)){let ke;return Ce&&Ce.replace!=null?ke=Ce.replace:ke=dx(we.response.headers.get("Location"),new URL(j.url),d,t.history)===T.location.pathname+T.location.search,await mn(j,we,!0,{submission:U,replace:ke}),{shortCircuited:!0}}if(Zn(we)){let ke=ls(se,De.route.id);return(Ce&&Ce.replace)!==!0&&(A="PUSH"),{matches:se,pendingActionResult:[ke.route.id,we,De.route.id]}}return{matches:se,pendingActionResult:[De.route.id,we]}}async function Ht(j,V,U,se,ce,Se,ge,Ce,Te,we,De,ke,$e){let We=Se||rp(V,ge),ft=ge||Ce||yx(We),Ze=!Y&&!we;if(ce){if(Ze){let rt=Qt(ke);Fe({navigation:We,...rt!==void 0?{actionData:rt}:{}},{flushSync:De})}let Ge=await fe(U,V.pathname,j.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){if(Ge.partialMatches.length===0){let{matches:Bi,route:hi}=Nu(l);return{matches:Bi,loaderData:{},errors:{[hi.id]:Ge.error}}}let rt=ls(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,loaderData:{},errors:{[rt]:Ge.error}}}else if(Ge.matches)U=Ge.matches;else{let{error:rt,notFoundMatches:Bi,route:hi}=Yn(V.pathname);return{matches:Bi,loaderData:{},errors:{[hi.id]:rt}}}}let vt=u||l,{dsMatches:qe,revalidatingFetchers:nt}=ox(j,se,s,o,t.history,T,U,ft,V,we?[]:r,we===!0,re,L,ue,oe,G,vt,d,t.patchRoutesOnNavigation!=null,ke,$e);if(q=++X,!t.dataStrategy&&!qe.some(Ge=>Ge.shouldLoad)&&!qe.some(Ge=>Ge.route.middleware&&Ge.route.middleware.length>0)&&nt.length===0){let Ge=Br();return ze(V,{matches:U,loaderData:{},errors:ke&&Zn(ke[1])?{[ke[0]]:ke[1].error}:null,...mx(ke),...Ge?{fetchers:new Map(T.fetchers)}:{}},{flushSync:De}),{shortCircuited:!0}}if(Ze){let Ge={};if(!ce){Ge.navigation=We;let rt=Qt(ke);rt!==void 0&&(Ge.actionData=rt)}nt.length>0&&(Ge.fetchers=nn(nt)),Fe(Ge,{flushSync:De})}nt.forEach(Ge=>{En(Ge.key),Ge.controller&&z.set(Ge.key,Ge.controller)});let Be=()=>nt.forEach(Ge=>En(Ge.key));W&&W.signal.addEventListener("abort",Be);let{loaderResults:vn,fetcherResults:xn}=await Ns(qe,nt,j,se);if(j.signal.aborted)return{shortCircuited:!0};W&&W.signal.removeEventListener("abort",Be),nt.forEach(Ge=>z.delete(Ge.key));let Pn=Lu(vn);if(Pn)return await mn(j,Pn.result,!0,{replace:Te}),{shortCircuited:!0};if(Pn=Lu(xn),Pn)return G.add(Pn.key),await mn(j,Pn.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:ui,errors:Fs}=fx(T,U,vn,ke,nt,xn);we&&T.errors&&(Fs={...T.errors,...Fs});let Vr=Br(),di=Ii(q),bn=Vr||di||nt.length>0;return{matches:U,loaderData:ui,errors:Fs,...bn?{fetchers:new Map(T.fetchers)}:{}}}function Qt(j){if(j&&!Zn(j[1]))return{[j[0]]:j[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function nn(j){return j.forEach(V=>{let U=T.fetchers.get(V.key),se=fl(void 0,U?U.data:void 0);T.fetchers.set(V.key,se)}),new Map(T.fetchers)}async function Mn(j,V,U,se){En(j);let ce=(se&&se.flushSync)===!0,Se=u||l,ge=Jp(T.location,T.matches,d,U,V,se?.relative),Ce=as(Se,ge,d),Te=ee(Ce,Se,ge);if(Te.active&&Te.matches&&(Ce=Te.matches),!Ce){Tn(j,V,vr(404,{pathname:ge}),{flushSync:ce});return}let{path:we,submission:De,error:ke}=sx(!0,ge,se);if(ke){Tn(j,V,ke,{flushSync:ce});return}let $e=t.getContext?await t.getContext():new Zv,We=(se&&se.preventScrollReset)===!0;if(De&&cn(De.formMethod)){await oi(j,V,we,Ce,$e,Te.active,ce,We,De,se&&se.unstable_defaultShouldRevalidate);return}oe.set(j,{routeId:V,path:we}),await ai(j,V,we,Ce,$e,Te.active,ce,We,De)}async function oi(j,V,U,se,ce,Se,ge,Ce,Te,we){li(),oe.delete(j);let De=T.fetchers.get(j);rn(j,IE(Te,De),{flushSync:ge});let ke=new AbortController,$e=na(t.history,U,ke.signal,Te);if(Se){let pt=await fe(se,new URL($e.url).pathname,$e.signal,j);if(pt.type==="aborted")return;if(pt.type==="error"){Tn(j,V,pt.error,{flushSync:ge});return}else if(pt.matches)se=pt.matches;else{Tn(j,V,vr(404,{pathname:U}),{flushSync:ge});return}}let We=ad(se,U);if(!We.route.action&&!We.route.lazy){let pt=vr(405,{method:Te.formMethod,pathname:U,routeId:V});Tn(j,V,pt,{flushSync:ge});return}z.set(j,ke);let ft=X,Ze=ua(s,o,$e,se,We,r,ce),vt=await Ir($e,Ze,ce,j),qe=vt[We.route.id];if(!qe){for(let pt of Ze)if(vt[pt.route.id]){qe=vt[pt.route.id];break}}if($e.signal.aborted){z.get(j)===ke&&z.delete(j);return}if(ue.has(j)){if(co(qe)||Zn(qe)){rn(j,Si(void 0));return}}else{if(co(qe))if(z.delete(j),q>ft){rn(j,Si(void 0));return}else return G.add(j),rn(j,fl(Te)),mn($e,qe,!1,{fetcherSubmission:Te,preventScrollReset:Ce});if(Zn(qe)){Tn(j,V,qe.error);return}}let nt=T.navigation.location||T.location,Be=na(t.history,nt,ke.signal),vn=u||l,xn=T.navigation.state!=="idle"?as(vn,T.navigation.location,d):T.matches;Ue(xn,"Didn't find any matches after fetcher action");let Pn=++X;F.set(j,Pn);let ui=fl(Te,qe.data);T.fetchers.set(j,ui);let{dsMatches:Fs,revalidatingFetchers:Vr}=ox(Be,ce,s,o,t.history,T,xn,Te,nt,r,!1,re,L,ue,oe,G,vn,d,t.patchRoutesOnNavigation!=null,[We.route.id,qe],we);Vr.filter(pt=>pt.key!==j).forEach(pt=>{let fi=pt.key,Is=T.fetchers.get(fi),zs=fl(void 0,Is?Is.data:void 0);T.fetchers.set(fi,zs),En(fi),pt.controller&&z.set(fi,pt.controller)}),Fe({fetchers:new Map(T.fetchers)});let di=()=>Vr.forEach(pt=>En(pt.key));ke.signal.addEventListener("abort",di);let{loaderResults:bn,fetcherResults:Ge}=await Ns(Fs,Vr,Be,ce);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",di),F.delete(j),z.delete(j),Vr.forEach(pt=>z.delete(pt.key)),T.fetchers.has(j)){let pt=Si(qe.data);T.fetchers.set(j,pt)}let rt=Lu(bn);if(rt)return mn(Be,rt.result,!1,{preventScrollReset:Ce});if(rt=Lu(Ge),rt)return G.add(rt.key),mn(Be,rt.result,!1,{preventScrollReset:Ce});let{loaderData:Bi,errors:hi}=fx(T,xn,bn,void 0,Vr,Ge);Ii(Pn),T.navigation.state==="loading"&&Pn>q?(Ue(A,"Expected pending action"),W&&W.abort(),ze(T.navigation.location,{matches:xn,loaderData:Bi,errors:hi,fetchers:new Map(T.fetchers)})):(Fe({errors:hi,loaderData:px(T.loaderData,Bi,xn,hi),fetchers:new Map(T.fetchers)}),re=!1)}async function ai(j,V,U,se,ce,Se,ge,Ce,Te){let we=T.fetchers.get(j);rn(j,fl(Te,we?we.data:void 0),{flushSync:ge});let De=new AbortController,ke=na(t.history,U,De.signal);if(Se){let qe=await fe(se,new URL(ke.url).pathname,ke.signal,j);if(qe.type==="aborted")return;if(qe.type==="error"){Tn(j,V,qe.error,{flushSync:ge});return}else if(qe.matches)se=qe.matches;else{Tn(j,V,vr(404,{pathname:U}),{flushSync:ge});return}}let $e=ad(se,U);z.set(j,De);let We=X,ft=ua(s,o,ke,se,$e,r,ce),vt=(await Ir(ke,ft,ce,j))[$e.route.id];if(z.get(j)===De&&z.delete(j),!ke.signal.aborted){if(ue.has(j)){rn(j,Si(void 0));return}if(co(vt))if(q>We){rn(j,Si(void 0));return}else{G.add(j),await mn(ke,vt,!1,{preventScrollReset:Ce});return}if(Zn(vt)){Tn(j,V,vt.error);return}rn(j,Si(vt.data))}}async function mn(j,V,U,{submission:se,fetcherSubmission:ce,preventScrollReset:Se,replace:ge}={}){U||(O?.resolve(),O=null),V.response.headers.has("X-Remix-Revalidate")&&(re=!0);let Ce=V.response.headers.get("Location");Ue(Ce,"Expected a Location header on the redirect Response"),Ce=dx(Ce,new URL(j.url),d,t.history);let Te=Xl(T.location,Ce,{_isRedirect:!0});if(n){let ft=!1;if(V.response.headers.has("X-Remix-Reload-Document"))ft=!0;else if(qd(Ce)){const Ze=o_(Ce,!0);ft=Ze.origin!==e.location.origin||Sr(Ze.pathname,d)==null}if(ft){ge?e.location.replace(Ce):e.location.assign(Ce);return}}W=null;let we=ge===!0||V.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:De,formAction:ke,formEncType:$e}=T.navigation;!se&&!ce&&De&&ke&&$e&&(se=yx(T.navigation));let We=se||ce;if(fE.has(V.response.status)&&We&&cn(We.formMethod))await ct(we,Te,{submission:{...We,formAction:Ce},preventScrollReset:Se||$,enableViewTransition:U?Z:void 0});else{let ft=rp(Te,se);await ct(we,Te,{overrideNavigation:ft,fetcherSubmission:ce,preventScrollReset:Se||$,enableViewTransition:U?Z:void 0})}}async function Ir(j,V,U,se){let ce,Se={};try{ce=await SE(f,j,V,se,U,!1)}catch(ge){return V.filter(Ce=>Ce.shouldLoad).forEach(Ce=>{Se[Ce.route.id]={type:"error",error:ge}}),Se}if(j.signal.aborted)return Se;if(!cn(j.method))for(let ge of V){if(ce[ge.route.id]?.type==="error")break;!ce.hasOwnProperty(ge.route.id)&&!T.loaderData.hasOwnProperty(ge.route.id)&&(!T.errors||!T.errors.hasOwnProperty(ge.route.id))&&ge.shouldCallHandler()&&(ce[ge.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ge.route.id}`)})}for(let[ge,Ce]of Object.entries(ce))if(NE(Ce)){let Te=Ce.result;Se[ge]={type:"redirect",response:TE(Te,j,ge,V,d)}}else Se[ge]=await ME(Ce);return Se}async function Ns(j,V,U,se){let ce=Ir(U,j,se,null),Se=Promise.all(V.map(async Te=>{if(Te.matches&&Te.match&&Te.request&&Te.controller){let De=(await Ir(Te.request,Te.matches,se,Te.key))[Te.match.route.id];return{[Te.key]:De}}else return Promise.resolve({[Te.key]:{type:"error",error:vr(404,{pathname:Te.path})}})})),ge=await ce,Ce=(await Se).reduce((Te,we)=>Object.assign(Te,we),{});return{loaderResults:ge,fetcherResults:Ce}}function li(){re=!0,oe.forEach((j,V)=>{z.has(V)&&L.add(V),En(V)})}function rn(j,V,U={}){T.fetchers.set(j,V),Fe({fetchers:new Map(T.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function Tn(j,V,U,se={}){let ce=ls(T.matches,V);zr(j),Fe({errors:{[ce.route.id]:U},fetchers:new Map(T.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function gn(j){return ie.set(j,(ie.get(j)||0)+1),ue.has(j)&&ue.delete(j),T.fetchers.get(j)||pE}function yn(j,V){En(j,V?.reason),rn(j,Si(null))}function zr(j){let V=T.fetchers.get(j);z.has(j)&&!(V&&V.state==="loading"&&F.has(j))&&En(j),oe.delete(j),F.delete(j),G.delete(j),ue.delete(j),L.delete(j),T.fetchers.delete(j)}function Fi(j){let V=(ie.get(j)||0)-1;V<=0?(ie.delete(j),ue.add(j)):ie.set(j,V),Fe({fetchers:new Map(T.fetchers)})}function En(j,V){let U=z.get(j);U&&(U.abort(V),z.delete(j))}function Ls(j){for(let V of j){let U=gn(V),se=Si(U.data);T.fetchers.set(V,se)}}function Br(){let j=[],V=!1;for(let U of G){let se=T.fetchers.get(U);Ue(se,`Expected fetcher: ${U}`),se.state==="loading"&&(G.delete(U),j.push(U),V=!0)}return Ls(j),V}function Ii(j){let V=[];for(let[U,se]of F)if(se<j){let ce=T.fetchers.get(U);Ue(ce,`Expected fetcher: ${U}`),ce.state==="loading"&&(En(U),F.delete(U),V.push(U))}return Ls(V),V.length>0}function zi(j,V){let U=T.blockers.get(j)||hl;return pe.get(j)!==V&&pe.set(j,V),U}function lr(j){T.blockers.delete(j),pe.delete(j)}function zt(j,V){let U=T.blockers.get(j)||hl;Ue(U.state==="unblocked"&&V.state==="blocked"||U.state==="blocked"&&V.state==="blocked"||U.state==="blocked"&&V.state==="proceeding"||U.state==="blocked"&&V.state==="unblocked"||U.state==="proceeding"&&V.state==="unblocked",`Invalid blocker state transition: ${U.state} -> ${V.state}`);let se=new Map(T.blockers);se.set(j,V),Fe({blockers:se})}function kr({currentLocation:j,nextLocation:V,historyAction:U}){if(pe.size===0)return;pe.size>1&&Pt(!1,"A router only supports one blocker at a time");let se=Array.from(pe.entries()),[ce,Se]=se[se.length-1],ge=T.blockers.get(ce);if(!(ge&&ge.state==="proceeding")&&Se({currentLocation:j,nextLocation:V,historyAction:U}))return ce}function Yn(j){let V=vr(404,{pathname:j}),U=u||l,{matches:se,route:ce}=Nu(U);return{notFoundMatches:se,route:ce,error:V}}function js(j,V,U){if(w=j,_=V,v=U||null,!C&&T.navigation===np){C=!0;let se=Mr(T.location,T.matches);se!=null&&Fe({restoreScrollPosition:se})}return()=>{w=null,_=null,v=null}}function Os(j,V){return v&&v(j,V.map(se=>BT(se,T.loaderData)))||j.key}function ci(j,V){if(w&&_){let U=Os(j,V);w[U]=_()}}function Mr(j,V){if(w){let U=Os(j,V),se=w[U];if(typeof se=="number")return se}return null}function ee(j,V,U){if(t.patchRoutesOnNavigation)if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:Cl(V,U,d,!0)}}else return{active:!0,matches:Cl(V,U,d,!0)||[]};return{active:!1,matches:null}}async function fe(j,V,U,se){if(!t.patchRoutesOnNavigation)return{type:"success",matches:j};let ce=j;for(;;){let Se=u==null,ge=u||l,Ce=o;try{await t.patchRoutesOnNavigation({signal:U,path:V,matches:ce,fetcherKey:se,patch:(De,ke)=>{U.aborted||ax(De,ke,ge,Ce,s,!1)}})}catch(De){return{type:"error",error:De,partialMatches:ce}}finally{Se&&!U.aborted&&(l=[...l])}if(U.aborted)return{type:"aborted"};let Te=as(ge,V,d),we=null;if(Te){if(Object.keys(Te[0].params).length===0)return{type:"success",matches:Te};if(we=Cl(ge,V,d,!0),!(we&&ce.length<we.length&&ye(ce,we.slice(0,ce.length))))return{type:"success",matches:Te}}if(we||(we=Cl(ge,V,d,!0)),!we||ye(ce,we))return{type:"success",matches:null};ce=we}}function ye(j,V){return j.length===V.length&&j.every((U,se)=>U.route.id===V[se].route.id)}function ve(j){o={},u=Kl(j,s,void 0,o)}function Oe(j,V,U=!1){let se=u==null;ax(j,V,u||l,o,s,U),se&&(l=[...l],Fe({}))}return N={get basename(){return d},get future(){return p},get state(){return T},get routes(){return l},get window(){return e},initialize:Le,subscribe:It,enableScrollRestoration:js,navigate:Dt,fetch:Mn,revalidate:Lt,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:gn,resetFetcher:yn,deleteFetcher:Fi,dispose:Ke,getBlocker:zi,deleteBlocker:lr,patchRoutes:Oe,_internalFetchControllers:z,_internalSetRoutes:ve,_internalSetStateDoNotUseOrYouWillBreakYourApp(j){Fe(j)}},t.unstable_instrumentations&&(N=sE(N,t.unstable_instrumentations.map(j=>j.router).filter(Boolean))),N}function yE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Jp(t,e,n,r,i,s){let o,l;if(i){o=[];for(let d of e)if(o.push(d),d.route.id===i){l=d;break}}else o=e,l=e[e.length-1];let u=Jm(r||".",Qm(o),Sr(t.pathname,n)||t.pathname,s==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&l){let d=tg(u.search);if(l.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&d){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=ZT({basename:n,pathname:u.pathname})),ti(u)}function sx(t,e,n){if(!n||!yE(n))return{path:e};if(n.formMethod&&!OE(n.formMethod))return{path:e,error:vr(405,{method:n.formMethod})};let r=()=>({path:e,error:vr(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=S_(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!cn(s))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,w])=>`${g}${y}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!cn(s))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Ue(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=tm(n.formData),u=n.formData;else if(n.body instanceof FormData)l=tm(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=hx(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=hx(l)}catch{return r()}let d={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(cn(d.formMethod))return{path:e,submission:d};let f=Oi(e);return t&&f.search&&tg(f.search)&&l.append("index",""),f.search=`?${l}`,{path:ti(f),submission:d}}function ox(t,e,n,r,i,s,o,l,u,d,f,p,g,y,w,v,_,C,E,k,R){let P=k?Zn(k[1])?k[1].error:k[1].data:void 0,N=i.createURL(s.location),T=i.createURL(u),A;if(f&&s.errors){let Y=Object.keys(s.errors)[0];A=o.findIndex(re=>re.route.id===Y)}else if(k&&Zn(k[1])){let Y=k[0];A=o.findIndex(re=>re.route.id===Y)-1}let O=k?k[1].statusCode:void 0,$=O&&O>=400,W={currentUrl:N,currentParams:s.matches[0]?.params||{},nextUrl:T,nextParams:o[0].params,...l,actionResult:P,actionStatus:O},Z=xc(o),K=o.map((Y,re)=>{let{route:L}=Y,z=null;if(A!=null&&re>A?z=!1:L.lazy?z=!0:Zm(L)?f?z=Zp(L,s.loaderData,s.errors):vE(s.loaderData,s.matches[re],Y)&&(z=!0):z=!1,z!==null)return em(n,r,t,Z,Y,d,e,z);let X=!1;typeof R=="boolean"?X=R:$?X=!1:(p||N.pathname+N.search===T.pathname+T.search||N.search!==T.search||xE(s.matches[re],Y))&&(X=!0);let q={...W,defaultShouldRevalidate:X},F=Nl(Y,q);return em(n,r,t,Z,Y,d,e,F,q,R)}),Q=[];return w.forEach((Y,re)=>{if(f||!o.some(ie=>ie.route.id===Y.routeId)||y.has(re))return;let L=s.fetchers.get(re),z=L&&L.state!=="idle"&&L.data===void 0,X=as(_,Y.path,C);if(!X){if(E&&z)return;Q.push({key:re,routeId:Y.routeId,path:Y.path,matches:null,match:null,request:null,controller:null});return}if(v.has(re))return;let q=ad(X,Y.path),F=new AbortController,G=na(i,Y.path,F.signal),oe=null;if(g.has(re))g.delete(re),oe=ua(n,r,G,X,q,d,e);else if(z)p&&(oe=ua(n,r,G,X,q,d,e));else{let ie;typeof R=="boolean"?ie=R:$?ie=!1:ie=p;let ue={...W,defaultShouldRevalidate:ie};Nl(q,ue)&&(oe=ua(n,r,G,X,q,d,e,ue))}oe&&Q.push({key:re,routeId:Y.routeId,path:Y.path,matches:oe,match:q,request:G,controller:F})}),{dsMatches:K,revalidatingFetchers:Q}}function Zm(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Zp(t,e,n){if(t.lazy)return!0;if(!Zm(t))return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function vE(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function xE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Nl(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function ax(t,e,n,r,i,s){let o;if(t){let d=r[t];Ue(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let l=[],u=[];if(e.forEach(d=>{let f=o.find(p=>v_(d,p));f?u.push({existingRoute:f,newRoute:d}):l.push(d)}),l.length>0){let d=Kl(l,i,[t||"_","patch",String(o?.length||"0")],r);o.push(...d)}if(s&&u.length>0)for(let d=0;d<u.length;d++){let{existingRoute:f,newRoute:p}=u[d],g=f,[y]=Kl([p],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function v_(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>v_(n,i))):!1}var lx=new WeakMap,x_=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Ue(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[t];if(!s)return;let o=lx.get(i);o||(o={},lx.set(i,o));let l=o[t];if(l)return l;let u=(async()=>{let d=OT(t),p=i[t]!==void 0&&t!=="hasErrorBoundary";if(d)Pt(!d,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),o[t]=Promise.resolve();else if(p)Pt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[t]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[t]=u,u},cx=new WeakMap;function bE(t,e,n,r,i){let s=n[t.id];if(Ue(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let f=cx.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Ue(typeof t.lazy=="function","No lazy route function found");let g=await t.lazy(),y={};for(let w in g){let v=g[w];if(v===void 0)continue;let _=IT(w),E=s[w]!==void 0&&w!=="hasErrorBoundary";_?Pt(!_,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):E?Pt(!E,`Route "${s.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=v}Object.assign(s,y),Object.assign(s,{...r(s),lazy:void 0})})();return cx.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(t.lazy),l=[],u;for(let f of o){if(i&&i.includes(f))continue;let p=x_({key:f,route:t,manifest:n,mapRouteProperties:r});p&&(l.push(p),f===e&&(u=p))}let d=l.length>0?Promise.all(l).then(()=>{}):void 0;return d?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:u}}async function ux(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{n[e[s].route.id]=i}),n}async function wE(t){return t.matches.some(e=>e.route.middleware)?b_(t,()=>ux(t)):ux(t)}function b_(t,e){return _E(t,e,r=>{if(jE(r))throw r;return r},RE,n);function n(r,i,s){if(s)return Promise.resolve(Object.assign(s.value,{[i]:{type:"error",result:r}}));{let{matches:o}=t,l=Math.min(Math.max(o.findIndex(d=>d.route.id===i),0),Math.max(o.findIndex(d=>d.shouldCallHandler()),0)),u=ls(o,o[l].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function _E(t,e,n,r,i){let{matches:s,request:o,params:l,context:u,unstable_pattern:d}=t,f=s.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await w_({request:o,params:l,context:u,unstable_pattern:d},f,e,n,r,i)}async function w_(t,e,n,r,i,s,o=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let u=e[o];if(!u)return await n();let[d,f]=u,p,g=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await w_(t,e,n,r,i,s,o+1)},p.value}catch(y){return p={value:await s(y,d,p)},p.value}};try{let y=await f(t,g),w=y!=null?r(y):void 0;return i(w)?w:p?w??p.value:(p={value:await g()},p.value)}catch(y){return await s(y,d,p)}}function __(t,e,n,r,i){let s=x_({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),o=bE(r.route,cn(n.method)?"action":"loader",e,t,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function em(t,e,n,r,i,s,o,l,u=null,d){let f=!1,p=__(t,e,n,i,s);return{...i,_lazyPromises:p,shouldLoad:l,shouldRevalidateArgs:u,shouldCallHandler(g){return f=!0,u?typeof d=="boolean"?Nl(i,{...u,defaultShouldRevalidate:d}):typeof g=="boolean"?Nl(i,{...u,defaultShouldRevalidate:g}):Nl(i,u):l},resolve(g){let{lazy:y,loader:w,middleware:v}=i.route,_=f||l||g&&!cn(n.method)&&(y||w),C=v&&v.length>0&&!w&&!y;return _&&(cn(n.method)||!C)?CE({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function ua(t,e,n,r,i,s,o,l=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:__(t,e,n,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:em(t,e,n,xc(r),u,s,o,!0,l))}async function SE(t,e,n,r,i,s){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let o={request:e,unstable_pattern:xc(n),params:n[0].params,context:i,matches:n},u=await t({...o,fetcherKey:r,runClientMiddleware:d=>{let f=o;return b_(f,()=>d({...f,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return u}async function CE({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:s,scopedContext:o}){let l,u,d=cn(t.method),f=d?"action":"loader",p=g=>{let y,w=new Promise((C,E)=>y=E);u=()=>y(),t.signal.addEventListener("abort",u);let v=C=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):g({request:t,unstable_pattern:e,params:n.params,context:o},...C!==void 0?[C]:[]),_=(async()=>{try{return{type:"data",result:await(s?s(E=>v(E)):v())}}catch(C){return{type:"error",result:C}}})();return Promise.race([_,w])};try{let g=d?n.route.action:n.route.loader;if(r||i)if(g){let y,[w]=await Promise.all([p(g).catch(v=>{y=v}),r,i]);if(y!==void 0)throw y;l=w}else{await r;let y=d?n.route.action:n.route.loader;if(y)[l]=await Promise.all([p(y),i]);else if(f==="action"){let w=new URL(t.url),v=w.pathname+w.search;throw vr(405,{method:t.method,pathname:v,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)l=await p(g);else{let y=new URL(t.url),w=y.pathname+y.search;throw vr(404,{pathname:w})}}catch(g){return{type:"error",result:g}}finally{u&&t.signal.removeEventListener("abort",u)}return l}async function kE(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function ME(t){let{result:e,type:n}=t;if(eg(e)){let r;try{r=await kE(e)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new vc(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?gx(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:DE(e),statusCode:Ql(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ql(e)?e.status:void 0}:gx(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function TE(t,e,n,r,i){let s=t.headers.get("Location");if(Ue(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!qd(s)){let o=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=Jp(new URL(e.url),o,i,s),t.headers.set("Location",s)}return t}function dx(t,e,n,r){let i=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(qd(t)){let s=t,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s);if(i.includes(o.protocol))throw new Error("Invalid redirect location");let l=Sr(o.pathname,n)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}try{let s=r.createURL(t);if(i.includes(s.protocol))throw new Error("Invalid redirect location")}catch{}return t}function na(t,e,n,r){let i=t.createURL(S_(e)).toString(),s={signal:n};if(r&&cn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=tm(r.formData):s.body=r.formData}return new Request(i,s)}function tm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function hx(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function EE(t,e,n,r=!1,i=!1){let s={},o=null,l,u=!1,d={},f=n&&Zn(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let g=p.route.id,y=e[g];if(Ue(!co(y),"Cannot handle redirect results in processLoaderData"),Zn(y)){let w=y.error;if(f!==void 0&&(w=f,f=void 0),o=o||{},i)o[g]=w;else{let v=ls(t,g);o[v.route.id]==null&&(o[v.route.id]=w)}r||(s[g]=y_),u||(u=!0,l=Ql(y.error)?y.error.status:500),y.headers&&(d[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(l=y.statusCode),y.headers&&(d[g]=y.headers)}),f!==void 0&&n&&(o={[n[0]]:f},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:d}}function fx(t,e,n,r,i,s){let{loaderData:o,errors:l}=EE(e,n,r);return i.filter(u=>!u.matches||u.matches.some(d=>d.shouldLoad)).forEach(u=>{let{key:d,match:f,controller:p}=u;if(p&&p.signal.aborted)return;let g=s[d];if(Ue(g,"Did not find corresponding fetcher result"),Zn(g)){let y=ls(t.matches,f?.route.id);l&&l[y.route.id]||(l={...l,[y.route.id]:g.error}),t.fetchers.delete(d)}else if(co(g))Ue(!1,"Unhandled fetcher revalidation redirect");else{let y=Si(g.data);t.fetchers.set(d,y)}}),{loaderData:o,errors:l}}function px(t,e,n,r){let i=Object.entries(e).filter(([,s])=>s!==y_).reduce((s,[o,l])=>(s[o]=l,s),{});for(let s of n){let o=s.route.id;if(!e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function mx(t){return t?Zn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ls(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Nu(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vr(t,{pathname:e,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",r&&e&&n?l=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l=`Route "${n}" does not match URL "${e}"`):t===404?(o="Not Found",l=`No route matches URL "${e}"`):t===405&&(o="Method Not Allowed",r&&e&&n?l=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new vc(t||500,o,new Error(l),!0)}function Lu(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(co(i))return{key:r,result:i}}}function S_(t){let e=typeof t=="string"?Oi(t):t;return ti({...e,hash:""})}function PE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function DE(t){return new vc(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function RE(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&AE(n))}function AE(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function NE(t){return eg(t.result)&&m_.has(t.result.status)}function Zn(t){return t.type==="error"}function co(t){return(t&&t.type)==="redirect"}function gx(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function eg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function LE(t){return m_.has(t)}function jE(t){return eg(t)&&LE(t.status)&&t.headers.has("Location")}function OE(t){return hE.has(t.toUpperCase())}function cn(t){return uE.has(t.toUpperCase())}function tg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ad(t,e){let n=typeof e=="string"?Oi(e).search:e.search;if(t[t.length-1].route.index&&tg(n||""))return t[t.length-1];let r=u_(t);return r[r.length-1]}function yx(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function rp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function fl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Si(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function zE(t,e){try{let n=t.sessionStorage.getItem(g_);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function BE(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(g_,JSON.stringify(n))}catch(r){Pt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function vx(){let t,e,n=new Promise((r,i)=>{t=async s=>{r(s);try{await n}catch{}},e=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Mo=M.createContext(null);Mo.displayName="DataRouter";var bc=M.createContext(null);bc.displayName="DataRouterState";var C_=M.createContext(!1);function VE(){return M.useContext(C_)}var ng=M.createContext({isTransitioning:!1});ng.displayName="ViewTransition";var k_=M.createContext(new Map);k_.displayName="Fetchers";var UE=M.createContext(null);UE.displayName="Await";var Cr=M.createContext(null);Cr.displayName="Navigation";var Xd=M.createContext(null);Xd.displayName="Location";var si=M.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var rg=M.createContext(null);rg.displayName="RouteError";var M_="REACT_ROUTER_ERROR",$E="REDIRECT",WE="ROUTE_ERROR_RESPONSE";function HE(t){if(t.startsWith(`${M_}:${$E}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function GE(t){if(t.startsWith(`${M_}:${WE}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new vc(e.status,e.statusText,e.data)}catch{}}function YE(t,{relative:e}={}){Ue(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Cr),{hash:i,pathname:s,search:o}=_c(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Jr([n,s])),r.createHref({pathname:l,search:o,hash:i})}function wc(){return M.useContext(Xd)!=null}function Es(){return Ue(wc(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Xd).location}var T_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E_(t){M.useContext(Cr).static||M.useLayoutEffect(t)}function P_(){let{isDataRoute:t}=M.useContext(si);return t?lP():qE()}function qE(){Ue(wc(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(Mo),{basename:e,navigator:n}=M.useContext(Cr),{matches:r}=M.useContext(si),{pathname:i}=Es(),s=JSON.stringify(Qm(r)),o=M.useRef(!1);return E_(()=>{o.current=!0}),M.useCallback((u,d={})=>{if(Pt(o.current,T_),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Jm(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Jr([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,s,i,t])}var XE=M.createContext(null);function KE(t){let e=M.useContext(si).outlet;return M.useMemo(()=>e&&M.createElement(XE.Provider,{value:t},e),[e,t])}function _c(t,{relative:e}={}){let{matches:n}=M.useContext(si),{pathname:r}=Es(),i=JSON.stringify(Qm(n));return M.useMemo(()=>Jm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function QE(t,e,n,r,i){Ue(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(Cr),{matches:o}=M.useContext(si),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let E=p&&p.path||"";R_(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Es(),y;y=g;let w=y.pathname||"/",v=w;if(f!=="/"){let E=f.replace(/^\//,"").split("/");v="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=as(t,{pathname:v});return Pt(p||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Pt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nP(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Jr([f,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Jr([f,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,i)}function JE(){let t=aP(),e=Ql(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,o)}var ZE=M.createElement(JE,null),D_=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=GE(t.digest);n&&(t=n)}let e=t!==void 0?M.createElement(si.Provider,{value:this.props.routeContext},M.createElement(rg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?M.createElement(eP,{error:t},e):e}};D_.contextType=C_;var ip=new WeakMap;function eP({children:t,error:e}){let{basename:n}=M.useContext(Cr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=HE(e.digest);if(r){let i=ip.get(e);if(i)throw i;let s=h_(r.location,n);if(d_&&!ip.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw ip.set(e,o),o}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function tP({routeContext:t,match:e,children:n}){let r=M.useContext(Mo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(si.Provider,{value:t},n)}function nP(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Ue(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:y}=n,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||w){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let d=n&&r?(f,p)=>{r(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:xc(n.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,g)=>{let y,w=!1,v=null,_=null;n&&(y=o&&p.route.id?o[p.route.id]:void 0,v=p.route.errorElement||ZE,l&&(u<0&&g===0?(R_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):u===g&&(w=!0,_=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,g+1)),E=()=>{let k;return y?k=v:w?k=_:p.route.Component?k=M.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=f,M.createElement(tP,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:k})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?M.createElement(D_,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:d}):E()},null)}function ig(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rP(t){let e=M.useContext(Mo);return Ue(e,ig(t)),e}function iP(t){let e=M.useContext(bc);return Ue(e,ig(t)),e}function sP(t){let e=M.useContext(si);return Ue(e,ig(t)),e}function sg(t){let e=sP(t),n=e.matches[e.matches.length-1];return Ue(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oP(){return sg("useRouteId")}function aP(){let t=M.useContext(rg),e=iP("useRouteError"),n=sg("useRouteError");return t!==void 0?t:e.errors?.[n]}function lP(){let{router:t}=rP("useNavigate"),e=sg("useNavigate"),n=M.useRef(!1);return E_(()=>{n.current=!0}),M.useCallback(async(i,s={})=>{Pt(n.current,T_),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var xx={};function R_(t,e,n){!e&&!xx[t]&&(xx[t]=!0,Pt(!1,n))}var bx={};function wx(t,e){!t&&!bx[e]&&(bx[e]=!0,console.warn(e))}var cP="useOptimistic",_x=ST[cP],uP=()=>{};function dP(t){return _x?_x(t):[t,uP]}function hP(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Pt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Pt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Pt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var fP=["HydrateFallback","hydrateFallbackElement"],pP=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function mP({router:t,flushSync:e,onError:n,unstable_useTransitions:r}){r=VE()||r;let[s,o]=M.useState(t.state),[l,u]=dP(s),[d,f]=M.useState(),[p,g]=M.useState({isTransitioning:!1}),[y,w]=M.useState(),[v,_]=M.useState(),[C,E]=M.useState(),k=M.useRef(new Map),R=M.useCallback((A,{deletedFetchers:O,newErrors:$,flushSync:W,viewTransitionOpts:Z})=>{$&&n&&Object.values($).forEach(Q=>n(Q,{location:A.location,params:A.matches[0]?.params??{},unstable_pattern:xc(A.matches)})),A.fetchers.forEach((Q,Y)=>{Q.data!==void 0&&k.current.set(Y,Q.data)}),O.forEach(Q=>k.current.delete(Q)),wx(W===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let K=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(wx(Z==null||K,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Z||!K){e&&W?e(()=>o(A)):r===!1?o(A):M.startTransition(()=>{r===!0&&u(Q=>Sx(Q,A)),o(A)});return}if(e&&W){e(()=>{v&&(y?.resolve(),v.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})});let Q=t.window.document.startViewTransition(()=>{e(()=>o(A))});Q.finished.finally(()=>{e(()=>{w(void 0),_(void 0),f(void 0),g({isTransitioning:!1})})}),e(()=>_(Q));return}v?(y?.resolve(),v.skipTransition(),E({state:A,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})):(f(A),g({isTransitioning:!0,flushSync:!1,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}))},[t.window,e,v,y,r,u,n]);M.useLayoutEffect(()=>t.subscribe(R),[t,R]),M.useEffect(()=>{p.isTransitioning&&!p.flushSync&&w(new pP)},[p]),M.useEffect(()=>{if(y&&d&&t.window){let A=d,O=y.promise,$=t.window.document.startViewTransition(async()=>{r===!1?o(A):M.startTransition(()=>{r===!0&&u(W=>Sx(W,A)),o(A)}),await O});$.finished.finally(()=>{w(void 0),_(void 0),f(void 0),g({isTransitioning:!1})}),_($)}},[d,y,t.window,r,u]),M.useEffect(()=>{y&&d&&l.location.key===d.location.key&&y.resolve()},[y,v,l.location,d]),M.useEffect(()=>{!p.isTransitioning&&C&&(f(C.state),g({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),E(void 0))},[p.isTransitioning,C]);let P=M.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,O,$)=>t.navigate(A,{state:O,preventScrollReset:$?.preventScrollReset}),replace:(A,O,$)=>t.navigate(A,{replace:!0,state:O,preventScrollReset:$?.preventScrollReset})}),[t]),N=t.basename||"/",T=M.useMemo(()=>({router:t,navigator:P,static:!1,basename:N,onError:n}),[t,P,N,n]);return M.createElement(M.Fragment,null,M.createElement(Mo.Provider,{value:T},M.createElement(bc.Provider,{value:l},M.createElement(k_.Provider,{value:k.current},M.createElement(ng.Provider,{value:p},M.createElement(xP,{basename:N,location:l.location,navigationType:l.historyAction,navigator:P,unstable_useTransitions:r},M.createElement(gP,{routes:t.routes,future:t.future,state:l,onError:n})))))),null)}function Sx(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var gP=M.memo(yP);function yP({routes:t,future:e,state:n,onError:r}){return QE(t,void 0,n,r,e)}function vP(t){return KE(t.context)}function xP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Ue(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[l,i,s,o]);typeof n=="string"&&(n=Oi(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:y="default"}=n,w=M.useMemo(()=>{let v=Sr(d,l);return v==null?null:{location:{pathname:v,search:f,hash:p,state:g,key:y},navigationType:r}},[l,d,f,p,g,y,r]);return Pt(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(Cr.Provider,{value:u},M.createElement(Xd.Provider,{children:e,value:w}))}var ld="get",cd="application/x-www-form-urlencoded";function Kd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function bP(t){return Kd(t)&&t.tagName.toLowerCase()==="button"}function wP(t){return Kd(t)&&t.tagName.toLowerCase()==="form"}function _P(t){return Kd(t)&&t.tagName.toLowerCase()==="input"}function SP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CP(t,e){return t.button===0&&(!e||e==="_self")&&!SP(t)}var ju=null;function kP(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var MP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sp(t){return t!=null&&!MP.has(t)?(Pt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cd}"`),null):t}function TP(t,e){let n,r,i,s,o;if(wP(t)){let l=t.getAttribute("action");r=l?Sr(l,e):null,n=t.getAttribute("method")||ld,i=sp(t.getAttribute("enctype"))||cd,s=new FormData(t)}else if(bP(t)||_P(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Sr(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||ld,i=sp(t.getAttribute("formenctype"))||sp(l.getAttribute("enctype"))||cd,s=new FormData(l,t),!kP()){let{name:d,type:f,value:p}=t;if(f==="image"){let g=d?`${d}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else d&&s.append(d,p)}}else{if(Kd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ld,r=null,i=cd,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function og(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EP(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Sr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function PP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RP(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await PP(s,n);return o.links?o.links():[]}return[]}));return jP(r.flat(1).filter(DP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Cx(t,e,n,r,i,s){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>o(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function AP(t,e,{includeHydrateFallback:n}={}){return NP(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function NP(t){return[...new Set(t)]}function LP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function jP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(LP(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function A_(){let t=M.useContext(Mo);return og(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OP(){let t=M.useContext(bc);return og(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ag=M.createContext(void 0);ag.displayName="FrameworkContext";function N_(){let t=M.useContext(ag);return og(t,"You must render this element inside a <HydratedRouter> element"),t}function FP(t,e){let n=M.useContext(ag),[r,i]=M.useState(!1),[s,o]=M.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,g=M.useRef(null);M.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=C=>{C.forEach(E=>{o(E.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[t]),M.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:pl(l,y),onBlur:pl(u,w),onMouseEnter:pl(d,y),onMouseLeave:pl(f,w),onTouchStart:pl(p,y)}]:[!1,g,{}]}function pl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IP({page:t,...e}){let{router:n}=A_(),r=M.useMemo(()=>as(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(BP,{page:t,matches:r,...e}):null}function zP(t){let{manifest:e,routeModules:n}=N_(),[r,i]=M.useState([]);return M.useEffect(()=>{let s=!1;return RP(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function BP({page:t,matches:e,...n}){let r=Es(),{future:i,manifest:s,routeModules:o}=N_(),{basename:l}=A_(),{loaderData:u,matches:d}=OP(),f=M.useMemo(()=>Cx(t,e,d,s,r,"data"),[t,e,d,s,r]),p=M.useMemo(()=>Cx(t,e,d,s,r,"assets"),[t,e,d,s,r]),g=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,_=!1;if(e.forEach(E=>{let k=s.routes[E.route.id];!k||!k.hasLoader||(!f.some(R=>R.route.id===E.route.id)&&E.route.id in u&&o[E.route.id]?.shouldRevalidate||k.hasClientLoader?_=!0:v.add(E.route.id))}),v.size===0)return[];let C=EP(t,l,i.unstable_trailingSlashAwareDataRequests,"data");return _&&v.size>0&&C.searchParams.set("_routes",e.filter(E=>v.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[l,i.unstable_trailingSlashAwareDataRequests,u,r,s,f,e,t,o]),y=M.useMemo(()=>AP(p,s),[p,s]),w=zP(p);return M.createElement(M.Fragment,null,g.map(v=>M.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),y.map(v=>M.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),w.map(({key:v,link:_})=>M.createElement("link",{key:v,nonce:n.nonce,..._})))}function VP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UP&&(window.__reactRouterVersion="7.12.0")}catch{}function $P(t,e){return gE({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:AT({window:e?.window}),hydrationData:WP(),routes:t,mapRouteProperties:hP,hydrationRouteProperties:fP,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function WP(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:HP(t.errors)}),t}function HP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new vc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var L_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,da=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},w){let{basename:v,unstable_useTransitions:_}=M.useContext(Cr),C=typeof d=="string"&&L_.test(d),E=h_(d,v);d=E.to;let k=YE(d,{relative:i}),[R,P,N]=FP(r,y),T=XP(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:_});function A($){e&&e($),$.defaultPrevented||T($)}let O=M.createElement("a",{...y,...N,href:E.absoluteURL||k,onClick:E.isExternal||s?e:A,ref:VP(w,P),target:u,"data-discover":!C&&n==="render"?"true":void 0});return R&&!C?M.createElement(M.Fragment,null,O,M.createElement(IP,{page:k})):O});da.displayName="Link";var GP=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:u,...d},f){let p=_c(o,{relative:d.relative}),g=Es(),y=M.useContext(bc),{navigator:w,basename:v}=M.useContext(Cr),_=y!=null&&eD(p)&&l===!0,C=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,E=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(E=E.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&v&&(k=Sr(k,v)||k);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let P=E===C||!i&&E.startsWith(C)&&E.charAt(R)==="/",N=k!=null&&(k===C||!i&&k.startsWith(C)&&k.charAt(C.length)==="/"),T={isActive:P,isPending:N,isTransitioning:_},A=P?e:void 0,O;typeof r=="function"?O=r(T):O=[r,P?"active":null,N?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(T):s;return M.createElement(da,{...d,"aria-current":A,className:O,ref:f,style:$,to:o,viewTransition:l},typeof u=="function"?u(T):u)});GP.displayName="NavLink";var YP=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=ld,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...y},w)=>{let{unstable_useTransitions:v}=M.useContext(Cr),_=JP(),C=ZP(l,{relative:d}),E=o.toLowerCase()==="get"?"get":"post",k=typeof l=="string"&&L_.test(l),R=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let N=P.nativeEvent.submitter,T=N?.getAttribute("formmethod")||o,A=()=>_(N||P.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:i,state:s,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});v&&n!==!1?M.startTransition(()=>A()):A()};return M.createElement("form",{ref:w,method:E,action:C,onSubmit:r?u:R,...y,"data-discover":!k&&t==="render"?"true":void 0})});YP.displayName="Form";function qP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j_(t){let e=M.useContext(Mo);return Ue(e,qP(t)),e}function XP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let d=P_(),f=Es(),p=_c(t,{relative:s});return M.useCallback(g=>{if(CP(g,e)){g.preventDefault();let y=n!==void 0?n:ti(f)===ti(p),w=()=>d(t,{replace:y,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l});u?M.startTransition(()=>w()):w()}},[f,d,p,n,r,e,t,i,s,o,l,u])}var KP=0,QP=()=>`__${String(++KP)}__`;function JP(){let{router:t}=j_("useSubmit"),{basename:e}=M.useContext(Cr),n=oP(),r=t.fetch,i=t.navigate;return M.useCallback(async(s,o={})=>{let{action:l,method:u,encType:d,formData:f,body:p}=TP(s,e);if(o.navigate===!1){let g=o.fetcherKey||QP();await r(g,n,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await i(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function ZP(t,{relative:e}={}){let{basename:n}=M.useContext(Cr),r=M.useContext(si);Ue(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={..._c(t||".",{relative:e})},o=Es();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Jr([n,s.pathname])),ti(s)}function eD(t,{relative:e}={}){let n=M.useContext(ng);Ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=j_("useViewTransitionState"),i=_c(t,{relative:e});if(!n.isTransitioning)return!1;let s=Sr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Sr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wd(i.pathname,o)!=null||wd(i.pathname,s)!=null}var tD=i_();function nD(t){return M.createElement(mP,{flushSync:tD.flushSync,...t})}function O_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=O_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function rD(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=O_(t))&&(r&&(r+=" "),r+=e);return r}function Ll(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function nm(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function iD(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function kx(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Mx(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function sD(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function oD(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function op(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function aD(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function lD(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function Tx(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function cD(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function uD(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function rm(t,e){let n=e[0],r=e[1],i=e[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function F_(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ex(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[0],l=n[1],u=n[2];return t[0]=i*u-s*l,t[1]=s*o-r*u,t[2]=r*l-i*o,t}function dD(t,e,n,r){let i=e[0],s=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=o+r*(n[2]-o),t}function hD(t,e,n,r,i){const s=Math.exp(-r*i);let o=e[0],l=e[1],u=e[2];return t[0]=n[0]+(o-n[0])*s,t[1]=n[1]+(l-n[1])*s,t[2]=n[2]+(u-n[2])*s,t}function fD(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*s+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*s+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*s+n[14])/o,t}function pD(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*s)/o,t[1]=(n[1]*r+n[5]*i+n[9]*s)/o,t[2]=(n[2]*r+n[6]*i+n[10]*s)/o,t}function mD(t,e,n){let r=e[0],i=e[1],s=e[2];return t[0]=r*n[0]+i*n[3]+s*n[6],t[1]=r*n[1]+i*n[4]+s*n[7],t[2]=r*n[2]+i*n[5]+s*n[8],t}function gD(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[0],l=n[1],u=n[2],d=n[3],f=l*s-u*i,p=u*r-o*s,g=o*i-l*r,y=l*g-u*p,w=u*f-o*g,v=o*p-l*f,_=d*2;return f*=_,p*=_,g*=_,y*=2,w*=2,v*=2,t[0]=r+f+y,t[1]=i+p+w,t[2]=s+g+v,t}const yD=(function(){const t=[0,0,0],e=[0,0,0];return function(n,r){nm(t,n),nm(e,r),rm(t,t),rm(e,e);let i=F_(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function vD(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Or extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(iD(this,e,n,r),this)}copy(e){return nm(this,e),this}add(e,n){return n?kx(this,e,n):kx(this,this,e),this}sub(e,n){return n?Mx(this,e,n):Mx(this,this,e),this}multiply(e){return e.length?sD(this,this,e):op(this,this,e),this}divide(e){return e.length?oD(this,this,e):op(this,this,1/e),this}inverse(e=this){return uD(this,e),this}len(){return Ll(this)}distance(e){return e?aD(this,e):Ll(this)}squaredLen(){return Tx(this)}squaredDistance(e){return e?lD(this,e):Tx(this)}negate(e=this){return cD(this,e),this}cross(e,n){return n?Ex(this,e,n):Ex(this,this,e),this}scale(e){return op(this,this,e),this}normalize(){return rm(this,this),this}dot(e){return F_(this,e)}equals(e){return vD(this,e)}applyMatrix3(e){return mD(this,this,e),this}applyMatrix4(e){return fD(this,this,e),this}scaleRotateMatrix4(e){return pD(this,this,e),this}applyQuaternion(e){return gD(this,this,e),this}angle(e){return yD(this,e)}lerp(e,n){return dD(this,this,e,n),this}smoothLerp(e,n,r){return hD(this,this,e,n,r),this}clone(){return new Or(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],i=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*i,this[1]=e[1]*n+e[5]*r+e[9]*i,this[2]=e[2]*n+e[6]*r+e[10]*i,this.normalize()}}const Px=new Or;let xD=1,bD=1,Dx=!1;class wD{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=xD++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=bD++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const s=this.attributes[r];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let o=1;i===35674&&(o=2),i===35675&&(o=3),i===35676&&(o=4);const l=s.size/o,u=o===1?0:o*o*4,d=o===1?0:o*4;for(let f=0;f<o;f++)this.gl.vertexAttribPointer(n+f,l,s.type,s.normalized,s.stride+u,s.offset+f*d),this.gl.enableVertexAttribArray(n+f),this.gl.renderer.vertexAttribDivisor(n+f,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((i,{name:s})=>{const o=this.attributes[s];o.needsUpdate&&this.updateAttribute(o)});let r=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!Dx)return console.warn("No position buffer data found to compute bounds"),Dx=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new Or,max:new Or,center:new Or,scale:new Or,radius:1/0});const i=this.bounds.min,s=this.bounds.max,o=this.bounds.center,l=this.bounds.scale;i.set(1/0),s.set(-1/0);for(let u=0,d=n.length;u<d;u+=r){const f=n[u],p=n[u+1],g=n[u+2];i.x=Math.min(f,i.x),i.y=Math.min(p,i.y),i.z=Math.min(g,i.z),s.x=Math.max(f,s.x),s.y=Math.max(p,s.y),s.z=Math.max(g,s.z)}l.sub(s,i),o.add(i,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let s=0,o=n.length;s<o;s+=r)Px.fromArray(n,s),i=Math.max(i,this.bounds.center.squaredDistance(Px));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let _D=1;const Rx={};class SD{constructor(e,{vertex:n,fragment:r,uniforms:i={},transparent:s=!1,cullFace:o=e.BACK,frontFace:l=e.CCW,depthTest:u=!0,depthWrite:d=!0,depthFunc:f=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=_D++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=o,this.frontFace=l,this.depthTest=u,this.depthWrite=d,this.depthFunc=f,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Ax(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Ax(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){let l=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(l,this.gl.getUniformLocation(this.program,l.name));const u=l.name.match(/(\w+)/g);l.uniformName=u[0],l.nameComponents=u.slice(1)}this.attributeLocations=new Map;const i=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const l=this.gl.getActiveAttrib(this.program,o),u=this.gl.getAttribLocation(this.program,l.name);u!==-1&&(i[u]=l.name,this.attributeLocations.set(l,u))}this.attributeOrder=i.join("")}setBlendFunc(e,n,r,i){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,s)=>{let o=this.uniforms[s.uniformName];for(const l of s.nameComponents){if(!o)break;if(l in o)o=o[l];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return Nx(`Active uniform ${s.name} has not been supplied`);if(o&&o.value===void 0)return Nx(`${s.name} uniform is missing a value parameter`);if(o.value.texture)return n=n+1,o.value.update(n),ap(this.gl,s.type,i,n);if(o.value.length&&o.value[0].texture){const l=[];return o.value.forEach(u=>{n=n+1,u.update(n),l.push(n)}),ap(this.gl,s.type,i,l)}ap(this.gl,s.type,i,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function ap(t,e,n,r){r=r.length?CD(r):r;const i=t.renderer.state.uniformLocations.get(n);if(r.length)if(i===void 0||i.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(kD(i,r))return;i.set?i.set(r):MD(i,r),t.renderer.state.uniformLocations.set(n,i)}else{if(i===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function Ax(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function CD(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let i=Rx[r];i||(Rx[r]=i=new Float32Array(r));for(let s=0;s<e;s++)i.set(t[s],s*n);return i}function kD(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function MD(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let lp=0;function Nx(t){lp>100||(console.warn(t),lp++,lp>100&&console.warn("More than 100 program warnings - stopping logs."))}const cp=new Or;let TD=1;class ED{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:i=1,alpha:s=!1,depth:o=!0,stencil:l=!1,antialias:u=!1,premultipliedAlpha:d=!1,preserveDrawingBuffer:f=!1,powerPreference:p="default",autoClear:g=!0,webgl:y=2}={}){const w={alpha:s,depth:o,stencil:l,antialias:u,premultipliedAlpha:d,preserveDrawingBuffer:f,powerPreference:p};this.dpr=i,this.alpha=s,this.color=!0,this.depth=o,this.stencil=l,this.premultipliedAlpha=d,this.autoClear=g,this.id=TD++,y===2&&(this.gl=e.getContext("webgl2",w)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",w)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,n))}setScissor(e,n,r=0,i=0){this.gl.scissor(r,i,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,n,r,i):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:i}){let s=[];if(n&&r&&n.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(r&&o.frustumCulled&&n&&!n.frustumIntersectsMesh(o)||s.push(o))}),i){const o=[],l=[],u=[];s.forEach(d=>{d.program.transparent?d.program.depthTest?l.push(d):u.push(d):o.push(d),d.zDepth=0,!(d.renderOrder!==0||!d.program.depthTest||!n)&&(d.worldMatrix.getTranslation(cp),cp.applyMatrix4(n.projectionViewMatrix),d.zDepth=cp.z)}),o.sort(this.sortOpaque),l.sort(this.sortTransparent),u.sort(this.sortUI),s=o.concat(l,u)}return s}render({scene:e,camera:n,target:r=null,update:i=!0,sort:s=!0,frustumCull:o=!0,clear:l}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(l||this.autoClear&&l!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:o,sort:s}).forEach(d=>{d.draw({camera:n})})}}function PD(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function DD(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function RD(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=s*o,t}function AD(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ND(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function LD(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Lx(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=n[0],u=n[1],d=n[2],f=n[3];return t[0]=r*f+o*l+i*d-s*u,t[1]=i*f+o*u+s*l-r*d,t[2]=s*f+o*d+r*u-i*l,t[3]=o*f-r*l-i*u-s*d,t}function jD(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],l=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*l,t[1]=i*u+s*l,t[2]=s*u-i*l,t[3]=o*u-r*l,t}function OD(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],l=Math.sin(n),u=Math.cos(n);return t[0]=r*u-s*l,t[1]=i*u+o*l,t[2]=s*u+r*l,t[3]=o*u-i*l,t}function FD(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],l=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*l,t[1]=i*u-r*l,t[2]=s*u+o*l,t[3]=o*u-s*l,t}function ID(t,e,n,r){let i=e[0],s=e[1],o=e[2],l=e[3],u=n[0],d=n[1],f=n[2],p=n[3],g,y,w,v,_;return y=i*u+s*d+o*f+l*p,y<0&&(y=-y,u=-u,d=-d,f=-f,p=-p),1-y>1e-6?(g=Math.acos(y),w=Math.sin(g),v=Math.sin((1-r)*g)/w,_=Math.sin(r*g)/w):(v=1-r,_=r),t[0]=v*i+_*u,t[1]=v*s+_*d,t[2]=v*o+_*f,t[3]=v*l+_*p,t}function zD(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s,l=o?1/o:0;return t[0]=-n*l,t[1]=-r*l,t[2]=-i*l,t[3]=s*l,t}function BD(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function VD(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let s=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[s*3+o]-e[o*3+s])*r,t[s]=(e[s*3+i]+e[i*3+s])*r,t[o]=(e[o*3+i]+e[i*3+o])*r}return t}function UD(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),s=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),l=Math.sin(e[2]*.5),u=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*o*u+i*s*l,t[1]=i*s*u-r*o*l,t[2]=i*o*l+r*s*u,t[3]=i*o*u-r*s*l):n==="YXZ"?(t[0]=r*o*u+i*s*l,t[1]=i*s*u-r*o*l,t[2]=i*o*l-r*s*u,t[3]=i*o*u+r*s*l):n==="ZXY"?(t[0]=r*o*u-i*s*l,t[1]=i*s*u+r*o*l,t[2]=i*o*l+r*s*u,t[3]=i*o*u-r*s*l):n==="ZYX"?(t[0]=r*o*u-i*s*l,t[1]=i*s*u+r*o*l,t[2]=i*o*l-r*s*u,t[3]=i*o*u+r*s*l):n==="YZX"?(t[0]=r*o*u+i*s*l,t[1]=i*s*u+r*o*l,t[2]=i*o*l-r*s*u,t[3]=i*o*u-r*s*l):n==="XZY"&&(t[0]=r*o*u-i*s*l,t[1]=i*s*u-r*o*l,t[2]=i*o*l+r*s*u,t[3]=i*o*u+r*s*l),t}const $D=PD,WD=DD,HD=AD,GD=RD;class YD extends Array{constructor(e=0,n=0,r=0,i=1){super(e,n,r,i),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(o,l){const u=Reflect.set(...arguments);return u&&s.includes(l)&&o.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return ND(this._target),this.onChange(),this}set(e,n,r,i){return e.length?this.copy(e):(WD(this._target,e,n,r,i),this.onChange(),this)}rotateX(e){return jD(this._target,this._target,e),this.onChange(),this}rotateY(e){return OD(this._target,this._target,e),this.onChange(),this}rotateZ(e){return FD(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return zD(this._target,e),this.onChange(),this}conjugate(e=this._target){return BD(this._target,e),this.onChange(),this}copy(e){return $D(this._target,e),this.onChange(),this}normalize(e=this._target){return GD(this._target,e),this.onChange(),this}multiply(e,n){return n?Lx(this._target,e,n):Lx(this._target,this._target,e),this.onChange(),this}dot(e){return HD(this._target,e)}fromMatrix3(e){return VD(this._target,e),this.onChange(),this}fromEuler(e,n){return UD(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return LD(this._target,e,n),this.onChange(),this}slerp(e,n){return ID(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const qD=1e-6;function XD(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function KD(t,e,n,r,i,s,o,l,u,d,f,p,g,y,w,v,_){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=l,t[7]=u,t[8]=d,t[9]=f,t[10]=p,t[11]=g,t[12]=y,t[13]=w,t[14]=v,t[15]=_,t}function QD(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function JD(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],d=e[7],f=e[8],p=e[9],g=e[10],y=e[11],w=e[12],v=e[13],_=e[14],C=e[15],E=n*l-r*o,k=n*u-i*o,R=n*d-s*o,P=r*u-i*l,N=r*d-s*l,T=i*d-s*u,A=f*v-p*w,O=f*_-g*w,$=f*C-y*w,W=p*_-g*v,Z=p*C-y*v,K=g*C-y*_,Q=E*K-k*Z+R*W+P*$-N*O+T*A;return Q?(Q=1/Q,t[0]=(l*K-u*Z+d*W)*Q,t[1]=(i*Z-r*K-s*W)*Q,t[2]=(v*T-_*N+C*P)*Q,t[3]=(g*N-p*T-y*P)*Q,t[4]=(u*$-o*K-d*O)*Q,t[5]=(n*K-i*$+s*O)*Q,t[6]=(_*R-w*T-C*k)*Q,t[7]=(f*T-g*R+y*k)*Q,t[8]=(o*Z-l*$+d*A)*Q,t[9]=(r*$-n*Z-s*A)*Q,t[10]=(w*N-v*R+C*E)*Q,t[11]=(p*R-f*N-y*E)*Q,t[12]=(l*O-o*W-u*A)*Q,t[13]=(n*W-r*O+i*A)*Q,t[14]=(v*k-w*P-_*E)*Q,t[15]=(f*P-p*k+g*E)*Q,t):null}function I_(t){let e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],l=t[6],u=t[7],d=t[8],f=t[9],p=t[10],g=t[11],y=t[12],w=t[13],v=t[14],_=t[15],C=e*o-n*s,E=e*l-r*s,k=e*u-i*s,R=n*l-r*o,P=n*u-i*o,N=r*u-i*l,T=d*w-f*y,A=d*v-p*y,O=d*_-g*y,$=f*v-p*w,W=f*_-g*w,Z=p*_-g*v;return C*Z-E*W+k*$+R*O-P*A+N*T}function jx(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=e[9],y=e[10],w=e[11],v=e[12],_=e[13],C=e[14],E=e[15],k=n[0],R=n[1],P=n[2],N=n[3];return t[0]=k*r+R*l+P*p+N*v,t[1]=k*i+R*u+P*g+N*_,t[2]=k*s+R*d+P*y+N*C,t[3]=k*o+R*f+P*w+N*E,k=n[4],R=n[5],P=n[6],N=n[7],t[4]=k*r+R*l+P*p+N*v,t[5]=k*i+R*u+P*g+N*_,t[6]=k*s+R*d+P*y+N*C,t[7]=k*o+R*f+P*w+N*E,k=n[8],R=n[9],P=n[10],N=n[11],t[8]=k*r+R*l+P*p+N*v,t[9]=k*i+R*u+P*g+N*_,t[10]=k*s+R*d+P*y+N*C,t[11]=k*o+R*f+P*w+N*E,k=n[12],R=n[13],P=n[14],N=n[15],t[12]=k*r+R*l+P*p+N*v,t[13]=k*i+R*u+P*g+N*_,t[14]=k*s+R*d+P*y+N*C,t[15]=k*o+R*f+P*w+N*E,t}function ZD(t,e,n){let r=n[0],i=n[1],s=n[2],o,l,u,d,f,p,g,y,w,v,_,C;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*s+e[12],t[13]=e[1]*r+e[5]*i+e[9]*s+e[13],t[14]=e[2]*r+e[6]*i+e[10]*s+e[14],t[15]=e[3]*r+e[7]*i+e[11]*s+e[15]):(o=e[0],l=e[1],u=e[2],d=e[3],f=e[4],p=e[5],g=e[6],y=e[7],w=e[8],v=e[9],_=e[10],C=e[11],t[0]=o,t[1]=l,t[2]=u,t[3]=d,t[4]=f,t[5]=p,t[6]=g,t[7]=y,t[8]=w,t[9]=v,t[10]=_,t[11]=C,t[12]=o*r+f*i+w*s+e[12],t[13]=l*r+p*i+v*s+e[13],t[14]=u*r+g*i+_*s+e[14],t[15]=d*r+y*i+C*s+e[15]),t}function eR(t,e,n){let r=n[0],i=n[1],s=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function tR(t,e,n,r){let i=r[0],s=r[1],o=r[2],l=Math.hypot(i,s,o),u,d,f,p,g,y,w,v,_,C,E,k,R,P,N,T,A,O,$,W,Z,K,Q,Y;return Math.abs(l)<qD?null:(l=1/l,i*=l,s*=l,o*=l,u=Math.sin(n),d=Math.cos(n),f=1-d,p=e[0],g=e[1],y=e[2],w=e[3],v=e[4],_=e[5],C=e[6],E=e[7],k=e[8],R=e[9],P=e[10],N=e[11],T=i*i*f+d,A=s*i*f+o*u,O=o*i*f-s*u,$=i*s*f-o*u,W=s*s*f+d,Z=o*s*f+i*u,K=i*o*f+s*u,Q=s*o*f-i*u,Y=o*o*f+d,t[0]=p*T+v*A+k*O,t[1]=g*T+_*A+R*O,t[2]=y*T+C*A+P*O,t[3]=w*T+E*A+N*O,t[4]=p*$+v*W+k*Z,t[5]=g*$+_*W+R*Z,t[6]=y*$+C*W+P*Z,t[7]=w*$+E*W+N*Z,t[8]=p*K+v*Q+k*Y,t[9]=g*K+_*Q+R*Y,t[10]=y*K+C*Q+P*Y,t[11]=w*K+E*Q+N*Y,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function nR(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function z_(t,e){let n=e[0],r=e[1],i=e[2],s=e[4],o=e[5],l=e[6],u=e[8],d=e[9],f=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(s,o,l),t[2]=Math.hypot(u,d,f),t}function rR(t){let e=t[0],n=t[1],r=t[2],i=t[4],s=t[5],o=t[6],l=t[8],u=t[9],d=t[10];const f=e*e+n*n+r*r,p=i*i+s*s+o*o,g=l*l+u*u+d*d;return Math.sqrt(Math.max(f,p,g))}const B_=(function(){const t=[1,1,1];return function(e,n){let r=t;z_(r,n);let i=1/r[0],s=1/r[1],o=1/r[2],l=n[0]*i,u=n[1]*s,d=n[2]*o,f=n[4]*i,p=n[5]*s,g=n[6]*o,y=n[8]*i,w=n[9]*s,v=n[10]*o,_=l+p+v,C=0;return _>0?(C=Math.sqrt(_+1)*2,e[3]=.25*C,e[0]=(g-w)/C,e[1]=(y-d)/C,e[2]=(u-f)/C):l>p&&l>v?(C=Math.sqrt(1+l-p-v)*2,e[3]=(g-w)/C,e[0]=.25*C,e[1]=(u+f)/C,e[2]=(y+d)/C):p>v?(C=Math.sqrt(1+p-l-v)*2,e[3]=(y-d)/C,e[0]=(u+f)/C,e[1]=.25*C,e[2]=(g+w)/C):(C=Math.sqrt(1+v-l-p)*2,e[3]=(u-f)/C,e[0]=(y+d)/C,e[1]=(g+w)/C,e[2]=.25*C),e}})();function iR(t,e,n,r){let i=Ll([t[0],t[1],t[2]]);const s=Ll([t[4],t[5],t[6]]),o=Ll([t[8],t[9],t[10]]);I_(t)<0&&(i=-i),n[0]=t[12],n[1]=t[13],n[2]=t[14];const u=t.slice(),d=1/i,f=1/s,p=1/o;u[0]*=d,u[1]*=d,u[2]*=d,u[4]*=f,u[5]*=f,u[6]*=f,u[8]*=p,u[9]*=p,u[10]*=p,B_(e,u),r[0]=i,r[1]=s,r[2]=o}function sR(t,e,n,r){const i=t,s=e[0],o=e[1],l=e[2],u=e[3],d=s+s,f=o+o,p=l+l,g=s*d,y=s*f,w=s*p,v=o*f,_=o*p,C=l*p,E=u*d,k=u*f,R=u*p,P=r[0],N=r[1],T=r[2];return i[0]=(1-(v+C))*P,i[1]=(y+R)*P,i[2]=(w-k)*P,i[3]=0,i[4]=(y-R)*N,i[5]=(1-(g+C))*N,i[6]=(_+E)*N,i[7]=0,i[8]=(w+k)*T,i[9]=(_-E)*T,i[10]=(1-(g+v))*T,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function oR(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,l=r+r,u=i+i,d=n*o,f=r*o,p=r*l,g=i*o,y=i*l,w=i*u,v=s*o,_=s*l,C=s*u;return t[0]=1-p-w,t[1]=f+C,t[2]=g-_,t[3]=0,t[4]=f-C,t[5]=1-d-w,t[6]=y+v,t[7]=0,t[8]=g+_,t[9]=y-v,t[10]=1-d-p,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function aR(t,e,n,r,i){let s=1/Math.tan(e/2),o=1/(r-i);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t}function lR(t,e,n,r,i,s,o){let l=1/(e-n),u=1/(r-i),d=1/(s-o);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+n)*l,t[13]=(i+r)*u,t[14]=(o+s)*d,t[15]=1,t}function cR(t,e,n,r){let i=e[0],s=e[1],o=e[2],l=r[0],u=r[1],d=r[2],f=i-n[0],p=s-n[1],g=o-n[2],y=f*f+p*p+g*g;y===0?g=1:(y=1/Math.sqrt(y),f*=y,p*=y,g*=y);let w=u*g-d*p,v=d*f-l*g,_=l*p-u*f;return y=w*w+v*v+_*_,y===0&&(d?l+=1e-6:u?d+=1e-6:u+=1e-6,w=u*g-d*p,v=d*f-l*g,_=l*p-u*f,y=w*w+v*v+_*_),y=1/Math.sqrt(y),w*=y,v*=y,_*=y,t[0]=w,t[1]=v,t[2]=_,t[3]=0,t[4]=p*_-g*v,t[5]=g*w-f*_,t[6]=f*v-p*w,t[7]=0,t[8]=f,t[9]=p,t[10]=g,t[11]=0,t[12]=i,t[13]=s,t[14]=o,t[15]=1,t}function Ox(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Fx(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function uR(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class _d extends Array{constructor(e=1,n=0,r=0,i=0,s=0,o=1,l=0,u=0,d=0,f=0,p=1,g=0,y=0,w=0,v=0,_=1){return super(e,n,r,i,s,o,l,u,d,f,p,g,y,w,v,_),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,i,s,o,l,u,d,f,p,g,y,w,v,_){return e.length?this.copy(e):(KD(this,e,n,r,i,s,o,l,u,d,f,p,g,y,w,v,_),this)}translate(e,n=this){return ZD(this,n,e),this}rotate(e,n,r=this){return tR(this,r,e,n),this}scale(e,n=this){return eR(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?Ox(this,e,n):Ox(this,this,e),this}sub(e,n){return n?Fx(this,e,n):Fx(this,this,e),this}multiply(e,n){return e.length?n?jx(this,e,n):jx(this,this,e):uR(this,this,e),this}identity(){return QD(this),this}copy(e){return XD(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:i}={}){return aR(this,e,n,r,i),this}fromOrthogonal({left:e,right:n,bottom:r,top:i,near:s,far:o}){return lR(this,e,n,r,i,s,o),this}fromQuaternion(e){return oR(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return JD(this,e),this}compose(e,n,r){return sR(this,e,n,r),this}decompose(e,n,r){return iR(this,e,n,r),this}getRotation(e){return B_(e,this),this}getTranslation(e){return nR(e,this),this}getScaling(e){return z_(e,this),this}getMaxScaleOnAxis(){return rR(this)}lookAt(e,n,r){return cR(this,e,n,r),this}determinant(){return I_(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function dR(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const Ix=new _d;class hR extends Array{constructor(e=0,n=e,r=e,i="YXZ"){super(e,n,r),this.order=i,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(o,l){const u=Reflect.set(...arguments);return u&&s.includes(l)&&o.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return dR(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return Ix.fromQuaternion(e),this._target.fromRotationMatrix(Ix,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class fR{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new _d,this.worldMatrix=new _d,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Or,this.quaternion=new YD,this.scale=new Or(1),this.rotation=new hR,this.up=new Or(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function pR(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function mR(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,l=r+r,u=i+i,d=n*o,f=r*o,p=r*l,g=i*o,y=i*l,w=i*u,v=s*o,_=s*l,C=s*u;return t[0]=1-p-w,t[3]=f-C,t[6]=g+_,t[1]=f+C,t[4]=1-d-w,t[7]=y-v,t[2]=g-_,t[5]=y+v,t[8]=1-d-p,t}function gR(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function yR(t,e,n,r,i,s,o,l,u,d){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=l,t[7]=u,t[8]=d,t}function vR(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function xR(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],d=e[7],f=e[8],p=f*o-l*d,g=-f*s+l*u,y=d*s-o*u,w=n*p+r*g+i*y;return w?(w=1/w,t[0]=p*w,t[1]=(-f*r+i*d)*w,t[2]=(l*r-i*o)*w,t[3]=g*w,t[4]=(f*n-i*u)*w,t[5]=(-l*n+i*s)*w,t[6]=y*w,t[7]=(-d*n+r*u)*w,t[8]=(o*n-r*s)*w,t):null}function zx(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=n[0],y=n[1],w=n[2],v=n[3],_=n[4],C=n[5],E=n[6],k=n[7],R=n[8];return t[0]=g*r+y*o+w*d,t[1]=g*i+y*l+w*f,t[2]=g*s+y*u+w*p,t[3]=v*r+_*o+C*d,t[4]=v*i+_*l+C*f,t[5]=v*s+_*u+C*p,t[6]=E*r+k*o+R*d,t[7]=E*i+k*l+R*f,t[8]=E*s+k*u+R*p,t}function bR(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=n[0],y=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=l,t[5]=u,t[6]=g*r+y*o+d,t[7]=g*i+y*l+f,t[8]=g*s+y*u+p,t}function wR(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],p=e[8],g=Math.sin(n),y=Math.cos(n);return t[0]=y*r+g*o,t[1]=y*i+g*l,t[2]=y*s+g*u,t[3]=y*o-g*r,t[4]=y*l-g*i,t[5]=y*u-g*s,t[6]=d,t[7]=f,t[8]=p,t}function _R(t,e,n){let r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function SR(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],d=e[7],f=e[8],p=e[9],g=e[10],y=e[11],w=e[12],v=e[13],_=e[14],C=e[15],E=n*l-r*o,k=n*u-i*o,R=n*d-s*o,P=r*u-i*l,N=r*d-s*l,T=i*d-s*u,A=f*v-p*w,O=f*_-g*w,$=f*C-y*w,W=p*_-g*v,Z=p*C-y*v,K=g*C-y*_,Q=E*K-k*Z+R*W+P*$-N*O+T*A;return Q?(Q=1/Q,t[0]=(l*K-u*Z+d*W)*Q,t[1]=(u*$-o*K-d*O)*Q,t[2]=(o*Z-l*$+d*A)*Q,t[3]=(i*Z-r*K-s*W)*Q,t[4]=(n*K-i*$+s*O)*Q,t[5]=(r*$-n*Z-s*A)*Q,t[6]=(v*T-_*N+C*P)*Q,t[7]=(_*R-w*T-C*k)*Q,t[8]=(w*N-v*R+C*E)*Q,t):null}class CR extends Array{constructor(e=1,n=0,r=0,i=0,s=1,o=0,l=0,u=0,d=1){return super(e,n,r,i,s,o,l,u,d),this}set(e,n,r,i,s,o,l,u,d){return e.length?this.copy(e):(yR(this,e,n,r,i,s,o,l,u,d),this)}translate(e,n=this){return bR(this,n,e),this}rotate(e,n=this){return wR(this,n,e),this}scale(e,n=this){return _R(this,n,e),this}multiply(e,n){return n?zx(this,e,n):zx(this,this,e),this}identity(){return vR(this),this}copy(e){return gR(this,e),this}fromMatrix4(e){return pR(this,e),this}fromQuaternion(e){return mR(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return xR(this,e),this}getNormalMatrix(e){return SR(this,e),this}}let kR=0;class MR extends fR{constructor(e,{geometry:n,program:r,mode:i=e.TRIANGLES,frustumCulled:s=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=kR++,this.geometry=n,this.program=r,this.mode=i,this.frustumCulled=s,this.renderOrder=o,this.modelViewMatrix=new _d,this.normalMatrix=new CR,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}const Bx={black:"#000000",white:"#ffffff",red:"#ff0000",green:"#00ff00",blue:"#0000ff",fuchsia:"#ff00ff",cyan:"#00ffff",yellow:"#ffff00",orange:"#ff8000"};function Vx(t){t.length===4&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.warn(`Unable to convert hex string ${t} to rgb values`),[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]}function TR(t){return t=parseInt(t),[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function Ux(t){return t===void 0?[0,0,0]:arguments.length===3?arguments:isNaN(t)?t[0]==="#"?Vx(t):Bx[t.toLowerCase()]?Vx(Bx[t.toLowerCase()]):(console.warn("Color format not recognised"),[0,0,0]):TR(t)}let Qo=class extends Array{constructor(e){return Array.isArray(e)?super(...e):super(...Ux(...arguments))}get r(){return this[0]}get g(){return this[1]}get b(){return this[2]}set r(e){this[0]=e}set g(e){this[1]=e}set b(e){this[2]=e}set(e){return Array.isArray(e)?this.copy(e):this.copy(Ux(...arguments))}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this}};class ER extends wD{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const PR=`
attribute vec2 position;
attribute vec2 uv;
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 0.0, 1.0);
}
`,DR=`
precision mediump float;

varying vec2 vUv;

uniform float iTime;
uniform vec3  iResolution;
uniform float uScale;

uniform vec2  uGridMul;
uniform float uDigitSize;
uniform float uScanlineIntensity;
uniform float uGlitchAmount;
uniform float uFlickerAmount;
uniform float uNoiseAmp;
uniform float uChromaticAberration;
uniform float uDither;
uniform float uCurvature;
uniform vec3  uTint;
uniform vec2  uMouse;
uniform float uMouseStrength;
uniform float uUseMouse;
uniform float uPageLoadProgress;
uniform float uUsePageLoadAnimation;
uniform float uBrightness;
uniform vec3 uBaseColor;

float time;

float hash21(vec2 p){
  p = fract(p * 234.56);
  p += dot(p, p + 34.56);
  return fract(p.x * p.y);
}

float noise(vec2 p)
{
  return sin(p.x * 10.0) * sin(p.y * (3.0 + sin(time * 0.090909))) + 0.2; 
}

mat2 rotate(float angle)
{
  float c = cos(angle);
  float s = sin(angle);
  return mat2(c, -s, s, c);
}

float fbm(vec2 p)
{
  p *= 1.1;
  float f = 0.0;
  float amp = 0.5 * uNoiseAmp;
  
  mat2 modify0 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify0 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify1 = rotate(time * 0.02);
  f += amp * noise(p);
  p = modify1 * p * 2.0;
  amp *= 0.454545;
  
  mat2 modify2 = rotate(time * 0.08);
  f += amp * noise(p);
  
  return f;
}

float pattern(vec2 p, out vec2 q, out vec2 r) {
  vec2 offset1 = vec2(1.0);
  vec2 offset0 = vec2(0.0);
  mat2 rot01 = rotate(0.1 * time);
  mat2 rot1 = rotate(0.1);
  
  q = vec2(fbm(p + offset1), fbm(rot01 * p + offset1));
  r = vec2(fbm(rot1 * q + offset0), fbm(q + offset0));
  return fbm(p + r);
}

float digit(vec2 p){
    vec2 grid = uGridMul * 15.0;
    vec2 s = floor(p * grid) / grid;
    p = p * grid;
    vec2 q, r;
    float intensity = pattern(s * 0.1, q, r) * 1.3 - 0.03;
    
    if(uUseMouse > 0.5){
        vec2 mouseWorld = uMouse * uScale;
        float distToMouse = distance(s, mouseWorld);
        float mouseInfluence = exp(-distToMouse * 8.0) * uMouseStrength * 10.0;
        intensity += mouseInfluence;
        
        float ripple = sin(distToMouse * 20.0 - iTime * 5.0) * 0.1 * mouseInfluence;
        intensity += ripple;
    }
    
    if(uUsePageLoadAnimation > 0.5){
        float cellRandom = fract(sin(dot(s, vec2(12.9898, 78.233))) * 43758.5453);
        float cellDelay = cellRandom * 0.8;
        float cellProgress = clamp((uPageLoadProgress - cellDelay) / 0.2, 0.0, 1.0);
        
        float fadeAlpha = smoothstep(0.0, 1.0, cellProgress);
        intensity *= fadeAlpha;
    }
    
    p = fract(p);
    p *= uDigitSize;
    
    float px5 = p.x * 5.0;
    float py5 = (1.0 - p.y) * 5.0;
    float x = fract(px5);
    float y = fract(py5);
    
    float i = floor(py5) - 2.0;
    float j = floor(px5) - 2.0;
    float n = i * i + j * j;
    float f = n * 0.0625;
    
    float isOn = step(0.1, intensity - f);
    float brightness = isOn * (0.2 + y * 0.8) * (0.75 + x * 0.25);
    
    return step(0.0, p.x) * step(p.x, 1.0) * step(0.0, p.y) * step(p.y, 1.0) * brightness;
}

float onOff(float a, float b, float c)
{
  return step(c, sin(iTime + a * cos(iTime * b))) * uFlickerAmount;
}

float displace(vec2 look)
{
    float y = look.y - mod(iTime * 0.25, 1.0);
    float window = 1.0 / (1.0 + 50.0 * y * y);
    return sin(look.y * 20.0 + iTime) * 0.0125 * onOff(4.0, 2.0, 0.8) * (1.0 + cos(iTime * 60.0)) * window;
}

vec3 getColor(vec2 p){
    
    float bar = step(mod(p.y + time * 20.0, 1.0), 0.2) * 0.4 + 1.0;
    bar *= uScanlineIntensity;
    
    float displacement = displace(p);
    p.x += displacement;

    if (uGlitchAmount != 1.0) {
      float extra = displacement * (uGlitchAmount - 1.0);
      p.x += extra;
    }

    float middle = digit(p);
    
    const float off = 0.002;
    float sum = digit(p + vec2(-off, -off)) + digit(p + vec2(0.0, -off)) + digit(p + vec2(off, -off)) +
                digit(p + vec2(-off, 0.0)) + digit(p + vec2(0.0, 0.0)) + digit(p + vec2(off, 0.0)) +
                digit(p + vec2(-off, off)) + digit(p + vec2(0.0, off)) + digit(p + vec2(off, off));
    
    vec3 baseColor = vec3(0.9) * middle + sum * 0.1 * vec3(1.0) * bar;
    return baseColor;
}

vec2 barrel(vec2 uv){
  vec2 c = uv * 2.0 - 1.0;
  float r2 = dot(c, c);
  c *= 1.0 + uCurvature * r2;
  return c * 0.5 + 0.5;
}

void main() {
    time = iTime * 0.333333;
    vec2 uv = vUv;

    if(uCurvature != 0.0){
      uv = barrel(uv);
    }
    
    vec2 p = uv * uScale;
    vec3 col = getColor(p);

    if(uChromaticAberration != 0.0){
      vec2 ca = vec2(uChromaticAberration) / iResolution.xy;
      col.r = getColor(p + ca).r;
      col.b = getColor(p - ca).b;
    }

    col *= uTint;
    col *= uBrightness;

    if(uDither > 0.0){
      float rnd = hash21(gl_FragCoord.xy);
      col += (rnd - 0.5) * (uDither * 0.003922);
    }

    col = mix(uBaseColor, col, 0.75);

    gl_FragColor = vec4(col, 1.0);
}
`;function up(t){let e=t.replace("#","").trim();e.length===3&&(e=e.split("").map(r=>r+r).join(""));const n=parseInt(e,16);return[(n>>16&255)/255,(n>>8&255)/255,(n&255)/255]}function RR({scale:t=1,gridMul:e=[2,1],digitSize:n=1.5,timeScale:r=.3,pause:i=!1,scanlineIntensity:s=.3,glitchAmount:o=1,flickerAmount:l=1,noiseAmp:u=.8,chromaticAberration:d=0,dither:f=0,curvature:p=.2,tint:g="#ffffff",mouseReact:y=!0,mouseStrength:w=.2,dpr:v,pageLoadAnimation:_=!0,brightness:C=1,clearColor:E="#000000",baseColor:k="#0b1220",className:R,style:P,...N}){const T=M.useRef(null),A=M.useRef(null),O=M.useRef(null),$=M.useRef({x:.5,y:.5}),W=M.useRef({x:.5,y:.5}),Z=M.useRef(0),K=M.useRef(0),Q=M.useRef(0),Y=M.useRef(Math.random()*100),re=M.useMemo(()=>v??(typeof window<"u"?Math.min(window.devicePixelRatio||1,2):1),[v]),L=M.useMemo(()=>up(g),[g]),z=M.useMemo(()=>typeof f=="boolean"?f?1:0:f,[f]),X=M.useMemo(()=>up(E),[E]),q=M.useMemo(()=>up(k),[k]),F=M.useCallback(G=>{const oe=T.current;if(!oe)return;const ie=oe.getBoundingClientRect(),ue=Pe=>Math.max(0,Math.min(1,Pe)),pe=ue((G.clientX-ie.left)/ie.width),Re=ue(1-(G.clientY-ie.top)/ie.height);$.current={x:pe,y:Re}},[]);return M.useEffect(()=>{const G=T.current;if(!G)return;const oe=new ED({dpr:re});O.current=oe;const ie=oe.gl;ie.clearColor(X[0],X[1],X[2],1);const ue=new ER(ie),pe=new SD(ie,{vertex:PR,fragment:DR,uniforms:{iTime:{value:0},iResolution:{value:new Qo(ie.canvas.width,ie.canvas.height,ie.canvas.width/ie.canvas.height)},uScale:{value:t},uGridMul:{value:new Float32Array(e)},uDigitSize:{value:n},uScanlineIntensity:{value:s},uGlitchAmount:{value:o},uFlickerAmount:{value:l},uNoiseAmp:{value:u},uChromaticAberration:{value:d},uDither:{value:z},uCurvature:{value:p},uTint:{value:new Qo(L[0],L[1],L[2])},uMouse:{value:new Float32Array([W.current.x,W.current.y])},uMouseStrength:{value:w},uUseMouse:{value:y?1:0},uPageLoadProgress:{value:_?0:1},uUsePageLoadAnimation:{value:_?1:0},uBrightness:{value:C},uBaseColor:{value:new Qo(q[0],q[1],q[2])}}});A.current=pe;const Re=new MR(ie,{geometry:ue,program:pe}),Pe=y?window:null;function Le(){const Fe=T.current;if(!Fe)return;oe.setSize(Fe.offsetWidth,Fe.offsetHeight);const ze=pe.uniforms;ze.iResolution.value=new Qo(ie.canvas.width,ie.canvas.height,ie.canvas.width/ie.canvas.height)}const Ke=new ResizeObserver(()=>Le());Ke.observe(G),Le();const It=Fe=>{K.current=requestAnimationFrame(It);const ze=pe.uniforms;if(_&&Q.current===0&&(Q.current=Fe),i)ze.iTime.value=Z.current;else{const Dt=(Fe*.001+Y.current)*r;ze.iTime.value=Dt,Z.current=Dt}if(_&&Q.current>0){const Lt=Fe-Q.current,ct=Math.min(Lt/2e3,1);ze.uPageLoadProgress.value=ct}if(y){const Lt=W.current,ct=$.current;Lt.x+=(ct.x-Lt.x)*.08,Lt.y+=(ct.y-Lt.y)*.08;const Kt=ze.uMouse.value;Kt[0]=Lt.x,Kt[1]=Lt.y}ze.uMouseStrength.value=w,ze.uScale.value=t,ze.uDigitSize.value=n,ze.uScanlineIntensity.value=s,ze.uGlitchAmount.value=o,ze.uFlickerAmount.value=l,ze.uNoiseAmp.value=u,ze.uChromaticAberration.value=d,ze.uDither.value=z,ze.uCurvature.value=p,ze.uTint.value=new Qo(L[0],L[1],L[2]),ze.uUseMouse.value=y?1:0,ze.uBrightness.value=C,ze.uBaseColor.value=new Qo(q[0],q[1],q[2]),oe.render({scene:Re})};return K.current=requestAnimationFrame(It),G.appendChild(ie.canvas),y&&Pe&&Pe.addEventListener("mousemove",F),()=>{cancelAnimationFrame(K.current),Ke.disconnect(),y&&Pe&&Pe.removeEventListener("mousemove",F);const Fe=T.current;Fe&&ie.canvas.parentElement===Fe&&Fe.removeChild(ie.canvas),ie.getExtension("WEBGL_lose_context")?.loseContext(),Q.current=0,Y.current=Math.random()*100,A.current=null,O.current=null}},[re,i,r,t,e,n,s,o,l,u,d,z,p,L,y,w,_,C,X,q,F]),b.jsx("div",{ref:T,className:rD("faulty-terminal-container",R),style:P,...N})}const lg=M.createContext({});function Sc(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const V_=typeof window<"u",cg=V_?M.useLayoutEffect:M.useEffect,Qd=M.createContext(null);function ug(t,e){t.indexOf(e)===-1&&t.push(e)}function dg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ni=(t,e,n)=>n>e?e:n<t?t:n;let hg=()=>{};const Ni={},U_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function $_(t){return typeof t=="object"&&t!==null}const W_=t=>/^0[^.\s]+$/u.test(t);function fg(t){let e;return()=>(e===void 0&&(e=t()),e)}const _r=t=>t,AR=(t,e)=>n=>e(t(n)),Cc=(...t)=>t.reduce(AR),Jl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class pg{constructor(){this.subscriptions=[]}add(e){return ug(this.subscriptions,e),()=>dg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ri=t=>t*1e3,xr=t=>t/1e3;function H_(t,e){return e?t*(1e3/e):0}const G_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NR=1e-7,LR=12;function jR(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=G_(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>NR&&++l<LR);return o}function kc(t,e,n,r){if(t===e&&n===r)return _r;const i=s=>jR(s,0,1,t,n);return s=>s===0||s===1?s:G_(i(s),e,r)}const Y_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,q_=t=>e=>1-t(1-e),X_=kc(.33,1.53,.69,.99),mg=q_(X_),K_=Y_(mg),Q_=t=>(t*=2)<1?.5*mg(t):.5*(2-Math.pow(2,-10*(t-1))),gg=t=>1-Math.sin(Math.acos(t)),J_=q_(gg),Z_=Y_(gg),OR=kc(.42,0,1,1),FR=kc(0,0,.58,1),eS=kc(.42,0,.58,1),IR=t=>Array.isArray(t)&&typeof t[0]!="number",tS=t=>Array.isArray(t)&&typeof t[0]=="number",zR={linear:_r,easeIn:OR,easeInOut:eS,easeOut:FR,circIn:gg,circInOut:Z_,circOut:J_,backIn:mg,backInOut:K_,backOut:X_,anticipate:Q_},BR=t=>typeof t=="string",$x=t=>{if(tS(t)){hg(t.length===4);const[e,n,r,i]=t;return kc(e,n,r,i)}else if(BR(t))return zR[t];return t},Ou=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VR(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,p=!1,g=!1)=>{const w=g&&i?n:r;return p&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const UR=40;function nS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ou.reduce((k,R)=>(k[R]=VR(s),k),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:p,preRender:g,render:y,postRender:w}=o,v=()=>{const k=Ni.useManualTiming?i.timestamp:performance.now();n=!1,Ni.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(k-i.timestamp,UR),1)),i.timestamp=k,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),f.process(i),p.process(i),g.process(i),y.process(i),w.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},_=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:Ou.reduce((k,R)=>{const P=o[R];return k[R]=(N,T=!1,A=!1)=>(n||_(),P.schedule(N,T,A)),k},{}),cancel:k=>{for(let R=0;R<Ou.length;R++)o[Ou[R]].cancel(k)},state:i,steps:o}}const{schedule:at,cancel:ri,state:en,steps:dp}=nS(typeof requestAnimationFrame<"u"?requestAnimationFrame:_r,!0);let ud;function $R(){ud=void 0}const Cn={now:()=>(ud===void 0&&Cn.set(en.isProcessing||Ni.useManualTiming?en.timestamp:performance.now()),ud),set:t=>{ud=t,queueMicrotask($R)}},rS=t=>e=>typeof e=="string"&&e.startsWith(t),iS=rS("--"),WR=rS("var(--"),yg=t=>WR(t)?HR.test(t.split("/*")[0].trim()):!1,HR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Wx(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Ta={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zl={...Ta,transform:t=>ni(0,1,t)},Fu={...Ta,default:1},jl=t=>Math.round(t*1e5)/1e5,vg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GR(t){return t==null}const YR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xg=(t,e)=>n=>!!(typeof n=="string"&&YR.test(n)&&n.startsWith(t)||e&&!GR(n)&&Object.prototype.hasOwnProperty.call(n,e)),sS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(vg);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},qR=t=>ni(0,255,t),hp={...Ta,transform:t=>Math.round(qR(t))},uo={test:xg("rgb","red"),parse:sS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+hp.transform(t)+", "+hp.transform(e)+", "+hp.transform(n)+", "+jl(Zl.transform(r))+")"};function XR(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const im={test:xg("#"),parse:XR,transform:uo.transform},Mc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),os=Mc("deg"),Zr=Mc("%"),xe=Mc("px"),KR=Mc("vh"),QR=Mc("vw"),Hx={...Zr,parse:t=>Zr.parse(t)/100,transform:t=>Zr.transform(t*100)},ia={test:xg("hsl","hue"),parse:sS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zr.transform(jl(e))+", "+Zr.transform(jl(n))+", "+jl(Zl.transform(r))+")"},Ot={test:t=>uo.test(t)||im.test(t)||ia.test(t),parse:t=>uo.test(t)?uo.parse(t):ia.test(t)?ia.parse(t):im.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uo.transform(t):ia.transform(t),getAnimatableNone:t=>{const e=Ot.parse(t);return e.alpha=0,Ot.transform(e)}},JR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZR(t){return isNaN(t)&&typeof t=="string"&&(t.match(vg)?.length||0)+(t.match(JR)?.length||0)>0}const oS="number",aS="color",eA="var",tA="var(",Gx="${}",nA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ec(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(nA,u=>(Ot.test(u)?(r.color.push(s),i.push(aS),n.push(Ot.parse(u))):u.startsWith(tA)?(r.var.push(s),i.push(eA),n.push(u)):(r.number.push(s),i.push(oS),n.push(parseFloat(u))),++s,Gx)).split(Gx);return{values:n,split:l,indexes:r,types:i}}function lS(t){return ec(t).values}function cS(t){const{split:e,types:n}=ec(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===oS?s+=jl(i[o]):l===aS?s+=Ot.transform(i[o]):s+=i[o]}return s}}const rA=t=>typeof t=="number"?0:Ot.test(t)?Ot.getAnimatableNone(t):t;function iA(t){const e=lS(t);return cS(t)(e.map(rA))}const Ss={test:ZR,parse:lS,createTransformer:cS,getAnimatableNone:iA};function fp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function sA({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=fp(u,l,t+1/3),s=fp(u,l,t),o=fp(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Sd(t,e){return n=>n>0?e:t}const St=(t,e,n)=>t+(e-t)*n,pp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},oA=[im,uo,ia],aA=t=>oA.find(e=>e.test(t));function Yx(t){const e=aA(t);if(!e)return!1;let n=e.parse(t);return e===ia&&(n=sA(n)),n}const qx=(t,e)=>{const n=Yx(t),r=Yx(e);if(!n||!r)return Sd(t,e);const i={...n};return s=>(i.red=pp(n.red,r.red,s),i.green=pp(n.green,r.green,s),i.blue=pp(n.blue,r.blue,s),i.alpha=St(n.alpha,r.alpha,s),uo.transform(i))},sm=new Set(["none","hidden"]);function lA(t,e){return sm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function cA(t,e){return n=>St(t,e,n)}function bg(t){return typeof t=="number"?cA:typeof t=="string"?yg(t)?Sd:Ot.test(t)?qx:hA:Array.isArray(t)?uS:typeof t=="object"?Ot.test(t)?qx:uA:Sd}function uS(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>bg(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function uA(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=bg(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function dA(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],l=t.values[o]??0;n[i]=l,r[s]++}return n}const hA=(t,e)=>{const n=Ss.createTransformer(e),r=ec(t),i=ec(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sm.has(t)&&!i.values.length||sm.has(e)&&!r.values.length?lA(t,e):Cc(uS(dA(r,i),i.values),n):Sd(t,e)};function dS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?St(t,e,n):bg(t)(t,e)}const fA=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>at.update(e,n),stop:()=>ri(e),now:()=>en.isProcessing?en.timestamp:Cn.now()}},hS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Cd=2e4;function wg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Cd;)e+=n,r=t.next(e);return e>=Cd?1/0:e}function pA(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(wg(r),Cd);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:xr(i)}}const mA=5;function fS(t,e,n){const r=Math.max(e-mA,0);return H_(n-t(r),e-r)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mp=.001;function gA({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:r=Tt.mass}){let i,s,o=1-e;o=ni(Tt.minDamping,Tt.maxDamping,o),t=ni(Tt.minDuration,Tt.maxDuration,xr(t)),o<1?(i=d=>{const f=d*o,p=f*t,g=f-n,y=om(d,o),w=Math.exp(-p);return mp-g/y*w},s=d=>{const p=d*o*t,g=p*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-p),v=om(Math.pow(d,2),o);return(-i(d)+mp>0?-1:1)*((g-y)*w)/v}):(i=d=>{const f=Math.exp(-d*t),p=(d-n)*t+1;return-mp+f*p},s=d=>{const f=Math.exp(-d*t),p=(n-d)*(t*t);return f*p});const l=5/t,u=vA(i,s,l);if(t=Ri(t),isNaN(u))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const yA=12;function vA(t,e,n){let r=n;for(let i=1;i<yA;i++)r=r-t(r)/e(r);return r}function om(t,e){return t*Math.sqrt(1-e*e)}const xA=["duration","bounce"],bA=["stiffness","damping","mass"];function Xx(t,e){return e.some(n=>t[n]!==void 0)}function wA(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!Xx(t,bA)&&Xx(t,xA))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ni(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Tt.mass,stiffness:i,damping:s}}else{const n=gA(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function kd(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:d,mass:f,duration:p,velocity:g,isResolvedFromDuration:y}=wA({...n,velocity:-xr(n.velocity||0)}),w=g||0,v=d/(2*Math.sqrt(u*f)),_=o-s,C=xr(Math.sqrt(u/f)),E=Math.abs(_)<5;r||(r=E?Tt.restSpeed.granular:Tt.restSpeed.default),i||(i=E?Tt.restDelta.granular:Tt.restDelta.default);let k;if(v<1){const P=om(C,v);k=N=>{const T=Math.exp(-v*C*N);return o-T*((w+v*C*_)/P*Math.sin(P*N)+_*Math.cos(P*N))}}else if(v===1)k=P=>o-Math.exp(-C*P)*(_+(w+C*_)*P);else{const P=C*Math.sqrt(v*v-1);k=N=>{const T=Math.exp(-v*C*N),A=Math.min(P*N,300);return o-T*((w+v*C*_)*Math.sinh(A)+P*_*Math.cosh(A))/P}}const R={calculatedDuration:y&&p||null,next:P=>{const N=k(P);if(y)l.done=P>=p;else{let T=P===0?w:0;v<1&&(T=P===0?Ri(w):fS(k,P,N));const A=Math.abs(T)<=r,O=Math.abs(o-N)<=i;l.done=A&&O}return l.value=l.done?o:N,l},toString:()=>{const P=Math.min(wg(R),Cd),N=hS(T=>R.next(P*T).value,P,30);return P+"ms "+N},toTransition:()=>{}};return R}kd.applyToOptions=t=>{const e=pA(t,100,kd);return t.ease=e.ease,t.duration=Ri(e.duration),t.type="keyframes",t};function am({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const p=t[0],g={done:!1,value:p},y=A=>l!==void 0&&A<l||u!==void 0&&A>u,w=A=>l===void 0?u:u===void 0||Math.abs(l-A)<Math.abs(u-A)?l:u;let v=n*e;const _=p+v,C=o===void 0?_:o(_);C!==_&&(v=C-p);const E=A=>-v*Math.exp(-A/r),k=A=>C+E(A),R=A=>{const O=E(A),$=k(A);g.done=Math.abs(O)<=d,g.value=g.done?C:$};let P,N;const T=A=>{y(g.value)&&(P=A,N=kd({keyframes:[g.value,w(g.value)],velocity:fS(k,A,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return T(0),{calculatedDuration:null,next:A=>{let O=!1;return!N&&P===void 0&&(O=!0,R(A),T(A)),P!==void 0&&A>=P?N.next(A-P):(!O&&R(A),g)}}}function _A(t,e,n){const r=[],i=n||Ni.mix||dS,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||_r:e;l=Cc(u,l)}r.push(l)}return r}function pS(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(hg(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=_A(e,r,i),u=l.length,d=f=>{if(o&&f<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(f<t[p+1]);p++);const g=Jl(t[p],t[p+1],f);return l[p](g)};return n?f=>d(ni(t[0],t[s-1],f)):d}function SA(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Jl(0,e,r);t.push(St(n,1,i))}}function CA(t){const e=[0];return SA(e,t.length-1),e}function kA(t,e){return t.map(n=>n*e)}function MA(t,e){return t.map(()=>e||eS).splice(0,t.length-1)}function Ol({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=IR(r)?r.map($x):$x(r),s={done:!1,value:e[0]},o=kA(n&&n.length===e.length?n:CA(e),t),l=pS(o,e,{ease:Array.isArray(i)?i:MA(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}const TA=t=>t!==null;function _g(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(TA),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const EA={decay:am,inertia:am,tween:Ol,keyframes:Ol,spring:kd};function mS(t){typeof t.type=="string"&&(t.type=EA[t.type])}class Sg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const PA=t=>t/100;class Cg extends Sg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;mS(e);const{type:n=Ol,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const u=n||Ol;u!==Ol&&typeof l[0]!="number"&&(this.mixKeyframes=Cc(PA,dS(l[0],l[1])),l=[0,100]);const d=u({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=wg(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:y,type:w,onUpdate:v,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-d*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,R=r;if(p){const A=Math.min(this.currentTime,i)/l;let O=Math.floor(A),$=A%1;!$&&A>=1&&($=1),$===1&&O--,O=Math.min(O,p+1),O%2&&(g==="reverse"?($=1-$,y&&($-=y/l)):g==="mirror"&&(R=o)),k=ni(0,1,$)*l}const P=E?{done:!1,value:f[0]}:R.next(k);s&&(P.value=s(P.value));let{done:N}=P;!E&&u!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return T&&w!==am&&(P.value=_g(f,this.options,_,this.speed)),v&&v(P.value),T&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return xr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xr(e)}get time(){return xr(this.currentTime)}set time(e){e=Ri(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=fA,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function DA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ho=t=>t*180/Math.PI,lm=t=>{const e=ho(Math.atan2(t[1],t[0]));return cm(e)},RA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lm,rotateZ:lm,skewX:t=>ho(Math.atan(t[1])),skewY:t=>ho(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cm=t=>(t=t%360,t<0&&(t+=360),t),Kx=lm,Qx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Jx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qx,scaleY:Jx,scale:t=>(Qx(t)+Jx(t))/2,rotateX:t=>cm(ho(Math.atan2(t[6],t[5]))),rotateY:t=>cm(ho(Math.atan2(-t[2],t[0]))),rotateZ:Kx,rotate:Kx,skewX:t=>ho(Math.atan(t[4])),skewY:t=>ho(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function um(t){return t.includes("scale")?1:0}function dm(t,e){if(!t||t==="none")return um(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=AA,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RA,i=l}if(!i)return um(e);const s=r[e],o=i[1].split(",").map(LA);return typeof s=="function"?s(o):o[s]}const NA=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dm(n,e)};function LA(t){return parseFloat(t.trim())}const Ea=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pa=new Set(Ea),Zx=t=>t===Ta||t===xe,jA=new Set(["x","y","z"]),OA=Ea.filter(t=>!jA.has(t));function FA(t){const e=[];return OA.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const us={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dm(e,"x"),y:(t,{transform:e})=>dm(e,"y")};us.translateX=us.x;us.translateY=us.y;const mo=new Set;let hm=!1,fm=!1,pm=!1;function gS(){if(fm){const t=Array.from(mo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=FA(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fm=!1,hm=!1,mo.forEach(t=>t.complete(pm)),mo.clear()}function yS(){mo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fm=!0)})}function IA(){pm=!0,yS(),gS(),pm=!1}class kg{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(mo.add(this),hm||(hm=!0,at.read(yS),at.resolveKeyframes(gS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}DA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),mo.delete(this)}cancel(){this.state==="scheduled"&&(mo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zA=t=>t.startsWith("--");function BA(t,e,n){zA(e)?t.style.setProperty(e,n):t.style[e]=n}const VA=fg(()=>window.ScrollTimeline!==void 0),UA={};function $A(t,e){const n=fg(t);return()=>UA[e]??n()}const vS=$A(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kl([0,.65,.55,1]),circOut:kl([.55,0,1,.45]),backIn:kl([.31,.01,.66,-.59]),backOut:kl([.33,1.53,.69,.99])};function xS(t,e){if(t)return typeof t=="function"?vS()?hS(t,e):"ease-out":tS(t)?kl(t):Array.isArray(t)?t.map(n=>xS(n,e)||eb.easeOut):eb[t]}function WA(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[e]:n};u&&(f.offset=u);const p=xS(l,i);Array.isArray(p)&&(f.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(f,g)}function bS(t){return typeof t=="function"&&"applyToOptions"in t}function HA({type:t,...e}){return bS(t)&&vS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class GA extends Sg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,hg(typeof e.type!="string");const d=HA(e);this.animation=WA(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=_g(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):BA(n,r,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return xr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xr(e)}get time(){return xr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ri(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&VA()?(this.animation.timeline=e,_r):n(this)}}const wS={anticipate:Q_,backInOut:K_,circInOut:Z_};function YA(t){return t in wS}function qA(t){typeof t.ease=="string"&&YA(t.ease)&&(t.ease=wS[t.ease])}const gp=10;class XA extends GA{constructor(e){qA(e),mS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new Cg({...o,autoplay:!1}),u=Math.max(gp,Cn.now()-this.startTime),d=ni(0,gp,u-gp);n.setWithVelocity(l.sample(Math.max(0,u-d)).value,l.sample(u).value,d),l.stop()}}const tb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ss.test(t)||t==="0")&&!t.startsWith("url("));function KA(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QA(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=tb(i,e),l=tb(s,e);return!o||!l?!1:KA(t)||(n==="spring"||bS(n))&&r}function mm(t){t.duration=0,t.type="keyframes"}const JA=new Set(["opacity","clipPath","filter","transform"]),ZA=fg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function eN(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return ZA()&&n&&JA.has(n)&&(n!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const tN=40;class nN extends Sg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:d,element:f,...p},y=f?.KeyframeResolver||kg;this.keyframeResolver=new y(l,(w,v,_)=>this.onKeyframesResolved(w,v,g,!_),u,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Cn.now(),QA(e,s,o,l)||((Ni.instantAnimations||!u)&&f?.(_g(e,r,n)),e[0]=e[e.length-1],mm(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>tN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&eN(g)?new XA({...g,element:g.motionValue.owner.current}):new Cg(g);y.finished.then(()=>this.notifyFinished()).catch(_r),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),IA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const rN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iN(t){const e=rN.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function _S(t,e,n=1){const[r,i]=iN(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return U_(o)?parseFloat(o):o}return yg(i)?_S(i,e,n+1):i}function Mg(t,e){return t?.[e]??t?.default??t}const sN={type:"spring",stiffness:500,damping:25,restSpeed:10},oN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aN={type:"keyframes",duration:.8},lN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cN=(t,{keyframes:e})=>e.length>2?aN:Pa.has(t)?t.startsWith("scale")?oN(e[1]):sN:lN;function uN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const dN=t=>t!==null;function hN(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(dN),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function SS(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:l-s*r}const Tg=(t,e,n,r={},i,s)=>o=>{const l=Mg(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ri(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};uN(l)||Object.assign(f,cN(t,f)),f.duration&&(f.duration=Ri(f.duration)),f.repeatDelay&&(f.repeatDelay=Ri(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(mm(f),f.delay===0&&(p=!0)),(Ni.instantAnimations||Ni.skipAnimations)&&(p=!0,mm(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!s&&e.get()!==void 0){const g=hN(f.keyframes,l);if(g!==void 0){at.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new Cg(f):new nN(f)},CS=new Set(["width","height","top","left","right","bottom",...Ea]),nb=30,fN=t=>!isNaN(parseFloat(t)),Fl={current:void 0};class pN{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Cn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=fN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pg);const r=this.events[e].add(n);return e==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Fl.current&&Fl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nb);return H_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _o(t,e){return new pN(t,e)}function rb(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Eg(t,e,n,r){if(typeof e=="function"){const[i,s]=rb(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=rb(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function ha(t,e,n){const r=t.getProps();return Eg(r,e,n!==void 0?n:r.custom,t)}const gm=t=>Array.isArray(t);function mN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_o(n))}function gN(t){return gm(t)?t[t.length-1]||0:t}function yN(t,e){const n=ha(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=gN(s[o]);mN(t,o,l)}}const dn=t=>!!(t&&t.getVelocity);function vN(t){return!!(dn(t)&&t.add)}function ym(t,e){const n=t.getValue("willChange");if(vN(n))return n.add(e);if(!n&&Ni.WillChange){const r=new Ni.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Pg(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const xN="framerAppearId",kS="data-"+Pg(xN);function MS(t){return t.props[kS]}function bN({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function TS(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const p=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||d&&bN(d,f))continue;const y={delay:n,...Mg(s||{},f)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!y.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const C=MS(t);if(C){const E=window.MotionHandoffAnimation(C,f,at);E!==null&&(y.startTime=E,v=!0)}}ym(t,f),p.start(Tg(f,p,g,t.shouldReduceMotion&&CS.has(f)?{type:!1}:y,t,v));const _=p.animation;_&&u.push(_)}return o&&Promise.all(u).then(()=>{at.update(()=>{o&&yN(t,o)})}),u}function vm(t,e,n={}){const r=ha(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(TS(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=i;return wN(t,e,u,d,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function wN(t,e,n=0,r=0,i=0,s=1,o){const l=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),l.push(vm(u,e,{...o,delay:n+(typeof r=="function"?0:r)+SS(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function _N(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>vm(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=vm(t,e,n);else{const i=typeof e=="function"?ha(t,e,n.custom):e;r=Promise.all(TS(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const SN={test:t=>t==="auto",parse:t=>t},ES=t=>e=>e.test(t),PS=[Ta,xe,Zr,os,QR,KR,SN],ib=t=>PS.find(ES(t));function CN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||W_(t):!0}const kN=new Set(["brightness","contrast","saturate","opacity"]);function MN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(vg)||[];if(!r)return t;const i=n.replace(r,"");let s=kN.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const TN=/\b([a-z-]*)\(.*?\)/gu,xm={...Ss,getAnimatableNone:t=>{const e=t.match(TN);return e?e.map(MN).join(" "):t}},sb={...Ta,transform:Math.round},EN={rotate:os,rotateX:os,rotateY:os,rotateZ:os,scale:Fu,scaleX:Fu,scaleY:Fu,scaleZ:Fu,skew:os,skewX:os,skewY:os,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Zl,originX:Hx,originY:Hx,originZ:xe},Dg={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,inset:xe,insetBlock:xe,insetBlockStart:xe,insetBlockEnd:xe,insetInline:xe,insetInlineStart:xe,insetInlineEnd:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,paddingBlock:xe,paddingBlockStart:xe,paddingBlockEnd:xe,paddingInline:xe,paddingInlineStart:xe,paddingInlineEnd:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,marginBlock:xe,marginBlockStart:xe,marginBlockEnd:xe,marginInline:xe,marginInlineStart:xe,marginInlineEnd:xe,backgroundPositionX:xe,backgroundPositionY:xe,...EN,zIndex:sb,fillOpacity:Zl,strokeOpacity:Zl,numOctaves:sb},PN={...Dg,color:Ot,backgroundColor:Ot,outlineColor:Ot,fill:Ot,stroke:Ot,borderColor:Ot,borderTopColor:Ot,borderRightColor:Ot,borderBottomColor:Ot,borderLeftColor:Ot,filter:xm,WebkitFilter:xm},DS=t=>PN[t];function RS(t,e){let n=DS(t);return n!==xm&&(n=Ss),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const DN=new Set(["auto","none","0"]);function RN(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!DN.has(s)&&ec(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=RS(n,i)}class AN extends kg{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),yg(p))){const g=_S(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!CS.has(r)||e.length!==2)return;const[i,s]=e,o=ib(i),l=ib(s),u=Wx(i),d=Wx(s);if(u!==d&&us[r]){this.needsMeasurement=!0;return}if(o!==l)if(Zx(o)&&Zx(l))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else us[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||CN(e[i]))&&r.push(i);r.length&&RN(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=us[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=us[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function NN(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const AS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function NS(t){return $_(t)&&"offsetHeight"in t}const{schedule:Rg}=nS(queueMicrotask,!1),Lr={x:!1,y:!1};function LS(){return Lr.x||Lr.y}function LN(t){return t==="x"||t==="y"?Lr[t]?null:(Lr[t]=!0,()=>{Lr[t]=!1}):Lr.x||Lr.y?null:(Lr.x=Lr.y=!0,()=>{Lr.x=Lr.y=!1})}function jS(t,e){const n=NN(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function ob(t){return!(t.pointerType==="touch"||LS())}function jN(t,e,n={}){const[r,i,s]=jS(t,n),o=l=>{if(!ob(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const f=p=>{ob(p)&&(d(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const OS=(t,e)=>e?t===e?!0:OS(t,e.parentElement):!1,Ag=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ON=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FS(t){return ON.has(t.tagName)||t.isContentEditable===!0}const dd=new WeakSet;function ab(t){return e=>{e.key==="Enter"&&t(e)}}function yp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ab(()=>{if(dd.has(n))return;yp(n,"down");const i=ab(()=>{yp(n,"up")}),s=()=>yp(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function lb(t){return Ag(t)&&!LS()}function IN(t,e,n={}){const[r,i,s]=jS(t,n),o=l=>{const u=l.currentTarget;if(!lb(l))return;dd.add(u);const d=e(u,l),f=(y,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),dd.has(u)&&dd.delete(u),lb(y)&&typeof d=="function"&&d(y,{success:w})},p=y=>{f(y,u===window||u===document||n.useGlobalTarget||OS(u,y.target))},g=y=>{f(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),NS(l)&&(l.addEventListener("focus",d=>FN(d,i)),!FS(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function IS(t){return $_(t)&&"ownerSVGElement"in t}function zN(t){return IS(t)&&t.tagName==="svg"}function BN(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],l=pS(i,s,o);return e?l(r):l}const VN=[...PS,Ot,Ss],UN=t=>VN.find(ES(t)),cb=()=>({translate:0,scale:1,origin:0,originPoint:0}),sa=()=>({x:cb(),y:cb()}),ub=()=>({min:0,max:0}),Ut=()=>({x:ub(),y:ub()}),bm={current:null},zS={current:!1},$N=typeof window<"u";function WN(){if(zS.current=!0,!!$N)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>bm.current=t.matches;t.addEventListener("change",e),e()}else bm.current=!1}const HN=new WeakMap;function Jd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function tc(t){return typeof t=="string"||Array.isArray(t)}const Ng=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lg=["initial",...Ng];function Zd(t){return Jd(t.animate)||Lg.some(e=>tc(t[e]))}function BS(t){return!!(Zd(t)||t.variants)}function GN(t,e,n){for(const r in e){const i=e[r],s=n[r];if(dn(i))t.addValue(r,i);else if(dn(s))t.addValue(r,_o(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,_o(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const db=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Md={};function VS(t){Md=t}function YN(){return Md}class qN{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Cn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,at.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Zd(n),this.isVariantNode=BS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const y=p[g];u[g]!==void 0&&dn(y)&&y.set(u[g])}}mount(e){this.current=e,HN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(zS.current||WN(),this.shouldReduceMotion=bm.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ri(this.notifyUpdate),ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pa.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Md){const n=Md[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<db.length;r++){const i=db[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=GN(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_o(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(U_(r)||W_(r))?r=parseFloat(r):!UN(r)&&Ss.test(n)&&(r=RS(e,n)),this.setBaseTarget(e,dn(r)?r.get():r)),dn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=Eg(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!dn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Rg.render(this.render)}}class Ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class US extends qN{constructor(){super(...arguments),this.KeyframeResolver=AN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $S({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function XN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function KN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vp(t){return t===void 0||t===1}function wm({scale:t,scaleX:e,scaleY:n}){return!vp(t)||!vp(e)||!vp(n)}function io(t){return wm(t)||WS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WS(t){return hb(t.x)||hb(t.y)}function hb(t){return t&&t!=="0%"}function Td(t,e,n){const r=t-n,i=e*r;return n+i}function fb(t,e,n,r,i){return i!==void 0&&(t=Td(t,i,r)),Td(t,n,r)+e}function _m(t,e=0,n=1,r,i){t.min=fb(t.min,e,n,r,i),t.max=fb(t.max,e,n,r,i)}function HS(t,{x:e,y:n}){_m(t.x,e.translate,e.scale,e.originPoint),_m(t.y,n.translate,n.scale,n.originPoint)}const pb=.999999999999,mb=1.0000000000001;function QN(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&aa(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,HS(t,o)),r&&io(s.latestValues)&&aa(t,s.latestValues))}e.x<mb&&e.x>pb&&(e.x=1),e.y<mb&&e.y>pb&&(e.y=1)}function oa(t,e){t.min=t.min+e,t.max=t.max+e}function gb(t,e,n,r,i=.5){const s=St(t.min,t.max,i);_m(t,e,n,s,r)}function aa(t,e){gb(t.x,e.x,e.scaleX,e.scale,e.originX),gb(t.y,e.y,e.scaleY,e.scale,e.originY)}function GS(t,e){return $S(KN(t.getBoundingClientRect(),e))}function JN(t,e,n){const r=GS(t,n),{scroll:i}=e;return i&&(oa(r.x,i.offset.x),oa(r.y,i.offset.y)),r}const ZN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eL=Ea.length;function tL(t,e,n){let r="",i=!0;for(let s=0;s<eL;s++){const o=Ea[s],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=AS(l,Dg[o]);if(!u){i=!1;const f=ZN[o]||o;r+=`${f}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function jg(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const u in e){const d=e[u];if(Pa.has(u)){o=!0;continue}else if(iS(u)){i[u]=d;continue}else{const f=AS(d,Dg[u]);u.startsWith("origin")?(l=!0,s[u]=f):r[u]=f}}if(e.transform||(o||n?r.transform=tL(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${u} ${d} ${f}`}}function YS(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function yb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ml={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=yb(t,e.target.x),r=yb(t,e.target.y);return`${n}% ${r}%`}},nL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ss.parse(t);if(i.length>5)return r;const s=Ss.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=u;const d=St(l,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}},Sm={borderRadius:{...ml,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ml,borderTopRightRadius:ml,borderBottomLeftRadius:ml,borderBottomRightRadius:ml,boxShadow:nL};function qS(t,{layout:e,layoutId:n}){return Pa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sm[t]||t==="opacity")}function Og(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const o in r)(dn(r[o])||i&&dn(i[o])||qS(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}function rL(t){return window.getComputedStyle(t)}class iL extends US{constructor(){super(...arguments),this.type="html",this.renderInstance=YS}readValueFromInstance(e,n){if(Pa.has(n))return this.projection?.isProjecting?um(n):NA(e,n);{const r=rL(e),i=(iS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return GS(e,n)}build(e,n,r){jg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Og(e,n,r)}}const sL={offset:"stroke-dashoffset",array:"stroke-dasharray"},oL={offset:"strokeDashoffset",array:"strokeDasharray"};function aL(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?sL:oL;t[s.offset]=xe.transform(-r);const o=xe.transform(e),l=xe.transform(n);t[s.array]=`${o} ${l}`}const lL=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function XS(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...l},u,d,f){if(jg(t,l,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete p.transformBox);for(const y of lL)p[y]!==void 0&&(g[y]=p[y],delete p[y]);e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&aL(p,i,s,o,!1)}const KS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),QS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cL(t,e,n,r){YS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(KS.has(i)?i:Pg(i),e.attrs[i])}function JS(t,e,n){const r=Og(t,e,n);for(const i in t)if(dn(t[i])||dn(e[i])){const s=Ea.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class uL extends US{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ut}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pa.has(n)){const r=DS(n);return r&&r.default||0}return n=KS.has(n)?n:Pg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return JS(e,n,r)}build(e,n,r){XS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){cL(e,n,r,i)}mount(e){this.isSVGTag=QS(e.tagName),super.mount(e)}}const dL=Lg.length;function ZS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<dL;n++){const r=Lg[n],i=t.props[r];(tc(i)||i===!1)&&(e[r]=i)}return e}function eC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const hL=[...Ng].reverse(),fL=Ng.length;function pL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_N(t,n,r)))}function mL(t){let e=pL(t),n=vb(),r=!0;const i=u=>(d,f)=>{const p=ha(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:y,...w}=p;d={...d,...w,...y}}return d};function s(u){e=u(t)}function o(u){const{props:d}=t,f=ZS(t.parent)||{},p=[],g=new Set;let y={},w=1/0;for(let _=0;_<fL;_++){const C=hL[_],E=n[C],k=d[C]!==void 0?d[C]:f[C],R=tc(k),P=C===u?E.isActive:null;P===!1&&(w=_);let N=k===f[C]&&k!==d[C]&&R;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),E.protectedKeys={...y},!E.isActive&&P===null||!k&&!E.prevProp||Jd(k)||typeof k=="boolean")continue;const T=gL(E.prevProp,k);let A=T||C===u&&E.isActive&&!N&&R||_>w&&R,O=!1;const $=Array.isArray(k)?k:[k];let W=$.reduce(i(C),{});P===!1&&(W={});const{prevResolvedValues:Z={}}=E,K={...Z,...W},Q=L=>{A=!0,g.has(L)&&(O=!0,g.delete(L)),E.needsAnimating[L]=!0;const z=t.getValue(L);z&&(z.liveStyle=!1)};for(const L in K){const z=W[L],X=Z[L];if(y.hasOwnProperty(L))continue;let q=!1;gm(z)&&gm(X)?q=!eC(z,X):q=z!==X,q?z!=null?Q(L):g.add(L):z!==void 0&&g.has(L)?Q(L):E.protectedKeys[L]=!0}E.prevProp=k,E.prevResolvedValues=W,E.isActive&&(y={...y,...W}),r&&t.blockInitialAnimation&&(A=!1);const Y=N&&T;A&&(!Y||O)&&p.push(...$.map(L=>{const z={type:C};if(typeof L=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,q=ha(X,L);if(X.enteringChildren&&q){const{delayChildren:F}=q.transition||{};z.delay=SS(X.enteringChildren,t,F)}}return{animation:L,options:z}}))}if(g.size){const _={};if(typeof d.initial!="boolean"){const C=ha(t,Array.isArray(d.initial)?d.initial[0]:d.initial);C&&C.transition&&(_.transition=C.transition)}g.forEach(C=>{const E=t.getBaseTarget(C),k=t.getValue(C);k&&(k.liveStyle=!0),_[C]=E??null}),p.push({animation:_})}let v=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(p):Promise.resolve()}function l(u,d){if(n[u].isActive===d)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(u,d)),n[u].isActive=d;const f=o(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=vb()}}}function gL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eC(e,t):!1}function Js(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vb(){return{animate:Js(!0),whileInView:Js(),whileHover:Js(),whileTap:Js(),whileDrag:Js(),whileFocus:Js(),exit:Js()}}const tC=1e-4,yL=1-tC,vL=1+tC,nC=.01,xL=0-nC,bL=0+nC;function kn(t){return t.max-t.min}function wL(t,e,n){return Math.abs(t-e)<=n}function xb(t,e,n,r=.5){t.origin=r,t.originPoint=St(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=St(n.min,n.max,t.origin)-t.originPoint,(t.scale>=yL&&t.scale<=vL||isNaN(t.scale))&&(t.scale=1),(t.translate>=xL&&t.translate<=bL||isNaN(t.translate))&&(t.translate=0)}function Il(t,e,n,r){xb(t.x,e.x,n.x,r?r.originX:void 0),xb(t.y,e.y,n.y,r?r.originY:void 0)}function bb(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function _L(t,e,n){bb(t.x,e.x,n.x),bb(t.y,e.y,n.y)}function wb(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function Ed(t,e,n){wb(t.x,e.x,n.x),wb(t.y,e.y,n.y)}function _b(t,e,n,r,i){return t-=e,t=Td(t,1/n,r),i!==void 0&&(t=Td(t,1/i,r)),t}function SL(t,e=0,n=1,r=.5,i,s=t,o=t){if(Zr.test(e)&&(e=parseFloat(e),e=St(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=St(s.min,s.max,r);t===s&&(l-=e),t.min=_b(t.min,e,n,l,i),t.max=_b(t.max,e,n,l,i)}function Sb(t,e,[n,r,i],s,o){SL(t,e[n],e[r],e[i],e.scale,s,o)}const CL=["x","scaleX","originX"],kL=["y","scaleY","originY"];function Cb(t,e,n,r){Sb(t.x,e,CL,n?n.x:void 0,r?r.x:void 0),Sb(t.y,e,kL,n?n.y:void 0,r?r.y:void 0)}function kb(t,e){t.min=e.min,t.max=e.max}function Nr(t,e){kb(t.x,e.x),kb(t.y,e.y)}function Mb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Tb(t){return t.translate===0&&t.scale===1}function rC(t){return Tb(t.x)&&Tb(t.y)}function Eb(t,e){return t.min===e.min&&t.max===e.max}function ML(t,e){return Eb(t.x,e.x)&&Eb(t.y,e.y)}function Pb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function iC(t,e){return Pb(t.x,e.x)&&Pb(t.y,e.y)}function Db(t){return kn(t.x)/kn(t.y)}function Rb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function gr(t){return[t("x"),t("y")]}function TL(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:p,rotateY:g,skewX:y,skewY:w}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),w&&(r+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const sC=["TopLeft","TopRight","BottomLeft","BottomRight"],EL=sC.length,Ab=t=>typeof t=="string"?parseFloat(t):t,Nb=t=>typeof t=="number"||xe.test(t);function PL(t,e,n,r,i,s){i?(t.opacity=St(0,n.opacity??1,DL(r)),t.opacityExit=St(e.opacity??1,0,RL(r))):s&&(t.opacity=St(e.opacity??1,n.opacity??1,r));for(let o=0;o<EL;o++){const l=`border${sC[o]}Radius`;let u=Lb(e,l),d=Lb(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||Nb(u)===Nb(d)?(t[l]=Math.max(St(Ab(u),Ab(d),r),0),(Zr.test(d)||Zr.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=St(e.rotate||0,n.rotate||0,r))}function Lb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DL=oC(0,.5,J_),RL=oC(.5,.95,_r);function oC(t,e,n){return r=>r<t?0:r>e?1:n(Jl(t,e,r))}function AL(t,e){const n=Cn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ri(r),t(s-e))};return at.setup(r,!0),()=>ri(r)}function nc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function hd(t){return dn(t)?t.get():t}function NL(t,e,n){const r=dn(t)?t:_o(t);return r.start(Tg("",r,e,n)),r.animation}const LL=(t,e)=>t.depth-e.depth;class jL{constructor(){this.children=[],this.isDirty=!1}add(e){ug(this.children,e),this.isDirty=!0}remove(e){dg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(LL),this.isDirty=!1,this.children.forEach(e)}}class OL{constructor(){this.members=[]}add(e){ug(this.members,e),e.scheduleRender()}remove(e){if(dg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},xp=["","X","Y","Z"],FL=1e3;let IL=0;function bp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function aC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=MS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&aC(r)}function lC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e?.()){this.id=IL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VL),this.nodes.forEach(HL),this.nodes.forEach(GL),this.nodes.forEach(UL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new jL)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=IS(o)&&!zN(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;at.read(()=>{p=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,f&&f(),f=AL(g,250),fd.hasAnimatedSinceResize&&(fd.hasAnimatedSinceResize=!1,this.nodes.forEach(Fb)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||QL,{onLayoutAnimationStart:v,onLayoutAnimationComplete:_}=d.getProps(),C=!this.targetLayout||!iC(this.targetLayout,y),E=!p&&g;if(this.options.layoutRoot||this.resumeFrom||E||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Mg(w,"layout"),onPlay:v,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(f,E)}else p||Fb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YL),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ob);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(WL),this.nodes.forEach(zL),this.nodes.forEach(BL)):this.nodes.forEach(Ob),this.clearAllSnapshots();const l=Cn.now();en.delta=ni(0,1e3/60,l-en.timestamp),en.timestamp=l,en.isProcessing=!0,dp.update.process(en),dp.preRender.process(en),dp.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($L),this.sharedNodes.forEach(qL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!rC(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||io(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),JL(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ut();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZL))){const{scroll:d}=this.root;d&&(oa(l.x,d.offset.x),oa(l.y,d.offset.y))}return l}removeElementScroll(o){const l=Ut();if(Nr(l,o),this.scroll?.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Nr(l,o),oa(l.x,f.offset.x),oa(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const u=Ut();Nr(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&aa(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),io(f.latestValues)&&aa(u,f.latestValues)}return io(this.latestValues)&&aa(u,this.latestValues),u}removeTransform(o){const l=Ut();Nr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!io(d.latestValues))continue;wm(d.latestValues)&&d.updateSnapshot();const f=Ut(),p=d.measurePageBox();Nr(f,p),Cb(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return io(this.latestValues)&&Cb(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=en.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_L(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nr(this.target,this.layout.layoutBox),HS(this.target,this.targetDelta)):Nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||wm(this.parent.latestValues)||WS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),Ed(this.relativeTargetOrigin,l,u),Nr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===en.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Nr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;QN(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ut());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mb(this.prevProjectionDelta.x,this.projectionDelta.x),Mb(this.prevProjectionDelta.y,this.projectionDelta.y)),Il(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!Rb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sa(),this.projectionDelta=sa(),this.projectionDeltaWithTransform=sa()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},p=sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Ut(),y=u?u.source:void 0,w=this.layout?this.layout.source:void 0,v=y!==w,_=this.getStack(),C=!_||_.members.length<=1,E=!!(v&&!C&&this.options.crossfade===!0&&!this.path.some(KL));this.animationProgress=0;let k;this.mixTargetDelta=R=>{const P=R/1e3;Ib(p.x,o.x,P),Ib(p.y,o.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ed(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XL(this.relativeTarget,this.relativeTargetOrigin,g,P),k&&ML(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Ut()),Nr(k,this.relativeTarget)),v&&(this.animationValues=f,PL(f,d,this.latestValues,P,E,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{fd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_o(0)),this.currentAnimation=NL(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&cC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Ut();const p=kn(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=kn(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}Nr(l,u),aa(l,f),Il(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new OL),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&bp("z",o,d,this.animationValues);for(let f=0;f<xp.length;f++)bp(`rotate${xp[f]}`,o,d,this.animationValues),bp(`skew${xp[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=hd(l?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=hd(l?.pointerEvents)||""),this.hasProjected&&!io(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let p=TL(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),o.transform=p;const{x:g,y}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Sm){if(f[w]===void 0)continue;const{correct:v,applyTo:_,isCSSVariable:C}=Sm[w],E=p==="none"?f[w]:v(f[w],d);if(_){const k=_.length;for(let R=0;R<k;R++)o[_[R]]=E}else C?this.options.visualElement.renderState.vars[w]=E:o[w]=E}this.options.layoutId&&(o.pointerEvents=d===this?hd(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(jb),this.root.sharedNodes.clear()}}}function zL(t){t.updateLayout()}function BL(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?gr(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],g=kn(p);p.min=n[f].min,p.max=p.min+g}):cC(i,e.layoutBox,n)&&gr(f=>{const p=s?e.measuredBox[f]:e.layoutBox[f],g=kn(n[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const o=sa();Il(o,n,e.layoutBox);const l=sa();s?Il(l,t.applyTransform(r,!0),e.measuredBox):Il(l,n,e.layoutBox);const u=!rC(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const y=Ut();Ed(y,e.layoutBox,p.layoutBox);const w=Ut();Ed(w,n,g.layoutBox),iC(y,w)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function VL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $L(t){t.clearSnapshot()}function jb(t){t.clearMeasurements()}function Ob(t){t.isLayoutDirty=!1}function WL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HL(t){t.resolveTargetDelta()}function GL(t){t.calcProjection()}function YL(t){t.resetSkewAndRotation()}function qL(t){t.removeLeadSnapshot()}function Ib(t,e,n){t.translate=St(e.translate,0,n),t.scale=St(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zb(t,e,n,r){t.min=St(e.min,n.min,r),t.max=St(e.max,n.max,r)}function XL(t,e,n,r){zb(t.x,e.x,n.x,r),zb(t.y,e.y,n.y,r)}function KL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QL={duration:.45,ease:[.4,0,.1,1]},Bb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Vb=Bb("applewebkit/")&&!Bb("chrome/")?Math.round:_r;function Ub(t){t.min=Vb(t.min),t.max=Vb(t.max)}function JL(t){Ub(t.x),Ub(t.y)}function cC(t,e,n){return t==="position"||t==="preserve-aspect"&&!wL(Db(e),Db(n),.2)}function ZL(t){return t!==t.root&&t.scroll?.wasRoot}const ej=lC({attachResizeListener:(t,e)=>nc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wp={current:void 0},uC=lC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wp.current){const t=new ej({});t.mount(window),t.setOptions({layoutScroll:!0}),wp.current=t}return wp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Tc=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $b(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tj(...t){return e=>{let n=!1;const r=t.map(i=>{const s=$b(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():$b(t[i],null)}}}}function nj(...t){return M.useCallback(tj(...t),t)}class rj extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=NS(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ij({children:t,isPresent:e,anchorX:n,root:r}){const i=M.useId(),s=M.useRef(null),o=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=M.useContext(Tc),u=t.props?.ref??t?.ref,d=nj(s,u);return M.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:y,right:w}=o.current;if(e||!s.current||!f||!p)return;const v=n==="left"?`left: ${y}`:`right: ${w}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");l&&(_.nonce=l);const C=r??document.head;return C.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${v}px !important;
            top: ${g}px !important;
          }
        `),()=>{C.contains(_)&&C.removeChild(_)}},[e]),b.jsx(rj,{isPresent:e,childRef:s,sizeRef:o,children:M.cloneElement(t,{ref:d})})}const sj=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l,root:u})=>{const d=Sc(oj),f=M.useId();let p=!0,g=M.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:y=>{d.set(y,!0);for(const w of d.values())if(!w)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,r]);return s&&p&&(g={...g}),M.useMemo(()=>{d.forEach((y,w)=>d.set(w,!1))},[n]),M.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=b.jsx(ij,{isPresent:n,anchorX:l,root:u,children:t})),b.jsx(Qd.Provider,{value:g,children:t})};function oj(){return new Map}function dC(t=!0){const e=M.useContext(Qd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=M.useId();M.useEffect(()=>{if(t)return i(s)},[t]);const o=M.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Iu=t=>t.key||"";function Wb(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const aj=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:u})=>{const[d,f]=dC(o),p=M.useMemo(()=>Wb(t),[t]),g=o&&!d?[]:p.map(Iu),y=M.useRef(!0),w=M.useRef(p),v=Sc(()=>new Map),_=M.useRef(new Set),[C,E]=M.useState(p),[k,R]=M.useState(p);cg(()=>{y.current=!1,w.current=p;for(let T=0;T<k.length;T++){const A=Iu(k[T]);g.includes(A)?(v.delete(A),_.current.delete(A)):v.get(A)!==!0&&v.set(A,!1)}},[k,g.length,g.join("-")]);const P=[];if(p!==C){let T=[...p];for(let A=0;A<k.length;A++){const O=k[A],$=Iu(O);g.includes($)||(T.splice(A,0,O),P.push(O))}return s==="wait"&&P.length&&(T=P),R(Wb(T)),E(p),null}const{forceRender:N}=M.useContext(lg);return b.jsx(b.Fragment,{children:k.map(T=>{const A=Iu(T),O=o&&!d?!1:p===k||g.includes(A),$=()=>{if(_.current.has(A))return;if(_.current.add(A),v.has(A))v.set(A,!0);else return;let W=!0;v.forEach(Z=>{Z||(W=!1)}),W&&(N?.(),R(w.current),o&&f?.(),r&&r())};return b.jsx(sj,{isPresent:O,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:O?void 0:$,anchorX:l,children:T},A)})})},hC=M.createContext({strict:!1}),Hb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Gb=!1;function lj(){if(Gb)return;const t={};for(const e in Hb)t[e]={isEnabled:n=>Hb[e].some(r=>!!n[r])};VS(t),Gb=!0}function fC(){return lj(),YN()}function cj(t){const e=fC();for(const n in t)e[n]={...e[n],...t[n]};VS(e)}const uj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uj.has(t)}let pC=t=>!Pd(t);function dj(t){typeof t=="function"&&(pC=e=>e.startsWith("on")?!Pd(e):t(e))}try{dj(require("@emotion/is-prop-valid").default)}catch{}function hj(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(pC(i)||n===!0&&Pd(i)||!e&&!Pd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const eh=M.createContext({});function fj(t,e){if(Zd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tc(n)?n:void 0,animate:tc(r)?r:void 0}}return t.inherit!==!1?e:{}}function pj(t){const{initial:e,animate:n}=fj(t,M.useContext(eh));return M.useMemo(()=>({initial:e,animate:n}),[Yb(e),Yb(n)])}function Yb(t){return Array.isArray(t)?t.join(" "):t}const Fg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mC(t,e,n){for(const r in e)!dn(e[r])&&!qS(r,n)&&(t[r]=e[r])}function mj({transformTemplate:t},e){return M.useMemo(()=>{const n=Fg();return jg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gj(t,e){const n=t.style||{},r={};return mC(r,n,t),Object.assign(r,mj(t,e)),r}function yj(t,e){const n={},r=gj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const gC=()=>({...Fg(),attrs:{}});function vj(t,e,n,r){const i=M.useMemo(()=>{const s=gC();return XS(s,e,QS(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};mC(s,t.style,t),i.style={...s,...i.style}}return i}const xj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ig(t){return typeof t!="string"||t.includes("-")?!1:!!(xj.indexOf(t)>-1||/[A-Z]/u.test(t))}function bj(t,e,n,{latestValues:r},i,s=!1,o){const u=(o??Ig(t)?vj:yj)(e,r,i,t),d=hj(e,typeof t=="string",s),f=t!==M.Fragment?{...d,...u,ref:n}:{},{children:p}=e,g=M.useMemo(()=>dn(p)?p.get():p,[p]);return M.createElement(t,{...f,children:g})}function wj({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:_j(n,r,i,t),renderState:e()}}function _j(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=hd(s[g]);let{initial:o,animate:l}=t;const u=Zd(t),d=BS(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?l:o;if(p&&typeof p!="boolean"&&!Jd(p)){const g=Array.isArray(p)?p:[p];for(let y=0;y<g.length;y++){const w=Eg(t,g[y]);if(w){const{transitionEnd:v,transition:_,...C}=w;for(const E in C){let k=C[E];if(Array.isArray(k)){const R=f?k.length-1:0;k=k[R]}k!==null&&(i[E]=k)}for(const E in v)i[E]=v[E]}}}return i}const yC=t=>(e,n)=>{const r=M.useContext(eh),i=M.useContext(Qd),s=()=>wj(t,e,r,i);return n?s():Sc(s)},Sj=yC({scrapeMotionValuesFromProps:Og,createRenderState:Fg}),Cj=yC({scrapeMotionValuesFromProps:JS,createRenderState:gC}),kj=Symbol.for("motionComponentSymbol");function Mj(t,e,n){const r=M.useRef(n);M.useInsertionEffect(()=>{r.current=n});const i=M.useRef(null);return M.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const o=r.current;if(typeof o=="function")if(s){const l=o(s);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):o(s);else o&&(o.current=s)},[e])}const vC=M.createContext({});function Ml(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Tj(t,e,n,r,i,s){const{visualElement:o}=M.useContext(eh),l=M.useContext(hC),u=M.useContext(Qd),d=M.useContext(Tc).reducedMotion,f=M.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d,isSVG:s}));const p=f.current,g=M.useContext(vC);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&Ej(f.current,n,i,g);const y=M.useRef(!1);M.useInsertionEffect(()=>{p&&y.current&&p.update(n,u)});const w=n[kS],v=M.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return cg(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),M.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),v.current=!1),p.enteringChildren=void 0)}),p}function Ej(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Ml(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:d})}function xC(t){if(t)return t.options.allowProjection!==!1?t.projection:xC(t.parent)}function _p(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&cj(r);const s=n?n==="svg":Ig(t),o=s?Cj:Sj;function l(d,f){let p;const g={...M.useContext(Tc),...d,layoutId:Pj(d)},{isStatic:y}=g,w=pj(d),v=o(d,y);if(!y&&V_){Dj();const _=Rj(g);p=_.MeasureLayout,w.visualElement=Tj(t,v,g,i,_.ProjectionNode,s)}return b.jsxs(eh.Provider,{value:w,children:[p&&w.visualElement?b.jsx(p,{visualElement:w.visualElement,...g}):null,bj(t,d,Mj(v,w.visualElement,f),v,y,e,s)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=M.forwardRef(l);return u[kj]=t,u}function Pj({layoutId:t}){const e=M.useContext(lg).id;return e&&t!==void 0?e+"-"+t:t}function Dj(t,e){M.useContext(hC).strict}function Rj(t){const e=fC(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Aj(t,e){if(typeof Proxy>"u")return _p;const n=new Map,r=(s,o)=>_p(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,_p(o,void 0,t,e)),n.get(o))})}const Nj=(t,e)=>e.isSVG??Ig(t)?new uL(e):new iL(e,{allowProjection:t!==M.Fragment});class Lj extends Ps{constructor(e){super(e),e.animationState||(e.animationState=mL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jj=0;class Oj extends Ps{constructor(){super(...arguments),this.id=jj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Fj={animation:{Feature:Lj},exit:{Feature:Oj}};function Ec(t){return{point:{x:t.pageX,y:t.pageY}}}const Ij=t=>e=>Ag(e)&&t(e,Ec(e));function zl(t,e,n,r){return nc(t,e,Ij(n),r)}const bC=({current:t})=>t?t.ownerDocument.defaultView:null,qb=(t,e)=>Math.abs(t-e);function zj(t,e){const n=qb(t.x,e.x),r=qb(t.y,e.y);return Math.sqrt(n**2+r**2)}const Xb=new Set(["auto","scroll"]);class wC{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Cp(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,v=zj(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!v)return;const{point:_}=y,{timestamp:C}=en;this.history.push({..._,timestamp:C});const{onStart:E,onMove:k}=this.handlers;w||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Sp(w,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Cp(y.type==="pointercancel"?this.lastMoveEventInfo:Sp(w,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,E),_&&_(y,E)},!Ag(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const u=Ec(e),d=Sp(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=en;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Cp(d,this.history)),this.removeListeners=Cc(zl(this.contextWindow,"pointermove",this.handlePointerMove),zl(this.contextWindow,"pointerup",this.handlePointerUp),zl(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(Xb.has(r.overflowX)||Xb.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),at.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ri(this.updatePoint)}}function Sp(t,e){return e?{point:e(t.point)}:t}function Kb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Cp({point:t},e){return{point:t,delta:Kb(t,_C(e)),offset:Kb(t,Bj(e)),velocity:Vj(e,.1)}}function Bj(t){return t[0]}function _C(t){return t[t.length-1]}function Vj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=_C(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ri(e)));)n--;if(!r)return{x:0,y:0};const s=xr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Uj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?St(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?St(n,t,r.max):Math.min(t,n)),t}function Qb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $j(t,{top:e,left:n,bottom:r,right:i}){return{x:Qb(t.x,n,i),y:Qb(t.y,e,r)}}function Jb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Wj(t,e){return{x:Jb(t.x,e.x),y:Jb(t.y,e.y)}}function Hj(t,e){let n=.5;const r=kn(t),i=kn(e);return i>r?n=Jl(e.min,e.max-r,t.min):r>i&&(n=Jl(t.min,t.max-i,e.min)),ni(0,1,n)}function Gj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Cm=.35;function Yj(t=Cm){return t===!1?t=0:t===!0&&(t=Cm),{x:Zb(t,"left","right"),y:Zb(t,"top","bottom")}}function Zb(t,e,n){return{min:e1(t,e),max:e1(t,n)}}function e1(t,e){return typeof t=="number"?t:t[e]||0}const qj=new WeakMap;class Xj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{n?(this.stopAnimation(),this.snapToCursor(Ec(p).point)):this.pauseAnimation()},o=(p,g)=>{this.stopAnimation();const{drag:y,dragPropagation:w,onDragStart:v}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LN(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gr(C=>{let E=this.getAxisMotionValue(C).get()||0;if(Zr.test(E)){const{projection:k}=this.visualElement;if(k&&k.layout){const R=k.layout.layoutBox[C];R&&(E=kn(R)*(parseFloat(E)/100))}}this.originPoint[C]=E}),v&&at.postRender(()=>v(p,g)),ym(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:v,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=g;if(w&&this.currentDirection===null){this.currentDirection=Kj(C),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),_&&_(p,g)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>gr(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new wC(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:bC(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&at.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!zu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Uj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Ml(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$j(r.layoutBox,e):this.constraints=!1,this.elastic=Yj(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gr(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Gj(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ml(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=JN(r,i.root,this.visualElement.getTransformPagePoint());let o=Wj(i.layout.layoutBox,s);if(n){const l=n(XN(o));this.hasMutatedConstraints=!!l,l&&(o=$S(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=gr(f=>{if(!zu(f,n,this.currentDirection))return;let p=u&&u[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,w={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ym(this.visualElement,e),r.start(Tg(e,r,0,n,this.visualElement,!1))}stopAnimation(){gr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gr(n=>{const{drag:r}=this.getProps();if(!zu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n],u=s.get()||0;s.set(e[n]-St(o,l,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ml(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();i[o]=Hj({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gr(o=>{if(!zu(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(St(u,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;qj.set(this.visualElement,this);const e=this.visualElement.current,n=zl(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&!FS(u.target)&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ml(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),at.read(r);const o=nc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(gr(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Cm,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function zu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Kj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Qj extends Ps{constructor(e){super(e),this.removeGroupControls=_r,this.removeListeners=_r,this.controls=new Xj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_r}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const t1=t=>(e,n)=>{t&&at.postRender(()=>t(e,n))};class Jj extends Ps{constructor(){super(...arguments),this.removePointerDownListener=_r}onPointerDown(e){this.session=new wC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:t1(e),onStart:t1(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&at.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=zl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let kp=!1;class Zj extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),kp&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,kp=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||at.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;kp=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SC(t){const[e,n]=dC(),r=M.useContext(lg);return b.jsx(Zj,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(vC),isPresent:e,safeToRemove:n})}const eO={pan:{Feature:Jj},drag:{Feature:Qj,ProjectionNode:uC,MeasureLayout:SC}};function n1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&at.postRender(()=>s(e,Ec(e)))}class tO extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=jN(e,(n,r)=>(n1(this.node,r,"Start"),i=>n1(this.node,i,"End"))))}unmount(){}}class nO extends Ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cc(nc(this.node.current,"focus",()=>this.onFocus()),nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function r1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&at.postRender(()=>s(e,Ec(e)))}class rO extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=IN(e,(n,r)=>(r1(this.node,r,"Start"),(i,{success:s})=>r1(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const km=new WeakMap,Mp=new WeakMap,iO=t=>{const e=km.get(t.target);e&&e(t)},sO=t=>{t.forEach(iO)};function oO({root:t,...e}){const n=t||document;Mp.has(n)||Mp.set(n,{});const r=Mp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(sO,{root:t,...e})),r[i]}function aO(t,e,n){const r=oO(e);return km.set(t,n),r.observe(t),()=>{km.delete(t),r.unobserve(t)}}const lO={some:0,all:1};class cO extends Ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:lO[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=d?f:p;g&&g(u)};return aO(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uO(e,n))&&this.startObserver()}unmount(){}}function uO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const dO={inView:{Feature:cO},tap:{Feature:rO},focus:{Feature:nO},hover:{Feature:tO}},hO={layout:{ProjectionNode:uC,MeasureLayout:SC}},fO={...Fj,...dO,...eO,...hO},Ai=Aj(fO,Nj);function CC(t){const e=Sc(()=>_o(t)),{isStatic:n}=M.useContext(Tc);if(n){const[,r]=M.useState(t);M.useEffect(()=>e.on("change",r),[])}return e}function kC(t,e){const n=CC(e()),r=()=>n.set(e());return r(),cg(()=>{const i=()=>at.preRender(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),ri(r)}}),n}function pO(t){Fl.current=[],t();const e=kC(Fl.current,t);return Fl.current=void 0,e}function mO(t,e,n,r){if(typeof t=="function")return pO(t);const s=typeof e=="function"?e:BN(e,n,r);return Array.isArray(t)?i1(t,s):i1([t],([o])=>s(o))}function i1(t,e){const n=Sc(()=>[]);return kC(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function gO(t){const e=M.useRef(0),{isStatic:n}=M.useContext(Tc);M.useEffect(()=>{if(n)return;const r=({timestamp:i,delta:s})=>{e.current||(e.current=i),t(i-e.current,s)};return at.update(r,!0),()=>ri(r)},[t])}function yO({children:t,initialStep:e=1,onStepChange:n=()=>{},onFinalStepCompleted:r=()=>{},className:i="",stepCircleContainerClassName:s="",stepContainerClassName:o="",contentClassName:l="",footerClassName:u="",backButtonProps:d={},nextButtonProps:f={},backButtonText:p="Back",nextButtonText:g="Continue",disableStepIndicators:y=!1,renderStepIndicator:w,isOpen:v=!0,onRequestClose:_,useModalLayout:C=!1,overlayClassName:E="",modalContainerClassName:k="",modalTitle:R="",modalDescription:P="",...N}){if(!v)return null;M.useEffect(()=>{if(!C||typeof document>"u")return;const ue=document.body.style.overflow,pe=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=ue,document.documentElement.style.overflow=pe}},[C]);const[T,A]=M.useState(e),[O,$]=M.useState(0),W=M.Children.toArray(t),Z=W.length,K=T>Z,Q=T===Z,Y=ue=>{A(ue),ue>Z?r():n(ue)},re=()=>{T>1&&($(-1),Y(T-1))},L=()=>{Q||($(1),Y(T+1))},z=()=>{$(1),Y(Z+1)},X=["outer-container",i].filter(Boolean).join(" "),q=(R||P)&&C,F=b.jsxs("div",{className:X,...N,children:[q&&b.jsxs("div",{className:"stepper-modal-header",children:[R&&b.jsx("h3",{className:"stepper-modal-title",children:R}),P&&b.jsx("p",{className:"stepper-modal-description",children:P})]}),b.jsxs("div",{className:`step-circle-container ${s}`.trim(),children:[b.jsx("div",{className:`step-indicator-row ${o}`.trim(),children:W.map((ue,pe)=>{const Re=pe+1,Pe=pe<Z-1;return b.jsxs(Km.Fragment,{children:[w?w({step:Re,currentStep:T,onStepClick:Le=>{$(Le>T?1:-1),Y(Le)}}):b.jsx(wO,{step:Re,disableStepIndicators:y,currentStep:T,onClickStep:Le=>{$(Le>T?1:-1),Y(Le)}}),Pe&&b.jsx(_O,{isComplete:T>Re})]},Re)})}),b.jsx(vO,{isCompleted:K,currentStep:T,direction:O,className:`step-content-default ${l}`.trim(),children:W[T-1]}),!K&&b.jsx("div",{className:`footer-container ${u}`.trim(),children:b.jsxs("div",{className:`footer-nav ${T!==1?"spread":"end"}`.trim(),children:[T!==1&&b.jsx("button",{onClick:re,className:`back-button ${T===1?"inactive":""}`.trim(),...d,children:p}),b.jsx("button",{onClick:Q?z:L,className:"next-button",...f,children:Q?"Complete":g})]})})]})]});if(!C)return F;const G=["stepper-overlay",E].filter(Boolean).join(" "),oe=["stepper-modal-container",k].filter(Boolean).join(" "),ie=typeof _=="function"?_:void 0;return b.jsxs("div",{className:G,children:[b.jsxs("div",{className:oe,children:[ie&&b.jsx("button",{type:"button",className:"stepper-close",onClick:ie,"aria-label":"Cerrar",children:""}),F]}),ie&&b.jsx("button",{type:"button",className:"stepper-overlay-dismiss",onClick:ie,"aria-label":"Cerrar"})]})}function vO({isCompleted:t,currentStep:e,direction:n,children:r,className:i}){const[s,o]=M.useState(0);return b.jsx(Ai.div,{className:i,style:{position:"relative",overflow:"hidden"},animate:{height:t?0:s},transition:{type:"spring",duration:.4},children:b.jsx(aj,{initial:!1,mode:"sync",custom:n,children:!t&&b.jsx(xO,{direction:n,onHeightReady:l=>o(l),children:r},e)})})}function xO({children:t,direction:e,onHeightReady:n}){const r=M.useRef(null);return M.useLayoutEffect(()=>{r.current&&n(r.current.offsetHeight)},[t,n]),b.jsx(Ai.div,{ref:r,custom:e,variants:bO,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4},style:{position:"absolute",left:0,right:0,top:0},children:t})}const bO={enter:t=>({x:t>=0?"-100%":"100%",opacity:0}),center:{x:"0%",opacity:1},exit:t=>({x:t>=0?"50%":"-50%",opacity:0})};function gl({children:t}){return b.jsx("div",{className:"step-default",children:t})}function wO({step:t,currentStep:e,onClickStep:n,disableStepIndicators:r}){const i=e===t?"active":e<t?"inactive":"complete",s=()=>{t!==e&&!r&&n(t)};return b.jsx(Ai.div,{onClick:s,className:"step-indicator",animate:i,initial:!1,children:b.jsx(Ai.div,{variants:{inactive:{scale:1,backgroundColor:"#222",color:"#a3a3a3"},active:{scale:1,backgroundColor:"#5227FF",color:"#5227FF"},complete:{scale:1,backgroundColor:"#5227FF",color:"#3b82f6"}},transition:{duration:.3},className:"step-indicator-inner",children:i==="complete"?b.jsx(SO,{className:"check-icon"}):i==="active"?b.jsx("div",{className:"active-dot"}):b.jsx("span",{className:"step-number",children:t})})})}function _O({isComplete:t}){const e={incomplete:{width:0,backgroundColor:"rgba(82, 39, 255, 0)"},complete:{width:"100%",backgroundColor:"#5227FF"}};return b.jsx("div",{className:"step-connector",children:b.jsx(Ai.div,{className:"step-connector-inner",variants:e,initial:!1,animate:t?"complete":"incomplete",transition:{duration:.4}})})}function SO(t){return b.jsx("svg",{...t,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:b.jsx(Ai.path,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.1,type:"tween",ease:"easeOut",duration:.3},strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}const Bl="subly:state",lo={language:"es",currencyDisplayMode:"original",baseCurrency:"USD",calendarAutoSyncAll:!0,calendarFloatingButtonEnabled:!0,calendarReminderDaysBefore:1,calendarReminderMethod:"popup",onboardingCompleted:!1,driveBackupFileId:void 0,driveLastBackupAt:void 0};function Tl(t){const e=Array.isArray(t?.subscriptions)?t.subscriptions:[],n=t?.settings,r=n?.language==="en"?"en":"es",i=n?.currencyDisplayMode==="convertToBase"?"convertToBase":"original",s=String(n?.baseCurrency??lo.baseCurrency).trim().toUpperCase()||lo.baseCurrency,o=!!(n?.calendarAutoSyncAll??lo.calendarAutoSyncAll),l=n?.calendarFloatingButtonEnabled!==!1,d=((v,_,C,E)=>{const k=typeof v=="number"?v:Number(v);if(!Number.isFinite(k))return _;const R=Math.trunc(k);return R<C?C:R>E?E:R})(n?.calendarReminderDaysBefore,lo.calendarReminderDaysBefore??1,0,365),f=n?.calendarReminderMethod==="email"?"email":"popup",p=!!(n?.onboardingCompleted??lo.onboardingCompleted),g=String(n?.calendarSubscriptionsCalendarId??"").trim()||void 0,y=String(n?.driveBackupFileId??"").trim()||void 0,w=String(n?.driveLastBackupAt??"").trim()||void 0;return{subscriptions:e,settings:{language:r,currencyDisplayMode:i,baseCurrency:s,calendarAutoSyncAll:o,calendarFloatingButtonEnabled:l,calendarReminderDaysBefore:d,calendarReminderMethod:f,onboardingCompleted:p,calendarSubscriptionsCalendarId:g,driveBackupFileId:y,driveLastBackupAt:w}}}function MC(){return typeof chrome<"u"&&!!chrome.storage?.local}async function CO(){if(MC()){const e=await chrome.storage.local.get([Bl]);return Tl(e?.[Bl]??null)}const t=typeof localStorage<"u"?localStorage.getItem(Bl):null;if(!t)return Tl(null);try{return Tl(JSON.parse(t))}catch{return Tl(null)}}async function kO(t){if(MC()){await chrome.storage.local.set({[Bl]:t});return}typeof localStorage<"u"&&localStorage.setItem(Bl,JSON.stringify(t))}function TC(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function va(t,e,n=new Date){const[r,i,s]=t.split("-").map(Number),o=new Date(r,(i??1)-1,s??1);if(Number.isNaN(o.getTime()))return n;const l=(f,p)=>{const g=new Date(f);return g.setMonth(g.getMonth()+p),g},u=e==="monthly"?1:e==="quarterly"?3:e==="semiannual"?6:12;let d=new Date(o);for(;d.getTime()<n.getTime();)d=l(d,u);return d}const EC=M.createContext(null);function MO({children:t}){const[e,n]=M.useState({subscriptions:[],settings:lo}),[r,i]=M.useState(!1);M.useEffect(()=>{let o=!0;return(async()=>{const l=await CO();o&&(n(l),i(!0))})(),()=>{o=!1}},[]),M.useEffect(()=>{r&&kO(e)},[r,e]);const s=M.useMemo(()=>({state:e,setSubscriptions:o=>n(l=>({...l,subscriptions:o})),setSettings:o=>n(l=>({...l,settings:o})),ready:r}),[r,e]);return b.jsx(EC.Provider,{value:s,children:t})}function Da(){const t=M.useContext(EC);if(!t)throw new Error("useStore must be used within StoreProvider");return t}const pd={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},TO=t=>typeof t=="number"?`${t}px`:t??void 0,EO=(t,e,n)=>{M.useEffect(()=>{if(!window.ResizeObserver){const i=()=>t();return window.addEventListener("resize",i),t(),()=>window.removeEventListener("resize",i)}const r=e.map(i=>{if(!i.current)return null;const s=new window.ResizeObserver(t);return s.observe(i.current),s});return t(),()=>{r.forEach(i=>i?.disconnect())}},n)},PO=(t,e,n)=>{M.useEffect(()=>{const r=t.current?.querySelectorAll("img")??[];if(!r||r.length===0){e();return}let i=r.length;const s=()=>{i-=1,i===0&&e()};return r.forEach(o=>{const l=o;l.complete?s():(l.addEventListener("load",s,{once:!0}),l.addEventListener("error",s,{once:!0}))}),()=>{r.forEach(o=>{o.removeEventListener("load",s),o.removeEventListener("error",s)})}},n)},DO=(t,e,n,r,i)=>{const s=M.useRef(null),o=M.useRef(null),l=M.useRef(0),u=M.useRef(0),[d,f]=M.useState(!0);M.useEffect(()=>{const p=t.current;if(!p)return;n>0&&(l.current=(l.current%n+n)%n,p.style.transform=`translate3d(${-l.current}px, 0, 0)`);const g=y=>{if(!d){s.current=requestAnimationFrame(g);return}o.current===null&&(o.current=y);const w=Math.max(0,y-o.current)/1e3;o.current=y;const v=i&&r?0:e,_=1-Math.exp(-w/pd.SMOOTH_TAU);if(u.current+=(v-u.current)*_,n>0){let C=l.current+u.current*w;C=(C%n+n)%n,l.current=C;const E=-l.current;p.style.transform=`translate3d(${E}px, 0, 0)`}else p.style.transform="translate3d(0, 0, 0)";s.current=requestAnimationFrame(g)};return s.current=requestAnimationFrame(g),()=>{s.current!==null&&(cancelAnimationFrame(s.current),s.current=null),o.current=null}},[e,n,r,i,t,d]),M.useEffect(()=>{const p=t.current?.parentElement?.parentElement;if(!p||!window.IntersectionObserver)return;const g=new IntersectionObserver(y=>{for(const w of y)w.target===p&&f(w.isIntersecting)},{root:null,threshold:0});return g.observe(p),()=>g.disconnect()},[t])},PC=M.memo(({logos:t,speed:e=120,direction:n="left",width:r="100%",logoHeight:i=28,gap:s=32,pauseOnHover:o=!0,fadeOut:l=!1,fadeOutColor:u,scaleOnHover:d=!1,ariaLabel:f="Partner logos",className:p,style:g})=>{const y=M.useRef(null),w=M.useRef(null),v=M.useRef(null),[_,C]=M.useState(0),[E,k]=M.useState(pd.MIN_COPIES),[R,P]=M.useState(!1),[N,T]=M.useState({}),A=M.useMemo(()=>{const L=Math.abs(e),z=n==="left"?1:-1,X=e<0?-1:1;return L*z*X},[e,n]),O=M.useCallback(()=>{const L=y.current?.clientWidth??0,z=(v.current?.scrollWidth??0)||(v.current?.getBoundingClientRect?.()?.width??0);if(z>0&&L>0){const X=Math.ceil(z);C(X);let q=Math.ceil(L/X)+pd.COPY_HEADROOM;q=Math.max(pd.MIN_COPIES,q),k(q),requestAnimationFrame(()=>{const F=w.current?.scrollWidth??0;if(F>0&&F<L*2){const G=Math.ceil((L*2-F)/X);G>0&&k(oe=>oe+G)}})}},[]);EO(O,[y,v],[t,s,i]),PO(v,O,[t,s,i]),DO(w,A,_,R,o);const $=M.useMemo(()=>({"--logoloop-gap":`${s}px`,"--logoloop-logoHeight":`${i}px`,...u?{"--logoloop-fadeColor":u}:{}}),[s,i,u]),W=M.useMemo(()=>["logoloop",l&&"logoloop--fade",d&&"logoloop--scale-hover",p].filter(Boolean).join(" "),[l,d,p]),Z=M.useCallback(()=>{o&&P(!0)},[o]),K=M.useCallback(()=>{o&&P(!1)},[o]),Q=M.useCallback((L,z,X,q,F)=>{const G=L.node!==void 0,oe=Number(L.scale??1)||1,ie=oe!==1?{transform:`scale(${oe})`,transformOrigin:"center"}:void 0,ue=G?b.jsx("span",{className:"logoloop__node",style:ie,"aria-hidden":!!L.href&&!L.ariaLabel,children:L.node}):q||N[X]?b.jsx("span",{className:"logoloop__node",style:ie,"aria-hidden":!0,children:L.alt||L.title||"Logo"}):b.jsx("img",{src:L.src,srcSet:L.srcSet,sizes:L.sizes,width:L.width,height:L.height,alt:L.alt??"",title:L.title,loading:F?"eager":"lazy",decoding:"async",draggable:!1,style:ie,onError:()=>T(Le=>({...Le,[X]:!0}))}),pe=G?L.ariaLabel??L.title:L.alt??L.title,Re=L.href,Pe=Re?b.jsx("a",{className:"logoloop__link",href:Re,"aria-label":pe||"logo link",target:"_blank",rel:"noreferrer noopener",children:ue}):ue;return b.jsx("li",{className:"logoloop__item",role:"listitem",children:Pe},z)},[N]),Y=M.useMemo(()=>Array.from({length:E},(L,z)=>b.jsx("ul",{className:"logoloop__list",role:"list","aria-hidden":z>0,ref:z===0?v:void 0,children:t.map((X,q)=>Q(X,`${z}-${q}`,q,z>0?N[q]:!1,z===0))},`copy-${z}`)),[N,E,t,Q]),re=M.useMemo(()=>({width:TO(r)??"100%",...$,...g}),[r,$,g]);return b.jsxs("div",{ref:y,className:W,style:re,role:"region","aria-label":f,onMouseEnter:Z,onMouseLeave:K,children:[b.jsx("div",{className:"logoloop__track",ref:w,children:Y}),b.jsx("div",{style:{height:1}})]})});PC.displayName="LogoLoop";const s1={es:{common:{loading:"Cargando",language:{es:"Espaol",en:"English"},cancel:"Cancelar",clear:"Limpiar",save:"Guardar",add:"Aadir",edit:"Editar",delete:"Eliminar",today:"Hoy",tomorrow:"Maana",subscription:"suscripcin",subscriptions:"suscripciones",error:"Error",synced:"Sync",notSynced:"No sync",on:"ON",off:"OFF",importJson:"Importar JSON",exportJson:"Exportar JSON",exported:"Exportado.",importedCount:"Importadas: {{count}}",importFailed:"Importacin fallida (JSON invlido o estructura incorrecta).",none:"",uncategorized:"Sin categora",other:"Otros"},nav:{dashboard:"Resumen",subscriptions:"Suscripciones",calendar:"Calendario",settings:"Ajustes"},calendar:{title:"Calendario",hint:"Google Calendar se abre en una pestaa por seguridad (no se puede embeber en el panel).",agenda30:"Agenda  Prximos {{days}} das",noUpcoming:"No hay renovaciones en los prximos {{days}} das.",emptyHint:"Aade suscripciones para ver tu agenda.",syncProgress:"Progreso: {{ok}}/{{total}} ok  {{fail}} fail"},onboarding:{title:"Bienvenido a Subly",modalDescription:"Configura lo bsico en 1 minuto y empieza a registrar tus suscripciones.",welcomeType1:"Bienvenido a Subly",welcomeType2:"Tu centro de suscripciones",welcomeType3:"Todo a un vistazo",back:"Atrs",next:"Continuar",step1Body:"Visualiza gastos y renovaciones de un vistazo.",step1Tip:"Puedes cerrar este asistente () y volver luego desde Ajustes.",step2Body:"Rene todas tus suscripciones en un solo lugar: aade servicios, edtalos y controla sus renovaciones.",step2ExamplesAria:"Ejemplos de suscripciones",step2MiniFormTitle:"As se ve el formulario",step2MiniFormNameLabel:"Nombre",step2MiniFormPriceLabel:"Precio",step2MiniFormPeriodLabel:"Periodicidad",step2MiniFormStartDateLabel:"Fecha de inicio",step2MiniFormPeriodMonthly:"Mensual",step2MiniFormPeriodAnnual:"Anual",step2MiniFormSubmit:"Previsualizar",step2MiniFormHelp:"Previsualizacin: no se guardar nada.",step2MiniFormCreated:"Listo. As quedara al guardarla (previsualizacin).",calendarPortabilityTitle:"Eventos en tu Google Calendar",calendarPortabilityBody:"Al sincronizar, Subly crea eventos recurrentes en tu cuenta de Google Calendar. As los vers tambin en mvil, tablet y otros dispositivos con la misma cuenta.",calendarPortabilityBullet1:"Los eventos quedan en tu calendario, no en servidores del desarrollador.",calendarPortabilityBullet2:"Puedes activar/desactivar la sincronizacin cuando quieras desde Ajustes.",calendarPortabilityBullet3:"Si eliminas la sincronizacin, Subly puede borrar sus eventos asociados.",previewTitle:"Vista previa",previewBody:"Una vez aadidas tus suscripciones, controla tus gastos con grficos y tendencias.",previewEmpty:"Aade al menos 1 suscripcin para ver el preview.",previewKpiCount:"Suscripciones",previewKpiMonthly:"Gasto mensual",previewKpiNext:"Prxima renovacin",previewSlideKpis:"Resumen rpido",previewSlideTop:"Top suscripciones",previewSlideCategories:"Por categora",previewChartTrendTitle:"Evolucin mensual",previewChartCategoriesTitle:"Por categora",previewExampleLabel:"Ejemplo",integrationsTitle:"Integraciones con Google",integrationsBody:"Actvalas cuando quieras desde Ajustes. Se pedir permiso OAuth al usar cada accin.",integrationsCalendarTitle:"Google Calendar",integrationsCalendar1:"Crear/actualizar eventos recurrentes (todo el da) por suscripcin.",integrationsCalendar2:"Opcional: calendario dedicado Subly Subscriptions.",integrationsCalendar3:"Recordatorios: notificacin o email (por defecto o por suscripcin).",integrationsDriveTitle:"Google Drive",integrationsDrive1:"Guardar un backup JSON en appDataFolder (carpeta oculta).",integrationsDrive2:"Restaurar una copia anterior cuando lo necesites.",integrationsDrive3:"No se guarda en servidores del desarrollador.",goSettings:"Ir a Ajustes"},settings:{groupGeneral:"General",groupIntegrations:"Integraciones",importExportTitle:"Importar / Exportar JSON",importExportDescription:"Exporta o importa tus suscripciones en formato JSON.",groupData:"Datos y mantenimiento",groupHelp:"Ayuda",languageTitle:"Idioma",languageDescription:"Selecciona el idioma de la app.",alertsTitle:"Alertas",alertsHint:"Las alertas se muestran como notificaciones del navegador (si estn permitidas).",currencyTitle:"Moneda",displayAmounts:"Mostrar importes",displayOriginal:"Con sus monedas originales",displayConvert:"Convertir a una moneda nica",baseCurrency:"Moneda base",currencyHint:"Al convertir a una sola moneda, los totales y grficos se muestran en la moneda base.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Se abre en una pestaa nueva.",calendarSyncTitle:"Sincronizacin",calendarDedicatedLabel:"Usar calendario dedicado para suscripciones",calendarDedicatedHint:"Al activarlo, se crea un calendario dedicado para tus suscripciones.",calendarAutoSyncAllLabel:"Auto-sync de suscripciones",calendarAutoSyncAllHint:"Al guardar cambios en Suscripciones, se intentar sincronizar automticamente (si ya diste permiso).",calendarReminderTitle:"Notificacin por defecto",calendarReminderHint:"Se aplica al sincronizar (crear/actualizar) eventos de suscripciones. 0 das desactiva recordatorios.",calendarReminderDaysLabel:"Das antes",calendarReminderMethodLabel:"Tipo",calendarReminderMethodPopup:"Notificacin",calendarReminderMethodEmail:"Email",openGoogleCalendar:"Abrir Google Calendar",extensionTitle:"Extensin",floatingButtonLabel:"Mostrar botn flotante en Google Calendar",floatingButtonHint:"Si lo desactivas, podrs abrir Subly solo desde el icono de la extensin (o el panel lateral si ya est abierto).",dataTitle:"Datos",resetLocalLabel:"Borrar datos locales",resetLocalHint:'Elimina suscripciones y restablece ajustes de este dispositivo. No borra tu copia en Drive ni eventos ya creados en Calendar. Si quieres eliminar tambin los eventos creados por Subly, usa "Eliminar calendario dedicado" ms abajo.',resetLocalConfirm:"Esto borrar tus datos locales (suscripciones y ajustes) en este dispositivo. No elimina el calendario dedicado ni los eventos en Google Calendar. Continuar?",resetLocalDone:"Datos locales borrados.",deleteCalendarTitle:"Eliminar calendario dedicado",deleteCalendarDescription:"Borra el calendario que cre Subly junto con todos los eventos que contiene.",deleteCalendarHint:"Accin irreversible: eliminar permanentemente el calendario y los eventos creados por Subly.",deleteCalendarLabel:"Eliminar calendario dedicado",deleteCalendarConfirm:"Se eliminar el calendario y todos los eventos que Subly cre en l. Esta accin no se puede deshacer. Continuar?",deleteCalendarDone:"Calendario dedicado eliminado.",deleteCalendarFailed:"No se pudo eliminar el calendario dedicado.",deleteCalendarNone:"No hay calendario dedicado configurado.",privacyTitle:"Permisos",privacyBody:"Subly guarda tus datos localmente. Si activas sincronizacin/backup, usa Google OAuth para crear/actualizar eventos en Google Calendar y guardar una copia JSON en Drive (appDataFolder).",permissionsHint:"Permisos: identity (OAuth), storage (guardar estado), sidePanel (UI), y acceso a Google APIs + proveedor de tipos de cambio.",googleDisconnectLabel:"Desconectar Google",googleDisconnectHint:"Revoca el token OAuth y fuerza a pedir permisos de nuevo la prxima vez. No borra eventos de Calendar ni tu backup en Drive.",googleDisconnectConfirm:"Esto desconectar Subly de tu cuenta de Google en este navegador. Continuar?",googleDisconnectDone:"Desconectado. La prxima vez se pedirn permisos de nuevo.",googleDisconnectNoToken:"No hay sesin activa que desconectar.",helpTitle:"Ayuda",helpFaqTitle:"FAQ",helpFaqDescription:"Respuestas rpidas y solucin de problemas.",helpContactTitle:"Ponte en contacto con nosotros",helpContactDescription:"Incluye el diagnstico para resolver incidencias ms rpido.",helpContactLastBackup:"ltima copia en Drive",helpFeedbackTitle:"Enviar comentarios",helpFeedbackDescription:"Ideas, mejoras, bugs o sugerencias.",helpFeedbackPlaceholder:"Cuntanos qu mejoraras, qu esperabas que pasase y cmo reproducirlo",helpCopyFeedback:"Copiar comentario",helpFeedbackCopied:"Comentario copiado.",helpFeedbackEmpty:"Escribe un comentario antes de copiar.",helpFeedbackHint:"Pega el comentario en el email de soporte o en el formulario de la tienda.",helpOpenPanelQ:"Cmo abro el panel?",helpOpenPanelA:"En Google Calendar puedes usar el botn flotante (si est activado) o hacer clic en el icono de la extensin para abrir el Side Panel.",helpDriveQ:"Qu se guarda en Drive?",helpDriveA:"Un nico archivo JSON en la carpeta oculta appDataFolder (por defecto: subly-state.json).",helpCalendarQ:"Qu crea en Google Calendar?",helpCalendarA:"Eventos recurrentes (todo el da) para cada suscripcin, si sincronizas.",helpTroubleshootingQ:"Solucin de problemas",helpTroubleshootingA:"Si algo no funciona, prueba estos pasos:",helpTs1:"Recarga Google Calendar y vuelve a abrir el panel.",helpTs2:"Revisa los toggles de sincronizacin y el botn flotante en Integraciones.",helpTs3:"Si Drive/Calendar falla, desconecta Google y vuelve a autorizar desde la accin que lo requiera.",helpStatusQ:"Estado",helpStatusAutoSync:"Auto-sync",helpStatusDedicated:"Calendario dedicado",helpStatusFloating:"Botn flotante",helpStatusDrive:"Backup en Drive",helpStatusLinked:"Vinculado",helpStatusNotLinked:"No vinculado",helpStatusHint:"Los cambios se gestionan en Integraciones y Datos y mantenimiento.",helpDiagnosticsQ:"Diagnstico",helpDiagnosticsA:"Copia un resumen del estado de la app para adjuntarlo en un reporte (no incluye tokens OAuth).",helpCopyDiagnostics:"Copiar diagnstico",helpCopied:"Diagnstico copiado.",helpCopyFailed:"No se pudo copiar automticamente. Copia el texto:",helpContactQ:"Contacto",helpContactA:"Para soporte, usa el email de soporte indicado en la ficha de Chrome Web Store. Si vas a reportar un problema, adjunta tambin el Diagnstico.",helpPrivacyQ:"Privacidad",helpPrivacyA:"Tus datos se guardan localmente. Solo si activas integraciones, Subly usa Google OAuth para Calendar y/o guardar un backup JSON en Drive (appDataFolder).",helpPrivacyOpen:"Abrir poltica de privacidad",onboardingTitle:"Primeros pasos",onboardingDescription:"Puedes volver a ver el onboarding cuando quieras.",openOnboarding:"Ver onboarding de nuevo",onboardingOpened:"Onboarding abierto."},drive:{title:"Copia de seguridad",body:"Guarda una copia en tu Google Drive y restaura una copia anterior cuando lo necesites.",lastBackup:"ltima copia",save:"Guardar copia",restore:"Restaurar copia",saving:"Guardando",restoring:"Restaurando",restoreConfirm:"Esto reemplazar los datos guardados en este dispositivo por la copia de Drive. Quieres continuar?",backupSaved:"Copia guardada en Google Drive.",backupSaveFailed:"No se pudo guardar la copia en Google Drive.",backupRestored:"Datos restaurados desde Google Drive.",backupRestoreFailed:"No se pudo restaurar desde Google Drive."},subscriptions:{listTitle:"Listado",subtitle:"Aade, edita y revisa tus suscripciones.",addSubscription:"Aadir suscripcin",noSubscriptions:"No hay suscripciones an.",addToCalendar:"Aadir a Calendar",syncAll:"Sync todas",syncing:"Sincronizando",syncToCalendar:"Sync con Calendar",syncCreate:"Crear en Calendar",syncUpdate:"Actualizar en Calendar",syncOk:"Sincronizado con Google Calendar.",syncFailed:"Error al sincronizar.",reminderInfo:"La notificacin se configura al sincronizar con Google Calendar.",remindersTitle:"Avisos de renovacin",reminderUseCustom:"Usar recordatorio personalizado",reminderDaysBefore:"Das antes",reminderMethodLabel:"Tipo",reminderMethodPopup:"Notificacin",reminderMethodEmail:"Email",reminderSummaryNone:"No recibirs notificaciones antes de la renovacin.",reminderSummaryNotificationOne:"Recibirs una notificacin 1 da antes de la renovacin.",reminderSummaryNotificationMany:"Recibirs una notificacin {{days}} das antes de la renovacin.",reminderSummaryEmailOne:"Recibirs un email 1 da antes de la renovacin.",reminderSummaryEmailMany:"Recibirs un email {{days}} das antes de la renovacin.",syncAllDone:"Sincronizacin terminada: {{ok}} ok, {{fail}} fallo(s).",autoSyncAllOn:"Auto-sync: Activado",autoSyncAllOff:"Auto-sync: Desactivado",autoSyncAllHint:"Si est activo, los cambios se sincronizan (si ya hay autorizacin).",autoSyncConfirm:"Quieres sincronizar todas ahora?",editSubscription:"Editar suscripcin",addSubscriptionTitle:"Aadir suscripcin",searchPlaceholder:"Buscar",filtersToggle:"Filtros",resultsCount:"Resultados: {{count}}",filterCategory:"Categora",filterCurrency:"Moneda",filterPeriod:"Periodo",filterMinPrice:"Precio mn.",filterMaxPrice:"Precio mx.",emptyFiltered:"Sin resultados con los filtros actuales.",dueSoon:"Pronto",columnName:"Suscripcin",columnPrice:"Importe",columnPeriod:"Periodo",columnStart:"Inicio",columnNext:"Prximo",columnCategory:"Categora",columnActions:"Acciones",insightsTitle:"Resumen",insightsHint:"Importes equivalentes en {{currency}}.",insightsDueWindow:"Ventana: {{days}}d",insightsCount:"Suscripciones",insightsAvgMonthly:"Media mensual",insightsAvgMonthlyHelper:"Equivalente en {{currency}}.",insightsUpcoming:"Prximas",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Ms prxima: {{date}}",insightsTopCategory:"Top categora",insightsTopCategoryHelper:"{{percent}}% del total",name:"Nombre",category:"Categora",categoryPlaceholder:"Ej: Streaming",amount:"Importe",currency:"Moneda",period:"Periodo",startDate:"Fecha inicio",helpIncomplete:"Completa nombre, importe y fecha.",startLabel:"Inicio",nextLabel:"Prximo",renewal:"Renovacin",detailsAmount:"Importe",detailsPeriod:"Periodo",periodMonthly:"Mensual",periodQuarterly:"Trimestral",periodSemiannual:"Semestral",periodAnnual:"Anual",toastCreated:"Suscripcin creada.",toastUpdated:"Suscripcin actualizada.",toastDeleted:"Suscripcin eliminada.",deleteConfirm:"Eliminar {{name}}? Tambin se borrar su evento en Google Calendar si existe.",calendarEventDeleted:"Evento eliminado de Google Calendar.",calendarDeleteFailed:"No se pudo borrar el evento en Google Calendar.",missingTitle:"Evento no encontrado",missingBody:"El evento asociado a {{name}} no existe en Google Calendar.",missingActionRecreate:"Recrear evento",missingActionDelete:"Eliminar suscripcin",missingActionIgnore:"Ignorar",missingRecreated:"Evento recreado en Calendar"},dashboard:{monthlySpendTitle:"Gasto mensual (equivalente)",noSubscriptionsYet:"Sin suscripciones an.",fxRatesLabel:"FX rates",fxLoading:"Cargando tipos de cambio",fxUpdating:"actualizando",fxReady:"reales (cacheadas)",fxUnavailable:"no disponibles (fallback)",fxIdle:"",upcomingRenewalsTitle:"Prximas renovaciones",noDataYet:"No hay datos todava.",chartsTitle:"Grficos",addSubsToSeeCharts:"Aade suscripciones para ver grficos.",currencyLabel:"Moneda: {{cur}}",kpiSubscriptions:"Suscripciones",kpiAvgMonthly:"Media mensual",kpiDueSoon:"Vencen ( {{days}}d)",kpiTopCategory:"Top categora",projectionTitle:"Proyeccin mensual (ltimos 12 meses)",annualTopTitle:"Top gasto anual (estimado)",monthlyByCategoryTitle:"Gasto mensual por categora (equivalente)",distributionTitle:"Distribucin (gasto mensual equivalente)",noData:"Sin datos.",csvMonth:"Mes",csvAmount:"Importe",csvCurrency:"Moneda",csvName:"Nombre",csvAnnualAmount:"Importe anual",csvCategory:"Categora",csvMonthlyEquivalent:"Equivalente mensual"}},en:{common:{loading:"Loading",language:{es:"Espaol",en:"English"},cancel:"Cancel",clear:"Clear",save:"Save",add:"Add",edit:"Edit",delete:"Delete",today:"Today",tomorrow:"Tomorrow",subscription:"subscription",subscriptions:"subscriptions",error:"Error",synced:"Synced",notSynced:"Not synced",on:"ON",off:"OFF",importJson:"Import JSON",exportJson:"Export JSON",exported:"Exported.",importedCount:"Imported: {{count}}",importFailed:"Import failed (invalid JSON or wrong structure).",none:"",uncategorized:"Uncategorized",other:"Other"},nav:{dashboard:"Dashboard",subscriptions:"Subscriptions",calendar:"Calendar",settings:"Settings"},calendar:{title:"Calendar",hint:"Google Calendar opens in a new tab for safety (it cannot be embedded in the panel).",agenda30:"Agenda  Next {{days}} days",noUpcoming:"No renewals in the next {{days}} days.",emptyHint:"Add subscriptions to see your agenda.",syncProgress:"Progress: {{ok}}/{{total}} ok  {{fail}} fail"},onboarding:{title:"Welcome to Subly",modalDescription:"Set up the basics in 1 minute and start tracking your subscriptions.",welcomeType1:"Welcome to Subly",welcomeType2:"Your subscription hub",welcomeType3:"Everything at a glance",back:"Back",next:"Continue",step1Body:"See spend and upcoming renewals at a glance.",step1Tip:"Tip: you can close this wizard () and come back later from Settings.",step2Body:"Keep all your subscriptions in one place: add services, edit them, and track upcoming renewals.",step2ExamplesAria:"Subscription examples",step2MiniFormTitle:"What the form looks like",step2MiniFormNameLabel:"Name",step2MiniFormPriceLabel:"Price",step2MiniFormPeriodLabel:"Billing period",step2MiniFormStartDateLabel:"Start date",step2MiniFormPeriodMonthly:"Monthly",step2MiniFormPeriodAnnual:"Yearly",step2MiniFormSubmit:"Preview",step2MiniFormHelp:"Preview only: nothing will be saved.",step2MiniFormCreated:"Done. This is how it would look when saved (preview).",calendarPortabilityTitle:"Events in your Google Calendar",calendarPortabilityBody:"When you sync, Subly creates recurring events in your Google Calendar account. That way they show up on your phone, tablet, and any device using the same account.",calendarPortabilityBullet1:"Events live in your calendar, not on developer-owned servers.",calendarPortabilityBullet2:"You can enable/disable sync anytime from Settings.",calendarPortabilityBullet3:"If you remove sync, Subly can delete its linked events.",previewTitle:"Preview",previewBody:"Once you add your subscriptions, track your spending with charts and trends.",previewEmpty:"Add at least 1 subscription to see the preview.",previewKpiCount:"Subscriptions",previewKpiMonthly:"Monthly spend",previewKpiNext:"Next renewal",previewSlideKpis:"Quick summary",previewSlideTop:"Top subscriptions",previewSlideCategories:"By category",previewChartTrendTitle:"Monthly trend",previewChartCategoriesTitle:"By category",previewExampleLabel:"Example",integrationsTitle:"Google integrations",integrationsBody:"Enable them anytime from Settings. OAuth permission is requested when you use each action.",integrationsCalendarTitle:"Google Calendar",integrationsCalendar1:"Create/update recurring all-day events per subscription.",integrationsCalendar2:"Optional: dedicated calendar Subly Subscriptions.",integrationsCalendar3:"Reminders: notification or email (global default or per subscription).",integrationsDriveTitle:"Google Drive",integrationsDrive1:"Save a JSON backup to appDataFolder (hidden folder).",integrationsDrive2:"Restore a previous backup when needed.",integrationsDrive3:"No developer-owned servers are used for storage.",goSettings:"Go to Settings"},settings:{groupGeneral:"General",groupIntegrations:"Integrations",importExportTitle:"Import / Export JSON",importExportDescription:"Export or import your subscriptions in JSON format.",groupData:"Data & maintenance",groupHelp:"Help",languageTitle:"Language",languageDescription:"Select the app language.",alertsTitle:"Alerts",alertsHint:"Alerts appear as browser notifications (if allowed).",currencyTitle:"Currency",displayAmounts:"Show amounts",displayOriginal:"In original currencies",displayConvert:"Convert to a single currency",baseCurrency:"Base currency",currencyHint:"When converting to a single currency, totals and charts use the base currency.",googleCalendarTitle:"Google Calendar",googleCalendarBody:"Opens in a new tab.",calendarSyncTitle:"Sync",calendarDedicatedLabel:"Use a dedicated calendar for subscriptions",calendarDedicatedHint:"When enabled, a dedicated calendar for your subscriptions is created.",calendarAutoSyncAllLabel:"Auto-sync subscriptions",calendarAutoSyncAllHint:"When you save changes in Subscriptions, the app will try to sync automatically (if permission is already granted).",calendarReminderTitle:"Default notification",calendarReminderHint:"Applied when syncing (create/update) subscription events. Set 0 days to disable reminders.",calendarReminderDaysLabel:"Days before",calendarReminderMethodLabel:"Type",calendarReminderMethodPopup:"Notification",calendarReminderMethodEmail:"Email",openGoogleCalendar:"Open Google Calendar",extensionTitle:"Extension",floatingButtonLabel:"Show floating button on Google Calendar",floatingButtonHint:"If disabled, you can open Subly from the extension icon (or the side panel if already open).",dataTitle:"Data",resetLocalLabel:"Clear local data",resetLocalHint:'Clears subscriptions and resets settings on this device. It does not delete your Drive backup nor existing Calendar events. To also remove events Subly created, use "Delete dedicated calendar" below.',resetLocalConfirm:"This will clear your local data (subscriptions and settings) on this device. It does not delete the dedicated calendar or Calendar events. Continue?",resetLocalDone:"Local data cleared.",deleteCalendarTitle:"Delete dedicated calendar",deleteCalendarDescription:"Remove the calendar Subly created and all events it contains.",deleteCalendarHint:"Irreversible: permanently deletes the calendar and any events Subly added.",deleteCalendarLabel:"Delete dedicated calendar",deleteCalendarConfirm:"This will delete the dedicated calendar and all events Subly created in it. This action cannot be undone. Continue?",deleteCalendarDone:"Dedicated calendar deleted.",deleteCalendarFailed:"Failed to delete dedicated calendar.",deleteCalendarNone:"No dedicated calendar configured.",privacyTitle:"Permissions",privacyBody:"Subly stores your data locally. If you enable sync/backup, it uses Google OAuth to create/update events in Google Calendar and save a JSON backup to Drive (appDataFolder).",permissionsHint:"Permissions: identity (OAuth), storage (save state), sidePanel (UI), plus access to Google APIs and FX rate providers.",googleDisconnectLabel:"Disconnect Google",googleDisconnectHint:"Revokes the OAuth token and forces consent again next time. It does not delete Calendar events nor your Drive backup.",googleDisconnectConfirm:"This will disconnect Subly from your Google account in this browser. Continue?",googleDisconnectDone:"Disconnected. Next time it will ask for permissions again.",googleDisconnectNoToken:"No active session to disconnect.",helpTitle:"Help",helpFaqTitle:"FAQ",helpFaqDescription:"Quick answers and troubleshooting.",helpContactTitle:"Contact us",helpContactDescription:"Include diagnostics to resolve issues faster.",helpContactLastBackup:"Last Drive backup",helpFeedbackTitle:"Send feedback",helpFeedbackDescription:"Ideas, improvements, bugs, or suggestions.",helpFeedbackPlaceholder:"Tell us what you would improve, what you expected, and how to reproduce it",helpCopyFeedback:"Copy feedback",helpFeedbackCopied:"Feedback copied.",helpFeedbackEmpty:"Write some feedback before copying.",helpFeedbackHint:"Paste it into the support email or the store form.",helpOpenPanelQ:"How do I open the panel?",helpOpenPanelA:"On Google Calendar you can use the floating button (if enabled) or click the extension icon to open the Side Panel.",helpDriveQ:"What is stored in Drive?",helpDriveA:"A single JSON file in the hidden appDataFolder (default: subly-state.json).",helpCalendarQ:"What does it create in Google Calendar?",helpCalendarA:"Recurring all-day events for each subscription, when you sync.",helpTroubleshootingQ:"Troubleshooting",helpTroubleshootingA:"If something is not working, try these quick steps:",helpTs1:"Reload Google Calendar and reopen the panel.",helpTs2:"Check sync toggles and the floating button in Integrations.",helpTs3:"If Drive/Calendar fails, disconnect Google and re-authorize from the action that requires it.",helpStatusQ:"Status",helpStatusAutoSync:"Auto-sync",helpStatusDedicated:"Dedicated calendar",helpStatusFloating:"Floating button",helpStatusDrive:"Drive backup",helpStatusLinked:"Linked",helpStatusNotLinked:"Not linked",helpStatusHint:"Manage these settings in Integrations and Data & maintenance.",helpDiagnosticsQ:"Diagnostics",helpDiagnosticsA:"Copies a small app status summary you can attach to a bug report (does not include OAuth tokens).",helpCopyDiagnostics:"Copy diagnostics",helpCopied:"Diagnostics copied.",helpCopyFailed:"Could not copy automatically. Please copy the text:",helpContactQ:"Contact",helpContactA:"For support, use the support email listed on the Chrome Web Store page. If you are reporting an issue, include the Diagnostics output too.",helpPrivacyQ:"Privacy",helpPrivacyA:"Your data is stored locally. Only if you enable integrations, Subly uses Google OAuth for Calendar and/or to store a JSON backup in Drive (appDataFolder).",helpPrivacyOpen:"Open privacy policy",onboardingTitle:"Getting started",onboardingDescription:"You can replay the onboarding anytime.",openOnboarding:"Replay onboarding",onboardingOpened:"Onboarding opened."},drive:{title:"Backup",body:"Save a backup to your Google Drive and restore a previous backup when needed.",lastBackup:"Last backup",save:"Save backup",restore:"Restore backup",saving:"Saving",restoring:"Restoring",restoreConfirm:"This will replace the data on this device with the Drive backup. Continue?",backupSaved:"Backup saved to Google Drive.",backupSaveFailed:"Could not save the backup to Google Drive.",backupRestored:"Data restored from Google Drive.",backupRestoreFailed:"Could not restore from Google Drive."},subscriptions:{listTitle:"List",subtitle:"Add, edit and review your subscriptions.",addSubscription:"Add subscription",noSubscriptions:"No subscriptions yet.",addToCalendar:"Add to Calendar",syncAll:"Sync all",syncing:"Syncing",syncToCalendar:"Sync to Calendar",syncCreate:"Create in Calendar",syncUpdate:"Update in Calendar",syncOk:"Synced with Google Calendar.",syncFailed:"Sync failed.",reminderInfo:"The notification is configured when syncing with Google Calendar.",remindersTitle:"Renewal alerts",reminderUseCustom:"Use custom reminder",reminderDaysBefore:"Days before",reminderMethodLabel:"Type",reminderMethodPopup:"Notification",reminderMethodEmail:"Email",reminderSummaryNone:"You will not receive notifications before renewal.",reminderSummaryNotificationOne:"You will receive a notification 1 day before renewal.",reminderSummaryNotificationMany:"You will receive a notification {{days}} days before renewal.",reminderSummaryEmailOne:"You will receive an email 1 day before renewal.",reminderSummaryEmailMany:"You will receive an email {{days}} days before renewal.",syncAllDone:"Sync finished: {{ok}} ok, {{fail}} failed.",autoSyncAllOn:"Auto-sync: ON",autoSyncAllOff:"Auto-sync: OFF",autoSyncAllHint:"When enabled, changes will sync (if already authorized).",autoSyncConfirm:"Do you want to sync all now?",editSubscription:"Edit subscription",addSubscriptionTitle:"Add subscription",searchPlaceholder:"Search",filtersToggle:"Filters",resultsCount:"Results: {{count}}",filterCategory:"Category",filterCurrency:"Currency",filterPeriod:"Period",filterMinPrice:"Min price",filterMaxPrice:"Max price",emptyFiltered:"No results for the current filters.",dueSoon:"Soon",columnName:"Subscription",columnPrice:"Amount",columnPeriod:"Period",columnStart:"Start",columnNext:"Next",columnCategory:"Category",columnActions:"Actions",insightsTitle:"Summary",insightsHint:"Amounts in {{currency}} equivalent.",insightsDueWindow:"Window: {{days}}d",insightsCount:"Subscriptions",insightsAvgMonthly:"Avg monthly",insightsAvgMonthlyHelper:"Equivalent in {{currency}}.",insightsUpcoming:"Upcoming",insightsUpcomingValue:"{{count}}",insightsUpcomingHelper:"Next: {{date}}",insightsTopCategory:"Top category",insightsTopCategoryHelper:"{{percent}}% of total",name:"Name",category:"Category",categoryPlaceholder:"e.g. Streaming",amount:"Amount",currency:"Currency",period:"Period",startDate:"Start date",helpIncomplete:"Fill name, amount and date.",startLabel:"Start",nextLabel:"Next",renewal:"Renewal",detailsAmount:"Amount",detailsPeriod:"Period",periodMonthly:"Monthly",periodQuarterly:"Quarterly",periodSemiannual:"Semiannual",periodAnnual:"Annual",toastCreated:"Subscription created.",toastUpdated:"Subscription updated.",toastDeleted:"Subscription deleted.",deleteConfirm:"Delete {{name}}? Its Google Calendar event will also be deleted if it exists.",calendarEventDeleted:"Google Calendar event deleted.",calendarDeleteFailed:"Could not delete the Google Calendar event.",missingTitle:"Event not found",missingBody:"The event linked to {{name}} was not found in Google Calendar.",missingActionRecreate:"Recreate event",missingActionDelete:"Delete subscription",missingActionIgnore:"Ignore",missingRecreated:"Event recreated in Calendar"},dashboard:{monthlySpendTitle:"Monthly spend (equivalent)",noSubscriptionsYet:"No subscriptions yet.",fxRatesLabel:"FX rates",fxLoading:"Loading exchange rates",fxUpdating:"updating",fxReady:"real (cached)",fxUnavailable:"unavailable (fallback)",fxIdle:"",upcomingRenewalsTitle:"Upcoming renewals",noDataYet:"No data yet.",chartsTitle:"Charts",addSubsToSeeCharts:"Add subscriptions to see charts.",currencyLabel:"Currency: {{cur}}",kpiSubscriptions:"Subscriptions",kpiAvgMonthly:"Avg monthly",kpiDueSoon:"Due ( {{days}}d)",kpiTopCategory:"Top category",projectionTitle:"Monthly projection (last 12 months)",annualTopTitle:"Top annual spend (estimated)",monthlyByCategoryTitle:"Monthly spend by category (equivalent)",distributionTitle:"Distribution (monthly equivalent spend)",noData:"No data.",csvMonth:"Month",csvAmount:"Amount",csvCurrency:"Currency",csvName:"Name",csvAnnualAmount:"Annual amount",csvCategory:"Category",csvMonthlyEquivalent:"Monthly equivalent"}}};function RO(t,e){const n=e.split(".");let r=t;for(const i of n)if(typeof r!="object"||r===null||(r=r[i],r===void 0))return;return r}function AO(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(n,r)=>String(e[r]??"")):t}function NO(t,e,n){const r=s1[t]??s1.es,i=RO(r,e);if(typeof i=="string")return AO(i,n)}function Ds(){const{state:t}=Da(),e=t.settings.language==="en"?"en":"es",n=M.useCallback((r,i)=>NO(e,r,i),[e]);return{language:e,t:n}}function Mi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var sr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},xa={duration:.5,overwrite:!1,delay:0},zg,tn,yt,br=1e8,st=1/br,Mm=Math.PI*2,LO=Mm/4,jO=0,RC=Math.sqrt,OO=Math.cos,FO=Math.sin,Xt=function(e){return typeof e=="string"},Et=function(e){return typeof e=="function"},Li=function(e){return typeof e=="number"},Bg=function(e){return typeof e>"u"},ii=function(e){return typeof e=="object"},Un=function(e){return e!==!1},Vg=function(){return typeof window<"u"},Bu=function(e){return Et(e)||Xt(e)},AC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},fn=Array.isArray,IO=/random\([^)]+\)/g,zO=/,\s*/g,o1=/(?:-?\.?\d|\.)+/gi,NC=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,la=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Tp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,LC=/[+-]=-?[.\d]+/,BO=/[^,'"\[\]\s]+/gi,VO=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_t,Xr,Tm,Ug,or={},Dd={},jC,OC=function(e){return(Dd=ba(e,or))&&Gn},$g=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},rc=function(e,n){return!n&&console.warn(e)},FC=function(e,n){return e&&(or[e]=n)&&Dd&&(Dd[e]=n)||or},ic=function(){return 0},UO={suppressEvents:!0,isStart:!0,kill:!1},md={suppressEvents:!0,kill:!1},$O={suppressEvents:!0},Wg={},vs=[],Em={},IC,er={},Ep={},a1=30,gd=[],Hg="",Gg=function(e){var n=e[0],r,i;if(ii(n)||Et(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=gd.length;i--&&!gd[i].targetTest(n););r=gd[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new lk(e[i],r)))||e.splice(i,1);return e},go=function(e){return e._gsap||Gg(wr(e))[0]._gsap},zC=function(e,n,r){return(r=e[n])&&Et(r)?e[n]():Bg(r)&&e.getAttribute&&e.getAttribute(n)||r},$n=function(e,n){return(e=e.split(",")).forEach(n)||e},At=function(e){return Math.round(e*1e5)/1e5||0},wt=function(e){return Math.round(e*1e7)/1e7||0},fa=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},WO=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},Rd=function(){var e=vs.length,n=vs.slice(0),r,i;for(Em={},vs.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},Yg=function(e){return!!(e._initted||e._startAt||e.add)},BC=function(e,n,r,i){vs.length&&!tn&&Rd(),e.render(n,r,!!(tn&&n<0&&Yg(e))),vs.length&&!tn&&Rd()},VC=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(BO).length<2?n:Xt(e)?e.trim():e},UC=function(e){return e},ar=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},HO=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},ba=function(e,n){for(var r in n)e[r]=n[r];return e},l1=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ii(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Ad=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},Vl=function(e){var n=e.parent||_t,r=e.keyframes?HO(fn(e.keyframes)):ar;if(Un(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},GO=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},$C=function(e,n,r,i,s){var o=e[i],l;if(s)for(l=n[s];o&&o[s]>l;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},th=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},Cs=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},yo=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},YO=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Pm=function(e,n,r,i){return e._startAt&&(tn?e._startAt.revert(md):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},qO=function t(e){return!e||e._ts&&t(e.parent)},c1=function(e){return e._repeat?wa(e._tTime,e=e.duration()+e._rDelay)*e:0},wa=function(e,n){var r=Math.floor(e=wt(e/n));return e&&r===e?r-1:r},Nd=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},nh=function(e){return e._end=wt(e._start+(e._tDur/Math.abs(e._ts||e._rts||st)||0))},rh=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=wt(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),nh(e),r._dirty||yo(r,e)),e},WC=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Nd(e.rawTime(),n),(!n._dur||Pc(0,n.totalDuration(),r)-n._tTime>st)&&n.render(r,!0)),yo(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-st}},Kr=function(e,n,r,i){return n.parent&&Cs(n),n._start=wt((Li(r)?r:r||e!==_t?yr(e,r,n):e._time)+n._delay),n._end=wt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),$C(e,n,"_first","_last",e._sort?"_start":0),Dm(n)||(e._recent=n),i||WC(e,n),e._ts<0&&rh(e,e._tTime),e},HC=function(e,n){return(or.ScrollTrigger||$g("scrollTrigger",n))&&or.ScrollTrigger.create(n,e)},GC=function(e,n,r,i,s){if(Xg(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!tn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&IC!==nr.frame)return vs.push(e),e._lazy=[s,i],1},XO=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Dm=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},KO=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&XO(e)&&!(!e._initted&&Dm(e))||(e._ts<0||e._dp._ts<0)&&!Dm(e))?0:1,l=e._rDelay,u=0,d,f,p;if(l&&e._repeat&&(u=Pc(0,e._tDur,n),f=wa(u,l),e._yoyo&&f&1&&(o=1-o),f!==wa(e._tTime,l)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||tn||i||e._zTime===st||!n&&e._zTime){if(!e._initted&&GC(e,n,i,r,u))return;for(p=e._zTime,e._zTime=n||(r?st:0),r||(r=n&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,d=e._pt;d;)d.r(o,d.d),d=d._next;n<0&&Pm(e,n,r,!0),e._onUpdate&&!r&&rr(e,"onUpdate"),u&&e._repeat&&!r&&e.parent&&rr(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Cs(e,1),!r&&!tn&&(rr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},QO=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},_a=function(e,n,r,i){var s=e._repeat,o=wt(n)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:wt(o*(s+1)+e._rDelay*s):o,l>0&&!i&&rh(e,e._tTime=e._tDur*l),e.parent&&nh(e),r||yo(e.parent,e),e},u1=function(e){return e instanceof Sn?yo(e):_a(e,e._dur)},JO={_start:0,endTime:ic,totalDuration:ic},yr=function t(e,n,r){var i=e.labels,s=e._recent||JO,o=e.duration()>=br?s.endTime(!1):e._dur,l,u,d;return Xt(n)&&(isNaN(n)||n in i)?(u=n.charAt(0),d=n.substr(-1)==="%",l=n.indexOf("="),u==="<"||u===">"?(l>=0&&(n=n.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(l<0?s:r).totalDuration()/100:1)):l<0?(n in i||(i[n]=o),i[n]):(u=parseFloat(n.charAt(l-1)+n.substr(l+1)),d&&r&&(u=u/100*(fn(r)?r[0]:r).totalDuration()),l>1?t(e,n.substr(0,l-1),r)+u:o+u)):n==null?o:+n},Ul=function(e,n,r){var i=Li(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],l,u;if(i&&(o.duration=n[1]),o.parent=r,e){for(l=o,u=r;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=Un(u.vars.inherit)&&u.parent;o.immediateRender=Un(l.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new Ft(n[0],o,n[s+1])},Rs=function(e,n){return e||e===0?n(e):n},Pc=function(e,n,r){return r<e?e:r>n?n:r},un=function(e,n){return!Xt(e)||!(n=VO.exec(e))?"":n[1]},ZO=function(e,n,r){return Rs(r,function(i){return Pc(e,n,i)})},Rm=[].slice,YC=function(e,n){return e&&ii(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ii(e[0]))&&!e.nodeType&&e!==Xr},eF=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Xt(i)&&!n||YC(i,1)?(s=r).push.apply(s,wr(i)):r.push(i)})||r},wr=function(e,n,r){return yt&&!n&&yt.selector?yt.selector(e):Xt(e)&&!r&&(Tm||!Sa())?Rm.call((n||Ug).querySelectorAll(e),0):fn(e)?eF(e,r):YC(e)?Rm.call(e,0):e?[e]:[]},Am=function(e){return e=wr(e)[0]||rc("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return wr(n,r.querySelectorAll?r:r===e?rc("Invalid scope")||Ug.createElement("div"):e)}},qC=function(e){return e.sort(function(){return .5-Math.random()})},XC=function(e){if(Et(e))return e;var n=ii(e)?e:{each:e},r=vo(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},l=i>0&&i<1,u=isNaN(i)||l,d=n.axis,f=i,p=i;return Xt(i)?f=p={center:.5,edges:.5,end:1}[i]||0:!l&&u&&(f=i[0],p=i[1]),function(g,y,w){var v=(w||n).length,_=o[v],C,E,k,R,P,N,T,A,O;if(!_){if(O=n.grid==="auto"?0:(n.grid||[1,br])[1],!O){for(T=-br;T<(T=w[O++].getBoundingClientRect().left)&&O<v;);O<v&&O--}for(_=o[v]=[],C=u?Math.min(O,v)*f-.5:i%O,E=O===br?0:u?v*p/O-.5:i/O|0,T=0,A=br,N=0;N<v;N++)k=N%O-C,R=E-(N/O|0),_[N]=P=d?Math.abs(d==="y"?R:k):RC(k*k+R*R),P>T&&(T=P),P<A&&(A=P);i==="random"&&qC(_),_.max=T-A,_.min=A,_.v=v=(parseFloat(n.amount)||parseFloat(n.each)*(O>v?v-1:d?d==="y"?v/O:O:Math.max(O,v/O))||0)*(i==="edges"?-1:1),_.b=v<0?s-v:s,_.u=un(n.amount||n.each)||0,r=r&&v<0?sk(r):r}return v=(_[g]-_.min)/_.max||0,wt(_.b+(r?r(v):v)*_.v)+_.u}},Nm=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=wt(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(Li(r)?0:un(r))}},KC=function(e,n){var r=fn(e),i,s;return!r&&ii(e)&&(i=r=e.radius||br,e.values?(e=wr(e.values),(s=!Li(e[0]))&&(i*=i)):e=Nm(e.increment)),Rs(n,r?Et(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var l=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),d=br,f=0,p=e.length,g,y;p--;)s?(g=e[p].x-l,y=e[p].y-u,g=g*g+y*y):g=Math.abs(e[p]-l),g<d&&(d=g,f=p);return f=!i||d<=i?e[f]:o,s||f===o||Li(o)?f:f+un(o)}:Nm(e))},QC=function(e,n,r,i){return Rs(fn(e)?!n:r===!0?!!(r=0):!i,function(){return fn(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},tF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},nF=function(e,n){return function(r){return e(parseFloat(r))+(n||un(r))}},rF=function(e,n,r){return ZC(e,n,0,1,r)},JC=function(e,n,r){return Rs(r,function(i){return e[~~n(i)]})},iF=function t(e,n,r){var i=n-e;return fn(e)?JC(e,t(0,e.length),n):Rs(r,function(s){return(i+(s-e)%i)%i+e})},sF=function t(e,n,r){var i=n-e,s=i*2;return fn(e)?JC(e,t(0,e.length-1),n):Rs(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},sc=function(e){return e.replace(IO,function(n){var r=n.indexOf("[")+1,i=n.substring(r||7,r?n.indexOf("]"):n.length-1).split(zO);return QC(r?i:+i[0],r?0:+i[1],+i[2]||1e-5)})},ZC=function(e,n,r,i,s){var o=n-e,l=i-r;return Rs(s,function(u){return r+((u-e)/o*l||0)})},oF=function t(e,n,r,i){var s=isNaN(e+n)?0:function(y){return(1-y)*e+y*n};if(!s){var o=Xt(e),l={},u,d,f,p,g;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(fn(e)&&!fn(n)){for(f=[],p=e.length,g=p-2,d=1;d<p;d++)f.push(t(e[d-1],e[d]));p--,s=function(w){w*=p;var v=Math.min(g,~~w);return f[v](w-v)},r=n}else i||(e=ba(fn(e)?[]:{},e));if(!f){for(u in n)qg.call(l,e,u,"get",n[u]);s=function(w){return Jg(w,l)||(o?e.p:e)}}}return Rs(r,s)},d1=function(e,n,r){var i=e.labels,s=br,o,l,u;for(o in i)l=i[o]-n,l<0==!!r&&l&&s>(l=Math.abs(l))&&(u=o,s=l);return u},rr=function(e,n,r){var i=e.vars,s=i[n],o=yt,l=e._ctx,u,d,f;if(s)return u=i[n+"Params"],d=i.callbackScope||e,r&&vs.length&&Rd(),l&&(yt=l),f=u?s.apply(d,u):s.call(d),yt=o,f},El=function(e){return Cs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!tn),e.progress()<1&&rr(e,"onInterrupt"),e},ca,ek=[],tk=function(e){if(e)if(e=!e.name&&e.default||e,Vg()||e.headless){var n=e.name,r=Et(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:ic,render:Jg,add:qg,kill:_F,modifier:wF,rawVars:0},o={targetTest:0,get:0,getSetter:Qg,aliases:{},register:0};if(Sa(),e!==i){if(er[n])return;ar(i,ar(Ad(e,s),o)),ba(i.prototype,ba(s,Ad(e,o))),er[i.prop=n]=i,e.targetTest&&(gd.push(i),Wg[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}FC(n,i),e.register&&e.register(Gn,i,Wn)}else ek.push(e)},it=255,Pl={aqua:[0,it,it],lime:[0,it,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,it],navy:[0,0,128],white:[it,it,it],olive:[128,128,0],yellow:[it,it,0],orange:[it,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[it,0,0],pink:[it,192,203],cyan:[0,it,it],transparent:[it,it,it,0]},Pp=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*it+.5|0},nk=function(e,n,r){var i=e?Li(e)?[e>>16,e>>8&it,e&it]:0:Pl.black,s,o,l,u,d,f,p,g,y,w;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Pl[e])i=Pl[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+s+s+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&it,i&it,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&it,e&it]}else if(e.substr(0,3)==="hsl"){if(i=w=e.match(o1),!n)u=+i[0]%360/360,d=+i[1]/100,f=+i[2]/100,o=f<=.5?f*(d+1):f+d-f*d,s=f*2-o,i.length>3&&(i[3]*=1),i[0]=Pp(u+1/3,s,o),i[1]=Pp(u,s,o),i[2]=Pp(u-1/3,s,o);else if(~e.indexOf("="))return i=e.match(NC),r&&i.length<4&&(i[3]=1),i}else i=e.match(o1)||Pl.transparent;i=i.map(Number)}return n&&!w&&(s=i[0]/it,o=i[1]/it,l=i[2]/it,p=Math.max(s,o,l),g=Math.min(s,o,l),f=(p+g)/2,p===g?u=d=0:(y=p-g,d=f>.5?y/(2-p-g):y/(p+g),u=p===s?(o-l)/y+(o<l?6:0):p===o?(l-s)/y+2:(s-o)/y+4,u*=60),i[0]=~~(u+.5),i[1]=~~(d*100+.5),i[2]=~~(f*100+.5)),r&&i.length<4&&(i[3]=1),i},rk=function(e){var n=[],r=[],i=-1;return e.split(xs).forEach(function(s){var o=s.match(la)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},h1=function(e,n,r){var i="",s=(e+i).match(xs),o=n?"hsla(":"rgba(",l=0,u,d,f,p;if(!s)return e;if(s=s.map(function(g){return(g=nk(g,n,1))&&o+(n?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),r&&(f=rk(e),u=r.c,u.join(i)!==f.c.join(i)))for(d=e.replace(xs,"1").split(la),p=d.length-1;l<p;l++)i+=d[l]+(~u.indexOf(l)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:r).shift());if(!d)for(d=e.split(xs),p=d.length-1;l<p;l++)i+=d[l]+s[l];return i+d[p]},xs=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Pl)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),aF=/hsl[a]?\(/,ik=function(e){var n=e.join(" "),r;if(xs.lastIndex=0,xs.test(n))return r=aF.test(n),e[1]=h1(e[1],r),e[0]=h1(e[0],r,rk(e[1])),!0},oc,nr=(function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,l=[],u,d,f,p,g,y,w=function v(_){var C=t()-i,E=_===!0,k,R,P,N;if((C>e||C<0)&&(r+=C-n),i+=C,P=i-r,k=P-o,(k>0||E)&&(N=++p.frame,g=P-p.time*1e3,p.time=P=P/1e3,o+=k+(k>=s?4:s-k),R=1),E||(u=d(v)),R)for(y=0;y<l.length;y++)l[y](P,g,N,_)};return p={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(_){return g/(1e3/(_||60))},wake:function(){jC&&(!Tm&&Vg()&&(Xr=Tm=window,Ug=Xr.document||{},or.gsap=Gn,(Xr.gsapVersions||(Xr.gsapVersions=[])).push(Gn.version),OC(Dd||Xr.GreenSockGlobals||!Xr.gsap&&Xr||{}),ek.forEach(tk)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&p.sleep(),d=f||function(_){return setTimeout(_,o-p.time*1e3+1|0)},oc=1,w(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(u),oc=0,d=ic},lagSmoothing:function(_,C){e=_||1/0,n=Math.min(C||33,e)},fps:function(_){s=1e3/(_||240),o=p.time*1e3+s},add:function(_,C,E){var k=C?function(R,P,N,T){_(R,P,N,T),p.remove(k)}:_;return p.remove(_),l[E?"unshift":"push"](k),Sa(),k},remove:function(_,C){~(C=l.indexOf(_))&&l.splice(C,1)&&y>=C&&y--},_listeners:l},p})(),Sa=function(){return!oc&&nr.wake()},Ye={},lF=/^[\d.\-M][\d.\-,\s]/,cF=/["']/g,uF=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,l,u,d;s<o;s++)u=r[s],l=s!==o-1?u.lastIndexOf(","):u.length,d=u.substr(0,l),n[i]=isNaN(d)?d.replace(cF,"").trim():+d,i=u.substr(l+1).trim();return n},dF=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},hF=function(e){var n=(e+"").split("("),r=Ye[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[uF(n[1])]:dF(e).split(",").map(VC)):Ye._CE&&lF.test(e)?Ye._CE("",e):r},sk=function(e){return function(n){return 1-e(1-n)}},ok=function t(e,n){for(var r=e._first,i;r;)r instanceof Sn?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},vo=function(e,n){return e&&(Et(e)?e:Ye[e]||hF(e))||n},To=function(e,n,r,i){r===void 0&&(r=function(u){return 1-n(1-u)}),i===void 0&&(i=function(u){return u<.5?n(u*2)/2:1-n((1-u)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return $n(e,function(l){Ye[l]=or[l]=s,Ye[o=l.toLowerCase()]=r;for(var u in s)Ye[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=Ye[l+"."+u]=s[u]}),s},ak=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Dp=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/Mm*(Math.asin(1/i)||0),l=function(f){return f===1?1:i*Math.pow(2,-10*f)*FO((f-o)*s)+1},u=e==="out"?l:e==="in"?function(d){return 1-l(1-d)}:ak(l);return s=Mm/s,u.config=function(d,f){return t(e,d,f)},u},Rp=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:ak(r);return i.config=function(s){return t(e,s)},i};$n("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;To(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});Ye.Linear.easeNone=Ye.none=Ye.Linear.easeIn;To("Elastic",Dp("in"),Dp("out"),Dp());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(l){return l<n?t*l*l:l<r?t*Math.pow(l-1.5/e,2)+.75:l<i?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};To("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);To("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});To("Circ",function(t){return-(RC(1-t*t)-1)});To("Sine",function(t){return t===1?1:-OO(t*LO)+1});To("Back",Rp("in"),Rp("out"),Rp());Ye.SteppedEase=Ye.steps=or.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-st;return function(l){return((i*Pc(0,o,l)|0)+s)*r}}};xa.ease=Ye["quad.out"];$n("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Hg+=t+","+t+"Params,"});var lk=function(e,n){this.id=jO++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:zC,this.set=n?n.getSetter:Qg},ac=(function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,_a(this,+n.duration,1,1),this.data=n.data,yt&&(this._ctx=yt,yt.data.push(this)),oc||nr.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,_a(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Sa(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(rh(this,r),!s._dp||s.parent||WC(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Kr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===st||!this._initted&&this._dur&&r||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),BC(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+c1(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+c1(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?wa(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-st?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Nd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-st?0:this._rts,this.totalTime(Pc(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),nh(this),YO(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Sa(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==st&&(this._tTime-=st)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=wt(r);var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Kr(i,this,this._start-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Un(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Nd(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=$O);var i=tn;return tn=r,Yg(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),tn=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,u1(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,u1(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(yr(this,r),Un(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Un(i)),this._dur||(this._zTime=-st),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-st:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-st,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-st)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this,s=i._prom;return new Promise(function(o){var l=Et(r)?r:UC,u=function(){var f=i.then;i.then=null,s&&s(),Et(l)&&(l=l(i))&&(l.then||l===i)&&(i.then=f),o(l),i.then=f};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?u():i._prom=u})},e.kill=function(){El(this)},t})();ar(ac.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-st,_prom:0,_ps:!1,_rts:1});var Sn=(function(t){DC(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Un(r.sortChildren),_t&&Kr(r.parent||_t,Mi(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&HC(Mi(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return Ul(0,arguments,this),this},n.from=function(i,s,o){return Ul(1,arguments,this),this},n.fromTo=function(i,s,o,l){return Ul(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,Vl(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ft(i,s,yr(this,o),1),this},n.call=function(i,s,o){return Kr(this,Ft.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,l,u,d,f){return o.duration=s,o.stagger=o.stagger||l,o.onComplete=d,o.onCompleteParams=f,o.parent=this,new Ft(i,o,yr(this,u)),this},n.staggerFrom=function(i,s,o,l,u,d,f){return o.runBackwards=1,Vl(o).immediateRender=Un(o.immediateRender),this.staggerTo(i,s,o,l,u,d,f)},n.staggerFromTo=function(i,s,o,l,u,d,f,p){return l.startAt=o,Vl(l).immediateRender=Un(l.immediateRender),this.staggerTo(i,s,l,u,d,f,p)},n.render=function(i,s,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,d=this._dur,f=i<=0?0:wt(i),p=this._zTime<0!=i<0&&(this._initted||!d),g,y,w,v,_,C,E,k,R,P,N,T;if(this!==_t&&f>u&&i>=0&&(f=u),f!==this._tTime||o||p){if(l!==this._time&&d&&(f+=this._time-l,i+=this._time-l),g=f,R=this._start,k=this._ts,C=!k,p&&(d||(l=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(N=this._yoyo,_=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,s,o);if(g=wt(f%_),f===u?(v=this._repeat,g=d):(P=wt(f/_),v=~~P,v&&v===P&&(g=d,v--),g>d&&(g=d)),P=wa(this._tTime,_),!l&&this._tTime&&P!==v&&this._tTime-P*_-this._dur<=0&&(P=v),N&&v&1&&(g=d-g,T=1),v!==P&&!this._lock){var A=N&&P&1,O=A===(N&&v&1);if(v<P&&(A=!A),l=A?0:f%d?d:f,this._lock=1,this.render(l||(T?0:wt(v*_)),s,!d)._lock=0,this._tTime=f,!s&&this.parent&&rr(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1,P=v),l&&l!==this._time||C!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,u=this._tDur,O&&(this._lock=2,l=A?d:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!C)return this;ok(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=QO(this,wt(l),wt(g)),E&&(f-=g-(g=E._start))),this._tTime=f,this._time=g,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&f&&d&&!s&&!P&&(rr(this,"onStart"),this._tTime!==f))return this;if(g>=l&&i>=0)for(y=this._first;y;){if(w=y._next,(y._act||g>=y._start)&&y._ts&&E!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?(g-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(g-y._start)*y._ts,s,o),g!==this._time||!this._ts&&!C){E=0,w&&(f+=this._zTime=-st);break}}y=w}else{y=this._last;for(var $=i<0?i:g;y;){if(w=y._prev,(y._act||$<=y._end)&&y._ts&&E!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?($-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+($-y._start)*y._ts,s,o||tn&&Yg(y)),g!==this._time||!this._ts&&!C){E=0,w&&(f+=this._zTime=$?-st:st);break}}y=w}}if(E&&!s&&(this.pause(),E.render(g>=l?0:-st)._zTime=g>=l?1:-1,this._ts))return this._start=R,nh(this),this.render(i,s,o);this._onUpdate&&!s&&rr(this,"onUpdate",!0),(f===u&&this._tTime>=this.totalDuration()||!f&&l)&&(R===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(f===u&&this._ts>0||!f&&this._ts<0)&&Cs(this,1),!s&&!(i<0&&!l)&&(f||l||!u)&&(rr(this,f===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<u&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(Li(s)||(s=yr(this,s,i)),!(i instanceof ac)){if(fn(i))return i.forEach(function(l){return o.add(l,s)}),this;if(Xt(i))return this.addLabel(i,s);if(Et(i))i=Ft.delayedCall(0,i);else return this}return this!==i?Kr(this,i,s):this},n.getChildren=function(i,s,o,l){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=-br);for(var u=[],d=this._first;d;)d._start>=l&&(d instanceof Ft?s&&u.push(d):(o&&u.push(d),i&&u.push.apply(u,d.getChildren(!0,s,o)))),d=d._next;return u},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return Xt(i)?this.removeLabel(i):Et(i)?this.killTweensOf(i):(i.parent===this&&th(this,i),i===this._recent&&(this._recent=this._last),yo(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=wt(nr.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=yr(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var l=Ft.delayedCall(0,s||ic,o);return l.data="isPause",this._hasPause=1,Kr(this,l,yr(this,i))},n.removePause=function(i){var s=this._first;for(i=yr(this,i);s;)s._start===i&&s.data==="isPause"&&Cs(s),s=s._next},n.killTweensOf=function(i,s,o){for(var l=this.getTweensOf(i,o),u=l.length;u--;)ds!==l[u]&&l[u].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],l=wr(i),u=this._first,d=Li(s),f;u;)u instanceof Ft?WO(u._targets,l)&&(d?(!ds||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(f=u.getTweensOf(l,s)).length&&o.push.apply(o,f),u=u._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,l=yr(o,i),u=s,d=u.startAt,f=u.onStart,p=u.onStartParams,g=u.immediateRender,y,w=Ft.to(o,ar({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale())||st,onStart:function(){if(o.pause(),!y){var _=s.duration||Math.abs((l-(d&&"time"in d?d.time:o._time))/o.timeScale());w._dur!==_&&_a(w,_,0,1).render(w._time,!0,!0),y=1}f&&f.apply(w,p||[])}},s));return g?w.render(0):w},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,ar({startAt:{time:yr(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),d1(this,yr(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),d1(this,yr(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+st)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);var l=this._first,u=this.labels,d;for(i=wt(i);l;)l._start>=o&&(l._start+=i,l._end+=i),l=l._next;if(s)for(d in u)u[d]>=o&&(u[d]+=i);return yo(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),yo(this)},n.totalDuration=function(i){var s=0,o=this,l=o._last,u=br,d,f,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;l;)d=l._prev,l._dirty&&l.totalDuration(),f=l._start,f>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,Kr(o,l,f-l._delay,1)._lock=0):u=f,f<0&&l._ts&&(s-=f,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=wt(f/o._ts),o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),u=0),l._end>s&&l._ts&&(s=l._end),l=d;_a(o,o===_t&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(_t._ts&&(BC(_t,Nd(i,_t)),IC=nr.frame),nr.frame>=a1){a1+=sr.autoSleep||120;var s=_t._first;if((!s||!s._ts)&&sr.autoSleep&&nr._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||nr.sleep()}}},e})(ac);ar(Sn.prototype,{_lock:0,_hasPause:0,_forcing:0});var fF=function(e,n,r,i,s,o,l){var u=new Wn(this._pt,e,n,0,1,pk,null,s),d=0,f=0,p,g,y,w,v,_,C,E;for(u.b=r,u.e=i,r+="",i+="",(C=~i.indexOf("random("))&&(i=sc(i)),o&&(E=[r,i],o(E,e,n),r=E[0],i=E[1]),g=r.match(Tp)||[];p=Tp.exec(i);)w=p[0],v=i.substring(d,p.index),y?y=(y+1)%5:v.substr(-5)==="rgba("&&(y=1),w!==g[f++]&&(_=parseFloat(g[f-1])||0,u._pt={_next:u._pt,p:v||f===1?v:",",s:_,c:w.charAt(1)==="="?fa(_,w)-_:parseFloat(w)-_,m:y&&y<4?Math.round:0},d=Tp.lastIndex);return u.c=d<i.length?i.substring(d,i.length):"",u.fp=l,(LC.test(i)||C)&&(u.e=0),this._pt=u,u},qg=function(e,n,r,i,s,o,l,u,d,f){Et(i)&&(i=i(s||0,e,o));var p=e[n],g=r!=="get"?r:Et(p)?d?e[n.indexOf("set")||!Et(e["get"+n.substr(3)])?n:"get"+n.substr(3)](d):e[n]():p,y=Et(p)?d?vF:hk:Kg,w;if(Xt(i)&&(~i.indexOf("random(")&&(i=sc(i)),i.charAt(1)==="="&&(w=fa(g,i)+(un(g)||0),(w||w===0)&&(i=w))),!f||g!==i||Lm)return!isNaN(g*i)&&i!==""?(w=new Wn(this._pt,e,n,+g||0,i-(g||0),typeof p=="boolean"?bF:fk,0,y),d&&(w.fp=d),l&&w.modifier(l,this,e),this._pt=w):(!p&&!(n in e)&&$g(n,i),fF.call(this,e,n,g,i,y,u||sr.stringFilter,d))},pF=function(e,n,r,i,s){if(Et(e)&&(e=$l(e,s,n,r,i)),!ii(e)||e.style&&e.nodeType||fn(e)||AC(e))return Xt(e)?$l(e,s,n,r,i):e;var o={},l;for(l in e)o[l]=$l(e[l],s,n,r,i);return o},ck=function(e,n,r,i,s,o){var l,u,d,f;if(er[e]&&(l=new er[e]).init(s,l.rawVars?n[e]:pF(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=u=new Wn(r._pt,s,e,0,1,l.render,l,0,l.priority),r!==ca))for(d=r._ptLookup[r._targets.indexOf(s)],f=l._props.length;f--;)d[l._props[f]]=u;return l},ds,Lm,Xg=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,l=i.immediateRender,u=i.lazy,d=i.onUpdate,f=i.runBackwards,p=i.yoyoEase,g=i.keyframes,y=i.autoRevert,w=e._dur,v=e._startAt,_=e._targets,C=e.parent,E=C&&C.data==="nested"?C.vars.targets:_,k=e._overwrite==="auto"&&!zg,R=e.timeline,P,N,T,A,O,$,W,Z,K,Q,Y,re,L;if(R&&(!g||!s)&&(s="none"),e._ease=vo(s,xa.ease),e._yEase=p?sk(vo(p===!0?s:p,xa.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!R&&!!i.runBackwards,!R||g&&!i.stagger){if(Z=_[0]?go(_[0]).harness:0,re=Z&&i[Z.prop],P=Ad(i,Wg),v&&(v._zTime<0&&v.progress(1),n<0&&f&&l&&!y?v.render(-1,!0):v.revert(f&&w?md:UO),v._lazy=0),o){if(Cs(e._startAt=Ft.set(_,ar({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!v&&Un(u),startAt:null,delay:0,onUpdate:d&&function(){return rr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(tn||!l&&!y)&&e._startAt.revert(md),l&&w&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(f&&w&&!v){if(n&&(l=!1),T=ar({overwrite:!1,data:"isFromStart",lazy:l&&!v&&Un(u),immediateRender:l,stagger:0,parent:C},P),re&&(T[Z.prop]=re),Cs(e._startAt=Ft.set(_,T)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(tn?e._startAt.revert(md):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,st,st);else if(!n)return}for(e._pt=e._ptCache=0,u=w&&Un(u)||u&&!w,N=0;N<_.length;N++){if(O=_[N],W=O._gsap||Gg(_)[N]._gsap,e._ptLookup[N]=Q={},Em[W.id]&&vs.length&&Rd(),Y=E===_?N:E.indexOf(O),Z&&(K=new Z).init(O,re||P,e,Y,E)!==!1&&(e._pt=A=new Wn(e._pt,O,K.name,0,1,K.render,K,0,K.priority),K._props.forEach(function(z){Q[z]=A}),K.priority&&($=1)),!Z||re)for(T in P)er[T]&&(K=ck(T,P,e,Y,O,E))?K.priority&&($=1):Q[T]=A=qg.call(e,O,T,"get",P[T],Y,E,0,i.stringFilter);e._op&&e._op[N]&&e.kill(O,e._op[N]),k&&e._pt&&(ds=e,_t.killTweensOf(O,Q,e.globalTime(n)),L=!e.parent,ds=0),e._pt&&u&&(Em[W.id]=1)}$&&mk(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!L,g&&n<=0&&R.render(br,!0,!0)},mF=function(e,n,r,i,s,o,l,u){var d=(e._pt&&e._ptCache||(e._ptCache={}))[n],f,p,g,y;if(!d)for(d=e._ptCache[n]=[],g=e._ptLookup,y=e._targets.length;y--;){if(f=g[y][n],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==n&&f.fp!==n;)f=f._next;if(!f)return Lm=1,e.vars[n]="+=0",Xg(e,l),Lm=0,u?rc(n+" not eligible for reset"):1;d.push(f)}for(y=d.length;y--;)p=d[y],f=p._pt||p,f.s=(i||i===0)&&!s?i:f.s+(i||0)+o*f.c,f.c=r-f.s,p.e&&(p.e=At(r)+un(p.e)),p.b&&(p.b=f.s+un(p.b))},gF=function(e,n){var r=e[0]?go(e[0]).harness:0,i=r&&r.aliases,s,o,l,u;if(!i)return n;s=ba({},n);for(o in i)if(o in s)for(u=i[o].split(","),l=u.length;l--;)s[u[l]]=s[o];return s},yF=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,l;if(fn(n))l=r[e]||(r[e]=[]),n.forEach(function(u,d){return l.push({t:d/(n.length-1)*100,v:u,e:s})});else for(o in n)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:n[o],e:s})},$l=function(e,n,r,i,s){return Et(e)?e.call(n,r,i,s):Xt(e)&&~e.indexOf("random(")?sc(e):e},uk=Hg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",dk={};$n(uk+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return dk[t]=1});var Ft=(function(t){DC(e,t);function e(r,i,s,o){var l;typeof i=="number"&&(s.duration=i,i=s,s=null),l=t.call(this,o?i:Vl(i))||this;var u=l.vars,d=u.duration,f=u.delay,p=u.immediateRender,g=u.stagger,y=u.overwrite,w=u.keyframes,v=u.defaults,_=u.scrollTrigger,C=u.yoyoEase,E=i.parent||_t,k=(fn(r)||AC(r)?Li(r[0]):"length"in i)?[r]:wr(r),R,P,N,T,A,O,$,W;if(l._targets=k.length?Gg(k):rc("GSAP target "+r+" not found. https://gsap.com",!sr.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=y,w||g||Bu(d)||Bu(f)){if(i=l.vars,R=l.timeline=new Sn({data:"nested",defaults:v||{},targets:E&&E.data==="nested"?E.vars.targets:k}),R.kill(),R.parent=R._dp=Mi(l),R._start=0,g||Bu(d)||Bu(f)){if(T=k.length,$=g&&XC(g),ii(g))for(A in g)~uk.indexOf(A)&&(W||(W={}),W[A]=g[A]);for(P=0;P<T;P++)N=Ad(i,dk),N.stagger=0,C&&(N.yoyoEase=C),W&&ba(N,W),O=k[P],N.duration=+$l(d,Mi(l),P,O,k),N.delay=(+$l(f,Mi(l),P,O,k)||0)-l._delay,!g&&T===1&&N.delay&&(l._delay=f=N.delay,l._start+=f,N.delay=0),R.to(O,N,$?$(P,O,k):0),R._ease=Ye.none;R.duration()?d=f=0:l.timeline=0}else if(w){Vl(ar(R.vars.defaults,{ease:"none"})),R._ease=vo(w.ease||i.ease||"none");var Z=0,K,Q,Y;if(fn(w))w.forEach(function(re){return R.to(k,re,">")}),R.duration();else{N={};for(A in w)A==="ease"||A==="easeEach"||yF(A,w[A],N,w.easeEach);for(A in N)for(K=N[A].sort(function(re,L){return re.t-L.t}),Z=0,P=0;P<K.length;P++)Q=K[P],Y={ease:Q.e,duration:(Q.t-(P?K[P-1].t:0))/100*d},Y[A]=Q.v,R.to(k,Y,Z),Z+=Y.duration;R.duration()<d&&R.to({},{duration:d-R.duration()})}}d||l.duration(d=R.duration())}else l.timeline=0;return y===!0&&!zg&&(ds=Mi(l),_t.killTweensOf(k),ds=0),Kr(E,Mi(l),s),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(p||!d&&!w&&l._start===wt(E._time)&&Un(p)&&qO(Mi(l))&&E.data!=="nested")&&(l._tTime=-st,l.render(Math.max(0,-f)||0)),_&&HC(Mi(l),_),l}var n=e.prototype;return n.render=function(i,s,o){var l=this._time,u=this._tDur,d=this._dur,f=i<0,p=i>u-st&&!f?u:i<st?0:i,g,y,w,v,_,C,E,k,R;if(!d)KO(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(g=p,k=this.timeline,this._repeat){if(v=d+this._rDelay,this._repeat<-1&&f)return this.totalTime(v*100+i,s,o);if(g=wt(p%v),p===u?(w=this._repeat,g=d):(_=wt(p/v),w=~~_,w&&w===_?(g=d,w--):g>d&&(g=d)),C=this._yoyo&&w&1,C&&(R=this._yEase,g=d-g),_=wa(this._tTime,v),g===l&&!o&&this._initted&&w===_)return this._tTime=p,this;w!==_&&(k&&this._yEase&&ok(k,C),this.vars.repeatRefresh&&!C&&!this._lock&&g!==v&&this._initted&&(this._lock=o=1,this.render(wt(v*w),!0).invalidate()._lock=0))}if(!this._initted){if(GC(this,f?i:g,o,s,p))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&w!==_))return this;if(d!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(R||this._ease)(g/d),this._from&&(this.ratio=E=1-E),!l&&p&&!s&&!_&&(rr(this,"onStart"),this._tTime!==p))return this;for(y=this._pt;y;)y.r(E,y.d),y=y._next;k&&k.render(i<0?i:k._dur*k._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(f&&Pm(this,i,s,o),rr(this,"onUpdate")),this._repeat&&w!==_&&this.vars.onRepeat&&!s&&this.parent&&rr(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(f&&!this._onUpdate&&Pm(this,i,!0,!0),(i||!d)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Cs(this,1),!s&&!(f&&!l)&&(p||l||C)&&(rr(this,p===u?"onComplete":"onReverseComplete",!0),this._prom&&!(p<u&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,l,u){oc||nr.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||Xg(this,d),f=this._ease(d/this._dur),mF(this,i,s,o,l,f,d,u)?this.resetTo(i,s,o,l,1):(rh(this,0),this.parent||$C(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?El(this):this.scrollTrigger&&this.scrollTrigger.kill(!!tn),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,ds&&ds.vars.overwrite!==!0)._first||El(this),this.parent&&o!==this.timeline.totalDuration()&&_a(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=i?wr(i):l,d=this._ptLookup,f=this._pt,p,g,y,w,v,_,C;if((!s||s==="all")&&GO(l,u))return s==="all"&&(this._pt=0),El(this);for(p=this._op=this._op||[],s!=="all"&&(Xt(s)&&(v={},$n(s,function(E){return v[E]=1}),s=v),s=gF(l,s)),C=l.length;C--;)if(~u.indexOf(l[C])){g=d[C],s==="all"?(p[C]=s,w=g,y={}):(y=p[C]=p[C]||{},w=s);for(v in w)_=g&&g[v],_&&((!("kill"in _.d)||_.d.kill(v)===!0)&&th(this,_,"_pt"),delete g[v]),y!=="all"&&(y[v]=1)}return this._initted&&!this._pt&&f&&El(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Ul(1,arguments)},e.delayedCall=function(i,s,o,l){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(i,s,o){return Ul(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return _t.killTweensOf(i,s,o)},e})(ac);ar(Ft.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$n("staggerTo,staggerFrom,staggerFromTo",function(t){Ft[t]=function(){var e=new Sn,n=Rm.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Kg=function(e,n,r){return e[n]=r},hk=function(e,n,r){return e[n](r)},vF=function(e,n,r,i){return e[n](i.fp,r)},xF=function(e,n,r){return e.setAttribute(n,r)},Qg=function(e,n){return Et(e[n])?hk:Bg(e[n])&&e.setAttribute?xF:Kg},fk=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},bF=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},pk=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},Jg=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},wF=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},_F=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?th(this,n,"_pt"):n.dep||(r=1),n=i;return!r},SF=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},mk=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},Wn=(function(){function t(n,r,i,s,o,l,u,d,f){this.t=r,this.s=s,this.c=o,this.p=i,this.r=l||fk,this.d=u||this,this.set=d||Kg,this.pr=f||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=SF,this.m=r,this.mt=s,this.tween=i},t})();$n(Hg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Wg[t]=1});or.TweenMax=or.TweenLite=Ft;or.TimelineLite=or.TimelineMax=Sn;_t=new Sn({sortChildren:!1,defaults:xa,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});sr.stringFilter=ik;var xo=[],yd={},CF=[],f1=0,kF=0,Ap=function(e){return(yd[e]||CF).map(function(n){return n()})},jm=function(){var e=Date.now(),n=[];e-f1>2&&(Ap("matchMediaInit"),xo.forEach(function(r){var i=r.queries,s=r.conditions,o,l,u,d;for(l in i)o=Xr.matchMedia(i[l]).matches,o&&(u=1),o!==s[l]&&(s[l]=o,d=1);d&&(r.revert(),u&&n.push(r))}),Ap("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),f1=e,Ap("matchMedia"))},gk=(function(){function t(n,r){this.selector=r&&Am(r),this.data=[],this._r=[],this.isReverted=!1,this.id=kF++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){Et(r)&&(s=i,i=r,r=Et);var o=this,l=function(){var d=yt,f=o.selector,p;return d&&d!==o&&d.data.push(o),s&&(o.selector=Am(s)),yt=o,p=i.apply(o,arguments),Et(p)&&o._r.push(p),yt=d,o.selector=f,o.isReverted=!1,p};return o.last=l,r===Et?l(o,function(u){return o.add(null,u)}):r?o[r]=l:l},e.ignore=function(r){var i=yt;yt=null,r(this),yt=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Ft&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?(function(){for(var l=s.getTweens(),u=s.data.length,d;u--;)d=s.data[u],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(f){return l.splice(l.indexOf(f),1)}));for(l.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,p){return p.g-f.g||-1/0}).forEach(function(f){return f.t.revert(r)}),u=s.data.length;u--;)d=s.data[u],d instanceof Sn?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Ft)&&d.revert&&d.revert(r);s._r.forEach(function(f){return f(r,s)}),s.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var o=xo.length;o--;)xo[o].id===this.id&&xo.splice(o,1)},e.revert=function(r){this.kill(r||{})},t})(),MF=(function(){function t(n){this.contexts=[],this.scope=n,yt&&yt.data.push(this)}var e=t.prototype;return e.add=function(r,i,s){ii(r)||(r={matches:r});var o=new gk(0,s||this.scope),l=o.conditions={},u,d,f;yt&&!o.selector&&(o.selector=yt.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(d in r)d==="all"?f=1:(u=Xr.matchMedia(r[d]),u&&(xo.indexOf(o)<0&&xo.push(o),(l[d]=u.matches)&&(f=1),u.addListener?u.addListener(jm):u.addEventListener("change",jm)));return f&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t})(),Ld={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return tk(i)})},timeline:function(e){return new Sn(e)},getTweensOf:function(e,n){return _t.getTweensOf(e,n)},getProperty:function(e,n,r,i){Xt(e)&&(e=wr(e)[0]);var s=go(e||{}).get,o=r?UC:VC;return r==="native"&&(r=""),e&&(n?o((er[n]&&er[n].get||s)(e,n,r,i)):function(l,u,d){return o((er[l]&&er[l].get||s)(e,l,u,d))})},quickSetter:function(e,n,r){if(e=wr(e),e.length>1){var i=e.map(function(f){return Gn.quickSetter(f,n,r)}),s=i.length;return function(f){for(var p=s;p--;)i[p](f)}}e=e[0]||{};var o=er[n],l=go(e),u=l.harness&&(l.harness.aliases||{})[n]||n,d=o?function(f){var p=new o;ca._pt=0,p.init(e,r?f+r:f,ca,0,[e]),p.render(1,p),ca._pt&&Jg(1,ca)}:l.set(e,u);return o?d:function(f){return d(e,u,r?f+r:f,l,1)}},quickTo:function(e,n,r){var i,s=Gn.to(e,ar((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(u,d,f){return s.resetTo(n,u,d,f)};return o.tween=s,o},isTweening:function(e){return _t.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=vo(e.ease,xa.ease)),l1(xa,e||{})},config:function(e){return l1(sr,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!er[l]&&!or[l]&&rc(n+" effect requires "+l+" plugin.")}),Ep[n]=function(l,u,d){return r(wr(l),ar(u||{},s),d)},o&&(Sn.prototype[n]=function(l,u,d){return this.add(Ep[n](l,ii(u)?u:(d=u)&&{},this),d)})},registerEase:function(e,n){Ye[e]=vo(n)},parseEase:function(e,n){return arguments.length?vo(e,n):Ye},getById:function(e){return _t.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new Sn(e),i,s;for(r.smoothChildTiming=Un(e.smoothChildTiming),_t.remove(r),r._dp=0,r._time=r._tTime=_t._time,i=_t._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Ft&&i.vars.onComplete===i._targets[0]))&&Kr(r,i,i._start-i._delay),i=s;return Kr(_t,r,0),r},context:function(e,n){return e?new gk(e,n):yt},matchMedia:function(e){return new MF(e)},matchMediaRefresh:function(){return xo.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||jm()},addEventListener:function(e,n){var r=yd[e]||(yd[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=yd[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:iF,wrapYoyo:sF,distribute:XC,random:QC,snap:KC,normalize:rF,getUnit:un,clamp:ZO,splitColor:nk,toArray:wr,selector:Am,mapRange:ZC,pipe:tF,unitize:nF,interpolate:oF,shuffle:qC},install:OC,effects:Ep,ticker:nr,updateRoot:Sn.updateRoot,plugins:er,globalTimeline:_t,core:{PropTween:Wn,globals:FC,Tween:Ft,Timeline:Sn,Animation:ac,getCache:go,_removeLinkedListItem:th,reverting:function(){return tn},context:function(e){return e&&yt&&(yt.data.push(e),e._ctx=yt),yt},suppressOverwrites:function(e){return zg=e}}};$n("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Ld[t]=Ft[t]});nr.add(Sn.updateRoot);ca=Ld.to({},{duration:0});var TF=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},EF=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=TF(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},Np=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(l){var u,d;if(Xt(s)&&(u={},$n(s,function(f){return u[f]=1}),s=u),n){u={};for(d in s)u[d]=n(s[d]);s=u}EF(l,s)}}}},Gn=Ld.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,l,u;this.tween=r;for(o in n)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",n[o],i,s,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)tn?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Np("roundProps",Nm),Np("modifiers"),Np("snap",KC))||Ld;Ft.version=Sn.version=Gn.version="3.14.2";jC=1;Vg()&&Sa();Ye.Power0;Ye.Power1;Ye.Power2;Ye.Power3;Ye.Power4;Ye.Linear;Ye.Quad;Ye.Cubic;Ye.Quart;Ye.Quint;Ye.Strong;Ye.Elastic;Ye.Back;Ye.SteppedEase;Ye.Bounce;Ye.Sine;Ye.Expo;Ye.Circ;var p1,hs,pa,Zg,fo,m1,e0,PF=function(){return typeof window<"u"},ji={},so=180/Math.PI,ma=Math.PI/180,Jo=Math.atan2,g1=1e8,t0=/([A-Z])/g,DF=/(left|right|width|margin|padding|x)/i,RF=/[\s,\(]\S/,Qr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Om=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},AF=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},NF=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},LF=function(e,n){return n.set(n.t,n.p,e===1?n.e:e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},jF=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},yk=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},vk=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},OF=function(e,n,r){return e.style[n]=r},FF=function(e,n,r){return e.style.setProperty(n,r)},IF=function(e,n,r){return e._gsap[n]=r},zF=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},BF=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},VF=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},Ct="transform",Hn=Ct+"Origin",UF=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in ji&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Qr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=Ti(i,l)}):this.tfm[e]=o.x?o[e]:Ti(i,e),e===Hn&&(this.tfm.zOrigin=o.zOrigin);else return Qr.transform.split(",").forEach(function(l){return t.call(r,l,n)});if(this.props.indexOf(Ct)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Hn,n,"")),e=Ct}(s||n)&&this.props.push(e,n,s[e])},xk=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},$F=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?n[e[s]](e[s+2]):n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(t0,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=e0(),(!s||!s.isStart)&&!r[Ct]&&(xk(r),i.zOrigin&&r[Hn]&&(r[Hn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},bk=function(e,n){var r={target:e,props:[],revert:$F,save:UF};return e._gsap||Gn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},wk,Fm=function(e,n){var r=hs.createElementNS?hs.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):hs.createElement(e);return r&&r.style?r:hs.createElement(e)},ir=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(t0,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,Ca(n)||n,1)||""},y1="O,Moz,ms,Ms,Webkit".split(","),Ca=function(e,n,r){var i=n||fo,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(y1[o]+e in s););return o<0?null:(o===3?"ms":o>=0?y1[o]:"")+e},Im=function(){PF()&&window.document&&(p1=window,hs=p1.document,pa=hs.documentElement,fo=Fm("div")||{style:{}},Fm("div"),Ct=Ca(Ct),Hn=Ct+"Origin",fo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",wk=!!Ca("perspective"),e0=Gn.core.reverting,Zg=1)},v1=function(e){var n=e.ownerSVGElement,r=Fm("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),pa.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),pa.removeChild(r),s},x1=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},_k=function(e){var n,r;try{n=e.getBBox()}catch{n=v1(e),r=1}return n&&(n.width||n.height)||r||(n=v1(e)),n&&!n.width&&!n.x&&!n.y?{x:+x1(e,["x","cx","x1"])||0,y:+x1(e,["y","cy","y1"])||0,width:0,height:0}:n},Sk=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_k(e))},ks=function(e,n){if(n){var r=e.style,i;n in ji&&n!==Hn&&(n=Ct),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(t0,"-$1").toLowerCase())):r.removeAttribute(n)}},fs=function(e,n,r,i,s,o){var l=new Wn(e._pt,n,r,0,1,o?vk:yk);return e._pt=l,l.b=i,l.e=s,e._props.push(r),l},b1={deg:1,rad:1,turn:1},WF={grid:1,flex:1},Ms=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",l=fo.style,u=DF.test(n),d=e.tagName.toLowerCase()==="svg",f=(d?"client":"offset")+(u?"Width":"Height"),p=100,g=i==="px",y=i==="%",w,v,_,C;if(i===o||!s||b1[i]||b1[o])return s;if(o!=="px"&&!g&&(s=t(e,n,r,"px")),C=e.getCTM&&Sk(e),(y||o==="%")&&(ji[n]||~n.indexOf("adius")))return w=C?e.getBBox()[u?"width":"height"]:e[f],At(y?s/w*p:s/100*w);if(l[u?"width":"height"]=p+(g?o:i),v=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!d?e:e.parentNode,C&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===hs||!v.appendChild)&&(v=hs.body),_=v._gsap,_&&y&&_.width&&u&&_.time===nr.time&&!_.uncache)return At(s/_.width*p);if(y&&(n==="height"||n==="width")){var E=e.style[n];e.style[n]=p+i,w=e[f],E?e.style[n]=E:ks(e,n)}else(y||o==="%")&&!WF[ir(v,"display")]&&(l.position=ir(e,"position")),v===e&&(l.position="static"),v.appendChild(fo),w=fo[f],v.removeChild(fo),l.position="absolute";return u&&y&&(_=go(v),_.time=nr.time,_.width=v[f]),At(g?w*s/p:w&&s?p/w*s:0)},Ti=function(e,n,r,i){var s;return Zg||Im(),n in Qr&&n!=="transform"&&(n=Qr[n],~n.indexOf(",")&&(n=n.split(",")[0])),ji[n]&&n!=="transform"?(s=cc(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:Od(ir(e,Hn))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=jd[n]&&jd[n](e,n,r)||ir(e,n)||zC(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Ms(e,n,s,r)+r:s},HF=function(e,n,r,i){if(!r||r==="none"){var s=Ca(n,e,1),o=s&&ir(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=ir(e,"borderTopColor"))}var l=new Wn(this._pt,e.style,n,0,1,pk),u=0,d=0,f,p,g,y,w,v,_,C,E,k,R,P;if(l.b=r,l.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=ir(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(v=e.style[n],e.style[n]=i,i=ir(e,n)||i,v?e.style[n]=v:ks(e,n)),f=[r,i],ik(f),r=f[0],i=f[1],g=r.match(la)||[],P=i.match(la)||[],P.length){for(;p=la.exec(i);)_=p[0],E=i.substring(u,p.index),w?w=(w+1)%5:(E.substr(-5)==="rgba("||E.substr(-5)==="hsla(")&&(w=1),_!==(v=g[d++]||"")&&(y=parseFloat(v)||0,R=v.substr((y+"").length),_.charAt(1)==="="&&(_=fa(y,_)+R),C=parseFloat(_),k=_.substr((C+"").length),u=la.lastIndex-k.length,k||(k=k||sr.units[n]||R,u===i.length&&(i+=k,l.e+=k)),R!==k&&(y=Ms(e,n,v,k)||0),l._pt={_next:l._pt,p:E||d===1?E:",",s:y,c:C-y,m:w&&w<4||n==="zIndex"?Math.round:0});l.c=u<i.length?i.substring(u,i.length):""}else l.r=n==="display"&&i==="none"?vk:yk;return LC.test(i)&&(l.e=0),this._pt=l,l},w1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},GF=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=w1[r]||r,n[1]=w1[i]||i,n.join(" ")},YF=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,l,u,d;if(s==="all"||s===!0)i.cssText="",u=1;else for(s=s.split(","),d=s.length;--d>-1;)l=s[d],ji[l]&&(u=1,l=l==="transformOrigin"?Hn:Ct),ks(r,l);u&&(ks(r,Ct),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",cc(r,1),o.uncache=1,xk(i)))}},jd={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Wn(e._pt,n,r,0,0,YF);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},lc=[1,0,0,1,0,0],Ck={},kk=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},_1=function(e){var n=ir(e,Ct);return kk(n)?lc:n.substr(7).match(NC).map(At)},n0=function(e,n){var r=e._gsap||go(e),i=e.style,s=_1(e),o,l,u,d;return r.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?lc:s):(s===lc&&!e.offsetParent&&e!==pa&&!r.svg&&(u=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,l=e.nextElementSibling,pa.appendChild(e)),s=_1(e),u?i.display=u:ks(e,"display"),d&&(l?o.insertBefore(e,l):o?o.appendChild(e):pa.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},zm=function(e,n,r,i,s,o){var l=e._gsap,u=s||n0(e,!0),d=l.xOrigin||0,f=l.yOrigin||0,p=l.xOffset||0,g=l.yOffset||0,y=u[0],w=u[1],v=u[2],_=u[3],C=u[4],E=u[5],k=n.split(" "),R=parseFloat(k[0])||0,P=parseFloat(k[1])||0,N,T,A,O;r?u!==lc&&(T=y*_-w*v)&&(A=R*(_/T)+P*(-v/T)+(v*E-_*C)/T,O=R*(-w/T)+P*(y/T)-(y*E-w*C)/T,R=A,P=O):(N=_k(e),R=N.x+(~k[0].indexOf("%")?R/100*N.width:R),P=N.y+(~(k[1]||k[0]).indexOf("%")?P/100*N.height:P)),i||i!==!1&&l.smooth?(C=R-d,E=P-f,l.xOffset=p+(C*y+E*v)-C,l.yOffset=g+(C*w+E*_)-E):l.xOffset=l.yOffset=0,l.xOrigin=R,l.yOrigin=P,l.smooth=!!i,l.origin=n,l.originIsAbsolute=!!r,e.style[Hn]="0px 0px",o&&(fs(o,l,"xOrigin",d,R),fs(o,l,"yOrigin",f,P),fs(o,l,"xOffset",p,l.xOffset),fs(o,l,"yOffset",g,l.yOffset)),e.setAttribute("data-svg-origin",R+" "+P)},cc=function(e,n){var r=e._gsap||new lk(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",l="deg",u=getComputedStyle(e),d=ir(e,Hn)||"0",f,p,g,y,w,v,_,C,E,k,R,P,N,T,A,O,$,W,Z,K,Q,Y,re,L,z,X,q,F,G,oe,ie,ue;return f=p=g=v=_=C=E=k=R=0,y=w=1,r.svg=!!(e.getCTM&&Sk(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[Ct]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Ct]!=="none"?u[Ct]:"")),i.scale=i.rotate=i.translate="none"),T=n0(e,r.svg),r.svg&&(r.uncache?(z=e.getBBox(),d=r.xOrigin-z.x+"px "+(r.yOrigin-z.y)+"px",L=""):L=!n&&e.getAttribute("data-svg-origin"),zm(e,L||d,!!L||r.originIsAbsolute,r.smooth!==!1,T)),P=r.xOrigin||0,N=r.yOrigin||0,T!==lc&&(W=T[0],Z=T[1],K=T[2],Q=T[3],f=Y=T[4],p=re=T[5],T.length===6?(y=Math.sqrt(W*W+Z*Z),w=Math.sqrt(Q*Q+K*K),v=W||Z?Jo(Z,W)*so:0,E=K||Q?Jo(K,Q)*so+v:0,E&&(w*=Math.abs(Math.cos(E*ma))),r.svg&&(f-=P-(P*W+N*K),p-=N-(P*Z+N*Q))):(ue=T[6],oe=T[7],q=T[8],F=T[9],G=T[10],ie=T[11],f=T[12],p=T[13],g=T[14],A=Jo(ue,G),_=A*so,A&&(O=Math.cos(-A),$=Math.sin(-A),L=Y*O+q*$,z=re*O+F*$,X=ue*O+G*$,q=Y*-$+q*O,F=re*-$+F*O,G=ue*-$+G*O,ie=oe*-$+ie*O,Y=L,re=z,ue=X),A=Jo(-K,G),C=A*so,A&&(O=Math.cos(-A),$=Math.sin(-A),L=W*O-q*$,z=Z*O-F*$,X=K*O-G*$,ie=Q*$+ie*O,W=L,Z=z,K=X),A=Jo(Z,W),v=A*so,A&&(O=Math.cos(A),$=Math.sin(A),L=W*O+Z*$,z=Y*O+re*$,Z=Z*O-W*$,re=re*O-Y*$,W=L,Y=z),_&&Math.abs(_)+Math.abs(v)>359.9&&(_=v=0,C=180-C),y=At(Math.sqrt(W*W+Z*Z+K*K)),w=At(Math.sqrt(re*re+ue*ue)),A=Jo(Y,re),E=Math.abs(A)>2e-4?A*so:0,R=ie?1/(ie<0?-ie:ie):0),r.svg&&(L=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!kk(ir(e,Ct)),L&&e.setAttribute("transform",L))),Math.abs(E)>90&&Math.abs(E)<270&&(s?(y*=-1,E+=v<=0?180:-180,v+=v<=0?180:-180):(w*=-1,E+=E<=0?180:-180)),n=n||r.uncache,r.x=f-((r.xPercent=f&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=p-((r.yPercent=p&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=g+o,r.scaleX=At(y),r.scaleY=At(w),r.rotation=At(v)+l,r.rotationX=At(_)+l,r.rotationY=At(C)+l,r.skewX=E+l,r.skewY=k+l,r.transformPerspective=R+o,(r.zOrigin=parseFloat(d.split(" ")[2])||!n&&r.zOrigin||0)&&(i[Hn]=Od(d)),r.xOffset=r.yOffset=0,r.force3D=sr.force3D,r.renderTransform=r.svg?XF:wk?Mk:qF,r.uncache=0,r},Od=function(e){return(e=e.split(" "))[0]+" "+e[1]},Lp=function(e,n,r){var i=un(n);return At(parseFloat(n)+parseFloat(Ms(e,"x",r+"px",i)))+i},qF=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Mk(e,n)},Zs="0deg",yl="0px",eo=") ",Mk=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,l=r.y,u=r.z,d=r.rotation,f=r.rotationY,p=r.rotationX,g=r.skewX,y=r.skewY,w=r.scaleX,v=r.scaleY,_=r.transformPerspective,C=r.force3D,E=r.target,k=r.zOrigin,R="",P=C==="auto"&&e&&e!==1||C===!0;if(k&&(p!==Zs||f!==Zs)){var N=parseFloat(f)*ma,T=Math.sin(N),A=Math.cos(N),O;N=parseFloat(p)*ma,O=Math.cos(N),o=Lp(E,o,T*O*-k),l=Lp(E,l,-Math.sin(N)*-k),u=Lp(E,u,A*O*-k+k)}_!==yl&&(R+="perspective("+_+eo),(i||s)&&(R+="translate("+i+"%, "+s+"%) "),(P||o!==yl||l!==yl||u!==yl)&&(R+=u!==yl||P?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+eo),d!==Zs&&(R+="rotate("+d+eo),f!==Zs&&(R+="rotateY("+f+eo),p!==Zs&&(R+="rotateX("+p+eo),(g!==Zs||y!==Zs)&&(R+="skew("+g+", "+y+eo),(w!==1||v!==1)&&(R+="scale("+w+", "+v+eo),E.style[Ct]=R||"translate(0, 0)"},XF=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,l=r.y,u=r.rotation,d=r.skewX,f=r.skewY,p=r.scaleX,g=r.scaleY,y=r.target,w=r.xOrigin,v=r.yOrigin,_=r.xOffset,C=r.yOffset,E=r.forceCSS,k=parseFloat(o),R=parseFloat(l),P,N,T,A,O;u=parseFloat(u),d=parseFloat(d),f=parseFloat(f),f&&(f=parseFloat(f),d+=f,u+=f),u||d?(u*=ma,d*=ma,P=Math.cos(u)*p,N=Math.sin(u)*p,T=Math.sin(u-d)*-g,A=Math.cos(u-d)*g,d&&(f*=ma,O=Math.tan(d-f),O=Math.sqrt(1+O*O),T*=O,A*=O,f&&(O=Math.tan(f),O=Math.sqrt(1+O*O),P*=O,N*=O)),P=At(P),N=At(N),T=At(T),A=At(A)):(P=p,A=g,N=T=0),(k&&!~(o+"").indexOf("px")||R&&!~(l+"").indexOf("px"))&&(k=Ms(y,"x",o,"px"),R=Ms(y,"y",l,"px")),(w||v||_||C)&&(k=At(k+w-(w*P+v*T)+_),R=At(R+v-(w*N+v*A)+C)),(i||s)&&(O=y.getBBox(),k=At(k+i/100*O.width),R=At(R+s/100*O.height)),O="matrix("+P+","+N+","+T+","+A+","+k+","+R+")",y.setAttribute("transform",O),E&&(y.style[Ct]=O)},KF=function(e,n,r,i,s){var o=360,l=Xt(s),u=parseFloat(s)*(l&&~s.indexOf("rad")?so:1),d=u-i,f=i+d+"deg",p,g;return l&&(p=s.split("_")[1],p==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),p==="cw"&&d<0?d=(d+o*g1)%o-~~(d/o)*o:p==="ccw"&&d>0&&(d=(d-o*g1)%o-~~(d/o)*o)),e._pt=g=new Wn(e._pt,n,r,i,d,AF),g.e=f,g.u="deg",e._props.push(r),g},S1=function(e,n){for(var r in n)e[r]=n[r];return e},QF=function(e,n,r){var i=S1({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,u,d,f,p,g,y,w;i.svg?(d=r.getAttribute("transform"),r.setAttribute("transform",""),o[Ct]=n,l=cc(r,1),ks(r,Ct),r.setAttribute("transform",d)):(d=getComputedStyle(r)[Ct],o[Ct]=n,l=cc(r,1),o[Ct]=d);for(u in ji)d=i[u],f=l[u],d!==f&&s.indexOf(u)<0&&(y=un(d),w=un(f),p=y!==w?Ms(r,u,d,w):parseFloat(d),g=parseFloat(f),e._pt=new Wn(e._pt,l,u,p,g-p,Om),e._pt.u=w||0,e._props.push(u));S1(l,i)};$n("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(l){return e<2?t+l:"border"+l+t});jd[e>1?"border"+t:t]=function(l,u,d,f,p){var g,y;if(arguments.length<4)return g=o.map(function(w){return Ti(l,w,d)}),y=g.join(" "),y.split(g[0]).length===5?g[0]:y;g=(f+"").split(" "),y={},o.forEach(function(w,v){return y[w]=g[v]=g[v]||g[(v-1)/2|0]}),l.init(u,y,p)}});var Tk={name:"css",register:Im,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,l=e.style,u=r.vars.startAt,d,f,p,g,y,w,v,_,C,E,k,R,P,N,T,A,O;Zg||Im(),this.styles=this.styles||bk(e),A=this.styles.props,this.tween=r;for(v in n)if(v!=="autoRound"&&(f=n[v],!(er[v]&&ck(v,n,r,i,e,s)))){if(y=typeof f,w=jd[v],y==="function"&&(f=f.call(r,i,e,s),y=typeof f),y==="string"&&~f.indexOf("random(")&&(f=sc(f)),w)w(this,e,v,f,r)&&(T=1);else if(v.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(v)+"").trim(),f+="",xs.lastIndex=0,xs.test(d)||(_=un(d),C=un(f),C?_!==C&&(d=Ms(e,v,d,C)+C):_&&(f+=_)),this.add(l,"setProperty",d,f,i,s,0,0,v),o.push(v),A.push(v,0,l[v]);else if(y!=="undefined"){if(u&&v in u?(d=typeof u[v]=="function"?u[v].call(r,i,e,s):u[v],Xt(d)&&~d.indexOf("random(")&&(d=sc(d)),un(d+"")||d==="auto"||(d+=sr.units[v]||un(Ti(e,v))||""),(d+"").charAt(1)==="="&&(d=Ti(e,v))):d=Ti(e,v),g=parseFloat(d),E=y==="string"&&f.charAt(1)==="="&&f.substr(0,2),E&&(f=f.substr(2)),p=parseFloat(f),v in Qr&&(v==="autoAlpha"&&(g===1&&Ti(e,"visibility")==="hidden"&&p&&(g=0),A.push("visibility",0,l.visibility),fs(this,l,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),v!=="scale"&&v!=="transform"&&(v=Qr[v],~v.indexOf(",")&&(v=v.split(",")[0]))),k=v in ji,k){if(this.styles.save(v),O=f,y==="string"&&f.substring(0,6)==="var(--"){if(f=ir(e,f.substring(4,f.indexOf(")"))),f.substring(0,5)==="calc("){var $=e.style.perspective;e.style.perspective=f,f=ir(e,"perspective"),$?e.style.perspective=$:ks(e,"perspective")}p=parseFloat(f)}if(R||(P=e._gsap,P.renderTransform&&!n.parseTransform||cc(e,n.parseTransform),N=n.smoothOrigin!==!1&&P.smooth,R=this._pt=new Wn(this._pt,l,Ct,0,1,P.renderTransform,P,0,-1),R.dep=1),v==="scale")this._pt=new Wn(this._pt,P,"scaleY",P.scaleY,(E?fa(P.scaleY,E+p):p)-P.scaleY||0,Om),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){A.push(Hn,0,l[Hn]),f=GF(f),P.svg?zm(e,f,0,N,0,this):(C=parseFloat(f.split(" ")[2])||0,C!==P.zOrigin&&fs(this,P,"zOrigin",P.zOrigin,C),fs(this,l,v,Od(d),Od(f)));continue}else if(v==="svgOrigin"){zm(e,f,1,N,0,this);continue}else if(v in Ck){KF(this,P,v,g,E?fa(g,E+f):f);continue}else if(v==="smoothOrigin"){fs(this,P,"smooth",P.smooth,f);continue}else if(v==="force3D"){P[v]=f;continue}else if(v==="transform"){QF(this,f,e);continue}}else v in l||(v=Ca(v)||v);if(k||(p||p===0)&&(g||g===0)&&!RF.test(f)&&v in l)_=(d+"").substr((g+"").length),p||(p=0),C=un(f)||(v in sr.units?sr.units[v]:_),_!==C&&(g=Ms(e,v,d,C)),this._pt=new Wn(this._pt,k?P:l,v,g,(E?fa(g,E+p):p)-g,!k&&(C==="px"||v==="zIndex")&&n.autoRound!==!1?jF:Om),this._pt.u=C||0,k&&O!==f?(this._pt.b=d,this._pt.e=O,this._pt.r=LF):_!==C&&C!=="%"&&(this._pt.b=d,this._pt.r=NF);else if(v in l)HF.call(this,e,v,d,E?E+f:f);else if(v in e)this.add(e,v,d||e[v],E?E+f:f,i,s);else if(v!=="parseTransform"){$g(v,f);continue}k||(v in l?A.push(v,0,l[v]):typeof e[v]=="function"?A.push(v,2,e[v]()):A.push(v,1,d||e[v])),o.push(v)}}T&&mk(this)},render:function(e,n){if(n.tween._time||!e0())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Ti,aliases:Qr,getSetter:function(e,n,r){var i=Qr[n];return i&&i.indexOf(",")<0&&(n=i),n in ji&&n!==Hn&&(e._gsap.x||Ti(e,"x"))?r&&m1===r?n==="scale"?zF:IF:(m1=r||{})&&(n==="scale"?BF:VF):e.style&&!Bg(e.style[n])?OF:~n.indexOf("-")?FF:Qg(e,n)},core:{_removeProperty:ks,_getMatrix:n0}};Gn.utils.checkPrefix=Ca;Gn.core.getStyleSaver=bk;(function(t,e,n,r){var i=$n(t+","+e+","+n,function(s){ji[s]=1});$n(e,function(s){sr.units[s]="deg",Ck[s]=1}),Qr[i[13]]=t+","+e,$n(r,function(s){var o=s.split(":");Qr[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$n("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){sr.units[t]="px"});Gn.registerPlugin(Tk);var gt=Gn.registerPlugin(Tk)||Gn;gt.core.Tween;function JF({text:t,as:e,typingSpeed:n=50,initialDelay:r=0,pauseDuration:i=2e3,deletingSpeed:s=30,loop:o=!0,className:l="",showCursor:u=!0,hideCursorWhileTyping:d=!1,cursorCharacter:f="|",cursorClassName:p="",cursorBlinkDuration:g=.5,textColors:y=[],variableSpeed:w,onSentenceComplete:v,startOnVisible:_=!1,reverseMode:C=!1,...E}){const k=e??"div",[R,P]=M.useState(""),[N,T]=M.useState(0),[A,O]=M.useState(!1),[$,W]=M.useState(0),[Z,K]=M.useState(!_),Q=M.useRef(null),Y=M.useRef(null),re=M.useMemo(()=>Array.isArray(t)?t:[t],[t]),L=M.useCallback(()=>{if(!w)return n;const q=Number(w.min),F=Number(w.max);return!Number.isFinite(q)||!Number.isFinite(F)||F<=q?n:Math.random()*(F-q)+q},[w,n]),z=()=>{if(y.length)return y[$%y.length]};M.useEffect(()=>{if(!_||!Y.current)return;const q=Y.current,F=new IntersectionObserver(G=>{for(const oe of G)if(oe.isIntersecting){K(!0);break}},{threshold:.1});return F.observe(q),()=>F.disconnect()},[_]),M.useEffect(()=>{if(!u||!Q.current)return;gt.set(Q.current,{opacity:1});const q=gt.to(Q.current,{opacity:0,duration:g,repeat:-1,yoyo:!0,ease:"power2.inOut"});return()=>{q.kill()}},[u,g]),M.useEffect(()=>{if(!Z)return;let q;const F=String(re[$]??""),G=C?F.split("").reverse().join(""):F,oe=(ue,pe)=>{q=window.setTimeout(ue,pe)},ie=()=>{if(A)if(R===""){if(O(!1),$===re.length-1&&!o)return;v&&v(re[$]??"",$),W(ue=>(ue+1)%re.length),T(0),oe(()=>{},i)}else oe(()=>{P(ue=>ue.slice(0,-1))},s);else if(N<G.length)oe(()=>{P(ue=>ue+G[N]),T(ue=>ue+1)},w?L():n);else if(re.length>=1){if(!o&&$===re.length-1)return;oe(()=>O(!0),i)}};return N===0&&!A&&R===""?oe(ie,r):ie(),()=>{q!==void 0&&window.clearTimeout(q)}},[N,R,A,n,s,i,re,$,o,r,Z,C,w,v,L]);const X=d&&(N<String(re[$]??"").length||A);return M.createElement(k,{ref:q=>{Y.current=q},className:["text-type",l].filter(Boolean).join(" "),...E},b.jsx("span",{className:"text-type__content",style:{color:z()??"inherit"},children:R}),u&&b.jsx("span",{ref:Q,className:["text-type__cursor",p,X?"text-type__cursor--hidden":""].filter(Boolean).join(" "),children:f}))}const So=[{code:"USD",symbol:"$",names:{es:"Dlar estadounidense",en:"US Dollar"}},{code:"EUR",symbol:"",names:{es:"Euro",en:"Euro"}},{code:"GBP",symbol:"",names:{es:"Libra esterlina",en:"Pound Sterling"}},{code:"JPY",symbol:"",names:{es:"Yen japons",en:"Japanese Yen"}},{code:"AUD",symbol:"A$",names:{es:"Dlar australiano",en:"Australian Dollar"}},{code:"CAD",symbol:"C$",names:{es:"Dlar canadiense",en:"Canadian Dollar"}},{code:"CHF",symbol:"CHF",names:{es:"Franco suizo",en:"Swiss Franc"}},{code:"CNY",symbol:"",names:{es:"Yuan chino",en:"Chinese Yuan"}},{code:"MXN",symbol:"MX$",names:{es:"Peso mexicano",en:"Mexican Peso"}},{code:"BRL",symbol:"R$",names:{es:"Real brasileo",en:"Brazilian Real"}}],C1={},Ra=t=>(t||"").toString().trim().toUpperCase();function k1(t){const e=Ra(t);if(e.length===3&&/^[A-Z]{3}$/.test(e))return e;const n=String(t||"").trim(),r=So.find(i=>i.symbol===n);return r?r.code:e}function zn(t,e){const n=String(e||"").trim(),r=Ra(n),i=So.find(l=>l.code===r);return i?`${i.symbol}${t.toFixed(2)}`:`${/[^A-Z]/i.test(n)||n.length<=2?n:`${n} `}${t.toFixed(2)}`}const Ek="fx_rates_",ZF=1e3*60*60*12,Vu={};function Pk(t){try{const e=localStorage.getItem(Ek+Ra(t));return e?JSON.parse(e):null}catch{return null}}function e3(t,e){try{const n={ts:Date.now(),rates:e};localStorage.setItem(Ek+Ra(t),JSON.stringify(n))}catch{}}async function t3(t){const e=Ra(t),n=typeof import.meta<"u"?C1?.VITE_EXCHANGE_API_URL:void 0,r=typeof import.meta<"u"?C1?.VITE_EXCHANGE_API_KEY:void 0,i=typeof window<"u"?localStorage.getItem("exchange_api_key"):void 0,s=r??i??void 0,o=3,l=500,u=async(p,g)=>{for(let y=1;y<=o;y++)try{const w=await fetch(p,{headers:g});if(!w.ok){if(y===o)return null;await new Promise(v=>setTimeout(v,l*y));continue}return await w.json()}catch{if(y===o)return null;await new Promise(w=>setTimeout(w,l*y))}return null},d=p=>{const g=p.includes("?")?"&":"?";let y=p;const w=/exchangerate\.host\/live/.test(p),v=/exchangerate\.host\/latest/.test(p);if(/open\.er-api\.com\/v6\/latest\//.test(p))return y=`https://open.er-api.com/v6/latest/${encodeURIComponent(e)}`,{url:y,headers:void 0,isLive:!1};const C={};if(w){y+=`${g}source=${encodeURIComponent(e)}`;const E=So.map(k=>k.code).filter(k=>k!==e);y+=`&currencies=${encodeURIComponent(E.join(","))}`,y+="&format=1"}else y+=`${g}base=${encodeURIComponent(e)}`;if(s){const E=p.includes("exchangerate.host");E&&v||(E&&w?y+=`&access_key=${encodeURIComponent(s)}`:p.includes("apilayer")?(y+=`&access_key=${encodeURIComponent(s)}`,C.apikey=s):p.includes("openexchangerates")?y+=`&app_id=${encodeURIComponent(s)}`:y+=`&access_key=${encodeURIComponent(s)}`)}return{url:y,headers:C,isLive:w}},f=n&&n.length>0?[n]:["https://api.exchangerate.host/latest","https://open.er-api.com/v6/latest/"];for(const p of f){const{url:g,headers:y,isLive:w}=d(p),v=await u(g,y);if(v){if(w&&v&&typeof v.quotes=="object"){const _={};for(const C of Object.keys(v.quotes))if(C.startsWith(e)){const E=C.slice(e.length);_[E]=Number(v.quotes[C])}if(Object.keys(_).length>0)return _}if(v&&v.rates&&typeof v.rates=="object")return v.rates}}return null}async function Dk(t,e){if(typeof window>"u")return null;const n=Ra(t),r=Pk(n);if(r&&Date.now()-r.ts<ZF)return r.rates;if(Vu[n])return Vu[n];const i=(async()=>{try{const s=await t3(n);return s?(e3(n,s),s):r?r.rates:null}finally{delete Vu[n]}})();return Vu[n]=i,i}function jr(t,e,n){const r=k1(e),i=k1(n);if(!r||r===i)return t;if(typeof window<"u")try{const d=Pk(i);if(d&&d.rates&&d.rates[r])return t/d.rates[r]}catch{}const s={EUR:1,USD:1.05,GBP:.88,CAD:1.42},o=s[r]??1,l=s[i]??1;return t/o*l}function Dc(t){return t+.5|0}const ps=(t,e,n)=>Math.max(Math.min(t,n),e);function Dl(t){return ps(Dc(t*2.55),0,255)}function bs(t){return ps(Dc(t*255),0,255)}function Ei(t){return ps(Dc(t/2.55)/100,0,1)}function M1(t){return ps(Dc(t*100),0,100)}const mr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bm=[..."0123456789ABCDEF"],n3=t=>Bm[t&15],r3=t=>Bm[(t&240)>>4]+Bm[t&15],Uu=t=>(t&240)>>4===(t&15),i3=t=>Uu(t.r)&&Uu(t.g)&&Uu(t.b)&&Uu(t.a);function s3(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&mr[t[1]]*17,g:255&mr[t[2]]*17,b:255&mr[t[3]]*17,a:e===5?mr[t[4]]*17:255}:(e===7||e===9)&&(n={r:mr[t[1]]<<4|mr[t[2]],g:mr[t[3]]<<4|mr[t[4]],b:mr[t[5]]<<4|mr[t[6]],a:e===9?mr[t[7]]<<4|mr[t[8]]:255})),n}const o3=(t,e)=>t<255?e(t):"";function a3(t){var e=i3(t)?n3:r3;return t?"#"+e(t.r)+e(t.g)+e(t.b)+o3(t.a,e):void 0}const l3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Rk(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function c3(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function u3(t,e,n){const r=Rk(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function d3(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function r0(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),l=(s+o)/2;let u,d,f;return s!==o&&(f=s-o,d=l>.5?f/(2-s-o):f/(s+o),u=d3(n,r,i,f,s),u=u*60+.5),[u|0,d||0,l]}function i0(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(bs)}function s0(t,e,n){return i0(Rk,t,e,n)}function h3(t,e,n){return i0(u3,t,e,n)}function f3(t,e,n){return i0(c3,t,e,n)}function Ak(t){return(t%360+360)%360}function p3(t){const e=l3.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Dl(+e[5]):bs(+e[5]));const i=Ak(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=h3(i,s,o):e[1]==="hsv"?r=f3(i,s,o):r=s0(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function m3(t,e){var n=r0(t);n[0]=Ak(n[0]+e),n=s0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function g3(t){if(!t)return;const e=r0(t),n=e[0],r=M1(e[1]),i=M1(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ei(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const T1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},E1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function y3(){const t={},e=Object.keys(E1),n=Object.keys(T1);let r,i,s,o,l;for(r=0;r<e.length;r++){for(o=l=e[r],i=0;i<n.length;i++)s=n[i],l=l.replace(s,T1[s]);s=parseInt(E1[o],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let $u;function v3(t){$u||($u=y3(),$u.transparent=[0,0,0,0]);const e=$u[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const x3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function b3(t){const e=x3.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Dl(o):ps(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Dl(r):ps(r,0,255)),i=255&(e[4]?Dl(i):ps(i,0,255)),s=255&(e[6]?Dl(s):ps(s,0,255)),{r,g:i,b:s,a:n}}}function w3(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ei(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const jp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Zo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function _3(t,e,n){const r=Zo(Ei(t.r)),i=Zo(Ei(t.g)),s=Zo(Ei(t.b));return{r:bs(jp(r+n*(Zo(Ei(e.r))-r))),g:bs(jp(i+n*(Zo(Ei(e.g))-i))),b:bs(jp(s+n*(Zo(Ei(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Wu(t,e,n){if(t){let r=r0(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=s0(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Nk(t,e){return t&&Object.assign(e||{},t)}function P1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=bs(t[3]))):(e=Nk(t,{r:0,g:0,b:0,a:1}),e.a=bs(e.a)),e}function S3(t){return t.charAt(0)==="r"?b3(t):p3(t)}class uc{constructor(e){if(e instanceof uc)return e;const n=typeof e;let r;n==="object"?r=P1(e):n==="string"&&(r=s3(e)||v3(e)||S3(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Nk(this._rgb);return e&&(e.a=Ei(e.a)),e}set rgb(e){this._rgb=P1(e)}rgbString(){return this._valid?w3(this._rgb):void 0}hexString(){return this._valid?a3(this._rgb):void 0}hslString(){return this._valid?g3(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,l=2*o-1,u=r.a-i.a,d=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-d,r.r=255&d*r.r+s*i.r+.5,r.g=255&d*r.g+s*i.g+.5,r.b=255&d*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=_3(this._rgb,e._rgb,n)),this}clone(){return new uc(this.rgb)}alpha(e){return this._rgb.a=bs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Dc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Wu(this._rgb,2,e),this}darken(e){return Wu(this._rgb,2,-e),this}saturate(e){return Wu(this._rgb,1,e),this}desaturate(e){return Wu(this._rgb,1,-e),this}rotate(e){return m3(this._rgb,e),this}}function _i(){}const C3=(()=>{let t=0;return()=>t++})();function Je(t){return t==null}function $t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function pn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Gr(t,e){return pn(t)?t:e}function Ie(t,e){return typeof t>"u"?e:t}const k3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Lk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ht(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function tt(t,e,n,r){let i,s,o;if($t(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(He(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Fd(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Id(t){if($t(t))return t.map(Id);if(He(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Id(t[n[i]]);return e}return t}function jk(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function M3(t,e,n,r){if(!jk(t))return;const i=e[t],s=n[t];He(i)&&He(s)?dc(i,s,r):e[t]=Id(s)}function dc(t,e,n){const r=$t(e)?e:[e],i=r.length;if(!He(t))return t;n=n||{};const s=n.merger||M3;let o;for(let l=0;l<i;++l){if(o=r[l],!He(o))continue;const u=Object.keys(o);for(let d=0,f=u.length;d<f;++d)s(u[d],t,o,n)}return t}function Wl(t,e){return dc(t,e,{merger:T3})}function T3(t,e,n){if(!jk(t))return;const r=e[t],i=n[t];He(r)&&He(i)?Wl(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Id(i))}const D1={"":t=>t,x:t=>t.x,y:t=>t.y};function E3(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function P3(t){const e=E3(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Co(t,e){return(D1[e]||(D1[e]=P3(e)))(t)}function o0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const hc=t=>typeof t<"u",Ts=t=>typeof t=="function",R1=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function D3(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ot=Math.PI,kt=2*ot,R3=kt+ot,zd=Number.POSITIVE_INFINITY,A3=ot/180,Wt=ot/2,to=ot/4,A1=ot*2/3,Ok=Math.log10,ei=Math.sign;function Hl(t,e,n){return Math.abs(t-e)<n}function N1(t){const e=Math.round(t);t=Hl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ok(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function N3(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function L3(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function fc(t){return!L3(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function j3(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function O3(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Pi(t){return t*(ot/180)}function F3(t){return t*(180/ot)}function L1(t){if(!pn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Fk(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*ot&&(s+=kt),{angle:s,distance:i}}function Vm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function I3(t,e){return(t-e+R3)%kt-ot}function tr(t){return(t%kt+kt)%kt}function pc(t,e,n,r){const i=tr(t),s=tr(e),o=tr(n),l=tr(s-i),u=tr(o-i),d=tr(i-s),f=tr(i-o);return i===s||i===o||r&&s===o||l>u&&d<f}function hn(t,e,n){return Math.max(e,Math.min(n,t))}function z3(t){return hn(t,-32768,32767)}function Di(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function a0(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const po=(t,e,n,r)=>a0(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),B3=(t,e,n)=>a0(t,n,r=>t[r][e]>=n);function V3(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const Ik=["push","pop","shift","splice","unshift"];function U3(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ik.forEach(n=>{const r="_onData"+o0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),o}})})}function j1(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Ik.forEach(s=>{delete t[s]}),delete t._chartjs)}function zk(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Bk=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Vk(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Bk.call(window,()=>{r=!1,t.apply(e,n)}))}}function $3(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Uk=t=>t==="start"?"left":t==="end"?"right":"center",Jn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,W3=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function H3(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:l,_parsed:u}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,f=o.axis,{min:p,max:g,minDefined:y,maxDefined:w}=o.getUserBounds();if(y){if(i=Math.min(po(u,f,p).lo,n?r:po(e,f,o.getPixelForValue(p)).lo),d){const v=u.slice(0,i+1).reverse().findIndex(_=>!Je(_[l.axis]));i-=Math.max(0,v)}i=hn(i,0,r-1)}if(w){let v=Math.max(po(u,o.axis,g,!0).hi+1,n?0:po(e,f,o.getPixelForValue(g),!0).hi+1);if(d){const _=u.slice(v-1).findIndex(C=>!Je(C[l.axis]));v+=Math.max(0,_)}s=hn(v,i,r)-i}else s=r-i}return{start:i,count:s}}function G3(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Hu=t=>t===0||t===1,O1=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*kt/n)),F1=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*kt/n)+1,Gl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Wt)+1,easeOutSine:t=>Math.sin(t*Wt),easeInOutSine:t=>-.5*(Math.cos(ot*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Hu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Hu(t)?t:O1(t,.075,.3),easeOutElastic:t=>Hu(t)?t:F1(t,.075,.3),easeInOutElastic(t){return Hu(t)?t:t<.5?.5*O1(t*2,.1125,.45):.5+.5*F1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Gl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Gl.easeInBounce(t*2)*.5:Gl.easeOutBounce(t*2-1)*.5+.5};function l0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function I1(t){return l0(t)?t:new uc(t)}function Op(t){return l0(t)?t:new uc(t).saturate(.5).darken(.1).hexString()}const Y3=["x","y","borderWidth","radius","tension"],q3=["color","borderColor","backgroundColor"];function X3(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:q3},numbers:{type:"number",properties:Y3}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function K3(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const z1=new Map;function Q3(t,e){e=e||{};const n=t+JSON.stringify(e);let r=z1.get(n);return r||(r=new Intl.NumberFormat(t,e),z1.set(n,r)),r}function c0(t,e,n){return Q3(e,n).format(t)}const J3={values(t){return $t(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),s=Z3(t,n)}const o=Ok(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),c0(t,r,u)}};function Z3(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var $k={formatters:J3};function eI(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$k.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ko=Object.create(null),Um=Object.create(null);function Yl(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Fp(t,e,n){return typeof e=="string"?dc(Yl(t,e),n):dc(Yl(t,""),e)}class tI{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Op(i.backgroundColor),this.hoverBorderColor=(r,i)=>Op(i.borderColor),this.hoverColor=(r,i)=>Op(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Fp(this,e,n)}get(e){return Yl(this,e)}describe(e,n){return Fp(Um,e,n)}override(e,n){return Fp(ko,e,n)}route(e,n,r,i){const s=Yl(this,e),o=Yl(this,r),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],d=o[i];return He(u)?Object.assign({},d,u):Ie(u,d)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var Nt=new tI({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[X3,K3,eI]);function nI(t){return!t||Je(t.size)||Je(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function B1(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function no(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function V1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function $m(t,e,n,r){Wk(t,e,n,r,null)}function Wk(t,e,n,r,i){let s,o,l,u,d,f,p,g;const y=e.pointStyle,w=e.rotation,v=e.radius;let _=(w||0)*A3;if(y&&typeof y=="object"&&(s=y.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(_),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),y){default:i?t.ellipse(n,r,i/2,v,0,0,kt):t.arc(n,r,v,0,kt),t.closePath();break;case"triangle":f=i?i/2:v,t.moveTo(n+Math.sin(_)*f,r-Math.cos(_)*v),_+=A1,t.lineTo(n+Math.sin(_)*f,r-Math.cos(_)*v),_+=A1,t.lineTo(n+Math.sin(_)*f,r-Math.cos(_)*v),t.closePath();break;case"rectRounded":d=v*.516,u=v-d,o=Math.cos(_+to)*u,p=Math.cos(_+to)*(i?i/2-d:u),l=Math.sin(_+to)*u,g=Math.sin(_+to)*(i?i/2-d:u),t.arc(n-p,r-l,d,_-ot,_-Wt),t.arc(n+g,r-o,d,_-Wt,_),t.arc(n+p,r+l,d,_,_+Wt),t.arc(n-g,r+o,d,_+Wt,_+ot),t.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*v,f=i?i/2:u,t.rect(n-f,r-u,2*f,2*u);break}_+=to;case"rectRot":p=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,g=Math.sin(_)*(i?i/2:v),t.moveTo(n-p,r-l),t.lineTo(n+g,r-o),t.lineTo(n+p,r+l),t.lineTo(n-g,r+o),t.closePath();break;case"crossRot":_+=to;case"cross":p=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,g=Math.sin(_)*(i?i/2:v),t.moveTo(n-p,r-l),t.lineTo(n+p,r+l),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o);break;case"star":p=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,g=Math.sin(_)*(i?i/2:v),t.moveTo(n-p,r-l),t.lineTo(n+p,r+l),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o),_+=to,p=Math.cos(_)*(i?i/2:v),o=Math.cos(_)*v,l=Math.sin(_)*v,g=Math.sin(_)*(i?i/2:v),t.moveTo(n-p,r-l),t.lineTo(n+p,r+l),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(_)*v,l=Math.sin(_)*v,t.moveTo(n-o,r-l),t.lineTo(n+o,r+l);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(_)*(i?i/2:v),r+Math.sin(_)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function mc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ih(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function sh(t){t.restore()}function rI(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function iI(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function sI(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Je(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function oI(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,d=n+s.actualBoundingBoxDescent,f=i.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,f),t.lineTo(l,f),t.stroke()}}function aI(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Bd(t,e,n,r,i,s={}){const o=$t(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,d;for(t.save(),t.font=i.string,sI(t,s),u=0;u<o.length;++u)d=o[u],s.backdrop&&aI(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Je(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(d,n,r,s.maxWidth)),t.fillText(d,n,r,s.maxWidth),oI(t,n,r,d,s),r+=Number(i.lineHeight);t.restore()}function Vd(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*ot,ot,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ot,Wt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Wt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Wt,!0),t.lineTo(n+o.topLeft,r)}const lI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uI(t,e){const n=(""+t).match(lI);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const dI=t=>+t||0;function u0(t,e){const n={},r=He(e),i=r?Object.keys(e):e,s=He(t)?r?o=>Ie(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=dI(s(o));return n}function Hk(t){return u0(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ga(t){return u0(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Fr(t){const e=Hk(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Vn(t,e){t=t||{},e=e||Nt.font;let n=Ie(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ie(t.style,e.style);r&&!(""+r).match(cI)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ie(t.family,e.family),lineHeight:uI(Ie(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ie(t.weight,e.weight),string:""};return i.string=nI(i),i}function Gu(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function hI(t,e,n){const{min:r,max:i}=t,s=Lk(e,(i-r)/2),o=(l,u)=>n&&l===0?0:l+u;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Eo(t,e){return Object.assign(Object.create(t),e)}function d0(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=Xk("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:l=>d0([l,...t],e,s,r)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return Yk(l,u,()=>bI(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return $1(l).includes(u)},ownKeys(l){return $1(l)},set(l,u,d){const f=l._storage||(l._storage=i());return l[u]=f[u]=d,delete l._keys,!0}})}function ka(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Gk(t,r),setContext:s=>ka(t,s,n,r),override:s=>ka(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,l){return Yk(s,o,()=>pI(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,l){return t[o]=l,delete s[o],!0}})}function Gk(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ts(n)?n:()=>n,isIndexable:Ts(r)?r:()=>r}}const fI=(t,e)=>t?t+o0(e):e,h0=(t,e)=>He(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Yk(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function pI(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let l=r[e];return Ts(l)&&o.isScriptable(e)&&(l=mI(e,l,t,n)),$t(l)&&l.length&&(l=gI(e,l,t,o.isIndexable)),h0(e,l)&&(l=ka(l,i,s&&s[e],o)),l}function mI(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,o||r);return l.delete(t),h0(t,u)&&(u=f0(i._scopes,i,t,u)),u}function gI(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(He(e[0])){const u=e,d=i._scopes.filter(f=>f!==u);e=[];for(const f of u){const p=f0(d,i,t,f);e.push(ka(p,s,o&&o[t],l))}}return e}function qk(t,e,n){return Ts(t)?t(e,n):t}const yI=(t,e)=>t===!0?e:typeof t=="string"?Co(e,t):void 0;function vI(t,e,n,r,i){for(const s of e){const o=yI(n,s);if(o){t.add(o);const l=qk(o._fallback,n,i);if(typeof l<"u"&&l!==n&&l!==r)return l}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function f0(t,e,n,r){const i=e._rootScopes,s=qk(e._fallback,n,r),o=[...t,...i],l=new Set;l.add(r);let u=U1(l,o,n,s||n,r);return u===null||typeof s<"u"&&s!==n&&(u=U1(l,o,s,u,r),u===null)?!1:d0(Array.from(l),[""],i,s,()=>xI(e,n,r))}function U1(t,e,n,r,i){for(;n;)n=vI(t,e,n,r,i);return n}function xI(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return $t(i)&&He(n)?n:i||{}}function bI(t,e,n,r){let i;for(const s of e)if(i=Xk(fI(s,t),n),typeof i<"u")return h0(t,i)?f0(n,r,t,i):i}function Xk(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function $1(t){let e=t._keys;return e||(e=t._keys=wI(t._scopes)),e}function wI(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const _I=Number.EPSILON||1e-14,Ma=(t,e)=>e<t.length&&!t[e].skip&&t[e],Kk=t=>t==="x"?"y":"x";function SI(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,l=Vm(s,i),u=Vm(o,s);let d=l/(l+u),f=u/(l+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const p=r*d,g=r*f;return{previous:{x:s.x-p*(o.x-i.x),y:s.y-p*(o.y-i.y)},next:{x:s.x+g*(o.x-i.x),y:s.y+g*(o.y-i.y)}}}function CI(t,e,n){const r=t.length;let i,s,o,l,u,d=Ma(t,0);for(let f=0;f<r-1;++f)if(u=d,d=Ma(t,f+1),!(!u||!d)){if(Hl(e[f],0,_I)){n[f]=n[f+1]=0;continue}i=n[f]/e[f],s=n[f+1]/e[f],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),n[f]=i*o*e[f],n[f+1]=s*o*e[f])}}function kI(t,e,n="x"){const r=Kk(n),i=t.length;let s,o,l,u=Ma(t,0);for(let d=0;d<i;++d){if(o=l,l=u,u=Ma(t,d+1),!l)continue;const f=l[n],p=l[r];o&&(s=(f-o[n])/3,l[`cp1${n}`]=f-s,l[`cp1${r}`]=p-s*e[d]),u&&(s=(u[n]-f)/3,l[`cp2${n}`]=f+s,l[`cp2${r}`]=p+s*e[d])}}function MI(t,e="x"){const n=Kk(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,l,u,d=Ma(t,0);for(o=0;o<r;++o)if(l=u,u=d,d=Ma(t,o+1),!!u){if(d){const f=d[e]-u[e];i[o]=f!==0?(d[n]-u[n])/f:0}s[o]=l?d?ei(i[o-1])!==ei(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}CI(t,i,s),kI(t,s,e)}function Yu(t,e,n){return Math.max(Math.min(t,n),e)}function TI(t,e){let n,r,i,s,o,l=mc(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=l,l=n<r-1&&mc(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Yu(i.cp1x,e.left,e.right),i.cp1y=Yu(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Yu(i.cp2x,e.left,e.right),i.cp2y=Yu(i.cp2y,e.top,e.bottom)))}function EI(t,e,n,r,i){let s,o,l,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")MI(t,i);else{let d=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)l=t[s],u=SI(d,l,t[Math.min(s+1,o-(r?0:1))%o],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,d=l}e.capBezierPoints&&TI(t,n)}function p0(){return typeof window<"u"&&typeof document<"u"}function m0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ud(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const oh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function PI(t,e){return oh(t).getPropertyValue(e)}const DI=["top","right","bottom","left"];function bo(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=DI[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const RI=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function AI(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,l,u;if(RI(i,s,t.target))l=i,u=s;else{const d=e.getBoundingClientRect();l=r.clientX-d.left,u=r.clientY-d.top,o=!0}return{x:l,y:u,box:o}}function oo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=oh(n),s=i.boxSizing==="border-box",o=bo(i,"padding"),l=bo(i,"border","width"),{x:u,y:d,box:f}=AI(t,n),p=o.left+(f&&l.left),g=o.top+(f&&l.top);let{width:y,height:w}=e;return s&&(y-=o.width+l.width,w-=o.height+l.height),{x:Math.round((u-p)/y*n.width/r),y:Math.round((d-g)/w*n.height/r)}}function NI(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&m0(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),l=oh(s),u=bo(l,"border","width"),d=bo(l,"padding");e=o.width-d.width-u.width,n=o.height-d.height-u.height,r=Ud(l.maxWidth,s,"clientWidth"),i=Ud(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||zd,maxHeight:i||zd}}const ms=t=>Math.round(t*10)/10;function LI(t,e,n,r){const i=oh(t),s=bo(i,"margin"),o=Ud(i.maxWidth,t,"clientWidth")||zd,l=Ud(i.maxHeight,t,"clientHeight")||zd,u=NI(t,e,n);let{width:d,height:f}=u;if(i.boxSizing==="content-box"){const g=bo(i,"border","width"),y=bo(i,"padding");d-=y.width+g.width,f-=y.height+g.height}return d=Math.max(0,d-s.width),f=Math.max(0,r?d/r:f-s.height),d=ms(Math.min(d,o,u.maxWidth)),f=ms(Math.min(f,l,u.maxHeight)),d&&!f&&(f=ms(d/2)),(e!==void 0||n!==void 0)&&r&&u.height&&f>u.height&&(f=u.height,d=ms(Math.floor(f*r))),{width:d,height:f}}function W1(t,e,n){const r=e||1,i=ms(t.height*r),s=ms(t.width*r);t.height=ms(t.height),t.width=ms(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const jI=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};p0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function H1(t,e){const n=PI(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ao(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function OI(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function FI(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=ao(t,i,n),l=ao(i,s,n),u=ao(s,e,n),d=ao(o,l,n),f=ao(l,u,n);return ao(d,f,n)}const II=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},zI=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ya(t,e,n){return t?II(e,n):zI()}function Qk(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Jk(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Zk(t){return t==="angle"?{between:pc,compare:I3,normalize:tr}:{between:Di,compare:(e,n)=>e-n,normalize:e=>e}}function G1({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function BI(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:l}=Zk(r),u=e.length;let{start:d,end:f,loop:p}=t,g,y;if(p){for(d+=u,f+=u,g=0,y=u;g<y&&o(l(e[d%u][r]),i,s);++g)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:p,style:t.style}}function e2(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:l,between:u,normalize:d}=Zk(r),{start:f,end:p,loop:g,style:y}=BI(t,e,n),w=[];let v=!1,_=null,C,E,k;const R=()=>u(i,k,C)&&l(i,k)!==0,P=()=>l(s,C)===0||u(s,k,C),N=()=>v||R(),T=()=>!v||P();for(let A=f,O=f;A<=p;++A)E=e[A%o],!E.skip&&(C=d(E[r]),C!==k&&(v=u(C,i,s),_===null&&N()&&(_=l(C,i)===0?A:O),_!==null&&T()&&(w.push(G1({start:_,end:A,loop:g,count:o,style:y})),_=null),O=A,k=C));return _!==null&&w.push(G1({start:_,end:p,loop:g,count:o,style:y})),w}function t2(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=e2(r[i],t.points,e);s.length&&n.push(...s)}return n}function VI(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function UI(t,e,n,r){const i=t.length,s=[];let o=e,l=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%i];d.skip||d.stop?l.skip||(r=!1,s.push({start:e%i,end:(u-1)%i,loop:r}),e=o=d.stop?u:null):(o=u,l.skip&&(e=u)),l=d}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function $I(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:l}=VI(n,i,s,r);if(r===!0)return Y1(t,[{start:o,end:l,loop:s}],n,e);const u=l<o?l+i:l,d=!!t._fullLoop&&o===0&&l===i-1;return Y1(t,UI(n,o,u,d),n,e)}function Y1(t,e,n,r){return!r||!r.setContext||!n?e:WI(t,e,n,r)}function WI(t,e,n,r){const i=t._chart.getContext(),s=q1(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,u=n.length,d=[];let f=s,p=e[0].start,g=p;function y(w,v,_,C){const E=l?-1:1;if(w!==v){for(w+=u;n[w%u].skip;)w-=E;for(;n[v%u].skip;)v+=E;w%u!==v%u&&(d.push({start:w%u,end:v%u,loop:_,style:C}),f=C,p=v%u)}}for(const w of e){p=l?p:w.start;let v=n[p%u],_;for(g=p+1;g<=w.end;g++){const C=n[g%u];_=q1(r.setContext(Eo(i,{type:"segment",p0:v,p1:C,p0DataIndex:(g-1)%u,p1DataIndex:g%u,datasetIndex:o}))),HI(_,f)&&y(p,g-1,w.loop,f),v=C,f=_}p<g-1&&y(p,g-1,w.loop,f)}return d}function q1(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function HI(t,e){if(!e)return!1;const n=[],r=function(i,s){return l0(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function qu(t,e,n){return t.options.clip?t[n]:e[n]}function GI(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:qu(n,e,"left"),right:qu(n,e,"right"),top:qu(r,e,"top"),bottom:qu(r,e,"bottom")}:e}function n2(t,e){const n=e._clip;if(n.disabled)return!1;const r=GI(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}class YI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Bk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,l=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ci=new YI;const X1="transparent",qI={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=I1(t||X1),i=r.valid&&I1(e||X1);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class XI{constructor(e,n,r,i){const s=n[r];i=Gu([e.to,i,s,e.from]);const o=Gu([e.from,s,i]);this._active=!0,this._fn=e.fn||qI[e.type||typeof o],this._easing=Gl[e.easing]||Gl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Gu([e.to,n,i,e.from]),this._from=Gu([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,l=this._to;let u;if(this._active=s!==l&&(o||n<r),!this._active){this._target[i]=l,this._notify(!0);return}if(n<0){this._target[i]=s;return}u=n/r%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class r2{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!He(e))return;const n=Object.keys(Nt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!He(s))return;const o={};for(const l of n)o[l]=s[l];($t(s.properties)&&s.properties||[i]).forEach(l=>{(l===i||!r.has(l))&&r.set(l,o)})})}_animateOptions(e,n){const r=n.options,i=QI(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&KI(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const d=o[u];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(e,n));continue}const f=n[d];let p=s[d];const g=r.get(d);if(p)if(g&&p.active()){p.update(g,f,l);continue}else p.cancel();if(!g||!g.duration){e[d]=f;continue}s[d]=p=new XI(g,e,d,f),i.push(p)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ci.add(this._chart,r),!0}}function KI(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function QI(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function K1(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function JI(t,e,n){if(n===!1)return!1;const r=K1(t,n),i=K1(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function ZI(t){let e,n,r,i;return He(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function i2(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Q1(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,l,u,d;if(e===null)return;let f=!1;for(o=0,l=i.length;o<l;++o){if(u=+i[o],u===n){if(f=!0,r.all)continue;break}d=t.values[u],pn(d)&&(s||e===0||ei(e)===ei(d))&&(e+=d)}return!f&&!r.all?0:e}function e5(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let u,d,f;for(u=0,d=o.length;u<d;++u)f=o[u],l[u]={[i]:f,[s]:t[f]};return l}function Ip(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function t5(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function n5(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function r5(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function J1(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Z1(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=r,u=s.axis,d=o.axis,f=t5(s,o,r),p=e.length;let g;for(let y=0;y<p;++y){const w=e[y],{[u]:v,[d]:_}=w,C=w._stacks||(w._stacks={});g=C[d]=r5(i,f,v),g[l]=_,g._top=J1(g,o,!0,r.type),g._bottom=J1(g,o,!1,r.type);const E=g._visualValues||(g._visualValues={});E[l]=_}}function zp(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function i5(t,e){return Eo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function s5(t,e,n){return Eo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function vl(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Bp=t=>t==="reset"||t==="none",ew=(t,e)=>e?t:Object.assign({},t),o5=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:i2(n,!0),values:null};class ah{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ip(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(p,g,y,w)=>p==="x"?g:p==="r"?w:y,s=n.xAxisID=Ie(r.xAxisID,zp(e,"x")),o=n.yAxisID=Ie(r.yAxisID,zp(e,"y")),l=n.rAxisID=Ie(r.rAxisID,zp(e,"r")),u=n.indexAxis,d=n.iAxisID=i(u,s,o,l),f=n.vAxisID=i(u,o,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&j1(this._data,this),e._stacked&&vl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(He(n)){const i=this._cachedMeta;this._data=e5(n,i)}else if(r!==n){if(r){j1(r,this);const i=this._cachedMeta;vl(i),i._parsed=[]}n&&Object.isExtensible(n)&&U3(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Ip(n.vScale,n),n.stack!==r.stack&&(i=!0,vl(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(Z1(this,n._parsed),n._stacked=Ip(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,l=s.axis;let u=e===0&&n===i.length?!0:r._sorted,d=e>0&&r._parsed[e-1],f,p,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{$t(i[e])?g=this.parseArrayData(r,i,e,n):He(i[e])?g=this.parseObjectData(r,i,e,n):g=this.parsePrimitiveData(r,i,e,n);const y=()=>p[l]===null||d&&p[l]<d[l];for(f=0;f<n;++f)r._parsed[f+e]=p=g[f],u&&(y()&&(u=!1),d=p);r._sorted=u}o&&Z1(this,g)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,l=s.axis,u=o.axis,d=s.getLabels(),f=s===o,p=new Array(i);let g,y,w;for(g=0,y=i;g<y;++g)w=g+r,p[g]={[l]:f||s.parse(d[w],w),[u]:o.parse(n[w],w)};return p}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,l=new Array(i);let u,d,f,p;for(u=0,d=i;u<d;++u)f=u+r,p=n[f],l[u]={x:s.parse(p[0],f),y:o.parse(p[1],f)};return l}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=new Array(i);let f,p,g,y;for(f=0,p=i;f<p;++f)g=f+r,y=n[g],d[f]={x:s.parse(Co(y,l),g),y:o.parse(Co(y,u),g)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],l={keys:i2(i,!0),values:n._stacks[e.axis]._visualValues};return Q1(l,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const l=i&&r._stacks[n.axis];i&&l&&(i.values=l,o=Q1(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,l=this._getOtherScale(e),u=o5(n,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:p}=n5(l);let g,y;function w(){y=i[g];const v=y[l.axis];return!pn(y[e.axis])||f>v||p<v}for(g=0;g<o&&!(!w()&&(this.updateRangeFromParsed(d,e,y,u),s));++g);if(s){for(g=o-1;g>=0;--g)if(!w()){this.updateRangeFromParsed(d,e,y,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],pn(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=ZI(Ie(this.options.clip,JI(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,s,l,u),f=l;f<l+u;++f){const p=i[f];p.hidden||(p.active&&d?o.push(p):p.draw(e,s))}for(f=0;f<o.length;++f)o[f].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=s5(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=i5(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,l=s[o],u=this.enableOptionSharing&&hc(r);if(l)return ew(l,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),p=i?[`${e}Hover`,"hover",e,""]:[e,""],g=d.getOptionScopes(this.getDataset(),f),y=Object.keys(Nt.elements[e]),w=()=>this.getContext(r,i,n),v=d.resolveNamedOptions(g,y,w,p);return v.$shared&&(v.$shared=u,s[o]=Object.freeze(ew(v,u))),v}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,l=s[o];if(l)return l;let u;if(i.options.animation!==!1){const f=this.chart.config,p=f.datasetAnimationScopeKeys(this._type,n),g=f.getOptionScopes(this.getDataset(),p);u=f.createResolver(g,this.getContext(e,r,n))}const d=new r2(i,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Bp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Bp(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Bp(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,u,d]of this._syncList)this[l](u,d);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let l;const u=d=>{for(d.length+=n,l=d.length-1;l>=o;l--)d[l]=d[l-n]};for(u(s),l=e;l<o;++l)s[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&vl(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function a5(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=zk(r.sort((i,s)=>i-s))}return t._cache.$bar}function l5(t){const e=t.iScale,n=a5(e,t.type);let r=e._length,i,s,o,l;const u=()=>{o===32767||o===-32768||(hc(l)&&(r=Math.min(r,Math.abs(o-l)||r)),l=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),u();for(l=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),u();return r}function c5(t,e,n,r){const i=n.barThickness;let s,o;return Je(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function u5(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,l=t<i.length-1?i[t+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-o);const d=s-(s-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/r,ratio:n.barPercentage,start:d}}function d5(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),l=Math.max(i,s);let u=o,d=l;Math.abs(o)>Math.abs(l)&&(u=l,d=o),e[n.axis]=d,e._custom={barStart:u,barEnd:d,start:i,end:s,min:o,max:l}}function s2(t,e,n,r){return $t(t)?d5(t,e,n,r):e[n.axis]=n.parse(t,r),e}function tw(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),l=i===s,u=[];let d,f,p,g;for(d=n,f=n+r;d<f;++d)g=e[d],p={},p[i.axis]=l||i.parse(o[d],d),u.push(s2(g,p,s,d));return u}function Vp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function h5(t,e,n){return t!==0?ei(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function f5(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function p5(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:d,bottom:f}=f5(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=d:(n._bottom||0)===r?i=f:(s[nw(f,o,l,u)]=!0,i=d)),s[nw(i,o,l,u)]=!0,t.borderSkipped=s}function nw(t,e,n,r){return r?(t=m5(t,e,n),t=rw(t,n,e)):t=rw(t,e,n),t}function m5(t,e,n){return t===e?n:t===n?e:t}function rw(t,e,n){return t==="start"?e:t==="end"?n:t}function g5(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class y5 extends ah{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,i){return tw(e,n,r,i)}parseArrayData(e,n,r,i){return tw(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,d=s.axis==="x"?l:u,f=o.axis==="x"?l:u,p=[];let g,y,w,v;for(g=r,y=r+i;g<y;++g)v=n[g],w={},w[s.axis]=s.parse(Co(v,d),g),p.push(s2(Co(v,f),w,o,g));return p}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,l=Vp(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),d=l.isHorizontal(),f=this._getRuler(),{sharedOptions:p,includeOptions:g}=this._getSharedOptions(n,i);for(let y=n;y<n+r;y++){const w=this.getParsed(y),v=s||Je(w[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(y),_=this._calculateBarIndexPixels(y,f),C=(w._stacks||{})[l.axis],E={horizontal:d,base:v.base,enableBorderRadius:!C||Vp(w._custom)||o===C._top||o===C._bottom,x:d?v.head:_.center,y:d?_.center:v.head,height:d?_.size:Math.abs(v.size),width:d?Math.abs(v.size):_.size};g&&(E.options=p||this.resolveDataElementOptions(y,e[y].active?"active":i));const k=E.options||e[y].options;p5(E,k,C,o),g5(E,k,f.ratio),this.updateElement(e[y],y,E,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[r.axis],d=f=>{const p=f._parsed.find(y=>y[r.axis]===u),g=p&&p[f.vScale.axis];if(Je(g)||isNaN(g))return!0};for(const f of i)if(!(n!==void 0&&d(f))&&((s===!1||o.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&o.push(f.stack),f.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Ie(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const l=e.barThickness;return{min:l||l5(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,l=s||0,u=this.getParsed(e),d=u._custom,f=Vp(d);let p=u[n.axis],g=0,y=r?this.applyStack(n,u,r):p,w,v;y!==p&&(g=y-p,y=p),f&&(p=d.barStart,y=d.barEnd-d.barStart,p!==0&&ei(p)!==ei(d.barEnd)&&(g=0),g+=p);const _=!Je(s)&&!f?s:g;let C=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?w=n.getPixelForValue(g+y):w=C,v=w-C,Math.abs(v)<o){v=h5(v,n,l)*o,p===l&&(C-=v/2);const E=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),R=Math.min(E,k),P=Math.max(E,k);C=Math.max(Math.min(C,P),R),w=C+v,r&&!f&&(u._stacks[n.axis]._visualValues[i]=n.getValueForPixel(w)-n.getValueForPixel(C))}if(C===n.getPixelForValue(l)){const E=ei(v)*n.getLineWidthForValue(l)/2;C+=E,v-=E}return{size:v,base:C,head:w,center:w+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=Ie(i.maxBarThickness,1/0);let l,u;const d=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(e):n.stackCount,p=i.barThickness==="flex"?u5(e,n,i,f*d):c5(e,n,i,f*d),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Ie(g,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+y;l=p.start+p.chunk*w+p.chunk/2,u=Math.min(o,p.chunk*p.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(o,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}function v5(t,e,n){let r=1,i=1,s=0,o=0;if(e<kt){const l=t,u=l+e,d=Math.cos(l),f=Math.sin(l),p=Math.cos(u),g=Math.sin(u),y=(k,R,P)=>pc(k,l,u,!0)?1:Math.max(R,R*n,P,P*n),w=(k,R,P)=>pc(k,l,u,!0)?-1:Math.min(R,R*n,P,P*n),v=y(0,d,p),_=y(Wt,f,g),C=w(ot,d,p),E=w(ot+Wt,f,g);r=(v-C)/2,i=(_-E)/2,s=-(v+C)/2,o=-(_+E)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class x5 extends ah{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:l}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((u,d)=>{const p=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:p.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:p.borderWidth,strokeStyle:p.borderColor,textAlign:i,pointStyle:r,borderRadius:o&&(l||p.borderRadius),index:d}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=u=>+r[u];if(He(r[e])){const{key:u="value"}=this._parsing;s=d=>+Co(r[d],u)}let o,l;for(o=e,l=e+n;o<l;++o)i._parsed[o]=s(o)}}_getRotation(){return Pi(this.options.rotation-90)}_getCircumference(){return Pi(this.options.circumference)}_getRotationExtents(){let e=kt,n=-kt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min(k3(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:f,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:w,offsetY:v}=v5(p,f,u),_=(r.width-o)/g,C=(r.height-o)/y,E=Math.max(Math.min(_,C)/2,0),k=Lk(this.options.radius,E),R=Math.max(k*u,0),P=(k-R)/this._getVisibleDatasetWeightTotal();this.offsetX=w*k,this.offsetY=v*k,i.total=this.calculateTotal(),this.outerRadius=k-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/kt)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,f=(l.left+l.right)/2,p=(l.top+l.bottom)/2,g=s&&d.animateScale,y=g?0:this.innerRadius,w=g?0:this.outerRadius,{sharedOptions:v,includeOptions:_}=this._getSharedOptions(n,i);let C=this._getRotation(),E;for(E=0;E<n;++E)C+=this._circumference(E,s);for(E=n;E<n+r;++E){const k=this._circumference(E,s),R=e[E],P={x:f+this.offsetX,y:p+this.offsetY,startAngle:C,endAngle:C+k,circumference:k,outerRadius:w,innerRadius:y};_&&(P.options=v||this.resolveDataElementOptions(E,R.active?"active":i)),C+=k,this.updateElement(R,E,P,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?kt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=c0(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,l,u;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,l=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class b5 extends ah{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:l,count:u}=H3(n,i,o);this._drawStart=l,this._drawCount=u,G3(n)&&(l=0,u=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:d},e),this.updateElements(i,l,u,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),g=o.axis,y=l.axis,{spanGaps:w,segment:v}=this.options,_=fc(w)?w:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||i==="none",E=n+r,k=e.length;let R=n>0&&this.getParsed(n-1);for(let P=0;P<k;++P){const N=e[P],T=C?N:{};if(P<n||P>=E){T.skip=!0;continue}const A=this.getParsed(P),O=Je(A[y]),$=T[g]=o.getPixelForValue(A[g],P),W=T[y]=s||O?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,A,u):A[y],P);T.skip=isNaN($)||isNaN(W)||O,T.stop=P>0&&Math.abs(A[g]-R[g])>_,v&&(T.parsed=A,T.raw=d.data[P]),p&&(T.options=f||this.resolveDataElementOptions(P,N.active?"active":i)),C||this.updateElement(N,P,T,i),R=A}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function ro(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class g0{static override(e){Object.assign(g0.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ro()}parse(){return ro()}format(){return ro()}add(){return ro()}diff(){return ro()}startOf(){return ro()}endOf(){return ro()}}var w5={_date:g0};function _5(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,l=i._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&s.length){const d=l._reversePixels?B3:po;if(r){if(i._sharedOptions){const f=s[0],p=typeof f.getRange=="function"&&f.getRange(e);if(p){const g=d(s,e,n-p),y=d(s,e,n+p);return{lo:g.lo,hi:y.hi}}}}else{const f=d(s,e,n);if(u){const{vScale:p}=i._cachedMeta,{_parsed:g}=t,y=g.slice(0,f.lo+1).reverse().findIndex(v=>!Je(v[p.axis]));f.lo-=Math.max(0,y);const w=g.slice(f.hi).findIndex(v=>!Je(v[p.axis]));f.hi+=Math.max(0,w)}return f}}return{lo:0,hi:s.length-1}}function lh(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,u=s.length;l<u;++l){const{index:d,data:f}=s[l],{lo:p,hi:g}=_5(s[l],e,o,i);for(let y=p;y<=g;++y){const w=f[y];w.skip||r(w,d,y)}}}function S5(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Up(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||lh(t,n,e,function(l,u,d){!i&&!mc(l,t.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:u,index:d})},!0),s}function C5(t,e,n,r){let i=[];function s(o,l,u){const{startAngle:d,endAngle:f}=o.getProps(["startAngle","endAngle"],r),{angle:p}=Fk(o,{x:e.x,y:e.y});pc(p,d,f)&&i.push({element:o,datasetIndex:l,index:u})}return lh(t,n,e,s),i}function k5(t,e,n,r,i,s){let o=[];const l=S5(n);let u=Number.POSITIVE_INFINITY;function d(f,p,g){const y=f.inRange(e.x,e.y,i);if(r&&!y)return;const w=f.getCenterPoint(i);if(!(!!s||t.isPointInArea(w))&&!y)return;const _=l(e,w);_<u?(o=[{element:f,datasetIndex:p,index:g}],u=_):_===u&&o.push({element:f,datasetIndex:p,index:g})}return lh(t,n,e,d),o}function $p(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?C5(t,e,n,i):k5(t,e,n,r,i,s)}function iw(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return lh(t,n,e,(u,d,f)=>{u[o]&&u[o](e[n],i)&&(s.push({element:u,datasetIndex:d,index:f}),l=l||u.inRange(e.x,e.y,i))}),r&&!l?[]:s}var M5={modes:{index(t,e,n,r){const i=oo(e,t),s=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?Up(t,i,s,r,o):$p(t,i,s,!1,r,o),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const f=l[0].index,p=d.data[f];p&&!p.skip&&u.push({element:p,datasetIndex:d.index,index:f})}),u):[]},dataset(t,e,n,r){const i=oo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?Up(t,i,s,r,o):$p(t,i,s,!1,r,o);if(l.length>0){const u=l[0].datasetIndex,d=t.getDatasetMeta(u).data;l=[];for(let f=0;f<d.length;++f)l.push({element:d[f],datasetIndex:u,index:f})}return l},point(t,e,n,r){const i=oo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Up(t,i,s,r,o)},nearest(t,e,n,r){const i=oo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return $p(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=oo(e,t);return iw(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=oo(e,t);return iw(t,i,"y",n.intersect,r)}}};const o2=["left","top","right","bottom"];function xl(t,e){return t.filter(n=>n.pos===e)}function sw(t,e){return t.filter(n=>o2.indexOf(n.pos)===-1&&n.box.axis===e)}function bl(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function T5(t){const e=[];let n,r,i,s,o,l;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:l=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:l});return e}function E5(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!o2.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function P5(t,e){const n=E5(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,l;for(s=0,o=t.length;s<o;++s){l=t[s];const{fullSize:u}=l.box,d=n[l.stack],f=d&&l.stackWeight/d.weight;l.horizontal?(l.width=f?f*r:u&&e.availableWidth,l.height=i):(l.width=r,l.height=f?f*i:u&&e.availableHeight)}return n}function D5(t){const e=T5(t),n=bl(e.filter(d=>d.box.fullSize),!0),r=bl(xl(e,"left"),!0),i=bl(xl(e,"right")),s=bl(xl(e,"top"),!0),o=bl(xl(e,"bottom")),l=sw(e,"x"),u=sw(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(u).concat(o).concat(l),chartArea:xl(e,"chartArea"),vertical:r.concat(i).concat(u),horizontal:s.concat(o).concat(l)}}function ow(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function a2(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function R5(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!He(i)){n.size&&(t[i]-=n.size);const p=r[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,t[i]+=n.size}s.getPadding&&a2(o,s.getPadding());const l=Math.max(0,e.outerWidth-ow(o,t,"left","right")),u=Math.max(0,e.outerHeight-ow(o,t,"top","bottom")),d=l!==t.w,f=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:d,other:f}:{same:f,other:d}}function A5(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function N5(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Rl(t,e,n,r){const i=[];let s,o,l,u,d,f;for(s=0,o=t.length,d=0;s<o;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,N5(l.horizontal,e));const{same:p,other:g}=R5(e,n,l,r);d|=p&&i.length,f=f||g,u.fullSize||i.push(l)}return d&&Rl(i,e,n,r)||f}function Xu(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function aw(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const l of t){const u=l.box,d=r[l.stack]||{placed:0,weight:1},f=l.stackWeight/d.weight||1;if(l.horizontal){const p=e.w*f,g=d.size||u.height;hc(d.start)&&(o=d.start),u.fullSize?Xu(u,i.left,o,n.outerWidth-i.right-i.left,g):Xu(u,e.left+d.placed,o,p,g),d.start=o,d.placed+=p,o=u.bottom}else{const p=e.h*f,g=d.size||u.width;hc(d.start)&&(s=d.start),u.fullSize?Xu(u,s,i.top,g,n.outerHeight-i.bottom-i.top):Xu(u,s,e.top+d.placed,g,p),d.start=s,d.placed+=p,s=u.right}}e.x=s,e.y=o}var gs={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Fr(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),l=D5(t.boxes),u=l.vertical,d=l.horizontal;tt(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const f=u.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),g=Object.assign({},i);a2(g,Fr(r));const y=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),w=P5(u.concat(d),p);Rl(l.fullSize,y,p,w),Rl(u,y,p,w),Rl(d,y,p,w)&&Rl(u,y,p,w),A5(y),aw(l.leftAndTop,y,p,w),y.x+=y.w,y.y+=y.h,aw(l.rightAndBottom,y,p,w),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},tt(l.chartArea,v=>{const _=v.box;Object.assign(_,t.chartArea),_.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class l2{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class L5 extends l2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const vd="$chartjs",j5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lw=t=>t===null||t==="";function O5(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[vd]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",lw(i)){const s=H1(t,"width");s!==void 0&&(t.width=s)}if(lw(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=H1(t,"height");s!==void 0&&(t.height=s)}return t}const c2=jI?{passive:!0}:!1;function F5(t,e,n){t&&t.addEventListener(e,n,c2)}function I5(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,c2)}function z5(t,e){const n=j5[t.type]||t.type,{x:r,y:i}=oo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function $d(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function B5(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||$d(l.addedNodes,r),o=o&&!$d(l.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function V5(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||$d(l.removedNodes,r),o=o&&!$d(l.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const gc=new Map;let cw=0;function u2(){const t=window.devicePixelRatio;t!==cw&&(cw=t,gc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function U5(t,e){gc.size||window.addEventListener("resize",u2),gc.set(t,e)}function $5(t){gc.delete(t),gc.size||window.removeEventListener("resize",u2)}function W5(t,e,n){const r=t.canvas,i=r&&m0(r);if(!i)return;const s=Vk((l,u)=>{const d=i.clientWidth;n(l,u),d<i.clientWidth&&n()},window),o=new ResizeObserver(l=>{const u=l[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||s(d,f)});return o.observe(i),U5(t,s),o}function Wp(t,e,n){n&&n.disconnect(),e==="resize"&&$5(t)}function H5(t,e,n){const r=t.canvas,i=Vk(s=>{t.ctx!==null&&n(z5(s,t))},t);return F5(r,e,i),i}class G5 extends l2{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(O5(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[vd])return!1;const r=n[vd].initial;["height","width"].forEach(s=>{const o=r[s];Je(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[vd],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:B5,detach:V5,resize:W5}[n]||H5;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Wp,detach:Wp,resize:Wp}[n]||I5)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return LI(e,n,r,i)}isAttached(e){const n=e&&m0(e);return!!(n&&n.isConnected)}}function Y5(t){return!p0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?L5:G5}let As=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return fc(this.x)&&fc(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};function q5(t,e){const n=t.options.ticks,r=X5(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?Q5(e):[],o=s.length,l=s[0],u=s[o-1],d=[];if(o>i)return J5(e,d,s,o/i),d;const f=K5(s,e,i);if(o>0){let p,g;const y=o>1?Math.round((u-l)/(o-1)):null;for(Ku(e,d,f,Je(y)?0:l-y,l),p=0,g=o-1;p<g;p++)Ku(e,d,f,s[p],s[p+1]);return Ku(e,d,f,u,Je(y)?e.length:u+y),d}return Ku(e,d,f),d}function X5(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function K5(t,e,n){const r=Z5(t),i=e.length/n;if(!r)return Math.max(i,1);const s=N3(r);for(let o=0,l=s.length-1;o<l;o++){const u=s[o];if(u>i)return u}return Math.max(i,1)}function Q5(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function J5(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Ku(t,e,n,r,i){const s=Ie(r,0),o=Math.min(Ie(i,t.length),t.length);let l=0,u,d,f;for(n=Math.ceil(n),i&&(u=i-r,n=u/Math.floor(u/n)),f=s;f<0;)l++,f=Math.round(s+l*n);for(d=Math.max(s,0);d<o;d++)d===f&&(e.push(t[d]),l++,f=Math.round(s+l*n))}function Z5(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const ez=t=>t==="left"?"right":t==="right"?"left":t,uw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,dw=(t,e)=>Math.min(e||t,t);function hw(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function tz(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,l=1e-6;let u=t.getPixelForTick(i),d;if(!(n&&(r===1?d=Math.max(u-s,o-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(i-1))/2,u+=i<e?d:-d,u<s-l||u>o+l)))return u}function nz(t,e){tt(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function wl(t){return t.drawTicks?t.tickLength:0}function fw(t,e){if(!t.display)return 0;const n=Vn(t.font,e),r=Fr(t.padding);return($t(t.text)?t.text.length:1)*n.lineHeight+r.height}function rz(t,e){return Eo(t,{scale:e,type:"scale"})}function iz(t,e,n){return Eo(t,{tick:n,index:e,type:"tick"})}function sz(t,e,n){let r=Uk(t);return(n&&e!=="right"||!n&&e==="right")&&(r=ez(r)),r}function oz(t,e,n,r){const{top:i,left:s,bottom:o,right:l,chart:u}=t,{chartArea:d,scales:f}=u;let p=0,g,y,w;const v=o-i,_=l-s;if(t.isHorizontal()){if(y=Jn(r,s,l),He(n)){const C=Object.keys(n)[0],E=n[C];w=f[C].getPixelForValue(E)+v-e}else n==="center"?w=(d.bottom+d.top)/2+v-e:w=uw(t,n,e);g=l-s}else{if(He(n)){const C=Object.keys(n)[0],E=n[C];y=f[C].getPixelForValue(E)-_+e}else n==="center"?y=(d.left+d.right)/2-_+e:y=uw(t,n,e);w=Jn(r,o,i),p=n==="left"?-Wt:Wt}return{titleX:y,titleY:w,maxWidth:g,rotation:p}}class Aa extends As{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Gr(e,Number.POSITIVE_INFINITY),n=Gr(n,Number.NEGATIVE_INFINITY),r=Gr(r,Number.POSITIVE_INFINITY),i=Gr(i,Number.NEGATIVE_INFINITY),{min:Gr(e,r),max:Gr(n,i),minDefined:pn(e),maxDefined:pn(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,d=l.length;u<d;++u)o=l[u].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Gr(n,Gr(r,n)),max:Gr(r,Gr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ht(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hI(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?hw(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=q5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ht(this.options.afterUpdate,[this])}beforeSetDimensions(){ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ht(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ht(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=ht(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=dw(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,l,u,d;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),p=f.widest.width,g=f.highest.height,y=hn(this.chart.width-p,0,this.maxWidth);l=e.offset?this.maxWidth/r:y/(r-1),p+6>l&&(l=y/(r-(e.offset?.5:1)),u=this.maxHeight-wl(e.grid)-n.padding-fw(e.title,this.chart.options.font),d=Math.sqrt(p*p+g*g),o=F3(Math.min(Math.asin(hn((f.highest.height+6)/l,-1,1)),Math.asin(hn(u/d,-1,1))-Math.asin(hn(g/d,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ht(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=fw(i,n.options.font);if(l?(e.width=this.maxWidth,e.height=wl(s)+u):(e.height=this.maxHeight,e.width=wl(s)+u),r.display&&this.ticks.length){const{first:d,last:f,widest:p,highest:g}=this._getLabelSizes(),y=r.padding*2,w=Pi(this.labelRotation),v=Math.cos(w),_=Math.sin(w);if(l){const C=r.mirror?0:_*p.width+v*g.height;e.height=Math.min(this.maxHeight,e.height+C+y)}else{const C=r.mirror?0:v*p.width+_*g.height;e.width=Math.min(this.maxWidth,e.width+C+y)}this._calculatePadding(d,f,_,v)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:l}=this.options,u=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;u?d?(g=i*e.width,y=r*n.height):(g=r*e.height,y=i*n.width):s==="start"?y=n.width:s==="end"?g=e.width:s!=="inner"&&(g=e.width/2,y=n.width/2),this.paddingLeft=Math.max((g-f+o)*this.width/(this.width-f),0),this.paddingRight=Math.max((y-p+o)*this.width/(this.width-p),0)}else{let f=n.height/2,p=e.height/2;s==="start"?(f=0,p=e.height):s==="end"&&(f=n.height,p=0),this.paddingTop=f+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ht(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Je(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=hw(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],l=[],u=Math.floor(n/dw(n,r));let d=0,f=0,p,g,y,w,v,_,C,E,k,R,P;for(p=0;p<n;p+=u){if(w=e[p].label,v=this._resolveTickFontOptions(p),i.font=_=v.string,C=s[_]=s[_]||{data:{},gc:[]},E=v.lineHeight,k=R=0,!Je(w)&&!$t(w))k=B1(i,C.data,C.gc,k,w),R=E;else if($t(w))for(g=0,y=w.length;g<y;++g)P=w[g],!Je(P)&&!$t(P)&&(k=B1(i,C.data,C.gc,k,P),R+=E);o.push(k),l.push(R),d=Math.max(k,d),f=Math.max(R,f)}nz(s,n);const N=o.indexOf(d),T=l.indexOf(f),A=O=>({width:o[O]||0,height:l[O]||0});return{first:A(0),last:A(n-1),widest:A(N),highest:A(T),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return z3(this._alignToPixels?no(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=iz(this.getContext(),e,r))}return this.$context||(this.$context=rz(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Pi(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,l=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*r>l*i?l/r:u/i:u*i<l*r?u/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:l}=i,u=s.offset,d=this.isHorizontal(),p=this.ticks.length+(u?1:0),g=wl(s),y=[],w=l.setContext(this.getContext()),v=w.display?w.width:0,_=v/2,C=function(re){return no(r,re,v)};let E,k,R,P,N,T,A,O,$,W,Z,K;if(o==="top")E=C(this.bottom),T=this.bottom-g,O=E-_,W=C(e.top)+_,K=e.bottom;else if(o==="bottom")E=C(this.top),W=e.top,K=C(e.bottom)-_,T=E+_,O=this.top+g;else if(o==="left")E=C(this.right),N=this.right-g,A=E-_,$=C(e.left)+_,Z=e.right;else if(o==="right")E=C(this.left),$=e.left,Z=C(e.right)-_,N=E+_,A=this.left+g;else if(n==="x"){if(o==="center")E=C((e.top+e.bottom)/2+.5);else if(He(o)){const re=Object.keys(o)[0],L=o[re];E=C(this.chart.scales[re].getPixelForValue(L))}W=e.top,K=e.bottom,T=E+_,O=T+g}else if(n==="y"){if(o==="center")E=C((e.left+e.right)/2);else if(He(o)){const re=Object.keys(o)[0],L=o[re];E=C(this.chart.scales[re].getPixelForValue(L))}N=E-_,A=N-g,$=e.left,Z=e.right}const Q=Ie(i.ticks.maxTicksLimit,p),Y=Math.max(1,Math.ceil(p/Q));for(k=0;k<p;k+=Y){const re=this.getContext(k),L=s.setContext(re),z=l.setContext(re),X=L.lineWidth,q=L.color,F=z.dash||[],G=z.dashOffset,oe=L.tickWidth,ie=L.tickColor,ue=L.tickBorderDash||[],pe=L.tickBorderDashOffset;R=tz(this,k,u),R!==void 0&&(P=no(r,R,X),d?N=A=$=Z=P:T=O=W=K=P,y.push({tx1:N,ty1:T,tx2:A,ty2:O,x1:$,y1:W,x2:Z,y2:K,width:X,color:q,borderDash:F,borderDashOffset:G,tickWidth:oe,tickColor:ie,tickBorderDash:ue,tickBorderDashOffset:pe}))}return this._ticksLength=p,this._borderValue=E,y}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:d,padding:f,mirror:p}=s,g=wl(r.grid),y=g+f,w=p?-f:y,v=-Pi(this.labelRotation),_=[];let C,E,k,R,P,N,T,A,O,$,W,Z,K="middle";if(i==="top")N=this.bottom-w,T=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+w,T=this._getXAxisLabelAlignment();else if(i==="left"){const Y=this._getYAxisLabelAlignment(g);T=Y.textAlign,P=Y.x}else if(i==="right"){const Y=this._getYAxisLabelAlignment(g);T=Y.textAlign,P=Y.x}else if(n==="x"){if(i==="center")N=(e.top+e.bottom)/2+y;else if(He(i)){const Y=Object.keys(i)[0],re=i[Y];N=this.chart.scales[Y].getPixelForValue(re)+y}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")P=(e.left+e.right)/2-y;else if(He(i)){const Y=Object.keys(i)[0],re=i[Y];P=this.chart.scales[Y].getPixelForValue(re)}T=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(u==="start"?K="top":u==="end"&&(K="bottom"));const Q=this._getLabelSizes();for(C=0,E=l.length;C<E;++C){k=l[C],R=k.label;const Y=s.setContext(this.getContext(C));A=this.getPixelForTick(C)+s.labelOffset,O=this._resolveTickFontOptions(C),$=O.lineHeight,W=$t(R)?R.length:1;const re=W/2,L=Y.color,z=Y.textStrokeColor,X=Y.textStrokeWidth;let q=T;o?(P=A,T==="inner"&&(C===E-1?q=this.options.reverse?"left":"right":C===0?q=this.options.reverse?"right":"left":q="center"),i==="top"?d==="near"||v!==0?Z=-W*$+$/2:d==="center"?Z=-Q.highest.height/2-re*$+$:Z=-Q.highest.height+$/2:d==="near"||v!==0?Z=$/2:d==="center"?Z=Q.highest.height/2-re*$:Z=Q.highest.height-W*$,p&&(Z*=-1),v!==0&&!Y.showLabelBackdrop&&(P+=$/2*Math.sin(v))):(N=A,Z=(1-W)*$/2);let F;if(Y.showLabelBackdrop){const G=Fr(Y.backdropPadding),oe=Q.heights[C],ie=Q.widths[C];let ue=Z-G.top,pe=0-G.left;switch(K){case"middle":ue-=oe/2;break;case"bottom":ue-=oe;break}switch(T){case"center":pe-=ie/2;break;case"right":pe-=ie;break;case"inner":C===E-1?pe-=ie:C>0&&(pe-=ie/2);break}F={left:pe,top:ue,width:ie+G.width,height:oe+G.height,color:Y.backdropColor}}_.push({label:R,font:O,textOffset:Z,options:{rotation:v,color:L,strokeColor:z,strokeWidth:X,textAlign:q,textBaseline:K,translation:[P,N],backdrop:F}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Pi(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,u=o.widest.width;let d,f;return n==="left"?i?(f=this.right+s,r==="near"?d="left":r==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-l,r==="near"?d="right":r==="center"?(d="center",f-=u/2):(d="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?d="right":r==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+l,r==="near"?d="left":r==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const l=(u,d,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(d.x,d.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const u=i[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,p,g;this.isHorizontal()?(d=no(e,this.left,o)-o/2,f=no(e,this.right,l)+l/2,p=g=u):(p=no(e,this.top,o)-o/2,g=no(e,this.bottom,l)+l/2,d=f=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(d,p),n.lineTo(f,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&ih(r,i);const s=this.getLabelItems(e);for(const o of s){const l=o.options,u=o.font,d=o.label,f=o.textOffset;Bd(r,d,0,f,u,l)}i&&sh(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Vn(r.font),o=Fr(r.padding),l=r.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||He(n)?(u+=o.bottom,$t(r.text)&&(u+=s.lineHeight*(r.text.length-1))):u+=o.top;const{titleX:d,titleY:f,maxWidth:p,rotation:g}=oz(this,u,n,l);Bd(e,r.text,0,0,s,{color:r.color,maxWidth:p,rotation:g,textAlign:sz(l,n,i),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ie(e.grid&&e.grid.z,-1),i=Ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Aa.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Vn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Qu{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;cz(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,az(e,o,r),this.override&&Nt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Nt[i]&&(delete Nt[i][r],this.override&&delete ko[r])}}function az(t,e,n){const r=dc(Object.create(null),[n?Nt.get(n):{},Nt.get(e),t.defaults]);Nt.set(e,r),t.defaultRoutes&&lz(e,t.defaultRoutes),t.descriptors&&Nt.describe(e,t.descriptors)}function lz(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),l=o.pop(),u=o.join(".");Nt.route(s,i,u,l)})}function cz(t){return"id"in t&&"defaults"in t}class uz{constructor(){this.controllers=new Qu(ah,"datasets",!0),this.elements=new Qu(As,"elements"),this.plugins=new Qu(Object,"plugins"),this.scales=new Qu(Aa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):tt(i,o=>{const l=r||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,r){const i=o0(e);ht(r["before"+i],[],r),n[e](r),ht(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var qr=new uz;class dz{constructor(){this._init=void 0}notify(e,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,l=o[r],u=[n,i,s.options];if(ht(l,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Je(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Ie(r.options&&r.options.plugins,{}),s=hz(r);return i===!1&&!n?[]:pz(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function hz(t){const e={},n=[],r=Object.keys(qr.plugins.items);for(let s=0;s<r.length;s++)n.push(qr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function fz(t,e){return!e&&t===!1?null:t===!0?{}:t}function pz(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const l of e){const u=l.id,d=fz(r[u],i);d!==null&&s.push({plugin:l,options:mz(t.config,{plugin:l,local:n[u]},d,o)})}return s}function mz(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wm(t,e){const n=Nt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function gz(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function yz(t,e){return t===e?"_index_":"_value_"}function pw(t){if(t==="x"||t==="y"||t==="r")return t}function vz(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Hm(t,...e){if(pw(t))return t;for(const n of e){const r=n.axis||vz(n.position)||t.length>1&&pw(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function mw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function xz(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return mw(t,"x",n[0])||mw(t,"y",n[0])}return{}}function bz(t,e){const n=ko[t.type]||{scales:{}},r=e.scales||{},i=Wm(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const l=r[o];if(!He(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Hm(o,l,xz(o,t),Nt.scales[l.type]),d=yz(u,i),f=n.scales||{};s[o]=Wl(Object.create(null),[{axis:u},l,f[u],f[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,u=o.indexAxis||Wm(l,e),f=(ko[l]||{}).scales||{};Object.keys(f).forEach(p=>{const g=gz(p,u),y=o[g+"AxisID"]||g;s[y]=s[y]||Object.create(null),Wl(s[y],[{axis:g},r[y],f[p]])})}),Object.keys(s).forEach(o=>{const l=s[o];Wl(l,[Nt.scales[l.type],Nt.scale])}),s}function d2(t){const e=t.options||(t.options={});e.plugins=Ie(e.plugins,{}),e.scales=bz(t,e)}function h2(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function wz(t){return t=t||{},t.data=h2(t.data),d2(t),t}const gw=new Map,f2=new Set;function Ju(t,e){let n=gw.get(t);return n||(n=e(),gw.set(t,n),f2.add(n)),n}const _l=(t,e,n)=>{const r=Co(e,n);r!==void 0&&t.add(r)};class _z{constructor(e){this._config=wz(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=h2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),d2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ju(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ju(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ju(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Ju(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),l=o.get(n);if(l)return l;const u=new Set;n.forEach(f=>{e&&(u.add(e),f.forEach(p=>_l(u,e,p))),f.forEach(p=>_l(u,i,p)),f.forEach(p=>_l(u,ko[s]||{},p)),f.forEach(p=>_l(u,Nt,p)),f.forEach(p=>_l(u,Um,p))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),f2.has(n)&&o.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,ko[n]||{},Nt.datasets[n]||{},{type:n},Nt,Um]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=yw(this._resolverCache,e,i);let u=o;if(Cz(o,n)){s.$shared=!1,r=Ts(r)?r():r;const d=this.createResolver(e,r,l);u=ka(o,r,d)}for(const d of n)s[d]=u[d];return s}createResolver(e,n,r=[""],i){const{resolver:s}=yw(this._resolverCache,e,r);return He(n)?ka(s,n,void 0,i):s}}function yw(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:d0(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const Sz=t=>He(t)&&Object.getOwnPropertyNames(t).some(e=>Ts(t[e]));function Cz(t,e){const{isScriptable:n,isIndexable:r}=Gk(t);for(const i of e){const s=n(i),o=r(i),l=(o||s)&&t[i];if(s&&(Ts(l)||Sz(l))||o&&$t(l))return!0}return!1}var kz="4.5.1";const Mz=["top","bottom","left","right","chartArea"];function vw(t,e){return t==="top"||t==="bottom"||Mz.indexOf(t)===-1&&e==="x"}function xw(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function bw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ht(n&&n.onComplete,[t],e)}function Tz(t){const e=t.chart,n=e.options.animation;ht(n&&n.onProgress,[t],e)}function p2(t){return p0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const xd={},ww=t=>{const e=p2(t);return Object.values(xd).filter(n=>n.canvas===e).pop()};function Ez(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Pz(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let ch=class{static defaults=Nt;static instances=xd;static overrides=ko;static registry=qr;static version=kz;static getChart=ww;static register(...e){qr.add(...e),_w()}static unregister(...e){qr.remove(...e),_w()}constructor(e,n){const r=this.config=new _z(n),i=p2(e),s=ww(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Y5(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,o.aspectRatio),u=l&&l.canvas,d=u&&u.height,f=u&&u.width;if(this.id=C3(),this.ctx=l,this.canvas=u,this.width=f,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$3(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],xd[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Ci.listen(this,"complete",bw),Ci.listen(this,"progress",Tz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Je(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():W1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return V1(this.canvas,this.ctx),this}stop(){return Ci.stop(this),this}resize(e,n){Ci.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,W1(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),ht(r.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};tt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,l)=>(o[l]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const l=n[o],u=Hm(o,l),d=u==="r",f=u==="x";return{options:l,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),tt(s,o=>{const l=o.options,u=l.id,d=Hm(u,l),f=Ie(l.type,o.dtype);(l.position===void 0||vw(l.position,d)!==vw(o.dposition))&&(l.position=o.dposition),i[u]=!0;let p=null;if(u in r&&r[u].type===f)p=r[u];else{const g=qr.getScale(f);p=new g({id:u,type:f,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(l,e)}),tt(i,(o,l)=>{o||delete r[l]}),tt(r,o=>{gs.configure(this,o,o.options),gs.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(xw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=l,o.indexAxis=s.indexAxis||Wm(l,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const u=qr.getController(l),{datasetElementType:d,dataElementType:f}=Nt.datasets[l];Object.assign(u,{dataElementType:qr.getElement(f),datasetElementType:d&&qr.getElement(d)}),o.controller=new u(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){tt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:p}=this.getDatasetMeta(d),g=!i&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||tt(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xw("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){tt(this.scales,e=>{gs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!R1(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;Ez(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!R1(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gs.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],tt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ts(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ci.has(this)?this.attached&&!Ci.running(this)&&Ci.start(this):(this.draw(),bw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=n2(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&ih(n,i),e.controller.draw(),i&&sh(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return mc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=M5.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Eo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);hc(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ci.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),V1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete xd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};tt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},i=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},s=(u,d)=>{this.canvas&&this.resize(u,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){tt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},tt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!Fd(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(u,d)=>u.filter(f=>!d.some(p=>f.datasetIndex===p.datasetIndex&&f.index===p.index)),o=s(n,e),l=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,l=this._getActiveElements(e,i,r,o),u=D3(e),d=Pz(e,this._lastEvent,r,u);r&&(this._lastEvent=null,ht(s.onHover,[e,l,this],this),u&&ht(s.onClick,[e,l,this],this));const f=!Fd(l,i);return(f||n)&&(this._active=l,this._updateHoverStyles(l,i,n)),this._lastEvent=d,f}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};function _w(){return tt(ch.instances,t=>t._plugins.invalidate())}function Dz(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:l,options:u}=e,{borderWidth:d,borderJoinStyle:f}=u,p=Math.min(d/o,tr(r-n));if(t.beginPath(),t.arc(i,s,o-d/2,r+p/2,n-p/2),l>0){const g=Math.min(d/l,tr(r-n));t.arc(i,s,l+d/2,n-g/2,r+g/2,!0)}else{const g=Math.min(d/2,o*tr(r-n));if(f==="round")t.arc(i,s,g,n-ot/2,r+ot/2,!0);else if(f==="bevel"){const y=2*g*g,w=-y*Math.cos(n+ot/2)+i,v=-y*Math.sin(n+ot/2)+s,_=y*Math.cos(r+ot/2)+i,C=y*Math.sin(r+ot/2)+s;t.lineTo(w,v),t.lineTo(_,C)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Rz(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:l,innerRadius:u}=e;let d=i/l;t.beginPath(),t.arc(s,o,l,r-d,n+d),u>i?(d=i/u,t.arc(s,o,u,n+d,r-d,!0)):t.arc(s,o,i,n+Wt,r-Wt),t.closePath(),t.clip()}function Az(t){return u0(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Nz(t,e,n,r){const i=Az(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),l=u=>{const d=(n-Math.min(s,u))*r/2;return hn(u,0,Math.min(s,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:hn(i.innerStart,0,o),innerEnd:hn(i.innerEnd,0,o)}}function ea(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Wd(t,e,n,r,i,s){const{x:o,y:l,startAngle:u,pixelMargin:d,innerRadius:f}=e,p=Math.max(e.outerRadius+r+n-d,0),g=f>0?f+r+n+d:0;let y=0;const w=i-u;if(r){const Y=f>0?f-r:0,re=p>0?p-r:0,L=(Y+re)/2,z=L!==0?w*L/(L+r):w;y=(w-z)/2}const v=Math.max(.001,w*p-n/ot)/p,_=(w-v)/2,C=u+_+y,E=i-_-y,{outerStart:k,outerEnd:R,innerStart:P,innerEnd:N}=Nz(e,g,p,E-C),T=p-k,A=p-R,O=C+k/T,$=E-R/A,W=g+P,Z=g+N,K=C+P/W,Q=E-N/Z;if(t.beginPath(),s){const Y=(O+$)/2;if(t.arc(o,l,p,O,Y),t.arc(o,l,p,Y,$),R>0){const X=ea(A,$,o,l);t.arc(X.x,X.y,R,$,E+Wt)}const re=ea(Z,E,o,l);if(t.lineTo(re.x,re.y),N>0){const X=ea(Z,Q,o,l);t.arc(X.x,X.y,N,E+Wt,Q+Math.PI)}const L=(E-N/g+(C+P/g))/2;if(t.arc(o,l,g,E-N/g,L,!0),t.arc(o,l,g,L,C+P/g,!0),P>0){const X=ea(W,K,o,l);t.arc(X.x,X.y,P,K+Math.PI,C-Wt)}const z=ea(T,C,o,l);if(t.lineTo(z.x,z.y),k>0){const X=ea(T,O,o,l);t.arc(X.x,X.y,k,C-Wt,O)}}else{t.moveTo(o,l);const Y=Math.cos(O)*p+o,re=Math.sin(O)*p+l;t.lineTo(Y,re);const L=Math.cos($)*p+o,z=Math.sin($)*p+l;t.lineTo(L,z)}t.closePath()}function Lz(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:l}=e;let u=e.endAngle;if(s){Wd(t,e,n,r,u,i);for(let d=0;d<s;++d)t.fill();isNaN(l)||(u=o+(l%kt||kt))}return Wd(t,e,n,r,u,i),t.fill(),u}function jz(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:l,options:u}=e,{borderWidth:d,borderJoinStyle:f,borderDash:p,borderDashOffset:g,borderRadius:y}=u,w=u.borderAlign==="inner";if(!d)return;t.setLineDash(p||[]),t.lineDashOffset=g,w?(t.lineWidth=d*2,t.lineJoin=f||"round"):(t.lineWidth=d,t.lineJoin=f||"bevel");let v=e.endAngle;if(s){Wd(t,e,n,r,v,i);for(let _=0;_<s;++_)t.stroke();isNaN(l)||(v=o+(l%kt||kt))}w&&Rz(t,e,v),u.selfJoin&&v-o>=ot&&y===0&&f!=="miter"&&Dz(t,e,v),s||(Wd(t,e,n,r,v,i),t.stroke())}class Oz extends As{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=Fk(i,{x:e,y:n}),{startAngle:l,endAngle:u,innerRadius:d,outerRadius:f,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=Ie(p,u-l),w=pc(s,l,u)&&l!==u,v=y>=kt||w,_=Di(o,d+g,f+g);return v&&_}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,f=(i+s)/2,p=(o+l+d+u)/2;return{x:n+Math.cos(f)*p,y:r+Math.sin(f)*p}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,i=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>kt?Math.floor(r/kt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(ot,r||0)),d=i*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,Lz(e,this,d,s,o),jz(e,this,d,s,o),e.restore()}}function m2(t,e,n=e){t.lineCap=Ie(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ie(n.borderDash,e.borderDash)),t.lineDashOffset=Ie(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ie(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ie(n.borderWidth,e.borderWidth),t.strokeStyle=Ie(n.borderColor,e.borderColor)}function Fz(t,e,n){t.lineTo(n.x,n.y)}function Iz(t){return t.stepped?rI:t.tension||t.cubicInterpolationMode==="monotone"?iI:Fz}function g2(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:l}=e,u=Math.max(i,o),d=Math.min(s,l),f=i<o&&s<o||i>l&&s>l;return{count:r,start:u,loop:e.loop,ilen:d<u&&!f?r+d-u:d-u}}function zz(t,e,n,r){const{points:i,options:s}=e,{count:o,start:l,loop:u,ilen:d}=g2(i,n,r),f=Iz(s);let{move:p=!0,reverse:g}=r||{},y,w,v;for(y=0;y<=d;++y)w=i[(l+(g?d-y:y))%o],!w.skip&&(p?(t.moveTo(w.x,w.y),p=!1):f(t,v,w,g,s.stepped),v=w);return u&&(w=i[(l+(g?d:0))%o],f(t,v,w,g,s.stepped)),!!u}function Bz(t,e,n,r){const i=e.points,{count:s,start:o,ilen:l}=g2(i,n,r),{move:u=!0,reverse:d}=r||{};let f=0,p=0,g,y,w,v,_,C;const E=R=>(o+(d?l-R:R))%s,k=()=>{v!==_&&(t.lineTo(f,_),t.lineTo(f,v),t.lineTo(f,C))};for(u&&(y=i[E(0)],t.moveTo(y.x,y.y)),g=0;g<=l;++g){if(y=i[E(g)],y.skip)continue;const R=y.x,P=y.y,N=R|0;N===w?(P<v?v=P:P>_&&(_=P),f=(p*f+R)/++p):(k(),t.lineTo(R,P),w=N,p=0,v=_=P),C=P}k()}function Gm(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Bz:zz}function Vz(t){return t.stepped?OI:t.tension||t.cubicInterpolationMode==="monotone"?FI:ao}function Uz(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),m2(t,e.options),t.stroke(i)}function $z(t,e,n,r){const{segments:i,options:s}=e,o=Gm(e);for(const l of i)m2(t,s,l.style),t.beginPath(),o(t,e,l,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Wz=typeof Path2D=="function";function Hz(t,e,n,r){Wz&&!e.options.segment?Uz(t,e,n,r):$z(t,e,n,r)}class uh extends As{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;EI(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$I(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=t2(this,{property:n,start:i,end:i});if(!o.length)return;const l=[],u=Vz(r);let d,f;for(d=0,f=o.length;d<f;++d){const{start:p,end:g}=o[d],y=s[p],w=s[g];if(y===w){l.push(y);continue}const v=Math.abs((i-y[n])/(w[n]-y[n])),_=u(y,w,v,r.stepped);_[n]=e[n],l.push(_)}return l.length===1?l[0]:l}pathSegment(e,n,r){return Gm(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Gm(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const l of i)o&=s(e,this,l,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Hz(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Sw(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Gz extends As{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return Sw(this,e,"x",n)}inYRange(e,n){return Sw(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!mc(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,$m(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function y2(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let l,u,d,f,p;return t.horizontal?(p=o/2,l=Math.min(n,i),u=Math.max(n,i),d=r-p,f=r+p):(p=s/2,l=n-p,u=n+p,d=Math.min(r,i),f=Math.max(r,i)),{left:l,top:d,right:u,bottom:f}}function ys(t,e,n,r){return t?0:hn(e,n,r)}function Yz(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=Hk(r);return{t:ys(i.top,s.top,0,n),r:ys(i.right,s.right,0,e),b:ys(i.bottom,s.bottom,0,n),l:ys(i.left,s.left,0,e)}}function qz(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=ga(i),o=Math.min(e,n),l=t.borderSkipped,u=r||He(i);return{topLeft:ys(!u||l.top||l.left,s.topLeft,0,o),topRight:ys(!u||l.top||l.right,s.topRight,0,o),bottomLeft:ys(!u||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:ys(!u||l.bottom||l.right,s.bottomRight,0,o)}}function Xz(t){const e=y2(t),n=e.right-e.left,r=e.bottom-e.top,i=Yz(t,n/2,r/2),s=qz(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Hp(t,e,n,r){const i=e===null,s=n===null,l=t&&!(i&&s)&&y2(t,r);return l&&(i||Di(e,l.left,l.right))&&(s||Di(n,l.top,l.bottom))}function Kz(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Qz(t,e){t.rect(e.x,e.y,e.w,e.h)}function Gp(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class Jz extends As{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=Xz(this),l=Kz(o.radius)?Vd:Qz;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),l(e,Gp(o,n,s)),e.clip(),l(e,Gp(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,Gp(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return Hp(this,e,n,r)}inXRange(e,n){return Hp(this,e,null,n)}inYRange(e,n){return Hp(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function Zz(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const l of r){let{start:u,end:d}=l;d=dh(u,d,i);const f=Ym(n,i[u],i[d],l.loop);if(!e.segments){o.push({source:l,target:f,start:i[u],end:i[d]});continue}const p=t2(e,f);for(const g of p){const y=Ym(n,s[g.start],s[g.end],g.loop),w=e2(l,i,y);for(const v of w)o.push({source:v,target:g,start:{[n]:Cw(f,y,"start",Math.max)},end:{[n]:Cw(f,y,"end",Math.min)}})}}return o}function Ym(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=tr(i),s=tr(s)),{property:t,start:i,end:s}}function eB(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:l})=>{l=dh(o,l,i);const u=i[o],d=i[l];r!==null?(s.push({x:u.x,y:r}),s.push({x:d.x,y:r})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:d.y}))}),s}function dh(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Cw(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function v2(t,e){let n=[],r=!1;return $t(t)?(r=!0,n=t):n=eB(t,e),n.length?new uh({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function kw(t){return t&&t.fill!==!1}function tB(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!pn(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function nB(t,e,n){const r=oB(t);if(He(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return pn(i)&&Math.floor(i)===i?rB(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function rB(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function iB(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:He(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function sB(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:He(t)?r=t.value:r=e.getBaseValue(),r}function oB(t){const e=t.options,n=e.fill;let r=Ie(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function aB(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,l=lB(e,n);l.push(v2({x:null,y:e.bottom},r));for(let u=0;u<s.length;u++){const d=s[u];for(let f=d.start;f<=d.end;f++)cB(i,o[f],l)}return new uh({points:i,options:{}})}function lB(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function cB(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:l,point:u}=uB(s,e,"x");if(!(!u||o&&l)){if(o)r.unshift(u);else if(t.push(u),!l)break}}t.push(...r)}function uB(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let l=!1,u=!1;for(let d=0;d<s.length;d++){const f=s[d],p=o[f.start][n],g=o[f.end][n];if(Di(i,p,g)){l=i===p,u=i===g;break}}return{first:l,last:u,point:r}}class x2{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:kt},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function dB(t){const{chart:e,fill:n,line:r}=t;if(pn(n))return hB(e,n);if(n==="stack")return aB(t);if(n==="shape")return!0;const i=fB(t);return i instanceof x2?i:v2(i,r)}function hB(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function fB(t){return(t.scale||{}).getPointPositionForValue?mB(t):pB(t)}function pB(t){const{scale:e={},fill:n}=t,r=iB(n,e);if(pn(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function mB(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=sB(n,e,s),l=[];if(r.grid.circular){const u=e.getPointPositionForValue(0,s);return new x2({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)l.push(e.getPointPositionForValue(u,o));return l}function Yp(t,e,n){const r=dB(e),{chart:i,index:s,line:o,scale:l,axis:u}=e,d=o.options,f=d.fill,p=d.backgroundColor,{above:g=p,below:y=p}=f||{},w=i.getDatasetMeta(s),v=n2(i,w);r&&o.points.length&&(ih(t,n),gB(t,{line:o,target:r,above:g,below:y,area:n,scale:l,axis:u,clip:v}),sh(t))}function gB(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:l,clip:u}=e,d=n._loop?"angle":e.axis;t.save();let f=s;s!==i&&(d==="x"?(Mw(t,r,o.top),qp(t,{line:n,target:r,color:i,scale:l,property:d,clip:u}),t.restore(),t.save(),Mw(t,r,o.bottom)):d==="y"&&(Tw(t,r,o.left),qp(t,{line:n,target:r,color:s,scale:l,property:d,clip:u}),t.restore(),t.save(),Tw(t,r,o.right),f=i)),qp(t,{line:n,target:r,color:f,scale:l,property:d,clip:u}),t.restore()}function Mw(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const l of r){const{start:u,end:d}=l,f=i[u],p=i[dh(u,d,i)];s?(t.moveTo(f.x,f.y),s=!1):(t.lineTo(f.x,n),t.lineTo(f.x,f.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(p.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Tw(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const l of r){const{start:u,end:d}=l,f=i[u],p=i[dh(u,d,i)];s?(t.moveTo(f.x,f.y),s=!1):(t.lineTo(n,f.y),t.lineTo(f.x,f.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(n,p.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function qp(t,e){const{line:n,target:r,property:i,color:s,scale:o,clip:l}=e,u=Zz(n,r,i);for(const{source:d,target:f,start:p,end:g}of u){const{style:{backgroundColor:y=s}={}}=d,w=r!==!0;t.save(),t.fillStyle=y,yB(t,o,l,w&&Ym(i,p,g)),t.beginPath();const v=!!n.pathSegment(t,d);let _;if(w){v?t.closePath():Ew(t,r,g,i);const C=!!r.pathSegment(t,f,{move:v,reverse:!0});_=v&&C,_||Ew(t,r,p,i)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function yB(t,e,n,r){const i=e.chart.chartArea,{property:s,start:o,end:l}=r||{};if(s==="x"||s==="y"){let u,d,f,p;s==="x"?(u=o,d=i.top,f=l,p=i.bottom):(u=i.left,d=o,f=i.right,p=l),t.beginPath(),n&&(u=Math.max(u,n.left),f=Math.min(f,n.right),d=Math.max(d,n.top),p=Math.min(p,n.bottom)),t.rect(u,d,f-u,p-d),t.clip()}}function Ew(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var vB={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,l,u;for(o=0;o<r;++o)s=t.getDatasetMeta(o),l=s.dataset,u=null,l&&l.options&&l instanceof uh&&(u={visible:t.isDatasetVisible(o),index:o,fill:nB(l,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=u,i.push(u);for(o=0;o<r;++o)u=i[o],!(!u||u.fill===!1)&&(u.fill=tB(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),r&&l.fill&&Yp(t.ctx,l,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;kw(s)&&Yp(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!kw(r)||n.drawTime!=="beforeDatasetDraw"||Yp(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Pw=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},xB=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Dw extends As{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ht(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Vn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=Pw(r,s);let d,f;n.font=i.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(o,s,l,u)+10):(f=this.maxHeight,d=this._fitCols(o,i,l,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=i+l;let p=e;s.textAlign="left",s.textBaseline="middle";let g=-1,y=-f;return this.legendItems.forEach((w,v)=>{const _=r+n/2+s.measureText(w.text).width;(v===0||d[d.length-1]+_+2*l>o)&&(p+=f,d[d.length-(v>0?0:1)]=0,y+=f,g++),u[v]={left:0,top:y,row:g,width:_,height:i},d[d.length-1]+=_+l}),p}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=o-e;let p=l,g=0,y=0,w=0,v=0;return this.legendItems.forEach((_,C)=>{const{itemWidth:E,itemHeight:k}=bB(r,n,s,_,i);C>0&&y+k+2*l>f&&(p+=g+l,d.push({width:g,height:y}),w+=g+l,v++,g=y=0),u[C]={left:w,top:y,col:v,width:E,height:k},g=Math.max(g,E),y+=k+l}),p+=g,d.push({width:g,height:y}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=ya(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=Jn(r,this.left+i,this.right-this.lineWidths[l]);for(const d of n)l!==d.row&&(l=d.row,u=Jn(r,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+e+i,d.left=o.leftForLtr(o.x(u),d.width),u+=d.width+i}else{let l=0,u=Jn(r,this.top+e+i,this.bottom-this.columnSizes[l].height);for(const d of n)d.col!==l&&(l=d.col,u=Jn(r,this.top+e+i,this.bottom-this.columnSizes[l].height)),d.top=u,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),u+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ih(e,this),this._draw(),sh(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,l=Nt.color,u=ya(e.rtl,this.left,this.width),d=Vn(o.font),{padding:f}=o,p=d.size,g=p/2;let y;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:w,boxHeight:v,itemHeight:_}=Pw(o,p),C=function(N,T,A){if(isNaN(w)||w<=0||isNaN(v)||v<0)return;i.save();const O=Ie(A.lineWidth,1);if(i.fillStyle=Ie(A.fillStyle,l),i.lineCap=Ie(A.lineCap,"butt"),i.lineDashOffset=Ie(A.lineDashOffset,0),i.lineJoin=Ie(A.lineJoin,"miter"),i.lineWidth=O,i.strokeStyle=Ie(A.strokeStyle,l),i.setLineDash(Ie(A.lineDash,[])),o.usePointStyle){const $={radius:v*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:O},W=u.xPlus(N,w/2),Z=T+g;Wk(i,$,W,Z,o.pointStyleWidth&&w)}else{const $=T+Math.max((p-v)/2,0),W=u.leftForLtr(N,w),Z=ga(A.borderRadius);i.beginPath(),Object.values(Z).some(K=>K!==0)?Vd(i,{x:W,y:$,w,h:v,radius:Z}):i.rect(W,$,w,v),i.fill(),O!==0&&i.stroke()}i.restore()},E=function(N,T,A){Bd(i,A.text,N,T+_/2,d,{strikethrough:A.hidden,textAlign:u.textAlign(A.textAlign)})},k=this.isHorizontal(),R=this._computeTitleHeight();k?y={x:Jn(s,this.left+f,this.right-r[0]),y:this.top+f+R,line:0}:y={x:this.left+f,y:Jn(s,this.top+R+f,this.bottom-n[0].height),line:0},Qk(this.ctx,e.textDirection);const P=_+f;this.legendItems.forEach((N,T)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const A=i.measureText(N.text).width,O=u.textAlign(N.textAlign||(N.textAlign=o.textAlign)),$=w+g+A;let W=y.x,Z=y.y;u.setWidth(this.width),k?T>0&&W+$+f>this.right&&(Z=y.y+=P,y.line++,W=y.x=Jn(s,this.left+f,this.right-r[y.line])):T>0&&Z+P>this.bottom&&(W=y.x=W+n[y.line].width+f,y.line++,Z=y.y=Jn(s,this.top+R+f,this.bottom-n[y.line].height));const K=u.x(W);if(C(K,Z,N),W=W3(O,W+w+g,k?W+$:this.right,e.rtl),E(u.x(W),Z,N),k)y.x+=$+f;else if(typeof N.text!="string"){const Q=d.lineHeight;y.y+=b2(N,Q)+f}else y.y+=P}),Jk(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Vn(n.font),i=Fr(n.padding);if(!n.display)return;const s=ya(e.rtl,this.left,this.width),o=this.ctx,l=n.position,u=r.size/2,d=i.top+u;let f,p=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),f=this.top+d,p=Jn(e.align,p,this.right-g);else{const w=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);f=d+Jn(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const y=Jn(l,p,p+g);o.textAlign=s.textAlign(Uk(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Bd(o,n.text,y,f,r)}_computeTitleHeight(){const e=this.options.title,n=Vn(e.font),r=Fr(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Di(e,this.left,this.right)&&Di(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Di(e,i.left,i.left+i.width)&&Di(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!SB(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=xB(i,r);i&&!s&&ht(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&ht(n.onHover,[e,r,this],this)}else r&&ht(n.onClick,[e,r,this],this)}}function bB(t,e,n,r,i){const s=wB(r,t,e,n),o=_B(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function wB(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function _B(t,e,n){let r=t;return typeof e.text!="string"&&(r=b2(e,n)),r}function b2(t,e){const n=t.text?t.text.length:0;return e*n}function SB(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var CB={id:"legend",_element:Dw,start(t,e,n){const r=t.legend=new Dw({ctx:t.ctx,options:n,chart:t});gs.configure(t,r,n),gs.addBox(t,r)},stop(t){gs.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;gs.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),f=Fr(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:r||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Al={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),i+=u.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=t.length;s<o;++s){const u=t[s].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=Vm(e,d);f<i&&(i=f,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,r=u.y}return{x:n,y:r}}};function Yr(t,e){return e&&($t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ki(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function kB(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:l}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Rw(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:l}=e,u=Vn(e.bodyFont),d=Vn(e.titleFont),f=Vn(e.footerFont),p=s.length,g=i.length,y=r.length,w=Fr(e.padding);let v=w.height,_=0,C=r.reduce((R,P)=>R+P.before.length+P.lines.length+P.after.length,0);if(C+=t.beforeBody.length+t.afterBody.length,p&&(v+=p*d.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),C){const R=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;v+=y*R+(C-y)*u.lineHeight+(C-1)*e.bodySpacing}g&&(v+=e.footerMarginTop+g*f.lineHeight+(g-1)*e.footerSpacing);let E=0;const k=function(R){_=Math.max(_,n.measureText(R).width+E)};return n.save(),n.font=d.string,tt(t.title,k),n.font=u.string,tt(t.beforeBody.concat(t.afterBody),k),E=e.displayColors?o+2+e.boxPadding:0,tt(r,R=>{tt(R.before,k),tt(R.lines,k),tt(R.after,k)}),E=0,n.font=f.string,tt(t.footer,k),n.restore(),_+=w.width,{width:_,height:v}}function MB(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function TB(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function EB(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:l,right:u}}=t;let d="center";return r==="center"?d=i<=(l+u)/2?"left":"right":i<=s/2?d="left":i>=o-s/2&&(d="right"),TB(d,t,e,n)&&(d="center"),d}function Aw(t,e,n){const r=n.yAlign||e.yAlign||MB(t,n);return{xAlign:n.xAlign||e.xAlign||EB(t,e,n,r),yAlign:r}}function PB(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function DB(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Nw(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:l,yAlign:u}=n,d=i+s,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=ga(o);let w=PB(e,l);const v=DB(e,u,d);return u==="center"?l==="left"?w+=d:l==="right"&&(w-=d):l==="left"?w-=Math.max(f,g)+i:l==="right"&&(w+=Math.max(p,y)+i),{x:hn(w,0,r.width-e.width),y:hn(v,0,r.height-e.height)}}function Zu(t,e,n){const r=Fr(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Lw(t){return Yr([],ki(t))}function RB(t,e,n){return Eo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function jw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const w2={beforeTitle:_i,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:_i,beforeBody:_i,beforeLabel:_i,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Je(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:_i,afterBody:_i,beforeFooter:_i,footer:_i,afterFooter:_i};function On(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?w2[e].call(n,r):i}class Ow extends As{static positioners=Al;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new r2(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=RB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=On(r,"beforeTitle",this,e),s=On(r,"title",this,e),o=On(r,"afterTitle",this,e);let l=[];return l=Yr(l,ki(i)),l=Yr(l,ki(s)),l=Yr(l,ki(o)),l}getBeforeBody(e,n){return Lw(On(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return tt(e,s=>{const o={before:[],lines:[],after:[]},l=jw(r,s);Yr(o.before,ki(On(l,"beforeLabel",this,s))),Yr(o.lines,On(l,"label",this,s)),Yr(o.after,ki(On(l,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return Lw(On(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=On(r,"beforeFooter",this,e),s=On(r,"footer",this,e),o=On(r,"afterFooter",this,e);let l=[];return l=Yr(l,ki(i)),l=Yr(l,ki(s)),l=Yr(l,ki(o)),l}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let l=[],u,d;for(u=0,d=n.length;u<d;++u)l.push(kB(this.chart,n[u]));return e.filter&&(l=l.filter((f,p,g)=>e.filter(f,p,g,r))),e.itemSort&&(l=l.sort((f,p)=>e.itemSort(f,p,r))),tt(l,f=>{const p=jw(e.callbacks,f);i.push(On(p,"labelColor",this,f)),s.push(On(p,"labelPointStyle",this,f)),o.push(On(p,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=Al[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const u=this._size=Rw(this,r),d=Object.assign({},l,u),f=Aw(this.chart,r,d),p=Nw(r,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:l}=r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=ga(l),{x:g,y}=e,{width:w,height:v}=n;let _,C,E,k,R,P;return s==="center"?(R=y+v/2,i==="left"?(_=g,C=_-o,k=R+o,P=R-o):(_=g+w,C=_+o,k=R-o,P=R+o),E=_):(i==="left"?C=g+Math.max(u,f)+o:i==="right"?C=g+w-Math.max(d,p)-o:C=this.caretX,s==="top"?(k=y,R=k-o,_=C-o,E=C+o):(k=y+v,R=k+o,_=C+o,E=C-o),P=k),{x1:_,x2:C,x3:E,y1:k,y2:R,y3:P}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,l,u;if(s){const d=ya(r.rtl,this.x,this.width);for(e.x=Zu(this,r.titleAlign,r),n.textAlign=d.textAlign(r.titleAlign),n.textBaseline="middle",o=Vn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(i[u],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,u+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:d}=s,f=Vn(s.bodyFont),p=Zu(this,"left",s),g=i.x(p),y=u<f.lineHeight?(f.lineHeight-u)/2:0,w=n.y+y;if(s.usePointStyle){const v={radius:Math.min(d,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=i.leftForLtr(g,d)+d/2,C=w+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,$m(e,v,_,C),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,$m(e,v,_,C)}else{e.lineWidth=He(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(g,d),_=i.leftForLtr(i.xPlus(g,1),d-2),C=ga(o.borderRadius);Object.values(C).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Vd(e,{x:v,y:w,w:d,h:u,radius:C}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Vd(e,{x:_,y:w+1,w:d-2,h:u-2,radius:C}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,w,d,u),e.strokeRect(v,w,d,u),e.fillStyle=o.backgroundColor,e.fillRect(_,w+1,d-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:d,boxPadding:f}=r,p=Vn(r.bodyFont);let g=p.lineHeight,y=0;const w=ya(r.rtl,this.x,this.width),v=function(A){n.fillText(A,w.x(e.x+y),e.y+g/2),e.y+=g+s},_=w.textAlign(o);let C,E,k,R,P,N,T;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,e.x=Zu(this,_,r),n.fillStyle=r.bodyColor,tt(this.beforeBody,v),y=l&&_!=="right"?o==="center"?d/2+f:d+2+f:0,R=0,N=i.length;R<N;++R){for(C=i[R],E=this.labelTextColors[R],n.fillStyle=E,tt(C.before,v),k=C.lines,l&&k.length&&(this._drawColorBox(n,e,R,w,r),g=Math.max(p.lineHeight,u)),P=0,T=k.length;P<T;++P)v(k[P]),g=p.lineHeight;tt(C.after,v)}y=0,g=p.lineHeight,tt(this.afterBody,v),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,l;if(s){const u=ya(r.rtl,this.x,this.width);for(e.x=Zu(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",o=Vn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:l,y:u}=e,{width:d,height:f}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:w}=ga(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(l+p,u),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(l+d-g,u),n.quadraticCurveTo(l+d,u,l+d,u+g),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(l+d,u+f-w),n.quadraticCurveTo(l+d,u+f,l+d-w,u+f),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(l+y,u+f),n.quadraticCurveTo(l,u+f,l,u+f-y),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(l,u+p),n.quadraticCurveTo(l,u,l+p,u),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Al[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Rw(this,e),u=Object.assign({},o,this._size),d=Aw(n,e,u),f=Nw(e,u,d,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Fr(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),Qk(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),Jk(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:l,index:u})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[u],index:u}}),s=!Fd(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),l=this._positionChanged(o,e),u=n||!Fd(o,s)||l;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Al[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}var AB={id:"tooltip",_element:Ow,positioners:Al,afterInit(t,e,n){n&&(t.tooltip=new Ow({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:w2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const NB=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function LB(t,e,n,r){const i=t.indexOf(e);if(i===-1)return NB(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const jB=(t,e)=>t===null?null:hn(Math.round(t),0,e);function Fw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class OB extends Aa{static id="category";static defaults={ticks:{callback:Fw}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Je(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:LB(r,e,Ie(n,e),this._addedLabels),jB(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Fw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function FB(t,e){const n=[],{bounds:i,step:s,min:o,max:l,precision:u,count:d,maxTicks:f,maxDigits:p,includeBounds:g}=t,y=s||1,w=f-1,{min:v,max:_}=e,C=!Je(o),E=!Je(l),k=!Je(d),R=(_-v)/(p+1);let P=N1((_-v)/w/y)*y,N,T,A,O;if(P<1e-14&&!C&&!E)return[{value:v},{value:_}];O=Math.ceil(_/P)-Math.floor(v/P),O>w&&(P=N1(O*P/w/y)*y),Je(u)||(N=Math.pow(10,u),P=Math.ceil(P*N)/N),i==="ticks"?(T=Math.floor(v/P)*P,A=Math.ceil(_/P)*P):(T=v,A=_),C&&E&&s&&j3((l-o)/s,P/1e3)?(O=Math.round(Math.min((l-o)/P,f)),P=(l-o)/O,T=o,A=l):k?(T=C?o:T,A=E?l:A,O=d-1,P=(A-T)/O):(O=(A-T)/P,Hl(O,Math.round(O),P/1e3)?O=Math.round(O):O=Math.ceil(O));const $=Math.max(L1(P),L1(T));N=Math.pow(10,Je(u)?$:u),T=Math.round(T*N)/N,A=Math.round(A*N)/N;let W=0;for(C&&(g&&T!==o?(n.push({value:o}),T<o&&W++,Hl(Math.round((T+W*P)*N)/N,o,Iw(o,R,t))&&W++):T<o&&W++);W<O;++W){const Z=Math.round((T+W*P)*N)/N;if(E&&Z>l)break;n.push({value:Z})}return E&&g&&A!==l?n.length&&Hl(n[n.length-1].value,l,Iw(l,R,t))?n[n.length-1].value=l:n.push({value:l}):(!E||A===l)&&n.push({value:A}),n}function Iw(t,e,{horizontal:n,minRotation:r}){const i=Pi(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class IB extends Aa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Je(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=u=>i=n?i:u,l=u=>s=r?s:u;if(e){const u=ei(i),d=ei(s);u<0&&d<0?l(0):u>0&&d>0&&o(0)}if(i===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||o(i-u)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=FB(i,s);return e.bounds==="ticks"&&O3(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return c0(e,this.chart.options.locale,this.options.ticks.format)}}class zB extends IB{static id="linear";static defaults={ticks:{callback:$k.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=pn(e)?e:0,this.max=pn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Pi(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const hh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bn=Object.keys(hh);function zw(t,e){return t-e}function Bw(t,e){if(Je(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),pn(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(fc(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function Vw(t,e,n,r){const i=Bn.length;for(let s=Bn.indexOf(t);s<i-1;++s){const o=hh[Bn[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=r)return Bn[s]}return Bn[i-1]}function BB(t,e,n,r,i){for(let s=Bn.length-1;s>=Bn.indexOf(n);s--){const o=Bn[s];if(hh[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Bn[n?Bn.indexOf(n):0]}function VB(t){for(let e=Bn.indexOf(t)+1,n=Bn.length;e<n;++e)if(hh[Bn[e]].common)return Bn[e]}function Uw(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=a0(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function UB(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let l,u;for(l=s;l<=o;l=+i.add(l,1,r))u=n[l],u>=0&&(e[u].major=!0);return e}function $w(t,e,n){const r=[],i={},s=e.length;let o,l;for(o=0;o<s;++o)l=e[o],i[l]=o,r.push({value:l,major:!1});return s===0||!n?r:UB(t,r,i,n)}class Ww extends Aa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new w5._date(e.adapters.date);i.init(n),Wl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Bw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function u(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=pn(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=pn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,l=V3(i,s,o);return this._unit=n.unit||(r.autoSkip?Vw(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):BB(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:VB(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),$w(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=hn(n,0,o),r=hn(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||Vw(s.minUnit,n,r,this._getLabelCapacity(n)),l=Ie(i.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,d=fc(u)||u===!0,f={};let p=n,g,y;if(d&&(p=+e.startOf(p,"isoWeek",u)),p=+e.startOf(p,d?"day":o),e.diff(r,n,o)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+o);const w=i.ticks.source==="data"&&this.getDataTimestamps();for(g=p,y=0;g<r;g=+e.add(g,l,o),y++)Uw(f,g,w);return(g===r||i.bounds==="ticks"||y===1)&&Uw(f,g,w),Object.keys(f).sort(zw).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return ht(o,[e,n,r],this);const l=s.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&l[u],p=d&&l[d],g=r[n],y=d&&p&&g&&g.major;return this._adapter.format(e,i||(y?p:f))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Pi(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*o,h:r*o+l*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,$w(this,[e],this._majorUnit),i),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Bw(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zk(e.sort(zw))}}function ed(t,e,n){let r=0,i=t.length-1,s,o,l,u;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=po(t,"pos",e)),{pos:s,time:l}=t[r],{pos:o,time:u}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=po(t,"time",e)),{time:s,pos:l}=t[r],{time:o,pos:u}=t[i]);const d=o-s;return d?l+(u-l)*(e-s)/d:l}class W4 extends Ww{static id="timeseries";static defaults=Ww.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ed(n,this.min),this._tableRange=ed(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,l,u,d,f;for(o=0,l=e.length;o<l;++o)d=e[o],d>=n&&d<=r&&i.push(d);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,l=i.length;o<l;++o)f=i[o+1],u=i[o-1],d=i[o],Math.round((f+u)/2)!==d&&s.push({time:d,pos:o/(l-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(ed(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return ed(this._table,r*this._tableRange+this._minPos,!0)}}const _2="label";function Hw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function $B(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function S2(t,e){t.labels=e}function C2(t,e,n=_2){const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function WB(t,e=_2){const n={labels:[],datasets:[]};return S2(n,t.labels),C2(n,t.datasets,e),n}function HB(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:l,options:u,plugins:d=[],fallbackContent:f,updateMode:p,...g}=t,y=M.useRef(null),w=M.useRef(null),v=()=>{y.current&&(w.current=new ch(y.current,{type:o,data:WB(l,s),options:u&&{...u},plugins:d}),Hw(e,w.current))},_=()=>{Hw(e,null),w.current&&(w.current.destroy(),w.current=null)};return M.useEffect(()=>{!i&&w.current&&u&&$B(w.current,u)},[i,u]),M.useEffect(()=>{!i&&w.current&&S2(w.current.config.data,l.labels)},[i,l.labels]),M.useEffect(()=>{!i&&w.current&&l.datasets&&C2(w.current.config.data,l.datasets,s)},[i,l.datasets]),M.useEffect(()=>{w.current&&(i?(_(),setTimeout(v)):w.current.update(p))},[i,u,l.labels,l.datasets,p]),M.useEffect(()=>{w.current&&(_(),setTimeout(v))},[o]),M.useEffect(()=>(v(),()=>_()),[]),b.jsx("canvas",{ref:y,role:"img",height:n,width:r,...g,children:f})}const GB=M.forwardRef(HB);function y0(t,e){return ch.register(e),M.forwardRef((n,r)=>b.jsx(GB,{...n,ref:r,type:t}))}const YB=y0("line",b5),qB=y0("bar",y5),XB=y0("doughnut",x5);ch.register(OB,zB,Gz,uh,Jz,Oz,AB,CB,vB);const Xp=new Map;function ws(t){if(Xp.has(t))return Xp.get(t)??null;if(typeof document>"u")return null;const e=document.createElement("span");e.className=`${t} pointer-events-none fixed -left-[9999px] -top-[9999px]`,e.textContent=".",document.body.appendChild(e);const n=getComputedStyle(e).color;return e.remove(),Xp.set(t,n),n}function wo(t,e){if(!t)return`rgba(99, 102, 241, ${e})`;const n=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*([0-9.]+))?\)/i);if(!n)return t;const r=Number(n[1]),i=Number(n[2]),s=Number(n[3]);return`rgba(${r}, ${i}, ${s}, ${e})`}function Gw(t,e,n){return Math.max(e,Math.min(n,t))}function KB(t){if(!t)return null;const e=t.match(/rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)/i);return e?{r:Number(e[1]),g:Number(e[2]),b:Number(e[3])}:null}function QB(t,e,n){t/=255,e/=255,n/=255;const r=Math.max(t,e,n),i=Math.min(t,e,n);let s=0,o=0;const l=(r+i)/2;if(r!==i){const u=r-i;switch(o=l>.5?u/(2-r-i):u/(r+i),r){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;default:s=(t-e)/u+4}s/=6}return{h:s,s:o,l}}function JB(t,e,n){const r=(l,u,d)=>(d<0&&(d+=1),d>1&&(d-=1),d<.16666666666666666?l+(u-l)*6*d:d<.5?u:d<.6666666666666666?l+(u-l)*(.6666666666666666-d)*6:l);let i,s,o;if(e===0)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=r(u,l,t+1/3),s=r(u,l,t),o=r(u,l,t-1/3)}return{r:Math.round(i*255),g:Math.round(s*255),b:Math.round(o*255)}}function Yw(t,e,n,r){const i=KB(t);if(!i||n<=1)return wo(t,r);const{h:s,s:o,l}=QB(i.r,i.g,i.b),u=n<=1?0:e/(n-1),d=Gw(l-.18+u*.3,.16,.82),f=Gw(o*(.92+u*.1),.18,1),p=JB(s,f,d);return`rgba(${p.r}, ${p.g}, ${p.b}, ${r})`}function k2({labels:t,values:e,height:n=224,formatValue:r,ariaLabel:i="Line chart"}){const s=ws("text-indigo-500"),o=ws("text-slate-200 dark:text-slate-700"),l=ws("text-slate-500 dark:text-slate-400"),u=M.useMemo(()=>({labels:t,datasets:[{label:i,data:e,borderColor:s??"rgb(99, 102, 241)",backgroundColor:wo(s,.16),fill:!0,tension:.35,pointRadius:f=>f.dataIndex===e.length-1?4:3,pointHoverRadius:6,pointBackgroundColor:s??"rgb(99, 102, 241)",pointBorderWidth:0}]}),[i,s,t,e]),d=M.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>{const p=typeof f.parsed?.y=="number"?f.parsed.y:Number(f.raw);return r?r(p):String(p)}}}},scales:{x:{grid:{color:wo(o,.35)},ticks:{color:l??void 0,maxTicksLimit:6}},y:{grid:{color:wo(o,.65)},ticks:{color:l??void 0,maxTicksLimit:6,callback:f=>{const p=typeof f=="number"?f:Number(f);return r?r(p):String(f)}}}}}),[r,o,l]);return b.jsx("div",{className:"w-full",style:{height:n},children:b.jsx(YB,{"aria-label":i,role:"img",data:u,options:d})})}function qw({items:t,formatValue:e,colorClassName:n="text-emerald-500"}){const r=ws(n),i=ws("text-slate-200 dark:text-slate-700"),s=ws("text-slate-500 dark:text-slate-400"),o=Math.max(220,t.length*34),l=M.useMemo(()=>{const d=t.map((p,g)=>Yw(r,g,t.length,.92)),f=t.map((p,g)=>Yw(r,g,t.length,1));return{labels:t.map(p=>p.label),datasets:[{label:"Value",data:t.map(p=>p.value),borderRadius:8,backgroundColor:d,hoverBackgroundColor:f}]}},[r,t]),u=M.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1},tooltip:{callbacks:{label:d=>{const f=typeof d.parsed?.x=="number"?d.parsed.x:Number(d.raw);return e?e(f):String(f)}}}},scales:{x:{grid:{color:wo(i,.55)},ticks:{color:s??void 0,callback:d=>{const f=typeof d=="number"?d:Number(d);return e?e(f):String(d)}}},y:{grid:{display:!1},ticks:{color:s??void 0}}}}),[e,i,s]);return b.jsx("div",{className:"w-full",style:{height:o},children:b.jsx(qB,{role:"img",data:l,options:u})})}const td=["text-indigo-500","text-emerald-500","text-rose-500","text-amber-500","text-sky-500","text-violet-500"];function M2({segments:t,formatValue:e,ariaLabel:n="Pie chart",size:r=224}){const i=t.reduce((f,p)=>f+(Number.isFinite(p.value)?p.value:0),0);if(i<=0)return b.jsx("div",{className:"text-sm text-slate-500",children:"No hay datos para graficar."});const s=t.filter(f=>Number.isFinite(f.value)&&f.value>0),o=s.map((f,p)=>{const g=f.className??td[p%td.length];return ws(g)??void 0}),l=ws("text-slate-500 dark:text-slate-400"),u=M.useMemo(()=>({labels:s.map(f=>f.label),datasets:[{data:s.map(f=>f.value),backgroundColor:o.map(f=>wo(f??null,.9)),borderColor:o.map(f=>wo(f??null,1)),borderWidth:0,hoverOffset:6,cutout:"62%"}]}),[o,s]),d=M.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:f=>{const p=typeof f.parsed=="number"?f.parsed:Number(f.raw);return`${f.label?`${f.label}: `:""}${e?e(p):String(p)}`}}}}}),[e]);return b.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-6",children:[b.jsx("div",{className:"shrink-0",style:{height:r,width:r},children:b.jsx(XB,{"aria-label":n,role:"img",data:u,options:d})}),b.jsx("div",{className:"w-full space-y-2",children:s.map((f,p)=>{const g=Math.round(f.value/i*100),y=f.className??td[p%td.length];return b.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm",children:[b.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[b.jsx("span",{className:`h-2 w-2 flex-none rounded-full ${y} bg-current`}),b.jsx("span",{className:"truncate font-semibold",children:f.label})]}),b.jsxs("div",{className:"flex-none text-right text-slate-700 dark:text-slate-200",children:[b.jsx("div",{className:"text-sm font-semibold",children:e?e(f.value):f.value.toFixed(2)}),b.jsxs("div",{className:"text-xs",style:{color:l??void 0},children:[g,"%"]})]})]},`${f.label}-legend`)})})]})}function ZB(){const{state:t,setSettings:e,ready:n}=Da(),r=P_(),{t:i}=Ds(),[s,o]=M.useState(0),[l,u]=M.useState(!1);M.useEffect(()=>{if(typeof window>"u"||window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches||l)return;const Z=window.setInterval(()=>{o(K=>(K+1)%2)},3500);return()=>window.clearInterval(Z)},[l]);const d=n&&t.settings.onboardingCompleted!==!0,f=i("onboarding.modalDescription")??"Configura lo bsico en 1 minuto y empieza a registrar tus suscripciones.",p=M.useMemo(()=>{const W=[i("onboarding.welcomeType1"),i("onboarding.welcomeType2"),i("onboarding.welcomeType3")].filter(Y=>typeof Y=="string"&&Y.trim().length>0).map(Y=>Y.trim()),Z=W.length?W:["Bienvenido a Subly","Tu centro de suscripciones","Todo a un vistazo"],K=new Set,Q=[];for(const Y of Z){const re=Y.toLowerCase();K.has(re)||(K.add(re),Q.push(Y))}return Q},[i]),g=M.useMemo(()=>[{src:"/logos/netflix.svg",label:"Netflix"},{src:"/logos/spotify.svg",label:"Spotify"},{src:"/logos/youtube-premium.svg",label:"YouTube Premium"},{src:"/logos/disney-plus.svg",label:"Disney+",scale:1},{src:"/logos/amazon-prime-video.png",label:"Prime Video",scale:.9},{src:"/logos/apple-music.png",label:"Apple Music",scale:1.36},{src:"/logos/apple-tv-plus.svg",label:"Apple TV+"},{src:"/logos/icloud.svg",label:"iCloud+"},{src:"/logos/google-one.png",label:"Google One"},{src:"/logos/dropbox.svg",label:"Dropbox"},{src:"/logos/max.svg",label:"Max",scale:1.05},{src:"/logos/crunchyroll.svg",label:"Crunchyroll"},{src:"/logos/microsoft-365.svg",label:"Microsoft 365"},{src:"/logos/xbox-game-pass.svg",label:"Xbox Game Pass",scale:1},{src:"/logos/playstation-plus.svg",label:"PlayStation Plus"},{src:"/logos/nintendo-switch-online.svg",label:"Nintendo Switch Online",scale:1.04},{src:"/logos/chatgpt.svg",label:"ChatGPT"},{src:"/logos/claude.svg",label:"Claude"},{src:"/logos/perplexity.svg",label:"Perplexity"},{src:"/logos/microsoft-copilot.svg",label:"Microsoft Copilot"},{src:"/logos/google-gemini.svg",label:"Google Gemini"},{src:"/logos/canva.png",label:"Canva"},{src:"/logos/tidal.png",label:"TIDAL"}].map(({src:W,label:Z,scale:K})=>({src:W,alt:Z,title:Z,scale:K})),[]),y=()=>{e({...t.settings,onboardingCompleted:!0})},[w,v]=M.useState("Netflix"),[_,C]=M.useState("12.99"),[E,k]=M.useState("monthly"),[R,P]=M.useState(()=>new Date().toISOString().slice(0,10)),[N,T]=M.useState(!1),A=M.useMemo(()=>{const W=w.trim(),Z=Number(_);return!(!W||!Number.isFinite(Z)||Z<=0||!E||!/^\d{4}-\d{2}-\d{2}$/.test(String(R||"").trim()))},[w,E,_,R]),O=()=>{A&&T(!0)},$=M.useMemo(()=>({currency:(t.settings.baseCurrency||"USD").toUpperCase(),trend:{labels:["Feb","Mar","Abr","May","Jun","Jul"],values:[12.99,14.49,13.75,16.2,15.6,18.1]},categories:[{label:"Streaming",value:38,className:"text-violet-500"},{label:"Productividad",value:26,className:"text-sky-500"},{label:"Msica",value:18,className:"text-rose-500"},{label:"Gaming",value:12,className:"text-emerald-500"}]}),[t.settings.baseCurrency]);return d?b.jsxs(yO,{useModalLayout:!0,isOpen:d,onRequestClose:y,modalTitle:i("onboarding.title")??"Bienvenido a Subly",modalDescription:f,backButtonText:i("onboarding.back")??"Atrs",nextButtonText:i("onboarding.next")??"Continuar",onFinalStepCompleted:y,initialStep:1,disableStepIndicators:!1,className:"text-slate-900 dark:text-white",stepCircleContainerClassName:"bg-white/95 dark:bg-slate-950/95 border border-slate-200 dark:border-slate-800",children:[b.jsx(gl,{children:b.jsxs("div",{className:"space-y-3",children:[b.jsx(JF,{as:"div",text:p,typingSpeed:36,deletingSpeed:20,pauseDuration:1600,initialDelay:250,loop:!0,showCursor:!0,hideCursorWhileTyping:!0,cursorCharacter:"|",cursorBlinkDuration:.55,textColors:["#A78BFA","#FB7185","#38BDF8"],className:"text-base font-semibold tracking-tight"}),b.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:i("onboarding.step1Body")??"Visualiza gastos y renovaciones de un vistazo."}),b.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700 dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-200",children:[b.jsx("span",{className:"mt-0.5 shrink-0 text-amber-500 dark:text-amber-400","aria-hidden":"true",children:b.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M9 18h6"}),b.jsx("path",{d:"M10 22h4"}),b.jsx("path",{d:"M12 2a7 7 0 0 0-4 12c.7.6 1 1.1 1 2v1h6v-1c0-.9.3-1.4 1-2a7 7 0 0 0-4-12Z"})]})}),b.jsxs("span",{children:[b.jsx("span",{className:"sr-only",children:"Consejo: "}),i("onboarding.step1Tip")??"Consejo: puedes cerrar este asistente () y volver luego desde Ajustes."]})]})]})}),b.jsx(gl,{children:b.jsxs("div",{className:"space-y-3",children:[b.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:i("onboarding.step2Body")??"Rene todas tus suscripciones en un solo lugar: aade servicios, edtalos y controla sus renovaciones."}),b.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200 bg-white/70 p-3 dark:border-slate-800 dark:bg-slate-900/40",children:b.jsx("div",{className:"mt-2",children:b.jsx(PC,{logos:g,speed:80,direction:"left",gap:36,logoHeight:44,pauseOnHover:!0,fadeOut:!0,fadeOutColor:"rgba(2, 6, 23, 0)",scaleOnHover:!0,ariaLabel:i("onboarding.step2ExamplesAria")??"Ejemplos de suscripciones"})})}),b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3 dark:border-slate-800 dark:bg-slate-900/40",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-800 dark:text-slate-200",children:i("onboarding.step2MiniFormTitle")??"Ejemplo rpido"}),b.jsxs("form",{className:"mt-2 grid grid-cols-1 gap-2",onSubmit:W=>{W.preventDefault(),O()},children:[b.jsxs("label",{className:"grid gap-1",children:[b.jsx("span",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:i("onboarding.step2MiniFormNameLabel")??"Nombre"}),b.jsx("input",{className:"w-full rounded-md border border-slate-200 bg-white px-2 py-1.5 text-sm text-slate-900 outline-none focus:border-violet-400 dark:border-slate-800 dark:bg-slate-950 dark:text-white",value:w,onChange:W=>{v(W.target.value),T(!1)},placeholder:"Netflix"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsxs("label",{className:"grid gap-1",children:[b.jsx("span",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:i("onboarding.step2MiniFormPriceLabel")??"Precio"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{inputMode:"decimal",className:"w-full rounded-md border border-slate-200 bg-white px-2 py-1.5 pr-12 text-sm text-slate-900 outline-none focus:border-violet-400 dark:border-slate-800 dark:bg-slate-950 dark:text-white",value:_,onChange:W=>{C(W.target.value),T(!1)},placeholder:"12.99"}),b.jsx("span",{className:"pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-[11px] text-slate-500 dark:text-slate-400",children:(t.settings.baseCurrency||"USD").toUpperCase()})]})]}),b.jsxs("label",{className:"grid gap-1",children:[b.jsx("span",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:i("onboarding.step2MiniFormPeriodLabel")??"Periodicidad"}),b.jsxs("select",{className:"w-full rounded-md border border-slate-200 bg-white px-2 py-1.5 text-sm text-slate-900 outline-none focus:border-violet-400 dark:border-slate-800 dark:bg-slate-950 dark:text-white",value:E,onChange:W=>{k(W.target.value),T(!1)},children:[b.jsx("option",{value:"monthly",children:i("onboarding.step2MiniFormPeriodMonthly")??"Mensual"}),b.jsx("option",{value:"annual",children:i("onboarding.step2MiniFormPeriodAnnual")??"Anual"})]})]})]}),b.jsxs("label",{className:"grid gap-1",children:[b.jsx("span",{className:"text-[11px] text-slate-600 dark:text-slate-300",children:i("onboarding.step2MiniFormStartDateLabel")??"Fecha de inicio"}),b.jsx("input",{type:"date",className:"w-full rounded-md border border-slate-200 bg-white px-2 py-1.5 text-sm text-slate-900 outline-none focus:border-violet-400 dark:border-slate-800 dark:bg-slate-950 dark:text-white",value:R,onChange:W=>{P(W.target.value),T(!1)}})]}),b.jsx("div",{className:"flex justify-end",children:b.jsx("button",{type:"submit",disabled:!A,className:"rounded-md px-3 py-2 text-sm font-semibold text-white "+(A?"bg-slate-900 hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200":"cursor-not-allowed bg-slate-400 dark:bg-slate-800 dark:text-slate-400"),children:i("onboarding.step2MiniFormSubmit")??"Previsualizar"})})]})]}),b.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-slate-200 bg-slate-50 p-3 text-xs text-slate-700 dark:border-slate-800 dark:bg-slate-900/40 dark:text-slate-200",children:[b.jsx("span",{className:"mt-0.5 shrink-0 text-amber-500 dark:text-amber-400","aria-hidden":"true",children:b.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M9 18h6"}),b.jsx("path",{d:"M10 22h4"}),b.jsx("path",{d:"M12 2a7 7 0 0 0-4 12c.7.6 1 1.1 1 2v1h6v-1c0-.9.3-1.4 1-2a7 7 0 0 0-4-12Z"})]})}),b.jsxs("span",{children:[b.jsx("span",{className:"sr-only",children:"Consejo: "}),N?i("onboarding.step2MiniFormCreated")??"Listo. As quedara al guardarla (previsualizacin).":i("onboarding.step2MiniFormHelp")??"Previsualizacin: no se guardar nada."]})]})]})}),b.jsx(gl,{children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:i("onboarding.calendarPortabilityTitle")??"Eventos en tu Google Calendar"}),b.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-200",children:i("onboarding.calendarPortabilityBody")??"Al sincronizar, Subly crea eventos recurrentes en tu cuenta de Google Calendar. As los vers tambin en mvil, tablet y otros dispositivos con la misma cuenta."})]}),b.jsx("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3 dark:border-slate-800 dark:bg-slate-900/40",children:b.jsxs("ul",{className:"space-y-1 text-xs text-slate-700 dark:text-slate-300",children:[b.jsxs("li",{children:[" ",i("onboarding.calendarPortabilityBullet1")??"Los eventos quedan en tu calendario, no en servidores del desarrollador."]}),b.jsxs("li",{children:[" ",i("onboarding.calendarPortabilityBullet2")??"Puedes activar/desactivar la sincronizacin cuando quieras desde Ajustes."]}),b.jsxs("li",{children:[" ",i("onboarding.calendarPortabilityBullet3")??"Si eliminas la sincronizacin, Subly puede borrar sus eventos asociados."]})]})})]})}),b.jsx(gl,{children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:i("onboarding.previewTitle")??"Vista previa"}),b.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300",children:i("onboarding.previewBody")??"Ejemplo de grficos del Resumen (datos de muestra)."})]}),b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3 outline-none dark:border-slate-800 dark:bg-slate-900/40",tabIndex:0,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onFocus:()=>u(!0),onBlur:()=>u(!1),children:[b.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-800 dark:text-slate-200",children:s===0?i("onboarding.previewChartTrendTitle")??"Evolucin mensual":i("onboarding.previewChartCategoriesTitle")??"Por categora"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:i("onboarding.previewExampleLabel")??"Ejemplo"}),b.jsx("div",{className:"flex items-center gap-1","aria-hidden":"true",children:[0,1].map(W=>b.jsx("span",{className:W===s?"h-1.5 w-4 rounded-full bg-violet-500":"h-1.5 w-1.5 rounded-full bg-slate-300 dark:bg-slate-700"},W))})]})]}),s===0?b.jsx(k2,{labels:$.trend.labels,values:$.trend.values,height:210,formatValue:W=>zn(W,$.currency),ariaLabel:"Gasto mensual (ejemplo)"}):b.jsx(M2,{segments:$.categories,formatValue:W=>zn(W,$.currency),size:260,ariaLabel:"Distribucin por categora (ejemplo)"})]})]})}),b.jsx(gl,{children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("div",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:i("onboarding.integrationsTitle")??"Integraciones con Google"}),b.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300",children:i("onboarding.integrationsBody")??"Actvalas cuando quieras desde Ajustes. Se pedir permiso OAuth al usar cada accin."})]}),b.jsxs("div",{className:"grid gap-2",children:[b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3 dark:border-slate-800 dark:bg-slate-900/40",children:[b.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-slate-800 dark:text-slate-200",children:[b.jsx("span",{className:"text-sky-500","aria-hidden":"true",children:b.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),b.jsx("path",{d:"M16 2v4"}),b.jsx("path",{d:"M8 2v4"}),b.jsx("path",{d:"M3 10h18"})]})}),i("onboarding.integrationsCalendarTitle")??"Google Calendar"]}),b.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700 dark:text-slate-300",children:[b.jsxs("li",{children:[" ",i("onboarding.integrationsCalendar1")??"Crear/actualizar eventos recurrentes (todo el da) por suscripcin."]}),b.jsxs("li",{children:[" ",i("onboarding.integrationsCalendar2")??"Opcional: calendario dedicado Subly Subscriptions."]}),b.jsxs("li",{children:[" ",i("onboarding.integrationsCalendar3")??"Recordatorios: notificacin o email (por defecto o por suscripcin)."]})]})]}),b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white/70 p-3 dark:border-slate-800 dark:bg-slate-900/40",children:[b.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-slate-800 dark:text-slate-200",children:[b.jsx("span",{className:"text-emerald-500","aria-hidden":"true",children:b.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M20 16.5a4.5 4.5 0 0 0-3.5-4.4A6 6 0 1 0 6 16"}),b.jsx("path",{d:"M12 12v9"}),b.jsx("path",{d:"m8 17 4-4 4 4"})]})}),i("onboarding.integrationsDriveTitle")??"Google Drive"]}),b.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-slate-700 dark:text-slate-300",children:[b.jsxs("li",{children:[" ",i("onboarding.integrationsDrive1")??"Guardar un backup JSON en appDataFolder (carpeta oculta)."]}),b.jsxs("li",{children:[" ",i("onboarding.integrationsDrive2")??"Restaurar una copia anterior cuando lo necesites."]}),b.jsxs("li",{children:[" ",i("onboarding.integrationsDrive3")??"No se guarda en servidores del desarrollador."]})]})]})]}),b.jsx("button",{type:"button",className:"rounded-md bg-slate-900 px-3 py-2 text-sm font-semibold text-white hover:bg-slate-800 dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200",onClick:()=>r("/settings"),children:i("onboarding.goSettings")??"Ir a Ajustes"})]})})]}):null}function e4({logo:t,logoAlt:e="Logo",items:n,activeHref:r,className:i="",ease:s="power3.easeOut",baseColor:o="#fff",pillColor:l="#060010",hoveredPillTextColor:u="#060010",pillTextColor:d,onMobileMenuClick:f,initialLoadAnimation:p=!0}){const g=d??o,[y,w]=M.useState(!1),v=M.useRef([]),_=M.useRef([]),C=M.useRef([]),E=M.useRef(null),k=M.useRef(null),R=M.useRef(null),P=M.useRef(null),N=M.useRef(null),T=M.useRef(null),A=M.useMemo(()=>Array.isArray(n)?n.filter(Boolean):[],[n]);M.useEffect(()=>{const L=()=>{v.current.forEach(q=>{if(!q?.parentElement)return;const F=q.parentElement,G=F.getBoundingClientRect(),{width:oe,height:ie}=G;if(!oe||!ie)return;const ue=(oe*oe/4+ie*ie)/(2*ie),pe=Math.ceil(2*ue)+2,Re=Math.ceil(ue-Math.sqrt(Math.max(0,ue*ue-oe*oe/4)))+1,Pe=pe-Re;q.style.width=`${pe}px`,q.style.height=`${pe}px`,q.style.bottom=`-${Re}px`,gt.set(q,{xPercent:-50,scale:0,transformOrigin:`50% ${Pe}px`});const Le=F.querySelector(".pill-label"),Ke=F.querySelector(".pill-label-hover");Le&&gt.set(Le,{y:0}),Ke&&gt.set(Ke,{y:ie+12,opacity:0});const It=v.current.indexOf(q);if(It===-1)return;_.current[It]?.kill();const Fe=gt.timeline({paused:!0});Fe.to(q,{scale:1.2,xPercent:-50,duration:2,ease:s,overwrite:"auto"},0),Le&&Fe.to(Le,{y:-(ie+8),duration:2,ease:s,overwrite:"auto"},0),Ke&&(gt.set(Ke,{y:Math.ceil(ie+100),opacity:0}),Fe.to(Ke,{y:0,opacity:1,duration:2,ease:s,overwrite:"auto"},0)),_.current[It]=Fe})};L();const z=()=>L();window.addEventListener("resize",z),document.fonts?.ready&&document.fonts.ready.then(L).catch(()=>{});const X=P.current;if(X&&gt.set(X,{visibility:"hidden",opacity:0,scaleY:1}),p){const q=T.current,F=N.current;q&&(gt.set(q,{scale:0}),gt.to(q,{scale:1,duration:.6,ease:s})),F&&(gt.set(F,{width:0,overflow:"hidden"}),gt.to(F,{width:"auto",duration:.6,ease:s}))}return()=>{window.removeEventListener("resize",z),_.current.forEach(q=>q?.kill()),C.current.forEach(q=>q?.kill()),k.current?.kill()}},[A,s,p]),M.useEffect(()=>{if(!y)return;w(!1);const L=P.current;L&&gt.set(L,{visibility:"hidden",opacity:0})},[r]);const O=L=>{const z=_.current[L];z&&(C.current[L]?.kill(),C.current[L]=z.tweenTo(z.duration(),{duration:.3,ease:s,overwrite:"auto"}))},$=L=>{const z=_.current[L];z&&(C.current[L]?.kill(),C.current[L]=z.tweenTo(0,{duration:.2,ease:s,overwrite:"auto"}))},W=()=>{const L=E.current;L&&(k.current?.kill(),gt.set(L,{rotate:0}),k.current=gt.to(L,{rotate:360,duration:.2,ease:s,overwrite:"auto"}))},Z=()=>{const L=!y;w(L);const z=R.current,X=P.current;if(z){const q=z.querySelectorAll(".hamburger-line");q.length>=2&&(L?(gt.to(q[0],{rotation:45,y:3,duration:.3,ease:s}),gt.to(q[1],{rotation:-45,y:-3,duration:.3,ease:s})):(gt.to(q[0],{rotation:0,y:0,duration:.3,ease:s}),gt.to(q[1],{rotation:0,y:0,duration:.3,ease:s})))}X&&(L?(gt.set(X,{visibility:"visible"}),gt.fromTo(X,{opacity:0,y:10,scaleY:1},{opacity:1,y:0,scaleY:1,duration:.3,ease:s,transformOrigin:"top center"})):gt.to(X,{opacity:0,y:10,scaleY:1,duration:.2,ease:s,transformOrigin:"top center",onComplete:()=>{gt.set(X,{visibility:"hidden"})}})),f?.()},K=L=>L.startsWith("http://")||L.startsWith("https://")||L.startsWith("//")||L.startsWith("mailto:")||L.startsWith("tel:")||L.startsWith("#"),Q=L=>!!L&&!K(L),Y={"--base":o,"--pill-bg":l,"--hover-text":u,"--pill-text":g},re=A[0]?.href||"/";return b.jsxs("div",{className:"pill-nav-container",children:[b.jsxs("nav",{className:`pill-nav ${i}`.trim(),"aria-label":"Primary",style:Y,children:[Q(re)?b.jsx(da,{className:"pill-logo",to:re,"aria-label":"Home",onMouseEnter:W,role:"menuitem",ref:L=>{T.current=L},children:b.jsx("img",{src:t,alt:e,ref:E})}):b.jsx("a",{className:"pill-logo",href:re,"aria-label":"Home",onMouseEnter:W,ref:L=>{T.current=L},children:b.jsx("img",{src:t,alt:e,ref:E})}),b.jsx("div",{className:"pill-nav-items desktop-only",ref:N,children:b.jsx("ul",{className:"pill-list",role:"menubar",children:A.map((L,z)=>b.jsx("li",{role:"none",children:Q(L.href)?b.jsxs(da,{role:"menuitem",to:L.href,className:`pill${r===L.href?" is-active":""}`,"aria-label":L.ariaLabel||L.label,onMouseEnter:()=>O(z),onMouseLeave:()=>$(z),children:[b.jsx("span",{className:"hover-circle","aria-hidden":"true",ref:X=>{v.current[z]=X}}),b.jsxs("span",{className:"label-stack",children:[b.jsx("span",{className:"pill-label",children:L.label}),b.jsx("span",{className:"pill-label-hover","aria-hidden":"true",children:L.label})]})]}):b.jsxs("a",{role:"menuitem",href:L.href,className:`pill${r===L.href?" is-active":""}`,"aria-label":L.ariaLabel||L.label,onMouseEnter:()=>O(z),onMouseLeave:()=>$(z),children:[b.jsx("span",{className:"hover-circle","aria-hidden":"true",ref:X=>{v.current[z]=X}}),b.jsxs("span",{className:"label-stack",children:[b.jsx("span",{className:"pill-label",children:L.label}),b.jsx("span",{className:"pill-label-hover","aria-hidden":"true",children:L.label})]})]})},L.href||`item-${z}`))})}),b.jsxs("button",{className:"mobile-menu-button mobile-only",onClick:Z,"aria-label":"Toggle menu",ref:R,type:"button",children:[b.jsx("span",{className:"hamburger-line"}),b.jsx("span",{className:"hamburger-line"})]})]}),b.jsx("div",{className:"mobile-menu-popover mobile-only",ref:P,style:Y,children:b.jsx("ul",{className:"mobile-menu-list",children:A.map((L,z)=>b.jsx("li",{children:Q(L.href)?b.jsx(da,{to:L.href,className:`mobile-menu-link${r===L.href?" is-active":""}`,onClick:()=>w(!1),children:L.label}):b.jsx("a",{href:L.href,className:`mobile-menu-link${r===L.href?" is-active":""}`,onClick:()=>w(!1),children:L.label})},L.href||`mobile-item-${z}`))})})]})}function t4(){const{t}=Ds(),e=Es(),n=e.pathname==="/"?"/dashboard":e.pathname,r="/logo-source.png",i=[{label:t("nav.dashboard")??"Dashboard",href:"/dashboard"},{label:t("nav.subscriptions")??"Suscripciones",href:"/subscriptions"},{label:t("nav.calendar")??"Calendario",href:"/calendar"},{label:t("nav.settings")??"Ajustes",href:"/settings"}];return b.jsxs("div",{className:"relative min-h-screen text-slate-900 dark:text-white",children:[b.jsx(ZB,{}),b.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10",children:b.jsx(RR,{className:"h-full w-full",scale:1,gridMul:[3,2],digitSize:1.5,brightness:1.8,scanlineIntensity:.45,noiseAmp:1,clearColor:"#000000",baseColor:"#020617"})}),b.jsxs("div",{className:"min-h-screen bg-slate-50/65 dark:bg-slate-950/65",children:[b.jsx("header",{className:"sticky top-0 z-10 bg-transparent",children:b.jsx(e4,{logo:r,logoAlt:"Subly",items:i,activeHref:n,baseColor:"#e2e8f0",pillColor:"#5227ff",hoveredPillTextColor:"#e2e8f0",pillTextColor:"#e2e8f0"})}),b.jsx("main",{className:"mx-auto max-w-3xl px-4 py-4",children:b.jsx(vP,{})})]})]})}function Xw(t){return String(t).padStart(2,"0")}function v0(t){const e=t.getFullYear(),n=Xw(t.getMonth()+1),r=Xw(t.getDate());return`${e}-${n}-${r}`}function n4(t){switch(t){case"monthly":return"RRULE:FREQ=MONTHLY";case"quarterly":return"RRULE:FREQ=MONTHLY;INTERVAL=3";case"semiannual":return"RRULE:FREQ=MONTHLY;INTERVAL=6";case"annual":return"RRULE:FREQ=YEARLY"}}function T2(){return typeof chrome<"u"&&!!chrome.identity}async function fh(t){if(!T2())throw new Error("Google Calendar sync requires Chrome Extension environment.");return await new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},r=>{const i=chrome.runtime.lastError;if(i){n(new Error(i.message||"OAuth token error"));return}if(!r){n(new Error("No OAuth token received"));return}e(r)})})}async function yc(t){T2()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function _s(t){const e=`https://www.googleapis.com/calendar/v3${t.path}`,n=await fetch(e,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.body?{"Content-Type":"application/json"}:{}},body:t.body?JSON.stringify(t.body):void 0});if(n.status===204)return;const r=await n.text();if(!n.ok){const i=r||`${n.status} ${n.statusText}`,s=new Error(i);throw s.status=n.status,s.body=r,s}return r?JSON.parse(r):void 0}function ql(t){if(!t||typeof t!="object")return;const e=t.status;return typeof e=="number"?e:void 0}function Hd(t){return t===401||t===403}function r4(t){if(!Number.isFinite(t))return 0;const n=Math.trunc(t);return n<0?0:n>40320?40320:n}async function bd(t){const e=t.calendarId??"primary",n=t.interactive??!0;let r=t.token;r||(r=await fh(n));const[i,s,o]=t.startDateYmd.split("-").map(Number),l=new Date(i,(s??1)-1,o??1),u=new Date(l);u.setDate(u.getDate()+1);const d=typeof t.reminderMinutes=="number"?r4(t.reminderMinutes):void 0,f=t.reminderMethod==="email"?"email":"popup",p={summary:t.summary,description:t.description,start:{date:t.startDateYmd},end:{date:v0(u)},recurrence:[n4(t.period)],...d===void 0?{}:{reminders:d>0?{useDefault:!1,overrides:[{method:f,minutes:d}]}:{useDefault:!1,overrides:[]}}};try{if(t.eventId)try{const y=await _s({token:r,method:"PATCH",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`,body:p});try{const w=await _s({token:r,method:"GET",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(y.id)}`});if(w&&w.start&&w.start.date&&String(w.start.date)===t.startDateYmd)return{calendarId:e,eventId:y.id,syncedAt:new Date().toISOString()};console.debug&&console.debug("upsertRecurringAllDayEvent: PATCH returned but event content differed; recreating",e,t.eventId)}catch(w){const v=ql(w);if(v===404){if(t.throwOnMissingEvent)throw w}else throw Hd(v)&&await yc(r),w}}catch(y){const w=ql(y);if(w===404&&t.throwOnMissingEvent||w!==404)throw y}const g=await _s({token:r,method:"POST",path:`/calendars/${encodeURIComponent(e)}/events`,body:p});return{calendarId:e,eventId:g.id,syncedAt:new Date().toISOString()}}catch(g){const y=ql(g);throw Hd(y)&&await yc(r),g}}async function qm(t){const e=t.calendarId??"primary",n=t.interactive??!0,r=t.token??await fh(n);try{await _s({token:r,method:"DELETE",path:`/calendars/${encodeURIComponent(e)}/events/${encodeURIComponent(t.eventId)}`})}catch(i){const s=ql(i);if(s===404)return;throw Hd(s)&&await yc(r),i}}const Kw="Subly Subscriptions";async function Gd(t){const e=t?.interactive??!0,n=String(t?.summary||Kw).trim()||Kw;let r=t?.token;r||(r=await fh(e));try{const s=((await _s({token:r,method:"GET",path:"/users/me/calendarList?minAccessRole=writer"})).items??[]).find(l=>String(l.summary||"").trim().toLowerCase()===n.toLowerCase());if(s?.id)return s.id;const o=await _s({token:r,method:"POST",path:"/calendars",body:{summary:n}});try{await _s({token:r,method:"POST",path:"/users/me/calendarList",body:{id:o.id}})}catch{}return o.id}catch(i){throw await yc(r),i}}async function i4(t){const e=String(t?.calendarId||"").trim();if(!e)throw new Error("Missing calendar id");const n=t?.interactive;let r=t?.token;r||(r=await fh(n));try{await _s({token:r,method:"DELETE",path:`/calendars/${encodeURIComponent(e)}`})}catch(i){const s=ql(i);if(s===404)return;throw Hd(s)&&await yc(r),i}}const E2=M.createContext(null);function s4(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function o4(t){switch(t){case"success":return"bg-emerald-600/60 text-white";case"error":return"bg-rose-600/60 text-white";default:return"bg-slate-900/60 text-white dark:bg-slate-950/60"}}function a4({children:t}){const[e,n]=M.useState([]),r=M.useRef({}),i=M.useCallback(l=>{n(d=>d.filter(f=>f.id!==l));const u=r.current[l];u&&(window.clearTimeout(u),delete r.current[l])},[]),s=M.useCallback((l,u="info",d)=>{const f=s4(),p={id:f,type:u,message:l};n(y=>[...y.slice(-2),p]);const g=d?.durationMs??3200;r.current[f]=window.setTimeout(()=>i(f),g)},[i]),o=M.useMemo(()=>({show:s,success:(l,u)=>s(l,"success",u),error:(l,u)=>s(l,"error",u),info:(l,u)=>s(l,"info",u)}),[s]);return b.jsxs(E2.Provider,{value:o,children:[t,b.jsx("div",{className:"pointer-events-none fixed bottom-3 right-3 z-50 flex w-[min(22rem,calc(100vw-1.5rem))] flex-col gap-2",role:"status","aria-live":"polite","aria-atomic":"true",children:e.map(l=>b.jsx("div",{className:`pointer-events-auto rounded-lg px-3 py-2 text-sm font-semibold shadow-sm backdrop-blur ${o4(l.type)}`,children:l.message},l.id))})]})}function ph(){const t=M.useContext(E2);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function In({children:t,className:e="",colors:n=["#5227FF","#FF9FFC","#B19EEF"],animationSpeed:r=8,showBorder:i=!1,direction:s="horizontal",pauseOnHover:o=!1,yoyo:l=!0}){const[u,d]=M.useState(!1),f=CC(0),p=M.useRef(0),g=M.useRef(null),y=r*1e3;gO(R=>{if(u){g.current=null;return}if(g.current===null){g.current=R;return}const P=R-g.current;if(g.current=R,p.current+=P,l){const N=y*2,T=p.current%N;T<y?f.set(T/y*100):f.set(100-(T-y)/y*100)}else f.set(p.current/y*100)}),M.useEffect(()=>{p.current=0,f.set(0),g.current=null},[r,f,l]);const w=mO(f,R=>s==="horizontal"?`${R}% 50%`:s==="vertical"?`50% ${R}%`:`${R}% 50%`),v=M.useCallback(()=>{o&&d(!0)},[o]),_=M.useCallback(()=>{o&&d(!1)},[o]),C=s==="horizontal"?"to right":s==="vertical"?"to bottom":"to bottom right",E=[...n,n[0]].join(", "),k={backgroundImage:`linear-gradient(${C}, ${E})`,backgroundSize:s==="horizontal"?"300% 100%":s==="vertical"?"100% 300%":"300% 300%",backgroundRepeat:"repeat"};return b.jsxs(Ai.span,{className:`animated-gradient-text ${i?"with-border":""} ${e}`,onMouseEnter:v,onMouseLeave:_,children:[i&&b.jsx(Ai.span,{className:"gradient-overlay",style:{...k,backgroundPosition:w}}),b.jsx(Ai.span,{className:"text-content",style:{...k,backgroundPosition:w},children:t})]})}function Kp({kind:t}){return t==="synced"?b.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none","aria-hidden":"true",children:b.jsx("path",{d:"M6.5 12.5l3.2 3.2L17.8 7.8",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})}):t==="error"?b.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none","aria-hidden":"true",children:[b.jsx("path",{d:"M7 7l10 10",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"}),b.jsx("path",{d:"M17 7L7 17",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]}):b.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none","aria-hidden":"true",children:b.jsx("path",{d:"M6 12h12",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"})})}function l4(t){return t.period==="monthly"?1:t.period==="quarterly"?3:t.period==="semiannual"?6:12}function c4(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function Qw(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function Jw(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function u4(t){const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}function d4(){const{state:t,setSubscriptions:e,setSettings:n,ready:r}=Da(),i=ph(),{t:s,language:o}=Ds(),l=M.useMemo(()=>({monthly:s("subscriptions.periodMonthly")??"Monthly",quarterly:s("subscriptions.periodQuarterly")??"Quarterly",semiannual:s("subscriptions.periodSemiannual")??"Semiannual",annual:s("subscriptions.periodAnnual")??"Annual"}),[s]),u=t.settings.currencyDisplayMode??"original",d=(t.settings.baseCurrency||"USD").toUpperCase(),f=M.useRef(t.settings);M.useEffect(()=>{f.current=t.settings},[t.settings]);const p=M.useRef(t.subscriptions);M.useEffect(()=>{p.current=t.subscriptions},[t.subscriptions]);const[g,y]=M.useState(0),[w,v]=M.useState("idle");M.useEffect(()=>{if(u!=="convertToBase")return;let K=!1;return v("loading"),(async()=>{const Q=await Dk(d);K||(Q?(v("ready"),y(Y=>Y+1)):v("unavailable"))})(),()=>{K=!0}},[d,u]),M.useEffect(()=>{u!=="convertToBase"&&v("idle")},[u]);const _=30,C=M.useMemo(()=>Qw(new Date),[]),E=M.useMemo(()=>{const K=new Date;return K.setDate(K.getDate()+_),K.setHours(23,59,59,999),K},[]),k=M.useMemo(()=>{const K=[];for(const Y of t.subscriptions){const re=l4(Y);let L=va(Y.startDate,Y.period,C);for(;L.getTime()<=E.getTime();)K.push({date:new Date(L),ymd:u4(L),s:Y}),L=c4(L,re)}K.sort((Y,re)=>Y.date.getTime()-re.date.getTime()||Y.s.name.localeCompare(re.s.name));const Q=new Map;for(const Y of K){const re=(Y.s.currency||"USD").toUpperCase(),L=u==="convertToBase"?d:re,z=u==="convertToBase"?jr(Y.s.price,re,d):Y.s.price;Q.has(Y.ymd)||Q.set(Y.ymd,{date:Y.date,ymd:Y.ymd,rows:[]}),Q.get(Y.ymd).rows.push({s:Y.s,shownAmount:z,shownCurrency:L})}return Array.from(Q.values()).sort((Y,re)=>Y.date.getTime()-re.date.getTime())},[d,u,g,C,t.subscriptions,E]),[R,P]=M.useState(!1),[N,T]=M.useState(null),A=async K=>{if(!R){if(p.current.length===0){i.info(s("calendar.emptyHint")??"Aade suscripciones para ver tu agenda.");return}P(!0),T({ok:0,fail:0,total:p.current.length});try{let Q=f.current.calendarSubscriptionsCalendarId??null;if(!Q)try{Q=await Gd({interactive:K}),n({...f.current,calendarSubscriptionsCalendarId:Q})}catch{Q=f.current.calendarSubscriptionsCalendarId??null}const Y=p.current,re=Y.slice();let L=0,z=0,X=null;for(let F=0;F<Y.length;F++){const G=Y[F];try{const oe=(G.currency||"USD").toUpperCase(),ie=u==="convertToBase"?d:oe,ue=u==="convertToBase"?jr(G.price,oe,d):G.price,pe=[`${s("subscriptions.detailsAmount")??"Importe"}: ${zn(ue,ie)}`,`${s("subscriptions.detailsPeriod")??"Periodo"}: ${G.period}`],Re=String(G.category||"").trim();Re&&pe.push(`${s("subscriptions.filterCategory")??"Categora"}: ${Re}`);const Pe=va(G.startDate,G.period,new Date),Le=v0(Pe),Ke=G.reminder?.enabled?G.reminder?.method==="email"?"email":"popup":f.current.calendarReminderMethod==="email"?"email":"popup",It=(!!G.reminder?.enabled?Math.max(0,Math.trunc(Number(G.reminder?.daysBefore??1))):Math.max(0,Math.trunc(Number(f.current.calendarReminderDaysBefore??1))))*24*60,Fe=Q??G.calendar?.calendarId??"primary",ze=G.calendar?.eventId,Dt=G.calendar?.calendarId,Lt=!!(ze&&Dt&&Dt!==Fe);if(Lt)try{await qm({calendarId:Dt,eventId:ze,interactive:K})}catch{}const ct=async(Ht,Qt)=>await bd({calendarId:Ht,eventId:Qt,summary:`${G.name}  ${s("subscriptions.renewal")??"Renovacin"}`,description:pe.join(`
`),startDateYmd:Le,period:G.period,reminderMinutes:It,reminderMethod:Ke,interactive:K});let Kt;try{Kt=await ct(Fe,Lt?void 0:G.calendar?.eventId)}catch(Ht){const Qt=Ht&&typeof Ht=="object"&&typeof Ht.status=="number"?Ht.status:void 0;if(Qt===401||Qt===403)throw Ht;try{const nn=await Gd({interactive:K});Q=nn,n({...f.current,calendarSubscriptionsCalendarId:nn}),Kt=await ct(nn,void 0)}catch{try{Kt=await ct("primary",void 0)}catch{throw Ht}}}re[F]={...G,calendar:{...Kt,lastError:void 0}},L+=1}catch(oe){const ie=oe instanceof Error?oe.message:String(oe);X||(X=ie),z+=1,re[F]={...G,calendar:{...G.calendar??{calendarId:"primary"},lastError:ie,syncedAt:G.calendar?.syncedAt}}}T({ok:L,fail:z,total:Y.length})}e(re);const q=s("subscriptions.syncAllDone",{ok:L,fail:z})??`Sync: ${L} ok, ${z} fail`;z>0?i.error(X?`${q} (${X})`:q):i.success(q)}finally{P(!1),window.setTimeout(()=>T(null),2e3);try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage({type:"RELOAD_CALENDAR"})}catch{}}}},O="https://calendar.google.com/calendar/u/0/r",$=o==="es"?"es-ES":"en-US",W=Qw(new Date),Z=(()=>{const K=new Date(W);return K.setDate(K.getDate()+1),K})();return r?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-sm font-extrabold text-slate-700 dark:text-slate-200 sm:text-base",children:b.jsx(In,{className:"tracking-wide",colors:["#67cdddf4","#e6d5d5e2","#ad9ae8"],animationSpeed:10,children:s("calendar.title")??s("nav.calendar")??"Calendar"})}),b.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:s("calendar.hint")??""})]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.subscriptions.length>0&&b.jsxs("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-md bg-indigo-600 text-white hover:bg-indigo-500 disabled:opacity-60",onClick:()=>{A(!0)},disabled:R,title:t.subscriptions.length===0?s("calendar.emptyHint")??"Aade suscripciones para ver tu agenda.":void 0,"aria-label":s("subscriptions.syncAll")??"Sync all","aria-busy":R,children:[R?b.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 opacity-70",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[b.jsx("path",{d:"M12 2v4"}),b.jsx("path",{d:"M12 18v4"}),b.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),b.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),b.jsx("path",{d:"M2 12h4"}),b.jsx("path",{d:"M18 12h4"}),b.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),b.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]}):b.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[b.jsx("path",{d:"M21 12a9 9 0 0 0-15.5-6.36"}),b.jsx("path",{d:"M3 4v6h6"}),b.jsx("path",{d:"M3 12a9 9 0 0 0 15.5 6.36"}),b.jsx("path",{d:"M21 20v-6h-6"})]}),b.jsx("span",{className:"sr-only",children:R?s("subscriptions.syncing")??"Syncing":s("subscriptions.syncAll")??"Sync all"})]}),b.jsx("a",{className:"inline-flex rounded-md border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-900",href:O,target:"_blank",rel:"noreferrer",children:s("settings.openGoogleCalendar")??"Open Google Calendar"}),b.jsx(da,{className:"inline-flex rounded-md border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-200 dark:hover:bg-slate-900",to:"/settings",children:s("nav.settings")??"Ajustes"})]})]}),N?b.jsx("div",{className:"mt-3 text-xs font-semibold text-slate-600 dark:text-slate-300",children:s("calendar.syncProgress",{ok:N.ok,total:N.total,fail:N.fail})??`Progress: ${N.ok}/${N.total} ok  ${N.fail} fail`}):null,u==="convertToBase"?b.jsx("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:w==="loading"?s("dashboard.fxLoading")??"Cargando tipos de cambio":w==="unavailable"?s("dashboard.fxUnavailable")??"Tipos de cambio no disponibles; usando aproximacin.":null}):null]}),b.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[b.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[b.jsx("div",{className:"text-sm font-extrabold text-slate-700 dark:text-slate-200 sm:text-base",children:b.jsx(In,{className:"tracking-wide",colors:["#67cdddf4","#e6d5d5e2","#ad9ae8"],animationSpeed:10,children:s("calendar.agenda30",{days:_})??`Agenda  Next ${_} days`})}),b.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[t.subscriptions.length," ",t.subscriptions.length===1?s("common.subscription")??"suscripcin":s("common.subscriptions")??"suscripciones"]})]}),k.length===0?b.jsx("div",{className:"mt-3 rounded-lg border border-dashed border-slate-300 p-4 text-sm text-slate-600 dark:border-slate-700 dark:text-slate-300",children:t.subscriptions.length===0?s("calendar.emptyHint")??"Aade suscripciones para ver tu agenda.":s("calendar.noUpcoming",{days:_})??`No renewals in the next ${_} days.`}):b.jsx("div",{className:"mt-3 space-y-3",children:k.map(K=>{const Q=K.date.toLocaleDateString($,{weekday:"long",year:"numeric",month:"long",day:"2-digit"}),Y=Q.length>0?Q[0].toUpperCase()+Q.slice(1):Q,re=Jw(K.date,W)?s("common.today")??"Today":Jw(K.date,Z)?s("common.tomorrow")??"Tomorrow":null;return b.jsxs("div",{className:"rounded-lg border border-slate-200 p-3 dark:border-slate-800",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("div",{className:"text-sm font-extrabold text-slate-700 dark:text-slate-200",children:Y}),re?b.jsx("div",{className:"rounded-full bg-indigo-600/20 px-2 py-0.5 text-[11px] font-black text-indigo-300",children:re}):null]}),b.jsx("div",{className:"mt-2 space-y-2",children:K.rows.map(L=>b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-md bg-slate-50 px-3 py-2 dark:bg-slate-950/40",children:[b.jsxs("div",{className:"min-w-0",children:[b.jsx("div",{className:"truncate text-sm font-extrabold text-slate-800 dark:text-slate-100",children:L.s.name}),b.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[s("subscriptions.renewal")??"Renewal","  ",l[L.s.period],L.s.category?`  ${L.s.category}`:""]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"text-sm font-black text-slate-900 dark:text-slate-100",children:zn(L.shownAmount,L.shownCurrency)}),L.s.calendar?.lastError?b.jsxs("div",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-rose-600/15 text-rose-300",title:L.s.calendar.lastError,"aria-label":s("common.error")??"Error",children:[b.jsx(Kp,{kind:"error"}),b.jsx("span",{className:"sr-only",children:s("common.error")??"Error"})]}):L.s.calendar?.syncedAt?b.jsxs("div",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-emerald-600/15 text-emerald-300",title:L.s.calendar.syncedAt,"aria-label":s("common.synced")??"Synced",children:[b.jsx(Kp,{kind:"synced"}),b.jsx("span",{className:"sr-only",children:s("common.synced")??"Synced"})]}):b.jsxs("div",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-slate-600/15 text-slate-400",title:s("common.notSynced")??"Not synced","aria-label":s("common.notSynced")??"Not synced",children:[b.jsx(Kp,{kind:"notSynced"}),b.jsx("span",{className:"sr-only",children:s("common.notSynced")??"Not synced"})]})]})]},`${K.ymd}:${L.s.id}`))})]},K.ymd)})})]})]}):b.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4 text-sm dark:border-slate-800 dark:bg-slate-900",children:s("common.loading")??"Loading"})}const h4="modulepreload",f4=function(t){return"/"+t},Zw={},p4=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=u(n.map(d=>{if(d=f4(d),d in Zw)return;Zw[d]=!0;const f=d.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":h4,f||(g.as="script"),g.crossOrigin="",g.href=d,l&&g.setAttribute("nonce",l),document.head.appendChild(g),f)return new Promise((y,w)=>{g.addEventListener("load",y),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function m4(t,e){const n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),n.remove()}async function nd(t,e){const{default:n}=await p4(async()=>{const{default:l}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:l}},[]),r=Math.max(1,window.devicePixelRatio||1),s=typeof window<"u"&&window.matchMedia?.("(prefers-color-scheme: dark)")?.matches?"#020617":"#ffffff",o=await n(t,{backgroundColor:s,scale:r,useCORS:!0});m4(o.toDataURL("image/png"),e)}function rd(t,e){const n=t.map(o=>o.map(l=>`"${String(l).replace(/"/g,'""')}"`).join(",")).join(`
`),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(i)}function ta(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function P2(t){return t.period==="monthly"?1:t.period==="quarterly"?3:t.period==="semiannual"?6:12}function g4(t){const e=P2(t);return Number.isFinite(t.price)?t.price*12/e:0}function y4(t){const[e,n,r]=String(t).split("-").map(Number),i=new Date(e,(n??1)-1,r??1);return Number.isNaN(i.getTime())?null:i}function e_(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function v4(t,e,n,r){const i=y4(t);if(!i)return[];let s=new Date(i);for(;s.getTime()<n.getTime();)s=e_(s,e);const o=[];for(;s.getTime()<=r.getTime();)o.push(new Date(s)),s=e_(s,e);return o}function t_(){const{state:t}=Da(),{t:e,language:n}=Ds(),r=t.settings.currencyDisplayMode??"original",i=(t.settings.baseCurrency||"USD").toUpperCase(),[s,o]=M.useState(0),[l,u]=M.useState("idle");M.useEffect(()=>{if(r!=="convertToBase")return;let k=!1;return u("loading"),(async()=>{const R=await Dk(i);k||(R?(u("ready"),o(P=>P+1)):u("unavailable"))})(),()=>{k=!0}},[i,r]),M.useEffect(()=>{r!=="convertToBase"&&u("idle")},[r]);const d=M.useRef(new Map),f=k=>R=>{R?d.current.set(k,R):d.current.delete(k)},p=M.useMemo(()=>r==="convertToBase"?[i]:Array.from(new Set(t.subscriptions.map(k=>(k.currency||"USD").toUpperCase()))).sort((k,R)=>k.localeCompare(R)),[i,r,t.subscriptions]),g=M.useMemo(()=>{const k=new Map;for(const R of t.subscriptions){const P=(R.currency||"USD").toUpperCase(),N=r==="convertToBase"?i:P,T=r==="convertToBase"?jr(ta(R),P,i):ta(R),A=k.get(N)??0;k.set(N,A+T)}return Array.from(k.entries()).sort((R,P)=>R[0].localeCompare(P[0]))},[i,r,s,t.subscriptions]),y=M.useMemo(()=>{const k=new Date,R=7,P=new Date(k);P.setDate(P.getDate()+R);const N=new Map,T=new Map,A=new Map,O=new Map,$=new Map;for(const K of t.subscriptions){const Q=(K.currency||"USD").toUpperCase(),Y=r==="convertToBase"?i:Q,re=r==="convertToBase"?jr(ta(K),Q,i):ta(K);N.set(Y,(N.get(Y)??0)+re),T.set(Y,(T.get(Y)??0)+1),va(K.startDate,K.period,k).getTime()<=P.getTime()&&A.set(Y,(A.get(Y)??0)+1);const z=O.get(Y);(!z||re>z.value)&&O.set(Y,{name:K.name,value:re});const X=(K.category||"").trim()||(e("common.uncategorized")??"Sin categora");$.has(Y)||$.set(Y,new Map);const q=$.get(Y);q.set(X,(q.get(X)??0)+re)}const W=new Map,Z=new Set([...N.keys(),...T.keys()]);for(const K of Z){const Q=T.get(K)??0,Y=N.get(K)??0,re=Q>0?Y/Q:0,L=A.get(K)??0,z=O.get(K)??null,X=$.get(K);let q=null;if(X&&Y>0){let F=null;for(const[G,oe]of X.entries())(!F||oe>F.value)&&(F={label:G,value:oe});F&&(q={label:F.label,value:F.value,pct:Math.round(F.value/Y*100)})}W.set(K,{count:Q,monthlyTotal:Y,avgMonthly:re,dueSoonCount:L,highest:z,topCategory:q,windowDays:R})}return W},[i,r,s,t.subscriptions,e]),w=M.useMemo(()=>{const k=new Date;return t.subscriptions.map(P=>({s:P,next:va(P.startDate,P.period,k)})).sort((P,N)=>P.next.getTime()-N.next.getTime()).slice(0,5)},[t.subscriptions]),v=M.useMemo(()=>{const k=new Date,R=Array.from({length:12},(T,A)=>new Date(k.getFullYear(),k.getMonth()-(11-A),1)),P=R.map(T=>T.toLocaleString(n==="es"?"es-ES":"en-US",{month:"short"})),N=new Map;for(const T of p)N.set(T,Array.from({length:12},()=>0));for(const T of t.subscriptions){const A=(T.currency||"USD").toUpperCase(),O=r==="convertToBase"?i:A;N.has(O)||N.set(O,Array.from({length:12},()=>0));const $=P2(T);for(let W=0;W<R.length;W++){const Z=R[W],K=new Date(Z.getFullYear(),Z.getMonth()+1,0,23,59,59,999),Q=v4(T.startDate,$,Z,K);if(!Q.length)continue;const Y=N.get(O),re=T.price*Q.length;Y[W]+=r==="convertToBase"?jr(re,A,i):re}}return{labels:P,byCurrency:N}},[i,p,r,s,t.subscriptions]),_=M.useMemo(()=>{const k=new Map;for(const R of t.subscriptions){const P=(R.currency||"USD").toUpperCase(),N=r==="convertToBase"?i:P,T=k.get(N)??[],A=g4(R);T.push({label:R.name,value:r==="convertToBase"?jr(A,P,i):A}),k.set(N,T)}for(const[R,P]of k.entries())k.set(R,P.sort((N,T)=>T.value-N.value).slice(0,6));return k},[i,r,s,t.subscriptions]),C=M.useMemo(()=>{const k=new Map;for(const R of t.subscriptions){const P=(R.currency||"USD").toUpperCase(),N=r==="convertToBase"?i:P,T=k.get(N)??[],A=ta(R);T.push({label:R.name,value:r==="convertToBase"?jr(A,P,i):A}),k.set(N,T)}for(const[R,P]of k.entries()){const N=P.sort((W,Z)=>Z.value-W.value),T=N.slice(0,5),O=N.slice(5).reduce((W,Z)=>W+Z.value,0),$=O>0?[...T,{label:e("common.other")??"Otros",value:O}]:T;k.set(R,$)}return k},[i,r,s,t.subscriptions,e]),E=M.useMemo(()=>{const k=new Map;for(const P of t.subscriptions){const N=(P.currency||"USD").toUpperCase(),T=r==="convertToBase"?i:N,A=(P.category||"").trim()||(e("common.uncategorized")??"Sin categora");k.has(T)||k.set(T,new Map);const O=k.get(T),$=ta(P),W=r==="convertToBase"?jr($,N,i):$;O.set(A,(O.get(A)??0)+W)}const R=new Map;for(const[P,N]of k.entries()){const A=Array.from(N.entries()).map(([O,$])=>({label:O,value:$})).sort((O,$)=>$.value-O.value).slice(0,7);R.set(P,A)}return R},[i,r,s,t.subscriptions,e]);return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[b.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:b.jsx(In,{children:e("dashboard.monthlySpendTitle")??"Gasto mensual (equivalente)"})}),b.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:g.length===0?b.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noSubscriptionsYet")??"Sin suscripciones an."}):g.map(([k,R])=>b.jsx("div",{className:"rounded-lg bg-slate-100 px-3 py-2 text-sm font-semibold dark:bg-slate-800",children:zn(R,k)},k))}),r==="convertToBase"?b.jsxs("div",{className:"mt-2 text-xs text-slate-500 dark:text-slate-400",children:[e("dashboard.fxRatesLabel")??"FX rates",": ",l==="loading"?e("dashboard.fxUpdating")??"actualizando":l==="ready"?e("dashboard.fxReady")??"reales (cacheadas)":l==="unavailable"?e("dashboard.fxUnavailable")??"no disponibles (fallback)":e("dashboard.fxIdle")??""]}):null]}),b.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[b.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:b.jsx(In,{children:e("dashboard.upcomingRenewalsTitle")??"Prximas renovaciones"})}),b.jsx("div",{className:"mt-2 space-y-2",children:w.length===0?b.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noDataYet")??"No hay datos todava."}):w.map(({s:k,next:R})=>b.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg bg-slate-50 px-3 py-2 text-sm dark:bg-slate-800/60",children:[b.jsx("div",{className:"font-semibold",children:k.name}),b.jsx("div",{className:"text-slate-600 dark:text-slate-300",children:R.toLocaleDateString(n==="es"?"es-ES":"en-US")})]},k.id))})]}),b.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[b.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:b.jsx(In,{children:e("dashboard.chartsTitle")??"Grficos"})}),t.subscriptions.length===0?b.jsx("div",{className:"mt-2 text-sm text-slate-500",children:e("dashboard.addSubsToSeeCharts")??"Aade suscripciones para ver grficos."}):b.jsx("div",{className:"mt-3 space-y-4",children:p.map(k=>{const R=v.byCurrency.get(k)??[],P=_.get(k)??[],N=E.get(k)??[],T=C.get(k)??[];return b.jsxs("div",{className:"rounded-xl bg-slate-50 p-3 dark:bg-slate-800/60",children:[b.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:e("dashboard.currencyLabel",{cur:k})??`Moneda: ${k}`}),(()=>{const A=y.get(k);return A?b.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 sm:grid-cols-4",children:[b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiSubscriptions")??"Suscripciones"}),b.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.count})]}),b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiAvgMonthly")??"Media mensual"}),b.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:zn(A.avgMonthly,k)})]}),b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiDueSoon",{days:A.windowDays})??`Vencen ( ${A.windowDays}d)`}),b.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.dueSoonCount})]}),b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-800 dark:bg-slate-900",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:e("dashboard.kpiTopCategory")??"Top categora"}),b.jsx("div",{className:"mt-0.5 font-bold text-slate-900 dark:text-white",children:A.topCategory?`${A.topCategory.label}  ${A.topCategory.pct}%`:e("common.none")??""})]})]}):null})(),b.jsxs("div",{className:"mt-3 space-y-3",children:[b.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:b.jsx(In,{children:e("dashboard.projectionTitle")??"Proyeccin mensual (ltimos 12 meses)"})}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=d.current.get(`${k}:line`);A&&nd(A,`monthly-${k}.png`)},children:"PNG"}),b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvMonth")??"Month",e("dashboard.csvAmount")??"Amount",e("dashboard.csvCurrency")??"Currency"]];for(let O=0;O<v.labels.length;O++)A.push([v.labels[O],R[O]??0,k]);rd(A,`monthly-${k}.csv`)},children:"CSV"})]})]}),b.jsx("div",{ref:f(`${k}:line`),className:"mt-2",children:b.jsx(k2,{ariaLabel:`Proyeccin mensual ${k}`,labels:v.labels,values:R,formatValue:A=>zn(A,k)})})]}),b.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:b.jsx(In,{children:e("dashboard.annualTopTitle")??"Top gasto anual (estimado)"})}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=d.current.get(`${k}:bar`);A&&nd(A,`annual-top-${k}.png`)},children:"PNG"}),b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvName")??"Name",e("dashboard.csvAnnualAmount")??"AnnualAmount",e("dashboard.csvCurrency")??"Currency"]];for(const O of P)A.push([O.label,O.value,k]);rd(A,`annual-top-${k}.csv`)},children:"CSV"})]})]}),b.jsx("div",{ref:f(`${k}:bar`),className:"mt-3",children:P.length===0?b.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):b.jsx(qw,{items:P,colorClassName:"text-indigo-500",formatValue:A=>zn(A,k)})})]}),b.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:b.jsx(In,{children:e("dashboard.monthlyByCategoryTitle")??"Gasto mensual por categora (equivalente)"})}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=d.current.get(`${k}:cat`);A&&nd(A,`categories-${k}.png`)},children:"PNG"}),b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvCategory")??"Category",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const O of N)A.push([O.label,O.value,k]);rd(A,`categories-${k}.csv`)},children:"CSV"})]})]}),b.jsx("div",{ref:f(`${k}:cat`),className:"mt-3",children:N.length===0?b.jsx("div",{className:"text-sm text-slate-500",children:e("dashboard.noData")??"Sin datos."}):b.jsx(qw,{items:N,colorClassName:"text-sky-500",formatValue:A=>zn(A,k)})})]}),b.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-800 dark:bg-slate-900",children:[b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:b.jsx(In,{children:e("dashboard.distributionTitle")??"Distribucin (gasto mensual equivalente)"})}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=d.current.get(`${k}:pie`);A&&nd(A,`distribution-${k}.png`)},children:"PNG"}),b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-1.5 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:()=>{const A=[[e("dashboard.csvName")??"Name",e("dashboard.csvMonthlyEquivalent")??"MonthlyEquivalent",e("dashboard.csvCurrency")??"Currency"]];for(const O of T)A.push([O.label,O.value,k]);rd(A,`distribution-${k}.csv`)},children:"CSV"})]})]}),b.jsx("div",{ref:f(`${k}:pie`),className:"mt-2",children:b.jsx(M2,{segments:T,formatValue:A=>zn(A,k)})})]})]})]},k)})})]})]})}function D2(){return typeof chrome<"u"&&!!chrome.identity}async function R2(t){if(!D2())throw new Error("Google Drive backup requires Chrome Extension environment.");return await new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},r=>{const i=chrome.runtime.lastError;if(i){n(new Error(i.message||"OAuth token error"));return}if(!r){n(new Error("No OAuth token received"));return}e(r)})})}async function A2(t){D2()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function N2(t){const e=await fetch(t.url,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.body?{"Content-Type":"application/json"}:{},...t.headers??{}},body:t.body?JSON.stringify(t.body):void 0}),n=await e.text();if(!e.ok){const r=n||`${e.status} ${e.statusText}`;throw new Error(r)}return n?JSON.parse(n):void 0}async function L2(t){const e=await fetch(t.url,{method:t.method,headers:{Authorization:`Bearer ${t.token}`,...t.method==="PATCH"?{"Content-Type":t.contentType??"application/octet-stream"}:{}},body:t.body}),n=await e.text();if(!e.ok){const r=n||`${e.status} ${e.statusText}`;throw new Error(r)}return{text:n,headers:e.headers}}const Yd="subly-state.json";async function j2(t,e){const n=[`name='${e.replace(/'/g,"\\'")}'`,"trashed=false"].join(" and "),r=new URL("https://www.googleapis.com/drive/v3/files");r.searchParams.set("spaces","appDataFolder"),r.searchParams.set("q",n),r.searchParams.set("pageSize","5"),r.searchParams.set("fields","files(id,name,modifiedTime)");const s=((await N2({token:t,method:"GET",url:r.toString()})).files??[])[0];return s?.id?{fileId:s.id,modifiedTime:s.modifiedTime}:null}async function x4(t,e){return{fileId:(await N2({token:t,method:"POST",url:"https://www.googleapis.com/drive/v3/files",body:{name:e,parents:["appDataFolder"],mimeType:"application/json"}})).id}}async function b4(t,e,n){const r=new URL(`https://www.googleapis.com/upload/drive/v3/files/${encodeURIComponent(e)}`);r.searchParams.set("uploadType","media"),r.searchParams.set("fields","id,modifiedTime");const i=await L2({token:t,method:"PATCH",url:r.toString(),body:n,contentType:"application/json; charset=utf-8"}),s=i.text?JSON.parse(i.text):{id:e};return{fileId:s.id||e,modifiedTime:s.modifiedTime}}async function w4(t,e){const n=new URL(`https://www.googleapis.com/drive/v3/files/${encodeURIComponent(e)}`);return n.searchParams.set("alt","media"),{jsonText:(await L2({token:t,method:"GET",url:n.toString()})).text}}async function O2(t){const e=t.interactive??!0,n=String(t.fileName||Yd).trim()||Yd;let r;try{r=await R2(e);let i=t.fileId,s;if(!i){const l=await j2(r,n);l&&(i=l.fileId,s=l.modifiedTime)}i||(i=(await x4(r,n)).fileId);const o=await b4(r,i,t.json);return{fileId:o.fileId,modifiedTime:o.modifiedTime??s}}catch(i){throw r&&await A2(r),i}}async function _4(t){const e=t.interactive??!0,n=String(t.fileName||Yd).trim()||Yd;let r;try{r=await R2(e);let i=t.fileId,s;if(!i){const l=await j2(r,n);if(!l)throw new Error("No backup file found in Drive app data.");i=l.fileId,s=l.modifiedTime}const{jsonText:o}=await w4(r,i);return{fileId:i,modifiedTime:s,jsonText:o}}catch(i){throw r&&await A2(r),i}}const id=["#22C55E","#06B6D4","#3B82F6"];function Qp(t){return t==="es"?"es-ES":"en-US"}function S4(t){const e=Number(t);return Number.isFinite(e)?e:0}function C4(t){if(!Number.isFinite(t.price))return 0;switch(t.period){case"monthly":return t.price;case"quarterly":return t.price/3;case"semiannual":return t.price/6;case"annual":return t.price/12}}function n_(t){return/^\d{4}-\d{2}-\d{2}$/.test(String(t||"").trim())}function sd(t){return JSON.stringify(t.map(e=>({id:e.id,name:e.name,category:e.category,price:e.price,currency:e.currency,period:e.period,startDate:e.startDate,reminder:e.reminder??null})))}function k4(){const{state:t,setSubscriptions:e,setSettings:n}=Da(),{t:r,language:i}=Ds(),s=ph(),o=t.settings.currencyDisplayMode??"original",l=(t.settings.baseCurrency||"USD").toUpperCase(),u=!!t.settings.calendarAutoSyncAll,d=M.useRef(t.settings);M.useEffect(()=>{d.current=t.settings},[t.settings]);const f=M.useRef(!1),p=M.useCallback(async ee=>{const fe=String(d.current.driveBackupFileId||"").trim();if(fe)try{const ye={...t,subscriptions:ee,settings:d.current},ve=JSON.stringify({version:1,savedAt:new Date().toISOString(),state:ye},null,2),Oe=await O2({json:ve,fileId:fe,interactive:!1});n({...d.current,driveBackupFileId:Oe.fileId,driveLastBackupAt:Oe.modifiedTime??new Date().toISOString()})}catch(ye){if(f.current)return;f.current=!0;const ve=ye instanceof Error?ye.message:String(ye);s.error((r("drive.backupSaveFailed")??"No se pudo guardar la copia en Google Drive.")+(ve?` ${ve}`:""))}},[n,t,r,s]),g=M.useRef(t.settings.calendarSubscriptionsCalendarId??null);M.useEffect(()=>{g.current=t.settings.calendarSubscriptionsCalendarId??null},[t.settings.calendarSubscriptionsCalendarId]);const y=M.useRef(t.subscriptions);M.useEffect(()=>{y.current=t.subscriptions},[t.subscriptions]);const[w,v]=M.useState(!1),[_,C]=M.useState(null),[E,k]=M.useState(!1),R=M.useRef(null),[P,N]=M.useState(null),[T,A]=M.useState(""),[O,$]=M.useState(!1),[W,Z]=M.useState(""),[K,Q]=M.useState(""),[Y,re]=M.useState(""),[L,z]=M.useState(""),[X,q]=M.useState(""),[F,G]=M.useState({column:"nextRenewal",direction:"asc"}),oe=M.useMemo(()=>t.subscriptions.find(ee=>ee.id===_)??null,[_,t.subscriptions]),[ie,ue]=M.useState(""),[pe,Re]=M.useState(""),[Pe,Le]=M.useState(""),[Ke,It]=M.useState("USD"),[Fe,ze]=M.useState("monthly"),[Dt,Lt]=M.useState(()=>new Date().toISOString().slice(0,10)),[ct,Kt]=M.useState(!1),[Ht,Qt]=M.useState(1),[nn,Mn]=M.useState("popup"),oi=M.useMemo(()=>{const ee=ie.trim(),fe=Pe.trim();return!(!ee||!fe||!Number.isFinite(Number(fe))||!Ke.trim()||!Fe||!n_(Dt))},[Ke,ie,Fe,Pe,Dt]);function ai(){C(null),ue(""),Re(""),Le(""),It("USD"),ze("monthly"),Lt(new Date().toISOString().slice(0,10)),Kt(!1),Qt(Math.max(0,Math.trunc(Number(d.current.calendarReminderDaysBefore??1)))),Mn(d.current.calendarReminderMethod==="email"?"email":"popup")}function mn(){k(!1),ai()}function Ir(){ai(),k(!0)}function Ns(ee){C(ee.id),ue(ee.name),Re(ee.category??""),Le(String(ee.price));const fe=String(ee.currency??"").trim().toUpperCase(),ye=So.some(Oe=>Oe.code===fe);It(ye?fe:"USD"),ze(ee.period),Lt(ee.startDate);const ve=!!ee.reminder?.enabled;Kt(ve),ve?(Qt(Math.max(0,Math.min(365,Math.trunc(Number(ee.reminder?.daysBefore??1))))),Mn(ee.reminder?.method==="email"?"email":"popup")):(Qt(Math.max(0,Math.trunc(Number(d.current.calendarReminderDaysBefore??1)))),Mn(d.current.calendarReminderMethod==="email"?"email":"popup")),k(!0)}function li(){const ee=ie.trim(),fe=Pe.trim();if(!ee||!fe||!Number.isFinite(Number(fe))||!Ke.trim()||!Fe||!n_(Dt))return;const ye=pe.trim(),ve=!!_,Oe=_?t.subscriptions.find(ce=>ce.id===_):void 0,j=ct?{enabled:!0,daysBefore:Math.max(0,Math.min(365,Math.trunc(Number(Ht)))),method:nn==="email"?"email":"popup"}:void 0,V={...Oe,id:_??TC(),name:ee,category:ye||void 0,price:S4(Pe),currency:Ke,period:Fe,startDate:Dt,reminder:j},U=t.subscriptions.slice(),se=U.findIndex(ce=>ce.id===V.id);se>=0?U[se]=V:U.unshift(V),y.current=U,u&&(yn.current=sd(U)),e(U),mn(),s.success(ve?r("subscriptions.toastUpdated")??"Suscripcin actualizada.":r("subscriptions.toastCreated")??"Suscripcin creada."),u&&(async()=>{const ce=await zr(V.id,!0,{quiet:!0});ce.ok||s.error((r("subscriptions.syncFailed")??"Error al sincronizar.")+(ce.error?` ${ce.error}`:""))})(),p(U);try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage({type:"RELOAD_CALENDAR"})}catch{}}function rn(ee){const fe=y.current,ye=fe.find(U=>U.id===ee);if(!ye)return;const ve=r("subscriptions.deleteConfirm",{name:ye.name})??`Eliminar ${ye.name}? Tambin se borrar su evento en Google Calendar si existe.`;if(!window.confirm(ve))return;const Oe=ye.calendar?.eventId,j=ye.calendar?.calendarId??"primary",V=fe.filter(U=>U.id!==ee);y.current=V,u&&(yn.current=sd(V)),e(V),_===ee&&ai(),s.success(r("subscriptions.toastDeleted")??"Suscripcin eliminada."),p(V),Oe&&(async()=>{try{await qm({calendarId:j,eventId:Oe,interactive:!0}),s.success(r("subscriptions.calendarEventDeleted")??"Evento eliminado de Google Calendar.");try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage({type:"RELOAD_CALENDAR"})}catch{}}catch(U){const se=U instanceof Error?U.message:String(U);s.error((r("subscriptions.calendarDeleteFailed")??"No se pudo borrar el evento en Google Calendar.")+(se?` ${se}`:""))}})()}async function Tn(ee){const fe=y.current;if(!fe.find(Oe=>Oe.id===ee))return;const ve=fe.filter(Oe=>Oe.id!==ee);y.current=ve,u&&(yn.current=sd(ve)),e(ve),_===ee&&ai(),s.success(r("subscriptions.toastDeleted")??"Suscripcin eliminada."),p(ve);try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage({type:"RELOAD_CALENDAR"})}catch{}}const gn=M.useMemo(()=>sd(t.subscriptions),[t.subscriptions]),yn=M.useRef(gn);M.useEffect(()=>{yn.current=gn},[]);const zr=M.useCallback(async(ee,fe,ye)=>{try{const ve=y.current,Oe=ve.findIndex(nt=>nt.id===ee);if(Oe<0)return{ok:!1,error:"Subscription not found"};const j=ve[Oe];let V=g.current??d.current.calendarSubscriptionsCalendarId??null;V||(V=await Gd({interactive:fe}),g.current=V,n({...d.current,calendarSubscriptionsCalendarId:V}));const U=V??j.calendar?.calendarId??"primary",se=va(j.startDate,j.period,new Date),ce=v0(se),Se=(j.currency||"USD").toUpperCase(),ge=o==="convertToBase"?l:Se,Ce=o==="convertToBase"?jr(j.price,Se,l):j.price,Te=[`${r("subscriptions.detailsAmount")??"Importe"}: ${zn(Ce,ge)}`,`${r("subscriptions.detailsPeriod")??"Periodo"}: ${j.period}`],we=String(j.category||"").trim();we&&Te.push(`${r("subscriptions.filterCategory")??"Categora"}: ${we}`);const De=j.calendar?.eventId,ke=j.calendar?.calendarId,$e=!!(De&&ke&&ke!==U);if($e)try{await qm({calendarId:ke,eventId:De,interactive:fe})}catch{}const We=nt=>{if(!nt||typeof nt!="object")return;const Be=nt.status;return typeof Be=="number"?Be:void 0},ft=(nt,Be)=>{const vn=j.reminder?.enabled?j.reminder?.method==="email"?"email":"popup":d.current.calendarReminderMethod==="email"?"email":"popup",xn=(!!j.reminder?.enabled?Math.max(0,Math.trunc(Number(j.reminder?.daysBefore??1))):Math.max(0,Math.trunc(Number(d.current.calendarReminderDaysBefore??1))))*24*60;return{calendarId:nt,eventId:Be,summary:`${j.name}  ${r("subscriptions.renewal")??"Renovacin"}`,description:Te.join(`
`),startDateYmd:ce,period:j.period,reminderMinutes:xn,reminderMethod:vn,interactive:fe}};let Ze,vt=!1;try{const nt=ye?.forceCreate||$e?void 0:j.calendar?.eventId,Be={...ft(U,nt),throwOnMissingEvent:!1};Ze=await bd(Be)}catch(nt){const Be=We(nt);if(Be===401||Be===403)throw nt;try{const vn=await Gd({interactive:fe});g.current=vn,n({...d.current,calendarSubscriptionsCalendarId:vn}),Ze=await bd(ft(vn,void 0)),vt=!0;try{console.debug("Subscriptions: recreated event in ensured calendar",vn,j.id)}catch{}}catch{try{Ze=await bd(ft("primary",void 0)),vt=!0;try{console.debug("Subscriptions: recreated event in primary calendar",j.id)}catch{}}catch{throw nt}}}if(j.calendar?.eventId&&Ze?.eventId&&j.calendar.eventId!==Ze.eventId){vt=!0;try{console.debug("Subscriptions: detected recreated eventId",j.id,j.calendar.eventId,"->",Ze.eventId)}catch{}}const qe=ve.slice();if(qe[Oe]={...j,calendar:{...Ze,lastError:void 0}},e(qe),vt)try{s.success(r("subscriptions.missingRecreated")??"Evento recreado en Calendar.")}catch{}return{ok:!0}}catch(ve){const Oe=ve instanceof Error?ve.message:String(ve),j=y.current,V=j.findIndex(U=>U.id===ee);if(V>=0){const U=j[V],se=j.slice();se[V]={...U,calendar:{...U.calendar??{calendarId:"primary"},lastError:Oe,syncedAt:U.calendar?.syncedAt}},e(se)}return{ok:!1,error:Oe}}},[l,o,n,e,r]),Fi=M.useCallback(async ee=>{if(!w){v(!0);try{const fe=y.current;let ye=0,ve=0,Oe=null;for(const V of fe){const U=await zr(V.id,ee,{quiet:!0});U.ok?ye+=1:(ve+=1,!Oe&&U.error&&(Oe=U.error))}const j=r("subscriptions.syncAllDone",{ok:ye,fail:ve})??`Sync: ${ye} ok, ${ve} fail`;ve>0?s.error(ve>0&&Oe?`${j} (${Oe})`:j):s.success(j)}finally{v(!1);try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage({type:"RELOAD_CALENDAR"})}catch{}}}},[w,zr,r,s]);M.useEffect(()=>{if(!u){yn.current=gn;return}w||yn.current!==gn&&(yn.current=gn,Fi(!1))},[u,Fi,w,gn]);const En=M.useMemo(()=>i==="es"?["Streaming","Software","Msica","Juegos","Productividad","Educacin","Salud","Otros"]:["Streaming","Software","Music","Games","Productivity","Education","Health","Other"],[i]),Ls=M.useMemo(()=>[{value:"monthly",label:r("subscriptions.periodMonthly")??"Mensual"},{value:"quarterly",label:r("subscriptions.periodQuarterly")??"Trimestral"},{value:"semiannual",label:r("subscriptions.periodSemiannual")??"Semestral"},{value:"annual",label:r("subscriptions.periodAnnual")??"Anual"}],[r]),Br=M.useMemo(()=>({monthly:r("subscriptions.periodMonthly")??"Mensual",quarterly:r("subscriptions.periodQuarterly")??"Trimestral",semiannual:r("subscriptions.periodSemiannual")??"Semestral",annual:r("subscriptions.periodAnnual")??"Anual"}),[r]),Ii=M.useMemo(()=>{const ee=new Set;for(const fe of t.subscriptions){const ye=String(fe.currency||"").trim().toUpperCase();ye&&ee.add(ye)}return ee.add(l),Array.from(ee).sort((fe,ye)=>fe.localeCompare(ye))},[l,t.subscriptions]),zi=2,lr=M.useMemo(()=>{const ee=new Date,fe=new Date(ee);return fe.setDate(fe.getDate()+zi),t.subscriptions.map(ye=>{const ve=va(ye.startDate,ye.period,ee),Oe=(ye.currency||"USD").toUpperCase(),j=jr(C4(ye),Oe,l),V=ve.getTime()<=fe.getTime();return{...ye,rawCurrency:Oe,nextRenewal:ve,dueSoon:V,monthlyEqBase:j}})},[l,t.subscriptions]),zt=M.useMemo(()=>{const ee=t.subscriptions.length;if(ee===0)return{count:ee,avgMonthlyBase:0,highest:null,dueSoonCount:0,nextDueDate:null,topCategory:null};const fe=new Map;let ye=0,ve=null,Oe=0,j=null;for(const U of lr){ye+=U.monthlyEqBase,(!ve||U.monthlyEqBase>ve.valueBase)&&(ve={name:U.name,valueBase:U.monthlyEqBase}),U.dueSoon&&(Oe+=1),(!j||U.nextRenewal.getTime()<j.getTime())&&(j=U.nextRenewal);const se=String(U.category||"").trim()||(r("common.uncategorized")??"Sin categora");fe.set(se,(fe.get(se)??0)+U.monthlyEqBase)}let V=null;if(ye>0&&fe.size>0){let U=null;for(const[se,ce]of fe.entries())(!U||ce>U.value)&&(U={label:se,value:ce});U&&(V={label:U.label,percent:Math.round(U.value/ye*100)})}return{count:ee,avgMonthlyBase:ye/ee,highest:ve,dueSoonCount:Oe,nextDueDate:j,topCategory:V}},[lr,t.subscriptions.length,r]),kr=M.useCallback(()=>{Z(""),Q(""),re(""),z(""),q(""),A("")},[]),Yn=M.useMemo(()=>!!(T.trim()||W.trim()||K.trim()||Y||L.trim()||X.trim()),[W,K,X,L,Y,T]),js=M.useMemo(()=>{const ee=T.trim().toLowerCase(),fe=L.trim()?Number(L):null,ye=X.trim()?Number(X):null;return lr.filter(ve=>W.trim()&&String(ve.category||"").trim().toLowerCase()!==W.trim().toLowerCase()||K.trim()&&ve.rawCurrency!==K.trim().toUpperCase()||Y&&ve.period!==Y||fe!==null&&Number.isFinite(fe)&&ve.price<fe||ye!==null&&Number.isFinite(ye)&&ve.price>ye?!1:ee?[ve.name,ve.category,ve.rawCurrency,ve.period,Br[ve.period],String(ve.price),zn(ve.price,ve.rawCurrency)].some(j=>String(j||"").toLowerCase().includes(ee)):!0)},[lr,W,K,X,L,Y,Br,T]),Os=M.useCallback(ee=>{G(fe=>fe.column===ee?{column:ee,direction:fe.direction==="asc"?"desc":"asc"}:{column:ee,direction:"asc"})},[]),ci=M.useMemo(()=>{const ee=new Intl.Collator(void 0,{sensitivity:"base"}),fe=F.direction==="asc"?1:-1,ye=Oe=>{const j=Date.parse(`${String(Oe||"").slice(0,10)}T00:00:00`);return Number.isFinite(j)?j:0},ve=(Oe,j)=>{switch(F.column){case"name":return ee.compare(Oe.name,j.name)*fe;case"price":return(Oe.price-j.price)*fe;case"startDate":return(ye(Oe.startDate)-ye(j.startDate))*fe;case"category":{const V=String(Oe.category||"").trim()||(r("common.uncategorized")??"Sin categora"),U=String(j.category||"").trim()||(r("common.uncategorized")??"Sin categora");return ee.compare(V,U)*fe}default:return(Oe.nextRenewal.getTime()-j.nextRenewal.getTime())*fe}};return[...js].sort(ve)},[js,F.column,F.direction]),Mr=({column:ee,label:fe})=>{const ye=F.column===ee;return b.jsxs("button",{type:"button",onClick:()=>Os(ee),"aria-pressed":ye,className:"group inline-flex w-full items-center justify-center gap-1.5 rounded-md px-2 py-1 text-center text-xs font-bold uppercase tracking-wide hover:bg-slate-100 dark:hover:bg-slate-800 "+(ye?"bg-indigo-50 text-indigo-950 ring-1 ring-inset ring-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-100 dark:ring-indigo-700":"text-slate-700 dark:text-slate-200"),children:[b.jsx("span",{className:"truncate",children:fe}),b.jsx("svg",{className:`h-3.5 w-3.5 flex-none transition-transform ${ye?"opacity-100":"opacity-40 group-hover:opacity-70"} ${ye&&F.direction==="desc"?"rotate-180":""}`,viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:b.jsx("path",{d:"M3 10l3-5 3 5"})})]})};return M.useEffect(()=>{if(!E)return;const ee=window.setTimeout(()=>{R.current?.focus()},0),fe=ye=>{ye.key==="Escape"&&mn()};return window.addEventListener("keydown",fe),()=>{window.clearTimeout(ee),window.removeEventListener("keydown",fe)}},[E]),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:b.jsx(In,{colors:id,children:r("subscriptions.listTitle")??"Listado"})}),b.jsx("div",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:r("subscriptions.subtitle")??""})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[t.subscriptions.length>0&&b.jsxs("button",{type:"button",className:"inline-flex h-9 w-9 items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:opacity-60",disabled:w,onClick:()=>Fi(!0),title:r("subscriptions.syncAll")??"Sincronizar todas","aria-label":r("subscriptions.syncAll")??"Sincronizar todas","aria-busy":w,children:[w?b.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 opacity-70",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[b.jsx("path",{d:"M12 2v4"}),b.jsx("path",{d:"M12 18v4"}),b.jsx("path",{d:"M4.93 4.93l2.83 2.83"}),b.jsx("path",{d:"M16.24 16.24l2.83 2.83"}),b.jsx("path",{d:"M2 12h4"}),b.jsx("path",{d:"M18 12h4"}),b.jsx("path",{d:"M4.93 19.07l2.83-2.83"}),b.jsx("path",{d:"M16.24 7.76l2.83-2.83"})]}):b.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[b.jsx("path",{d:"M21 12a9 9 0 0 0-15.5-6.36"}),b.jsx("path",{d:"M3 4v6h6"}),b.jsx("path",{d:"M3 12a9 9 0 0 0 15.5 6.36"}),b.jsx("path",{d:"M21 20v-6h-6"})]}),b.jsx("span",{className:"sr-only",children:w?r("subscriptions.syncing")??"Sincronizando":r("subscriptions.syncAll")??"Sincronizar todas"})]}),b.jsx("button",{type:"button",className:"rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:bg-indigo-500",onClick:Ir,children:r("subscriptions.addSubscription")??"Aadir suscripcin"})]})]}),b.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[b.jsxs("div",{className:"flex items-end justify-between gap-3",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:b.jsx(In,{colors:id,children:r("subscriptions.insightsTitle")??"Resumen"})}),b.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:r("subscriptions.insightsHint",{currency:l})??""})]}),b.jsx("div",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:r("subscriptions.insightsDueWindow",{days:zi})??""})]}),t.subscriptions.length===0?b.jsx("div",{className:"mt-3 text-sm text-slate-500",children:r("subscriptions.noSubscriptions")??"No hay suscripciones an."}):b.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[b.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsCount")??"Suscripciones"}),b.jsx("div",{className:"mt-1 text-2xl font-black text-slate-900 dark:text-white",children:zt.count})]}),b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[b.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsAvgMonthly")??"Media mensual"}),b.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:zn(zt.avgMonthlyBase,l)}),b.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:r("subscriptions.insightsAvgMonthlyHelper",{currency:l})??""})]}),b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[b.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsUpcoming")??"Prximas"}),b.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:r("subscriptions.insightsUpcomingValue",{count:zt.dueSoonCount})??String(zt.dueSoonCount)}),b.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:zt.nextDueDate?r("subscriptions.insightsUpcomingHelper",{date:zt.nextDueDate.toLocaleDateString(Qp(i))})??"":r("common.none")??""})]}),b.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[b.jsx("div",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 dark:text-slate-300",children:r("subscriptions.insightsTopCategory")??"Top categora"}),b.jsx("div",{className:"mt-1 text-lg font-extrabold text-slate-900 dark:text-white",children:zt.topCategory?zt.topCategory.label:r("common.none")??""}),b.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:zt.topCategory?r("subscriptions.insightsTopCategoryHelper",{percent:zt.topCategory.percent})??"":""})]})]})]}),b.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[b.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[b.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[b.jsxs("div",{className:"relative w-full",children:[b.jsx("svg",{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",viewBox:"0 0 20 20",fill:"none","aria-hidden":"true",children:b.jsx("path",{d:"M8.5 3a5.5 5.5 0 014.33 9.02l3.58 3.58-1.06 1.06-3.58-3.58A5.5 5.5 0 118.5 3zm0 1.5a4 4 0 100 8 4 4 0 000-8z",fill:"currentColor"})}),b.jsx("input",{type:"search",value:T,onChange:ee=>A(ee.target.value),placeholder:r("subscriptions.searchPlaceholder")??"Buscar","aria-label":r("subscriptions.searchPlaceholder")??"Buscar",className:"w-full rounded-md border border-slate-300 bg-white py-2 pl-9 pr-3 text-sm dark:border-slate-700 dark:bg-slate-950",autoComplete:"off"})]}),b.jsx("button",{type:"button",className:`rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800 ${O?"bg-slate-100 dark:bg-slate-800":""}`,onClick:()=>$(ee=>!ee),"aria-pressed":O,children:r("subscriptions.filtersToggle")??"Filtros"}),Yn?b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:kr,children:r("common.clear")??"Limpiar"}):null]}),b.jsx("div",{className:"text-sm font-semibold text-slate-600 dark:text-slate-300",children:r("subscriptions.resultsCount",{count:ci.length})??`${ci.length}`})]}),O?b.jsx("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:b.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterCategory")??"Categora"}),b.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:W,onChange:ee=>Z(ee.target.value),children:[b.jsx("option",{value:"",children:r("common.none")??""}),Array.from(new Set(lr.map(ee=>String(ee.category||"").trim()).filter(Boolean))).sort((ee,fe)=>ee.localeCompare(fe)).map(ee=>b.jsx("option",{value:ee,children:ee},ee))]})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterCurrency")??"Moneda"}),b.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:K,onChange:ee=>Q(ee.target.value),children:[b.jsx("option",{value:"",children:r("common.none")??""}),Ii.map(ee=>b.jsx("option",{value:ee,children:ee},ee))]})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterPeriod")??"Periodo"}),b.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Y,onChange:ee=>re(ee.target.value),children:[b.jsx("option",{value:"",children:r("common.none")??""}),Ls.map(ee=>b.jsx("option",{value:ee.value,children:ee.label},ee.value))]})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterMinPrice")??"Precio mn."}),b.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:L,onChange:ee=>z(ee.target.value)})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.filterMaxPrice")??"Precio mx."}),b.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:X,onChange:ee=>q(ee.target.value)})]})]})}):null,b.jsx("div",{className:"mt-3 overflow-x-auto",children:b.jsxs("table",{className:"w-full min-w-[700px] table-fixed border-separate border-spacing-0 text-xs",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"text-center",children:[b.jsx("th",{className:"sticky top-0 z-10 w-32 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:b.jsx(Mr,{column:"name",label:r("subscriptions.columnName")??"Nombre"})}),b.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:b.jsx(Mr,{column:"price",label:r("subscriptions.columnPrice")??"Importe"})}),b.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:b.jsx(Mr,{column:"startDate",label:r("subscriptions.columnStart")??"Inicio"})}),b.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:b.jsx(Mr,{column:"nextRenewal",label:r("subscriptions.columnNext")??"Prximo"})}),b.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:b.jsx(Mr,{column:"category",label:r("subscriptions.columnCategory")??"Categora"})}),b.jsx("th",{className:"sticky top-0 z-10 w-24 border-b border-slate-200 bg-white py-1.5 dark:border-slate-800 dark:bg-slate-900",children:b.jsx("span",{className:"block w-full text-center text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-200",children:r("subscriptions.columnActions")??"Acciones"})})]})}),b.jsx("tbody",{children:ci.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:6,className:"py-6 text-center text-sm text-slate-500",children:Yn?r("subscriptions.emptyFiltered")??"Sin resultados con los filtros actuales.":r("subscriptions.noSubscriptions")??"No hay suscripciones an."})}):ci.map(ee=>{const fe=o==="convertToBase"?l:ee.rawCurrency,ye=o==="convertToBase"?jr(ee.price,ee.rawCurrency,l):ee.price,ve=String(ee.category||"").trim();return b.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 dark:border-slate-800/60 dark:hover:bg-slate-800/30",children:[b.jsxs("td",{className:"px-2 py-1.5 text-center",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("div",{className:"min-w-0 truncate font-semibold text-slate-900 dark:text-white",children:ee.name}),ee.dueSoon?b.jsx("span",{className:"rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-700 dark:bg-amber-900/40 dark:text-amber-200",children:r("subscriptions.dueSoon")??"Pronto"}):null]}),b.jsx("div",{className:"mt-0.5 whitespace-nowrap text-center text-[11px] text-slate-500 dark:text-slate-400",children:Br[ee.period]})]}),b.jsx("td",{className:"px-2 py-1.5 text-center font-semibold text-slate-900 dark:text-white",children:zn(ye,fe)}),b.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:new Date(ee.startDate).toLocaleDateString(Qp(i))}),b.jsx("td",{className:"px-2 py-1.5 whitespace-nowrap text-center text-slate-600 dark:text-slate-300",children:ee.nextRenewal.toLocaleDateString(Qp(i))}),b.jsx("td",{className:"px-2 py-1.5 truncate text-center text-slate-600 dark:text-slate-300",children:ve||(r("common.uncategorized")??"Sin categora")}),b.jsx("td",{className:"py-1.5",children:b.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[b.jsxs("button",{type:"button","aria-label":r("common.edit")??"Editar",title:r("common.edit")??"Editar",className:"inline-flex items-center justify-center rounded-md bg-amber-600/80 px-2 py-1 text-[11px] font-semibold text-white hover:bg-amber-500/80",onClick:()=>Ns(ee),children:[b.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[b.jsx("path",{d:"M12 20h9"}),b.jsx("path",{d:"M16.5 3.5a2.1 2.1 0 0 1 3 3L8 18l-4 1 1-4 11.5-11.5z"})]}),b.jsx("span",{className:"sr-only",children:r("common.edit")??"Editar"})]}),b.jsxs("button",{type:"button","aria-label":r("common.delete")??"Eliminar",title:r("common.delete")??"Eliminar",className:"inline-flex items-center justify-center rounded-md bg-rose-600 px-2 py-1 text-[11px] font-semibold text-white hover:bg-rose-500",onClick:()=>rn(ee.id),children:[b.jsxs("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[b.jsx("path",{d:"M3 6h18"}),b.jsx("path",{d:"M8 6V4h8v2"}),b.jsx("path",{d:"M6 6l1 14h10l1-14"}),b.jsx("path",{d:"M10 11v6"}),b.jsx("path",{d:"M14 11v6"})]}),b.jsx("span",{className:"sr-only",children:r("common.delete")??"Eliminar"})]})]})})]},ee.id)})})]})})]}),E?b.jsxs("div",{className:"fixed inset-0 z-50",children:[b.jsx("div",{className:"absolute inset-0 bg-slate-950/50",onClick:mn}),b.jsx("div",{className:"relative mx-auto w-full max-w-3xl px-4 py-6",children:b.jsxs("div",{role:"dialog","aria-modal":"true",className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[b.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:b.jsx(In,{colors:id,children:oe?r("subscriptions.editSubscription")??"Editar suscripcin":r("subscriptions.addSubscriptionTitle")??"Aadir suscripcin"})}),b.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-2",children:[b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.name")??"Nombre"}),b.jsx("input",{ref:R,className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:ie,onChange:ee=>ue(ee.target.value)})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.category")??"Categora"}),b.jsx("input",{list:"subly-categories",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:pe,onChange:ee=>Re(ee.target.value),placeholder:r("subscriptions.categoryPlaceholder")??"Ej: Streaming"}),b.jsx("datalist",{id:"subly-categories",children:En.map(ee=>b.jsx("option",{value:ee},ee))})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.amount")??"Importe"}),b.jsx("input",{type:"number",inputMode:"decimal",step:"0.01",min:"0",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Pe,onChange:ee=>Le(ee.target.value)})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.currency")??"Moneda"}),b.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Ke,onChange:ee=>It(ee.target.value),children:So.map(ee=>b.jsxs("option",{value:ee.code,children:[ee.code," (",ee.symbol,")  ",ee.names[i]]},ee.code))})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.period")??"Periodo"}),b.jsx("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Fe,onChange:ee=>ze(ee.target.value),children:Ls.map(ee=>b.jsx("option",{value:ee.value,children:ee.label},ee.value))})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold",children:r("subscriptions.startDate")??"Fecha inicio"}),b.jsx("input",{type:"date",className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 dark:border-slate-700 dark:bg-slate-950",value:Dt,onChange:ee=>Lt(ee.target.value)})]})]}),b.jsxs("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-800 dark:bg-slate-950/40",children:[b.jsx("div",{className:"text-base font-bold text-slate-700 dark:text-slate-200",children:b.jsx(In,{colors:id,children:r("subscriptions.remindersTitle")??"Avisos de renovacin"})}),b.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:(()=>{const ee=ct?Math.max(0,Math.min(365,Math.trunc(Number(Ht)))):Math.max(0,Math.trunc(Number(t.settings.calendarReminderDaysBefore??1))),fe=ct?nn==="email"?"email":"popup":t.settings.calendarReminderMethod==="email"?"email":"popup";return ee<=0?r("subscriptions.reminderSummaryNone")??"No recibirs notificaciones antes de la renovacin.":fe==="email"?(ee===1?r("subscriptions.reminderSummaryEmailOne"):r("subscriptions.reminderSummaryEmailMany",{days:ee}))??`Recibirs un email ${ee} das antes de la renovacin.`:(ee===1?r("subscriptions.reminderSummaryNotificationOne"):r("subscriptions.reminderSummaryNotificationMany",{days:ee}))??`Recibirs una notificacin ${ee} das antes de la renovacin.`})()}),b.jsxs("label",{className:"mt-3 flex items-start gap-3 text-sm",children:[b.jsx("input",{type:"checkbox",className:"mt-1 h-4 w-4",checked:ct,onChange:ee=>Kt(ee.target.checked)}),b.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:r("subscriptions.reminderUseCustom")??"Usar recordatorio personalizado"})]}),ct?b.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[b.jsxs("label",{className:"text-xs text-slate-600 dark:text-slate-300",children:[b.jsx("div",{className:"mb-1 font-semibold text-slate-700 dark:text-slate-200",children:r("subscriptions.reminderDaysBefore")??"Das antes"}),b.jsx("input",{type:"number",min:0,max:365,value:Ht,onChange:ee=>Qt(Math.max(0,Math.min(365,Math.trunc(Number(ee.target.value))))),className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-950"})]}),b.jsxs("label",{className:"text-xs text-slate-600 dark:text-slate-300",children:[b.jsx("div",{className:"mb-1 font-semibold text-slate-700 dark:text-slate-200",children:r("subscriptions.reminderMethodLabel")??"Tipo"}),b.jsxs("select",{className:"w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-950",value:nn,onChange:ee=>Mn(ee.target.value==="email"?"email":"popup"),children:[b.jsx("option",{value:"popup",children:r("subscriptions.reminderMethodPopup")??"Notificacin"}),b.jsx("option",{value:"email",children:r("subscriptions.reminderMethodEmail")??"Email"})]})]})]}):null]}),b.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[b.jsx("button",{type:"button",disabled:!oi,"aria-disabled":!oi,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500 disabled:cursor-not-allowed disabled:opacity-60",onClick:li,children:oe?r("common.save")??"Guardar":r("common.add")??"Aadir"}),b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",onClick:mn,children:r("common.cancel")??"Cancelar"}),oi?null:b.jsx("div",{className:"flex items-center text-sm text-slate-600 dark:text-slate-300",children:r("subscriptions.helpIncomplete")??"Completa nombre, importe y fecha."})]})]})})]}):null,P?b.jsxs("div",{className:"fixed inset-0 z-50",children:[b.jsx("div",{className:"absolute inset-0 bg-slate-950/50",onClick:()=>N(null)}),b.jsx("div",{className:"relative mx-auto w-full max-w-2xl px-4 py-6",children:b.jsxs("div",{role:"dialog","aria-modal":"true",className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900",children:[b.jsx("div",{className:"text-base font-extrabold text-slate-700 dark:text-slate-200 sm:text-lg",children:r("subscriptions.missingTitle")??"Evento no encontrado"}),b.jsx("div",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:r("subscriptions.missingBody",{name:P.name})??`El evento asociado a ${P.name} no existe en Google Calendar.`}),b.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[b.jsx("button",{type:"button",className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500",onClick:async()=>{const ee=P.id;N(null);const fe=await zr(ee,!0,{forceCreate:!0});fe.ok?s.success(r("subscriptions.missingRecreated")??"Evento recreado en Calendar."):s.error((r("subscriptions.syncFailed")??"Error al sincronizar.")+(fe.error?` ${fe.error}`:""))},children:r("subscriptions.missingActionRecreate")??"Recrear evento"}),b.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-500",onClick:async()=>{const ee=P.id;N(null),await Tn(ee)},children:r("subscriptions.missingActionDelete")??"Eliminar suscripcin"}),b.jsx("button",{type:"button",className:"rounded-md border border-slate-300 px-4 py-2 text-sm font-semibold hover:bg-slate-100",onClick:()=>{const ee=y.current,fe=ee.findIndex(ye=>ye.id===P.id);if(fe>=0){const ye=ee[fe],ve=ee.slice();ve[fe]={...ye,calendar:{...ye.calendar??{calendarId:"primary"},lastError:void 0,syncedAt:ye.calendar?.syncedAt}},e(ve)}N(null)},children:r("subscriptions.missingActionIgnore")??"Ignorar"})]})]})})]}):null]})}function F2(){return typeof chrome<"u"&&!!chrome.identity}function M4(t){if(!F2())throw new Error("Google auth requires Chrome Extension environment.");return new Promise((e,n)=>{chrome.identity.getAuthToken({interactive:t},r=>{const i=chrome.runtime.lastError;if(i){n(new Error(i.message||"OAuth token error"));return}if(!r){n(new Error("No OAuth token received"));return}e(r)})})}async function T4(t){F2()&&await new Promise(e=>{chrome.identity.removeCachedAuthToken({token:t},()=>e())})}async function E4(t){const e=new URLSearchParams({token:t});await fetch("https://oauth2.googleapis.com/revoke",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).catch(()=>{})}async function P4(t){const e=t?.interactive;let n;try{n=await M4(e)}catch{return{hadToken:!1}}return await E4(n),await T4(n),{hadToken:!0}}function D4(t,e){const n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=t,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(r)}function R4(t){return t==="monthly"||t==="quarterly"||t==="semiannual"||t==="annual"}function A4(t){return typeof t=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(t)}function N4(t){const e=typeof t=="string"?t.trim().toUpperCase():"";return e&&So.some(r=>r.code===e)?e:"USD"}function L4(t){const e=typeof t?.name=="string"?t.name.trim():"";if(!e)return null;const n=Number(t?.price);if(!Number.isFinite(n))return null;const r=t?.period;if(!R4(r))return null;const i=t?.startDate;if(!A4(i))return null;const s=N4(t?.currency),o=typeof t?.category=="string"?t.category.trim():"";return{id:typeof t?.id=="string"&&t.id.trim()?t.id.trim():TC(),name:e,category:o||void 0,price:n,currency:s,period:r,startDate:i}}function j4({items:t,onImport:e,exportButtonClass:n,importLabelClass:r,containerClass:i}){const{t:s}=Ds(),[o,l]=M.useState(null),u=ph(),d=M.useMemo(()=>{const g=new Date,y=g.getFullYear(),w=String(g.getMonth()+1).padStart(2,"0"),v=String(g.getDate()).padStart(2,"0");return`subly-subscriptions-${y}${w}${v}.json`},[]);function f(){D4(d,t),u.success(s("common.exported")??"Exportado.")}function p(g){l(null);const y=new FileReader;y.onload=()=>{try{const w=JSON.parse(String(y.result??"null"));if(!Array.isArray(w))throw new Error("Invalid structure");const v=[];for(const C of w){const E=L4(C);E&&v.push(E)}if(v.length===0)throw new Error("No valid items");const _=new Map;for(const C of t)_.set(C.id,C);for(const C of v)_.set(C.id,C);e(Array.from(_.values())),l({type:"success",message:s("common.importedCount",{count:v.length})??`Importadas: ${v.length}`})}catch{l({type:"error",message:s("common.importFailed")??"Importacin fallida (JSON invlido o estructura incorrecta)."})}},y.readAsText(g)}return b.jsxs("div",{className:i??"flex items-center gap-2",children:[b.jsx("button",{type:"button",onClick:f,className:n??"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:s("common.exportJson")??"Exportar JSON"}),b.jsxs("label",{className:r??"rounded-md border border-slate-300 px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:border-slate-700 dark:hover:bg-slate-800",children:[s("common.importJson")??"Importar JSON",b.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:g=>{const y=g.target.files?.[0];g.target.value="",y&&p(y)}})]}),o?b.jsx("div",{className:o.type==="error"?"text-sm text-rose-600 dark:text-rose-300":"text-sm text-emerald-700 dark:text-emerald-300",children:o.message}):null]})}function Fn({title:t,description:e,tone:n="neutral",hideHeader:r=!1,children:i}){const s={neutral:"bg-gradient-to-br from-slate-900 via-slate-950/60 to-slate-950",blue:"bg-gradient-to-br from-sky-950/80 via-slate-900 to-sky-950/30",blueGradient:"bg-slate-950 bg-[radial-gradient(circle_at_top_left,rgba(56,189,248,0.28),transparent_55%),radial-gradient(circle_at_bottom_right,rgba(167,139,250,0.22),transparent_55%)]",teal:"bg-gradient-to-br from-teal-950/80 via-slate-900 to-teal-950/30",amber:"bg-gradient-to-br from-amber-950/95 via-slate-800/80 to-amber-950/15",violet:"bg-gradient-to-br from-violet-950/80 via-slate-900 to-violet-950/30",fuchsia:"bg-gradient-to-br from-fuchsia-950/70 via-slate-900 to-fuchsia-950/30",indigo:"bg-gradient-to-br from-indigo-950/80 via-slate-900 to-indigo-950/30",slate:"bg-gradient-to-br from-slate-950/70 via-slate-900 to-slate-950/30",emerald:"bg-gradient-to-br from-emerald-950/80 via-slate-900 to-emerald-950/30",cyan:"bg-gradient-to-br from-cyan-950/80 via-slate-900 to-cyan-950/30",rose:"bg-gradient-to-br from-rose-950/80 via-slate-900 to-rose-950/30"};return b.jsx("div",{className:`rounded-xl border border-white/60 ${s[n]}`,children:b.jsxs("div",{className:"p-4",children:[!r&&(t||e)&&b.jsxs("div",{className:"min-w-0",children:[t&&b.jsx("div",{className:"text-sm font-semibold text-slate-200",children:t}),e&&b.jsx("div",{className:"mt-2 text-xs text-slate-400",children:e})]}),b.jsx("div",{className:!r&&(t||e)?"mt-3":"",children:i})]})})}function od({title:t,description:e,defaultOpen:n=!1,gradientColors:r=["#38BDF8","#A78BFA","#FB7185"],titleShowBorder:i=!1,titleUppercase:s=!0,children:o}){const l=M.useId(),[u,d]=M.useState(n);return b.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900",children:[b.jsxs("button",{type:"button",className:"flex w-full items-start justify-between gap-3 p-4 text-left",onClick:()=>d(f=>!f),"aria-expanded":u,"aria-controls":l,children:[b.jsxs("div",{className:"min-w-0",children:[b.jsx(In,{className:s?"text-sm font-bold uppercase tracking-wide":"text-sm font-bold",colors:r,animationSpeed:10,showBorder:i,direction:"horizontal",pauseOnHover:!0,yoyo:!0,children:t}),e&&b.jsx("div",{className:"mt-2 text-xs text-slate-400",children:e})]}),b.jsx("div",{className:"mt-0.5 shrink-0 text-slate-400",children:b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:u?"rotate-180 transition-transform":"transition-transform","aria-hidden":"true",children:b.jsx("path",{d:"M6 9l6 6 6-6"})})})]}),b.jsx("div",{id:l,className:u?"space-y-3 px-4 pb-4":"hidden space-y-3 px-4 pb-4",children:o})]})}function O4(){const{state:t,setSettings:e,setSubscriptions:n}=Da(),{t:r,language:i}=Ds(),s=ph(),[o,l]=M.useState({open:!1});function u(L){l({open:!0,...L})}function d(){l({open:!1})}function f(){return o.open?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:b.jsxs("div",{className:"max-w-lg rounded-lg bg-slate-900 p-6",children:[b.jsx("div",{className:"text-lg font-semibold text-slate-100",children:o.title}),b.jsx("div",{className:"mt-3 text-sm text-slate-300",children:o.message}),b.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[b.jsx("button",{type:"button",className:"rounded-md bg-slate-700 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-600",onClick:()=>{d()},children:r("common.cancel")??"Cancelar"}),b.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-500",onClick:()=>{try{o.onConfirm&&o.onConfirm()}catch{}},children:o.confirmLabel??r("common.confirm")??"Confirmar"})]})]})}):null}const[p,g]=M.useState(null),[y,w]=M.useState(""),v=M.useMemo(()=>{const L=String(t.settings.driveLastBackupAt||"").trim();if(!L)return r("common.none")??"";const z=new Date(L);return Number.isNaN(z.getTime())?L:z.toLocaleString(i==="es"?"es-ES":"en-US")},[i,t.settings.driveLastBackupAt,r]);function _(L){e({...t.settings,language:L})}function C(L){e({...t.settings,currencyDisplayMode:L})}function E(L){e({...t.settings,baseCurrency:String(L||"USD").trim().toUpperCase()})}function k(L){e({...t.settings,calendarAutoSyncAll:L})}function R(L){e({...t.settings,calendarFloatingButtonEnabled:L})}function P(L){const z=Number.isFinite(L)?Math.trunc(L):0;e({...t.settings,calendarReminderDaysBefore:Math.max(0,Math.min(365,z))})}function N(L){e({...t.settings,calendarReminderMethod:L==="email"?"email":"popup"})}function T(){e({...t.settings,onboardingCompleted:!1}),s.info(r("settings.onboardingOpened")??"Onboarding abierto.")}async function A(){const L={generatedAt:new Date().toISOString(),language:i,settings:{currencyDisplayMode:t.settings.currencyDisplayMode,baseCurrency:t.settings.baseCurrency,calendarAutoSyncAll:!!t.settings.calendarAutoSyncAll,calendarFloatingButtonEnabled:t.settings.calendarFloatingButtonEnabled!==!1,calendarReminderDaysBefore:Math.max(0,Math.trunc(Number(t.settings.calendarReminderDaysBefore??1))),calendarReminderMethod:t.settings.calendarReminderMethod==="email"?"email":"popup",driveBackupLinked:!!t.settings.driveBackupFileId,driveLastBackupAt:t.settings.driveLastBackupAt||null},subscriptionsCount:t.subscriptions.length},z=JSON.stringify(L,null,2);try{await navigator.clipboard.writeText(z),s.success(r("settings.helpCopied")??"Diagnstico copiado.")}catch{try{window.prompt(r("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto:",z)}catch{s.error(r("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto manualmente.")}}}async function O(){const L=y.trim();if(!L){s.info(r("settings.helpFeedbackEmpty")??"Escribe un comentario antes de copiar.");return}try{await navigator.clipboard.writeText(L),s.success(r("settings.helpFeedbackCopied")??"Comentario copiado.")}catch{try{window.prompt(r("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto:",L)}catch{s.error(r("settings.helpCopyFailed")??"No se pudo copiar automticamente. Copia el texto manualmente.")}}}const $=M.useMemo(()=>{const L=globalThis?.chrome?.runtime?.getURL;return typeof L=="function"?L("PRIVACY.md"):"/PRIVACY.md"},[]),W="https://calendar.google.com/calendar/u/0/r";async function Z(){if(!p){g("save");try{const L=JSON.stringify({version:1,savedAt:new Date().toISOString(),state:t},null,2),z=await O2({json:L,fileId:t.settings.driveBackupFileId,interactive:!0});e({...t.settings,driveBackupFileId:z.fileId,driveLastBackupAt:z.modifiedTime??new Date().toISOString()}),s.success(r("drive.backupSaved")??"Copia guardada en Google Drive.")}catch(L){const z=L instanceof Error?L.message:String(L);s.error((r("drive.backupSaveFailed")??"No se pudo guardar la copia en Google Drive.")+(z?` ${z}`:""))}finally{g(null)}}}async function K(){if(p)return;const L=r("drive.restoreConfirm")??"Esto reemplazar tus datos locales con los de Drive. Continuar?";u({title:r("drive.restoreTitle")??"Restaurar desde Drive",message:L,confirmLabel:r("common.confirm")??"Confirmar",onConfirm:async()=>{g("restore");try{const z=await _4({fileId:t.settings.driveBackupFileId,interactive:!0});let X;try{X=JSON.parse(z.jsonText)}catch{throw new Error("Invalid JSON in Drive backup file.")}const q=X&&typeof X=="object"&&"state"in X?X.state:X,F=Tl(q);n(F.subscriptions),e({...F.settings,driveBackupFileId:z.fileId,driveLastBackupAt:z.modifiedTime??new Date().toISOString()}),s.success(r("drive.backupRestored")??"Datos restaurados desde Google Drive.")}catch(z){const X=z instanceof Error?z.message:String(z);s.error((r("drive.backupRestoreFailed")??"No se pudo restaurar desde Google Drive.")+(X?` ${X}`:""))}finally{g(null),d()}}})}async function Q(){const L=r("settings.googleDisconnectConfirm")??"Esto desconectar Subly de tu cuenta de Google en este navegador. Continuar?";u({title:r("settings.googleDisconnectTitle")??"Desconectar Google",message:L,confirmLabel:r("common.confirm")??"Confirmar",onConfirm:async()=>{try{if(!(await P4({interactive:!1})).hadToken){s.info(r("settings.googleDisconnectNoToken")??"No hay sesin activa que desconectar."),d();return}s.success(r("settings.googleDisconnectDone")??"Desconectado. La prxima vez se pedirn permisos de nuevo.")}catch(z){const X=z instanceof Error?z.message:String(z);s.error(X||"Disconnect failed")}finally{d()}}})}function Y(){const L=r("settings.resetLocalConfirm")??"Esto borrar tus datos locales (suscripciones y ajustes) en este dispositivo. Continuar?";u({title:r("settings.resetLocalTitle")??"Borrar datos locales",message:L,confirmLabel:r("common.confirm")??"Confirmar",onConfirm:()=>{n([]),e({...lo,language:t.settings.language}),s.success(r("settings.resetLocalDone")??"Datos locales borrados.");try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage({type:"RELOAD_CALENDAR"})}catch{}d()}})}async function re(){const L=String(t.settings.calendarSubscriptionsCalendarId||"").trim();if(!L){s.info(r("settings.deleteCalendarNone")??"No hay calendario dedicado configurado.");return}const z=r("settings.deleteCalendarConfirm")??"Se eliminar el calendario y todos los eventos que Subly cre en l. Esta accin no se puede deshacer. Continuar?";u({title:r("settings.deleteCalendarTitle")??"Eliminar calendario dedicado",message:z,confirmLabel:r("common.confirm")??"Confirmar",onConfirm:async()=>{try{await i4({calendarId:L,interactive:!0});const X=t.subscriptions.map(q=>({...q,calendar:void 0}));n(X),e({...t.settings,calendarSubscriptionsCalendarId:void 0}),s.success(r("settings.deleteCalendarDone")??"Calendario dedicado eliminado.");try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage&&chrome.runtime.sendMessage({type:"RELOAD_CALENDAR"})}catch{}}catch(X){const q=X instanceof Error?X.message:String(X);s.error((r("settings.deleteCalendarFailed")??"No se pudo eliminar el calendario dedicado.")+(q?` ${q}`:""))}finally{d()}}})}return b.jsxs("div",{className:"space-y-4",children:[b.jsx(f,{}),b.jsxs(od,{title:r("settings.groupGeneral")??"General",gradientColors:["#E2E8F0","#94A3B8","#A78BFA"],defaultOpen:!0,children:[b.jsx(Fn,{title:r("settings.languageTitle")??"Idioma",description:r("settings.languageDescription")??"Selecciona el idioma de la app.",tone:"blue",children:b.jsxs("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:t.settings.language,onChange:L=>_(L.target.value),children:[b.jsx("option",{value:"es",children:r("common.language.es")??"Espaol"}),b.jsx("option",{value:"en",children:r("common.language.en")??"English"})]})}),b.jsx(Fn,{title:r("settings.currencyTitle")??"Moneda",description:r("settings.currencyHint")??"Al convertir a una sola moneda, los totales y grficos se muestran en la moneda base.",tone:"blue",children:b.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:r("settings.displayAmounts")??"Mostrar importes"}),b.jsxs("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:t.settings.currencyDisplayMode,onChange:L=>C(L.target.value),children:[b.jsx("option",{value:"original",children:r("settings.displayOriginal")??"Con sus monedas originales"}),b.jsx("option",{value:"convertToBase",children:r("settings.displayConvert")??"Convertir a una moneda nica"})]})]}),b.jsxs("label",{className:"text-sm",children:[b.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:r("settings.baseCurrency")??"Moneda base"}),b.jsx("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 disabled:opacity-60",value:t.settings.baseCurrency,onChange:L=>E(L.target.value),disabled:t.settings.currencyDisplayMode!=="convertToBase",children:So.map(L=>b.jsxs("option",{value:L.code,children:[L.code,"  ",L.names[t.settings.language]]},L.code))})]})]})}),b.jsx(Fn,{title:r("settings.onboardingTitle")??"Primeros pasos",description:r("settings.onboardingDescription")??"Puedes volver a ver el onboarding cuando quieras.",tone:"blue",children:b.jsx("button",{type:"button",className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",onClick:T,children:r("settings.openOnboarding")??"Ver onboarding de nuevo"})})]}),b.jsxs(od,{title:r("settings.groupIntegrations")??"Integraciones",gradientColors:["#38BDF8","#A78BFA","#FB7185"],children:[b.jsx(Fn,{tone:"fuchsia",hideHeader:!0,children:b.jsxs("div",{className:"space-y-3",children:[b.jsxs("label",{className:"flex items-start gap-3",children:[b.jsx("input",{type:"checkbox",checked:!!t.settings.calendarAutoSyncAll,onChange:L=>k(L.target.checked),className:"mt-1 h-4 w-4"}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("div",{className:"text-sm font-semibold text-slate-200",children:r("settings.calendarAutoSyncAllLabel")??"Auto-sync de suscripciones"}),b.jsx("div",{className:"mt-1 text-xs text-slate-400",children:r("settings.calendarAutoSyncAllHint")??"Al guardar cambios en Suscripciones, se intentar sincronizar automticamente (si ya diste permiso)."})]})]}),b.jsxs("div",{className:"rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[b.jsx("div",{className:"text-sm font-semibold text-slate-200",children:r("settings.calendarReminderTitle")??"Notificacin por defecto"}),b.jsx("div",{className:"mt-1 text-xs text-slate-400",children:r("settings.calendarReminderHint")??"Se aplica al sincronizar (crear/actualizar) eventos de suscripciones. 0 das desactiva recordatorios."}),b.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[b.jsxs("label",{className:"text-xs text-slate-300",children:[b.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:r("settings.calendarReminderDaysLabel")??"Das antes"}),b.jsx("input",{type:"number",min:0,max:365,value:Math.max(0,Math.trunc(Number(t.settings.calendarReminderDaysBefore??1))),onChange:L=>P(Number(L.target.value)),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100"})]}),b.jsxs("label",{className:"text-xs text-slate-300",children:[b.jsx("div",{className:"mb-1 font-semibold text-slate-200",children:r("settings.calendarReminderMethodLabel")??"Tipo"}),b.jsxs("select",{className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100",value:t.settings.calendarReminderMethod==="email"?"email":"popup",onChange:L=>N(L.target.value==="email"?"email":"popup"),children:[b.jsx("option",{value:"popup",children:r("settings.calendarReminderMethodPopup")??"Notificacin"}),b.jsx("option",{value:"email",children:r("settings.calendarReminderMethodEmail")??"Email"})]})]})]})]}),b.jsx("a",{className:"inline-flex rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500",href:W,target:"_blank",rel:"noreferrer",children:r("settings.openGoogleCalendar")??"Abrir Google Calendar"})]})}),b.jsx(Fn,{title:r("settings.extensionTitle")??"Extensin",description:r("settings.floatingButtonHint")??"Si lo desactivas, podrs abrir Subly solo desde el icono de la extensin (o el panel lateral si ya est abierto).",tone:"fuchsia",children:b.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[b.jsx("input",{type:"checkbox",checked:t.settings.calendarFloatingButtonEnabled!==!1,onChange:L=>R(L.target.checked),className:"h-4 w-4"}),b.jsx("span",{className:"font-semibold text-slate-200",children:r("settings.floatingButtonLabel")??"Mostrar botn flotante en Google Calendar"})]})}),b.jsxs(Fn,{title:r("settings.privacyTitle")??"Permisos",tone:"fuchsia",children:[b.jsx("p",{className:"text-sm text-slate-300",children:r("settings.privacyBody")??"Subly guarda tus datos localmente. Si activas sincronizacin/backup, usa Google OAuth para crear/actualizar eventos en Google Calendar y guardar una copia JSON en Drive (appDataFolder)."}),b.jsx("p",{className:"mt-2 text-xs text-slate-400",children:r("settings.permissionsHint")??"Permisos: identity (OAuth), storage (guardar estado), sidePanel (UI), y acceso a Google APIs + proveedor de tipos de cambio."}),b.jsxs("div",{className:"mt-4",children:[b.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-amber-800/60 bg-amber-950/30 px-4 py-2 text-sm font-semibold text-amber-200 shadow-sm backdrop-blur ring-1 ring-white/10 hover:bg-amber-950/45",onClick:Q,children:r("settings.googleDisconnectLabel")??"Desconectar Google"}),b.jsx("div",{className:"mt-2 text-xs text-slate-400",children:r("settings.googleDisconnectHint")??"Revoca el token OAuth y fuerza a pedir permisos de nuevo la prxima vez. No borra eventos de Calendar ni tu backup en Drive."})]})]}),b.jsx(Fn,{title:r("settings.deleteCalendarTitle")??"Eliminar calendario dedicado",description:r("settings.deleteCalendarDescription")??"Elimina el calendario creado por Subly y todos los eventos asociados.",tone:"rose",children:b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("button",{type:"button",className:"rounded-md border border-rose-700 bg-rose-700/10 px-4 py-2 text-sm font-semibold text-rose-200 hover:bg-rose-700/20",onClick:re,children:r("settings.deleteCalendarLabel")??"Eliminar calendario dedicado"}),b.jsx("div",{className:"text-xs text-slate-400",children:r("settings.deleteCalendarHint")??"Esta accin eliminar permanentemente el calendario y los eventos creados por Subly."})]})})]}),b.jsxs(od,{title:r("settings.groupData")??"Datos y mantenimiento",gradientColors:["#34D399","#A3E635","#60A5FA"],children:[b.jsx(Fn,{title:r("settings.importExportTitle")??"Importar / Exportar JSON",description:r("settings.importExportDescription")??"Exporta o importa tus suscripciones en formato JSON.",tone:"teal",children:b.jsx(j4,{items:t.subscriptions,onImport:n,exportButtonClass:"rounded-md bg-slate-600 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-500",importLabelClass:"rounded-md bg-slate-200 px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-slate-300/90"})}),b.jsxs(Fn,{title:r("drive.title")??"Copia de seguridad",description:r("drive.body")??"Guarda una copia en tu Google Drive y restaura una copia anterior cuando lo necesites.",tone:"emerald",children:[b.jsxs("div",{className:"text-xs font-semibold text-slate-400",children:[r("drive.lastBackup")??"ltima copia",": ",v]}),b.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[b.jsx("button",{type:"button",className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-500 disabled:opacity-60",onClick:Z,disabled:p!==null,children:p==="save"?r("drive.saving")??"Guardando":r("drive.save")??"Guardar copia"}),b.jsx("button",{type:"button",className:"rounded-md bg-slate-100 px-4 py-2 text-sm font-semibold text-slate-900 hover:bg-slate-300/90 disabled:opacity-60",onClick:K,disabled:p!==null,children:p==="restore"?r("drive.restoring")??"Restaurando":r("drive.restore")??"Restaurar copia"})]})]}),b.jsx(Fn,{title:r("settings.helpPrivacyQ")??"Privacidad",description:r("settings.helpPrivacyA")??"Tus datos se guardan localmente. Solo si activas integraciones, Subly usa Google OAuth para Calendar y/o guardar un backup JSON en Drive (appDataFolder).",tone:"cyan",children:b.jsx("a",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",href:$,target:"_blank",rel:"noreferrer",children:r("settings.helpPrivacyOpen")??"Abrir poltica de privacidad"})}),b.jsx(Fn,{title:r("settings.dataTitle")??"Datos",description:r("settings.resetLocalHint")??"Elimina suscripciones y restablece ajustes de este dispositivo. No borra tu copia en Drive ni eventos ya creados en Calendar.",tone:"rose",children:b.jsx("div",{className:"flex flex-col gap-2 sm:flex-row",children:b.jsx("button",{type:"button",className:"rounded-md bg-rose-600 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-500",onClick:Y,children:r("settings.resetLocalLabel")??"Borrar datos locales"})})})]}),b.jsxs(od,{title:r("settings.groupHelp")??"Ayuda",gradientColors:["#94A3B8","#E2E8F0","#A78BFA"],children:[b.jsx(Fn,{title:r("settings.helpFaqTitle")??"FAQ",description:r("settings.helpFaqDescription")??"Respuestas rpidas y solucin de problemas.",tone:"amber",children:b.jsxs("div",{className:"space-y-2 text-sm",children:[b.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[b.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[b.jsx("span",{children:r("settings.helpOpenPanelQ")??"Cmo abro el panel?"}),b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:b.jsx("path",{d:"M6 9l6 6 6-6"})})]}),b.jsx("div",{className:"mt-2 text-slate-300",children:r("settings.helpOpenPanelA")??"En Google Calendar puedes usar el botn flotante (si est activado) o hacer clic en el icono de la extensin para abrir el Side Panel."})]}),b.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[b.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[b.jsx("span",{children:r("settings.helpDriveQ")??"Qu se guarda en Drive?"}),b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:b.jsx("path",{d:"M6 9l6 6 6-6"})})]}),b.jsx("div",{className:"mt-2 text-slate-300",children:r("settings.helpDriveA")??"Un nico archivo JSON en la carpeta oculta appDataFolder (por defecto: subly-state.json)."})]}),b.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[b.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[b.jsx("span",{children:r("settings.helpCalendarQ")??"Qu crea en Google Calendar?"}),b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:b.jsx("path",{d:"M6 9l6 6 6-6"})})]}),b.jsx("div",{className:"mt-2 text-slate-300",children:r("settings.helpCalendarA")??"Eventos recurrentes (todo el da) para cada suscripcin, si sincronizas."})]}),b.jsxs("details",{className:"group rounded-lg border border-white/10 bg-slate-950/40 p-3",children:[b.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between gap-3 font-semibold text-slate-200 [&::-webkit-details-marker]:hidden",children:[b.jsx("span",{children:r("settings.helpTroubleshootingQ")??"Solucin de problemas"}),b.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"shrink-0 text-slate-400 transition-transform group-open:rotate-180","aria-hidden":"true",children:b.jsx("path",{d:"M6 9l6 6 6-6"})})]}),b.jsxs("div",{className:"mt-2 text-slate-300",children:[b.jsx("div",{children:r("settings.helpTroubleshootingA")??"Si algo no funciona, prueba estos pasos:"}),b.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-5",children:[b.jsx("li",{children:r("settings.helpTs1")??"Recarga Google Calendar y vuelve a abrir el panel."}),b.jsx("li",{children:r("settings.helpTs2")??"Revisa los toggles de sincronizacin y el botn flotante en Integraciones."}),b.jsx("li",{children:r("settings.helpTs3")??"Si Drive/Calendar falla, desconecta Google y vuelve a autorizar desde la accin que lo requiera."})]})]})]})]})}),b.jsxs(Fn,{title:r("settings.helpContactTitle")??"Ponte en contacto con nosotros",description:r("settings.helpContactDescription")??"Incluye el diagnstico para resolver incidencias ms rpido.",tone:"amber",children:[b.jsx("div",{className:"text-sm text-slate-300",children:r("settings.helpContactA")??"Para soporte, usa el email de soporte indicado en la ficha de Chrome Web Store. Si vas a reportar un problema, adjunta tambin el Diagnstico."}),b.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2 sm:grid-cols-2",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-200",children:r("settings.helpStatusAutoSync")??"Auto-sync"}),b.jsx("div",{className:t.settings.calendarAutoSyncAll?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.calendarAutoSyncAll?r("common.on")??"ON":r("common.off")??"OFF"})]}),b.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-200",children:r("settings.helpStatusDedicated")??"Calendario dedicado"}),b.jsx("div",{className:"text-xs font-semibold text-emerald-300",children:r("common.on")??"ON"})]}),b.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-200",children:r("settings.helpStatusFloating")??"Botn flotante"}),b.jsx("div",{className:t.settings.calendarFloatingButtonEnabled!==!1?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.calendarFloatingButtonEnabled!==!1?r("common.on")??"ON":r("common.off")??"OFF"})]}),b.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md border border-white/10 bg-slate-950/40 px-3 py-2",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-200",children:r("settings.helpStatusDrive")??"Backup en Drive"}),b.jsx("div",{className:t.settings.driveBackupFileId?"text-xs font-semibold text-emerald-300":"text-xs font-semibold text-slate-400",children:t.settings.driveBackupFileId?r("settings.helpStatusLinked")??"Vinculado":r("settings.helpStatusNotLinked")??"No vinculado"})]})]}),b.jsxs("div",{className:"mt-2 text-xs text-slate-400",children:[r("settings.helpContactLastBackup")??"ltima copia en Drive",": ",v]}),b.jsx("div",{className:"mt-3 text-xs text-slate-400",children:r("settings.helpDiagnosticsA")??"Copia un resumen del estado de la app para adjuntarlo en un reporte (no incluye tokens OAuth)."}),b.jsx("div",{className:"mt-2",children:b.jsx("button",{type:"button",onClick:A,className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",children:r("settings.helpCopyDiagnostics")??"Copiar diagnstico"})})]}),b.jsxs(Fn,{title:r("settings.helpFeedbackTitle")??"Enviar comentarios",description:r("settings.helpFeedbackDescription")??"Ideas, mejoras, bugs o sugerencias.",tone:"amber",children:[b.jsx("textarea",{className:"min-h-[96px] w-full resize-y rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500",placeholder:r("settings.helpFeedbackPlaceholder")??"Cuntanos qu mejoraras, qu esperabas que pasase y cmo reproducirlo",value:y,onChange:L=>w(L.target.value)}),b.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[b.jsx("button",{type:"button",onClick:O,className:"inline-flex rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-xs font-semibold text-slate-200 hover:bg-slate-900",children:r("settings.helpCopyFeedback")??"Copiar comentario"}),b.jsx("div",{className:"text-xs text-slate-400",children:r("settings.helpFeedbackHint")??"Pega el comentario en el email de soporte o en el formulario de la tienda."})]})]})]})]})}const F4=[{path:"/",element:b.jsx(t4,{}),children:[{path:"/",element:b.jsx(t_,{})},{path:"/dashboard",element:b.jsx(t_,{})},{path:"/subscriptions",element:b.jsx(k4,{})},{path:"/calendar",element:b.jsx(d4,{})},{path:"/settings",element:b.jsx(O4,{})}]}],I4=$P(F4);function z4(){const{t}=Ds();return b.jsx("div",{className:"p-4 text-sm",children:t("common.loading")??"Loading"})}PT.createRoot(document.getElementById("root")).render(b.jsx(Km.StrictMode,{children:b.jsx(MO,{children:b.jsx(a4,{children:b.jsx(M.Suspense,{fallback:b.jsx(z4,{}),children:b.jsx(nD,{router:I4})})})})}));
